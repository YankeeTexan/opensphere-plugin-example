var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};
$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.findIndex",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).i}},"es6","es3");$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.repeat",function(a){return a?a:function(a){var b=$jscomp.checkStringArgs(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var d="";a;)if(a&1&&(d+=b),a>>>=1)b+=b;return d}},"es6","es3");$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===c&&(c=b.length);c=Math.max(0,Math.min(c|0,b.length));for(var e=a.length;0<e&&0<c;)if(b[--c]!=a[--e])return!1;return 0>=e}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=b.length,f=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var g=0;g<f&&c<e;)if(b[c++]!=a[g++])return!1;return g>=f}},"es6","es3");
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.polyfill("Math.cosh",function(a){if(a)return a;var b=Math.exp;return function(a){a=Number(a);return(b(a)+b(-a))/2}},"es6","es3");$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,c,d){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}},"es6","es3");
$jscomp.polyfill("Array.prototype.values",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,c){return c})}},"es8","es3");$jscomp.polyfill("Number.EPSILON",function(a){return Math.pow(2,-52)},"es6","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,c){var b=this;b instanceof String&&(b=String(b));var e=b.length;for(c=c||0;c<e;c++)if(b[c]==a||Object.is(b[c],a))return!0;return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6","es3");
$jscomp.polyfill("Math.sign",function(a){return a?a:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}},"es6","es3");$jscomp.polyfill("Array.prototype.entries",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,c){return[a,c]})}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this;goog.isDef=function(a){return void 0!==a};goog.isString=function(a){return"string"==typeof a};goog.isBoolean=function(a){return"boolean"==typeof a};
goog.isNumber=function(a){return"number"==typeof a};goog.exportPath_=function(a,b,c){a=a.split(".");c=c||goog.global;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&goog.isDef(b)?c[d]=b:c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}};
goog.define=function(a,b){COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&void 0===goog.global.CLOSURE_UNCOMPILED_DEFINES.nodeType&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,a)?b=goog.global.CLOSURE_UNCOMPILED_DEFINES[a]:goog.global.CLOSURE_DEFINES&&void 0===goog.global.CLOSURE_DEFINES.nodeType&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,a)&&(b=goog.global.CLOSURE_DEFINES[a]));goog.exportPath_(a,b)};goog.DEBUG=!0;goog.LOCALE="en";
goog.TRUSTED_SITE=!0;goog.STRICT_MODE_COMPATIBLE=!1;goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG;goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1;goog.provide=function(a){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a goog.module.");if(!COMPILED&&goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');goog.constructNamespace_(a)};
goog.constructNamespace_=function(a,b){if(!COMPILED){delete goog.implicitNamespaces_[a];for(var c=a;(c=c.substring(0,c.lastIndexOf(".")))&&!goog.getObjectByName(c);)goog.implicitNamespaces_[c]=!0}goog.exportPath_(a,b)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
goog.module=function(a){if(!goog.isString(a)||!a||-1==a.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+a+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");
goog.moduleLoaderState_.moduleName=a;if(!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a]}};goog.module.get=function(a){return goog.module.getInternal_(a)};goog.module.getInternal_=function(a){if(!COMPILED){if(a in goog.loadedModules_)return goog.loadedModules_[a];if(!goog.implicitNamespaces_[a])return a=goog.getObjectByName(a),null!=a?a:null}return null};goog.moduleLoaderState_=null;
goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_};goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0};
goog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."));};goog.forwardDeclare=function(a){};COMPILED||(goog.isProvided_=function(a){return a in goog.loadedModules_||!goog.implicitNamespaces_[a]&&goog.isDefAndNotNull(goog.getObjectByName(a))},goog.implicitNamespaces_={"goog.module":!0});
goog.getObjectByName=function(a,b){a=a.split(".");b=b||goog.global;for(var c=0;c<a.length;c++)if(b=b[a[c]],!goog.isDefAndNotNull(b))return null;return b};goog.globalize=function(a,b){b=b||goog.global;for(var c in a)b[c]=a[c]};goog.addDependency=function(a,b,c,d){if(goog.DEPENDENCIES_ENABLED){var e=goog.getLoader_();e&&e.addDependency(a,b,c,d)}};goog.ENABLE_DEBUG_LOADER=!0;goog.logToConsole_=function(a){goog.global.console&&goog.global.console.error(a)};
goog.require=function(a){goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_&&goog.getLoader_().earlyProcessLoad(a);if(!COMPILED){if(goog.isProvided_(a)){if(goog.isInModuleLoader_())return goog.module.getInternal_(a)}else if(goog.ENABLE_DEBUG_LOADER){var b=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{var c=goog.getLoader_();c?c.load(a):goog.logToConsole_("Could not load "+a+" because there is no debug loader.")}finally{goog.moduleLoaderState_=b}}return null}};goog.basePath="";
goog.nullFunction=function(){};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};goog.addSingletonGetter=function(a){a.instance_=void 0;a.getInstance=function(){if(a.instance_)return a.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a);return a.instance_=new a}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;
goog.TRANSPILE="detect";goog.TRANSPILER="transpile.js";goog.DEBUG_LOADER="";goog.hasBadLetScoping=null;goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(b){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping};goog.workaroundSafari10EvalBug=function(a){return"(function(){"+a+"\n;})();\n"};
goog.loadModule=function(a){var b=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1};if(goog.isFunction(a))var c=a.call(void 0,{});else if(goog.isString(a))goog.useSafari10Workaround()&&(a=goog.workaroundSafari10EvalBug(a)),c=goog.loadModuleFromSource_.call(void 0,a);else throw Error("Invalid module definition");var d=goog.moduleLoaderState_.moduleName;if(!goog.isString(d)||!d)throw Error('Invalid module name "'+d+'"');goog.moduleLoaderState_.declareLegacyNamespace?
goog.constructNamespace_(d,c):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof c&&null!=c&&Object.seal(c);goog.loadedModules_[d]=c}finally{goog.moduleLoaderState_=b}};goog.loadModuleFromSource_=function(a){eval(a);return{}};goog.normalizePath_=function(a){a=a.split("/");for(var b=0;b<a.length;)"."==a[b]?a.splice(b,1):b&&".."==a[b]&&a[b-1]&&".."!=a[b-1]?a.splice(--b,2):b++;return a.join("/")};
goog.loadFileSync_=function(a){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(a);try{var b=new goog.global.XMLHttpRequest;b.open("get",a,!1);b.send();return 0==b.status||200==b.status?b.responseText:null}catch(c){return null}};
goog.transpile_=function(a,b){var c=goog.global.$jscomp;c||(goog.global.$jscomp=c={});var d=c.transpile;if(!d){var e=goog.basePath+goog.TRANSPILER,f=goog.loadFileSync_(e);if(f){(function(){eval(f+"\n//# sourceURL="+e)}).call(goog.global);if(goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile;
c=goog.global.$jscomp;d=c.transpile}}d||(d=c.transpile=function(a,b){goog.logToConsole_(b+" requires transpilation but no transpiler was found.");return a});return d(a,b)};
goog.typeOf=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b};goog.isNull=function(a){return null===a};goog.isDefAndNotNull=function(a){return null!=a};goog.isArray=function(a){return"array"==goog.typeOf(a)};goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length};goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear};goog.isFunction=function(a){return"function"==goog.typeOf(a)};
goog.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(a){return!!a[goog.UID_PROPERTY_]};goog.removeUid=function(a){null!==a&&"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(b){}};goog.UID_PROPERTY_="closure_uid_"+(1E9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;
goog.removeHashCode=goog.removeUid;goog.cloneObject=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if(a.clone)return a.clone();b="array"==b?[]:{};for(var c in a)b[c]=goog.cloneObject(a[c]);return b}return a};goog.bindNative_=function(a,b,c){return a.call.apply(a.bind,arguments)};
goog.bindJs_=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}};goog.bind=function(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}};goog.mixin=function(a,b){for(var c in b)a[c]=b[c]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};
goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else if(goog.global.eval){if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(d){}if("undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(d){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(a);else{var b=goog.global.document,c=b.createElement("SCRIPT");c.type="text/javascript";c.defer=
!1;c.appendChild(b.createTextNode(a));b.head.appendChild(c);b.head.removeChild(c)}}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;
goog.getCssName=function(a,b){if("."==String(a).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+a);var c=function(a){return goog.cssNameMapping_[a]||a},d=function(a){a=a.split("-");for(var b=[],d=0;d<a.length;d++)b.push(c(a[d]));return b.join("-")};d=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?c:d:function(a){return a};a=b?a+"-"+d(b):d(a);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(a):a};
goog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=b};!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(a,b){b&&(a=a.replace(/\{\$([^}]+)}/g,function(a,d){return null!=b&&d in b?b[d]:a}));return a};goog.getMsgWithFallback=function(a,b){return a};goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)};goog.exportProperty=function(a,b,c){a[b]=c};
goog.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};
goog.base=function(a,b,c){var d=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!d)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(d.superClass_){for(var e=Array(arguments.length-1),f=1;f<arguments.length;f++)e[f-1]=arguments[f];return d.superClass_.constructor.apply(a,e)}e=Array(arguments.length-2);for(f=2;f<arguments.length;f++)e[f-2]=arguments[f];f=!1;for(var g=a.constructor;g;g=
g.superClass_&&g.superClass_.constructor)if(g.prototype[b]===d)f=!0;else if(f)return g.prototype[b].apply(a,e);if(a[b]===d)return a.constructor.prototype[b].apply(a,e);throw Error("goog.base called from a method of one name to a method of a different name");};goog.scope=function(a){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a goog.module.");a.call(goog.global)};COMPILED||(goog.global.COMPILED=COMPILED);
goog.defineClass=function(a,b){var c=b.constructor,d=b.statics;c&&c!=Object.prototype.constructor||(c=function(){throw Error("cannot instantiate an interface (no constructor defined).");});c=goog.defineClass.createSealingConstructor_(c,a);a&&goog.inherits(c,a);delete b.constructor;delete b.statics;goog.defineClass.applyProperties_(c.prototype,b);null!=d&&(d instanceof Function?d(c):goog.defineClass.applyProperties_(c,d));return c};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;
goog.defineClass.createSealingConstructor_=function(a,b){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return a;var c=!goog.defineClass.isUnsealable_(b),d=function(){var b=a.apply(this,arguments)||this;b[goog.UID_PROPERTY_]=b[goog.UID_PROPERTY_];this.constructor===d&&c&&Object.seal instanceof Function&&Object.seal(b);return b};return d};goog.defineClass.isUnsealable_=function(a){return a&&a.prototype&&a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
goog.defineClass.applyProperties_=function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);for(var d=0;d<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;d++)c=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[d],Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};goog.tagUnsealableClass=function(a){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";
goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var a=goog.global.document;return null!=a&&"write"in a},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var a=goog.global.document,b=a.currentScript;a=b?[b]:a.getElementsByTagName("SCRIPT");for(b=a.length-1;0<=b;--b){var c=a[b].src,d=c.lastIndexOf("?");d=-1==d?c.length:d;if("base.js"==c.substr(d-
7,7)){goog.basePath=c.substr(0,d-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(a,b){d?c[a]=!0:b()?c[a]=!1:d=c[a]=!0}function b(a){try{return!!eval(a)}catch(g){return!1}}var c={es3:!1},d=!1,e=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";a("es5",function(){return b("[1,].length==1")});a("es6",function(){var a=e.match(/Edge\/(\d+)(\.\d)*/i);
return a&&15>Number(a[1])?!1:b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')});a("es6-impl",function(){return!0});a("es7",function(){return b("2 ** 2 == 4")});a("es8",function(){return b("async () => 1, true")});return c},goog.Transpiler.prototype.needsTranspile=
function(a){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;this.requiresTranspilation_||(this.requiresTranspilation_=this.createRequiresTranspilation_());if(a in this.requiresTranspilation_)return this.requiresTranspilation_[a];throw Error("Unknown language mode: "+a);},goog.Transpiler.prototype.transpile=function(a,b){return goog.transpile_(a,b)},goog.transpiler_=new goog.Transpiler,goog.DebugLoader=function(){this.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},
written:{},deferred:{}};this.oldIeWaiting_=!1;this.queuedModules_=[];this.lastNonModuleScriptIndex_=0},goog.DebugLoader.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader.prototype.earlyProcessLoad=function(a){goog.DebugLoader.IS_OLD_IE_&&this.maybeProcessDeferredDep_(a)},goog.DebugLoader.prototype.load=function(a){var b=this.getPathFromDeps_(a);if(b){var c=function(a){if(!(a in f.written||a in f.visited)){f.visited[a]=!0;if(a in f.requires)for(var b in f.requires[a])if(!g.isProvided(b))if(b in
f.nameToPath)c(f.nameToPath[b]);else throw Error("Undefined nameToPath for "+b);a in e||(e[a]=!0,d.push(a))}},d=[],e={},f=this.dependencies_,g=this;c(b);for(a=0;a<d.length;a++)b=d[a],this.dependencies_.written[b]=!0;for(a=0;a<d.length;a++)if(b=d[a]){var h=f.loadFlags[b]||{},k=h.lang||"es3";k=this.getTranspiler().needsTranspile(k);"goog"==h.module||k?this.importProcessedScript_(goog.basePath+b,"goog"==h.module,k):this.importScript_(goog.basePath+b)}else throw Error("Undefined script input");}else throw a=
"goog.require could not find: "+a,this.logToConsole(a),Error(a);},goog.DebugLoader.prototype.addDependency=function(a,b,c,d){var e;a=a.replace(/\\/g,"/");var f=this.dependencies_;d&&"boolean"!==typeof d||(d=d?{module:"goog"}:{});for(var g=0;e=b[g];g++)f.nameToPath[e]=a,f.loadFlags[a]=d;for(d=0;b=c[d];d++)a in f.requires||(f.requires[a]={}),f.requires[a][b]=!0},goog.DebugLoader.prototype.importScript_=function(a,b){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.bind(this.writeScriptTag_,this))(a,b)&&(this.dependencies_.written[a]=
!0)},goog.DebugLoader.prototype.importProcessedScript_=function(a,b,c){this.importScript_("",'goog.debugLoader_.retrieveAndExec_("'+a+'", '+b+", "+c+");")},goog.DebugLoader.prototype.retrieveAndExec_=function(a,b,c){if(!COMPILED){var d=a;a=this.normalizePath(a);var e=goog.global.CLOSURE_IMPORT_SCRIPT||goog.bind(this.writeScriptTag_,this),f=this.loadFileSync(a);if(null==f)throw Error('Load of "'+a+'" failed');c&&(f=this.getTranspiler().transpile(f,a));f=b?this.wrapModule_(a,f):f+("\n//# sourceURL="+
a);goog.DebugLoader.IS_OLD_IE_&&this.oldIeWaiting_?(this.dependencies_.deferred[d]=f,this.queuedModules_.push(d)):e(a,f)}},goog.DebugLoader.prototype.wrapModule_=function(a,b){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(b+"\n//# sourceURL="+a+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+b+"\n;return exports});\n//# sourceURL="+a+"\n"},goog.DebugLoader.prototype.loadQueuedModules_=function(){var a=this.queuedModules_.length;
if(0<a){var b=this.queuedModules_;this.queuedModules_=[];for(var c=0;c<a;c++)this.maybeProcessDeferredPath_(b[c])}this.oldIeWaiting_=!1},goog.DebugLoader.prototype.maybeProcessDeferredDep_=function(a){this.isDeferredModule_(a)&&this.allDepsAreAvailable_(a)&&(a=this.getPathFromDeps_(a),this.maybeProcessDeferredPath_(goog.basePath+a))},goog.DebugLoader.prototype.isDeferredModule_=function(a){var b=(a=this.getPathFromDeps_(a))&&this.dependencies_.loadFlags[a]||{},c=b.lang||"es3";return a&&("goog"==b.module||
this.getTranspiler().needsTranspile(c))?goog.basePath+a in this.dependencies_.deferred:!1},goog.DebugLoader.prototype.allDepsAreAvailable_=function(a){if((a=this.getPathFromDeps_(a))&&a in this.dependencies_.requires)for(var b in this.dependencies_.requires[a])if(!this.isProvided(b)&&!this.isDeferredModule_(b))return!1;return!0},goog.DebugLoader.prototype.maybeProcessDeferredPath_=function(a){if(a in this.dependencies_.deferred){var b=this.dependencies_.deferred[a];delete this.dependencies_.deferred[a];
goog.globalEval(b)}},goog.DebugLoader.prototype.writeScriptSrcNode_=function(a){goog.global.document.write('<script type="text/javascript" src="'+a+'">\x3c/script>')},goog.DebugLoader.prototype.appendScriptSrcNode_=function(a){var b=goog.global.document,c=b.createElement("script");c.type="text/javascript";c.src=a;c.defer=!1;c.async=!1;b.head.appendChild(c)},goog.DebugLoader.prototype.writeScriptTag_=function(a,b){if(this.inHtmlDocument()){var c=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&
"complete"==c.readyState){if(/\bdeps.js$/.test(a))return!1;throw Error('Cannot write "'+a+'" after document load');}void 0===b?goog.DebugLoader.IS_OLD_IE_?(this.oldIeWaiting_=!0,b=" onreadystatechange='goog.debugLoader_.onScriptLoad_(this, "+ ++this.lastNonModuleScriptIndex_+")' ",c.write('<script type="text/javascript" src="'+a+'"'+b+">\x3c/script>")):goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?this.appendScriptSrcNode_(a):this.writeScriptSrcNode_(a):c.write('<script type="text/javascript">'+this.protectScriptTag_(b)+
"\x3c/script>");return!0}return!1},goog.DebugLoader.prototype.protectScriptTag_=function(a){return a.replace(/<\/(SCRIPT)/ig,"\\x3c/$1")},goog.DebugLoader.prototype.onScriptLoad_=function(a,b){"complete"==a.readyState&&this.lastNonModuleScriptIndex_==b&&this.loadQueuedModules_();return!0},goog.DebugLoader.prototype.getPathFromDeps_=function(a){return a in this.dependencies_.nameToPath?this.dependencies_.nameToPath[a]:null},goog.DebugLoader.prototype.getTranspiler=function(){return goog.transpiler_},
goog.DebugLoader.prototype.isProvided=function(a){return goog.isProvided_(a)},goog.DebugLoader.prototype.inHtmlDocument=function(){return goog.inHtmlDocument_()},goog.DebugLoader.prototype.logToConsole=function(a){goog.logToConsole_(a)},goog.DebugLoader.prototype.loadFileSync=function(a){return goog.loadFileSync_(a)},goog.DebugLoader.prototype.normalizePath=function(a){return goog.normalizePath_(a)},goog.debugLoader_=null,goog.registerDebugLoader=function(a){if(goog.debugLoader_)throw Error("Debug loader already registered!");
if(!(a instanceof goog.DebugLoader))throw Error("Not a goog.DebugLoader.");goog.debugLoader_=a},goog.getLoader_=function(){if(!goog.debugLoader_&&goog.DEBUG_LOADER)throw Error("Loaded debug loader file but no loader was registered!");goog.debugLoader_||(goog.debugLoader_=new goog.DebugLoader);return goog.debugLoader_},function(){if(goog.DEBUG_LOADER){var a=new goog.DebugLoader;a.importScript_(goog.basePath+goog.DEBUG_LOADER)}goog.global.CLOSURE_NO_DEPS||(a=a||new goog.DebugLoader,goog.DEBUG_LOADER||
goog.registerDebugLoader(a),a.importScript_(goog.basePath+"deps.js"))}());var tigerData=[{f:"#fff",s:{c:"#000",w:.172},p:[{t:"M",p:[77.696,284.285]},{t:"C",p:[77.696,284.285,77.797,286.179,76.973,286.16]},{t:"C",p:[76.149,286.141,59.695,238.066,39.167,240.309]},{t:"C",p:[39.167,240.309,56.95,232.956,77.696,284.285]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.172},p:[{t:"M",p:[81.226,281.262]},{t:"C",p:[81.226,281.262,80.677,283.078,79.908,282.779]},{t:"C",p:[79.14,282.481,80.023,231.675,59.957,226.801]},{t:"C",p:[59.957,226.801,79.18,225.937,81.226,281.262]},{t:"z",p:[]}]},
{f:"#fff",s:{c:"#000",w:.172},p:[{t:"M",p:[108.716,323.59]},{t:"C",p:[108.716,323.59,110.352,324.55,109.882,325.227]},{t:"C",p:[109.411,325.904,60.237,313.102,50.782,331.459]},{t:"C",p:[50.782,331.459,54.461,312.572,108.716,323.59]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.172},p:[{t:"M",p:[105.907,333.801]},{t:"C",p:[105.907,333.801,107.763,334.197,107.529,334.988]},{t:"C",p:[107.296,335.779,56.593,339.121,53.403,359.522]},{t:"C",p:[53.403,359.522,50.945,340.437,105.907,333.801]},{t:"z",p:[]}]},{f:"#fff",
s:{c:"#000",w:.172},p:[{t:"M",p:[101.696,328.276]},{t:"C",p:[101.696,328.276,103.474,328.939,103.128,329.687]},{t:"C",p:[102.782,330.435,52.134,326.346,46.002,346.064]},{t:"C",p:[46.002,346.064,46.354,326.825,101.696,328.276]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.172},p:[{t:"M",p:[90.991,310.072]},{t:"C",p:[90.991,310.072,92.299,311.446,91.66,311.967]},{t:"C",p:[91.021,312.488,47.278,286.634,33.131,301.676]},{t:"C",p:[33.131,301.676,41.872,284.533,90.991,310.072]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",
w:.172},p:[{t:"M",p:[83.446,314.263]},{t:"C",p:[83.446,314.263,84.902,315.48,84.326,316.071]},{t:"C",p:[83.75,316.661,37.362,295.922,25.008,312.469]},{t:"C",p:[25.008,312.469,31.753,294.447,83.446,314.263]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.172},p:[{t:"M",p:[80.846,318.335]},{t:"C",p:[80.846,318.335,82.454,319.343,81.964,320.006]},{t:"C",p:[81.474,320.669,32.692,306.446,22.709,324.522]},{t:"C",p:[22.709,324.522,26.934,305.749,80.846,318.335]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.172},p:[{t:"M",
p:[91.58,318.949]},{t:"C",p:[91.58,318.949,92.702,320.48,92.001,320.915]},{t:"C",p:[91.3,321.35,51.231,290.102,35.273,303.207]},{t:"C",p:[35.273,303.207,46.138,287.326,91.58,318.949]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.172},p:[{t:"M",p:[71.8,290]},{t:"C",p:[71.8,290,72.4,291.8,71.6,292]},{t:"C",p:[70.8,292.2,42.2,250.2,22.999,257.8]},{t:"C",p:[22.999,257.8,38.2,246,71.8,290]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.172},p:[{t:"M",p:[72.495,296.979]},{t:"C",p:[72.495,296.979,73.47,298.608,72.731,
298.975]},{t:"C",p:[71.993,299.343,35.008,264.499,17.899,276.061]},{t:"C",p:[17.899,276.061,30.196,261.261,72.495,296.979]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.172},p:[{t:"M",p:[72.38,301.349]},{t:"C",p:[72.38,301.349,73.502,302.88,72.801,303.315]},{t:"C",p:[72.1,303.749,32.031,272.502,16.073,285.607]},{t:"C",p:[16.073,285.607,26.938,269.726,72.38,301.349]},{t:"z",p:[]}]},{f:"#fff",s:"#000",p:[{t:"M",p:[70.17,303.065]},{t:"C",p:[70.673,309.113,71.661,315.682,73.4,318.801]},{t:"C",p:[73.4,318.801,
69.8,331.201,78.6,344.401]},{t:"C",p:[78.6,344.401,78.2,351.601,79.8,354.801]},{t:"C",p:[79.8,354.801,83.8,363.201,88.6,364.001]},{t:"C",p:[92.484,364.648,101.207,367.717,111.068,369.121]},{t:"C",p:[111.068,369.121,128.2,383.201,125,396.001]},{t:"C",p:[125,396.001,124.6,412.401,121,414.001]},{t:"C",p:[121,414.001,132.6,402.801,123,419.601]},{t:"L",p:[118.6,438.401]},{t:"C",p:[118.6,438.401,144.2,416.801,128.6,435.201]},{t:"L",p:[118.6,461.201]},{t:"C",p:[118.6,461.201,138.2,442.801,131,451.201]},
{t:"L",p:[127.8,460.001]},{t:"C",p:[127.8,460.001,171,432.801,140.2,462.401]},{t:"C",p:[140.2,462.401,148.2,458.801,152.6,461.601]},{t:"C",p:[152.6,461.601,159.4,460.401,158.6,462.001]},{t:"C",p:[158.6,462.001,137.8,472.401,134.2,490.801]},{t:"C",p:[134.2,490.801,142.6,480.801,139.4,491.601]},{t:"L",p:[139.8,503.201]},{t:"C",p:[139.8,503.201,143.8,481.601,143.4,519.201]},{t:"C",p:[143.4,519.201,162.6,501.201,151,522.001]},{t:"L",p:[151,538.801]},{t:"C",p:[151,538.801,166.2,522.401,159.8,535.201]},
{t:"C",p:[159.8,535.201,169.8,526.401,165.8,541.601]},{t:"C",p:[165.8,541.601,165,552.001,169.4,540.801]},{t:"C",p:[169.4,540.801,185.4,510.201,179.4,536.401]},{t:"C",p:[179.4,536.401,178.6,555.601,183.4,540.801]},{t:"C",p:[183.4,540.801,183.8,551.201,193,558.401]},{t:"C",p:[193,558.401,191.8,507.601,204.6,543.601]},{t:"L",p:[208.6,560.001]},{t:"C",p:[208.6,560.001,211.4,550.801,211,545.601]},{t:"C",p:[211,545.601,225.8,529.201,219,553.601]},{t:"C",p:[219,553.601,234.2,530.801,231,544.001]},{t:"C",
p:[231,544.001,223.4,560.001,225,564.801]},{t:"C",p:[225,564.801,241.8,530.001,243,528.401]},{t:"C",p:[243,528.401,241,570.802,251.8,534.801]},{t:"C",p:[251.8,534.801,257.4,546.801,254.6,551.201]},{t:"C",p:[254.6,551.201,262.6,543.201,261.8,540.001]},{t:"C",p:[261.8,540.001,266.4,531.801,269.2,545.401]},{t:"C",p:[269.2,545.401,271,554.801,272.6,551.601]},{t:"C",p:[272.6,551.601,276.6,575.602,277.8,552.801]},{t:"C",p:[277.8,552.801,279.4,539.201,272.2,527.601]},{t:"C",p:[272.2,527.601,273,524.401,
270.2,520.401]},{t:"C",p:[270.2,520.401,283.8,542.001,276.6,513.201]},{t:"C",p:[276.6,513.201,287.801,521.201,289.001,521.201]},{t:"C",p:[289.001,521.201,275.4,498.001,284.2,502.801]},{t:"C",p:[284.2,502.801,279,492.401,297.001,504.401]},{t:"C",p:[297.001,504.401,281,488.401,298.601,498.001]},{t:"C",p:[298.601,498.001,306.601,504.401,299.001,494.401]},{t:"C",p:[299.001,494.401,284.6,478.401,306.601,496.401]},{t:"C",p:[306.601,496.401,318.201,512.801,319.001,515.601]},{t:"C",p:[319.001,515.601,309.001,
486.401,304.601,483.601]},{t:"C",p:[304.601,483.601,313.001,447.201,354.201,462.801]},{t:"C",p:[354.201,462.801,361.001,480.001,365.401,461.601]},{t:"C",p:[365.401,461.601,378.201,455.201,389.401,482.801]},{t:"C",p:[389.401,482.801,393.401,469.201,392.601,466.401]},{t:"C",p:[392.601,466.401,399.401,467.601,398.601,466.401]},{t:"C",p:[398.601,466.401,411.801,470.801,413.001,470.001]},{t:"C",p:[413.001,470.001,419.801,476.801,420.201,473.201]},{t:"C",p:[420.201,473.201,429.401,476.001,427.401,472.401]},
{t:"C",p:[427.401,472.401,436.201,488.001,436.601,491.601]},{t:"L",p:[439.001,477.601]},{t:"L",p:[441.001,480.401]},{t:"C",p:[441.001,480.401,442.601,472.801,441.801,471.601]},{t:"C",p:[441.001,470.401,461.801,478.401,466.601,499.201]},{t:"L",p:[468.601,507.601]},{t:"C",p:[468.601,507.601,474.601,492.801,473.001,488.801]},{t:"C",p:[473.001,488.801,478.201,489.601,478.601,494.001]},{t:"C",p:[478.601,494.001,482.601,470.801,477.801,464.801]},{t:"C",p:[477.801,464.801,482.201,464.001,483.401,467.601]},
{t:"L",p:[483.401,460.401]},{t:"C",p:[483.401,460.401,490.601,461.201,490.601,458.801]},{t:"C",p:[490.601,458.801,495.001,454.801,497.001,459.601]},{t:"C",p:[497.001,459.601,484.601,424.401,503.001,443.601]},{t:"C",p:[503.001,443.601,510.201,454.401,506.601,435.601]},{t:"C",p:[503.001,416.801,499.001,415.201,503.801,414.801]},{t:"C",p:[503.801,414.801,504.601,411.201,502.601,409.601]},{t:"C",p:[500.601,408.001,503.801,409.601,503.801,409.601]},{t:"C",p:[503.801,409.601,508.601,413.601,503.401,391.601]},
{t:"C",p:[503.401,391.601,509.801,393.201,497.801,364.001]},{t:"C",p:[497.801,364.001,500.601,361.601,496.601,353.201]},{t:"C",p:[496.601,353.201,504.601,357.601,507.401,356.001]},{t:"C",p:[507.401,356.001,507.001,354.401,503.801,350.401]},{t:"C",p:[503.801,350.401,482.201,295.6,502.601,317.601]},{t:"C",p:[502.601,317.601,514.451,331.151,508.051,308.351]},{t:"C",p:[508.051,308.351,498.94,284.341,499.717,280.045]},{t:"L",p:[70.17,303.065]},{t:"z",p:[]}]},{f:"#cc7226",s:"#000",p:[{t:"M",p:[499.717,
280.245]},{t:"C",p:[500.345,280.426,502.551,281.55,503.801,283.2]},{t:"C",p:[503.801,283.2,510.601,294,505.401,275.6]},{t:"C",p:[505.401,275.6,496.201,246.8,505.001,258]},{t:"C",p:[505.001,258,511.001,265.2,507.801,251.6]},{t:"C",p:[503.936,235.173,501.401,228.8,501.401,228.8]},{t:"C",p:[501.401,228.8,513.001,233.6,486.201,194]},{t:"L",p:[495.001,197.6]},{t:"C",p:[495.001,197.6,475.401,158,453.801,152.8]},{t:"L",p:[445.801,146.8]},{t:"C",p:[445.801,146.8,484.201,108.8,471.401,72]},{t:"C",p:[471.401,
72,464.601,66.8,455.001,76]},{t:"C",p:[455.001,76,448.601,80.8,442.601,79.2]},{t:"C",p:[442.601,79.2,411.801,80.4,409.801,80.4]},{t:"C",p:[407.801,80.4,373.001,43.2,307.401,60.8]},{t:"C",p:[307.401,60.8,302.201,62.8,297.801,61.6]},{t:"C",p:[297.801,61.6,279.4,45.6,230.6,68.4]},{t:"C",p:[230.6,68.4,220.6,70.4,219,70.4]},{t:"C",p:[217.4,70.4,214.6,70.4,206.6,76.8]},{t:"C",p:[198.6,83.2,198.2,84,196.2,85.6]},{t:"C",p:[196.2,85.6,179.8,96.8,175,97.6]},{t:"C",p:[175,97.6,163.4,104,159,114]},{t:"L",p:[155.4,
115.2]},{t:"C",p:[155.4,115.2,153.8,122.4,153.4,123.6]},{t:"C",p:[153.4,123.6,148.6,127.2,147.8,132.8]},{t:"C",p:[147.8,132.8,139,138.8,139.4,143.2]},{t:"C",p:[139.4,143.2,137.8,148.4,137,153.2]},{t:"C",p:[137,153.2,129.8,158,130.6,160.8]},{t:"C",p:[130.6,160.8,123,174.8,124.2,181.6]},{t:"C",p:[124.2,181.6,117.8,181.2,115,183.6]},{t:"C",p:[115,183.6,114.2,188.4,112.6,188.8]},{t:"C",p:[112.6,188.8,109.8,190,112.2,194]},{t:"C",p:[112.2,194,110.6,196.8,110.2,198.4]},{t:"C",p:[110.2,198.4,111,201.2,106.6,
206.8]},{t:"C",p:[106.6,206.8,100.2,225.6,102.2,230.8]},{t:"C",p:[102.2,230.8,102.6,235.6,99.8,237.2]},{t:"C",p:[99.8,237.2,96.2,236.8,104.6,248.8]},{t:"C",p:[104.6,248.8,105.4,250,102.2,252.4]},{t:"C",p:[102.2,252.4,85,256,82.6,272.4]},{t:"C",p:[82.6,272.4,69,287.2,69,292.4]},{t:"C",p:[69,294.705,69.271,297.852,69.97,302.465]},{t:"C",p:[69.97,302.465,69.4,310.801,97,311.601]},{t:"C",p:[124.6,312.401,499.717,280.245,499.717,280.245]},{t:"z",p:[]}]},{f:"#cc7226",s:null,p:[{t:"M",p:[84.4,302.6]},{t:"C",
p:[59.4,263.2,73.8,319.601,73.8,319.601]},{t:"C",p:[82.6,354.001,212.2,316.401,212.2,316.401]},{t:"C",p:[212.2,316.401,381.001,286,392.201,282]},{t:"C",p:[403.401,278,498.601,284.4,498.601,284.4]},{t:"L",p:[493.001,267.6]},{t:"C",p:[428.201,221.2,409.001,244.4,395.401,240.4]},{t:"C",p:[381.801,236.4,384.201,246,381.001,246.8]},{t:"C",p:[377.801,247.6,338.601,222.8,332.201,223.6]},{t:"C",p:[325.801,224.4,300.459,200.649,315.401,232.4]},{t:"C",p:[331.401,266.4,257,271.6,240.2,260.4]},{t:"C",p:[223.4,
249.2,247.4,278.8,247.4,278.8]},{t:"C",p:[265.8,298.8,231.4,282,231.4,282]},{t:"C",p:[197,269.2,173,294.8,169.8,295.6]},{t:"C",p:[166.6,296.4,161.8,299.6,161,293.2]},{t:"C",p:[160.2,286.8,152.69,270.099,121,296.4]},{t:"C",p:[101,313.001,87.2,291,87.2,291]},{t:"L",p:[84.4,302.6]},{t:"z",p:[]}]},{f:"#e87f3a",s:null,p:[{t:"M",p:[333.51,225.346]},{t:"C",p:[327.11,226.146,301.743,202.407,316.71,234.146]},{t:"C",p:[333.31,269.346,258.31,273.346,241.51,262.146]},{t:"C",p:[224.709,250.946,248.71,280.546,
248.71,280.546]},{t:"C",p:[267.11,300.546,232.709,283.746,232.709,283.746]},{t:"C",p:[198.309,270.946,174.309,296.546,171.109,297.346]},{t:"C",p:[167.909,298.146,163.109,301.346,162.309,294.946]},{t:"C",p:[161.509,288.546,154.13,272.012,122.309,298.146]},{t:"C",p:[101.073,315.492,87.582,294.037,87.582,294.037]},{t:"L",p:[84.382,304.146]},{t:"C",p:[59.382,264.346,74.454,322.655,74.454,322.655]},{t:"C",p:[83.255,357.056,213.509,318.146,213.509,318.146]},{t:"C",p:[213.509,318.146,382.31,287.746,393.51,
283.746]},{t:"C",p:[404.71,279.746,499.038,286.073,499.038,286.073]},{t:"L",p:[493.51,268.764]},{t:"C",p:[428.71,222.364,410.31,246.146,396.71,242.146]},{t:"C",p:[383.11,238.146,385.51,247.746,382.31,248.546]},{t:"C",p:[379.11,249.346,339.91,224.546,333.51,225.346]},{t:"z",p:[]}]},{f:"#ea8c4d",s:null,p:[{t:"M",p:[334.819,227.091]},{t:"C",p:[328.419,227.891,303.685,203.862,318.019,235.891]},{t:"C",p:[334.219,272.092,259.619,275.092,242.819,263.892]},{t:"C",p:[226.019,252.692,250.019,282.292,250.019,
282.292]},{t:"C",p:[268.419,302.292,234.019,285.492,234.019,285.492]},{t:"C",p:[199.619,272.692,175.618,298.292,172.418,299.092]},{t:"C",p:[169.218,299.892,164.418,303.092,163.618,296.692]},{t:"C",p:[162.818,290.292,155.57,273.925,123.618,299.892]},{t:"C",p:[101.145,317.983,87.964,297.074,87.964,297.074]},{t:"L",p:[84.364,305.692]},{t:"C",p:[60.564,266.692,75.109,325.71,75.109,325.71]},{t:"C",p:[83.909,360.11,214.819,319.892,214.819,319.892]},{t:"C",p:[214.819,319.892,383.619,289.492,394.819,285.492]},
{t:"C",p:[406.019,281.492,499.474,287.746,499.474,287.746]},{t:"L",p:[494.02,269.928]},{t:"C",p:[429.219,223.528,411.619,247.891,398.019,243.891]},{t:"C",p:[384.419,239.891,386.819,249.491,383.619,250.292]},{t:"C",p:[380.419,251.092,341.219,226.291,334.819,227.091]},{t:"z",p:[]}]},{f:"#ec9961",s:null,p:[{t:"M",p:[336.128,228.837]},{t:"C",p:[329.728,229.637,304.999,205.605,319.328,237.637]},{t:"C",p:[336.128,275.193,260.394,276.482,244.128,265.637]},{t:"C",p:[227.328,254.437,251.328,284.037,251.328,
284.037]},{t:"C",p:[269.728,304.037,235.328,287.237,235.328,287.237]},{t:"C",p:[200.928,274.437,176.928,300.037,173.728,300.837]},{t:"C",p:[170.528,301.637,165.728,304.837,164.928,298.437]},{t:"C",p:[164.128,292.037,157.011,275.839,124.927,301.637]},{t:"C",p:[101.218,320.474,88.345,300.11,88.345,300.11]},{t:"L",p:[84.345,307.237]},{t:"C",p:[62.545,270.437,75.764,328.765,75.764,328.765]},{t:"C",p:[84.564,363.165,216.128,321.637,216.128,321.637]},{t:"C",p:[216.128,321.637,384.928,291.237,396.129,287.237]},
{t:"C",p:[407.329,283.237,499.911,289.419,499.911,289.419]},{t:"L",p:[494.529,271.092]},{t:"C",p:[429.729,224.691,412.929,249.637,399.329,245.637]},{t:"C",p:[385.728,241.637,388.128,251.237,384.928,252.037]},{t:"C",p:[381.728,252.837,342.528,228.037,336.128,228.837]},{t:"z",p:[]}]},{f:"#eea575",s:null,p:[{t:"M",p:[337.438,230.583]},{t:"C",p:[331.037,231.383,306.814,207.129,320.637,239.383]},{t:"C",p:[337.438,278.583,262.237,278.583,245.437,267.383]},{t:"C",p:[228.637,256.183,252.637,285.783,252.637,
285.783]},{t:"C",p:[271.037,305.783,236.637,288.983,236.637,288.983]},{t:"C",p:[202.237,276.183,178.237,301.783,175.037,302.583]},{t:"C",p:[171.837,303.383,167.037,306.583,166.237,300.183]},{t:"C",p:[165.437,293.783,158.452,277.752,126.237,303.383]},{t:"C",p:[101.291,322.965,88.727,303.146,88.727,303.146]},{t:"L",p:[84.327,308.783]},{t:"C",p:[64.527,273.982,76.418,331.819,76.418,331.819]},{t:"C",p:[85.218,366.22,217.437,323.383,217.437,323.383]},{t:"C",p:[217.437,323.383,386.238,292.983,397.438,288.983]},
{t:"C",p:[408.638,284.983,500.347,291.092,500.347,291.092]},{t:"L",p:[495.038,272.255]},{t:"C",p:[430.238,225.855,414.238,251.383,400.638,247.383]},{t:"C",p:[387.038,243.383,389.438,252.983,386.238,253.783]},{t:"C",p:[383.038,254.583,343.838,229.783,337.438,230.583]},{t:"z",p:[]}]},{f:"#f1b288",s:null,p:[{t:"M",p:[338.747,232.328]},{t:"C",p:[332.347,233.128,306.383,209.677,321.947,241.128]},{t:"C",p:[341.147,279.928,263.546,280.328,246.746,269.128]},{t:"C",p:[229.946,257.928,253.946,287.528,253.946,
287.528]},{t:"C",p:[272.346,307.528,237.946,290.728,237.946,290.728]},{t:"C",p:[203.546,277.928,179.546,303.528,176.346,304.328]},{t:"C",p:[173.146,305.128,168.346,308.328,167.546,301.928]},{t:"C",p:[166.746,295.528,159.892,279.665,127.546,305.128]},{t:"C",p:[101.364,325.456,89.109,306.183,89.109,306.183]},{t:"L",p:[84.309,310.328]},{t:"C",p:[66.309,277.128,77.073,334.874,77.073,334.874]},{t:"C",p:[85.873,369.274,218.746,325.128,218.746,325.128]},{t:"C",p:[218.746,325.128,387.547,294.728,398.747,
290.728]},{t:"C",p:[409.947,286.728,500.783,292.764,500.783,292.764]},{t:"L",p:[495.547,273.419]},{t:"C",p:[430.747,227.019,415.547,253.128,401.947,249.128]},{t:"C",p:[388.347,245.128,390.747,254.728,387.547,255.528]},{t:"C",p:[384.347,256.328,345.147,231.528,338.747,232.328]},{t:"z",p:[]}]},{f:"#f3bf9c",s:null,p:[{t:"M",p:[340.056,234.073]},{t:"C",p:[333.655,234.873,307.313,211.613,323.255,242.873]},{t:"C",p:[343.656,282.874,264.855,282.074,248.055,270.874]},{t:"C",p:[231.255,259.674,255.255,289.274,
255.255,289.274]},{t:"C",p:[273.655,309.274,239.255,292.474,239.255,292.474]},{t:"C",p:[204.855,279.674,180.855,305.274,177.655,306.074]},{t:"C",p:[174.455,306.874,169.655,310.074,168.855,303.674]},{t:"C",p:[168.055,297.274,161.332,281.578,128.855,306.874]},{t:"C",p:[101.436,327.947,89.491,309.219,89.491,309.219]},{t:"L",p:[84.291,311.874]},{t:"C",p:[68.291,281.674,77.727,337.929,77.727,337.929]},{t:"C",p:[86.527,372.329,220.055,326.874,220.055,326.874]},{t:"C",p:[220.055,326.874,388.856,296.474,
400.056,292.474]},{t:"C",p:[411.256,288.474,501.22,294.437,501.22,294.437]},{t:"L",p:[496.056,274.583]},{t:"C",p:[431.256,228.183,416.856,254.874,403.256,250.874]},{t:"C",p:[389.656,246.873,392.056,256.474,388.856,257.274]},{t:"C",p:[385.656,258.074,346.456,233.273,340.056,234.073]},{t:"z",p:[]}]},{f:"#f5ccb0",s:null,p:[{t:"M",p:[341.365,235.819]},{t:"C",p:[334.965,236.619,307.523,213.944,324.565,244.619]},{t:"C",p:[346.565,284.219,266.164,283.819,249.364,272.619]},{t:"C",p:[232.564,261.419,256.564,
291.019,256.564,291.019]},{t:"C",p:[274.964,311.019,240.564,294.219,240.564,294.219]},{t:"C",p:[206.164,281.419,182.164,307.019,178.964,307.819]},{t:"C",p:[175.764,308.619,170.964,311.819,170.164,305.419]},{t:"C",p:[169.364,299.019,162.773,283.492,130.164,308.619]},{t:"C",p:[101.509,330.438,89.873,312.256,89.873,312.256]},{t:"L",p:[84.273,313.419]},{t:"C",p:[69.872,285.019,78.382,340.983,78.382,340.983]},{t:"C",p:[87.182,375.384,221.364,328.619,221.364,328.619]},{t:"C",p:[221.364,328.619,390.165,
298.219,401.365,294.219]},{t:"C",p:[412.565,290.219,501.656,296.11,501.656,296.11]},{t:"L",p:[496.565,275.746]},{t:"C",p:[431.765,229.346,418.165,256.619,404.565,252.619]},{t:"C",p:[390.965,248.619,393.365,258.219,390.165,259.019]},{t:"C",p:[386.965,259.819,347.765,235.019,341.365,235.819]},{t:"z",p:[]}]},{f:"#f8d8c4",s:null,p:[{t:"M",p:[342.674,237.565]},{t:"C",p:[336.274,238.365,308.832,215.689,325.874,246.365]},{t:"C",p:[347.874,285.965,267.474,285.565,250.674,274.365]},{t:"C",p:[233.874,263.165,
257.874,292.765,257.874,292.765]},{t:"C",p:[276.274,312.765,241.874,295.965,241.874,295.965]},{t:"C",p:[207.473,283.165,183.473,308.765,180.273,309.565]},{t:"C",p:[177.073,310.365,172.273,313.565,171.473,307.165]},{t:"C",p:[170.673,300.765,164.214,285.405,131.473,310.365]},{t:"C",p:[101.582,332.929,90.255,315.293,90.255,315.293]},{t:"L",p:[84.255,314.965]},{t:"C",p:[70.654,288.564,79.037,344.038,79.037,344.038]},{t:"C",p:[87.837,378.438,222.673,330.365,222.673,330.365]},{t:"C",p:[222.673,330.365,
391.474,299.965,402.674,295.965]},{t:"C",p:[413.874,291.965,502.093,297.783,502.093,297.783]},{t:"L",p:[497.075,276.91]},{t:"C",p:[432.274,230.51,419.474,258.365,405.874,254.365]},{t:"C",p:[392.274,250.365,394.674,259.965,391.474,260.765]},{t:"C",p:[388.274,261.565,349.074,236.765,342.674,237.565]},{t:"z",p:[]}]},{f:"#fae5d7",s:null,p:[{t:"M",p:[343.983,239.31]},{t:"C",p:[337.583,240.11,310.529,217.223,327.183,248.11]},{t:"C",p:[349.183,288.91,268.783,287.31,251.983,276.11]},{t:"C",p:[235.183,264.91,
259.183,294.51,259.183,294.51]},{t:"C",p:[277.583,314.51,243.183,297.71,243.183,297.71]},{t:"C",p:[208.783,284.91,184.783,310.51,181.583,311.31]},{t:"C",p:[178.382,312.11,173.582,315.31,172.782,308.91]},{t:"C",p:[171.982,302.51,165.654,287.318,132.782,312.11]},{t:"C",p:[101.655,335.42,90.637,318.329,90.637,318.329]},{t:"L",p:[84.236,316.51]},{t:"C",p:[71.236,292.51,79.691,347.093,79.691,347.093]},{t:"C",p:[88.491,381.493,223.983,332.11,223.983,332.11]},{t:"C",p:[223.983,332.11,392.783,301.71,403.983,
297.71]},{t:"C",p:[415.183,293.71,502.529,299.456,502.529,299.456]},{t:"L",p:[497.583,278.074]},{t:"C",p:[432.783,231.673,420.783,260.11,407.183,256.11]},{t:"C",p:[393.583,252.11,395.983,261.71,392.783,262.51]},{t:"C",p:[389.583,263.31,350.383,238.51,343.983,239.31]},{t:"z",p:[]}]},{f:"#fcf2eb",s:null,p:[{t:"M",p:[345.292,241.055]},{t:"C",p:[338.892,241.855,312.917,218.411,328.492,249.855]},{t:"C",p:[349.692,292.656,270.092,289.056,253.292,277.856]},{t:"C",p:[236.492,266.656,260.492,296.256,260.492,
296.256]},{t:"C",p:[278.892,316.256,244.492,299.456,244.492,299.456]},{t:"C",p:[210.092,286.656,186.092,312.256,182.892,313.056]},{t:"C",p:[179.692,313.856,174.892,317.056,174.092,310.656]},{t:"C",p:[173.292,304.256,167.095,289.232,134.092,313.856]},{t:"C",p:[101.727,337.911,91.018,321.365,91.018,321.365]},{t:"L",p:[84.218,318.056]},{t:"C",p:[71.418,294.856,80.346,350.147,80.346,350.147]},{t:"C",p:[89.146,384.547,225.292,333.856,225.292,333.856]},{t:"C",p:[225.292,333.856,394.093,303.456,405.293,
299.456]},{t:"C",p:[416.493,295.456,502.965,301.128,502.965,301.128]},{t:"L",p:[498.093,279.237]},{t:"C",p:[433.292,232.837,422.093,261.856,408.493,257.856]},{t:"C",p:[394.893,253.855,397.293,263.456,394.093,264.256]},{t:"C",p:[390.892,265.056,351.692,240.255,345.292,241.055]},{t:"z",p:[]}]},{f:"#fff",s:null,p:[{t:"M",p:[84.2,319.601]},{t:"C",p:[71.4,297.6,81,353.201,81,353.201]},{t:"C",p:[89.8,387.601,226.6,335.601,226.6,335.601]},{t:"C",p:[226.6,335.601,395.401,305.2,406.601,301.2]},{t:"C",p:[417.801,
297.2,503.401,302.8,503.401,302.8]},{t:"L",p:[498.601,280.4]},{t:"C",p:[433.801,234,423.401,263.6,409.801,259.6]},{t:"C",p:[396.201,255.6,398.601,265.2,395.401,266]},{t:"C",p:[392.201,266.8,353.001,242,346.601,242.8]},{t:"C",p:[340.201,243.6,314.981,219.793,329.801,251.6]},{t:"C",p:[352.028,299.307,269.041,289.227,254.6,279.6]},{t:"C",p:[237.8,268.4,261.8,298,261.8,298]},{t:"C",p:[280.2,318.001,245.8,301.2,245.8,301.2]},{t:"C",p:[211.4,288.4,187.4,314.001,184.2,314.801]},{t:"C",p:[181,315.601,176.2,
318.801,175.4,312.401]},{t:"C",p:[174.6,306,168.535,291.144,135.4,315.601]},{t:"C",p:[101.8,340.401,91.4,324.401,91.4,324.401]},{t:"L",p:[84.2,319.601]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[125.8,349.601]},{t:"C",p:[125.8,349.601,118.6,361.201,139.4,374.401]},{t:"C",p:[139.4,374.401,140.8,375.801,122.8,371.601]},{t:"C",p:[122.8,371.601,116.6,369.601,115,359.201]},{t:"C",p:[115,359.201,110.2,354.801,105.4,349.201]},{t:"C",p:[100.6,343.601,125.8,349.601,125.8,349.601]},{t:"z",p:[]}]},{f:"#ccc",
s:null,p:[{t:"M",p:[265.8,302]},{t:"C",p:[265.8,302,283.498,328.821,282.9,333.601]},{t:"C",p:[281.6,344.001,281.4,353.601,284.6,357.601]},{t:"C",p:[287.801,361.601,296.601,394.801,296.601,394.801]},{t:"C",p:[296.601,394.801,296.201,396.001,308.601,358.001]},{t:"C",p:[308.601,358.001,320.201,342.001,300.201,323.601]},{t:"C",p:[300.201,323.601,265,294.8,265.8,302]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[145.8,376.401]},{t:"C",p:[145.8,376.401,157,383.601,142.6,414.801]},{t:"L",p:[149,412.401]},
{t:"C",p:[149,412.401,148.2,423.601,145,426.001]},{t:"L",p:[152.2,422.801]},{t:"C",p:[152.2,422.801,157,430.801,153,435.601]},{t:"C",p:[153,435.601,169.8,443.601,169,450.001]},{t:"C",p:[169,450.001,175.4,442.001,171.4,435.601]},{t:"C",p:[167.4,429.201,160.2,433.201,161,414.801]},{t:"L",p:[152.2,418.001]},{t:"C",p:[152.2,418.001,157.8,409.201,157.8,402.801]},{t:"L",p:[149.8,405.201]},{t:"C",p:[149.8,405.201,165.269,378.623,154.6,377.201]},{t:"C",p:[148.6,376.401,145.8,376.401,145.8,376.401]},{t:"z",
p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[178.2,393.201]},{t:"C",p:[178.2,393.201,181,388.801,178.2,389.601]},{t:"C",p:[175.4,390.401,144.2,405.201,138.2,414.801]},{t:"C",p:[138.2,414.801,172.6,390.401,178.2,393.201]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[188.6,401.201]},{t:"C",p:[188.6,401.201,191.4,396.801,188.6,397.601]},{t:"C",p:[185.8,398.401,154.6,413.201,148.6,422.801]},{t:"C",p:[148.6,422.801,183,398.401,188.6,401.201]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[201.8,386.001]},{t:"C",
p:[201.8,386.001,204.6,381.601,201.8,382.401]},{t:"C",p:[199,383.201,167.8,398.001,161.8,407.601]},{t:"C",p:[161.8,407.601,196.2,383.201,201.8,386.001]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[178.6,429.601]},{t:"C",p:[178.6,429.601,178.6,423.601,175.8,424.401]},{t:"C",p:[173,425.201,137,442.801,131,452.401]},{t:"C",p:[131,452.401,173,426.801,178.6,429.601]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[179.8,418.801]},{t:"C",p:[179.8,418.801,181,414.001,178.2,414.801]},{t:"C",p:[176.2,414.801,
149.8,426.401,143.8,436.001]},{t:"C",p:[143.8,436.001,173.4,414.401,179.8,418.801]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[165.4,466.401]},{t:"L",p:[155.4,474.001]},{t:"C",p:[155.4,474.001,165.8,466.401,169.4,467.601]},{t:"C",p:[169.4,467.601,162.6,478.801,161.8,484.001]},{t:"C",p:[161.8,484.001,172.2,471.201,177.8,471.601]},{t:"C",p:[177.8,471.601,185.4,472.001,185.4,482.801]},{t:"C",p:[185.4,482.801,191,472.401,194.2,472.801]},{t:"C",p:[194.2,472.801,195.4,479.201,194.2,486.001]},{t:"C",p:[194.2,
486.001,198.2,478.401,202.2,480.001]},{t:"C",p:[202.2,480.001,208.6,478.001,207.8,489.601]},{t:"C",p:[207.8,489.601,207.8,500.001,207,502.801]},{t:"C",p:[207,502.801,212.6,476.401,215,476.001]},{t:"C",p:[215,476.001,223,474.801,227.8,483.601]},{t:"C",p:[227.8,483.601,223.8,476.001,228.6,478.001]},{t:"C",p:[228.6,478.001,239.4,479.601,242.6,486.401]},{t:"C",p:[242.6,486.401,235.8,474.401,241.4,477.601]},{t:"C",p:[241.4,477.601,248.2,477.601,249.4,484.001]},{t:"C",p:[249.4,484.001,257.8,505.201,259.8,
506.801]},{t:"C",p:[259.8,506.801,252.2,485.201,253.8,485.201]},{t:"C",p:[253.8,485.201,251.8,473.201,257,488.001]},{t:"C",p:[257,488.001,253.8,474.001,259.4,474.801]},{t:"C",p:[265,475.601,269.4,485.601,277.8,483.201]},{t:"C",p:[277.8,483.201,287.401,488.801,289.401,419.601]},{t:"L",p:[165.4,466.401]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[170.2,373.601]},{t:"C",p:[170.2,373.601,185,367.601,225,373.601]},{t:"C",p:[225,373.601,232.2,374.001,239,365.201]},{t:"C",p:[245.8,356.401,272.6,349.201,
279,351.201]},{t:"L",p:[288.601,357.601]},{t:"L",p:[289.401,358.801]},{t:"C",p:[289.401,358.801,301.801,369.201,302.201,376.801]},{t:"C",p:[302.601,384.401,287.801,432.401,278.2,448.401]},{t:"C",p:[268.6,464.401,259,476.801,239.8,474.401]},{t:"C",p:[239.8,474.401,219,470.401,193.4,474.401]},{t:"C",p:[193.4,474.401,164.2,472.801,161.4,464.801]},{t:"C",p:[158.6,456.801,172.6,441.601,172.6,441.601]},{t:"C",p:[172.6,441.601,177,433.201,175.8,418.801]},{t:"C",p:[174.6,404.401,175,376.401,170.2,373.601]},
{t:"z",p:[]}]},{f:"#e5668c",s:null,p:[{t:"M",p:[192.2,375.601]},{t:"C",p:[200.6,394.001,171,459.201,171,459.201]},{t:"C",p:[169,460.801,183.66,466.846,193.8,464.401]},{t:"C",p:[204.746,461.763,245,466.001,245,466.001]},{t:"C",p:[268.6,450.401,281.4,406.001,281.4,406.001]},{t:"C",p:[281.4,406.001,291.801,382.001,274.2,378.801]},{t:"C",p:[256.6,375.601,192.2,375.601,192.2,375.601]},{t:"z",p:[]}]},{f:"#b23259",s:null,p:[{t:"M",p:[190.169,406.497]},{t:"C",p:[193.495,393.707,195.079,381.906,192.2,375.601]},
{t:"C",p:[192.2,375.601,254.6,382.001,265.8,361.201]},{t:"C",p:[270.041,353.326,284.801,384.001,284.4,393.601]},{t:"C",p:[284.4,393.601,221.4,408.001,206.6,396.801]},{t:"L",p:[190.169,406.497]},{t:"z",p:[]}]},{f:"#a5264c",s:null,p:[{t:"M",p:[194.6,422.801]},{t:"C",p:[194.6,422.801,196.6,430.001,194.2,434.001]},{t:"C",p:[194.2,434.001,192.6,434.801,191.4,435.201]},{t:"C",p:[191.4,435.201,192.6,438.801,198.6,440.401]},{t:"C",p:[198.6,440.401,200.6,444.801,203,445.201]},{t:"C",p:[205.4,445.601,210.2,
451.201,214.2,450.001]},{t:"C",p:[218.2,448.801,229.4,444.801,229.4,444.801]},{t:"C",p:[229.4,444.801,235,441.601,243.8,445.201]},{t:"C",p:[243.8,445.201,246.175,444.399,246.6,440.401]},{t:"C",p:[247.1,435.701,250.2,432.001,252.2,430.001]},{t:"C",p:[254.2,428.001,263.8,415.201,262.6,414.801]},{t:"C",p:[261.4,414.401,194.6,422.801,194.6,422.801]},{t:"z",p:[]}]},{f:"#ff727f",s:"#000",p:[{t:"M",p:[190.2,374.401]},{t:"C",p:[190.2,374.401,187.4,396.801,190.6,405.201]},{t:"C",p:[193.8,413.601,193,415.601,
192.2,419.601]},{t:"C",p:[191.4,423.601,195.8,433.601,201.4,439.601]},{t:"L",p:[213.4,441.201]},{t:"C",p:[213.4,441.201,228.6,437.601,237.8,440.401]},{t:"C",p:[237.8,440.401,246.794,441.744,250.2,426.801]},{t:"C",p:[250.2,426.801,255,420.401,262.2,417.601]},{t:"C",p:[269.4,414.801,276.6,373.201,272.6,365.201]},{t:"C",p:[268.6,357.201,254.2,352.801,238.2,368.401]},{t:"C",p:[222.2,384.001,220.2,367.201,190.2,374.401]},{t:"z",p:[]}]},{f:"#ffc",s:{c:"#000",w:.5},p:[{t:"M",p:[191.8,449.201]},{t:"C",p:[191.8,
449.201,191,447.201,186.6,446.801]},{t:"C",p:[186.6,446.801,164.2,443.201,155.8,430.801]},{t:"C",p:[155.8,430.801,149,425.201,153.4,436.801]},{t:"C",p:[153.4,436.801,163.8,457.201,170.6,460.001]},{t:"C",p:[170.6,460.001,187,464.001,191.8,449.201]},{t:"z",p:[]}]},{f:"#cc3f4c",s:null,p:[{t:"M",p:[271.742,385.229]},{t:"C",p:[272.401,377.323,274.354,368.709,272.6,365.201]},{t:"C",p:[266.154,352.307,249.181,357.695,238.2,368.401]},{t:"C",p:[222.2,384.001,220.2,367.201,190.2,374.401]},{t:"C",p:[190.2,374.401,
188.455,388.364,189.295,398.376]},{t:"C",p:[189.295,398.376,226.6,386.801,227.4,392.401]},{t:"C",p:[227.4,392.401,229,389.201,238.2,389.201]},{t:"C",p:[247.4,389.201,270.142,388.029,271.742,385.229]},{t:"z",p:[]}]},{f:null,s:{c:"#a51926",w:2},p:[{t:"M",p:[228.6,375.201]},{t:"C",p:[228.6,375.201,233.4,380.001,229.8,389.601]},{t:"C",p:[229.8,389.601,215.4,405.601,217.4,419.601]}]},{f:"#ffc",s:{c:"#000",w:.5},p:[{t:"M",p:[180.6,460.001]},{t:"C",p:[180.6,460.001,176.2,447.201,185,454.001]},{t:"C",p:[185,
454.001,189.8,456.001,188.6,457.601]},{t:"C",p:[187.4,459.201,181.8,463.201,180.6,460.001]},{t:"z",p:[]}]},{f:"#ffc",s:{c:"#000",w:.5},p:[{t:"M",p:[185.64,461.201]},{t:"C",p:[185.64,461.201,182.12,450.961,189.16,456.401]},{t:"C",p:[189.16,456.401,193.581,458.849,192.04,459.281]},{t:"C",p:[187.48,460.561,192.04,463.121,185.64,461.201]},{t:"z",p:[]}]},{f:"#ffc",s:{c:"#000",w:.5},p:[{t:"M",p:[190.44,461.201]},{t:"C",p:[190.44,461.201,186.92,450.961,193.96,456.401]},{t:"C",p:[193.96,456.401,198.335,458.711,
196.84,459.281]},{t:"C",p:[193.48,460.561,196.84,463.121,190.44,461.201]},{t:"z",p:[]}]},{f:"#ffc",s:{c:"#000",w:.5},p:[{t:"M",p:[197.04,461.401]},{t:"C",p:[197.04,461.401,193.52,451.161,200.56,456.601]},{t:"C",p:[200.56,456.601,204.943,458.933,203.441,459.481]},{t:"C",p:[200.48,460.561,203.441,463.321,197.04,461.401]},{t:"z",p:[]}]},{f:"#ffc",s:{c:"#000",w:.5},p:[{t:"M",p:[203.52,461.321]},{t:"C",p:[203.52,461.321,200,451.081,207.041,456.521]},{t:"C",p:[207.041,456.521,210.881,458.121,209.921,459.401]},
{t:"C",p:[208.961,460.681,209.921,463.241,203.52,461.321]},{t:"z",p:[]}]},{f:"#ffc",s:{c:"#000",w:.5},p:[{t:"M",p:[210.2,462.001]},{t:"C",p:[210.2,462.001,205.4,449.601,214.6,456.001]},{t:"C",p:[214.6,456.001,219.4,458.001,218.2,459.601]},{t:"C",p:[217,461.201,218.2,464.401,210.2,462.001]},{t:"z",p:[]}]},{f:null,s:{c:"#a5264c",w:2},p:[{t:"M",p:[181.8,444.801]},{t:"C",p:[181.8,444.801,195,442.001,201,445.201]},{t:"C",p:[201,445.201,207,446.401,208.2,446.001]},{t:"C",p:[209.4,445.601,212.6,445.201,
212.6,445.201]}]},{f:null,s:{c:"#a5264c",w:2},p:[{t:"M",p:[215.8,453.601]},{t:"C",p:[215.8,453.601,227.8,440.001,239.8,444.401]},{t:"C",p:[246.816,446.974,245.8,443.601,246.6,440.801]},{t:"C",p:[247.4,438.001,247.6,433.801,252.6,430.801]}]},{f:"#ffc",s:{c:"#000",w:.5},p:[{t:"M",p:[233,437.601]},{t:"C",p:[233,437.601,229,426.801,226.2,439.601]},{t:"C",p:[223.4,452.401,220.2,456.001,218.6,458.801]},{t:"C",p:[218.6,458.801,218.6,464.001,227,463.601]},{t:"C",p:[227,463.601,237.8,463.201,238.2,460.401]},
{t:"C",p:[238.6,457.601,237,446.001,233,437.601]},{t:"z",p:[]}]},{f:null,s:{c:"#a5264c",w:2},p:[{t:"M",p:[247,444.801]},{t:"C",p:[247,444.801,250.6,442.401,253,443.601]}]},{f:null,s:{c:"#a5264c",w:2},p:[{t:"M",p:[253.5,428.401]},{t:"C",p:[253.5,428.401,256.4,423.501,261.2,422.701]}]},{f:"#b2b2b2",s:null,p:[{t:"M",p:[174.2,465.201]},{t:"C",p:[174.2,465.201,192.2,468.401,196.6,466.801]},{t:"C",p:[196.6,466.801,205.4,466.801,197,468.801]},{t:"C",p:[197,468.801,184.2,468.801,176.2,467.601]},{t:"C",p:[176.2,
467.601,164.6,462.001,174.2,465.201]},{t:"z",p:[]}]},{f:"#ffc",s:{c:"#000",w:.5},p:[{t:"M",p:[188.2,372.001]},{t:"C",p:[188.2,372.001,205.8,372.001,207.8,372.801]},{t:"C",p:[207.8,372.801,215,403.601,211.4,411.201]},{t:"C",p:[211.4,411.201,210.2,414.001,207.4,408.401]},{t:"C",p:[207.4,408.401,189,375.601,185.8,373.601]},{t:"C",p:[182.6,371.601,187,372.001,188.2,372.001]},{t:"z",p:[]}]},{f:"#ffc",s:{c:"#000",w:.5},p:[{t:"M",p:[111.1,369.301]},{t:"C",p:[111.1,369.301,120,371.001,132.6,373.601]},{t:"C",
p:[132.6,373.601,137.4,396.001,140.6,400.801]},{t:"C",p:[143.8,405.601,140.2,405.601,136.6,402.801]},{t:"C",p:[133,400.001,118.2,386.001,116.2,381.601]},{t:"C",p:[114.2,377.201,111.1,369.301,111.1,369.301]},{t:"z",p:[]}]},{f:"#ffc",s:{c:"#000",w:.5},p:[{t:"M",p:[132.961,373.818]},{t:"C",p:[132.961,373.818,138.761,375.366,139.77,377.581]},{t:"C",p:[140.778,379.795,138.568,383.092,138.568,383.092]},{t:"C",p:[138.568,383.092,137.568,386.397,136.366,384.235]},{t:"C",p:[135.164,382.072,132.292,374.412,
132.961,373.818]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[133,373.601]},{t:"C",p:[133,373.601,136.6,378.801,140.2,378.801]},{t:"C",p:[143.8,378.801,144.182,378.388,147,379.001]},{t:"C",p:[151.6,380.001,151.2,378.001,157.8,379.201]},{t:"C",p:[160.44,379.681,163,378.801,165.8,380.001]},{t:"C",p:[168.6,381.201,171.8,380.401,173,378.401]},{t:"C",p:[174.2,376.401,179,372.201,179,372.201]},{t:"C",p:[179,372.201,166.2,374.001,163.4,374.801]},{t:"C",p:[163.4,374.801,141,376.001,133,373.601]},{t:"z",
p:[]}]},{f:"#ffc",s:{c:"#000",w:.5},p:[{t:"M",p:[177.6,373.801]},{t:"C",p:[177.6,373.801,171.15,377.301,170.75,379.701]},{t:"C",p:[170.35,382.101,176,385.801,176,385.801]},{t:"C",p:[176,385.801,178.75,390.401,179.35,388.001]},{t:"C",p:[179.95,385.601,178.4,374.201,177.6,373.801]},{t:"z",p:[]}]},{f:"#ffc",s:{c:"#000",w:.5},p:[{t:"M",p:[140.115,379.265]},{t:"C",p:[140.115,379.265,147.122,390.453,147.339,379.242]},{t:"C",p:[147.339,379.242,147.896,377.984,146.136,377.962]},{t:"C",p:[140.061,377.886,
141.582,373.784,140.115,379.265]},{t:"z",p:[]}]},{f:"#ffc",s:{c:"#000",w:.5},p:[{t:"M",p:[147.293,379.514]},{t:"C",p:[147.293,379.514,155.214,390.701,154.578,379.421]},{t:"C",p:[154.578,379.421,154.585,379.089,152.832,378.936]},{t:"C",p:[148.085,378.522,148.43,374.004,147.293,379.514]},{t:"z",p:[]}]},{f:"#ffc",s:{c:"#000",w:.5},p:[{t:"M",p:[154.506,379.522]},{t:"C",p:[154.506,379.522,162.466,390.15,161.797,380.484]},{t:"C",p:[161.797,380.484,161.916,379.251,160.262,378.95]},{t:"C",p:[156.37,378.244,
156.159,374.995,154.506,379.522]},{t:"z",p:[]}]},{f:"#ffc",s:{c:"#000",w:.5},p:[{t:"M",p:[161.382,379.602]},{t:"C",p:[161.382,379.602,169.282,391.163,169.63,381.382]},{t:"C",p:[169.63,381.382,171.274,380.004,169.528,379.782]},{t:"C",p:[163.71,379.042,164.508,374.588,161.382,379.602]},{t:"z",p:[]}]},{f:"#e5e5b2",s:null,p:[{t:"M",p:[125.208,383.132]},{t:"L",p:[117.55,381.601]},{t:"C",p:[114.95,376.601,112.85,370.451,112.85,370.451]},{t:"C",p:[112.85,370.451,119.2,371.451,131.7,374.251]},{t:"C",p:[131.7,
374.251,132.576,377.569,134.048,383.364]},{t:"L",p:[125.208,383.132]},{t:"z",p:[]}]},{f:"#e5e5b2",s:null,p:[{t:"M",p:[190.276,378.47]},{t:"C",p:[188.61,375.964,187.293,374.206,186.643,373.8]},{t:"C",p:[183.63,371.917,187.773,372.294,188.902,372.294]},{t:"C",p:[188.902,372.294,205.473,372.294,207.356,373.047]},{t:"C",p:[207.356,373.047,207.88,375.289,208.564,378.68]},{t:"C",p:[208.564,378.68,198.476,376.67,190.276,378.47]},{t:"z",p:[]}]},{f:"#cc7226",s:null,p:[{t:"M",p:[243.88,240.321]},{t:"C",p:[271.601,
244.281,297.121,208.641,298.881,198.96]},{t:"C",p:[300.641,189.28,290.521,177.4,290.521,177.4]},{t:"C",p:[291.841,174.32,287.001,160.24,281.721,151]},{t:"C",p:[276.441,141.76,260.54,142.734,243,141.76]},{t:"C",p:[227.16,140.88,208.68,164.2,207.36,165.96]},{t:"C",p:[206.04,167.72,212.2,206.001,213.52,211.721]},{t:"C",p:[214.84,217.441,212.2,243.841,212.2,243.841]},{t:"C",p:[246.44,234.741,216.16,236.361,243.88,240.321]},{t:"z",p:[]}]},{f:"#ea8e51",s:null,p:[{t:"M",p:[208.088,166.608]},{t:"C",p:[206.792,
168.336,212.84,205.921,214.136,211.537]},{t:"C",p:[215.432,217.153,212.84,243.073,212.84,243.073]},{t:"C",p:[245.512,234.193,216.728,235.729,243.944,239.617]},{t:"C",p:[271.161,243.505,296.217,208.513,297.945,199.008]},{t:"C",p:[299.673,189.504,289.737,177.84,289.737,177.84]},{t:"C",p:[291.033,174.816,286.281,160.992,281.097,151.92]},{t:"C",p:[275.913,142.848,260.302,143.805,243.08,142.848]},{t:"C",p:[227.528,141.984,209.384,164.88,208.088,166.608]},{t:"z",p:[]}]},{f:"#efaa7c",s:null,p:[{t:"M",p:[208.816,
167.256]},{t:"C",p:[207.544,168.952,213.48,205.841,214.752,211.353]},{t:"C",p:[216.024,216.865,213.48,242.305,213.48,242.305]},{t:"C",p:[244.884,233.145,217.296,235.097,244.008,238.913]},{t:"C",p:[270.721,242.729,295.313,208.385,297.009,199.056]},{t:"C",p:[298.705,189.728,288.953,178.28,288.953,178.28]},{t:"C",p:[290.225,175.312,285.561,161.744,280.473,152.84]},{t:"C",p:[275.385,143.936,260.063,144.875,243.16,143.936]},{t:"C",p:[227.896,143.088,210.088,165.56,208.816,167.256]},{t:"z",p:[]}]},{f:"#f4c6a8",
s:null,p:[{t:"M",p:[209.544,167.904]},{t:"C",p:[208.296,169.568,214.12,205.761,215.368,211.169]},{t:"C",p:[216.616,216.577,214.12,241.537,214.12,241.537]},{t:"C",p:[243.556,232.497,217.864,234.465,244.072,238.209]},{t:"C",p:[270.281,241.953,294.409,208.257,296.073,199.105]},{t:"C",p:[297.737,189.952,288.169,178.72,288.169,178.72]},{t:"C",p:[289.417,175.808,284.841,162.496,279.849,153.76]},{t:"C",p:[274.857,145.024,259.824,145.945,243.24,145.024]},{t:"C",p:[228.264,144.192,210.792,166.24,209.544,167.904]},
{t:"z",p:[]}]},{f:"#f9e2d3",s:null,p:[{t:"M",p:[210.272,168.552]},{t:"C",p:[209.048,170.184,214.76,205.681,215.984,210.985]},{t:"C",p:[217.208,216.289,214.76,240.769,214.76,240.769]},{t:"C",p:[242.628,231.849,218.432,233.833,244.136,237.505]},{t:"C",p:[269.841,241.177,293.505,208.129,295.137,199.152]},{t:"C",p:[296.769,190.176,287.385,179.16,287.385,179.16]},{t:"C",p:[288.609,176.304,284.121,163.248,279.225,154.68]},{t:"C",p:[274.329,146.112,259.585,147.015,243.32,146.112]},{t:"C",p:[228.632,145.296,
211.496,166.92,210.272,168.552]},{t:"z",p:[]}]},{f:"#fff",s:null,p:[{t:"M",p:[244.2,236.8]},{t:"C",p:[269.4,240.4,292.601,208,294.201,199.2]},{t:"C",p:[295.801,190.4,286.601,179.6,286.601,179.6]},{t:"C",p:[287.801,176.8,283.4,164,278.6,155.6]},{t:"C",p:[273.8,147.2,259.346,148.086,243.4,147.2]},{t:"C",p:[229,146.4,212.2,167.6,211,169.2]},{t:"C",p:[209.8,170.8,215.4,205.6,216.6,210.8]},{t:"C",p:[217.8,216,215.4,240,215.4,240]},{t:"C",p:[240.9,231.4,219,233.2,244.2,236.8]},{t:"z",p:[]}]},{f:"#ccc",
s:null,p:[{t:"M",p:[290.601,202.8]},{t:"C",p:[290.601,202.8,262.8,210.4,251.2,208.8]},{t:"C",p:[251.2,208.8,235.4,202.2,226.6,224]},{t:"C",p:[226.6,224,223,231.2,221,233.2]},{t:"C",p:[219,235.2,290.601,202.8,290.601,202.8]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[294.401,200.6]},{t:"C",p:[294.401,200.6,265.4,212.8,255.4,212.4]},{t:"C",p:[255.4,212.4,239,207.8,230.6,222.4]},{t:"C",p:[230.6,222.4,222.2,231.6,219,233.2]},{t:"C",p:[219,233.2,218.6,234.8,225,230.8]},{t:"L",p:[235.4,236]},{t:"C",p:[235.4,
236,250.2,245.6,259.8,229.6]},{t:"C",p:[259.8,229.6,263.8,218.4,263.8,216.4]},{t:"C",p:[263.8,214.4,285,208.8,286.601,208.4]},{t:"C",p:[288.201,208,294.801,203.8,294.401,200.6]},{t:"z",p:[]}]},{f:"#99cc32",s:null,p:[{t:"M",p:[247,236.514]},{t:"C",p:[240.128,236.514,231.755,232.649,231.755,226.4]},{t:"C",p:[231.755,220.152,240.128,213.887,247,213.887]},{t:"C",p:[253.874,213.887,259.446,218.952,259.446,225.2]},{t:"C",p:[259.446,231.449,253.874,236.514,247,236.514]},{t:"z",p:[]}]},{f:"#659900",s:null,
p:[{t:"M",p:[243.377,219.83]},{t:"C",p:[238.531,220.552,233.442,222.055,233.514,221.839]},{t:"C",p:[235.054,217.22,241.415,213.887,247,213.887]},{t:"C",p:[251.296,213.887,255.084,215.865,257.32,218.875]},{t:"C",p:[257.32,218.875,252.004,218.545,243.377,219.83]},{t:"z",p:[]}]},{f:"#fff",s:null,p:[{t:"M",p:[255.4,219.6]},{t:"C",p:[255.4,219.6,251,216.4,251,218.6]},{t:"C",p:[251,218.6,254.6,223,255.4,219.6]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[245.4,227.726]},{t:"C",p:[242.901,227.726,240.875,
225.7,240.875,223.2]},{t:"C",p:[240.875,220.701,242.901,218.675,245.4,218.675]},{t:"C",p:[247.9,218.675,249.926,220.701,249.926,223.2]},{t:"C",p:[249.926,225.7,247.9,227.726,245.4,227.726]},{t:"z",p:[]}]},{f:"#cc7226",s:null,p:[{t:"M",p:[141.4,214.4]},{t:"C",p:[141.4,214.4,138.2,193.2,140.6,188.8]},{t:"C",p:[140.6,188.8,151.4,178.8,151,175.2]},{t:"C",p:[151,175.2,150.6,157.2,149.4,156.4]},{t:"C",p:[148.2,155.6,140.6,149.6,134.6,156]},{t:"C",p:[134.6,156,124.2,174,125,180.4]},{t:"L",p:[125,182.4]},
{t:"C",p:[125,182.4,117.4,182,115.8,184]},{t:"C",p:[115.8,184,114.6,189.2,113.4,189.6]},{t:"C",p:[113.4,189.6,110.6,192,112.6,194.8]},{t:"C",p:[112.6,194.8,110.6,197.2,111,201.2]},{t:"L",p:[118.6,205.2]},{t:"C",p:[118.6,205.2,120.6,219.6,131.4,224.8]},{t:"C",p:[136.236,227.129,139.4,220.4,141.4,214.4]},{t:"z",p:[]}]},{f:"#fff",s:null,p:[{t:"M",p:[140.4,212.56]},{t:"C",p:[140.4,212.56,137.52,193.48,139.68,189.52]},{t:"C",p:[139.68,189.52,149.4,180.52,149.04,177.28]},{t:"C",p:[149.04,177.28,148.68,
161.08,147.6,160.36]},{t:"C",p:[146.52,159.64,139.68,154.24,134.28,160]},{t:"C",p:[134.28,160,124.92,176.2,125.64,181.96]},{t:"L",p:[125.64,183.76]},{t:"C",p:[125.64,183.76,118.8,183.4,117.36,185.2]},{t:"C",p:[117.36,185.2,116.28,189.88,115.2,190.24]},{t:"C",p:[115.2,190.24,112.68,192.4,114.48,194.92]},{t:"C",p:[114.48,194.92,112.68,197.08,113.04,200.68]},{t:"L",p:[119.88,204.28]},{t:"C",p:[119.88,204.28,121.68,217.24,131.4,221.92]},{t:"C",p:[135.752,224.015,138.6,217.96,140.4,212.56]},{t:"z",p:[]}]},
{f:"#eb955c",s:null,p:[{t:"M",p:[148.95,157.39]},{t:"C",p:[147.86,156.53,140.37,150.76,134.52,157]},{t:"C",p:[134.52,157,124.38,174.55,125.16,180.79]},{t:"L",p:[125.16,182.74]},{t:"C",p:[125.16,182.74,117.75,182.35,116.19,184.3]},{t:"C",p:[116.19,184.3,115.02,189.37,113.85,189.76]},{t:"C",p:[113.85,189.76,111.12,192.1,113.07,194.83]},{t:"C",p:[113.07,194.83,111.12,197.17,111.51,201.07]},{t:"L",p:[118.92,204.97]},{t:"C",p:[118.92,204.97,120.87,219.01,131.4,224.08]},{t:"C",p:[136.114,226.35,139.2,219.79,
141.15,213.94]},{t:"C",p:[141.15,213.94,138.03,193.27,140.37,188.98]},{t:"C",p:[140.37,188.98,150.9,179.23,150.51,175.72]},{t:"C",p:[150.51,175.72,150.12,158.17,148.95,157.39]},{t:"z",p:[]}]},{f:"#f2b892",s:null,p:[{t:"M",p:[148.5,158.38]},{t:"C",p:[147.52,157.46,140.14,151.92,134.44,158]},{t:"C",p:[134.44,158,124.56,175.1,125.32,181.18]},{t:"L",p:[125.32,183.08]},{t:"C",p:[125.32,183.08,118.1,182.7,116.58,184.6]},{t:"C",p:[116.58,184.6,115.44,189.54,114.3,189.92]},{t:"C",p:[114.3,189.92,111.64,192.2,
113.54,194.86]},{t:"C",p:[113.54,194.86,111.64,197.14,112.02,200.94]},{t:"L",p:[119.24,204.74]},{t:"C",p:[119.24,204.74,121.14,218.42,131.4,223.36]},{t:"C",p:[135.994,225.572,139,219.18,140.9,213.48]},{t:"C",p:[140.9,213.48,137.86,193.34,140.14,189.16]},{t:"C",p:[140.14,189.16,150.4,179.66,150.02,176.24]},{t:"C",p:[150.02,176.24,149.64,159.14,148.5,158.38]},{t:"z",p:[]}]},{f:"#f8dcc8",s:null,p:[{t:"M",p:[148.05,159.37]},{t:"C",p:[147.18,158.39,139.91,153.08,134.36,159]},{t:"C",p:[134.36,159,124.74,
175.65,125.48,181.57]},{t:"L",p:[125.48,183.42]},{t:"C",p:[125.48,183.42,118.45,183.05,116.97,184.9]},{t:"C",p:[116.97,184.9,115.86,189.71,114.75,190.08]},{t:"C",p:[114.75,190.08,112.16,192.3,114.01,194.89]},{t:"C",p:[114.01,194.89,112.16,197.11,112.53,200.81]},{t:"L",p:[119.56,204.51]},{t:"C",p:[119.56,204.51,121.41,217.83,131.4,222.64]},{t:"C",p:[135.873,224.794,138.8,218.57,140.65,213.02]},{t:"C",p:[140.65,213.02,137.69,193.41,139.91,189.34]},{t:"C",p:[139.91,189.34,149.9,180.09,149.53,176.76]},
{t:"C",p:[149.53,176.76,149.16,160.11,148.05,159.37]},{t:"z",p:[]}]},{f:"#fff",s:null,p:[{t:"M",p:[140.4,212.46]},{t:"C",p:[140.4,212.46,137.52,193.48,139.68,189.52]},{t:"C",p:[139.68,189.52,149.4,180.52,149.04,177.28]},{t:"C",p:[149.04,177.28,148.68,161.08,147.6,160.36]},{t:"C",p:[146.84,159.32,139.68,154.24,134.28,160]},{t:"C",p:[134.28,160,124.92,176.2,125.64,181.96]},{t:"L",p:[125.64,183.76]},{t:"C",p:[125.64,183.76,118.8,183.4,117.36,185.2]},{t:"C",p:[117.36,185.2,116.28,189.88,115.2,190.24]},
{t:"C",p:[115.2,190.24,112.68,192.4,114.48,194.92]},{t:"C",p:[114.48,194.92,112.68,197.08,113.04,200.68]},{t:"L",p:[119.88,204.28]},{t:"C",p:[119.88,204.28,121.68,217.24,131.4,221.92]},{t:"C",p:[135.752,224.015,138.6,217.86,140.4,212.46]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[137.3,206.2]},{t:"C",p:[137.3,206.2,115.7,196,114.8,195.2]},{t:"C",p:[114.8,195.2,123.9,203.4,124.7,203.4]},{t:"C",p:[125.5,203.4,137.3,206.2,137.3,206.2]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[120.2,200]},{t:"C",
p:[120.2,200,138.6,203.6,138.6,208]},{t:"C",p:[138.6,210.912,138.357,224.331,133,222.8]},{t:"C",p:[124.6,220.4,128.2,206,120.2,200]},{t:"z",p:[]}]},{f:"#99cc32",s:null,p:[{t:"M",p:[128.6,203.8]},{t:"C",p:[128.6,203.8,137.578,205.274,138.6,208]},{t:"C",p:[139.2,209.6,139.863,217.908,134.4,219]},{t:"C",p:[129.848,219.911,127.618,209.69,128.6,203.8]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[214.595,246.349]},{t:"C",p:[214.098,244.607,215.409,244.738,217.2,244.2]},{t:"C",p:[219.2,243.6,231.4,239.8,
232.2,237.2]},{t:"C",p:[233,234.6,246.2,239,246.2,239]},{t:"C",p:[248,239.8,252.4,242.4,252.4,242.4]},{t:"C",p:[257.2,243.6,263.8,244,263.8,244]},{t:"C",p:[266.2,245,269.6,247.8,269.6,247.8]},{t:"C",p:[284.2,258,296.601,250.8,296.601,250.8]},{t:"C",p:[316.601,244.2,310.601,227,310.601,227]},{t:"C",p:[307.601,218,310.801,214.6,310.801,214.6]},{t:"C",p:[311.001,210.8,318.201,217.2,318.201,217.2]},{t:"C",p:[320.801,221.4,321.601,226.4,321.601,226.4]},{t:"C",p:[329.601,237.6,326.201,219.8,326.201,219.8]},
{t:"C",p:[326.401,218.8,323.601,215.2,323.601,214]},{t:"C",p:[323.601,212.8,321.801,209.4,321.801,209.4]},{t:"C",p:[318.801,206,321.201,199,321.201,199]},{t:"C",p:[323.001,185.2,320.801,187,320.801,187]},{t:"C",p:[319.601,185.2,310.401,195.2,310.401,195.2]},{t:"C",p:[308.201,198.6,302.201,200.2,302.201,200.2]},{t:"C",p:[299.401,202,296.001,200.6,296.001,200.6]},{t:"C",p:[293.401,200.2,287.801,207.2,287.801,207.2]},{t:"C",p:[290.601,207,293.001,211.4,295.401,211.6]},{t:"C",p:[297.801,211.8,299.601,
209.2,301.201,208.6]},{t:"C",p:[302.801,208,305.601,213.8,305.601,213.8]},{t:"C",p:[306.001,216.4,300.401,221.2,300.401,221.2]},{t:"C",p:[300.001,225.8,298.401,224.2,298.401,224.2]},{t:"C",p:[295.401,223.6,294.201,227.4,293.201,232]},{t:"C",p:[292.201,236.6,288.001,237,288.001,237]},{t:"C",p:[286.401,244.4,285.2,241.4,285.2,241.4]},{t:"C",p:[285,235.8,279,241.6,279,241.6]},{t:"C",p:[277.8,243.6,273.2,241.4,273.2,241.4]},{t:"C",p:[266.4,239.4,268.8,237.4,268.8,237.4]},{t:"C",p:[270.6,235.2,281.8,237.4,
281.8,237.4]},{t:"C",p:[284,235.8,276,231.8,276,231.8]},{t:"C",p:[275.4,230,276.4,225.6,276.4,225.6]},{t:"C",p:[277.6,222.4,284.4,216.8,284.4,216.8]},{t:"C",p:[293.801,215.6,291.001,214,291.001,214]},{t:"C",p:[284.801,208.8,279,216.4,279,216.4]},{t:"C",p:[276.8,222.6,259.4,237.6,259.4,237.6]},{t:"C",p:[254.6,241,257.2,234.2,253.2,237.6]},{t:"C",p:[249.2,241,228.6,232,228.6,232]},{t:"C",p:[217.038,230.807,214.306,246.549,210.777,243.429]},{t:"C",p:[210.777,243.429,216.195,251.949,214.595,246.349]},
{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[409.401,80]},{t:"C",p:[409.401,80,383.801,88,381.001,106.8]},{t:"C",p:[381.001,106.8,378.601,129.6,399.001,147.2]},{t:"C",p:[399.001,147.2,399.401,153.6,401.401,156.8]},{t:"C",p:[401.401,156.8,399.801,161.6,418.601,154]},{t:"L",p:[445.801,145.6]},{t:"C",p:[445.801,145.6,452.201,143.2,457.401,134.4]},{t:"C",p:[462.601,125.6,477.801,106.8,474.201,81.6]},{t:"C",p:[474.201,81.6,475.401,70.4,469.401,70]},{t:"C",p:[469.401,70,461.001,68.4,453.801,76]},{t:"C",
p:[453.801,76,447.001,79.2,444.601,78.8]},{t:"L",p:[409.401,80]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[464.022,79.01]},{t:"C",p:[464.022,79.01,466.122,70.08,461.282,74.92]},{t:"C",p:[461.282,74.92,454.242,80.64,446.761,80.64]},{t:"C",p:[446.761,80.64,432.241,82.84,427.841,96.04]},{t:"C",p:[427.841,96.04,423.881,122.88,431.801,128.6]},{t:"C",p:[431.801,128.6,436.641,136.08,443.681,129.48]},{t:"C",p:[450.722,122.88,466.222,92.65,464.022,79.01]},{t:"z",p:[]}]},{f:"#323232",s:null,p:[{t:"M",p:[463.648,
79.368]},{t:"C",p:[463.648,79.368,465.738,70.624,460.986,75.376]},{t:"C",p:[460.986,75.376,454.074,80.992,446.729,80.992]},{t:"C",p:[446.729,80.992,432.473,83.152,428.153,96.112]},{t:"C",p:[428.153,96.112,424.265,122.464,432.041,128.08]},{t:"C",p:[432.041,128.08,436.793,135.424,443.705,128.944]},{t:"C",p:[450.618,122.464,465.808,92.76,463.648,79.368]},{t:"z",p:[]}]},{f:"#666",s:null,p:[{t:"M",p:[463.274,79.726]},{t:"C",p:[463.274,79.726,465.354,71.168,460.69,75.832]},{t:"C",p:[460.69,75.832,453.906,
81.344,446.697,81.344]},{t:"C",p:[446.697,81.344,432.705,83.464,428.465,96.184]},{t:"C",p:[428.465,96.184,424.649,122.048,432.281,127.56]},{t:"C",p:[432.281,127.56,436.945,134.768,443.729,128.408]},{t:"C",p:[450.514,122.048,465.394,92.87,463.274,79.726]},{t:"z",p:[]}]},{f:"#999",s:null,p:[{t:"M",p:[462.9,80.084]},{t:"C",p:[462.9,80.084,464.97,71.712,460.394,76.288]},{t:"C",p:[460.394,76.288,453.738,81.696,446.665,81.696]},{t:"C",p:[446.665,81.696,432.937,83.776,428.777,96.256]},{t:"C",p:[428.777,
96.256,425.033,121.632,432.521,127.04]},{t:"C",p:[432.521,127.04,437.097,134.112,443.753,127.872]},{t:"C",p:[450.41,121.632,464.98,92.98,462.9,80.084]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[462.526,80.442]},{t:"C",p:[462.526,80.442,464.586,72.256,460.098,76.744]},{t:"C",p:[460.098,76.744,453.569,82.048,446.633,82.048]},{t:"C",p:[446.633,82.048,433.169,84.088,429.089,96.328]},{t:"C",p:[429.089,96.328,425.417,121.216,432.761,126.52]},{t:"C",p:[432.761,126.52,437.249,133.456,443.777,127.336]},
{t:"C",p:[450.305,121.216,464.566,93.09,462.526,80.442]},{t:"z",p:[]}]},{f:"#fff",s:null,p:[{t:"M",p:[462.151,80.8]},{t:"C",p:[462.151,80.8,464.201,72.8,459.801,77.2]},{t:"C",p:[459.801,77.2,453.401,82.4,446.601,82.4]},{t:"C",p:[446.601,82.4,433.401,84.4,429.401,96.4]},{t:"C",p:[429.401,96.4,425.801,120.8,433.001,126]},{t:"C",p:[433.001,126,437.401,132.8,443.801,126.8]},{t:"C",p:[450.201,120.8,464.151,93.2,462.151,80.8]},{t:"z",p:[]}]},{f:"#992600",s:null,p:[{t:"M",p:[250.6,284]},{t:"C",p:[250.6,
284,230.2,264.8,222.2,264]},{t:"C",p:[222.2,264,187.8,260,173,278]},{t:"C",p:[173,278,190.6,257.6,218.2,263.2]},{t:"C",p:[218.2,263.2,196.6,258.8,184.2,262]},{t:"C",p:[184.2,262,167.4,262,157.8,276]},{t:"L",p:[155,280.8]},{t:"C",p:[155,280.8,159,266,177.4,260]},{t:"C",p:[177.4,260,200.2,255.2,211,260]},{t:"C",p:[211,260,189.4,253.2,179.4,255.2]},{t:"C",p:[179.4,255.2,149,252.8,136.2,279.2]},{t:"C",p:[136.2,279.2,140.2,264.8,155,257.6]},{t:"C",p:[155,257.6,168.6,248.8,189,251.6]},{t:"C",p:[189,251.6,
203.4,254.8,208.6,257.2]},{t:"C",p:[213.8,259.6,212.6,256.8,204.2,252]},{t:"C",p:[204.2,252,198.6,242,184.6,242.4]},{t:"C",p:[184.6,242.4,141.8,246,131.4,258]},{t:"C",p:[131.4,258,145,246.8,155.4,244]},{t:"C",p:[155.4,244,177.8,236,186.2,236.8]},{t:"C",p:[186.2,236.8,211,237.8,218.6,233.8]},{t:"C",p:[218.6,233.8,207.4,238.8,210.6,242]},{t:"C",p:[213.8,245.2,220.6,252.8,220.6,254]},{t:"C",p:[220.6,255.2,244.8,277.3,248.4,281.7]},{t:"L",p:[250.6,284]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[389,
478]},{t:"C",p:[389,478,373.5,441.5,361,432]},{t:"C",p:[361,432,387,448,390.5,466]},{t:"C",p:[390.5,466,390.5,476,389,478]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[436,485.5]},{t:"C",p:[436,485.5,409.5,430.5,391,406.5]},{t:"C",p:[391,406.5,434.5,444,439.5,470.5]},{t:"L",p:[440,476]},{t:"L",p:[437,473.5]},{t:"C",p:[437,473.5,436.5,482.5,436,485.5]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[492.5,437]},{t:"C",p:[492.5,437,430,377.5,428.5,375]},{t:"C",p:[428.5,375,489,441,492,448.5]},{t:"C",
p:[492,448.5,490,439.5,492.5,437]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[304,480.5]},{t:"C",p:[304,480.5,323.5,428.5,342.5,451]},{t:"C",p:[342.5,451,357.5,461,357,464]},{t:"C",p:[357,464,353,457.5,335,458]},{t:"C",p:[335,458,316,455,304,480.5]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[494.5,353]},{t:"C",p:[494.5,353,449.5,324.5,442,323]},{t:"C",p:[430.193,320.639,491.5,352,496.5,362.5]},{t:"C",p:[496.5,362.5,498.5,360,494.5,353]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[343.801,459.601]},
{t:"C",p:[343.801,459.601,364.201,457.601,371.001,450.801]},{t:"L",p:[375.401,454.401]},{t:"L",p:[393.001,416.001]},{t:"L",p:[396.601,421.201]},{t:"C",p:[396.601,421.201,411.001,406.401,410.201,398.401]},{t:"C",p:[409.401,390.401,423.001,404.401,423.001,404.401]},{t:"C",p:[423.001,404.401,422.201,392.801,429.401,399.601]},{t:"C",p:[429.401,399.601,427.001,384.001,435.401,392.001]},{t:"C",p:[435.401,392.001,424.864,361.844,447.401,387.601]},{t:"C",p:[453.001,394.001,448.601,387.201,448.601,387.201]},
{t:"C",p:[448.601,387.201,422.601,339.201,444.201,353.601]},{t:"C",p:[444.201,353.601,446.201,330.801,445.001,326.401]},{t:"C",p:[443.801,322.001,441.801,299.6,437.001,294.4]},{t:"C",p:[432.201,289.2,437.401,287.6,443.001,292.8]},{t:"C",p:[443.001,292.8,431.801,268.8,445.001,280.8]},{t:"C",p:[445.001,280.8,441.401,265.6,437.001,262.8]},{t:"C",p:[437.001,262.8,431.401,245.6,446.601,256.4]},{t:"C",p:[446.601,256.4,442.201,244,439.001,240.8]},{t:"C",p:[439.001,240.8,427.401,213.2,434.601,218]},{t:"L",
p:[439.001,221.6]},{t:"C",p:[439.001,221.6,432.201,207.6,438.601,212]},{t:"C",p:[445.001,216.4,445.001,216,445.001,216]},{t:"C",p:[445.001,216,423.801,182.8,444.201,200.4]},{t:"C",p:[444.201,200.4,436.042,186.482,432.601,179.6]},{t:"C",p:[432.601,179.6,413.801,159.2,428.201,165.6]},{t:"L",p:[433.001,167.2]},{t:"C",p:[433.001,167.2,424.201,157.2,416.201,155.6]},{t:"C",p:[408.201,154,418.601,147.6,425.001,149.6]},{t:"C",p:[431.401,151.6,447.001,159.2,447.001,159.2]},{t:"C",p:[447.001,159.2,459.801,
178,463.801,178.4]},{t:"C",p:[463.801,178.4,443.801,170.8,449.801,178.8]},{t:"C",p:[449.801,178.8,464.201,192.8,457.001,192.4]},{t:"C",p:[457.001,192.4,451.001,199.6,455.801,208.4]},{t:"C",p:[455.801,208.4,437.342,190.009,452.201,215.6]},{t:"L",p:[459.001,232]},{t:"C",p:[459.001,232,434.601,207.2,445.801,229.2]},{t:"C",p:[445.801,229.2,463.001,252.8,465.001,253.2]},{t:"C",p:[467.001,253.6,471.401,262.4,471.401,262.4]},{t:"L",p:[467.001,260.4]},{t:"L",p:[472.201,269.2]},{t:"C",p:[472.201,269.2,461.001,
257.2,467.001,270.4]},{t:"L",p:[472.601,284.8]},{t:"C",p:[472.601,284.8,452.201,262.8,465.801,292.4]},{t:"C",p:[465.801,292.4,449.401,287.2,458.201,304.4]},{t:"C",p:[458.201,304.4,456.601,320.401,457.001,325.601]},{t:"C",p:[457.401,330.801,458.601,359.201,454.201,367.201]},{t:"C",p:[449.801,375.201,460.201,394.401,462.201,398.401]},{t:"C",p:[464.201,402.401,467.801,413.201,459.001,404.001]},{t:"C",p:[450.201,394.801,454.601,400.401,456.601,409.201]},{t:"C",p:[458.601,418.001,464.601,433.601,463.801,
439.201]},{t:"C",p:[463.801,439.201,462.601,440.401,459.401,436.801]},{t:"C",p:[459.401,436.801,444.601,414.001,446.201,428.401]},{t:"C",p:[446.201,428.401,445.001,436.401,441.801,445.201]},{t:"C",p:[441.801,445.201,438.601,456.001,438.601,447.201]},{t:"C",p:[438.601,447.201,435.401,430.401,432.601,438.001]},{t:"C",p:[429.801,445.601,426.201,451.601,423.401,454.001]},{t:"C",p:[420.601,456.401,415.401,433.601,414.201,444.001]},{t:"C",p:[414.201,444.001,402.201,431.601,397.401,448.001]},{t:"L",p:[385.801,
464.401]},{t:"C",p:[385.801,464.401,385.401,452.001,384.201,458.001]},{t:"C",p:[384.201,458.001,354.201,464.001,343.801,459.601]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[309.401,102.8]},{t:"C",p:[309.401,102.8,297.801,94.8,293.801,95.2]},{t:"C",p:[289.801,95.6,321.401,86.4,362.601,114]},{t:"C",p:[362.601,114,367.401,116.8,371.001,116.4]},{t:"C",p:[371.001,116.4,374.201,118.8,371.401,122.4]},{t:"C",p:[371.401,122.4,362.601,132,373.801,143.2]},{t:"C",p:[373.801,143.2,392.201,150,386.601,141.2]},
{t:"C",p:[386.601,141.2,397.401,145.2,399.801,149.2]},{t:"C",p:[402.201,153.2,401.001,149.2,401.001,149.2]},{t:"C",p:[401.001,149.2,394.601,142,388.601,136.8]},{t:"C",p:[388.601,136.8,383.401,134.8,380.601,126.4]},{t:"C",p:[377.801,118,375.401,108,379.801,104.8]},{t:"C",p:[379.801,104.8,375.801,109.2,376.601,105.2]},{t:"C",p:[377.401,101.2,381.001,97.6,382.601,97.2]},{t:"C",p:[384.201,96.8,400.601,81,407.401,80.6]},{t:"C",p:[407.401,80.6,398.201,82,395.201,81]},{t:"C",p:[392.201,80,365.601,68.6,359.601,
67.4]},{t:"C",p:[359.601,67.4,342.801,60.8,354.801,62.8]},{t:"C",p:[354.801,62.8,390.601,66.6,408.801,79.8]},{t:"C",p:[408.801,79.8,401.601,71.4,383.201,64.4]},{t:"C",p:[383.201,64.4,361.001,51.8,325.801,56.8]},{t:"C",p:[325.801,56.8,308.001,60,300.201,61.8]},{t:"C",p:[300.201,61.8,297.601,61.2,297.001,60.8]},{t:"C",p:[296.401,60.4,284.6,51.4,257,58.4]},{t:"C",p:[257,58.4,240,63,231.4,67.8]},{t:"C",p:[231.4,67.8,216.2,69,212.6,72.2]},{t:"C",p:[212.6,72.2,194,86.8,192,87.6]},{t:"C",p:[190,88.4,178.6,
96,177.8,96.4]},{t:"C",p:[177.8,96.4,202.4,89.8,204.8,87.4]},{t:"C",p:[207.2,85,224.6,82.4,227,83.8]},{t:"C",p:[229.4,85.2,237.8,84.6,228.2,85.2]},{t:"C",p:[228.2,85.2,303.801,100,304.601,102]},{t:"C",p:[305.401,104,309.401,102.8,309.401,102.8]},{t:"z",p:[]}]},{f:"#cc7226",s:null,p:[{t:"M",p:[380.801,93.6]},{t:"C",p:[380.801,93.6,370.601,86.2,368.601,86.2]},{t:"C",p:[366.601,86.2,354.201,76,350.001,76.4]},{t:"C",p:[345.801,76.8,333.601,66.8,306.201,75]},{t:"C",p:[306.201,75,305.601,73,309.201,72.2]},
{t:"C",p:[309.201,72.2,315.601,70,316.001,69.4]},{t:"C",p:[316.001,69.4,336.201,65.2,343.401,68.8]},{t:"C",p:[343.401,68.8,352.601,71.4,358.801,77.6]},{t:"C",p:[358.801,77.6,370.001,80.8,373.201,79.8]},{t:"C",p:[373.201,79.8,382.001,82,382.401,83.8]},{t:"C",p:[382.401,83.8,388.201,86.8,386.401,89.4]},{t:"C",p:[386.401,89.4,386.801,91,380.801,93.6]},{t:"z",p:[]}]},{f:"#cc7226",s:null,p:[{t:"M",p:[368.33,91.491]},{t:"C",p:[369.137,92.123,370.156,92.221,370.761,93.03]},{t:"C",p:[370.995,93.344,370.706,
93.67,370.391,93.767]},{t:"C",p:[369.348,94.084,368.292,93.514,367.15,94.102]},{t:"C",p:[366.748,94.309,366.106,94.127,365.553,93.978]},{t:"C",p:[363.921,93.537,362.092,93.512,360.401,94.2]},{t:"C",p:[358.416,93.071,356.056,93.655,353.975,92.654]},{t:"C",p:[353.917,92.627,353.695,92.973,353.621,92.946]},{t:"C",p:[350.575,91.801,346.832,92.084,344.401,89.8]},{t:"C",p:[341.973,89.388,339.616,88.926,337.188,88.246]},{t:"C",p:[335.37,87.737,333.961,86.748,332.341,85.916]},{t:"C",p:[330.964,85.208,329.507,
84.686,327.973,84.314]},{t:"C",p:[326.11,83.862,324.279,83.974,322.386,83.454]},{t:"C",p:[322.293,83.429,322.101,83.773,322.019,83.746]},{t:"C",p:[321.695,83.638,321.405,83.055,321.234,83.108]},{t:"C",p:[319.553,83.63,318.065,82.658,316.401,83]},{t:"C",p:[315.223,81.776,313.495,82.021,311.949,81.579]},{t:"C",p:[308.985,80.731,305.831,82.001,302.801,81]},{t:"C",p:[306.914,79.158,311.601,80.39,315.663,78.321]},{t:"C",p:[317.991,77.135,320.653,78.237,323.223,77.477]},{t:"C",p:[323.71,77.333,324.401,
77.131,324.801,77.8]},{t:"C",p:[324.935,77.665,325.117,77.426,325.175,77.454]},{t:"C",p:[327.625,78.611,329.94,79.885,332.422,80.951]},{t:"C",p:[332.763,81.097,333.295,80.865,333.547,81.067]},{t:"C",p:[335.067,82.283,337.01,82.18,338.401,83.4]},{t:"C",p:[340.099,82.898,341.892,83.278,343.621,82.654]},{t:"C",p:[343.698,82.627,343.932,82.968,343.965,82.946]},{t:"C",p:[345.095,82.198,346.25,82.469,347.142,82.773]},{t:"C",p:[347.48,82.888,348.143,83.135,348.448,83.209]},{t:"C",p:[349.574,83.485,350.43,
83.965,351.609,84.148]},{t:"C",p:[351.723,84.166,351.908,83.826,351.98,83.854]},{t:"C",p:[353.103,84.292,354.145,84.236,354.801,85.4]},{t:"C",p:[354.936,85.265,355.101,85.027,355.183,85.054]},{t:"C",p:[356.21,85.392,356.859,86.147,357.96,86.388]},{t:"C",p:[358.445,86.494,359.057,87.12,359.633,87.296]},{t:"C",p:[362.025,88.027,363.868,89.556,366.062,90.451]},{t:"C",p:[366.821,90.761,367.697,90.995,368.33,91.491]},{t:"z",p:[]}]},{f:"#cc7226",s:null,p:[{t:"M",p:[291.696,77.261]},{t:"C",p:[289.178,75.536,
286.81,74.43,284.368,72.644]},{t:"C",p:[284.187,72.511,283.827,72.681,283.625,72.559]},{t:"C",p:[282.618,71.95,281.73,71.369,280.748,70.673]},{t:"C",p:[280.209,70.291,279.388,70.302,278.88,70.044]},{t:"C",p:[276.336,68.752,273.707,68.194,271.2,67]},{t:"C",p:[271.882,66.362,273.004,66.606,273.6,65.8]},{t:"C",p:[273.795,66.08,274.033,66.364,274.386,66.173]},{t:"C",p:[276.064,65.269,277.914,65.116,279.59,65.206]},{t:"C",p:[281.294,65.298,283.014,65.603,284.789,65.875]},{t:"C",p:[285.096,65.922,285.295,
66.445,285.618,66.542]},{t:"C",p:[287.846,67.205,290.235,66.68,292.354,67.518]},{t:"C",p:[293.945,68.147,295.515,68.97,296.754,70.245]},{t:"C",p:[297.006,70.505,296.681,70.806,296.401,71]},{t:"C",p:[296.789,70.891,297.062,71.097,297.173,71.41]},{t:"C",p:[297.257,71.649,297.257,71.951,297.173,72.19]},{t:"C",p:[297.061,72.502,296.782,72.603,296.408,72.654]},{t:"C",p:[295.001,72.844,296.773,71.464,296.073,71.912]},{t:"C",p:[294.8,72.726,295.546,74.132,294.801,75.4]},{t:"C",p:[294.521,75.206,294.291,
74.988,294.401,74.6]},{t:"C",p:[294.635,75.122,294.033,75.412,293.865,75.728]},{t:"C",p:[293.48,76.453,292.581,77.868,291.696,77.261]},{t:"z",p:[]}]},{f:"#cc7226",s:null,p:[{t:"M",p:[259.198,84.609]},{t:"C",p:[256.044,83.815,252.994,83.93,249.978,82.654]},{t:"C",p:[249.911,82.626,249.688,82.973,249.624,82.946]},{t:"C",p:[248.258,82.352,247.34,81.386,246.264,80.34]},{t:"C",p:[245.351,79.452,243.693,79.839,242.419,79.352]},{t:"C",p:[242.095,79.228,241.892,78.716,241.591,78.677]},{t:"C",p:[240.372,78.52,
239.445,77.571,238.4,77]},{t:"C",p:[240.736,76.205,243.147,76.236,245.609,75.852]},{t:"C",p:[245.722,75.834,245.867,76.155,246,76.155]},{t:"C",p:[246.136,76.155,246.266,75.934,246.4,75.8]},{t:"C",p:[246.595,76.08,246.897,76.406,247.154,76.152]},{t:"C",p:[247.702,75.612,248.258,75.802,248.798,75.842]},{t:"C",p:[248.942,75.852,249.067,76.155,249.2,76.155]},{t:"C",p:[249.336,76.155,249.467,75.844,249.6,75.844]},{t:"C",p:[249.736,75.845,249.867,76.155,250,76.155]},{t:"C",p:[250.136,76.155,250.266,75.934,
250.4,75.8]},{t:"C",p:[251.092,76.582,251.977,76.028,252.799,76.207]},{t:"C",p:[253.837,76.434,254.104,77.582,255.178,77.88]},{t:"C",p:[259.893,79.184,264.03,81.329,268.393,83.416]},{t:"C",p:[268.7,83.563,268.91,83.811,268.8,84.2]},{t:"C",p:[269.067,84.2,269.38,84.112,269.57,84.244]},{t:"C",p:[270.628,84.976,271.669,85.524,272.366,86.622]},{t:"C",p:[272.582,86.961,272.253,87.368,272.02,87.316]},{t:"C",p:[267.591,86.321,263.585,85.713,259.198,84.609]},{t:"z",p:[]}]},{f:"#cc7226",s:null,p:[{t:"M",p:[245.338,
128.821]},{t:"C",p:[243.746,127.602,243.162,125.571,242.034,123.779]},{t:"C",p:[241.82,123.439,242.094,123.125,242.411,123.036]},{t:"C",p:[242.971,122.877,243.514,123.355,243.923,123.557]},{t:"C",p:[245.668,124.419,247.203,125.661,249.2,125.8]},{t:"C",p:[251.19,128.034,255.45,128.419,255.457,131.8]},{t:"C",p:[255.458,132.659,254.03,131.741,253.6,132.6]},{t:"C",p:[251.149,131.597,248.76,131.7,246.38,130.233]},{t:"C",p:[245.763,129.852,246.093,129.399,245.338,128.821]},{t:"z",p:[]}]},{f:"#cc7226",s:null,
p:[{t:"M",p:[217.8,76.244]},{t:"C",p:[217.935,76.245,224.966,76.478,224.949,76.592]},{t:"C",p:[224.904,76.901,217.174,77.95,216.81,77.78]},{t:"C",p:[216.646,77.704,209.134,80.134,209,80]},{t:"C",p:[209.268,79.865,217.534,76.244,217.8,76.244]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[233.2,86]},{t:"C",p:[233.2,86,218.4,87.8,214,89]},{t:"C",p:[209.6,90.2,191,97.8,188,99.8]},{t:"C",p:[188,99.8,174.6,105.2,157.6,125.2]},{t:"C",p:[157.6,125.2,165.2,121.8,167.4,119]},{t:"C",p:[167.4,119,181,106.4,180.8,
109]},{t:"C",p:[180.8,109,193,100.4,192.4,102.6]},{t:"C",p:[192.4,102.6,216.8,91.4,214.8,94.6]},{t:"C",p:[214.8,94.6,236.4,90,235.4,92]},{t:"C",p:[235.4,92,254.2,96.4,251.4,96.6]},{t:"C",p:[251.4,96.6,245.6,97.8,252,101.4]},{t:"C",p:[252,101.4,248.6,105.8,243.2,101.8]},{t:"C",p:[237.8,97.8,240.8,100,235.8,101]},{t:"C",p:[235.8,101,233.2,101.8,228.6,97.8]},{t:"C",p:[228.6,97.8,223,93.2,214.2,96.8]},{t:"C",p:[214.2,96.8,183.6,109.4,181.6,110]},{t:"C",p:[181.6,110,178,112.8,175.6,116.4]},{t:"C",p:[175.6,
116.4,169.8,120.8,166.8,122.2]},{t:"C",p:[166.8,122.2,154,133.8,152.8,135.2]},{t:"C",p:[152.8,135.2,149.4,140.4,148.6,140.8]},{t:"C",p:[148.6,140.8,155,137,157,135]},{t:"C",p:[157,135,171,125,176.4,124.2]},{t:"C",p:[176.4,124.2,180.8,121.2,181.6,119.8]},{t:"C",p:[181.6,119.8,196,110.6,200.2,110.6]},{t:"C",p:[200.2,110.6,209.4,115.8,211.8,108.8]},{t:"C",p:[211.8,108.8,217.6,107,223.2,108.2]},{t:"C",p:[223.2,108.2,226.4,105.6,225.6,103.4]},{t:"C",p:[225.6,103.4,227.2,101.6,228.2,105.4]},{t:"C",p:[228.2,
105.4,231.6,109,236.4,107]},{t:"C",p:[236.4,107,240.4,106.8,238.4,109.2]},{t:"C",p:[238.4,109.2,234,113,222.2,113.2]},{t:"C",p:[222.2,113.2,209.8,113.8,193.4,121.4]},{t:"C",p:[193.4,121.4,163.6,131.8,154.4,142.2]},{t:"C",p:[154.4,142.2,148,151,142.6,152.2]},{t:"C",p:[142.6,152.2,136.8,153,130.8,160.4]},{t:"C",p:[130.8,160.4,140.6,154.6,149.6,154.6]},{t:"C",p:[149.6,154.6,153.6,152.2,149.8,155.8]},{t:"C",p:[149.8,155.8,146.2,163.4,147.8,168.8]},{t:"C",p:[147.8,168.8,147.2,174,146.4,175.6]},{t:"C",
p:[146.4,175.6,138.6,188.4,138.6,190.8]},{t:"C",p:[138.6,193.2,139.8,203,140.2,203.6]},{t:"C",p:[140.6,204.2,139.2,202,143,204.4]},{t:"C",p:[146.8,206.8,149.6,208.4,150.4,211.2]},{t:"C",p:[151.2,214,148.4,205.8,148.2,204]},{t:"C",p:[148,202.2,143.8,195,144.6,192.6]},{t:"C",p:[144.6,192.6,145.6,193.6,146.4,195]},{t:"C",p:[146.4,195,145.8,194.4,146.4,190.8]},{t:"C",p:[146.4,190.8,147.2,185.6,148.6,182.4]},{t:"C",p:[150,179.2,152,175.4,152.4,174.6]},{t:"C",p:[152.8,173.8,152.8,168,154.2,170.6]},{t:"L",
p:[157.6,173.2]},{t:"C",p:[157.6,173.2,154.8,170.6,157,168.4]},{t:"C",p:[157,168.4,156,162.8,157.8,160.2]},{t:"C",p:[157.8,160.2,164.8,151.8,166.4,150.8]},{t:"C",p:[168,149.8,166.6,150.2,166.6,150.2]},{t:"C",p:[166.6,150.2,172.6,146,166.8,147.6]},{t:"C",p:[166.8,147.6,162.8,149.2,159.8,149.2]},{t:"C",p:[159.8,149.2,152.2,151.2,156.2,147]},{t:"C",p:[160.2,142.8,170.2,137.4,174,137.6]},{t:"L",p:[174.8,139.2]},{t:"L",p:[186,136.8]},{t:"L",p:[184.8,137.6]},{t:"C",p:[184.8,137.6,184.6,137.4,188.8,137]},
{t:"C",p:[193,136.6,198.8,138,200.2,136.2]},{t:"C",p:[201.6,134.4,205,133.4,204.6,134.8]},{t:"C",p:[204.2,136.2,204,138.2,204,138.2]},{t:"C",p:[204,138.2,209,132.4,208.4,134.6]},{t:"C",p:[207.8,136.8,199.6,142,198.2,148.2]},{t:"L",p:[208.6,140]},{t:"L",p:[212.2,137]},{t:"C",p:[212.2,137,215.8,139.2,216,137.6]},{t:"C",p:[216.2,136,220.8,130.2,222,130.4]},{t:"C",p:[223.2,130.6,225.2,127.8,225,130.4]},{t:"C",p:[224.8,133,232.4,138.4,232.4,138.4]},{t:"C",p:[232.4,138.4,235.6,136.6,237,138]},{t:"C",p:[238.4,
139.4,242.6,118.2,242.6,118.2]},{t:"L",p:[267.6,107.6]},{t:"L",p:[311.201,104.2]},{t:"L",p:[294.201,97.4]},{t:"L",p:[233.2,86]},{t:"z",p:[]}]},{f:null,s:{c:"#4c0000",w:2},p:[{t:"M",p:[251.4,285]},{t:"C",p:[251.4,285,236.4,268.2,228,265.6]},{t:"C",p:[228,265.6,214.6,258.8,190,266.6]}]},{f:null,s:{c:"#4c0000",w:2},p:[{t:"M",p:[224.8,264.2]},{t:"C",p:[224.8,264.2,199.6,256.2,184.2,260.4]},{t:"C",p:[184.2,260.4,165.8,262.4,157.4,276.2]}]},{f:null,s:{c:"#4c0000",w:2},p:[{t:"M",p:[221.2,263]},{t:"C",p:[221.2,
263,204.2,255.8,189.4,253.6]},{t:"C",p:[189.4,253.6,172.8,251,156.2,258.2]},{t:"C",p:[156.2,258.2,144,264.2,138.6,274.4]}]},{f:null,s:{c:"#4c0000",w:2},p:[{t:"M",p:[222.2,263.4]},{t:"C",p:[222.2,263.4,206.8,252.4,205.8,251]},{t:"C",p:[205.8,251,198.8,240,185.8,239.6]},{t:"C",p:[185.8,239.6,164.4,240.4,147.2,248.4]}]},{f:"#000",s:null,p:[{t:"M",p:[220.895,254.407]},{t:"C",p:[222.437,255.87,249.4,284.8,249.4,284.8]},{t:"C",p:[284.6,321.401,256.6,287.2,256.6,287.2]},{t:"C",p:[249,282.4,239.8,263.6,239.8,
263.6]},{t:"C",p:[238.6,260.8,253.8,270.8,253.8,270.8]},{t:"C",p:[257.8,271.6,271.4,290.8,271.4,290.8]},{t:"C",p:[264.6,288.4,269.4,295.6,269.4,295.6]},{t:"C",p:[272.2,297.6,292.601,313.201,292.601,313.201]},{t:"C",p:[296.201,317.201,300.201,318.801,300.201,318.801]},{t:"C",p:[314.201,313.601,307.801,326.801,307.801,326.801]},{t:"C",p:[310.201,333.601,315.801,322.001,315.801,322.001]},{t:"C",p:[327.001,305.2,310.601,307.601,310.601,307.601]},{t:"C",p:[280.6,310.401,273.8,294.4,273.8,294.4]},{t:"C",
p:[271.4,292,280.2,294.4,280.2,294.4]},{t:"C",p:[288.601,296.4,273,282,273,282]},{t:"C",p:[275.4,282,284.6,288.8,284.6,288.8]},{t:"C",p:[295.001,298,297.001,296,297.001,296]},{t:"C",p:[315.001,287.2,325.401,294.8,325.401,294.8]},{t:"C",p:[327.401,296.4,321.801,303.2,323.401,308.401]},{t:"C",p:[325.001,313.601,329.801,326.001,329.801,326.001]},{t:"C",p:[327.401,327.601,327.801,338.401,327.801,338.401]},{t:"C",p:[344.601,361.601,335.001,359.601,335.001,359.601]},{t:"C",p:[319.401,359.201,334.201,366.801,
334.201,366.801]},{t:"C",p:[337.401,368.801,346.201,376.001,346.201,376.001]},{t:"C",p:[343.401,374.801,341.801,380.001,341.801,380.001]},{t:"C",p:[346.601,384.001,343.801,388.801,343.801,388.801]},{t:"C",p:[337.801,390.001,336.601,394.001,336.601,394.001]},{t:"C",p:[343.401,402.001,333.401,402.401,333.401,402.401]},{t:"C",p:[337.001,406.801,332.201,418.801,332.201,418.801]},{t:"C",p:[327.401,418.801,321.001,424.401,321.001,424.401]},{t:"C",p:[323.401,429.201,313.001,434.801,313.001,434.801]},{t:"C",
p:[304.601,436.401,307.401,443.201,307.401,443.201]},{t:"C",p:[299.401,449.201,297.001,465.201,297.001,465.201]},{t:"C",p:[296.201,475.601,293.801,478.801,299.001,476.801]},{t:"C",p:[304.201,474.801,303.401,462.401,303.401,462.401]},{t:"C",p:[298.601,446.801,341.401,430.801,341.401,430.801]},{t:"C",p:[345.401,429.201,346.201,424.001,346.201,424.001]},{t:"C",p:[348.201,424.401,357.001,432.001,357.001,432.001]},{t:"C",p:[364.601,443.201,365.001,434.001,365.001,434.001]},{t:"C",p:[366.201,430.401,364.601,
424.401,364.601,424.401]},{t:"C",p:[370.601,402.801,356.601,396.401,356.601,396.401]},{t:"C",p:[346.601,362.801,360.601,371.201,360.601,371.201]},{t:"C",p:[363.401,376.801,374.201,382.001,374.201,382.001]},{t:"L",p:[377.801,379.601]},{t:"C",p:[376.201,374.801,384.601,368.801,384.601,368.801]},{t:"C",p:[387.401,375.201,393.401,367.201,393.401,367.201]},{t:"C",p:[397.001,342.801,409.401,357.201,409.401,357.201]},{t:"C",p:[413.401,358.401,414.601,351.601,414.601,351.601]},{t:"C",p:[418.201,341.201,414.601,
327.601,414.601,327.601]},{t:"C",p:[418.201,327.201,427.801,333.201,427.801,333.201]},{t:"C",p:[430.601,329.601,421.401,312.801,425.401,315.201]},{t:"C",p:[429.401,317.601,433.801,319.201,433.801,319.201]},{t:"C",p:[434.601,317.201,424.601,304.801,424.601,304.801]},{t:"C",p:[420.201,302,415.001,281.6,415.001,281.6]},{t:"C",p:[422.201,285.2,412.201,270,412.201,270]},{t:"C",p:[412.201,266.8,418.201,255.6,418.201,255.6]},{t:"C",p:[417.401,248.8,418.201,249.2,418.201,249.2]},{t:"C",p:[421.001,250.4,429.001,
252,422.201,245.6]},{t:"C",p:[415.401,239.2,423.001,234.4,423.001,234.4]},{t:"C",p:[427.401,231.6,413.801,232,413.801,232]},{t:"C",p:[408.601,227.6,409.001,223.6,409.001,223.6]},{t:"C",p:[417.001,225.6,402.601,211.2,400.201,207.6]},{t:"C",p:[397.801,204,407.401,198.8,407.401,198.8]},{t:"C",p:[420.601,195.2,409.001,192,409.001,192]},{t:"C",p:[389.401,192.4,400.201,181.6,400.201,181.6]},{t:"C",p:[406.201,182,404.601,179.6,404.601,179.6]},{t:"C",p:[399.401,178.4,389.801,172,389.801,172]},{t:"C",p:[385.801,
168.4,389.401,169.2,389.401,169.2]},{t:"C",p:[406.201,170.4,377.401,159.2,377.401,159.2]},{t:"C",p:[385.401,159.2,367.401,148.8,367.401,148.8]},{t:"C",p:[365.401,147.2,362.201,139.6,362.201,139.6]},{t:"C",p:[356.201,134.4,351.401,127.6,351.401,127.6]},{t:"C",p:[351.001,123.2,346.201,118.4,346.201,118.4]},{t:"C",p:[334.601,104.8,329.001,105.2,329.001,105.2]},{t:"C",p:[314.201,101.6,309.001,102.4,309.001,102.4]},{t:"L",p:[256.2,106.8]},{t:"C",p:[229.8,119.6,237.6,140.6,237.6,140.6]},{t:"C",p:[244,149,
253.2,145.2,253.2,145.2]},{t:"C",p:[257.8,139,269.4,141.2,269.4,141.2]},{t:"C",p:[289.801,144.4,287.201,140.8,287.201,140.8]},{t:"C",p:[284.801,136.2,268.6,130,268.4,129.4]},{t:"C",p:[268.2,128.8,259.4,125.4,259.4,125.4]},{t:"C",p:[256.4,124.2,252,115,252,115]},{t:"C",p:[248.8,111.6,264.6,117.4,264.6,117.4]},{t:"C",p:[263.4,118.4,270.8,122.4,270.8,122.4]},{t:"C",p:[288.201,121.4,298.801,132.2,298.801,132.2]},{t:"C",p:[309.601,148.8,309.801,140.6,309.801,140.6]},{t:"C",p:[312.601,131.2,300.801,110,
300.801,110]},{t:"C",p:[301.201,108,309.401,114.6,309.401,114.6]},{t:"C",p:[310.801,112.6,311.601,118.4,311.601,118.4]},{t:"C",p:[311.801,120.8,315.601,128.8,315.601,128.8]},{t:"C",p:[318.401,141.8,322.001,134.4,322.001,134.4]},{t:"L",p:[326.601,143.8]},{t:"C",p:[328.001,146.4,322.001,154,322.001,154]},{t:"C",p:[321.801,156.8,322.601,156.6,317.001,164.2]},{t:"C",p:[311.401,171.8,314.801,176.2,314.801,176.2]},{t:"C",p:[313.401,182.8,322.201,182.4,322.201,182.4]},{t:"C",p:[324.801,184.6,328.201,184.6,
328.201,184.6]},{t:"C",p:[330.001,186.6,332.401,186,332.401,186]},{t:"C",p:[334.001,182.2,340.201,184.2,340.201,184.2]},{t:"C",p:[341.601,181.8,349.801,181.4,349.801,181.4]},{t:"C",p:[350.801,178.8,351.201,177.2,354.601,176.6]},{t:"C",p:[358.001,176,333.401,133,333.401,133]},{t:"C",p:[339.801,132.2,331.601,119.8,331.601,119.8]},{t:"C",p:[329.401,113.2,340.801,127.8,343.001,129.2]},{t:"C",p:[345.201,130.6,346.201,132.8,344.601,132.6]},{t:"C",p:[343.001,132.4,341.201,134.6,342.601,134.8]},{t:"C",p:[344.001,
135,357.001,150,360.401,160.2]},{t:"C",p:[363.801,170.4,369.801,174.4,376.001,180.4]},{t:"C",p:[382.201,186.4,381.401,210.6,381.401,210.6]},{t:"C",p:[381.001,219.4,387.001,230,387.001,230]},{t:"C",p:[389.001,233.8,384.801,252,384.801,252]},{t:"C",p:[382.801,254.2,384.201,255,384.201,255]},{t:"C",p:[385.201,256.2,392.001,269.4,392.001,269.4]},{t:"C",p:[390.201,269.2,393.801,272.8,393.801,272.8]},{t:"C",p:[399.001,278.8,392.601,275.8,392.601,275.8]},{t:"C",p:[386.601,274.2,393.601,284,393.601,284]},
{t:"C",p:[394.801,285.8,385.801,281.2,385.801,281.2]},{t:"C",p:[376.601,280.6,388.201,287.8,388.201,287.8]},{t:"C",p:[396.801,295,385.401,290.6,385.401,290.6]},{t:"C",p:[380.801,288.8,384.001,295.6,384.001,295.6]},{t:"C",p:[387.201,297.2,404.401,304.2,404.401,304.2]},{t:"C",p:[404.801,308.001,401.801,313.001,401.801,313.001]},{t:"C",p:[402.201,317.001,400.001,320.401,400.001,320.401]},{t:"C",p:[398.801,328.601,398.201,329.401,398.201,329.401]},{t:"C",p:[394.001,329.601,386.601,343.401,386.601,343.401]},
{t:"C",p:[384.801,346.001,374.601,358.001,374.601,358.001]},{t:"C",p:[372.601,365.001,354.601,357.801,354.601,357.801]},{t:"C",p:[348.001,361.201,350.001,357.801,350.001,357.801]},{t:"C",p:[349.601,355.601,354.401,349.601,354.401,349.601]},{t:"C",p:[361.401,347.001,358.801,336.201,358.801,336.201]},{t:"C",p:[362.801,334.801,351.601,332.001,351.801,330.801]},{t:"C",p:[352.001,329.601,357.801,328.201,357.801,328.201]},{t:"C",p:[365.801,326.201,361.401,323.801,361.401,323.801]},{t:"C",p:[360.801,319.801,
363.801,314.201,363.801,314.201]},{t:"C",p:[375.401,313.401,363.801,297.2,363.801,297.2]},{t:"C",p:[353.001,289.6,352.001,283.8,352.001,283.8]},{t:"C",p:[364.601,275.6,356.401,263.2,356.601,259.6]},{t:"C",p:[356.801,256,358.001,234.4,358.001,234.4]},{t:"C",p:[356.001,228.2,353.001,214.6,353.001,214.6]},{t:"C",p:[355.201,209.4,362.601,196.8,362.601,196.8]},{t:"C",p:[365.401,192.6,374.201,187.8,372.001,184.8]},{t:"C",p:[369.801,181.8,362.001,183.6,362.001,183.6]},{t:"C",p:[354.201,182.2,354.801,187.4,
354.801,187.4]},{t:"C",p:[353.201,188.4,352.401,193.4,352.401,193.4]},{t:"C",p:[351.68,201.333,342.801,207.6,342.801,207.6]},{t:"C",p:[331.601,213.8,340.801,217.8,340.801,217.8]},{t:"C",p:[346.801,224.4,337.001,224.6,337.001,224.6]},{t:"C",p:[326.001,222.8,334.201,233,334.201,233]},{t:"C",p:[345.001,245.8,342.001,248.6,342.001,248.6]},{t:"C",p:[331.801,249.6,344.401,258.8,344.401,258.8]},{t:"C",p:[344.401,258.8,343.601,256.8,343.801,258.6]},{t:"C",p:[344.001,260.4,347.001,264.6,347.801,266.6]},{t:"C",
p:[348.601,268.6,344.601,268.8,344.601,268.8]},{t:"C",p:[345.201,278.4,329.801,274.2,329.801,274.2]},{t:"C",p:[329.801,274.2,329.801,274.2,328.201,274.4]},{t:"C",p:[326.601,274.6,315.401,273.8,309.601,271.6]},{t:"C",p:[303.801,269.4,297.001,269.4,297.001,269.4]},{t:"C",p:[297.001,269.4,293.001,271.2,285.4,271]},{t:"C",p:[277.8,270.8,269.8,273.6,269.8,273.6]},{t:"C",p:[265.4,273.2,274,268.8,274.2,269]},{t:"C",p:[274.4,269.2,280,263.6,272,264.2]},{t:"C",p:[250.203,265.835,239.4,255.6,239.4,255.6]},
{t:"C",p:[237.4,254.2,234.8,251.4,234.8,251.4]},{t:"C",p:[224.8,249.4,236.2,263.8,236.2,263.8]},{t:"C",p:[237.4,265.2,236,266.2,236,266.2]},{t:"C",p:[235.2,264.6,227.4,259.2,227.4,259.2]},{t:"C",p:[224.589,258.227,223.226,256.893,220.895,254.407]},{t:"z",p:[]}]},{f:"#4c0000",s:null,p:[{t:"M",p:[197,242.8]},{t:"C",p:[197,242.8,208.6,248.4,211.2,251.2]},{t:"C",p:[213.8,254,227.8,265.4,227.8,265.4]},{t:"C",p:[227.8,265.4,222.4,263.4,219.8,261.6]},{t:"C",p:[217.2,259.8,206.4,251.6,206.4,251.6]},{t:"C",
p:[206.4,251.6,202.6,245.6,197,242.8]},{t:"z",p:[]}]},{f:"#99cc32",s:null,p:[{t:"M",p:[138.991,211.603]},{t:"C",p:[139.328,211.455,138.804,208.743,138.6,208.2]},{t:"C",p:[137.578,205.474,128.6,204,128.6,204]},{t:"C",p:[128.373,205.365,128.318,206.961,128.424,208.599]},{t:"C",p:[128.424,208.599,133.292,214.118,138.991,211.603]},{t:"z",p:[]}]},{f:"#659900",s:null,p:[{t:"M",p:[138.991,211.403]},{t:"C",p:[138.542,211.561,138.976,208.669,138.8,208.2]},{t:"C",p:[137.778,205.474,128.6,203.9,128.6,203.9]},
{t:"C",p:[128.373,205.265,128.318,206.861,128.424,208.499]},{t:"C",p:[128.424,208.499,132.692,213.618,138.991,211.403]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[134.6,211.546]},{t:"C",p:[133.975,211.546,133.469,210.406,133.469,209]},{t:"C",p:[133.469,207.595,133.975,206.455,134.6,206.455]},{t:"C",p:[135.225,206.455,135.732,207.595,135.732,209]},{t:"C",p:[135.732,210.406,135.225,211.546,134.6,211.546]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[134.6,209]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",
p:[89,309.601]},{t:"C",p:[89,309.601,83.4,319.601,108.2,313.601]},{t:"C",p:[108.2,313.601,122.2,312.401,124.6,310.001]},{t:"C",p:[125.8,310.801,134.166,313.734,137,314.401]},{t:"C",p:[143.8,316.001,152.2,306,152.2,306]},{t:"C",p:[152.2,306,156.8,295.5,159.6,295.5]},{t:"C",p:[162.4,295.5,159.2,297.1,159.2,297.1]},{t:"C",p:[159.2,297.1,152.6,307.201,153,308.801]},{t:"C",p:[153,308.801,147.8,328.801,131.8,329.601]},{t:"C",p:[131.8,329.601,115.65,330.551,117,336.401]},{t:"C",p:[117,336.401,125.8,334.001,
128.2,336.401]},{t:"C",p:[128.2,336.401,139,336.001,131,342.401]},{t:"L",p:[124.2,354.001]},{t:"C",p:[124.2,354.001,124.34,357.919,114.2,354.401]},{t:"C",p:[104.4,351.001,94.1,338.101,94.1,338.101]},{t:"C",p:[94.1,338.101,78.15,323.551,89,309.601]},{t:"z",p:[]}]},{f:"#e59999",s:null,p:[{t:"M",p:[87.8,313.601]},{t:"C",p:[87.8,313.601,85.8,323.201,122.6,312.801]},{t:"C",p:[122.6,312.801,127,312.801,129.4,313.601]},{t:"C",p:[131.8,314.401,143.8,317.201,145.8,316.001]},{t:"C",p:[145.8,316.001,138.6,329.601,
127,328.001]},{t:"C",p:[127,328.001,113.8,329.601,114.2,334.401]},{t:"C",p:[114.2,334.401,118.2,341.601,123,344.001]},{t:"C",p:[123,344.001,125.8,346.401,125.4,349.601]},{t:"C",p:[125,352.801,122.2,354.401,120.2,355.201]},{t:"C",p:[118.2,356.001,115,352.801,113.4,352.801]},{t:"C",p:[111.8,352.801,103.4,346.401,99,341.601]},{t:"C",p:[94.6,336.801,86.2,324.801,86.6,322.001]},{t:"C",p:[87,319.201,87.8,313.601,87.8,313.601]},{t:"z",p:[]}]},{f:"#b26565",s:null,p:[{t:"M",p:[91,331.051]},{t:"C",p:[93.6,
335.001,96.8,339.201,99,341.601]},{t:"C",p:[103.4,346.401,111.8,352.801,113.4,352.801]},{t:"C",p:[115,352.801,118.2,356.001,120.2,355.201]},{t:"C",p:[122.2,354.401,125,352.801,125.4,349.601]},{t:"C",p:[125.8,346.401,123,344.001,123,344.001]},{t:"C",p:[119.934,342.468,117.194,338.976,115.615,336.653]},{t:"C",p:[115.615,336.653,115.8,339.201,110.6,338.401]},{t:"C",p:[105.4,337.601,100.2,334.801,98.6,331.601]},{t:"C",p:[97,328.401,94.6,326.001,96.2,329.601]},{t:"C",p:[97.8,333.201,100.2,336.801,101.8,
337.201]},{t:"C",p:[103.4,337.601,103,338.801,100.6,338.401]},{t:"C",p:[98.2,338.001,95.4,337.601,91,332.401]},{t:"z",p:[]}]},{f:"#992600",s:null,p:[{t:"M",p:[88.4,310.001]},{t:"C",p:[88.4,310.001,90.2,296.4,91.4,292.4]},{t:"C",p:[91.4,292.4,90.6,285.6,93,281.4]},{t:"C",p:[95.4,277.2,97.4,271,100.4,265.6]},{t:"C",p:[103.4,260.2,103.6,256.2,107.6,254.6]},{t:"C",p:[111.6,253,117.6,244.4,120.4,243.4]},{t:"C",p:[123.2,242.4,123,243.2,123,243.2]},{t:"C",p:[123,243.2,129.8,228.4,143.4,232.4]},{t:"C",p:[143.4,
232.4,127.2,229.6,143,220.2]},{t:"C",p:[143,220.2,138.2,221.3,141.5,214.3]},{t:"C",p:[143.701,209.632,143.2,216.4,132.2,228.2]},{t:"C",p:[132.2,228.2,127.2,236.8,122,239.8]},{t:"C",p:[116.8,242.8,104.8,249.8,103.6,253.6]},{t:"C",p:[102.4,257.4,99.2,263.2,97.2,264.8]},{t:"C",p:[95.2,266.4,92.4,270.6,92,274]},{t:"C",p:[92,274,90.8,278,89.4,279.2]},{t:"C",p:[88,280.4,87.8,283.6,87.8,285.6]},{t:"C",p:[87.8,287.6,85.8,290.4,86,292.8]},{t:"C",p:[86,292.8,86.8,311.801,86.4,313.801]},{t:"L",p:[88.4,310.001]},
{t:"z",p:[]}]},{f:"#fff",s:null,p:[{t:"M",p:[79.8,314.601]},{t:"C",p:[79.8,314.601,77.8,313.201,73.4,319.201]},{t:"C",p:[73.4,319.201,80.7,352.201,80.7,353.601]},{t:"C",p:[80.7,353.601,81.8,351.501,80.5,344.301]},{t:"C",p:[79.2,337.101,78.3,324.401,78.3,324.401]},{t:"L",p:[79.8,314.601]},{t:"z",p:[]}]},{f:"#992600",s:null,p:[{t:"M",p:[101.4,254]},{t:"C",p:[101.4,254,83.8,257.2,84.2,286.4]},{t:"L",p:[83.4,311.201]},{t:"C",p:[83.4,311.201,82.2,285.6,81,284]},{t:"C",p:[79.8,282.4,83.8,271.2,80.6,277.2]},
{t:"C",p:[80.6,277.2,66.6,291.2,74.6,312.401]},{t:"C",p:[74.6,312.401,76.1,315.701,73.1,311.101]},{t:"C",p:[73.1,311.101,68.5,298.5,69.6,292.1]},{t:"C",p:[69.6,292.1,69.8,289.9,71.7,287.1]},{t:"C",p:[71.7,287.1,80.3,275.4,83,273.1]},{t:"C",p:[83,273.1,84.8,258.7,100.2,253.5]},{t:"C",p:[100.2,253.5,105.9,251.2,101.4,254]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[240.8,187.8]},{t:"C",p:[241.46,187.446,241.451,186.476,242.031,186.303]},{t:"C",p:[243.18,185.959,243.344,184.892,243.862,184.108]},{t:"C",
p:[244.735,182.789,244.928,181.256,245.51,179.765]},{t:"C",p:[245.782,179.065,245.809,178.11,245.496,177.45]},{t:"C",p:[244.322,174.969,243.62,172.52,242.178,170.094]},{t:"C",p:[241.91,169.644,241.648,168.85,241.447,168.252]},{t:"C",p:[240.984,166.868,239.727,165.877,238.867,164.557]},{t:"C",p:[238.579,164.116,239.104,163.191,238.388,163.107]},{t:"C",p:[237.491,163.002,236.042,162.422,235.809,163.448]},{t:"C",p:[235.221,166.035,236.232,168.558,237.2,171]},{t:"C",p:[236.418,171.692,236.752,172.613,
236.904,173.38]},{t:"C",p:[237.614,176.986,236.416,180.338,235.655,183.812]},{t:"C",p:[235.632,183.916,235.974,184.114,235.946,184.176]},{t:"C",p:[234.724,186.862,233.272,189.307,231.453,191.688]},{t:"C",p:[230.695,192.68,229.823,193.596,229.326,194.659]},{t:"C",p:[228.958,195.446,228.55,196.412,228.8,197.4]},{t:"C",p:[225.365,200.18,223.115,204.025,220.504,207.871]},{t:"C",p:[220.042,208.551,220.333,209.76,220.884,210.029]},{t:"C",p:[221.697,210.427,222.653,209.403,223.123,208.557]},{t:"C",p:[223.512,
207.859,223.865,207.209,224.356,206.566]},{t:"C",p:[224.489,206.391,224.31,205.972,224.445,205.851]},{t:"C",p:[227.078,203.504,228.747,200.568,231.2,198.2]},{t:"C",p:[233.15,197.871,234.687,196.873,236.435,195.86]},{t:"C",p:[236.743,195.681,237.267,195.93,237.557,195.735]},{t:"C",p:[239.31,194.558,239.308,192.522,239.414,190.612]},{t:"C",p:[239.464,189.728,239.66,188.411,240.8,187.8]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[231.959,183.334]},{t:"C",p:[232.083,183.257,231.928,182.834,232.037,
182.618]},{t:"C",p:[232.199,182.294,232.602,182.106,232.764,181.782]},{t:"C",p:[232.873,181.566,232.71,181.186,232.846,181.044]},{t:"C",p:[235.179,178.597,235.436,175.573,234.4,172.6]},{t:"C",p:[235.424,171.98,235.485,170.718,235.06,169.871]},{t:"C",p:[234.207,168.171,234.014,166.245,233.039,164.702]},{t:"C",p:[232.237,163.433,230.659,162.189,229.288,163.492]},{t:"C",p:[228.867,163.892,228.546,164.679,228.824,165.391]},{t:"C",p:[228.888,165.554,229.173,165.7,229.146,165.782]},{t:"C",p:[229.039,166.106,
228.493,166.33,228.487,166.602]},{t:"C",p:[228.457,168.098,227.503,169.609,228.133,170.938]},{t:"C",p:[228.905,172.567,229.724,174.424,230.4,176.2]},{t:"C",p:[229.166,178.316,230.199,180.765,228.446,182.642]},{t:"C",p:[228.31,182.788,228.319,183.174,228.441,183.376]},{t:"C",p:[228.733,183.862,229.139,184.268,229.625,184.56]},{t:"C",p:[229.827,184.681,230.175,184.683,230.375,184.559]},{t:"C",p:[230.953,184.197,231.351,183.71,231.959,183.334]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[294.771,173.023]},
{t:"C",p:[296.16,174.815,296.45,177.61,294.401,179]},{t:"C",p:[294.951,182.309,298.302,180.33,300.401,179.8]},{t:"C",p:[300.292,179.412,300.519,179.068,300.802,179.063]},{t:"C",p:[301.859,179.048,302.539,178.016,303.601,178.2]},{t:"C",p:[304.035,176.643,305.673,175.941,306.317,174.561]},{t:"C",p:[308.043,170.866,307.452,166.593,304.868,163.347]},{t:"C",p:[304.666,163.093,304.883,162.576,304.759,162.214]},{t:"C",p:[304.003,160.003,301.935,159.688,300.001,159]},{t:"C",p:[298.824,155.125,298.163,151.094,
296.401,147.4]},{t:"C",p:[294.787,147.15,294.089,145.411,292.752,144.691]},{t:"C",p:[291.419,143.972,290.851,145.551,290.892,146.597]},{t:"C",p:[290.899,146.802,291.351,147.026,291.181,147.391]},{t:"C",p:[291.105,147.555,290.845,147.666,290.845,147.8]},{t:"C",p:[290.846,147.935,291.067,148.066,291.201,148.2]},{t:"C",p:[290.283,149.02,288.86,149.497,288.565,150.642]},{t:"C",p:[287.611,154.352,290.184,157.477,291.852,160.678]},{t:"C",p:[292.443,161.813,291.707,163.084,290.947,164.292]},{t:"C",p:[290.509,
164.987,290.617,166.114,290.893,166.97]},{t:"C",p:[291.645,169.301,293.236,171.04,294.771,173.023]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[257.611,191.409]},{t:"C",p:[256.124,193.26,252.712,195.829,255.629,197.757]},{t:"C",p:[255.823,197.886,256.193,197.89,256.366,197.756]},{t:"C",p:[258.387,196.191,260.39,195.288,262.826,194.706]},{t:"C",p:[262.95,194.677,263.224,195.144,263.593,194.983]},{t:"C",p:[265.206,194.28,267.216,194.338,268.4,193]},{t:"C",p:[272.167,193.224,275.732,192.108,279.123,
190.8]},{t:"C",p:[280.284,190.352,281.554,189.793,282.755,189.291]},{t:"C",p:[284.131,188.715,285.335,187.787,286.447,186.646]},{t:"C",p:[286.58,186.51,286.934,186.6,287.201,186.6]},{t:"C",p:[287.161,185.737,288.123,185.61,288.37,184.988]},{t:"C",p:[288.462,184.756,288.312,184.36,288.445,184.258]},{t:"C",p:[290.583,182.628,291.503,180.61,290.334,178.233]},{t:"C",p:[290.049,177.655,289.8,177.037,289.234,176.561]},{t:"C",p:[288.149,175.65,287.047,176.504,286,176.2]},{t:"C",p:[285.841,176.828,285.112,
176.656,284.726,176.854]},{t:"C",p:[283.867,177.293,282.534,176.708,281.675,177.146]},{t:"C",p:[280.313,177.841,279.072,178.01,277.65,178.387]},{t:"C",p:[277.338,178.469,276.56,178.373,276.4,179]},{t:"C",p:[276.266,178.866,276.118,178.632,276.012,178.654]},{t:"C",p:[274.104,179.05,272.844,179.264,271.543,180.956]},{t:"C",p:[271.44,181.089,270.998,180.91,270.839,181.045]},{t:"C",p:[269.882,181.853,269.477,183.087,268.376,183.759]},{t:"C",p:[268.175,183.882,267.823,183.714,267.629,183.843]},{t:"C",
p:[266.983,184.274,266.616,184.915,265.974,185.362]},{t:"C",p:[265.645,185.591,265.245,185.266,265.277,185.01]},{t:"C",p:[265.522,183.063,266.175,181.276,265.6,179.4]},{t:"C",p:[267.677,176.88,270.194,174.931,272,172.2]},{t:"C",p:[272.015,170.034,272.707,167.888,272.594,165.811]},{t:"C",p:[272.584,165.618,272.296,164.885,272.17,164.538]},{t:"C",p:[271.858,163.684,272.764,162.618,271.92,161.894]},{t:"C",p:[270.516,160.691,269.224,161.567,268.4,163]},{t:"C",p:[266.562,163.39,264.496,164.083,262.918,
162.849]},{t:"C",p:[261.911,162.062,261.333,161.156,260.534,160.1]},{t:"C",p:[259.549,158.798,259.884,157.362,259.954,155.798]},{t:"C",p:[259.96,155.67,259.645,155.534,259.645,155.4]},{t:"C",p:[259.646,155.265,259.866,155.134,260,155]},{t:"C",p:[259.294,154.374,259.019,153.316,258,153]},{t:"C",p:[258.305,151.908,257.629,151.024,256.758,150.722]},{t:"C",p:[254.763,150.031,253.086,151.943,251.194,152.016]},{t:"C",p:[250.68,152.035,250.213,150.997,249.564,150.672]},{t:"C",p:[249.132,150.456,248.428,
150.423,248.066,150.689]},{t:"C",p:[247.378,151.193,246.789,151.307,246.031,151.512]},{t:"C",p:[244.414,151.948,243.136,153.042,241.656,153.897]},{t:"C",p:[240.171,154.754,239.216,156.191,238.136,157.511]},{t:"C",p:[237.195,158.663,237.059,161.077,238.479,161.577]},{t:"C",p:[240.322,162.227,241.626,159.524,243.592,159.85]},{t:"C",p:[243.904,159.901,244.11,160.212,244,160.6]},{t:"C",p:[244.389,160.709,244.607,160.48,244.8,160.2]},{t:"C",p:[245.658,161.219,246.822,161.556,247.76,162.429]},{t:"C",p:[248.73,
163.333,250.476,162.915,251.491,163.912]},{t:"C",p:[253.02,165.414,252.461,168.095,254.4,169.4]},{t:"C",p:[253.814,170.713,253.207,171.99,252.872,173.417]},{t:"C",p:[252.59,174.623,253.584,175.82,254.795,175.729]},{t:"C",p:[256.053,175.635,256.315,174.876,256.8,173.8]},{t:"C",p:[257.067,174.067,257.536,174.364,257.495,174.58]},{t:"C",p:[257.038,176.967,256.011,178.96,255.553,181.391]},{t:"C",p:[255.494,181.708,255.189,181.91,254.8,181.8]},{t:"C",p:[254.332,185.949,250.28,188.343,247.735,191.508]},
{t:"C",p:[247.332,192.01,247.328,193.259,247.737,193.662]},{t:"C",p:[249.14,195.049,251.1,193.503,252.8,193]},{t:"C",p:[253.013,191.794,253.872,190.852,255.204,190.908]},{t:"C",p:[255.46,190.918,255.695,190.376,256.019,190.246]},{t:"C",p:[256.367,190.108,256.869,190.332,257.155,190.134]},{t:"C",p:[258.884,188.939,260.292,187.833,262.03,186.644]},{t:"C",p:[262.222,186.513,262.566,186.672,262.782,186.564]},{t:"C",p:[263.107,186.402,263.294,186.015,263.617,185.83]},{t:"C",p:[263.965,185.63,264.207,185.92,
264.4,186.2]},{t:"C",p:[263.754,186.549,263.75,187.506,263.168,187.708]},{t:"C",p:[262.393,187.976,261.832,188.489,261.158,188.936]},{t:"C",p:[260.866,189.129,260.207,188.881,260.103,189.06]},{t:"C",p:[259.505,190.088,258.321,190.526,257.611,191.409]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[202.2,142]},{t:"C",p:[202.2,142,192.962,139.128,181.8,164.8]},{t:"C",p:[181.8,164.8,179.4,170,177,172]},{t:"C",p:[174.6,174,163.4,177.6,161.4,181.6]},{t:"L",p:[151,197.6]},{t:"C",p:[151,197.6,165.8,181.6,
169,179.2]},{t:"C",p:[169,179.2,177,170.8,173.8,177.6]},{t:"C",p:[173.8,177.6,159.8,188.4,161,197.6]},{t:"C",p:[161,197.6,155.4,212,154.6,214]},{t:"C",p:[154.6,214,170.6,182,173,180.8]},{t:"C",p:[175.4,179.6,176.6,179.6,175.4,183.2]},{t:"C",p:[174.2,186.8,173.8,203.2,171,205.2]},{t:"C",p:[171,205.2,179,184.8,178.2,181.6]},{t:"C",p:[178.2,181.6,181.4,178,183.8,183.2]},{t:"L",p:[182.6,199.2]},{t:"L",p:[187,211.2]},{t:"C",p:[187,211.2,184.6,200,186.2,184.4]},{t:"C",p:[186.2,184.4,184.2,174,188.2,179.6]},
{t:"C",p:[192.2,185.2,201.8,191.2,201.8,196]},{t:"C",p:[201.8,196,196.6,178.4,187.4,173.6]},{t:"L",p:[183.4,179.6]},{t:"L",p:[182.2,177.6]},{t:"C",p:[182.2,177.6,178.6,176.8,183,170]},{t:"C",p:[187.4,163.2,187,162.4,187,162.4]},{t:"C",p:[187,162.4,193.4,169.6,195,169.6]},{t:"C",p:[195,169.6,208.2,162,209.4,186.4]},{t:"C",p:[209.4,186.4,216.2,172,207,165.2]},{t:"C",p:[207,165.2,192.2,163.2,193.4,158]},{t:"L",p:[200.6,145.6]},{t:"C",p:[204.2,140.4,202.6,143.2,202.6,143.2]},{t:"z",p:[]}]},{f:"#000",
s:null,p:[{t:"M",p:[182.2,158.4]},{t:"C",p:[182.2,158.4,169.4,158.4,166.2,163.6]},{t:"L",p:[159,173.2]},{t:"C",p:[159,173.2,176.2,163.2,180.2,162]},{t:"C",p:[184.2,160.8,182.2,158.4,182.2,158.4]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[142.2,164.8]},{t:"C",p:[142.2,164.8,140.2,166,139.8,168.8]},{t:"C",p:[139.4,171.6,137,172,137.8,174.8]},{t:"C",p:[138.6,177.6,140.6,180,140.6,176]},{t:"C",p:[140.6,172,142.2,170,143,168.8]},{t:"C",p:[143.8,167.6,145.4,163.2,142.2,164.8]},{t:"z",p:[]}]},{f:"#000",
s:null,p:[{t:"M",p:[133.4,226]},{t:"C",p:[133.4,226,125,222,121.8,218.4]},{t:"C",p:[118.6,214.8,119.052,219.966,114.2,219.6]},{t:"C",p:[108.353,219.159,109.4,203.2,109.4,203.2]},{t:"L",p:[105.4,210.8]},{t:"C",p:[105.4,210.8,104.2,225.2,112.2,222.8]},{t:"C",p:[116.107,221.628,117.4,223.2,115.8,224]},{t:"C",p:[114.2,224.8,121.4,225.2,118.6,226.8]},{t:"C",p:[115.8,228.4,130.2,223.2,127.8,233.6]},{t:"L",p:[133.4,226]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[120.8,240.4]},{t:"C",p:[120.8,240.4,105.4,
244.8,101.8,235.2]},{t:"C",p:[101.8,235.2,97,237.6,99.2,240.6]},{t:"C",p:[101.4,243.6,102.6,244,102.6,244]},{t:"C",p:[102.6,244,108,245.2,107.4,246]},{t:"C",p:[106.8,246.8,104.4,250.2,104.4,250.2]},{t:"C",p:[104.4,250.2,114.6,244.2,120.8,240.4]},{t:"z",p:[]}]},{f:"#fff",s:null,p:[{t:"M",p:[349.201,318.601]},{t:"C",p:[348.774,320.735,347.103,321.536,345.201,322.201]},{t:"C",p:[343.284,321.243,340.686,318.137,338.801,320.201]},{t:"C",p:[338.327,319.721,337.548,319.661,337.204,318.999]},{t:"C",p:[336.739,
318.101,337.011,317.055,336.669,316.257]},{t:"C",p:[336.124,314.985,335.415,313.619,335.601,312.201]},{t:"C",p:[337.407,311.489,338.002,309.583,337.528,307.82]},{t:"C",p:[337.459,307.563,337.03,307.366,337.23,307.017]},{t:"C",p:[337.416,306.694,337.734,306.467,338.001,306.2]},{t:"C",p:[337.866,306.335,337.721,306.568,337.61,306.548]},{t:"C",p:[337,306.442,337.124,305.805,337.254,305.418]},{t:"C",p:[337.839,303.672,339.853,303.408,341.201,304.6]},{t:"C",p:[341.457,304.035,341.966,304.229,342.401,304.2]},
{t:"C",p:[342.351,303.621,342.759,303.094,342.957,302.674]},{t:"C",p:[343.475,301.576,345.104,302.682,345.901,302.07]},{t:"C",p:[346.977,301.245,348.04,300.546,349.118,301.149]},{t:"C",p:[350.927,302.162,352.636,303.374,353.835,305.115]},{t:"C",p:[354.41,305.949,354.65,307.23,354.592,308.188]},{t:"C",p:[354.554,308.835,353.173,308.483,352.83,309.412]},{t:"C",p:[352.185,311.16,354.016,311.679,354.772,313.017]},{t:"C",p:[354.97,313.366,354.706,313.67,354.391,313.768]},{t:"C",p:[353.98,313.896,353.196,
313.707,353.334,314.16]},{t:"C",p:[354.306,317.353,351.55,318.031,349.201,318.601]},{t:"z",p:[]}]},{f:"#fff",s:null,p:[{t:"M",p:[339.6,338.201]},{t:"C",p:[339.593,336.463,337.992,334.707,339.201,333.001]},{t:"C",p:[339.336,333.135,339.467,333.356,339.601,333.356]},{t:"C",p:[339.736,333.356,339.867,333.135,340.001,333.001]},{t:"C",p:[341.496,335.217,345.148,336.145,345.006,338.991]},{t:"C",p:[344.984,339.438,343.897,340.356,344.801,341.001]},{t:"C",p:[342.988,342.349,342.933,344.719,342.001,346.601]},
{t:"C",p:[340.763,346.315,339.551,345.952,338.401,345.401]},{t:"C",p:[338.753,343.915,338.636,342.231,339.456,340.911]},{t:"C",p:[339.89,340.213,339.603,339.134,339.6,338.201]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[173.4,329.201]},{t:"C",p:[173.4,329.201,156.542,339.337,170.6,324.001]},{t:"C",p:[179.4,314.401,189.4,308.801,189.4,308.801]},{t:"C",p:[189.4,308.801,199.8,304.4,203.4,303.2]},{t:"C",p:[207,302,222.2,296.8,225.4,296.4]},{t:"C",p:[228.6,296,238.2,292,245,296]},{t:"C",p:[251.8,300,
259.8,304.4,259.8,304.4]},{t:"C",p:[259.8,304.4,243.4,296,239.8,298.4]},{t:"C",p:[236.2,300.8,229,300.4,223,303.6]},{t:"C",p:[223,303.6,208.2,308.001,205,310.001]},{t:"C",p:[201.8,312.001,191.4,323.601,189.8,322.801]},{t:"C",p:[188.2,322.001,190.2,321.601,191.4,318.801]},{t:"C",p:[192.6,316.001,190.6,314.401,182.6,320.801]},{t:"C",p:[174.6,327.201,173.4,329.201,173.4,329.201]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[180.805,323.234]},{t:"C",p:[180.805,323.234,182.215,310.194,190.693,311.859]},
{t:"C",p:[190.693,311.859,198.919,307.689,201.641,305.721]},{t:"C",p:[201.641,305.721,209.78,304.019,211.09,303.402]},{t:"C",p:[229.569,294.702,244.288,299.221,244.835,298.101]},{t:"C",p:[245.381,296.982,265.006,304.099,268.615,308.185]},{t:"C",p:[269.006,308.628,258.384,302.588,248.686,300.697]},{t:"C",p:[240.413,299.083,218.811,300.944,207.905,306.48]},{t:"C",p:[204.932,307.989,195.987,313.773,193.456,313.662]},{t:"C",p:[190.925,313.55,180.805,323.234,180.805,323.234]},{t:"z",p:[]}]},{f:"#ccc",
s:null,p:[{t:"M",p:[177,348.801]},{t:"C",p:[177,348.801,161.8,346.401,178.6,344.801]},{t:"C",p:[178.6,344.801,196.6,342.801,200.6,337.601]},{t:"C",p:[200.6,337.601,214.2,328.401,217,328.001]},{t:"C",p:[219.8,327.601,249.8,320.401,250.2,318.001]},{t:"C",p:[250.6,315.601,256.2,315.601,257.8,316.401]},{t:"C",p:[259.4,317.201,258.6,318.401,255.8,319.201]},{t:"C",p:[253,320.001,221.8,336.401,215.4,337.601]},{t:"C",p:[209,338.801,197.4,346.401,192.6,347.601]},{t:"C",p:[187.8,348.801,177,348.801,177,348.801]},
{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[196.52,341.403]},{t:"C",p:[196.52,341.403,187.938,340.574,196.539,339.755]},{t:"C",p:[196.539,339.755,205.355,336.331,207.403,333.668]},{t:"C",p:[207.403,333.668,214.367,328.957,215.8,328.753]},{t:"C",p:[217.234,328.548,231.194,324.861,231.399,323.633]},{t:"C",p:[231.604,322.404,265.67,309.823,270.09,313.013]},{t:"C",p:[273.001,315.114,263.1,313.437,253.466,317.847]},{t:"C",p:[252.111,318.467,218.258,333.054,214.981,333.668]},{t:"C",p:[211.704,334.283,
205.765,338.174,203.307,338.788]},{t:"C",p:[200.85,339.403,196.52,341.403,196.52,341.403]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[188.6,343.601]},{t:"C",p:[188.6,343.601,193.8,343.201,192.6,344.801]},{t:"C",p:[191.4,346.401,189,345.601,189,345.601]},{t:"L",p:[188.6,343.601]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[181.4,345.201]},{t:"C",p:[181.4,345.201,186.6,344.801,185.4,346.401]},{t:"C",p:[184.2,348.001,181.8,347.201,181.8,347.201]},{t:"L",p:[181.4,345.201]},{t:"z",p:[]}]},{f:"#000",
s:null,p:[{t:"M",p:[171,346.801]},{t:"C",p:[171,346.801,176.2,346.401,175,348.001]},{t:"C",p:[173.8,349.601,171.4,348.801,171.4,348.801]},{t:"L",p:[171,346.801]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[163.4,347.601]},{t:"C",p:[163.4,347.601,168.6,347.201,167.4,348.801]},{t:"C",p:[166.2,350.401,163.8,349.601,163.8,349.601]},{t:"L",p:[163.4,347.601]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[201.8,308.001]},{t:"C",p:[201.8,308.001,206.2,308.001,205,309.601]},{t:"C",p:[203.8,311.201,200.6,310.801,
200.6,310.801]},{t:"L",p:[201.8,308.001]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[191.8,313.601]},{t:"C",p:[191.8,313.601,198.306,311.46,195.8,314.801]},{t:"C",p:[194.6,316.401,192.2,315.601,192.2,315.601]},{t:"L",p:[191.8,313.601]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[180.6,318.401]},{t:"C",p:[180.6,318.401,185.8,318.001,184.6,319.601]},{t:"C",p:[183.4,321.201,181,320.401,181,320.401]},{t:"L",p:[180.6,318.401]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[173,324.401]},{t:"C",p:[173,
324.401,178.2,324.001,177,325.601]},{t:"C",p:[175.8,327.201,173.4,326.401,173.4,326.401]},{t:"L",p:[173,324.401]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[166.2,329.201]},{t:"C",p:[166.2,329.201,171.4,328.801,170.2,330.401]},{t:"C",p:[169,332.001,166.6,331.201,166.6,331.201]},{t:"L",p:[166.2,329.201]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[205.282,335.598]},{t:"C",p:[205.282,335.598,212.203,335.066,210.606,337.195]},{t:"C",p:[209.009,339.325,205.814,338.26,205.814,338.26]},{t:"L",p:[205.282,
335.598]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[215.682,330.798]},{t:"C",p:[215.682,330.798,222.603,330.266,221.006,332.395]},{t:"C",p:[219.409,334.525,216.214,333.46,216.214,333.46]},{t:"L",p:[215.682,330.798]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[226.482,326.398]},{t:"C",p:[226.482,326.398,233.403,325.866,231.806,327.995]},{t:"C",p:[230.209,330.125,227.014,329.06,227.014,329.06]},{t:"L",p:[226.482,326.398]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[236.882,321.598]},{t:"C",p:[236.882,
321.598,243.803,321.066,242.206,323.195]},{t:"C",p:[240.609,325.325,237.414,324.26,237.414,324.26]},{t:"L",p:[236.882,321.598]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[209.282,303.598]},{t:"C",p:[209.282,303.598,216.203,303.066,214.606,305.195]},{t:"C",p:[213.009,307.325,209.014,307.06,209.014,307.06]},{t:"L",p:[209.282,303.598]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[219.282,300.398]},{t:"C",p:[219.282,300.398,226.203,299.866,224.606,301.995]},{t:"C",p:[223.009,304.125,218.614,303.86,
218.614,303.86]},{t:"L",p:[219.282,300.398]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[196.6,340.401]},{t:"C",p:[196.6,340.401,201.8,340.001,200.6,341.601]},{t:"C",p:[199.4,343.201,197,342.401,197,342.401]},{t:"L",p:[196.6,340.401]},{t:"z",p:[]}]},{f:"#992600",s:null,p:[{t:"M",p:[123.4,241.2]},{t:"C",p:[123.4,241.2,119,250,118.6,253.2]},{t:"C",p:[118.6,253.2,119.4,244.4,120.6,242.4]},{t:"C",p:[121.8,240.4,123.4,241.2,123.4,241.2]},{t:"z",p:[]}]},{f:"#992600",s:null,p:[{t:"M",p:[105,255.2]},{t:"C",
p:[105,255.2,101.8,269.6,102.2,272.4]},{t:"C",p:[102.2,272.4,101,260.8,101.4,259.6]},{t:"C",p:[101.8,258.4,105,255.2,105,255.2]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[125.8,180.6]},{t:"L",p:[125.6,183.8]},{t:"L",p:[123.4,184]},{t:"C",p:[123.4,184,137.6,196.6,138.2,204.2]},{t:"C",p:[138.2,204.2,139,196,125.8,180.6]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[129.784,181.865]},{t:"C",p:[129.353,181.449,129.572,180.704,129.164,180.444]},{t:"C",p:[128.355,179.928,130.462,179.871,130.234,179.155]},
{t:"C",p:[129.851,177.949,130.038,177.928,129.916,176.652]},{t:"C",p:[129.859,176.054,130.447,174.514,130.832,174.074]},{t:"C",p:[132.278,172.422,130.954,169.49,132.594,167.939]},{t:"C",p:[132.898,167.65,133.274,167.098,133.559,166.68]},{t:"C",p:[134.218,165.717,135.402,165.229,136.352,164.401]},{t:"C",p:[136.67,164.125,136.469,163.298,137.038,163.39]},{t:"C",p:[137.752,163.505,138.993,163.375,138.948,164.216]},{t:"C",p:[138.835,166.336,137.506,168.056,136.226,169.724]},{t:"C",p:[136.677,170.428,
136.219,171.063,135.935,171.62]},{t:"C",p:[134.6,174.24,134.789,177.081,134.615,179.921]},{t:"C",p:[134.61,180.006,134.303,180.084,134.311,180.137]},{t:"C",p:[134.664,182.472,135.248,184.671,136.127,186.9]},{t:"C",p:[136.493,187.83,136.964,188.725,137.114,189.652]},{t:"C",p:[137.225,190.338,137.328,191.171,136.92,191.876]},{t:"C",p:[138.955,194.766,137.646,197.417,138.815,200.948]},{t:"C",p:[139.022,201.573,140.714,203.487,140.251,203.326]},{t:"C",p:[137.738,202.455,137.626,202.057,137.449,201.304]},
{t:"C",p:[137.303,200.681,136.973,199.304,136.736,198.702]},{t:"C",p:[136.672,198.538,136.501,196.654,136.423,196.532]},{t:"C",p:[134.91,194.15,136.268,194.326,134.898,191.968]},{t:"C",p:[133.47,191.288,132.504,190.184,131.381,189.022]},{t:"C",p:[131.183,188.818,132.326,188.094,132.145,187.881]},{t:"C",p:[131.053,186.592,129.9,185.825,130.236,184.332]},{t:"C",p:[130.391,183.642,130.528,182.585,129.784,181.865]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[126.2,183.6]},{t:"C",p:[126.2,183.6,126.6,
190.4,129,192]},{t:"C",p:[131.4,193.6,130.2,192.8,127,191.6]},{t:"C",p:[123.8,190.4,125,189.6,125,189.6]},{t:"C",p:[125,189.6,122.2,190,124.6,192]},{t:"C",p:[127,194,130.6,196.4,129,196.4]},{t:"C",p:[127.4,196.4,119.8,192.4,119.8,189.6]},{t:"C",p:[119.8,186.8,118.8,182.7,118.8,182.7]},{t:"C",p:[118.8,182.7,119.9,181.9,124.7,182]},{t:"C",p:[124.7,182,126.1,182.7,126.2,183.6]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[125.4,202.2]},{t:"C",p:[125.4,202.2,116.88,199.409,98.4,202.8]},{t:"C",
p:[98.4,202.8,107.431,200.722,126.2,203]},{t:"C",p:[136.5,204.25,125.4,202.2,125.4,202.2]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[127.498,202.129]},{t:"C",p:[127.498,202.129,119.252,198.611,100.547,200.392]},{t:"C",p:[100.547,200.392,109.725,199.103,128.226,202.995]},{t:"C",p:[138.38,205.131,127.498,202.129,127.498,202.129]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[129.286,202.222]},{t:"C",p:[129.286,202.222,121.324,198.101,102.539,198.486]},{t:"C",p:[102.539,198.486,
111.787,197.882,129.948,203.14]},{t:"C",p:[139.914,206.025,129.286,202.222,129.286,202.222]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[130.556,202.445]},{t:"C",p:[130.556,202.445,123.732,198.138,106.858,197.04]},{t:"C",p:[106.858,197.04,115.197,197.21,131.078,203.319]},{t:"C",p:[139.794,206.672,130.556,202.445,130.556,202.445]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[245.84,212.961]},{t:"C",p:[245.84,212.961,244.91,213.605,245.124,212.424]},{t:"C",p:[245.339,211.243,
273.547,198.073,277.161,198.323]},{t:"C",p:[277.161,198.323,246.913,211.529,245.84,212.961]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[242.446,213.6]},{t:"C",p:[242.446,213.6,241.57,214.315,241.691,213.121]},{t:"C",p:[241.812,211.927,268.899,196.582,272.521,196.548]},{t:"C",p:[272.521,196.548,243.404,212.089,242.446,213.6]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[239.16,214.975]},{t:"C",p:[239.16,214.975,238.332,215.747,238.374,214.547]},{t:"C",p:[238.416,213.348,258.233,
197.851,268.045,195.977]},{t:"C",p:[268.045,195.977,250.015,204.104,239.16,214.975]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[236.284,216.838]},{t:"C",p:[236.284,216.838,235.539,217.532,235.577,216.453]},{t:"C",p:[235.615,215.373,253.449,201.426,262.28,199.74]},{t:"C",p:[262.28,199.74,246.054,207.054,236.284,216.838]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[204.6,364.801]},{t:"C",p:[204.6,364.801,189.4,362.401,206.2,360.801]},{t:"C",p:[206.2,360.801,224.2,358.801,228.2,353.601]},
{t:"C",p:[228.2,353.601,241.8,344.401,244.6,344.001]},{t:"C",p:[247.4,343.601,263.8,340.001,264.2,337.601]},{t:"C",p:[264.6,335.201,270.6,332.801,272.2,333.601]},{t:"C",p:[273.8,334.401,273.8,343.601,271,344.401]},{t:"C",p:[268.2,345.201,249.4,352.401,243,353.601]},{t:"C",p:[236.6,354.801,225,362.401,220.2,363.601]},{t:"C",p:[215.4,364.801,204.6,364.801,204.6,364.801]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[277.6,327.401]},{t:"C",p:[277.6,327.401,274.6,329.001,273.4,331.601]},{t:"C",p:[273.4,
331.601,267,342.201,252.8,345.401]},{t:"C",p:[252.8,345.401,229.8,354.401,222,356.401]},{t:"C",p:[222,356.401,208.6,361.401,201.2,360.601]},{t:"C",p:[201.2,360.601,194.2,360.801,200.4,362.401]},{t:"C",p:[200.4,362.401,220.6,360.401,224,358.601]},{t:"C",p:[224,358.601,239.6,353.401,242.6,350.801]},{t:"C",p:[245.6,348.201,263.8,343.201,266,341.201]},{t:"C",p:[268.2,339.201,278,330.801,277.6,327.401]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[218.882,358.911]},{t:"C",p:[218.882,358.911,224.111,358.685,
222.958,360.234]},{t:"C",p:[221.805,361.784,219.357,360.91,219.357,360.91]},{t:"L",p:[218.882,358.911]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[211.68,360.263]},{t:"C",p:[211.68,360.263,216.908,360.037,215.756,361.586]},{t:"C",p:[214.603,363.136,212.155,362.263,212.155,362.263]},{t:"L",p:[211.68,360.263]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[201.251,361.511]},{t:"C",p:[201.251,361.511,206.48,361.284,205.327,362.834]},{t:"C",p:[204.174,364.383,201.726,363.51,201.726,363.51]},{t:"L",p:[201.251,
361.511]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[193.617,362.055]},{t:"C",p:[193.617,362.055,198.846,361.829,197.693,363.378]},{t:"C",p:[196.54,364.928,194.092,364.054,194.092,364.054]},{t:"L",p:[193.617,362.055]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[235.415,351.513]},{t:"C",p:[235.415,351.513,242.375,351.212,240.84,353.274]},{t:"C",p:[239.306,355.336,236.047,354.174,236.047,354.174]},{t:"L",p:[235.415,351.513]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[245.73,347.088]},{t:"C",p:[245.73,
347.088,251.689,343.787,251.155,348.849]},{t:"C",p:[250.885,351.405,246.362,349.749,246.362,349.749]},{t:"L",p:[245.73,347.088]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[254.862,344.274]},{t:"C",p:[254.862,344.274,262.021,340.573,260.287,346.035]},{t:"C",p:[259.509,348.485,255.493,346.935,255.493,346.935]},{t:"L",p:[254.862,344.274]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[264.376,339.449]},{t:"C",p:[264.376,339.449,268.735,334.548,269.801,341.21]},{t:"C",p:[270.207,343.748,265.008,342.11,
265.008,342.11]},{t:"L",p:[264.376,339.449]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[226.834,355.997]},{t:"C",p:[226.834,355.997,232.062,355.77,230.91,357.32]},{t:"C",p:[229.757,358.869,227.308,357.996,227.308,357.996]},{t:"L",p:[226.834,355.997]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[262.434,234.603]},{t:"C",p:[262.434,234.603,261.708,235.268,261.707,234.197]},{t:"C",p:[261.707,233.127,279.191,219.863,288.034,218.479]},{t:"C",p:[288.034,218.479,271.935,225.208,262.434,234.603]},
{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[265.4,298.4]},{t:"C",p:[265.4,298.4,287.401,320.801,296.601,324.401]},{t:"C",p:[296.601,324.401,305.801,335.601,301.801,361.601]},{t:"C",p:[301.801,361.601,298.601,369.201,295.401,348.401]},{t:"C",p:[295.401,348.401,298.601,323.201,287.401,339.201]},{t:"C",p:[287.401,339.201,279,329.301,285.4,329.601]},{t:"C",p:[285.4,329.601,288.601,331.601,289.001,330.001]},{t:"C",p:[289.401,328.401,281.4,314.801,264.2,300.4]},{t:"C",p:[247,286,265.4,298.4,265.4,298.4]},
{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[207,337.201]},{t:"C",p:[207,337.201,206.8,335.401,208.6,336.201]},{t:"C",p:[210.4,337.001,304.601,343.201,336.201,367.201]},{t:"C",p:[336.201,367.201,291.001,344.001,207,337.201]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[217.4,332.801]},{t:"C",p:[217.4,332.801,217.2,331.001,219,331.801]},{t:"C",p:[220.8,332.601,357.401,331.601,381.001,364.001]},{t:"C",p:[381.001,364.001,359.001,338.801,217.4,332.801]},{t:"z",p:[]}]},{f:"#fff",
s:{c:"#000",w:.1},p:[{t:"M",p:[229,328.801]},{t:"C",p:[229,328.801,228.8,327.001,230.6,327.801]},{t:"C",p:[232.4,328.601,405.801,315.601,429.401,348.001]},{t:"C",p:[429.401,348.001,419.801,322.401,229,328.801]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[239,324.001]},{t:"C",p:[239,324.001,238.8,322.201,240.6,323.001]},{t:"C",p:[242.4,323.801,364.601,285.2,388.201,317.601]},{t:"C",p:[388.201,317.601,374.801,293,239,324.001]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[181,
346.801]},{t:"C",p:[181,346.801,180.8,345.001,182.6,345.801]},{t:"C",p:[184.4,346.601,202.2,348.801,204.2,387.601]},{t:"C",p:[204.2,387.601,197,345.601,181,346.801]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[172.2,348.401]},{t:"C",p:[172.2,348.401,172,346.601,173.8,347.401]},{t:"C",p:[175.6,348.201,189.8,343.601,187,382.401]},{t:"C",p:[187,382.401,188.2,347.201,172.2,348.401]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[164.2,348.801]},{t:"C",p:[164.2,348.801,164,347.001,
165.8,347.801]},{t:"C",p:[167.6,348.601,183,349.201,170.6,371.601]},{t:"C",p:[170.6,371.601,180.2,347.601,164.2,348.801]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[211.526,304.465]},{t:"C",p:[211.526,304.465,211.082,306.464,212.631,305.247]},{t:"C",p:[228.699,292.622,261.141,233.72,316.826,228.086]},{t:"C",p:[316.826,228.086,278.518,215.976,211.526,304.465]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[222.726,302.665]},{t:"C",p:[222.726,302.665,221.363,301.472,223.231,300.847]},
{t:"C",p:[225.099,300.222,337.541,227.72,376.826,235.686]},{t:"C",p:[376.826,235.686,349.719,228.176,222.726,302.665]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[201.885,308.767]},{t:"C",p:[201.885,308.767,201.376,310.366,203.087,309.39]},{t:"C",p:[212.062,304.27,215.677,247.059,259.254,245.804]},{t:"C",p:[259.254,245.804,226.843,231.09,201.885,308.767]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[181.962,319.793]},{t:"C",p:[181.962,319.793,180.885,321.079,182.838,320.825]},
{t:"C",p:[193.084,319.493,214.489,278.222,258.928,283.301]},{t:"C",p:[258.928,283.301,226.962,268.955,181.962,319.793]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[193.2,313.667]},{t:"C",p:[193.2,313.667,192.389,315.136,194.258,314.511]},{t:"C",p:[204.057,311.237,217.141,266.625,261.729,263.078]},{t:"C",p:[261.729,263.078,227.603,255.135,193.2,313.667]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[174.922,324.912]},{t:"C",p:[174.922,324.912,174.049,325.954,175.631,325.748]},
{t:"C",p:[183.93,324.669,201.268,291.24,237.264,295.354]},{t:"C",p:[237.264,295.354,211.371,283.734,174.922,324.912]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[167.323,330.821]},{t:"C",p:[167.323,330.821,166.318,331.866,167.909,331.748]},{t:"C",p:[172.077,331.439,202.715,298.36,221.183,313.862]},{t:"C",p:[221.183,313.862,209.168,295.139,167.323,330.821]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[236.855,298.898]},{t:"C",p:[236.855,298.898,235.654,297.543,237.586,297.158]},
{t:"C",p:[239.518,296.774,360.221,239.061,398.184,251.927]},{t:"C",p:[398.184,251.927,372.243,241.053,236.855,298.898]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[203.4,363.201]},{t:"C",p:[203.4,363.201,203.2,361.401,205,362.201]},{t:"C",p:[206.8,363.001,222.2,363.601,209.8,386.001]},{t:"C",p:[209.8,386.001,219.4,362.001,203.4,363.201]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[213.8,361.601]},{t:"C",p:[213.8,361.601,213.6,359.801,215.4,360.601]},{t:"C",p:[217.2,361.401,
235,363.601,237,402.401]},{t:"C",p:[237,402.401,229.8,360.401,213.8,361.601]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[220.6,360.001]},{t:"C",p:[220.6,360.001,220.4,358.201,222.2,359.001]},{t:"C",p:[224,359.801,248.6,363.201,272.2,395.601]},{t:"C",p:[272.2,395.601,236.6,358.801,220.6,360.001]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[228.225,357.972]},{t:"C",p:[228.225,357.972,227.788,356.214,229.678,356.768]},{t:"C",p:[231.568,357.322,252.002,355.423,290.099,389.599]},
{t:"C",p:[290.099,389.599,243.924,354.656,228.225,357.972]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[238.625,353.572]},{t:"C",p:[238.625,353.572,238.188,351.814,240.078,352.368]},{t:"C",p:[241.968,352.922,276.802,357.423,328.499,392.399]},{t:"C",p:[328.499,392.399,254.324,350.256,238.625,353.572]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[198.2,342.001]},{t:"C",p:[198.2,342.001,198,340.201,199.8,341.001]},{t:"C",p:[201.6,341.801,255,344.401,285.4,371.201]},{t:"C",p:[285.4,
371.201,250.499,346.426,198.2,342.001]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[188.2,346.001]},{t:"C",p:[188.2,346.001,188,344.201,189.8,345.001]},{t:"C",p:[191.6,345.801,216.2,349.201,239.8,381.601]},{t:"C",p:[239.8,381.601,204.2,344.801,188.2,346.001]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[249.503,348.962]},{t:"C",p:[249.503,348.962,248.938,347.241,250.864,347.655]},{t:"C",p:[252.79,348.068,287.86,350.004,341.981,381.098]},{t:"C",p:[341.981,381.098,264.317,346.704,
249.503,348.962]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[257.903,346.562]},{t:"C",p:[257.903,346.562,257.338,344.841,259.264,345.255]},{t:"C",p:[261.19,345.668,296.26,347.604,350.381,378.698]},{t:"C",p:[350.381,378.698,273.317,343.904,257.903,346.562]},{t:"z",p:[]}]},{f:"#fff",s:{c:"#000",w:.1},p:[{t:"M",p:[267.503,341.562]},{t:"C",p:[267.503,341.562,266.938,339.841,268.864,340.255]},{t:"C",p:[270.79,340.668,313.86,345.004,403.582,379.298]},{t:"C",p:[403.582,379.298,282.917,338.904,
267.503,341.562]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[156.2,348.401]},{t:"C",p:[156.2,348.401,161.4,348.001,160.2,349.601]},{t:"C",p:[159,351.201,156.6,350.401,156.6,350.401]},{t:"L",p:[156.2,348.401]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[187,362.401]},{t:"C",p:[187,362.401,192.2,362.001,191,363.601]},{t:"C",p:[189.8,365.201,187.4,364.401,187.4,364.401]},{t:"L",p:[187,362.401]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[178.2,362.001]},{t:"C",p:[178.2,362.001,183.4,361.601,182.2,
363.201]},{t:"C",p:[181,364.801,178.6,364.001,178.6,364.001]},{t:"L",p:[178.2,362.001]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[82.831,350.182]},{t:"C",p:[82.831,350.182,87.876,351.505,86.218,352.624]},{t:"C",p:[84.561,353.744,82.554,352.202,82.554,352.202]},{t:"L",p:[82.831,350.182]},{t:"z",p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[84.831,340.582]},{t:"C",p:[84.831,340.582,89.876,341.905,88.218,343.024]},{t:"C",p:[86.561,344.144,84.554,342.602,84.554,342.602]},{t:"L",p:[84.831,340.582]},{t:"z",
p:[]}]},{f:"#000",s:null,p:[{t:"M",p:[77.631,336.182]},{t:"C",p:[77.631,336.182,82.676,337.505,81.018,338.624]},{t:"C",p:[79.361,339.744,77.354,338.202,77.354,338.202]},{t:"L",p:[77.631,336.182]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[157.4,411.201]},{t:"C",p:[157.4,411.201,155.8,411.201,151.8,413.201]},{t:"C",p:[149.8,413.201,138.6,416.801,133,426.801]},{t:"C",p:[133,426.801,145.4,417.201,157.4,411.201]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[245.116,503.847]},{t:"C",p:[245.257,504.105,
245.312,504.525,245.604,504.542]},{t:"C",p:[246.262,504.582,247.495,504.883,247.37,504.247]},{t:"C",p:[246.522,499.941,245.648,495.004,241.515,493.197]},{t:"C",p:[240.876,492.918,239.434,493.331,239.36,494.215]},{t:"C",p:[239.233,495.739,239.116,497.088,239.425,498.554]},{t:"C",p:[239.725,499.975,241.883,499.985,242.8,498.601]},{t:"C",p:[243.736,500.273,244.168,502.116,245.116,503.847]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[234.038,508.581]},{t:"C",p:[234.786,509.994,234.659,511.853,236.074,
512.416]},{t:"C",p:[236.814,512.71,238.664,511.735,238.246,510.661]},{t:"C",p:[237.444,508.6,237.056,506.361,235.667,504.55]},{t:"C",p:[235.467,504.288,235.707,503.755,235.547,503.427]},{t:"C",p:[234.953,502.207,233.808,501.472,232.4,501.801]},{t:"C",p:[231.285,504.004,232.433,506.133,233.955,507.842]},{t:"C",p:[234.091,507.994,233.925,508.37,234.038,508.581]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[194.436,503.391]},{t:"C",p:[194.328,503.014,194.29,502.551,194.455,502.23]},{t:"C",p:[194.986,
501.197,195.779,500.075,195.442,499.053]},{t:"C",p:[195.094,497.997,193.978,498.179,193.328,498.748]},{t:"C",p:[192.193,499.742,192.144,501.568,191.453,502.927]},{t:"C",p:[191.257,503.313,191.308,503.886,190.867,504.277]},{t:"C",p:[190.393,504.698,189.953,506.222,190.049,506.793]},{t:"C",p:[190.102,507.106,189.919,517.014,190.141,516.751]},{t:"C",p:[190.76,516.018,193.81,506.284,193.879,505.392]},{t:"C",p:[193.936,504.661,194.668,504.196,194.436,503.391]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",
p:[168.798,496.599]},{t:"C",p:[171.432,494.1,174.222,491.139,173.78,487.427]},{t:"C",p:[173.664,486.451,171.889,486.978,171.702,487.824]},{t:"C",p:[170.9,491.449,168.861,494.11,166.293,496.502]},{t:"C",p:[164.097,498.549,162.235,504.893,162,505.401]},{t:"C",p:[165.697,500.145,167.954,497.399,168.798,496.599]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[155.224,490.635]},{t:"C",p:[155.747,490.265,155.445,489.774,155.662,489.442]},{t:"C",p:[156.615,487.984,157.916,486.738,157.934,485]},{t:"C",p:[157.937,
484.723,157.559,484.414,157.224,484.638]},{t:"C",p:[156.947,484.822,156.605,484.952,156.497,485.082]},{t:"C",p:[154.467,487.531,153.067,490.202,151.624,493.014]},{t:"C",p:[151.441,493.371,150.297,497.862,150.61,497.973]},{t:"C",p:[150.849,498.058,152.569,493.877,152.779,493.763]},{t:"C",p:[154.042,493.077,154.054,491.462,155.224,490.635]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[171.957,510.179]},{t:"C",p:[172.401,509.31,173.977,508.108,173.864,507.219]},{t:"C",p:[173.746,506.291,174.214,504.848,
173.302,505.536]},{t:"C",p:[172.045,506.484,168.596,507.833,168.326,513.641]},{t:"C",p:[168.3,514.212,171.274,511.519,171.957,510.179]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[186.4,493.001]},{t:"C",p:[186.8,492.333,187.508,492.806,187.967,492.543]},{t:"C",p:[188.615,492.171,189.226,491.613,189.518,490.964]},{t:"C",p:[190.488,488.815,192.257,486.995,192.4,484.601]},{t:"C",p:[190.909,483.196,190.23,485.236,189.6,486.201]},{t:"C",p:[188.277,484.554,187.278,486.428,185.978,486.947]},{t:"C",p:[185.908,
486.975,185.695,486.628,185.62,486.655]},{t:"C",p:[184.443,487.095,183.763,488.176,182.765,488.957]},{t:"C",p:[182.594,489.091,182.189,488.911,182.042,489.047]},{t:"C",p:[181.39,489.65,180.417,489.975,180.137,490.657]},{t:"C",p:[179.027,493.364,175.887,495.459,174,503.001]},{t:"C",p:[174.381,503.91,178.512,496.359,178.999,495.661]},{t:"C",p:[179.835,494.465,179.953,497.322,181.229,496.656]},{t:"C",p:[181.28,496.629,181.466,496.867,181.6,497.001]},{t:"C",p:[181.794,496.721,182.012,496.492,182.4,496.601]},
{t:"C",p:[182.4,496.201,182.266,495.645,182.467,495.486]},{t:"C",p:[183.704,494.509,183.62,493.441,184.4,492.201]},{t:"C",p:[184.858,492.99,185.919,492.271,186.4,493.001]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[246.2,547.401]},{t:"C",p:[246.2,547.401,253.6,527.001,249.2,515.801]},{t:"C",p:[249.2,515.801,260.6,537.401,256,548.601]},{t:"C",p:[256,548.601,255.6,538.201,251.6,533.201]},{t:"C",p:[251.6,533.201,247.6,546.001,246.2,547.401]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[231.4,544.801]},
{t:"C",p:[231.4,544.801,236.8,536.001,228.8,517.601]},{t:"C",p:[228.8,517.601,228,538.001,221.2,549.001]},{t:"C",p:[221.2,549.001,235.4,528.801,231.4,544.801]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[221.4,542.801]},{t:"C",p:[221.4,542.801,221.2,522.801,221.6,519.801]},{t:"C",p:[221.6,519.801,217.8,536.401,207.6,546.001]},{t:"C",p:[207.6,546.001,222,534.001,221.4,542.801]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[211.8,510.801]},{t:"C",p:[211.8,510.801,217.8,524.401,207.8,542.801]},{t:"C",
p:[207.8,542.801,214.2,530.601,209.4,523.601]},{t:"C",p:[209.4,523.601,212,520.201,211.8,510.801]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[192.6,542.401]},{t:"C",p:[192.6,542.401,191.6,526.801,193.4,524.601]},{t:"C",p:[193.4,524.601,193.6,518.201,193.2,517.201]},{t:"C",p:[193.2,517.201,197.2,511.001,197.4,518.401]},{t:"C",p:[197.4,518.401,198.8,526.201,201.6,530.801]},{t:"C",p:[201.6,530.801,205.2,536.201,205,542.601]},{t:"C",p:[205,542.601,195,512.401,192.6,542.401]},{t:"z",p:[]}]},{f:"#ccc",
s:null,p:[{t:"M",p:[189,514.801]},{t:"C",p:[189,514.801,182.4,525.601,180.6,544.601]},{t:"C",p:[180.6,544.601,179.2,538.401,183,524.001]},{t:"C",p:[183,524.001,187.2,508.601,189,514.801]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[167.2,534.601]},{t:"C",p:[167.2,534.601,172.2,529.201,173.6,524.201]},{t:"C",p:[173.6,524.201,177.2,508.401,170.8,517.001]},{t:"C",p:[170.8,517.001,171,525.001,162.8,532.401]},{t:"C",p:[162.8,532.401,167.6,530.001,167.2,534.601]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",
p:[161.4,529.601]},{t:"C",p:[161.4,529.601,164.8,512.201,165.6,511.401]},{t:"C",p:[165.6,511.401,167.4,508.001,164.6,511.201]},{t:"C",p:[164.6,511.201,155.8,530.401,151.8,537.001]},{t:"C",p:[151.8,537.001,159.8,527.801,161.4,529.601]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[155.6,513.001]},{t:"C",p:[155.6,513.001,167.2,490.601,145.4,516.401]},{t:"C",p:[145.4,516.401,156.4,506.601,155.6,513.001]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[140.2,498.401]},{t:"C",p:[140.2,498.401,145,479.601,
147.6,479.801]},{t:"C",p:[147.6,479.801,155.8,470.801,149.2,481.401]},{t:"C",p:[149.2,481.401,143.2,491.001,143.8,500.801]},{t:"C",p:[143.8,500.801,143.2,491.201,140.2,498.401]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[470.5,487]},{t:"C",p:[470.5,487,458.5,477,456,473.5]},{t:"C",p:[456,473.5,469.5,492,469.5,499]},{t:"C",p:[469.5,499,472,491.5,470.5,487]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[476,465]},{t:"C",p:[476,465,455,450,451.5,442.5]},{t:"C",p:[451.5,442.5,478,472,478,476.5]},{t:"C",
p:[478,476.5,478.5,467.5,476,465]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[493,311]},{t:"C",p:[493,311,481,303,479.5,305]},{t:"C",p:[479.5,305,490,311.5,492.5,320]},{t:"C",p:[492.5,320,491,311,493,311]},{t:"z",p:[]}]},{f:"#ccc",s:null,p:[{t:"M",p:[501.5,391.5]},{t:"L",p:[484,379.5]},{t:"C",p:[484,379.5,503,396.5,503.5,400.5]},{t:"L",p:[501.5,391.5]},{t:"z",p:[]}]},{f:null,s:"#000",p:[{t:"M",p:[110.75,369]},{t:"L",p:[132.75,373.75]}]},{f:null,s:"#000",p:[{t:"M",p:[161,531]},{t:"C",p:[161,531,
160.5,527.5,151.5,538]}]},{f:null,s:"#000",p:[{t:"M",p:[166.5,536]},{t:"C",p:[166.5,536,168.5,529.5,162,534]}]},{f:null,s:"#000",p:[{t:"M",p:[220.5,544.5]},{t:"C",p:[220.5,544.5,222,533.5,210.5,546.5]}]}];var testData=["Countries",[["A",[["Afghanistan"],["Albania"],["Algeria"],["American Samoa"],["Andorra"],["Angola"],["Anguilla"],["Antarctica"],["Antigua and Barbuda"],["Argentina"],["Armenia"],["Aruba"],["Australia"],["Austria"],["Azerbaijan"]]],["B",[["Bahamas"],["Bahrain"],["Bangladesh"],["Barbados"],["Belarus"],["Belgium"],["Belize"],["Benin"],["Bermuda"],["Bhutan"],["Bolivia"],["Bosnia and Herzegovina"],["Botswana"],["Bouvet Island"],["Brazil"],["British Indian Ocean Territory"],["Brunei Darussalam"],
["Bulgaria"],["Burkina Faso"],["Burundi"]]],["C",[["Cambodia"],["Cameroon"],["Canada"],["Cape Verde"],["Cayman Islands"],["Central African Republic"],["Chad"],["Chile"],["China"],["Christmas Island"],["Cocos (Keeling) Islands"],["Colombia"],["Comoros"],["Congo"],["Congo, the Democratic Republic of the"],["Cook Islands"],["Costa Rica"],["Croatia"],["Cuba"],["Cyprus"],["Czech Republic"],["C\u00f4te d\u2019Ivoire"]]],["D",[["Denmark"],["Djibouti"],["Dominica"],["Dominican Republic"]]],["E",[["Ecuador"],
["Egypt"],["El Salvador"],["Equatorial Guinea"],["Eritrea"],["Estonia"],["Ethiopia"]]],["F",[["Falkland Islands (Malvinas)"],["Faroe Islands"],["Fiji"],["Finland"],["France"],["French Guiana"],["French Polynesia"],["French Southern Territories"]]],["G",[["Gabon"],["Gambia"],["Georgia"],["Germany"],["Ghana"],["Gibraltar"],["Greece"],["Greenland"],["Grenada"],["Guadeloupe"],["Guam"],["Guatemala"],["Guernsey"],["Guinea"],["Guinea-Bissau"],["Guyana"]]],["H",[["Haiti"],["Heard Island and McDonald Islands"],
["Holy See (Vatican City State)"],["Honduras"],["Hong Kong"],["Hungary"]]],["I",[["Iceland"],["India"],["Indonesia"],["Iran, Islamic Republic of"],["Iraq"],["Ireland"],["Isle of Man"],["Israel"],["Italy"]]],["J",[["Jamaica"],["Japan"],["Jersey"],["Jordan"]]],["K",[["Kazakhstan"],["Kenya"],["Kiribati"],["Korea, Democratic People\u2019s Republic of"],["Korea, Republic of"],["Kuwait"],["Kyrgyzstan"]]],["L",[["Lao People\u2019s Democratic Republic"],["Latvia"],["Lebanon"],["Lesotho"],["Liberia"],["Libyan Arab Jamahiriya"],
["Liechtenstein"],["Lithuania"],["Luxembourg"]]],["M",[["Macao"],["Macedonia, the former Yugoslav Republic of"],["Madagascar"],["Malawi"],["Malaysia"],["Maldives"],["Mali"],["Malta"],["Marshall Islands"],["Martinique"],["Mauritania"],["Mauritius"],["Mayotte"],["Mexico"],["Micronesia, Federated States of"],["Moldova, Republic of"],["Monaco"],["Mongolia"],["Montenegro"],["Montserrat"],["Morocco"],["Mozambique"],["Myanmar"]]],["N",[["Namibia"],["Nauru"],["Nepal"],["Netherlands"],["Netherlands Antilles"],
["New Caledonia"],["New Zealand"],["Nicaragua"],["Niger"],["Nigeria"],["Niue"],["Norfolk Island"],["Northern Mariana Islands"],["Norway"]]],["O",[["Oman"]]],["P",[["Pakistan"],["Palau"],["Palestinian Territory, Occupied"],["Panama"],["Papua New Guinea"],["Paraguay"],["Peru"],["Philippines"],["Pitcairn"],["Poland"],["Portugal"],["Puerto Rico"]]],["Q",[["Qatar"]]],["R",[["Romania"],["Russian Federation"],["Rwanda"],["R\u00e9union"]]],["S",[["Saint Barth\u00e9lemy"],["Saint Helena"],["Saint Kitts and Nevis"],
["Saint Lucia"],["Saint Martin (French part)"],["Saint Pierre and Miquelon"],["Saint Vincent and the Grenadines"],["Samoa"],["San Marino"],["Sao Tome and Principe"],["Saudi Arabia"],["Senegal"],["Serbia"],["Seychelles"],["Sierra Leone"],["Singapore"],["Slovakia"],["Slovenia"],["Solomon Islands"],["Somalia"],["South Africa"],["South Georgia and the South Sandwich Islands"],["Spain"],["Sri Lanka"],["Sudan"],["Suriname"],["Svalbard and Jan Mayen"],["Swaziland"],["Sweden"],["Switzerland"],["Syrian Arab Republic"]]],
["T",[["Taiwan, Province of China"],["Tajikistan"],["Tanzania, United Republic of"],["Thailand"],["Timor-Leste"],["Togo"],["Tokelau"],["Tonga"],["Trinidad and Tobago"],["Tunisia"],["Turkey"],["Turkmenistan"],["Turks and Caicos Islands"],["Tuvalu"]]],["U",[["Uganda"],["Ukraine"],["United Arab Emirates"],["United Kingdom"],["United States"],["United States Minor Outlying Islands"],["Uruguay"],["Uzbekistan"]]],["V",[["Vanuatu"],["Venezuela"],["Viet Nam"],["Virgin Islands, British"],["Virgin Islands, U.S."]]],
["W",[["Wallis and Futuna"],["Western Sahara"]]],["Y",[["Yemen"]]],["Z",[["Zambia"],["Zimbabwe"]]],["\u00c5",[["\u00c5land Islands"]]]]];var State={IDLE:0,EXECUTING:1,COMPLETE:2,PAUSED:3,STOPPED:4,ERROR:5,LOG:6},Command={START:0,STOP:1,PAUSE:2},dispose=function(){self.close()},start=function(){state=State.EXECUTING;postMessage({state:state})},pause=function(){state===State.EXECUTING&&(state=State.PAUSED,postMessage({state:state}))},stop=function(){state=State.STOPPED;postMessage({state:state});dispose()},configure=function(a){};
self.onmessage=function(a){if(a){a=a.data;var b=a.data;b&&configure(b);switch(a.command){case Command.START:start();break;case Command.PAUSE:pause();break;case Command.STOP:stop()}}};var timeout=null,state=0,count=0,max=10,interval=250,oldPause=pause;pause=function(){timeout&&clearTimeout(timeout);oldPause()};var oldStart=start;start=function(){oldStart();timeout=setTimeout(process,interval)};configure=function(a){max=void 0!==a.max?a.max:max;interval=void 0!==a.interval?a.interval:interval};
var process=function(){count++;var a={count:count,total:max};postMessage({state:state,data:a});count<max?timeout=setTimeout(process,interval):(state=State.COMPLETE,postMessage({state:state,data:a}),dispose())};State={IDLE:0,EXECUTING:1,COMPLETE:2,PAUSED:3,STOPPED:4,ERROR:5,LOG:6};dispose=function(){self.close()};var computeDiffs=function(a){for(var b=[a[0]],c=0;c<a.length-1;c+=2)b.push(getFrameDiff(a[c],a[c+1]));return b},getFrameDiff=function(a,b){for(var c=0;c<a.data.length;c+=4)a.data[c]==b.data[c]&&a.data[c+1]==b.data[c+1]&&a.data[c+2]==b.data[c+2]&&(b.data[c]=0,b.data[c+1]=0,b.data[c+2]=0,b.data[c+3]=0);return b},handleError=function(a){postMessage({state:State.ERROR,data:a});dispose()};
self.onmessage=function(a){if(a){if((a=a.data.data)&&a.frames)try{var b=computeDiffs(a.frames);postMessage({state:State.COMPLETE,data:b});dispose()}catch(c){handleError(c.message||"Failed comparing frames")}handleError("Frames missing from worker data")}handleError("Received empty worker message")};State={IDLE:0,EXECUTING:1,COMPLETE:2,PAUSED:3,STOPPED:4,ERROR:5,LOG:6};dispose=function(){self.close()};var toUint8Array=function(a){a=atob(a.split(",")[1]);for(var b=a.length,c=b>>2,d=new Uint8Array(b),e=new Uint32Array(d.buffer,0,c),f=0,g=0;f<c;f++)e[f]=a.charCodeAt(g++)|a.charCodeAt(g++)<<8|a.charCodeAt(g++)<<16|a.charCodeAt(g++)<<24;for(b&=3;b--;)d[g]=a.charCodeAt(g++);return d};handleError=function(a){postMessage({state:State.ERROR,data:a});dispose()};
self.onmessage=function(a){if(a){if((a=a.data.data)&&"string"==typeof a.dataUrl)try{var b=toUint8Array(a.dataUrl);postMessage({state:State.COMPLETE,data:b});dispose()}catch(c){handleError(c.message||"Failed converting data URL")}handleError("Data URL missing from worker data")}handleError("Received empty worker message")};goog.disposable={};goog.disposable.IDisposable=function(){};goog.disposable.IDisposable.prototype.dispose=goog.abstractMethod;goog.disposable.IDisposable.prototype.isDisposed=goog.abstractMethod;goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(goog.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=Error().stack),goog.Disposable.instances_[goog.getUid(this)]=this);this.disposed_=this.disposed_;this.onDisposeCallbacks_=this.onDisposeCallbacks_};goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2};goog.Disposable.MONITORING_MODE=0;goog.Disposable.INCLUDE_STACK_ON_CREATION=!0;goog.Disposable.instances_={};
goog.Disposable.getUndisposedObjects=function(){var a=[],b;for(b in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(b)&&a.push(goog.Disposable.instances_[Number(b)]);return a};goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}};goog.Disposable.prototype.disposed_=!1;goog.Disposable.prototype.isDisposed=function(){return this.disposed_};goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed;
goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var a=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(a))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[a]}};
goog.Disposable.prototype.registerDisposable=function(a){this.addOnDisposeCallback(goog.partial(goog.dispose,a))};goog.Disposable.prototype.addOnDisposeCallback=function(a,b){this.disposed_?goog.isDef(b)?a.call(b):a():(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(goog.isDef(b)?goog.bind(a,b):a))};goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};
goog.Disposable.isDisposed=function(a){return a&&"function"==typeof a.isDisposed?a.isDisposed():!1};goog.dispose=function(a){a&&"function"==typeof a.dispose&&a.dispose()};goog.disposeAll=function(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];goog.isArrayLike(d)?goog.disposeAll.apply(null,d):goog.dispose(d)}};goog.debug={};goog.debug.Error=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a));this.reportErrorToServer=!0};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.dom={};goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(a,b){goog.debug.Error.call(this,goog.asserts.subs_(a,b));this.messagePattern=a};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.DEFAULT_ERROR_HANDLER=function(a){throw a;};goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER;
goog.asserts.subs_=function(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");return c+a[d]};goog.asserts.doAssertFailure_=function(a,b,c,d){var e="Assertion failed";if(c){e+=": "+c;var f=d}else a&&(e+=": "+a,f=b);a=new goog.asserts.AssertionError(""+e,f||[]);goog.asserts.errorHandler_(a)};goog.asserts.setErrorHandler=function(a){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=a)};
goog.asserts.assert=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!a&&goog.asserts.doAssertFailure_("",null,b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.fail=function(a,b){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};
goog.asserts.assertNumber=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(a)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertString=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isString(a)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertFunction=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(a)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertObject=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isObject(a)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertArray=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isArray(a)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertBoolean=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(a)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertElement=function(a,b,c){!goog.asserts.ENABLE_ASSERTS||goog.isObject(a)&&a.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertInstanceof=function(a,b,c,d){!goog.asserts.ENABLE_ASSERTS||a instanceof b||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(b),goog.asserts.getType_(a)],c,Array.prototype.slice.call(arguments,3));return a};goog.asserts.assertFinite=function(a,b,c){!goog.asserts.ENABLE_ASSERTS||"number"==typeof a&&isFinite(a)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertObjectPrototypeIsIntact=function(){for(var a in Object.prototype)goog.asserts.fail(a+" should not be enumerable in Object.prototype.")};goog.asserts.getType_=function(a){return a instanceof Function?a.displayName||a.name||"unknown type name":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?"null":typeof a};goog.debug.entryPointRegistry={};goog.debug.EntryPointMonitor=function(){};goog.debug.entryPointRegistry.refList_=[];goog.debug.entryPointRegistry.monitors_=[];goog.debug.entryPointRegistry.monitorsMayExist_=!1;goog.debug.entryPointRegistry.register=function(a){goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=a;if(goog.debug.entryPointRegistry.monitorsMayExist_)for(var b=goog.debug.entryPointRegistry.monitors_,c=0;c<b.length;c++)a(goog.bind(b[c].wrap,b[c]))};
goog.debug.entryPointRegistry.monitorAll=function(a){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var b=goog.bind(a.wrap,a),c=0;c<goog.debug.entryPointRegistry.refList_.length;c++)goog.debug.entryPointRegistry.refList_[c](b);goog.debug.entryPointRegistry.monitors_.push(a)};
goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(a){var b=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(a==b[b.length-1],"Only the most recent monitor can be unwrapped.");a=goog.bind(a.unwrap,a);for(var c=0;c<goog.debug.entryPointRegistry.refList_.length;c++)goog.debug.entryPointRegistry.refList_[c](a);b.length--};goog.array={};goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE;goog.array.ASSUME_NATIVE_FUNCTIONS=!1;goog.array.peek=function(a){return a[a.length-1]};goog.array.last=goog.array.peek;
goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(goog.isString(a))return goog.isString(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};
goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(goog.isString(a))return goog.isString(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1};
goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(a,b,c){goog.asserts.assert(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};goog.array.forEachRight=function(a,b,c){var d=a.length,e=goog.isString(a)?a.split(""):a;for(--d;0<=d;--d)d in e&&b.call(c,e[d],d,a)};
goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=goog.isString(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var k=g[h];b.call(c,k,h,a)&&(e[f++]=k)}return e};
goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=goog.isString(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};
goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(a,b,c,d){goog.asserts.assert(null!=a.length);d&&(b=goog.bind(b,d));return Array.prototype.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;goog.array.forEach(a,function(c,g){e=b.call(d,e,c,g,a)});return e};
goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(a,b,c,d){goog.asserts.assert(null!=a.length);goog.asserts.assert(null!=b);d&&(b=goog.bind(b,d));return Array.prototype.reduceRight.call(a,b,c)}:function(a,b,c,d){var e=c;goog.array.forEachRight(a,function(c,g){e=b.call(d,e,c,g,a)});return e};
goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};
goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};goog.array.count=function(a,b,c){var d=0;goog.array.forEach(a,function(a,f,g){b.call(c,a,f,g)&&++d},c);return d};
goog.array.find=function(a,b,c){b=goog.array.findIndex(a,b,c);return 0>b?null:goog.isString(a)?a.charAt(b):a[b]};goog.array.findIndex=function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1};goog.array.findRight=function(a,b,c){b=goog.array.findIndexRight(a,b,c);return 0>b?null:goog.isString(a)?a.charAt(b):a[b]};
goog.array.findIndexRight=function(a,b,c){var d=a.length,e=goog.isString(a)?a.split(""):a;for(--d;0<=d;d--)if(d in e&&b.call(c,e[d],d,a))return d;return-1};goog.array.contains=function(a,b){return 0<=goog.array.indexOf(a,b)};goog.array.isEmpty=function(a){return 0==a.length};goog.array.clear=function(a){if(!goog.isArray(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0};goog.array.insert=function(a,b){goog.array.contains(a,b)||a.push(b)};
goog.array.insertAt=function(a,b,c){goog.array.splice(a,c,0,b)};goog.array.insertArrayAt=function(a,b,c){goog.partial(goog.array.splice,a,c,0).apply(null,b)};goog.array.insertBefore=function(a,b,c){var d;2==arguments.length||0>(d=goog.array.indexOf(a,c))?a.push(b):goog.array.insertAt(a,b,d)};goog.array.remove=function(a,b){b=goog.array.indexOf(a,b);var c;(c=0<=b)&&goog.array.removeAt(a,b);return c};
goog.array.removeLast=function(a,b){b=goog.array.lastIndexOf(a,b);return 0<=b?(goog.array.removeAt(a,b),!0):!1};goog.array.removeAt=function(a,b){goog.asserts.assert(null!=a.length);return 1==Array.prototype.splice.call(a,b,1).length};goog.array.removeIf=function(a,b,c){b=goog.array.findIndex(a,b,c);return 0<=b?(goog.array.removeAt(a,b),!0):!1};goog.array.removeAllIf=function(a,b,c){var d=0;goog.array.forEachRight(a,function(e,f){b.call(c,e,f,a)&&goog.array.removeAt(a,f)&&d++});return d};
goog.array.concat=function(a){return Array.prototype.concat.apply([],arguments)};goog.array.join=function(a){return Array.prototype.concat.apply([],arguments)};goog.array.toArray=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};goog.array.clone=goog.array.toArray;goog.array.extend=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(goog.isArrayLike(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}};
goog.array.splice=function(a,b,c,d){goog.asserts.assert(null!=a.length);return Array.prototype.splice.apply(a,goog.array.slice(arguments,1))};goog.array.slice=function(a,b,c){goog.asserts.assert(null!=a.length);return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};
goog.array.removeDuplicates=function(a,b,c){b=b||a;var d=function(a){return goog.isObject(a)?"o"+goog.getUid(a):(typeof a).charAt(0)+a};c=c||d;d={};for(var e=0,f=0;f<a.length;){var g=a[f++],h=c(g);Object.prototype.hasOwnProperty.call(d,h)||(d[h]=!0,b[e++]=g)}b.length=e};goog.array.binarySearch=function(a,b,c){return goog.array.binarySearch_(a,c||goog.array.defaultCompare,!1,b)};goog.array.binarySelect=function(a,b,c){return goog.array.binarySearch_(a,b,!0,void 0,c)};
goog.array.binarySearch_=function(a,b,c,d,e){for(var f=0,g=a.length,h;f<g;){var k=f+g>>1;var l=c?b.call(e,a[k],k,a):b(d,a[k]);0<l?f=k+1:(g=k,h=!l)}return h?f:~f};goog.array.sort=function(a,b){a.sort(b||goog.array.defaultCompare)};goog.array.stableSort=function(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||goog.array.defaultCompare;goog.array.sort(c,function(a,b){return e(a.value,b.value)||a.index-b.index});for(d=0;d<a.length;d++)a[d]=c[d].value};
goog.array.sortByKey=function(a,b,c){var d=c||goog.array.defaultCompare;goog.array.sort(a,function(a,c){return d(b(a),b(c))})};goog.array.sortObjectsByKey=function(a,b,c){goog.array.sortByKey(a,function(a){return a[b]},c)};goog.array.isSorted=function(a,b,c){b=b||goog.array.defaultCompare;for(var d=1;d<a.length;d++){var e=b(a[d-1],a[d]);if(0<e||0==e&&c)return!1}return!0};
goog.array.equals=function(a,b,c){if(!goog.isArrayLike(a)||!goog.isArrayLike(b)||a.length!=b.length)return!1;var d=a.length;c=c||goog.array.defaultCompareEquality;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0};goog.array.compare3=function(a,b,c){c=c||goog.array.defaultCompare;for(var d=Math.min(a.length,b.length),e=0;e<d;e++){var f=c(a[e],b[e]);if(0!=f)return f}return goog.array.defaultCompare(a.length,b.length)};goog.array.defaultCompare=function(a,b){return a>b?1:a<b?-1:0};
goog.array.inverseDefaultCompare=function(a,b){return-goog.array.defaultCompare(a,b)};goog.array.defaultCompareEquality=function(a,b){return a===b};goog.array.binaryInsert=function(a,b,c){c=goog.array.binarySearch(a,b,c);return 0>c?(goog.array.insertAt(a,b,-(c+1)),!0):!1};goog.array.binaryRemove=function(a,b,c){b=goog.array.binarySearch(a,b,c);return 0<=b?goog.array.removeAt(a,b):!1};
goog.array.bucket=function(a,b,c){for(var d={},e=0;e<a.length;e++){var f=a[e],g=b.call(c,f,e,a);goog.isDef(g)&&(d[g]||(d[g]=[])).push(f)}return d};goog.array.toObject=function(a,b,c){var d={};goog.array.forEach(a,function(e,f){d[b.call(c,e,f,a)]=e});return d};goog.array.range=function(a,b,c){var d=[],e=0,f=a;c=c||1;void 0!==b&&(e=a,f=b);if(0>c*(f-e))return[];if(0<c)for(a=e;a<f;a+=c)d.push(a);else for(a=e;a>f;a+=c)d.push(a);return d};
goog.array.repeat=function(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c};goog.array.flatten=function(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if(goog.isArray(d))for(var e=0;e<d.length;e+=8192){var f=goog.array.slice(d,e,e+8192);f=goog.array.flatten.apply(null,f);for(var g=0;g<f.length;g++)b.push(f[g])}else b.push(d)}return b};
goog.array.rotate=function(a,b){goog.asserts.assert(null!=a.length);a.length&&(b%=a.length,0<b?Array.prototype.unshift.apply(a,a.splice(-b,b)):0>b&&Array.prototype.push.apply(a,a.splice(0,-b)));return a};goog.array.moveItem=function(a,b,c){goog.asserts.assert(0<=b&&b<a.length);goog.asserts.assert(0<=c&&c<a.length);b=Array.prototype.splice.call(a,b,1);Array.prototype.splice.call(a,c,0,b[0])};
goog.array.zip=function(a){if(!arguments.length)return[];for(var b=[],c=arguments[0].length,d=1;d<arguments.length;d++)arguments[d].length<c&&(c=arguments[d].length);for(d=0;d<c;d++){for(var e=[],f=0;f<arguments.length;f++)e.push(arguments[f][d]);b.push(e)}return b};goog.array.shuffle=function(a,b){b=b||Math.random;for(var c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}};goog.array.copyByIndex=function(a,b){var c=[];goog.array.forEach(b,function(b){c.push(a[b])});return c};
goog.array.concatMap=function(a,b,c){return goog.array.concat.apply([],goog.array.map(a,b,c))};goog.debug.errorcontext={};goog.debug.errorcontext.addErrorContext=function(a,b,c){a[goog.debug.errorcontext.CONTEXT_KEY_]||(a[goog.debug.errorcontext.CONTEXT_KEY_]={});a[goog.debug.errorcontext.CONTEXT_KEY_][b]=c};goog.debug.errorcontext.getErrorContext=function(a){return a[goog.debug.errorcontext.CONTEXT_KEY_]||{}};goog.debug.errorcontext.CONTEXT_KEY_="__closure__error__context__984382";goog.string={};goog.string.DETECT_DOUBLE_ESCAPING=!1;goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1;goog.string.Unicode={NBSP:"\u00a0"};goog.string.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};goog.string.endsWith=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c};goog.string.caseInsensitiveStartsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(0,b.length))};
goog.string.caseInsensitiveEndsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(a.length-b.length,b.length))};goog.string.caseInsensitiveEquals=function(a,b){return a.toLowerCase()==b.toLowerCase()};goog.string.subs=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")};goog.string.collapseWhitespace=function(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};
goog.string.isEmptyOrWhitespace=function(a){return/^[\s\xa0]*$/.test(a)};goog.string.isEmptyString=function(a){return 0==a.length};goog.string.isEmpty=goog.string.isEmptyOrWhitespace;goog.string.isEmptyOrWhitespaceSafe=function(a){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(a))};goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe;goog.string.isBreakingWhitespace=function(a){return!/[^\t\n\r ]/.test(a)};goog.string.isAlpha=function(a){return!/[^a-zA-Z]/.test(a)};
goog.string.isNumeric=function(a){return!/[^0-9]/.test(a)};goog.string.isAlphaNumeric=function(a){return!/[^a-zA-Z0-9]/.test(a)};goog.string.isSpace=function(a){return" "==a};goog.string.isUnicodeChar=function(a){return 1==a.length&&" "<=a&&"~">=a||"\u0080"<=a&&"\ufffd">=a};goog.string.stripNewlines=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")};goog.string.canonicalizeNewlines=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n")};
goog.string.normalizeWhitespace=function(a){return a.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(a){return a.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};goog.string.trimLeft=function(a){return a.replace(/^[\s\xa0]+/,"")};
goog.string.trimRight=function(a){return a.replace(/[\s\xa0]+$/,"")};goog.string.caseInsensitiveCompare=function(a,b){a=String(a).toLowerCase();b=String(b).toLowerCase();return a<b?-1:a==b?0:1};
goog.string.numberAwareCompare_=function(a,b,c){if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var d=a.toLowerCase().match(c),e=b.toLowerCase().match(c),f=Math.min(d.length,e.length),g=0;g<f;g++){c=d[g];var h=e[g];if(c!=h)return a=parseInt(c,10),!isNaN(a)&&(b=parseInt(h,10),!isNaN(b)&&a-b)?a-b:c<h?-1:1}return d.length!=e.length?d.length-e.length:a<b?-1:1};goog.string.intAwareCompare=function(a,b){return goog.string.numberAwareCompare_(a,b,/\d+|\D+/g)};
goog.string.floatAwareCompare=function(a,b){return goog.string.numberAwareCompare_(a,b,/\d+|\.\d+|\D+/g)};goog.string.numerateCompare=goog.string.floatAwareCompare;goog.string.urlEncode=function(a){return encodeURIComponent(String(a))};goog.string.urlDecode=function(a){return decodeURIComponent(a.replace(/\+/g," "))};goog.string.newLineToBr=function(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")};
goog.string.htmlEscape=function(a,b){if(b)a=a.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(a=a.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(goog.string.AMP_RE_,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(goog.string.LT_RE_,
"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(goog.string.GT_RE_,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(goog.string.QUOT_RE_,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(goog.string.NULL_RE_,"&#0;"));goog.string.DETECT_DOUBLE_ESCAPING&&-1!=a.indexOf("e")&&(a=a.replace(goog.string.E_RE_,"&#101;"))}return a};goog.string.AMP_RE_=/&/g;goog.string.LT_RE_=/</g;goog.string.GT_RE_=/>/g;goog.string.QUOT_RE_=/"/g;
goog.string.SINGLE_QUOTE_RE_=/'/g;goog.string.NULL_RE_=/\x00/g;goog.string.E_RE_=/e/g;goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/;goog.string.unescapeEntities=function(a){return goog.string.contains(a,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(a):goog.string.unescapePureXmlEntities_(a):a};
goog.string.unescapeEntitiesWithDocument=function(a,b){return goog.string.contains(a,"&")?goog.string.unescapeEntitiesUsingDom_(a,b):a};
goog.string.unescapeEntitiesUsingDom_=function(a,b){var c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var d=b?b.createElement("div"):goog.global.document.createElement("div");return a.replace(goog.string.HTML_ENTITY_PATTERN_,function(a,b){var e=c[a];if(e)return e;"#"==b.charAt(0)&&(b=Number("0"+b.substr(1)),isNaN(b)||(e=String.fromCharCode(b)));e||(d.innerHTML=a+" ",e=d.firstChild.nodeValue.slice(0,-1));return c[a]=e})};
goog.string.unescapePureXmlEntities_=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=c.charAt(0)||(c=Number("0"+c.substr(1)),isNaN(c))?a:String.fromCharCode(c)}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;goog.string.whitespaceEscape=function(a,b){return goog.string.newLineToBr(a.replace(/  /g," &#160;"),b)};
goog.string.preserveSpaces=function(a){return a.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)};goog.string.stripQuotes=function(a,b){for(var c=b.length,d=0;d<c;d++){var e=1==c?b:b.charAt(d);if(a.charAt(0)==e&&a.charAt(a.length-1)==e)return a.substring(1,a.length-1)}return a};goog.string.truncate=function(a,b,c){c&&(a=goog.string.unescapeEntities(a));a.length>b&&(a=a.substring(0,b-3)+"...");c&&(a=goog.string.htmlEscape(a));return a};
goog.string.truncateMiddle=function(a,b,c,d){c&&(a=goog.string.unescapeEntities(a));if(d&&a.length>b){d>b&&(d=b);var e=a.length-d;a=a.substring(0,b-d)+"..."+a.substring(e)}else a.length>b&&(d=Math.floor(b/2),e=a.length-d,a=a.substring(0,d+b%2)+"..."+a.substring(e));c&&(a=goog.string.htmlEscape(a));return a};goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"};goog.string.jsEscapeCache_={"'":"\\'"};
goog.string.quote=function(a){a=String(a);for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0);b[c+1]=goog.string.specialEscapeChars_[d]||(31<e&&127>e?d:goog.string.escapeChar(d))}b.push('"');return b.join("")};goog.string.escapeString=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=goog.string.escapeChar(a.charAt(c));return b.join("")};
goog.string.escapeChar=function(a){if(a in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[a];if(a in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[a]=goog.string.specialEscapeChars_[a];var b=a.charCodeAt(0);if(31<b&&127>b)var c=a;else{if(256>b){if(c="\\x",16>b||256<b)c+="0"}else c="\\u",4096>b&&(c+="0");c+=b.toString(16).toUpperCase()}return goog.string.jsEscapeCache_[a]=c};goog.string.contains=function(a,b){return-1!=a.indexOf(b)};
goog.string.caseInsensitiveContains=function(a,b){return goog.string.contains(a.toLowerCase(),b.toLowerCase())};goog.string.countOf=function(a,b){return a&&b?a.split(b).length-1:0};goog.string.removeAt=function(a,b,c){var d=a;0<=b&&b<a.length&&0<c&&(d=a.substr(0,b)+a.substr(b+c,a.length-b-c));return d};goog.string.remove=function(a,b){return a.replace(b,"")};goog.string.removeAll=function(a,b){b=new RegExp(goog.string.regExpEscape(b),"g");return a.replace(b,"")};
goog.string.replaceAll=function(a,b,c){b=new RegExp(goog.string.regExpEscape(b),"g");return a.replace(b,c.replace(/\$/g,"$$$$"))};goog.string.regExpEscape=function(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};
goog.string.padNumber=function(a,b,c){a=goog.isDef(c)?a.toFixed(c):String(a);c=a.indexOf(".");-1==c&&(c=a.length);return goog.string.repeat("0",Math.max(0,b-c))+a};goog.string.makeSafe=function(a){return null==a?"":String(a)};goog.string.buildString=function(a){return Array.prototype.join.call(arguments,"")};goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)};
goog.string.compareVersions=function(a,b){var c=0;a=goog.string.trim(String(a)).split(".");b=goog.string.trim(String(b)).split(".");for(var d=Math.max(a.length,b.length),e=0;0==c&&e<d;e++){var f=a[e]||"",g=b[e]||"";do{f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];if(0==f[0].length&&0==g[0].length)break;c=0==f[1].length?0:parseInt(f[1],10);var h=0==g[1].length?0:parseInt(g[1],10);c=goog.string.compareElements_(c,h)||goog.string.compareElements_(0==f[2].length,
0==g[2].length)||goog.string.compareElements_(f[2],g[2]);f=f[3];g=g[3]}while(0==c)}return c};goog.string.compareElements_=function(a,b){return a<b?-1:a>b?1:0};goog.string.hashCode=function(a){for(var b=0,c=0;c<a.length;++c)b=31*b+a.charCodeAt(c)>>>0;return b};goog.string.uniqueStringCounter_=2147483648*Math.random()|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};
goog.string.toNumber=function(a){var b=Number(a);return 0==b&&goog.string.isEmptyOrWhitespace(a)?NaN:b};goog.string.isLowerCamelCase=function(a){return/^[a-z]+([A-Z][a-z]*)*$/.test(a)};goog.string.isUpperCamelCase=function(a){return/^([A-Z][a-z]*)+$/.test(a)};goog.string.toCamelCase=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};goog.string.toSelectorCase=function(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()};
goog.string.toTitleCase=function(a,b){b=goog.isString(b)?goog.string.regExpEscape(b):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};goog.string.capitalize=function(a){return String(a.charAt(0)).toUpperCase()+String(a.substr(1)).toLowerCase()};goog.string.parseInt=function(a){isFinite(a)&&(a=String(a));return goog.isString(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};
goog.string.splitLimit=function(a,b,c){a=a.split(b);for(var d=[];0<c&&a.length;)d.push(a.shift()),c--;a.length&&d.push(a.join(b));return d};goog.string.lastComponent=function(a,b){if(b)"string"==typeof b&&(b=[b]);else return a;for(var c=-1,d=0;d<b.length;d++)if(""!=b[d]){var e=a.lastIndexOf(b[d]);e>c&&(c=e)}return-1==c?a:a.slice(c+1)};
goog.string.editDistance=function(a,b){var c=[],d=[];if(a==b)return 0;if(!a.length||!b.length)return Math.max(a.length,b.length);for(var e=0;e<b.length+1;e++)c[e]=e;for(e=0;e<a.length;e++){d[0]=e+1;for(var f=0;f<b.length;f++)d[f+1]=Math.min(d[f]+1,c[f+1]+1,c[f]+Number(a[e]!=b[f]));for(f=0;f<c.length;f++)c[f]=d[f]}return d[b.length]};goog.labs={};goog.labs.userAgent={};goog.labs.userAgent.util={};goog.labs.userAgent.util.getNativeUserAgentString_=function(){var a=goog.labs.userAgent.util.getNavigator_();return a&&(a=a.userAgent)?a:""};goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator};goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_();goog.labs.userAgent.util.setUserAgent=function(a){goog.labs.userAgent.util.userAgent_=a||goog.labs.userAgent.util.getNativeUserAgentString_()};
goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_};goog.labs.userAgent.util.matchUserAgent=function(a){var b=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(b,a)};goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(a){var b=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(b,a)};
goog.labs.userAgent.util.extractVersionTuples=function(a){for(var b=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,c=[],d;d=b.exec(a);)c.push([d[1],d[2],d[3]||void 0]);return c};goog.object={};goog.object.is=function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};goog.object.forEach=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)};goog.object.filter=function(a,b,c){var d={},e;for(e in a)b.call(c,a[e],e,a)&&(d[e]=a[e]);return d};goog.object.map=function(a,b,c){var d={},e;for(e in a)d[e]=b.call(c,a[e],e,a);return d};goog.object.some=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return!0;return!1};
goog.object.every=function(a,b,c){for(var d in a)if(!b.call(c,a[d],d,a))return!1;return!0};goog.object.getCount=function(a){var b=0,c;for(c in a)b++;return b};goog.object.getAnyKey=function(a){for(var b in a)return b};goog.object.getAnyValue=function(a){for(var b in a)return a[b]};goog.object.contains=function(a,b){return goog.object.containsValue(a,b)};goog.object.getValues=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b};
goog.object.getKeys=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};goog.object.getValueByKeys=function(a,b){var c=goog.isArrayLike(b),d=c?b:arguments;for(c=c?0:1;c<d.length;c++){if(null==a)return;a=a[d[c]]}return a};goog.object.containsKey=function(a,b){return null!==a&&b in a};goog.object.containsValue=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1};goog.object.findKey=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d};
goog.object.findValue=function(a,b,c){return(b=goog.object.findKey(a,b,c))&&a[b]};goog.object.isEmpty=function(a){for(var b in a)return!1;return!0};goog.object.clear=function(a){for(var b in a)delete a[b]};goog.object.remove=function(a,b){var c;(c=b in a)&&delete a[b];return c};goog.object.add=function(a,b,c){if(null!==a&&b in a)throw Error('The object already contains the key "'+b+'"');goog.object.set(a,b,c)};goog.object.get=function(a,b,c){return null!==a&&b in a?a[b]:c};
goog.object.set=function(a,b,c){a[b]=c};goog.object.setIfUndefined=function(a,b,c){return b in a?a[b]:a[b]=c};goog.object.setWithReturnValueIfNotSet=function(a,b,c){if(b in a)return a[b];c=c();return a[b]=c};goog.object.equals=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0};goog.object.clone=function(a){var b={},c;for(c in a)b[c]=a[c];return b};
goog.object.unsafeClone=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if(goog.isFunction(a.clone))return a.clone();b="array"==b?[]:{};for(var c in a)b[c]=goog.object.unsafeClone(a[c]);return b}return a};goog.object.transpose=function(a){var b={},c;for(c in a)b[a[c]]=c;return b};goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
goog.object.extend=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<goog.object.PROTOTYPE_FIELDS_.length;f++)c=goog.object.PROTOTYPE_FIELDS_[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};
goog.object.create=function(a){var b=arguments.length;if(1==b&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};goog.object.createSet=function(a){var b=arguments.length;if(1==b&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};
goog.object.createImmutableView=function(a){var b=a;Object.isFrozen&&!Object.isFrozen(a)&&(b=Object.create(a),Object.freeze(b));return b};goog.object.isImmutableView=function(a){return!!Object.isFrozen&&Object.isFrozen(a)};
goog.object.getAllPropertyNames=function(a,b,c){if(!a)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(a);for(var d={};a&&(a!==Object.prototype||b)&&(a!==Function.prototype||c);){for(var e=Object.getOwnPropertyNames(a),f=0;f<e.length;f++)d[e[f]]=!0;a=Object.getPrototypeOf(a)}return goog.object.getKeys(d)};goog.labs.userAgent.browser={};goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")};goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")};goog.labs.userAgent.browser.matchEdge_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")};goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")};
goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdge_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))};goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")};
goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")};
goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdge_()};goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())};
goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_;goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_;goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdge_;goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_;goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_;goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_;goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_;
goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_;goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_;goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")};
goog.labs.userAgent.browser.getVersion=function(){function a(a){a=goog.array.find(a,d);return c[a]||""}var b=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(b);b=goog.labs.userAgent.util.extractVersionTuples(b);var c={};goog.array.forEach(b,function(a){c[a[0]]=a[1]});var d=goog.partial(goog.object.containsKey,c);return goog.labs.userAgent.browser.isOpera()?a(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?a(["Edge"]):
goog.labs.userAgent.browser.isChrome()?a(["Chrome","CriOS"]):(b=b[2])&&b[1]||""};goog.labs.userAgent.browser.isVersionOrHigher=function(a){return 0<=goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),a)};
goog.labs.userAgent.browser.getIEVersion_=function(a){var b=/rv: *([\d\.]*)/.exec(a);if(b&&b[1])return b[1];b="";var c=/MSIE +([\d\.]+)/.exec(a);if(c&&c[1])if(a=/Trident\/(\d.\d)/.exec(a),"7.0"==c[1])if(a&&a[1])switch(a[1]){case "4.0":b="8.0";break;case "5.0":b="9.0";break;case "6.0":b="10.0";break;case "7.0":b="11.0"}else b="7.0";else b=c[1];return b};goog.labs.userAgent.engine={};goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")};goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")};goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")};
goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()};goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()};
goog.labs.userAgent.engine.getVersion=function(){var a=goog.labs.userAgent.util.getUserAgent();if(a){a=goog.labs.userAgent.util.extractVersionTuples(a);var b=goog.labs.userAgent.engine.getEngineTuple_(a);if(b)return"Gecko"==b[0]?goog.labs.userAgent.engine.getVersionForKey_(a,"Firefox"):b[1];a=a[0];var c;if(a&&(c=a[2])&&(c=/Trident\/([^\s;]+)/.exec(c)))return c[1]}return""};
goog.labs.userAgent.engine.getEngineTuple_=function(a){if(!goog.labs.userAgent.engine.isEdge())return a[1];for(var b=0;b<a.length;b++){var c=a[b];if("Edge"==c[0])return c}};goog.labs.userAgent.engine.isVersionOrHigher=function(a){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),a)};goog.labs.userAgent.engine.getVersionForKey_=function(a,b){return(a=goog.array.find(a,function(a){return b==a[0]}))&&a[1]||""};goog.labs.userAgent.platform={};goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")};goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")};goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")};goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")};
goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()};goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")};goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")};goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")};
goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")};
goog.labs.userAgent.platform.getVersion=function(){var a=goog.labs.userAgent.util.getUserAgent(),b="";goog.labs.userAgent.platform.isWindows()?(b=/Windows (?:NT|Phone) ([0-9.]+)/,b=(a=b.exec(a))?a[1]:"0.0"):goog.labs.userAgent.platform.isIos()?(b=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,b=(a=b.exec(a))&&a[1].replace(/_/g,".")):goog.labs.userAgent.platform.isMacintosh()?(b=/Mac OS X ([0-9_.]+)/,b=(a=b.exec(a))?a[1].replace(/_/g,"."):"10"):goog.labs.userAgent.platform.isAndroid()?(b=/Android\s+([^\);]+)(\)|;)/,
b=(a=b.exec(a))&&a[1]):goog.labs.userAgent.platform.isChromeOS()&&(b=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,b=(a=b.exec(a))&&a[1]);return b||""};goog.labs.userAgent.platform.isVersionOrHigher=function(a){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),a)};goog.reflect={};goog.reflect.object=function(a,b){return b};goog.reflect.objectProperty=function(a,b){return a};goog.reflect.sinkValue=function(a){goog.reflect.sinkValue[" "](a);return a};goog.reflect.sinkValue[" "]=goog.nullFunction;goog.reflect.canAccessProperty=function(a,b){try{return goog.reflect.sinkValue(a[b]),!0}catch(c){}return!1};goog.reflect.cache=function(a,b,c,d){d=d?d(b):b;return Object.prototype.hasOwnProperty.call(a,d)?a[d]:a[d]=c(b)};goog.userAgent={};goog.userAgent.ASSUME_IE=!1;goog.userAgent.ASSUME_EDGE=!1;goog.userAgent.ASSUME_GECKO=!1;goog.userAgent.ASSUME_WEBKIT=!1;goog.userAgent.ASSUME_MOBILE_WEBKIT=!1;goog.userAgent.ASSUME_OPERA=!1;goog.userAgent.ASSUME_ANY_VERSION=!1;goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA;goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()};
goog.userAgent.getNavigator=function(){return goog.global.navigator||null};goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera();goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE();goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge();goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE;
goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko();goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit();goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")};goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_();goog.userAgent.SAFARI=goog.userAgent.WEBKIT;
goog.userAgent.determinePlatform_=function(){var a=goog.userAgent.getNavigator();return a&&a.platform||""};goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_();goog.userAgent.ASSUME_MAC=!1;goog.userAgent.ASSUME_WINDOWS=!1;goog.userAgent.ASSUME_LINUX=!1;goog.userAgent.ASSUME_X11=!1;goog.userAgent.ASSUME_ANDROID=!1;goog.userAgent.ASSUME_IPHONE=!1;goog.userAgent.ASSUME_IPAD=!1;goog.userAgent.ASSUME_IPOD=!1;
goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD;goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh();goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows();
goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()};goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_();goog.userAgent.isX11_=function(){var a=goog.userAgent.getNavigator();return!!a&&goog.string.contains(a.appVersion||"","X11")};goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_();
goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid();goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone();goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad();goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod();
goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos();goog.userAgent.determineVersion_=function(){var a="",b=goog.userAgent.getVersionRegexResult_();b&&(a=b?b[1]:"");return goog.userAgent.IE&&(b=goog.userAgent.getDocumentMode_(),null!=b&&b>parseFloat(a))?String(b):a};
goog.userAgent.getVersionRegexResult_=function(){var a=goog.userAgent.getUserAgentString();if(goog.userAgent.GECKO)return/rv:([^\);]+)(\)|;)/.exec(a);if(goog.userAgent.EDGE)return/Edge\/([\d\.]+)/.exec(a);if(goog.userAgent.IE)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(goog.userAgent.WEBKIT)return/WebKit\/(\S+)/.exec(a);if(goog.userAgent.OPERA)return/(?:Version)[ \/]?(\S+)/.exec(a)};goog.userAgent.getDocumentMode_=function(){var a=goog.global.document;return a?a.documentMode:void 0};
goog.userAgent.VERSION=goog.userAgent.determineVersion_();goog.userAgent.compare=function(a,b){return goog.string.compareVersions(a,b)};goog.userAgent.isVersionOrHigherCache_={};goog.userAgent.isVersionOrHigher=function(a){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,a,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,a)})};goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher;
goog.userAgent.isDocumentModeOrHigher=function(a){return Number(goog.userAgent.DOCUMENT_MODE)>=a};goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher;goog.userAgent.DOCUMENT_MODE=function(){var a=goog.global.document,b=goog.userAgent.getDocumentMode_();if(a&&goog.userAgent.IE)return b||("CSS1Compat"==a.compatMode?parseInt(goog.userAgent.VERSION,10):5)}();goog.debug.LOGGING_ENABLED=goog.DEBUG;goog.debug.FORCE_SLOPPY_STACKS=!1;goog.debug.catchErrors=function(a,b,c){c=c||goog.global;var d=c.onerror,e=!!b;goog.userAgent.WEBKIT&&!goog.userAgent.isVersionOrHigher("535.3")&&(e=!e);c.onerror=function(b,c,h,k,l){d&&d(b,c,h,k,l);a({message:b,fileName:c,line:h,lineNumber:h,col:k,error:l});return e}};
goog.debug.expose=function(a,b){if("undefined"==typeof a)return"undefined";if(null==a)return"NULL";var c=[],d;for(d in a)if(b||!goog.isFunction(a[d])){var e=d+" = ";try{e+=a[d]}catch(f){e+="*** "+f+" ***"}c.push(e)}return c.join("\n")};
goog.debug.deepExpose=function(a,b){var c=[],d=[],e={},f=function(a,h){var g=h+"  ";try{if(goog.isDef(a))if(goog.isNull(a))c.push("NULL");else if(goog.isString(a))c.push('"'+a.replace(/\n/g,"\n"+h)+'"');else if(goog.isFunction(a))c.push(String(a).replace(/\n/g,"\n"+h));else if(goog.isObject(a)){goog.hasUid(a)||d.push(a);var l=goog.getUid(a);if(e[l])c.push("*** reference loop detected (id="+l+") ***");else{e[l]=!0;c.push("{");for(var m in a)if(b||!goog.isFunction(a[m]))c.push("\n"),c.push(g),c.push(m+
" = "),f(a[m],g);c.push("\n"+h+"}");delete e[l]}}else c.push(a);else c.push("undefined")}catch(n){c.push("*** "+n+" ***")}};f(a,"");for(a=0;a<d.length;a++)goog.removeUid(d[a]);return c.join("")};goog.debug.exposeArray=function(a){for(var b=[],c=0;c<a.length;c++)goog.isArray(a[c])?b.push(goog.debug.exposeArray(a[c])):b.push(a[c]);return"[ "+b.join(", ")+" ]"};
goog.debug.normalizeErrorObject=function(a){var b=goog.getObjectByName("window.location.href");if(goog.isString(a))return{message:a,name:"Unknown error",lineNumber:"Not available",fileName:b,stack:"Not available"};var c=!1;try{var d=a.lineNumber||a.line||"Not available"}catch(f){d="Not available",c=!0}try{var e=a.fileName||a.filename||a.sourceURL||goog.global.$googDebugFname||b}catch(f){e="Not available",c=!0}return!c&&a.lineNumber&&a.fileName&&a.stack&&a.message&&a.name?a:{message:a.message||"Not available",
name:a.name||"UnknownError",lineNumber:d,fileName:e,stack:a.stack||"Not available"}};goog.debug.enhanceError=function(a,b){a instanceof Error||(a=Error(a),Error.captureStackTrace&&Error.captureStackTrace(a,goog.debug.enhanceError));a.stack||(a.stack=goog.debug.getStacktrace(goog.debug.enhanceError));if(b){for(var c=0;a["message"+c];)++c;a["message"+c]=String(b)}return a};
goog.debug.enhanceErrorWithContext=function(a,b){a=goog.debug.enhanceError(a);if(b)for(var c in b)goog.debug.errorcontext.addErrorContext(a,c,b[c]);return a};
goog.debug.getStacktraceSimple=function(a){if(!goog.debug.FORCE_SLOPPY_STACKS){var b=goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);if(b)return b}b=[];for(var c=arguments.callee.caller,d=0;c&&(!a||d<a);){b.push(goog.debug.getFunctionName(c));b.push("()\n");try{c=c.caller}catch(e){b.push("[exception trying to get caller]\n");break}d++;if(d>=goog.debug.MAX_STACK_DEPTH){b.push("[...long stack...]");break}}a&&d>=a?b.push("[...reached max depth limit...]"):b.push("[end]");return b.join("")};
goog.debug.MAX_STACK_DEPTH=50;goog.debug.getNativeStackTrace_=function(a){var b=Error();if(Error.captureStackTrace)return Error.captureStackTrace(b,a),String(b.stack);try{throw b;}catch(c){b=c}return(a=b.stack)?String(a):null};goog.debug.getStacktrace=function(a){var b;goog.debug.FORCE_SLOPPY_STACKS||(b=goog.debug.getNativeStackTrace_(a||goog.debug.getStacktrace));b||(b=goog.debug.getStacktraceHelper_(a||arguments.callee.caller,[]));return b};
goog.debug.getStacktraceHelper_=function(a,b){var c=[];if(goog.array.contains(b,a))c.push("[...circular reference...]");else if(a&&b.length<goog.debug.MAX_STACK_DEPTH){c.push(goog.debug.getFunctionName(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=goog.debug.getFunctionName(f))?f:"[fn]";break;default:f=
typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(goog.debug.getStacktraceHelper_(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")};goog.debug.setFunctionResolver=function(a){goog.debug.fnNameResolver_=a};
goog.debug.getFunctionName=function(a){if(goog.debug.fnNameCache_[a])return goog.debug.fnNameCache_[a];if(goog.debug.fnNameResolver_){var b=goog.debug.fnNameResolver_(a);if(b)return goog.debug.fnNameCache_[a]=b}a=String(a);goog.debug.fnNameCache_[a]||(b=/function ([^\(]+)/.exec(a),goog.debug.fnNameCache_[a]=b?b[1]:"[Anonymous]");return goog.debug.fnNameCache_[a]};
goog.debug.makeWhitespaceVisible=function(a){return a.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,"[n]\n").replace(/\r/g,"[r]").replace(/\t/g,"[t]")};goog.debug.runtimeType=function(a){return a instanceof Function?a.displayName||a.name||"unknown type name":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?"null":typeof a};goog.debug.fnNameCache_={};goog.debug.freezeInternal_=goog.DEBUG&&Object.freeze||function(a){return a};
goog.debug.freeze=function(a){return goog.debug.freezeInternal_(a)};goog.events={};$jscomp.scope.purify=function(a){return a()};
goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("8")||
goog.userAgent.OPERA&&goog.userAgent.isVersionOrHigher("9.5")||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersionOrHigher("8")||goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in goog.global||!!(goog.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.maxTouchPoints&&!goog.global.navigator.msMaxTouchPoints),
POINTER_EVENTS:"PointerEvent"in goog.global,MSPOINTER_EVENTS:"MSPointerEvent"in goog.global&&!(!goog.global.navigator||!goog.global.navigator.msPointerEnabled),PASSIVE_EVENTS:(0,$jscomp.scope.purify)(function(){if(!goog.global.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});goog.global.addEventListener("test",goog.nullFunction,b);goog.global.removeEventListener("test",goog.nullFunction,b);return a})};goog.events.EventId=function(a){this.id=a};goog.events.EventId.prototype.toString=function(){return this.id};goog.events.Event=function(a,b){this.type=a instanceof goog.events.EventId?String(a):a;this.currentTarget=this.target=b;this.defaultPrevented=this.propagationStopped_=!1;this.returnValue_=!0};goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0};goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0;this.returnValue_=!1};goog.events.Event.stopPropagation=function(a){a.stopPropagation()};goog.events.Event.preventDefault=function(a){a.preventDefault()};goog.events.getVendorPrefixedName_=function(a){return goog.userAgent.WEBKIT?"webkit"+a:goog.userAgent.OPERA?"o"+a.toLowerCase():a.toLowerCase()};
goog.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",SELECTIONCHANGE:"selectionchange",SELECTSTART:"selectstart",WHEEL:"wheel",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:"focusin",FOCUSOUT:"focusout",CHANGE:"change",RESET:"reset",SELECT:"select",SUBMIT:"submit",
INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DEVICEMOTION:"devicemotion",DEVICEORIENTATION:"deviceorientation",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",
ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",CANPLAY:"canplay",CANPLAYTHROUGH:"canplaythrough",DURATIONCHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",LOADEDDATA:"loadeddata",LOADEDMETADATA:"loadedmetadata",PAUSE:"pause",PLAY:"play",PLAYING:"playing",RATECHANGE:"ratechange",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIMEUPDATE:"timeupdate",VOLUMECHANGE:"volumechange",WAITING:"waiting",SOURCEOPEN:"sourceopen",
SOURCEENDED:"sourceended",SOURCECLOSED:"sourceclosed",ABORT:"abort",UPDATE:"update",UPDATESTART:"updatestart",UPDATEEND:"updateend",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",INSTALL:"install",ACTIVATE:"activate",FETCH:"fetch",FOREIGNFETCH:"foreignfetch",MESSAGEERROR:"messageerror",
STATECHANGE:"statechange",UPDATEFOUND:"updatefound",CONTROLLERCHANGE:"controllerchange",ANIMATIONSTART:goog.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:goog.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:goog.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:goog.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",
POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",
MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXT:"text",TEXTINPUT:goog.userAgent.IE?"textinput":"textInput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",BEFOREINPUT:"beforeinput",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",
UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified",BEFOREPRINT:"beforeprint",AFTERPRINT:"afterprint",BEFOREINSTALLPROMPT:"beforeinstallprompt",APPINSTALLED:"appinstalled"};
goog.events.getPointerFallbackEventName_=function(a,b,c){return goog.events.BrowserFeature.POINTER_EVENTS?a:goog.events.BrowserFeature.MSPOINTER_EVENTS?b:c};
goog.events.PointerFallbackEventType={POINTERDOWN:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERDOWN,goog.events.EventType.MSPOINTERDOWN,goog.events.EventType.MOUSEDOWN),POINTERUP:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERUP,goog.events.EventType.MSPOINTERUP,goog.events.EventType.MOUSEUP),POINTERCANCEL:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERCANCEL,goog.events.EventType.MSPOINTERCANCEL,"mousecancel"),POINTERMOVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERMOVE,
goog.events.EventType.MSPOINTERMOVE,goog.events.EventType.MOUSEMOVE),POINTEROVER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROVER,goog.events.EventType.MSPOINTEROVER,goog.events.EventType.MOUSEOVER),POINTEROUT:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROUT,goog.events.EventType.MSPOINTEROUT,goog.events.EventType.MOUSEOUT),POINTERENTER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERENTER,goog.events.EventType.MSPOINTERENTER,
goog.events.EventType.MOUSEENTER),POINTERLEAVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERLEAVE,goog.events.EventType.MSPOINTERLEAVE,goog.events.EventType.MOUSELEAVE)};goog.events.BrowserEvent=function(a,b){goog.events.Event.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.platformModifierKey=!1;this.pointerId=0;this.pointerType="";this.event_=null;a&&this.init(a,b)};goog.inherits(goog.events.BrowserEvent,goog.events.Event);
goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2};goog.events.BrowserEvent.PointerType={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"};goog.events.BrowserEvent.IEButtonMap=goog.debug.freeze([1,4,2]);goog.events.BrowserEvent.IE_BUTTON_MAP=goog.events.BrowserEvent.IEButtonMap;goog.events.BrowserEvent.IE_POINTER_TYPE_MAP=goog.debug.freeze({2:goog.events.BrowserEvent.PointerType.TOUCH,3:goog.events.BrowserEvent.PointerType.PEN,4:goog.events.BrowserEvent.PointerType.MOUSE});
goog.events.BrowserEvent.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;(b=a.relatedTarget)?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(b,"nodeName")||(b=null)):c==goog.events.EventType.MOUSEOVER?b=a.fromElement:c==goog.events.EventType.MOUSEOUT&&(b=a.toElement);this.relatedTarget=b;goog.isNull(d)?(this.offsetX=goog.userAgent.WEBKIT||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=
goog.userAgent.WEBKIT||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=
a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.platformModifierKey=goog.userAgent.MAC?a.metaKey:a.ctrlKey;this.pointerId=a.pointerId||0;this.pointerType=goog.events.BrowserEvent.getPointerType_(a);this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault()};
goog.events.BrowserEvent.prototype.isButton=function(a){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==a:"click"==this.type?a==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IE_BUTTON_MAP[a])};goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)};
goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this);this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0};
goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_};
goog.events.BrowserEvent.getPointerType_=function(a){return goog.isString(a.pointerType)?a.pointerType:goog.events.BrowserEvent.IE_POINTER_TYPE_MAP[a.pointerType]||""};goog.events.Listenable=function(){};goog.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1E6*Math.random()|0);goog.events.Listenable.addImplementation=function(a){a.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP]=!0};goog.events.Listenable.isImplementedBy=function(a){return!(!a||!a[goog.events.Listenable.IMPLEMENTED_BY_PROP])};goog.events.ListenableKey=function(){};goog.events.ListenableKey.counter_=0;goog.events.ListenableKey.reserveKey=function(){return++goog.events.ListenableKey.counter_};goog.events.Listener=function(a,b,c,d,e,f){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack);this.listener=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!e;this.handler=f;this.key=goog.events.ListenableKey.reserveKey();this.removed=this.callOnce=!1};goog.events.Listener.ENABLE_MONITORING=!1;goog.events.Listener.prototype.markAsRemoved=function(){this.removed=!0;this.handler=this.src=this.proxy=this.listener=null};goog.events.ListenerMap=function(a){this.src=a;this.listeners={};this.typeCount_=0};goog.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_};goog.events.ListenerMap.prototype.getListenerCount=function(){var a=0,b;for(b in this.listeners)a+=this.listeners[b].length;return a};
goog.events.ListenerMap.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.typeCount_++);var g=goog.events.ListenerMap.findListenerIndex_(a,b,d,e);-1<g?(b=a[g],c||(b.callOnce=!1)):(b=new goog.events.Listener(b,null,this.src,f,!!d,e),b.callOnce=c,a.push(b));return b};
goog.events.ListenerMap.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=goog.events.ListenerMap.findListenerIndex_(e,b,c,d);return-1<b?(e[b].markAsRemoved(),goog.array.removeAt(e,b),0==e.length&&(delete this.listeners[a],this.typeCount_--),!0):!1};
goog.events.ListenerMap.prototype.removeByKey=function(a){var b=a.type;if(!(b in this.listeners))return!1;var c=goog.array.remove(this.listeners[b],a);c&&(a.markAsRemoved(),0==this.listeners[b].length&&(delete this.listeners[b],this.typeCount_--));return c};goog.events.ListenerMap.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,d[e].markAsRemoved();delete this.listeners[c];this.typeCount_--}return b};
goog.events.ListenerMap.prototype.getListeners=function(a,b){a=this.listeners[a.toString()];var c=[];if(a)for(var d=0;d<a.length;++d){var e=a[d];e.capture==b&&c.push(e)}return c};goog.events.ListenerMap.prototype.getListener=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=goog.events.ListenerMap.findListenerIndex_(a,b,c,d));return-1<e?a[e]:null};
goog.events.ListenerMap.prototype.hasListener=function(a,b){var c=goog.isDef(a),d=c?a.toString():"",e=goog.isDef(b);return goog.object.some(this.listeners,function(a,g){for(g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].capture!=b))return!0;return!1})};goog.events.ListenerMap.findListenerIndex_=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};goog.events.LISTENER_MAP_PROP_="closure_lm_"+(1E6*Math.random()|0);goog.events.onString_="on";goog.events.onStringMap_={};goog.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2};goog.events.CAPTURE_SIMULATION_MODE=2;goog.events.listenerCountEstimate_=0;
goog.events.listen=function(a,b,c,d,e){if(d&&d.once)return goog.events.listenOnce(a,b,c,d,e);if(goog.isArray(b)){for(var f=0;f<b.length;f++)goog.events.listen(a,b[f],c,d,e);return null}c=goog.events.wrapListener(c);return goog.events.Listenable.isImplementedBy(a)?(d=goog.isObject(d)?!!d.capture:!!d,a.listen(b,c,d,e)):goog.events.listen_(a,b,c,!1,d,e)};
goog.events.listen_=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=goog.isObject(e)?!!e.capture:!!e;if(g&&!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_FAIL)return goog.asserts.fail("Can not register capture listener in IE8-."),null;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var h=goog.events.getListenerMap_(a);h||(a[goog.events.LISTENER_MAP_PROP_]=
h=new goog.events.ListenerMap(a));c=h.add(b,c,d,g,f);if(c.proxy)return c;d=goog.events.getProxy();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)goog.events.BrowserFeature.PASSIVE_EVENTS||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(goog.events.getOnString_(b.toString()),d);else if(a.addListener&&a.removeListener)goog.asserts.assert("change"===b,"MediaQueryList only has a change event"),a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");
goog.events.listenerCountEstimate_++;return c};goog.events.getProxy=function(){var a=goog.events.handleBrowserEvent_,b=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b};
goog.events.listenOnce=function(a,b,c,d,e){if(goog.isArray(b)){for(var f=0;f<b.length;f++)goog.events.listenOnce(a,b[f],c,d,e);return null}c=goog.events.wrapListener(c);return goog.events.Listenable.isImplementedBy(a)?(d=goog.isObject(d)?!!d.capture:!!d,a.listenOnce(b,c,d,e)):goog.events.listen_(a,b,c,!0,d,e)};goog.events.listenWithWrapper=function(a,b,c,d,e){b.listen(a,c,d,e)};
goog.events.unlisten=function(a,b,c,d,e){if(goog.isArray(b)){for(var f=0;f<b.length;f++)goog.events.unlisten(a,b[f],c,d,e);return null}d=goog.isObject(d)?!!d.capture:!!d;c=goog.events.wrapListener(c);if(goog.events.Listenable.isImplementedBy(a))return a.unlisten(b,c,d,e);if(!a)return!1;if(a=goog.events.getListenerMap_(a))if(b=a.getListener(b,c,d,e))return goog.events.unlistenByKey(b);return!1};
goog.events.unlistenByKey=function(a){if(goog.isNumber(a)||!a||a.removed)return!1;var b=a.src;if(goog.events.Listenable.isImplementedBy(b))return b.unlistenByKey(a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(goog.events.getOnString_(c),d):b.addListener&&b.removeListener&&b.removeListener(d);goog.events.listenerCountEstimate_--;(c=goog.events.getListenerMap_(b))?(c.removeByKey(a),0==c.getTypeCount()&&(c.src=null,b[goog.events.LISTENER_MAP_PROP_]=
null)):a.markAsRemoved();return!0};goog.events.unlistenWithWrapper=function(a,b,c,d,e){b.unlisten(a,c,d,e)};goog.events.removeAll=function(a,b){if(!a)return 0;if(goog.events.Listenable.isImplementedBy(a))return a.removeAllListeners(b);a=goog.events.getListenerMap_(a);if(!a)return 0;var c=0;b=b&&b.toString();for(var d in a.listeners)if(!b||d==b)for(var e=a.listeners[d].concat(),f=0;f<e.length;++f)goog.events.unlistenByKey(e[f])&&++c;return c};
goog.events.getListeners=function(a,b,c){return goog.events.Listenable.isImplementedBy(a)?a.getListeners(b,c):a?(a=goog.events.getListenerMap_(a))?a.getListeners(b,c):[]:[]};goog.events.getListener=function(a,b,c,d,e){c=goog.events.wrapListener(c);d=!!d;return goog.events.Listenable.isImplementedBy(a)?a.getListener(b,c,d,e):a?(a=goog.events.getListenerMap_(a))?a.getListener(b,c,d,e):null:null};
goog.events.hasListener=function(a,b,c){if(goog.events.Listenable.isImplementedBy(a))return a.hasListener(b,c);a=goog.events.getListenerMap_(a);return!!a&&a.hasListener(b,c)};goog.events.expose=function(a){var b=[],c;for(c in a)a[c]&&a[c].id?b.push(c+" = "+a[c]+" ("+a[c].id+")"):b.push(c+" = "+a[c]);return b.join("\n")};goog.events.getOnString_=function(a){return a in goog.events.onStringMap_?goog.events.onStringMap_[a]:goog.events.onStringMap_[a]=goog.events.onString_+a};
goog.events.fireListeners=function(a,b,c,d){return goog.events.Listenable.isImplementedBy(a)?a.fireListeners(b,c,d):goog.events.fireListeners_(a,b,c,d)};goog.events.fireListeners_=function(a,b,c,d){var e=!0;if(a=goog.events.getListenerMap_(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=goog.events.fireListener(f,d),e=e&&!1!==f)}return e};
goog.events.fireListener=function(a,b){var c=a.listener,d=a.handler||a.src;a.callOnce&&goog.events.unlistenByKey(a);return c.call(d,b)};goog.events.getTotalListenerCount=function(){return goog.events.listenerCountEstimate_};goog.events.dispatchEvent=function(a,b){goog.asserts.assert(goog.events.Listenable.isImplementedBy(a),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance.");return a.dispatchEvent(b)};
goog.events.protectBrowserEventEntryPoint=function(a){goog.events.handleBrowserEvent_=a.protectEntryPoint(goog.events.handleBrowserEvent_)};
goog.events.handleBrowserEvent_=function(a,b){if(a.removed)return!0;if(!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){var c=b||goog.getObjectByName("window.event");b=new goog.events.BrowserEvent(c,this);var d=!0;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.ON){if(!goog.events.isMarkedIeEvent_(c)){goog.events.markIeEvent_(c);c=[];for(var e=b.currentTarget;e;e=e.parentNode)c.push(e);a=a.type;for(e=c.length-1;!b.propagationStopped_&&0<=e;e--){b.currentTarget=c[e];var f=
goog.events.fireListeners_(c[e],a,!0,b);d=d&&f}for(e=0;!b.propagationStopped_&&e<c.length;e++)b.currentTarget=c[e],f=goog.events.fireListeners_(c[e],a,!1,b),d=d&&f}}else d=goog.events.fireListener(a,b);return d}return goog.events.fireListener(a,new goog.events.BrowserEvent(b,this))};goog.events.markIeEvent_=function(a){var b=!1;if(0==a.keyCode)try{a.keyCode=-1;return}catch(c){b=!0}if(b||void 0==a.returnValue)a.returnValue=!0};goog.events.isMarkedIeEvent_=function(a){return 0>a.keyCode||void 0!=a.returnValue};
goog.events.uniqueIdCounter_=0;goog.events.getUniqueId=function(a){return a+"_"+goog.events.uniqueIdCounter_++};goog.events.getListenerMap_=function(a){a=a[goog.events.LISTENER_MAP_PROP_];return a instanceof goog.events.ListenerMap?a:null};goog.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1E9*Math.random()>>>0);
goog.events.wrapListener=function(a){goog.asserts.assert(a,"Listener can not be null.");if(goog.isFunction(a))return a;goog.asserts.assert(a.handleEvent,"An object listener must have handleEvent method.");a[goog.events.LISTENER_WRAPPER_PROP_]||(a[goog.events.LISTENER_WRAPPER_PROP_]=function(b){return a.handleEvent(b)});return a[goog.events.LISTENER_WRAPPER_PROP_]};goog.debug.entryPointRegistry.register(function(a){goog.events.handleBrowserEvent_=a(goog.events.handleBrowserEvent_)});goog.events.EventTarget=function(){goog.Disposable.call(this);this.eventTargetListeners_=new goog.events.ListenerMap(this);this.actualEventTarget_=this;this.parentEventTarget_=null};goog.inherits(goog.events.EventTarget,goog.Disposable);goog.events.Listenable.addImplementation(goog.events.EventTarget);goog.events.EventTarget.MAX_ANCESTORS_=1E3;goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_};
goog.events.EventTarget.prototype.setParentEventTarget=function(a){this.parentEventTarget_=a};goog.events.EventTarget.prototype.addEventListener=function(a,b,c,d){goog.events.listen(this,a,b,c,d)};goog.events.EventTarget.prototype.removeEventListener=function(a,b,c,d){goog.events.unlisten(this,a,b,c,d)};
goog.events.EventTarget.prototype.dispatchEvent=function(a){this.assertInitialized_();var b=this.getParentEventTarget();if(b){var c=[];for(var d=1;b;b=b.getParentEventTarget())c.push(b),goog.asserts.assert(++d<goog.events.EventTarget.MAX_ANCESTORS_,"infinite loop")}return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,a,c)};
goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this);this.removeAllListeners();this.parentEventTarget_=null};goog.events.EventTarget.prototype.listen=function(a,b,c,d){this.assertInitialized_();return this.eventTargetListeners_.add(String(a),b,!1,c,d)};goog.events.EventTarget.prototype.listenOnce=function(a,b,c,d){return this.eventTargetListeners_.add(String(a),b,!0,c,d)};
goog.events.EventTarget.prototype.unlisten=function(a,b,c,d){return this.eventTargetListeners_.remove(String(a),b,c,d)};goog.events.EventTarget.prototype.unlistenByKey=function(a){return this.eventTargetListeners_.removeByKey(a)};goog.events.EventTarget.prototype.removeAllListeners=function(a){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(a):0};
goog.events.EventTarget.prototype.fireListeners=function(a,b,c){a=this.eventTargetListeners_.listeners[String(a)];if(!a)return!0;a=a.concat();for(var d=!0,e=0;e<a.length;++e){var f=a[e];if(f&&!f.removed&&f.capture==b){var g=f.listener,h=f.handler||f.src;f.callOnce&&this.unlistenByKey(f);d=!1!==g.call(h,c)&&d}}return d&&0!=c.returnValue_};goog.events.EventTarget.prototype.getListeners=function(a,b){return this.eventTargetListeners_.getListeners(String(a),b)};
goog.events.EventTarget.prototype.getListener=function(a,b,c,d){return this.eventTargetListeners_.getListener(String(a),b,c,d)};goog.events.EventTarget.prototype.hasListener=function(a,b){a=goog.isDef(a)?String(a):void 0;return this.eventTargetListeners_.hasListener(a,b)};goog.events.EventTarget.prototype.setTargetForTesting=function(a){this.actualEventTarget_=a};goog.events.EventTarget.prototype.assertInitialized_=function(){goog.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};
goog.events.EventTarget.dispatchEventInternal_=function(a,b,c){var d=b.type||b;if(goog.isString(b))b=new goog.events.Event(b,a);else if(b instanceof goog.events.Event)b.target=b.target||a;else{var e=b;b=new goog.events.Event(d,a);goog.object.extend(b,e)}e=!0;if(c)for(var f=c.length-1;!b.propagationStopped_&&0<=f;f--){var g=b.currentTarget=c[f];e=g.fireListeners(d,!0,b)&&e}b.propagationStopped_||(g=b.currentTarget=a,e=g.fireListeners(d,!0,b)&&e,b.propagationStopped_||(e=g.fireListeners(d,!1,b)&&e));
if(c)for(f=0;!b.propagationStopped_&&f<c.length;f++)g=b.currentTarget=c[f],e=g.fireListeners(d,!1,b)&&e;return e};goog.userAgent.product={};goog.userAgent.product.ASSUME_FIREFOX=!1;goog.userAgent.product.ASSUME_IPHONE=!1;goog.userAgent.product.ASSUME_IPAD=!1;goog.userAgent.product.ASSUME_ANDROID=!1;goog.userAgent.product.ASSUME_CHROME=!1;goog.userAgent.product.ASSUME_SAFARI=!1;
goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI;goog.userAgent.product.OPERA=goog.userAgent.OPERA;goog.userAgent.product.IE=goog.userAgent.IE;goog.userAgent.product.EDGE=goog.userAgent.EDGE;
goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox();goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()};goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_();
goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad();goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser();goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome();
goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()};goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_();goog.userAgent.product.determineVersion_=function(){if(goog.userAgent.product.FIREFOX)return goog.userAgent.product.getFirstRegExpGroup_(/Firefox\/([0-9.]+)/);if(goog.userAgent.product.IE||goog.userAgent.product.EDGE||goog.userAgent.product.OPERA)return goog.userAgent.VERSION;if(goog.userAgent.product.CHROME)return goog.labs.userAgent.platform.isIos()?goog.userAgent.product.getFirstRegExpGroup_(/CriOS\/([0-9.]+)/):goog.userAgent.product.getFirstRegExpGroup_(/Chrome\/([0-9.]+)/);if(goog.userAgent.product.SAFARI&&
!goog.labs.userAgent.platform.isIos())return goog.userAgent.product.getFirstRegExpGroup_(/Version\/([0-9.]+)/);if(goog.userAgent.product.IPHONE||goog.userAgent.product.IPAD){var a=goog.userAgent.product.execRegExp_(/Version\/(\S+).*Mobile\/(\S+)/);if(a)return a[1]+"."+a[2]}else if(goog.userAgent.product.ANDROID)return(a=goog.userAgent.product.getFirstRegExpGroup_(/Android\s+([0-9.]+)/))?a:goog.userAgent.product.getFirstRegExpGroup_(/Version\/([0-9.]+)/);return""};
goog.userAgent.product.getFirstRegExpGroup_=function(a){return(a=goog.userAgent.product.execRegExp_(a))?a[1]:""};goog.userAgent.product.execRegExp_=function(a){return a.exec(goog.userAgent.getUserAgentString())};goog.userAgent.product.VERSION=goog.userAgent.product.determineVersion_();goog.userAgent.product.isVersion=function(a){return 0<=goog.string.compareVersions(goog.userAgent.product.VERSION,a)};goog.i18n={};goog.i18n.bidi={};goog.i18n.bidi.FORCE_RTL=!1;
goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||
"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4));goog.i18n.bidi.Format={LRE:"\u202a",RLE:"\u202b",PDF:"\u202c",LRM:"\u200e",RLM:"\u200f"};goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0};goog.i18n.bidi.RIGHT="right";goog.i18n.bidi.LEFT="left";goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT;
goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT;goog.i18n.bidi.toDir=function(a,b){return"number"==typeof a?0<a?goog.i18n.bidi.Dir.LTR:0>a?goog.i18n.bidi.Dir.RTL:b?null:goog.i18n.bidi.Dir.NEUTRAL:null==a?null:a?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};goog.i18n.bidi.ltrChars_="A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff";goog.i18n.bidi.rtlChars_="\u0591-\u06ef\u06fa-\u07ff\u200f\ufb1d-\ufdff\ufe70-\ufefc";
goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g;goog.i18n.bidi.stripHtmlIfNeeded_=function(a,b){return b?a.replace(goog.i18n.bidi.htmlSkipReg_,""):a};goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.hasAnyRtl=function(a,b){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl;
goog.i18n.bidi.hasAnyLtr=function(a,b){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.isRtlChar=function(a){return goog.i18n.bidi.rtlRe_.test(a)};goog.i18n.bidi.isLtrChar=function(a){return goog.i18n.bidi.ltrRe_.test(a)};goog.i18n.bidi.isNeutralChar=function(a){return!goog.i18n.bidi.isLtrChar(a)&&!goog.i18n.bidi.isRtlChar(a)};
goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.startsWithRtl=function(a,b){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl;
goog.i18n.bidi.startsWithLtr=function(a,b){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr;goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/;goog.i18n.bidi.isNeutralText=function(a,b){a=goog.i18n.bidi.stripHtmlIfNeeded_(a,b);return goog.i18n.bidi.isRequiredLtrRe_.test(a)||!goog.i18n.bidi.hasAnyLtr(a)&&!goog.i18n.bidi.hasAnyRtl(a)};
goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$");goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$");goog.i18n.bidi.endsWithLtr=function(a,b){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr;
goog.i18n.bidi.endsWithRtl=function(a,b){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl;goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;goog.i18n.bidi.isRtlLanguage=function(a){return goog.i18n.bidi.rtlLocalesRe_.test(a)};goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g;
goog.i18n.bidi.guardBracketInText=function(a,b){b=(void 0===b?goog.i18n.bidi.hasAnyRtl(a):b)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return a.replace(goog.i18n.bidi.bracketGuardTextRe_,b+"$&"+b)};goog.i18n.bidi.enforceRtlInHtml=function(a){return"<"==a.charAt(0)?a.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+a+"</span>"};goog.i18n.bidi.enforceRtlInText=function(a){return goog.i18n.bidi.Format.RLE+a+goog.i18n.bidi.Format.PDF};
goog.i18n.bidi.enforceLtrInHtml=function(a){return"<"==a.charAt(0)?a.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+a+"</span>"};goog.i18n.bidi.enforceLtrInText=function(a){return goog.i18n.bidi.Format.LRE+a+goog.i18n.bidi.Format.PDF};goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g;goog.i18n.bidi.leftRe_=/left/gi;goog.i18n.bidi.rightRe_=/right/gi;goog.i18n.bidi.tempRe_=/%%%%/g;
goog.i18n.bidi.mirrorCSS=function(a){return a.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)};goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g;goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g;
goog.i18n.bidi.normalizeHebrewQuote=function(a){return a.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1\u05f4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1\u05f3")};goog.i18n.bidi.wordSeparatorRe_=/\s+/;goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/;goog.i18n.bidi.rtlDetectionThreshold_=.4;
goog.i18n.bidi.estimateDirection=function(a,b){var c=0,d=0,e=!1;a=goog.i18n.bidi.stripHtmlIfNeeded_(a,b).split(goog.i18n.bidi.wordSeparatorRe_);for(b=0;b<a.length;b++){var f=a[b];goog.i18n.bidi.startsWithRtl(f)?(c++,d++):goog.i18n.bidi.isRequiredLtrRe_.test(f)?e=!0:goog.i18n.bidi.hasAnyLtr(f)?d++:goog.i18n.bidi.hasNumeralsRe_.test(f)&&(e=!0)}return 0==d?e?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:c/d>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};
goog.i18n.bidi.detectRtlDirectionality=function(a,b){return goog.i18n.bidi.estimateDirection(a,b)==goog.i18n.bidi.Dir.RTL};goog.i18n.bidi.setElementDirAndAlign=function(a,b){a&&(b=goog.i18n.bidi.toDir(b))&&(a.style.textAlign=b==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,a.dir=b==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")};
goog.i18n.bidi.setElementDirByTextDirectionality=function(a,b){switch(goog.i18n.bidi.estimateDirection(b)){case goog.i18n.bidi.Dir.LTR:a.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:a.dir="rtl";break;default:a.removeAttribute("dir")}};goog.i18n.bidi.DirectionalString=function(){};goog.string.TypedString=function(){};goog.string.Const=function(){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_="";this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_};goog.string.Const.prototype.implementsGoogStringTypedString=!0;goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_};
goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"};goog.string.Const.unwrap=function(a){if(a instanceof goog.string.Const&&a.constructor===goog.string.Const&&a.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_)return a.stringConstValueWithSecurityContract__googStringSecurityPrivate_;goog.asserts.fail("expected object of type Const, got '"+a+"'");return"type_error:Const"};
goog.string.Const.from=function(a){return goog.string.Const.create__googStringSecurityPrivate_(a)};goog.string.Const.TYPE_MARKER_={};goog.string.Const.create__googStringSecurityPrivate_=function(a){var b=new goog.string.Const;b.stringConstValueWithSecurityContract__googStringSecurityPrivate_=a;return b};goog.string.Const.EMPTY=goog.string.Const.from("");goog.html={};goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="";this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0;goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_};
goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR};goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(a){var b=goog.html.TrustedResourceUrl.unwrap(this),c=/\?/.test(b)?"&":"?",d;for(d in a)for(var e=goog.isArray(a[d])?a[d]:[a[d]],f=0;f<e.length;f++)null!=e[f]&&(b+=c+encodeURIComponent(d)+"="+encodeURIComponent(String(e[f])),c="&");return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(b)};
goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"});
goog.html.TrustedResourceUrl.unwrap=function(a){if(a instanceof goog.html.TrustedResourceUrl&&a.constructor===goog.html.TrustedResourceUrl&&a.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+a+"' of type "+goog.typeOf(a));return"type_error:TrustedResourceUrl"};
goog.html.TrustedResourceUrl.format=function(a,b){var c=goog.string.Const.unwrap(a);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);a=c.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(a,e){if(!Object.prototype.hasOwnProperty.call(b,e))throw Error('Found marker, "'+e+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(b));a=b[e];return a instanceof goog.string.Const?goog.string.Const.unwrap(a):
encodeURIComponent(String(a))});return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g;goog.html.TrustedResourceUrl.BASE_URL_=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank(#|$)/i;goog.html.TrustedResourceUrl.formatWithParams=function(a,b,c){return goog.html.TrustedResourceUrl.format(a,b).cloneWithParams(c)};goog.html.TrustedResourceUrl.fromConstant=function(a){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(a))};
goog.html.TrustedResourceUrl.fromConstants=function(a){for(var b="",c=0;c<a.length;c++)b+=goog.string.Const.unwrap(a[c]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(b)};goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(a){var b=new goog.html.TrustedResourceUrl;b.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=a;return b};var os={mixin:{}};os.mixin.closure={};goog.object.clone=function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b};goog.object.forEach=function(a,b,c){for(var d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a)};goog.object.getCount=function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b};goog.object.getKeys=function(a){var b=[],c=0,d;for(d in a)a.hasOwnProperty(d)&&(b[c++]=d);return b};
goog.object.getValues=function(a){var b=[],c=0,d;for(d in a)a.hasOwnProperty(d)&&(b[c++]=a[d]);return b};goog.object.isEmpty=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0};goog.object.unsafeClone=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if(a.clone)return a.clone();b="array"==b?[]:{};for(var c in a)a.hasOwnProperty(c)&&(b[c]=goog.object.unsafeClone(a[c]));return b}return a};
os.mixin.replaceTrustedResourceUrl=function(){goog.html.TrustedResourceUrl.BASE_URL_=RegExp("")};os.mixin.replaceTrustedResourceUrl();/*

 Copyright 2005-2015 OpenLayers Contributors. All rights reserved.

 Redistribution and use in source and binary forms, with or without modification,
 are permitted provided that the following conditions are met:

 1. Redistributions of source code must retain the above copyright notice, this
 list of conditions and the following disclaimer.

 2. Redistributions in binary form must reproduce the above copyright notice,
 this list of conditions and the following disclaimer in the documentation and/or
 other materials provided with the distribution.

 THIS SOFTWARE IS PROVIDED BY OPENLAYERS CONTRIBUTORS ``AS IS'' AND ANY EXPRESS
 OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
 SHALL COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
 INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

 The views and conclusions contained in the software and documentation are those
 of the authors and should not be interpreted as representing official policies,
 either expressed or implied, of OpenLayers Contributors.
*/
os.ol={};os.ol.license={};os.dispatcher=new goog.events.EventTarget;os.logWindow=null;os.MainAppSelector=".os-app";os.isOSX=function(){return/os\s?x/i.test(navigator.userAgent)};os.isNumeric=function(a){return!goog.isArrayLike(a)&&0<=a-parseFloat(a)};
os.browserVersion=function(){var a="UNKNOWN";goog.userAgent.product.CHROME?a="CHROME":goog.userAgent.product.IE?a="IE":goog.userAgent.product.EDGE?a="EDGE":goog.userAgent.product.FIREFOX?a="FIREFOX":goog.userAgent.product.OPERA?a="OPERA":goog.userAgent.product.SAFARI&&(a="SAFARI");var b=goog.userAgent.product.VERSION||goog.userAgent.VERSION;b=b.split(".")[0];return a+"."+b};
os.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments;c&&!d&&a.apply(e,f);clearTimeout(d);d=setTimeout(function(){d=null;c||a.apply(e,f)},b)}};os.getMajorVersion=function(a){if(!a)return"0.0";var b=a.indexOf(".");if(0>b)return a+".0";0===b&&(a="0"+a,b=1);b=a.indexOf(".",b+1);return 0>b?a.lastIndexOf(".")===a.length-1?a+"0":a:a.substring(0,b)};os.getParentWindow=function(){try{var a=window.opener||window.parent;if(a&&a.document)return a}catch(b){}return window};
os.inIframe=function(a){a=a||window;try{return a.self!==a.top}catch(b){return!0}};os.isMainWindow=function(){return!!document.querySelector(os.MainAppSelector)};
os.openPopup=function(a,b,c,d){c||(c="#FFFFFF");d||(d="#000000");0==b.indexOf("<![CDATA[")&&(b=b.substring(9));b.indexOf("]]\x3e")==b.length-3&&(b=b.substring(0,b.indexOf("]]\x3e")));a=-1<b.indexOf("</html>")?b:'<html style="background-color: '+c+"; color: "+d+';"><title>'+a+"</title><body>"+b+"</body></html>";try{window.popup&&window.popup.close(),window.popup=window.open("popup.html","description","height="+window.screen.height/2.5+",width="+window.screen.width/2.5+",menubar=no,scrollbars=yes,resizable=yes"),
window.popup.document.write(a)}catch(e){}};os.peer=null;goog.Thenable=function(){};goog.Thenable.prototype.then=function(a,b,c){};goog.Thenable.IMPLEMENTED_BY_PROP="$goog_Thenable";goog.Thenable.addImplementation=function(a){a.prototype.then=a.prototype.then;COMPILED?a.prototype[goog.Thenable.IMPLEMENTED_BY_PROP]=!0:a.prototype.$goog_Thenable=!0};goog.Thenable.isImplementedBy=function(a){if(!a)return!1;try{return COMPILED?!!a[goog.Thenable.IMPLEMENTED_BY_PROP]:!!a.$goog_Thenable}catch(b){return!1}};goog.async={};goog.async.FreeList=function(a,b,c){this.limit_=c;this.create_=a;this.reset_=b;this.occupants_=0;this.head_=null};goog.async.FreeList.prototype.get=function(){if(0<this.occupants_){this.occupants_--;var a=this.head_;this.head_=a.next;a.next=null}else a=this.create_();return a};goog.async.FreeList.prototype.put=function(a){this.reset_(a);this.occupants_<this.limit_&&(this.occupants_++,a.next=this.head_,this.head_=a)};goog.async.FreeList.prototype.occupants=function(){return this.occupants_};goog.async.WorkQueue=function(){this.workTail_=this.workHead_=null};goog.async.WorkQueue.DEFAULT_MAX_UNUSED=100;goog.async.WorkQueue.freelist_=new goog.async.FreeList(function(){return new goog.async.WorkItem},function(a){a.reset()},goog.async.WorkQueue.DEFAULT_MAX_UNUSED);goog.async.WorkQueue.prototype.add=function(a,b){var c=this.getUnusedItem_();c.set(a,b);this.workTail_?this.workTail_.next=c:(goog.asserts.assert(!this.workHead_),this.workHead_=c);this.workTail_=c};
goog.async.WorkQueue.prototype.remove=function(){var a=null;this.workHead_&&(a=this.workHead_,this.workHead_=this.workHead_.next,this.workHead_||(this.workTail_=null),a.next=null);return a};goog.async.WorkQueue.prototype.returnUnused=function(a){goog.async.WorkQueue.freelist_.put(a)};goog.async.WorkQueue.prototype.getUnusedItem_=function(){return goog.async.WorkQueue.freelist_.get()};goog.async.WorkItem=function(){this.next=this.scope=this.fn=null};
goog.async.WorkItem.prototype.set=function(a,b){this.fn=a;this.scope=b;this.next=null};goog.async.WorkItem.prototype.reset=function(){this.next=this.scope=this.fn=null};goog.dom.HtmlElement=function(){};goog.dom.TagName=function(a){this.tagName_=a};goog.dom.TagName.prototype.toString=function(){return this.tagName_};goog.dom.TagName.A=new goog.dom.TagName("A");goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR");goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM");goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS");goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET");goog.dom.TagName.AREA=new goog.dom.TagName("AREA");goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE");
goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE");goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO");goog.dom.TagName.B=new goog.dom.TagName("B");goog.dom.TagName.BASE=new goog.dom.TagName("BASE");goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT");goog.dom.TagName.BDI=new goog.dom.TagName("BDI");goog.dom.TagName.BDO=new goog.dom.TagName("BDO");goog.dom.TagName.BIG=new goog.dom.TagName("BIG");goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE");goog.dom.TagName.BODY=new goog.dom.TagName("BODY");
goog.dom.TagName.BR=new goog.dom.TagName("BR");goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON");goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS");goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION");goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER");goog.dom.TagName.CITE=new goog.dom.TagName("CITE");goog.dom.TagName.CODE=new goog.dom.TagName("CODE");goog.dom.TagName.COL=new goog.dom.TagName("COL");goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP");
goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND");goog.dom.TagName.DATA=new goog.dom.TagName("DATA");goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST");goog.dom.TagName.DD=new goog.dom.TagName("DD");goog.dom.TagName.DEL=new goog.dom.TagName("DEL");goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS");goog.dom.TagName.DFN=new goog.dom.TagName("DFN");goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG");goog.dom.TagName.DIR=new goog.dom.TagName("DIR");goog.dom.TagName.DIV=new goog.dom.TagName("DIV");
goog.dom.TagName.DL=new goog.dom.TagName("DL");goog.dom.TagName.DT=new goog.dom.TagName("DT");goog.dom.TagName.EM=new goog.dom.TagName("EM");goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED");goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET");goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION");goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE");goog.dom.TagName.FONT=new goog.dom.TagName("FONT");goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER");goog.dom.TagName.FORM=new goog.dom.TagName("FORM");
goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME");goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET");goog.dom.TagName.H1=new goog.dom.TagName("H1");goog.dom.TagName.H2=new goog.dom.TagName("H2");goog.dom.TagName.H3=new goog.dom.TagName("H3");goog.dom.TagName.H4=new goog.dom.TagName("H4");goog.dom.TagName.H5=new goog.dom.TagName("H5");goog.dom.TagName.H6=new goog.dom.TagName("H6");goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD");goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER");
goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP");goog.dom.TagName.HR=new goog.dom.TagName("HR");goog.dom.TagName.HTML=new goog.dom.TagName("HTML");goog.dom.TagName.I=new goog.dom.TagName("I");goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME");goog.dom.TagName.IMG=new goog.dom.TagName("IMG");goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT");goog.dom.TagName.INS=new goog.dom.TagName("INS");goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX");goog.dom.TagName.KBD=new goog.dom.TagName("KBD");
goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN");goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL");goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND");goog.dom.TagName.LI=new goog.dom.TagName("LI");goog.dom.TagName.LINK=new goog.dom.TagName("LINK");goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN");goog.dom.TagName.MAP=new goog.dom.TagName("MAP");goog.dom.TagName.MARK=new goog.dom.TagName("MARK");goog.dom.TagName.MATH=new goog.dom.TagName("MATH");goog.dom.TagName.MENU=new goog.dom.TagName("MENU");
goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM");goog.dom.TagName.META=new goog.dom.TagName("META");goog.dom.TagName.METER=new goog.dom.TagName("METER");goog.dom.TagName.NAV=new goog.dom.TagName("NAV");goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES");goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT");goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT");goog.dom.TagName.OL=new goog.dom.TagName("OL");goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP");
goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION");goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT");goog.dom.TagName.P=new goog.dom.TagName("P");goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM");goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE");goog.dom.TagName.PRE=new goog.dom.TagName("PRE");goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS");goog.dom.TagName.Q=new goog.dom.TagName("Q");goog.dom.TagName.RP=new goog.dom.TagName("RP");goog.dom.TagName.RT=new goog.dom.TagName("RT");
goog.dom.TagName.RTC=new goog.dom.TagName("RTC");goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY");goog.dom.TagName.S=new goog.dom.TagName("S");goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP");goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT");goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION");goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT");goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL");goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE");goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN");
goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE");goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG");goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE");goog.dom.TagName.SUB=new goog.dom.TagName("SUB");goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY");goog.dom.TagName.SUP=new goog.dom.TagName("SUP");goog.dom.TagName.SVG=new goog.dom.TagName("SVG");goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE");goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY");goog.dom.TagName.TD=new goog.dom.TagName("TD");
goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE");goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA");goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT");goog.dom.TagName.TH=new goog.dom.TagName("TH");goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD");goog.dom.TagName.TIME=new goog.dom.TagName("TIME");goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE");goog.dom.TagName.TR=new goog.dom.TagName("TR");goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK");goog.dom.TagName.TT=new goog.dom.TagName("TT");
goog.dom.TagName.U=new goog.dom.TagName("U");goog.dom.TagName.UL=new goog.dom.TagName("UL");goog.dom.TagName.VAR=new goog.dom.TagName("VAR");goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO");goog.dom.TagName.WBR=new goog.dom.TagName("WBR");goog.functions={};goog.functions.constant=function(a){return function(){return a}};goog.functions.FALSE=goog.functions.constant(!1);goog.functions.TRUE=goog.functions.constant(!0);goog.functions.NULL=goog.functions.constant(null);goog.functions.identity=function(a,b){return a};goog.functions.error=function(a){return function(){throw Error(a);}};goog.functions.fail=function(a){return function(){throw a;}};
goog.functions.lock=function(a,b){b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};goog.functions.nth=function(a){return function(){return arguments[a]}};goog.functions.partialRight=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.push.apply(b,c);return a.apply(this,b)}};goog.functions.withReturnValue=function(a,b){return goog.functions.sequence(a,goog.functions.constant(b))};
goog.functions.equalTo=function(a,b){return function(c){return b?a==c:a===c}};goog.functions.compose=function(a,b){var c=arguments,d=c.length;return function(){var a;d&&(a=c[d-1].apply(this,arguments));for(var b=d-2;0<=b;b--)a=c[b].call(this,a);return a}};goog.functions.sequence=function(a){var b=arguments,c=b.length;return function(){for(var a,e=0;e<c;e++)a=b[e].apply(this,arguments);return a}};
goog.functions.and=function(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};goog.functions.or=function(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(b[a].apply(this,arguments))return!0;return!1}};goog.functions.not=function(a){return function(){return!a.apply(this,arguments)}};
goog.functions.create=function(a,b){var c=function(){};c.prototype=a.prototype;c=new c;a.apply(c,Array.prototype.slice.call(arguments,1));return c};goog.functions.CACHE_RETURN_VALUE=!0;goog.functions.cacheReturnValue=function(a){var b=!1,c;return function(){if(!goog.functions.CACHE_RETURN_VALUE)return a();b||(c=a(),b=!0);return c}};goog.functions.once=function(a){var b=a;return function(){if(b){var a=b;b=null;a()}}};
goog.functions.debounce=function(a,b,c){var d=0;return function(e){goog.global.clearTimeout(d);var f=arguments;d=goog.global.setTimeout(function(){a.apply(c,f)},b)}};goog.functions.throttle=function(a,b,c){var d=0,e=!1,f=[],g=function(){d=0;e&&(e=!1,h())},h=function(){d=goog.global.setTimeout(g,b);a.apply(c,f)};return function(a){f=arguments;d?e=!0:h()}};goog.functions.rateLimit=function(a,b,c){var d=0,e=function(){d=0};return function(f){d||(d=goog.global.setTimeout(e,b),a.apply(c,arguments))}};goog.async.throwException=function(a){goog.global.setTimeout(function(){throw a;},0)};goog.async.nextTick=function(a,b,c){var d=a;b&&(d=goog.bind(a,b));d=goog.async.nextTick.wrapCallback_(d);goog.isFunction(goog.global.setImmediate)&&(c||goog.async.nextTick.useSetImmediate_())?goog.global.setImmediate(d):(goog.async.nextTick.setImmediate_||(goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_()),goog.async.nextTick.setImmediate_(d))};
goog.async.nextTick.useSetImmediate_=function(){return goog.global.Window&&goog.global.Window.prototype&&!goog.labs.userAgent.browser.isEdge()&&goog.global.Window.prototype.setImmediate==goog.global.setImmediate?!1:!0};
goog.async.nextTick.getSetImmediateEmulator_=function(){var a=goog.global.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!goog.labs.userAgent.engine.isPresto()&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow;a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+
"//"+b.location.host;a=goog.bind(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!goog.labs.userAgent.browser.isIE()){var b=new a,c={},d=c;b.port1.onmessage=function(){if(goog.isDef(c.next)){c=c.next;var a=c.cb;c.cb=null;a()}};return function(a){d.next={cb:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in
document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){goog.global.setTimeout(a,0)}};goog.async.nextTick.wrapCallback_=goog.functions.identity;goog.debug.entryPointRegistry.register(function(a){goog.async.nextTick.wrapCallback_=a});goog.async.run=function(a,b){goog.async.run.schedule_||goog.async.run.initializeRunner_();goog.async.run.workQueueScheduled_||(goog.async.run.schedule_(),goog.async.run.workQueueScheduled_=!0);goog.async.run.workQueue_.add(a,b)};goog.async.run.initializeRunner_=function(){if(-1!=String(goog.global.Promise).indexOf("[native code]")){var a=goog.global.Promise.resolve(void 0);goog.async.run.schedule_=function(){a.then(goog.async.run.processWorkQueue)}}else goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue)}};
goog.async.run.forceNextTick=function(a){goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue);a&&a(goog.async.run.processWorkQueue)}};goog.async.run.workQueueScheduled_=!1;goog.async.run.workQueue_=new goog.async.WorkQueue;goog.DEBUG&&(goog.async.run.resetQueue=function(){goog.async.run.workQueueScheduled_=!1;goog.async.run.workQueue_=new goog.async.WorkQueue});
goog.async.run.processWorkQueue=function(){for(var a;a=goog.async.run.workQueue_.remove();){try{a.fn.call(a.scope)}catch(b){goog.async.throwException(b)}goog.async.run.workQueue_.returnUnused(a)}goog.async.run.workQueueScheduled_=!1};goog.promise={};goog.promise.Resolver=function(){};goog.Promise=function(a,b){this.state_=goog.Promise.State_.PENDING;this.result_=void 0;this.callbackEntriesTail_=this.callbackEntries_=this.parent_=null;this.executing_=!1;0<goog.Promise.UNHANDLED_REJECTION_DELAY?this.unhandledRejectionId_=0:0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1);goog.Promise.LONG_STACK_TRACES&&(this.stack_=[],this.addStackTrace_(Error("created")),this.currentStep_=0);if(a!=goog.nullFunction)try{var c=this;a.call(b,function(a){c.resolve_(goog.Promise.State_.FULFILLED,
a)},function(a){if(goog.DEBUG&&!(a instanceof goog.Promise.CancellationError))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(e){}c.resolve_(goog.Promise.State_.REJECTED,a)})}catch(d){this.resolve_(goog.Promise.State_.REJECTED,d)}};goog.Promise.LONG_STACK_TRACES=!1;goog.Promise.UNHANDLED_REJECTION_DELAY=0;goog.Promise.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3};
goog.Promise.CallbackEntry_=function(){this.next=this.context=this.onRejected=this.onFulfilled=this.child=null;this.always=!1};goog.Promise.CallbackEntry_.prototype.reset=function(){this.context=this.onRejected=this.onFulfilled=this.child=null;this.always=!1};goog.Promise.DEFAULT_MAX_UNUSED=100;goog.Promise.freelist_=new goog.async.FreeList(function(){return new goog.Promise.CallbackEntry_},function(a){a.reset()},goog.Promise.DEFAULT_MAX_UNUSED);
goog.Promise.getCallbackEntry_=function(a,b,c){var d=goog.Promise.freelist_.get();d.onFulfilled=a;d.onRejected=b;d.context=c;return d};goog.Promise.returnEntry_=function(a){goog.Promise.freelist_.put(a)};goog.Promise.resolve=function(a){if(a instanceof goog.Promise)return a;var b=new goog.Promise(goog.nullFunction);b.resolve_(goog.Promise.State_.FULFILLED,a);return b};goog.Promise.reject=function(a){return new goog.Promise(function(b,c){c(a)})};
goog.Promise.resolveThen_=function(a,b,c){goog.Promise.maybeThen_(a,b,c,null)||goog.async.run(goog.partial(b,a))};goog.Promise.race=function(a){return new goog.Promise(function(b,c){a.length||b(void 0);for(var d=0,e;d<a.length;d++)e=a[d],goog.Promise.resolveThen_(e,b,c)})};
goog.Promise.all=function(a){return new goog.Promise(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},h=0,k;h<a.length;h++)k=a[h],goog.Promise.resolveThen_(k,goog.partial(f,h),g);else b(e)})};
goog.Promise.allSettled=function(a){return new goog.Promise(function(b,c){var d=a.length,e=[];if(d){c=function(a,c,f){d--;e[a]=c?{fulfilled:!0,value:f}:{fulfilled:!1,reason:f};0==d&&b(e)};for(var f=0,g;f<a.length;f++)g=a[f],goog.Promise.resolveThen_(g,goog.partial(c,f,!0),goog.partial(c,f,!1))}else b(e)})};
goog.Promise.firstFulfilled=function(a){return new goog.Promise(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a){b(a)},g=function(a,b){d--;e[a]=b;0==d&&c(e)},h=0,k;h<a.length;h++)k=a[h],goog.Promise.resolveThen_(k,f,goog.partial(g,h));else b(void 0)})};goog.Promise.withResolver=function(){var a,b,c=new goog.Promise(function(c,e){a=c;b=e});return new goog.Promise.Resolver_(c,a,b)};
goog.Promise.prototype.then=function(a,b,c){null!=a&&goog.asserts.assertFunction(a,"opt_onFulfilled should be a function.");null!=b&&goog.asserts.assertFunction(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then"));return this.addChildPromise_(goog.isFunction(a)?a:null,goog.isFunction(b)?b:null,c)};goog.Thenable.addImplementation(goog.Promise);
goog.Promise.prototype.thenVoid=function(a,b,c){null!=a&&goog.asserts.assertFunction(a,"opt_onFulfilled should be a function.");null!=b&&goog.asserts.assertFunction(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then"));this.addCallbackEntry_(goog.Promise.getCallbackEntry_(a||goog.nullFunction,b||null,c))};
goog.Promise.prototype.thenAlways=function(a,b){goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenAlways"));a=goog.Promise.getCallbackEntry_(a,a,b);a.always=!0;this.addCallbackEntry_(a);return this};goog.Promise.prototype.thenCatch=function(a,b){goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenCatch"));return this.addChildPromise_(null,a,b)};
goog.Promise.prototype.cancel=function(a){this.state_==goog.Promise.State_.PENDING&&goog.async.run(function(){var b=new goog.Promise.CancellationError(a);this.cancelInternal_(b)},this)};goog.Promise.prototype.cancelInternal_=function(a){this.state_==goog.Promise.State_.PENDING&&(this.parent_?(this.parent_.cancelChild_(this,a),this.parent_=null):this.resolve_(goog.Promise.State_.REJECTED,a))};
goog.Promise.prototype.cancelChild_=function(a,b){if(this.callbackEntries_){for(var c=0,d=null,e=null,f=this.callbackEntries_;f&&(f.always||(c++,f.child==a&&(d=f),!(d&&1<c)));f=f.next)d||(e=f);d&&(this.state_==goog.Promise.State_.PENDING&&1==c?this.cancelInternal_(b):(e?this.removeEntryAfter_(e):this.popEntry_(),this.executeCallback_(d,goog.Promise.State_.REJECTED,b)))}};
goog.Promise.prototype.addCallbackEntry_=function(a){this.hasEntry_()||this.state_!=goog.Promise.State_.FULFILLED&&this.state_!=goog.Promise.State_.REJECTED||this.scheduleCallbacks_();this.queueEntry_(a)};
goog.Promise.prototype.addChildPromise_=function(a,b,c){var d=goog.Promise.getCallbackEntry_(null,null,null);d.child=new goog.Promise(function(e,f){d.onFulfilled=a?function(b){try{var d=a.call(c,b);e(d)}catch(k){f(k)}}:e;d.onRejected=b?function(a){try{var d=b.call(c,a);!goog.isDef(d)&&a instanceof goog.Promise.CancellationError?f(a):e(d)}catch(k){f(k)}}:f});d.child.parent_=this;this.addCallbackEntry_(d);return d.child};
goog.Promise.prototype.unblockAndFulfill_=function(a){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED);this.state_=goog.Promise.State_.PENDING;this.resolve_(goog.Promise.State_.FULFILLED,a)};goog.Promise.prototype.unblockAndReject_=function(a){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED);this.state_=goog.Promise.State_.PENDING;this.resolve_(goog.Promise.State_.REJECTED,a)};
goog.Promise.prototype.resolve_=function(a,b){this.state_==goog.Promise.State_.PENDING&&(this===b&&(a=goog.Promise.State_.REJECTED,b=new TypeError("Promise cannot resolve to itself")),this.state_=goog.Promise.State_.BLOCKED,goog.Promise.maybeThen_(b,this.unblockAndFulfill_,this.unblockAndReject_,this)||(this.result_=b,this.state_=a,this.parent_=null,this.scheduleCallbacks_(),a!=goog.Promise.State_.REJECTED||b instanceof goog.Promise.CancellationError||goog.Promise.addUnhandledRejection_(this,b)))};
goog.Promise.maybeThen_=function(a,b,c,d){if(a instanceof goog.Promise)return a.thenVoid(b,c,d),!0;if(goog.Thenable.isImplementedBy(a))return a.then(b,c,d),!0;if(goog.isObject(a))try{var e=a.then;if(goog.isFunction(e))return goog.Promise.tryThen_(a,e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1};goog.Promise.tryThen_=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},h=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,h)}catch(k){h(k)}};
goog.Promise.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,goog.async.run(this.executeCallbacks_,this))};goog.Promise.prototype.hasEntry_=function(){return!!this.callbackEntries_};goog.Promise.prototype.queueEntry_=function(a){goog.asserts.assert(null!=a.onFulfilled);this.callbackEntriesTail_?this.callbackEntriesTail_.next=a:this.callbackEntries_=a;this.callbackEntriesTail_=a};
goog.Promise.prototype.popEntry_=function(){var a=null;this.callbackEntries_&&(a=this.callbackEntries_,this.callbackEntries_=a.next,a.next=null);this.callbackEntries_||(this.callbackEntriesTail_=null);null!=a&&goog.asserts.assert(null!=a.onFulfilled);return a};goog.Promise.prototype.removeEntryAfter_=function(a){goog.asserts.assert(this.callbackEntries_);goog.asserts.assert(null!=a);a.next==this.callbackEntriesTail_&&(this.callbackEntriesTail_=a);a.next=a.next.next};
goog.Promise.prototype.executeCallbacks_=function(){for(var a;a=this.popEntry_();)goog.Promise.LONG_STACK_TRACES&&this.currentStep_++,this.executeCallback_(a,this.state_,this.result_);this.executing_=!1};
goog.Promise.prototype.executeCallback_=function(a,b,c){b==goog.Promise.State_.REJECTED&&a.onRejected&&!a.always&&this.removeUnhandledRejection_();if(a.child)a.child.parent_=null,goog.Promise.invokeCallback_(a,b,c);else try{a.always?a.onFulfilled.call(a.context):goog.Promise.invokeCallback_(a,b,c)}catch(d){goog.Promise.handleRejection_.call(null,d)}goog.Promise.returnEntry_(a)};
goog.Promise.invokeCallback_=function(a,b,c){b==goog.Promise.State_.FULFILLED?a.onFulfilled.call(a.context,c):a.onRejected&&a.onRejected.call(a.context,c)};goog.Promise.prototype.addStackTrace_=function(a){if(goog.Promise.LONG_STACK_TRACES&&goog.isString(a.stack)){var b=a.stack.split("\n",4)[3];a=a.message;a+=Array(11-a.length).join(" ");this.stack_.push(a+b)}};
goog.Promise.prototype.appendLongStack_=function(a){if(goog.Promise.LONG_STACK_TRACES&&a&&goog.isString(a.stack)&&this.stack_.length){for(var b=["Promise trace:"],c=this;c;c=c.parent_){for(var d=this.currentStep_;0<=d;d--)b.push(c.stack_[d]);b.push("Value: ["+(c.state_==goog.Promise.State_.REJECTED?"REJECTED":"FULFILLED")+"] <"+String(c.result_)+">")}a.stack+="\n\n"+b.join("\n")}};
goog.Promise.prototype.removeUnhandledRejection_=function(){if(0<goog.Promise.UNHANDLED_REJECTION_DELAY)for(var a=this;a&&a.unhandledRejectionId_;a=a.parent_)goog.global.clearTimeout(a.unhandledRejectionId_),a.unhandledRejectionId_=0;else if(0==goog.Promise.UNHANDLED_REJECTION_DELAY)for(a=this;a&&a.hadUnhandledRejection_;a=a.parent_)a.hadUnhandledRejection_=!1};
goog.Promise.addUnhandledRejection_=function(a,b){0<goog.Promise.UNHANDLED_REJECTION_DELAY?a.unhandledRejectionId_=goog.global.setTimeout(function(){a.appendLongStack_(b);goog.Promise.handleRejection_.call(null,b)},goog.Promise.UNHANDLED_REJECTION_DELAY):0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(a.hadUnhandledRejection_=!0,goog.async.run(function(){a.hadUnhandledRejection_&&(a.appendLongStack_(b),goog.Promise.handleRejection_.call(null,b))}))};goog.Promise.handleRejection_=goog.async.throwException;
goog.Promise.setUnhandledRejectionHandler=function(a){goog.Promise.handleRejection_=a};goog.Promise.CancellationError=function(a){goog.debug.Error.call(this,a)};goog.inherits(goog.Promise.CancellationError,goog.debug.Error);goog.Promise.CancellationError.prototype.name="cancel";goog.Promise.Resolver_=function(a,b,c){this.promise=a;this.resolve=b;this.reject=c};goog.structs={};goog.structs.getCount=function(a){return a.getCount&&"function"==typeof a.getCount?a.getCount():goog.isArrayLike(a)||goog.isString(a)?a.length:goog.object.getCount(a)};goog.structs.getValues=function(a){if(a.getValues&&"function"==typeof a.getValues)return a.getValues();if(goog.isString(a))return a.split("");if(goog.isArrayLike(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return goog.object.getValues(a)};
goog.structs.getKeys=function(a){if(a.getKeys&&"function"==typeof a.getKeys)return a.getKeys();if(!a.getValues||"function"!=typeof a.getValues){if(goog.isArrayLike(a)||goog.isString(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return goog.object.getKeys(a)}};
goog.structs.contains=function(a,b){return a.contains&&"function"==typeof a.contains?a.contains(b):a.containsValue&&"function"==typeof a.containsValue?a.containsValue(b):goog.isArrayLike(a)||goog.isString(a)?goog.array.contains(a,b):goog.object.containsValue(a,b)};goog.structs.isEmpty=function(a){return a.isEmpty&&"function"==typeof a.isEmpty?a.isEmpty():goog.isArrayLike(a)||goog.isString(a)?goog.array.isEmpty(a):goog.object.isEmpty(a)};
goog.structs.clear=function(a){a.clear&&"function"==typeof a.clear?a.clear():goog.isArrayLike(a)?goog.array.clear(a):goog.object.clear(a)};goog.structs.forEach=function(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(goog.isArrayLike(a)||goog.isString(a))goog.array.forEach(a,b,c);else for(var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)};
goog.structs.filter=function(a,b,c){if("function"==typeof a.filter)return a.filter(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.filter(a,b,c);var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length;if(d){var g={};for(var h=0;h<f;h++)b.call(c,e[h],d[h],a)&&(g[d[h]]=e[h])}else for(g=[],h=0;h<f;h++)b.call(c,e[h],void 0,a)&&g.push(e[h]);return g};
goog.structs.map=function(a,b,c){if("function"==typeof a.map)return a.map(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.map(a,b,c);var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length;if(d){var g={};for(var h=0;h<f;h++)g[d[h]]=b.call(c,e[h],d[h],a)}else for(g=[],h=0;h<f;h++)g[h]=b.call(c,e[h],void 0,a);return g};
goog.structs.some=function(a,b,c){if("function"==typeof a.some)return a.some(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.some(a,b,c);for(var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,g=0;g<f;g++)if(b.call(c,e[g],d&&d[g],a))return!0;return!1};
goog.structs.every=function(a,b,c){if("function"==typeof a.every)return a.every(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.every(a,b,c);for(var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,g=0;g<f;g++)if(!b.call(c,e[g],d&&d[g],a))return!1;return!0};goog.math={};goog.math.randomInt=function(a){return Math.floor(Math.random()*a)};goog.math.uniformRandom=function(a,b){return a+Math.random()*(b-a)};goog.math.clamp=function(a,b,c){return Math.min(Math.max(a,b),c)};goog.math.modulo=function(a,b){a%=b;return 0>a*b?a+b:a};goog.math.lerp=function(a,b,c){return a+c*(b-a)};goog.math.nearlyEquals=function(a,b,c){return Math.abs(a-b)<=(c||1E-6)};goog.math.standardAngle=function(a){return goog.math.modulo(a,360)};
goog.math.standardAngleInRadians=function(a){return goog.math.modulo(a,2*Math.PI)};goog.math.toRadians=function(a){return a*Math.PI/180};goog.math.toDegrees=function(a){return 180*a/Math.PI};goog.math.angleDx=function(a,b){return b*Math.cos(goog.math.toRadians(a))};goog.math.angleDy=function(a,b){return b*Math.sin(goog.math.toRadians(a))};goog.math.angle=function(a,b,c,d){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(d-b,c-a)))};
goog.math.angleDifference=function(a,b){a=goog.math.standardAngle(b)-goog.math.standardAngle(a);180<a?a-=360:-180>=a&&(a=360+a);return a};goog.math.sign=function(a){return 0<a?1:0>a?-1:a};
goog.math.longestCommonSubsequence=function(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b,c){return a[b]};for(var e=a.length,f=b.length,g=[],h=0;h<e+1;h++)g[h]=[],g[h][0]=0;for(var k=0;k<f+1;k++)g[0][k]=0;for(h=1;h<=e;h++)for(k=1;k<=f;k++)c(a[h-1],b[k-1])?g[h][k]=g[h-1][k-1]+1:g[h][k]=Math.max(g[h-1][k],g[h][k-1]);var l=[];h=e;for(k=f;0<h&&0<k;)c(a[h-1],b[k-1])?(l.unshift(d(h-1,k-1)),h--,k--):g[h-1][k]>g[h][k-1]?h--:k--;return l};
goog.math.sum=function(a){return goog.array.reduce(arguments,function(a,c){return a+c},0)};goog.math.average=function(a){return goog.math.sum.apply(null,arguments)/arguments.length};goog.math.sampleVariance=function(a){var b=arguments.length;if(2>b)return 0;var c=goog.math.average.apply(null,arguments);return goog.math.sum.apply(null,goog.array.map(arguments,function(a){return Math.pow(a-c,2)}))/(b-1)};goog.math.standardDeviation=function(a){return Math.sqrt(goog.math.sampleVariance.apply(null,arguments))};
goog.math.isInt=function(a){return isFinite(a)&&0==a%1};goog.math.isFiniteNumber=function(a){return isFinite(a)};goog.math.isNegativeZero=function(a){return 0==a&&0>1/a};goog.math.log10Floor=function(a){if(0<a){var b=Math.round(Math.log(a)*Math.LOG10E);return b-(parseFloat("1e"+b)>a?1:0)}return 0==a?-Infinity:NaN};goog.math.safeFloor=function(a,b){goog.asserts.assert(!goog.isDef(b)||0<b);return Math.floor(a+(b||2E-15))};
goog.math.safeCeil=function(a,b){goog.asserts.assert(!goog.isDef(b)||0<b);return Math.ceil(a-(b||2E-15))};goog.iter={};goog.iter.StopIteration="StopIteration"in goog.global?goog.global.StopIteration:{message:"StopIteration",stack:""};goog.iter.Iterator=function(){};goog.iter.Iterator.prototype.next=function(){throw goog.iter.StopIteration;};goog.iter.Iterator.prototype.__iterator__=function(a){return this};
goog.iter.toIterator=function(a){if(a instanceof goog.iter.Iterator)return a;if("function"==typeof a.__iterator__)return a.__iterator__(!1);if(goog.isArrayLike(a)){var b=0,c=new goog.iter.Iterator;c.next=function(){for(;;){if(b>=a.length)throw goog.iter.StopIteration;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");};
goog.iter.forEach=function(a,b,c){if(goog.isArrayLike(a))try{goog.array.forEach(a,b,c)}catch(d){if(d!==goog.iter.StopIteration)throw d;}else{a=goog.iter.toIterator(a);try{for(;;)b.call(c,a.next(),void 0,a)}catch(d){if(d!==goog.iter.StopIteration)throw d;}}};goog.iter.filter=function(a,b,c){var d=goog.iter.toIterator(a);a=new goog.iter.Iterator;a.next=function(){for(;;){var a=d.next();if(b.call(c,a,void 0,d))return a}};return a};
goog.iter.filterFalse=function(a,b,c){return goog.iter.filter(a,goog.functions.not(b),c)};goog.iter.range=function(a,b,c){var d=0,e=a,f=c||1;1<arguments.length&&(d=a,e=b);if(0==f)throw Error("Range step argument must not be zero");var g=new goog.iter.Iterator;g.next=function(){if(0<f&&d>=e||0>f&&d<=e)throw goog.iter.StopIteration;var a=d;d+=f;return a};return g};goog.iter.join=function(a,b){return goog.iter.toArray(a).join(b)};
goog.iter.map=function(a,b,c){var d=goog.iter.toIterator(a);a=new goog.iter.Iterator;a.next=function(){var a=d.next();return b.call(c,a,void 0,d)};return a};goog.iter.reduce=function(a,b,c,d){var e=c;goog.iter.forEach(a,function(a){e=b.call(d,e,a)});return e};goog.iter.some=function(a,b,c){a=goog.iter.toIterator(a);try{for(;;)if(b.call(c,a.next(),void 0,a))return!0}catch(d){if(d!==goog.iter.StopIteration)throw d;}return!1};
goog.iter.every=function(a,b,c){a=goog.iter.toIterator(a);try{for(;;)if(!b.call(c,a.next(),void 0,a))return!1}catch(d){if(d!==goog.iter.StopIteration)throw d;}return!0};goog.iter.chain=function(a){return goog.iter.chainFromIterable(arguments)};
goog.iter.chainFromIterable=function(a){var b=goog.iter.toIterator(a);a=new goog.iter.Iterator;var c=null;a.next=function(){for(;;){if(null==c){var a=b.next();c=goog.iter.toIterator(a)}try{return c.next()}catch(e){if(e!==goog.iter.StopIteration)throw e;c=null}}};return a};goog.iter.dropWhile=function(a,b,c){var d=goog.iter.toIterator(a);a=new goog.iter.Iterator;var e=!0;a.next=function(){for(;;){var a=d.next();if(!e||!b.call(c,a,void 0,d))return e=!1,a}};return a};
goog.iter.takeWhile=function(a,b,c){var d=goog.iter.toIterator(a);a=new goog.iter.Iterator;a.next=function(){var a=d.next();if(b.call(c,a,void 0,d))return a;throw goog.iter.StopIteration;};return a};goog.iter.toArray=function(a){if(goog.isArrayLike(a))return goog.array.toArray(a);a=goog.iter.toIterator(a);var b=[];goog.iter.forEach(a,function(a){b.push(a)});return b};
goog.iter.equals=function(a,b,c){a=goog.iter.zipLongest({},a,b);var d=c||goog.array.defaultCompareEquality;return goog.iter.every(a,function(a){return d(a[0],a[1])})};goog.iter.nextOrValue=function(a,b){try{return goog.iter.toIterator(a).next()}catch(c){if(c!=goog.iter.StopIteration)throw c;return b}};
goog.iter.product=function(a){if(goog.array.some(arguments,function(a){return!a.length})||!arguments.length)return new goog.iter.Iterator;var b=new goog.iter.Iterator,c=arguments,d=goog.array.repeat(0,c.length);b.next=function(){if(d){for(var a=goog.array.map(d,function(a,b){return c[b][a]}),b=d.length-1;0<=b;b--){goog.asserts.assert(d);if(d[b]<c[b].length-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw goog.iter.StopIteration;};return b};
goog.iter.cycle=function(a){var b=goog.iter.toIterator(a),c=[],d=0;a=new goog.iter.Iterator;var e=!1;a.next=function(){var a=null;if(!e)try{return a=b.next(),c.push(a),a}catch(g){if(g!=goog.iter.StopIteration||goog.array.isEmpty(c))throw g;e=!0}a=c[d];d=(d+1)%c.length;return a};return a};goog.iter.count=function(a,b){var c=a||0,d=goog.isDef(b)?b:1;a=new goog.iter.Iterator;a.next=function(){var a=c;c+=d;return a};return a};
goog.iter.repeat=function(a){var b=new goog.iter.Iterator;b.next=goog.functions.constant(a);return b};goog.iter.accumulate=function(a){var b=goog.iter.toIterator(a),c=0;a=new goog.iter.Iterator;a.next=function(){return c+=b.next()};return a};goog.iter.zip=function(a){var b=arguments,c=new goog.iter.Iterator;if(0<b.length){var d=goog.array.map(b,goog.iter.toIterator);c.next=function(){return goog.array.map(d,function(a){return a.next()})}}return c};
goog.iter.zipLongest=function(a,b){var c=goog.array.slice(arguments,1),d=new goog.iter.Iterator;if(0<c.length){var e=goog.array.map(c,goog.iter.toIterator);d.next=function(){var b=!1,c=goog.array.map(e,function(c){try{var d=c.next();b=!0}catch(l){if(l!==goog.iter.StopIteration)throw l;d=a}return d});if(!b)throw goog.iter.StopIteration;return c}}return d};goog.iter.compress=function(a,b){var c=goog.iter.toIterator(b);return goog.iter.filter(a,function(){return!!c.next()})};
goog.iter.GroupByIterator_=function(a,b){this.iterator=goog.iter.toIterator(a);this.keyFunc=b||goog.functions.identity};goog.inherits(goog.iter.GroupByIterator_,goog.iter.Iterator);goog.iter.GroupByIterator_.prototype.next=function(){for(;this.currentKey==this.targetKey;)this.currentValue=this.iterator.next(),this.currentKey=this.keyFunc(this.currentValue);this.targetKey=this.currentKey;return[this.currentKey,this.groupItems_(this.targetKey)]};
goog.iter.GroupByIterator_.prototype.groupItems_=function(a){for(var b=[];this.currentKey==a;){b.push(this.currentValue);try{this.currentValue=this.iterator.next()}catch(c){if(c!==goog.iter.StopIteration)throw c;break}this.currentKey=this.keyFunc(this.currentValue)}return b};goog.iter.groupBy=function(a,b){return new goog.iter.GroupByIterator_(a,b)};
goog.iter.starMap=function(a,b,c){var d=goog.iter.toIterator(a);a=new goog.iter.Iterator;a.next=function(){var a=goog.iter.toArray(d.next());return b.apply(c,goog.array.concat(a,void 0,d))};return a};
goog.iter.tee=function(a,b){var c=goog.iter.toIterator(a);a=goog.isNumber(b)?b:2;var d=goog.array.map(goog.array.range(a),function(){return[]}),e=function(){var a=c.next();goog.array.forEach(d,function(b){b.push(a)})};return goog.array.map(d,function(a){var b=new goog.iter.Iterator;b.next=function(){goog.array.isEmpty(a)&&e();goog.asserts.assert(!goog.array.isEmpty(a));return a.shift()};return b})};goog.iter.enumerate=function(a,b){return goog.iter.zip(goog.iter.count(b),a)};
goog.iter.limit=function(a,b){goog.asserts.assert(goog.math.isInt(b)&&0<=b);var c=goog.iter.toIterator(a);a=new goog.iter.Iterator;var d=b;a.next=function(){if(0<d--)return c.next();throw goog.iter.StopIteration;};return a};goog.iter.consume=function(a,b){goog.asserts.assert(goog.math.isInt(b)&&0<=b);for(a=goog.iter.toIterator(a);0<b--;)goog.iter.nextOrValue(a,null);return a};
goog.iter.slice=function(a,b,c){goog.asserts.assert(goog.math.isInt(b)&&0<=b);a=goog.iter.consume(a,b);goog.isNumber(c)&&(goog.asserts.assert(goog.math.isInt(c)&&c>=b),a=goog.iter.limit(a,c-b));return a};goog.iter.hasDuplicates_=function(a){var b=[];goog.array.removeDuplicates(a,b);return a.length!=b.length};goog.iter.permutations=function(a,b){a=goog.iter.toArray(a);b=goog.isNumber(b)?b:a.length;b=goog.array.repeat(a,b);b=goog.iter.product.apply(void 0,b);return goog.iter.filter(b,function(a){return!goog.iter.hasDuplicates_(a)})};
goog.iter.combinations=function(a,b){function c(a){return d[a]}var d=goog.iter.toArray(a);a=goog.iter.range(d.length);b=goog.iter.permutations(a,b);var e=goog.iter.filter(b,function(a){return goog.array.isSorted(a)});b=new goog.iter.Iterator;b.next=function(){return goog.array.map(e.next(),c)};return b};
goog.iter.combinationsWithReplacement=function(a,b){function c(a){return d[a]}var d=goog.iter.toArray(a);a=goog.array.range(d.length);b=goog.array.repeat(a,b);b=goog.iter.product.apply(void 0,b);var e=goog.iter.filter(b,function(a){return goog.array.isSorted(a)});b=new goog.iter.Iterator;b.next=function(){return goog.array.map(e.next(),c)};return b};goog.structs.Map=function(a,b){this.map_={};this.keys_=[];this.version_=this.count_=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};goog.structs.Map.prototype.getCount=function(){return this.count_};goog.structs.Map.prototype.getValues=function(){this.cleanupKeysArray_();for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};
goog.structs.Map.prototype.getKeys=function(){this.cleanupKeysArray_();return this.keys_.concat()};goog.structs.Map.prototype.containsKey=function(a){return goog.structs.Map.hasKey_(this.map_,a)};goog.structs.Map.prototype.containsValue=function(a){for(var b=0;b<this.keys_.length;b++){var c=this.keys_[b];if(goog.structs.Map.hasKey_(this.map_,c)&&this.map_[c]==a)return!0}return!1};
goog.structs.Map.prototype.equals=function(a,b){if(this===a)return!0;if(this.count_!=a.getCount())return!1;b=b||goog.structs.Map.defaultEquals;this.cleanupKeysArray_();for(var c,d=0;c=this.keys_[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};goog.structs.Map.defaultEquals=function(a,b){return a===b};goog.structs.Map.prototype.isEmpty=function(){return 0==this.count_};goog.structs.Map.prototype.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};
goog.structs.Map.prototype.remove=function(a){return goog.structs.Map.hasKey_(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),!0):!1};
goog.structs.Map.prototype.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var a=0,b=0;a<this.keys_.length;){var c=this.keys_[a];goog.structs.Map.hasKey_(this.map_,c)&&(this.keys_[b++]=c);a++}this.keys_.length=b}if(this.count_!=this.keys_.length){var d={};for(b=a=0;a<this.keys_.length;)c=this.keys_[a],goog.structs.Map.hasKey_(d,c)||(this.keys_[b++]=c,d[c]=1),a++;this.keys_.length=b}};
goog.structs.Map.prototype.get=function(a,b){return goog.structs.Map.hasKey_(this.map_,a)?this.map_[a]:b};goog.structs.Map.prototype.set=function(a,b){goog.structs.Map.hasKey_(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};goog.structs.Map.prototype.addAll=function(a){if(a instanceof goog.structs.Map){var b=a.getKeys();a=a.getValues()}else b=goog.object.getKeys(a),a=goog.object.getValues(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])};
goog.structs.Map.prototype.forEach=function(a,b){for(var c=this.getKeys(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};goog.structs.Map.prototype.clone=function(){return new goog.structs.Map(this)};goog.structs.Map.prototype.transpose=function(){for(var a=new goog.structs.Map,b=0;b<this.keys_.length;b++){var c=this.keys_[b];a.set(this.map_[c],c)}return a};
goog.structs.Map.prototype.toObject=function(){this.cleanupKeysArray_();for(var a={},b=0;b<this.keys_.length;b++){var c=this.keys_[b];a[c]=this.map_[c]}return a};goog.structs.Map.prototype.getKeyIterator=function(){return this.__iterator__(!0)};goog.structs.Map.prototype.getValueIterator=function(){return this.__iterator__(!1)};
goog.structs.Map.prototype.__iterator__=function(a){this.cleanupKeysArray_();var b=0,c=this.version_,d=this,e=new goog.iter.Iterator;e.next=function(){if(c!=d.version_)throw Error("The map has changed since the iterator was created");if(b>=d.keys_.length)throw goog.iter.StopIteration;var e=d.keys_[b++];return a?e:d.map_[e]};return e};goog.structs.Map.hasKey_=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};goog.uri={};goog.uri.utils={};goog.uri.utils.CharCode_={AMPERSAND:38,EQUAL:61,HASH:35,QUESTION:63};goog.uri.utils.buildFromEncodedParts=function(a,b,c,d,e,f,g){var h="";a&&(h+=a+":");c&&(h+="//",b&&(h+=b+"@"),h+=c,d&&(h+=":"+d));e&&(h+=e);f&&(h+="?"+f);g&&(h+="#"+g);return h};goog.uri.utils.splitRe_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;
goog.uri.utils.ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7};goog.uri.utils.split=function(a){return a.match(goog.uri.utils.splitRe_)};goog.uri.utils.decodeIfPossible_=function(a,b){return a?b?decodeURI(a):decodeURIComponent(a):a};goog.uri.utils.getComponentByIndex_=function(a,b){return goog.uri.utils.split(b)[a]||null};goog.uri.utils.getScheme=function(a){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.SCHEME,a)};
goog.uri.utils.getEffectiveScheme=function(a){a=goog.uri.utils.getScheme(a);!a&&goog.global.self&&goog.global.self.location&&(a=goog.global.self.location.protocol,a=a.substr(0,a.length-1));return a?a.toLowerCase():""};goog.uri.utils.getUserInfoEncoded=function(a){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.USER_INFO,a)};goog.uri.utils.getUserInfo=function(a){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getUserInfoEncoded(a))};
goog.uri.utils.getDomainEncoded=function(a){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.DOMAIN,a)};goog.uri.utils.getDomain=function(a){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getDomainEncoded(a),!0)};goog.uri.utils.getPort=function(a){return Number(goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PORT,a))||null};goog.uri.utils.getPathEncoded=function(a){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PATH,a)};
goog.uri.utils.getPath=function(a){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getPathEncoded(a),!0)};goog.uri.utils.getQueryData=function(a){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.QUERY_DATA,a)};goog.uri.utils.getFragmentEncoded=function(a){var b=a.indexOf("#");return 0>b?null:a.substr(b+1)};goog.uri.utils.setFragmentEncoded=function(a,b){return goog.uri.utils.removeFragment(a)+(b?"#"+b:"")};goog.uri.utils.getFragment=function(a){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getFragmentEncoded(a))};
goog.uri.utils.getHost=function(a){a=goog.uri.utils.split(a);return goog.uri.utils.buildFromEncodedParts(a[goog.uri.utils.ComponentIndex.SCHEME],a[goog.uri.utils.ComponentIndex.USER_INFO],a[goog.uri.utils.ComponentIndex.DOMAIN],a[goog.uri.utils.ComponentIndex.PORT])};goog.uri.utils.getOrigin=function(a){a=goog.uri.utils.split(a);return goog.uri.utils.buildFromEncodedParts(a[goog.uri.utils.ComponentIndex.SCHEME],null,a[goog.uri.utils.ComponentIndex.DOMAIN],a[goog.uri.utils.ComponentIndex.PORT])};
goog.uri.utils.getPathAndAfter=function(a){a=goog.uri.utils.split(a);return goog.uri.utils.buildFromEncodedParts(null,null,null,null,a[goog.uri.utils.ComponentIndex.PATH],a[goog.uri.utils.ComponentIndex.QUERY_DATA],a[goog.uri.utils.ComponentIndex.FRAGMENT])};goog.uri.utils.removeFragment=function(a){var b=a.indexOf("#");return 0>b?a:a.substr(0,b)};
goog.uri.utils.haveSameDomain=function(a,b){a=goog.uri.utils.split(a);b=goog.uri.utils.split(b);return a[goog.uri.utils.ComponentIndex.DOMAIN]==b[goog.uri.utils.ComponentIndex.DOMAIN]&&a[goog.uri.utils.ComponentIndex.SCHEME]==b[goog.uri.utils.ComponentIndex.SCHEME]&&a[goog.uri.utils.ComponentIndex.PORT]==b[goog.uri.utils.ComponentIndex.PORT]};
goog.uri.utils.assertNoFragmentsOrQueries_=function(a){goog.asserts.assert(0>a.indexOf("#")&&0>a.indexOf("?"),"goog.uri.utils: Fragment or query identifiers are not supported: [%s]",a)};goog.uri.utils.parseQueryData=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?goog.string.urlDecode(e):"")}}};
goog.uri.utils.splitQueryData_=function(a){var b=a.indexOf("#");0>b&&(b=a.length);var c=a.indexOf("?");if(0>c||c>b){c=b;var d=""}else d=a.substring(c+1,b);return[a.substr(0,c),d,a.substr(b)]};goog.uri.utils.joinQueryData_=function(a){return a[0]+(a[1]?"?"+a[1]:"")+a[2]};goog.uri.utils.appendQueryData_=function(a,b){return b?a?a+"&"+b:b:a};goog.uri.utils.appendQueryDataToUri_=function(a,b){if(!b)return a;a=goog.uri.utils.splitQueryData_(a);a[1]=goog.uri.utils.appendQueryData_(a[1],b);return goog.uri.utils.joinQueryData_(a)};
goog.uri.utils.appendKeyValuePairs_=function(a,b,c){goog.asserts.assertString(a);if(goog.isArray(b)){goog.asserts.assertArray(b);for(var d=0;d<b.length;d++)goog.uri.utils.appendKeyValuePairs_(a,String(b[d]),c)}else null!=b&&c.push(a+(""===b?"":"="+goog.string.urlEncode(b)))};
goog.uri.utils.buildQueryData=function(a,b){goog.asserts.assert(0==Math.max(a.length-(b||0),0)%2,"goog.uri.utils: Key/value lists must be even in length.");var c=[];for(b=b||0;b<a.length;b+=2)goog.uri.utils.appendKeyValuePairs_(a[b],a[b+1],c);return c.join("&")};goog.uri.utils.buildQueryDataFromMap=function(a){var b=[],c;for(c in a)goog.uri.utils.appendKeyValuePairs_(c,a[c],b);return b.join("&")};
goog.uri.utils.appendParams=function(a,b){var c=2==arguments.length?goog.uri.utils.buildQueryData(arguments[1],0):goog.uri.utils.buildQueryData(arguments,1);return goog.uri.utils.appendQueryDataToUri_(a,c)};goog.uri.utils.appendParamsFromMap=function(a,b){b=goog.uri.utils.buildQueryDataFromMap(b);return goog.uri.utils.appendQueryDataToUri_(a,b)};goog.uri.utils.appendParam=function(a,b,c){c=goog.isDefAndNotNull(c)?"="+goog.string.urlEncode(c):"";return goog.uri.utils.appendQueryDataToUri_(a,b+c)};
goog.uri.utils.findParam_=function(a,b,c,d){for(var e=c.length;0<=(b=a.indexOf(c,b))&&b<d;){var f=a.charCodeAt(b-1);if(f==goog.uri.utils.CharCode_.AMPERSAND||f==goog.uri.utils.CharCode_.QUESTION)if(f=a.charCodeAt(b+e),!f||f==goog.uri.utils.CharCode_.EQUAL||f==goog.uri.utils.CharCode_.AMPERSAND||f==goog.uri.utils.CharCode_.HASH)return b;b+=e+1}return-1};goog.uri.utils.hashOrEndRe_=/#|$/;goog.uri.utils.hasParam=function(a,b){return 0<=goog.uri.utils.findParam_(a,0,b,a.search(goog.uri.utils.hashOrEndRe_))};
goog.uri.utils.getParamValue=function(a,b){var c=a.search(goog.uri.utils.hashOrEndRe_),d=goog.uri.utils.findParam_(a,0,b,c);if(0>d)return null;var e=a.indexOf("&",d);if(0>e||e>c)e=c;d+=b.length+1;return goog.string.urlDecode(a.substr(d,e-d))};goog.uri.utils.getParamValues=function(a,b){for(var c=a.search(goog.uri.utils.hashOrEndRe_),d=0,e,f=[];0<=(e=goog.uri.utils.findParam_(a,d,b,c));){d=a.indexOf("&",e);if(0>d||d>c)d=c;e+=b.length+1;f.push(goog.string.urlDecode(a.substr(e,d-e)))}return f};
goog.uri.utils.trailingQueryPunctuationRe_=/[?&]($|#)/;goog.uri.utils.removeParam=function(a,b){for(var c=a.search(goog.uri.utils.hashOrEndRe_),d=0,e,f=[];0<=(e=goog.uri.utils.findParam_(a,d,b,c));)f.push(a.substring(d,e)),d=Math.min(a.indexOf("&",e)+1||c,c);f.push(a.substr(d));return f.join("").replace(goog.uri.utils.trailingQueryPunctuationRe_,"$1")};goog.uri.utils.setParam=function(a,b,c){return goog.uri.utils.appendParam(goog.uri.utils.removeParam(a,b),b,c)};
goog.uri.utils.setParamsFromMap=function(a,b){a=goog.uri.utils.splitQueryData_(a);var c=a[1],d=[];c&&goog.array.forEach(c.split("&"),function(a){var c=a.indexOf("=");c=0<=c?a.substr(0,c):a;b.hasOwnProperty(c)||d.push(a)});a[1]=goog.uri.utils.appendQueryData_(d.join("&"),goog.uri.utils.buildQueryDataFromMap(b));return goog.uri.utils.joinQueryData_(a)};
goog.uri.utils.appendPath=function(a,b){goog.uri.utils.assertNoFragmentsOrQueries_(a);goog.string.endsWith(a,"/")&&(a=a.substr(0,a.length-1));goog.string.startsWith(b,"/")&&(b=b.substr(1));return goog.string.buildString(a,"/",b)};
goog.uri.utils.setPath=function(a,b){goog.string.startsWith(b,"/")||(b="/"+b);a=goog.uri.utils.split(a);return goog.uri.utils.buildFromEncodedParts(a[goog.uri.utils.ComponentIndex.SCHEME],a[goog.uri.utils.ComponentIndex.USER_INFO],a[goog.uri.utils.ComponentIndex.DOMAIN],a[goog.uri.utils.ComponentIndex.PORT],b,a[goog.uri.utils.ComponentIndex.QUERY_DATA],a[goog.uri.utils.ComponentIndex.FRAGMENT])};goog.uri.utils.StandardQueryParam={RANDOM:"zx"};
goog.uri.utils.makeUnique=function(a){return goog.uri.utils.setParam(a,goog.uri.utils.StandardQueryParam.RANDOM,goog.string.getRandomString())};goog.Uri=function(a,b){this.domain_=this.userInfo_=this.scheme_="";this.port_=null;this.fragment_=this.path_="";this.ignoreCase_=this.isReadOnly_=!1;var c;a instanceof goog.Uri?(this.ignoreCase_=goog.isDef(b)?b:a.getIgnoreCase(),this.setScheme(a.getScheme()),this.setUserInfo(a.getUserInfo()),this.setDomain(a.getDomain()),this.setPort(a.getPort()),this.setPath(a.getPath()),this.setQueryData(a.getQueryData().clone()),this.setFragment(a.getFragment())):a&&(c=goog.uri.utils.split(String(a)))?(this.ignoreCase_=
!!b,this.setScheme(c[goog.uri.utils.ComponentIndex.SCHEME]||"",!0),this.setUserInfo(c[goog.uri.utils.ComponentIndex.USER_INFO]||"",!0),this.setDomain(c[goog.uri.utils.ComponentIndex.DOMAIN]||"",!0),this.setPort(c[goog.uri.utils.ComponentIndex.PORT]),this.setPath(c[goog.uri.utils.ComponentIndex.PATH]||"",!0),this.setQueryData(c[goog.uri.utils.ComponentIndex.QUERY_DATA]||"",!0),this.setFragment(c[goog.uri.utils.ComponentIndex.FRAGMENT]||"",!0)):(this.ignoreCase_=!!b,this.queryData_=new goog.Uri.QueryData(null,
null,this.ignoreCase_))};goog.Uri.preserveParameterTypesCompatibilityFlag=!1;goog.Uri.RANDOM_PARAM=goog.uri.utils.StandardQueryParam.RANDOM;
goog.Uri.prototype.toString=function(){var a=[],b=this.getScheme();b&&a.push(goog.Uri.encodeSpecialChars_(b,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),":");var c=this.getDomain();if(c||"file"==b)a.push("//"),(b=this.getUserInfo())&&a.push(goog.Uri.encodeSpecialChars_(b,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),"@"),a.push(goog.Uri.removeDoubleEncoding_(goog.string.urlEncode(c))),c=this.getPort(),null!=c&&a.push(":",String(c));if(c=this.getPath())this.hasDomain()&&"/"!=c.charAt(0)&&a.push("/"),
a.push(goog.Uri.encodeSpecialChars_(c,"/"==c.charAt(0)?goog.Uri.reDisallowedInAbsolutePath_:goog.Uri.reDisallowedInRelativePath_,!0));(c=this.getEncodedQuery())&&a.push("?",c);(c=this.getFragment())&&a.push("#",goog.Uri.encodeSpecialChars_(c,goog.Uri.reDisallowedInFragment_));return a.join("")};
goog.Uri.prototype.resolve=function(a){var b=this.clone(),c=a.hasScheme();c?b.setScheme(a.getScheme()):c=a.hasUserInfo();c?b.setUserInfo(a.getUserInfo()):c=a.hasDomain();c?b.setDomain(a.getDomain()):c=a.hasPort();var d=a.getPath();if(c)b.setPort(a.getPort());else if(c=a.hasPath()){if("/"!=d.charAt(0))if(this.hasDomain()&&!this.hasPath())d="/"+d;else{var e=b.getPath().lastIndexOf("/");-1!=e&&(d=b.getPath().substr(0,e+1)+d)}d=goog.Uri.removeDotSegments(d)}c?b.setPath(d):c=a.hasQuery();c?b.setQueryData(a.getQueryData().clone()):
c=a.hasFragment();c&&b.setFragment(a.getFragment());return b};goog.Uri.prototype.clone=function(){return new goog.Uri(this)};goog.Uri.prototype.getScheme=function(){return this.scheme_};goog.Uri.prototype.setScheme=function(a,b){this.enforceReadOnly();if(this.scheme_=b?goog.Uri.decodeOrEmpty_(a,!0):a)this.scheme_=this.scheme_.replace(/:$/,"");return this};goog.Uri.prototype.hasScheme=function(){return!!this.scheme_};goog.Uri.prototype.getUserInfo=function(){return this.userInfo_};
goog.Uri.prototype.setUserInfo=function(a,b){this.enforceReadOnly();this.userInfo_=b?goog.Uri.decodeOrEmpty_(a):a;return this};goog.Uri.prototype.hasUserInfo=function(){return!!this.userInfo_};goog.Uri.prototype.getDomain=function(){return this.domain_};goog.Uri.prototype.setDomain=function(a,b){this.enforceReadOnly();this.domain_=b?goog.Uri.decodeOrEmpty_(a,!0):a;return this};goog.Uri.prototype.hasDomain=function(){return!!this.domain_};goog.Uri.prototype.getPort=function(){return this.port_};
goog.Uri.prototype.setPort=function(a){this.enforceReadOnly();if(a){a=Number(a);if(isNaN(a)||0>a)throw Error("Bad port number "+a);this.port_=a}else this.port_=null;return this};goog.Uri.prototype.hasPort=function(){return null!=this.port_};goog.Uri.prototype.getPath=function(){return this.path_};goog.Uri.prototype.setPath=function(a,b){this.enforceReadOnly();this.path_=b?goog.Uri.decodeOrEmpty_(a,!0):a;return this};goog.Uri.prototype.hasPath=function(){return!!this.path_};
goog.Uri.prototype.hasQuery=function(){return""!==this.queryData_.toString()};goog.Uri.prototype.setQueryData=function(a,b){this.enforceReadOnly();a instanceof goog.Uri.QueryData?(this.queryData_=a,this.queryData_.setIgnoreCase(this.ignoreCase_)):(b||(a=goog.Uri.encodeSpecialChars_(a,goog.Uri.reDisallowedInQuery_)),this.queryData_=new goog.Uri.QueryData(a,null,this.ignoreCase_));return this};goog.Uri.prototype.setQuery=function(a,b){return this.setQueryData(a,b)};
goog.Uri.prototype.getEncodedQuery=function(){return this.queryData_.toString()};goog.Uri.prototype.getDecodedQuery=function(){return this.queryData_.toDecodedString()};goog.Uri.prototype.getQueryData=function(){return this.queryData_};goog.Uri.prototype.getQuery=function(){return this.getEncodedQuery()};goog.Uri.prototype.setParameterValue=function(a,b){this.enforceReadOnly();this.queryData_.set(a,b);return this};
goog.Uri.prototype.setParameterValues=function(a,b){this.enforceReadOnly();goog.isArray(b)||(b=[String(b)]);this.queryData_.setValues(a,b);return this};goog.Uri.prototype.getParameterValues=function(a){return this.queryData_.getValues(a)};goog.Uri.prototype.getParameterValue=function(a){return this.queryData_.get(a)};goog.Uri.prototype.getFragment=function(){return this.fragment_};goog.Uri.prototype.setFragment=function(a,b){this.enforceReadOnly();this.fragment_=b?goog.Uri.decodeOrEmpty_(a):a;return this};
goog.Uri.prototype.hasFragment=function(){return!!this.fragment_};goog.Uri.prototype.hasSameDomainAs=function(a){return(!this.hasDomain()&&!a.hasDomain()||this.getDomain()==a.getDomain())&&(!this.hasPort()&&!a.hasPort()||this.getPort()==a.getPort())};goog.Uri.prototype.makeUnique=function(){this.enforceReadOnly();this.setParameterValue(goog.Uri.RANDOM_PARAM,goog.string.getRandomString());return this};goog.Uri.prototype.removeParameter=function(a){this.enforceReadOnly();this.queryData_.remove(a);return this};
goog.Uri.prototype.setReadOnly=function(a){this.isReadOnly_=a;return this};goog.Uri.prototype.isReadOnly=function(){return this.isReadOnly_};goog.Uri.prototype.enforceReadOnly=function(){if(this.isReadOnly_)throw Error("Tried to modify a read-only Uri");};goog.Uri.prototype.setIgnoreCase=function(a){this.ignoreCase_=a;this.queryData_&&this.queryData_.setIgnoreCase(a);return this};goog.Uri.prototype.getIgnoreCase=function(){return this.ignoreCase_};
goog.Uri.parse=function(a,b){return a instanceof goog.Uri?a.clone():new goog.Uri(a,b)};goog.Uri.create=function(a,b,c,d,e,f,g,h){h=new goog.Uri(null,h);a&&h.setScheme(a);b&&h.setUserInfo(b);c&&h.setDomain(c);d&&h.setPort(d);e&&h.setPath(e);f&&h.setQueryData(f);g&&h.setFragment(g);return h};goog.Uri.resolve=function(a,b){a instanceof goog.Uri||(a=goog.Uri.parse(a));b instanceof goog.Uri||(b=goog.Uri.parse(b));return a.resolve(b)};
goog.Uri.removeDotSegments=function(a){if(".."==a||"."==a)return"";if(goog.string.contains(a,"./")||goog.string.contains(a,"/.")){var b=goog.string.startsWith(a,"/");a=a.split("/");for(var c=[],d=0;d<a.length;){var e=a[d++];"."==e?b&&d==a.length&&c.push(""):".."==e?((1<c.length||1==c.length&&""!=c[0])&&c.pop(),b&&d==a.length&&c.push("")):(c.push(e),b=!0)}return c.join("/")}return a};goog.Uri.decodeOrEmpty_=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""};
goog.Uri.encodeSpecialChars_=function(a,b,c){return goog.isString(a)?(a=encodeURI(a).replace(b,goog.Uri.encodeChar_),c&&(a=goog.Uri.removeDoubleEncoding_(a)),a):null};goog.Uri.encodeChar_=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)};goog.Uri.removeDoubleEncoding_=function(a){return a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")};goog.Uri.reDisallowedInSchemeOrUserInfo_=/[#\/\?@]/g;goog.Uri.reDisallowedInRelativePath_=/[#\?:]/g;goog.Uri.reDisallowedInAbsolutePath_=/[#\?]/g;
goog.Uri.reDisallowedInQuery_=/[#\?@]/g;goog.Uri.reDisallowedInFragment_=/#/g;goog.Uri.haveSameDomain=function(a,b){a=goog.uri.utils.split(a);b=goog.uri.utils.split(b);return a[goog.uri.utils.ComponentIndex.DOMAIN]==b[goog.uri.utils.ComponentIndex.DOMAIN]&&a[goog.uri.utils.ComponentIndex.PORT]==b[goog.uri.utils.ComponentIndex.PORT]};goog.Uri.QueryData=function(a,b,c){this.count_=this.keyMap_=null;this.encodedQuery_=a||null;this.ignoreCase_=!!c};
goog.Uri.QueryData.prototype.ensureKeyMapInitialized_=function(){if(!this.keyMap_&&(this.keyMap_=new goog.structs.Map,this.count_=0,this.encodedQuery_)){var a=this;goog.uri.utils.parseQueryData(this.encodedQuery_,function(b,c){a.add(goog.string.urlDecode(b),c)})}};
goog.Uri.QueryData.createFromMap=function(a,b,c){b=goog.structs.getKeys(a);if("undefined"==typeof b)throw Error("Keys are undefined");c=new goog.Uri.QueryData(null,null,c);a=goog.structs.getValues(a);for(var d=0;d<b.length;d++){var e=b[d],f=a[d];goog.isArray(f)?c.setValues(e,f):c.add(e,f)}return c};
goog.Uri.QueryData.createFromKeysValues=function(a,b,c,d){if(a.length!=b.length)throw Error("Mismatched lengths for keys/values");c=new goog.Uri.QueryData(null,null,d);for(d=0;d<a.length;d++)c.add(a[d],b[d]);return c};goog.Uri.QueryData.prototype.getCount=function(){this.ensureKeyMapInitialized_();return this.count_};
goog.Uri.QueryData.prototype.add=function(a,b){this.ensureKeyMapInitialized_();this.invalidateCache_();a=this.getKeyName_(a);var c=this.keyMap_.get(a);c||this.keyMap_.set(a,c=[]);c.push(b);this.count_=goog.asserts.assertNumber(this.count_)+1;return this};
goog.Uri.QueryData.prototype.remove=function(a){this.ensureKeyMapInitialized_();a=this.getKeyName_(a);return this.keyMap_.containsKey(a)?(this.invalidateCache_(),this.count_=goog.asserts.assertNumber(this.count_)-this.keyMap_.get(a).length,this.keyMap_.remove(a)):!1};goog.Uri.QueryData.prototype.clear=function(){this.invalidateCache_();this.keyMap_=null;this.count_=0};goog.Uri.QueryData.prototype.isEmpty=function(){this.ensureKeyMapInitialized_();return 0==this.count_};
goog.Uri.QueryData.prototype.containsKey=function(a){this.ensureKeyMapInitialized_();a=this.getKeyName_(a);return this.keyMap_.containsKey(a)};goog.Uri.QueryData.prototype.containsValue=function(a){var b=this.getValues();return goog.array.contains(b,a)};goog.Uri.QueryData.prototype.forEach=function(a,b){this.ensureKeyMapInitialized_();this.keyMap_.forEach(function(c,d){goog.array.forEach(c,function(c){a.call(b,c,d,this)},this)},this)};
goog.Uri.QueryData.prototype.getKeys=function(){this.ensureKeyMapInitialized_();for(var a=this.keyMap_.getValues(),b=this.keyMap_.getKeys(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};goog.Uri.QueryData.prototype.getValues=function(a){this.ensureKeyMapInitialized_();var b=[];if(goog.isString(a))this.containsKey(a)&&(b=goog.array.concat(b,this.keyMap_.get(this.getKeyName_(a))));else{a=this.keyMap_.getValues();for(var c=0;c<a.length;c++)b=goog.array.concat(b,a[c])}return b};
goog.Uri.QueryData.prototype.set=function(a,b){this.ensureKeyMapInitialized_();this.invalidateCache_();a=this.getKeyName_(a);this.containsKey(a)&&(this.count_=goog.asserts.assertNumber(this.count_)-this.keyMap_.get(a).length);this.keyMap_.set(a,[b]);this.count_=goog.asserts.assertNumber(this.count_)+1;return this};goog.Uri.QueryData.prototype.get=function(a,b){a=a?this.getValues(a):[];return goog.Uri.preserveParameterTypesCompatibilityFlag?0<a.length?a[0]:b:0<a.length?String(a[0]):b};
goog.Uri.QueryData.prototype.setValues=function(a,b){this.remove(a);0<b.length&&(this.invalidateCache_(),this.keyMap_.set(this.getKeyName_(a),goog.array.clone(b)),this.count_=goog.asserts.assertNumber(this.count_)+b.length)};
goog.Uri.QueryData.prototype.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return"";for(var a=[],b=this.keyMap_.getKeys(),c=0;c<b.length;c++){var d=b[c],e=goog.string.urlEncode(d);d=this.getValues(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+goog.string.urlEncode(d[f]));a.push(g)}}return this.encodedQuery_=a.join("&")};goog.Uri.QueryData.prototype.toDecodedString=function(){return goog.Uri.decodeOrEmpty_(this.toString())};
goog.Uri.QueryData.prototype.invalidateCache_=function(){this.encodedQuery_=null};goog.Uri.QueryData.prototype.filterKeys=function(a){this.ensureKeyMapInitialized_();this.keyMap_.forEach(function(b,c){goog.array.contains(a,c)||this.remove(c)},this);return this};goog.Uri.QueryData.prototype.clone=function(){var a=new goog.Uri.QueryData;a.encodedQuery_=this.encodedQuery_;this.keyMap_&&(a.keyMap_=this.keyMap_.clone(),a.count_=this.count_);return a};
goog.Uri.QueryData.prototype.getKeyName_=function(a){a=String(a);this.ignoreCase_&&(a=a.toLowerCase());return a};goog.Uri.QueryData.prototype.setIgnoreCase=function(a){a&&!this.ignoreCase_&&(this.ensureKeyMapInitialized_(),this.invalidateCache_(),this.keyMap_.forEach(function(a,c){var b=c.toLowerCase();c!=b&&(this.remove(c),this.setValues(b,a))},this));this.ignoreCase_=a};
goog.Uri.QueryData.prototype.extend=function(a){for(var b=0;b<arguments.length;b++)goog.structs.forEach(arguments[b],function(a,b){this.add(b,a)},this)};goog.Timer=function(a,b){goog.events.EventTarget.call(this);this.interval_=a||1;this.timerObject_=b||goog.Timer.defaultTimerObject;this.boundTick_=goog.bind(this.tick_,this);this.last_=goog.now()};goog.inherits(goog.Timer,goog.events.EventTarget);goog.Timer.MAX_TIMEOUT_=2147483647;goog.Timer.INVALID_TIMEOUT_ID_=-1;goog.Timer.prototype.enabled=!1;goog.Timer.defaultTimerObject=goog.global;goog.Timer.intervalScale=.8;goog.Timer.prototype.timer_=null;goog.Timer.prototype.getInterval=function(){return this.interval_};
goog.Timer.prototype.setInterval=function(a){this.interval_=a;this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()};
goog.Timer.prototype.tick_=function(){if(this.enabled){var a=goog.now()-this.last_;0<a&&a<this.interval_*goog.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-a):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now()))}};goog.Timer.prototype.dispatchTick=function(){this.dispatchEvent(goog.Timer.TICK)};
goog.Timer.prototype.start=function(){this.enabled=!0;this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())};goog.Timer.prototype.stop=function(){this.enabled=!1;this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)};goog.Timer.prototype.disposeInternal=function(){goog.Timer.superClass_.disposeInternal.call(this);this.stop();delete this.timerObject_};goog.Timer.TICK="tick";
goog.Timer.callOnce=function(a,b,c){if(goog.isFunction(a))c&&(a=goog.bind(a,c));else if(a&&"function"==typeof a.handleEvent)a=goog.bind(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(b)>goog.Timer.MAX_TIMEOUT_?goog.Timer.INVALID_TIMEOUT_ID_:goog.Timer.defaultTimerObject.setTimeout(a,b||0)};goog.Timer.clear=function(a){goog.Timer.defaultTimerObject.clearTimeout(a)};
goog.Timer.promise=function(a,b){var c=null;return(new goog.Promise(function(d,e){c=goog.Timer.callOnce(function(){d(b)},a);c==goog.Timer.INVALID_TIMEOUT_ID_&&e(Error("Failed to schedule timer."))})).thenCatch(function(a){goog.Timer.clear(c);throw a;})};goog.async.Delay=function(a,b,c){goog.Disposable.call(this);this.listener_=a;this.interval_=b||0;this.handler_=c;this.callback_=goog.bind(this.doAction_,this)};goog.inherits(goog.async.Delay,goog.Disposable);goog.Delay=goog.async.Delay;goog.async.Delay.prototype.id_=0;goog.async.Delay.prototype.disposeInternal=function(){goog.async.Delay.superClass_.disposeInternal.call(this);this.stop();delete this.listener_;delete this.handler_};
goog.async.Delay.prototype.start=function(a){this.stop();this.id_=goog.Timer.callOnce(this.callback_,goog.isDef(a)?a:this.interval_)};goog.async.Delay.prototype.startIfNotActive=function(a){this.isActive()||this.start(a)};goog.async.Delay.prototype.stop=function(){this.isActive()&&goog.Timer.clear(this.id_);this.id_=0};goog.async.Delay.prototype.fire=function(){this.stop();this.doAction_()};goog.async.Delay.prototype.fireIfActive=function(){this.isActive()&&this.fire()};
goog.async.Delay.prototype.isActive=function(){return 0!=this.id_};goog.async.Delay.prototype.doAction_=function(){this.id_=0;this.listener_&&this.listener_.call(this.handler_)};goog.async.ConditionalDelay=function(a,b){goog.Disposable.call(this);this.runUntil_=this.interval_=0;this.isDone_=!1;this.listener_=a;this.handler_=b;this.delay_=new goog.async.Delay(goog.bind(this.onTick_,this),0,this)};goog.inherits(goog.async.ConditionalDelay,goog.Disposable);goog.async.ConditionalDelay.prototype.disposeInternal=function(){this.delay_.dispose();delete this.listener_;delete this.handler_;goog.async.ConditionalDelay.superClass_.disposeInternal.call(this)};
goog.async.ConditionalDelay.prototype.start=function(a,b){this.stop();this.isDone_=!1;b=b||0;this.interval_=Math.max(a||0,0);this.runUntil_=0>b?-1:goog.now()+b;this.delay_.start(0>b?this.interval_:Math.min(this.interval_,b))};goog.async.ConditionalDelay.prototype.stop=function(){this.delay_.stop()};goog.async.ConditionalDelay.prototype.isActive=function(){return this.delay_.isActive()};goog.async.ConditionalDelay.prototype.isDone=function(){return this.isDone_};
goog.async.ConditionalDelay.prototype.onSuccess=function(){};goog.async.ConditionalDelay.prototype.onFailure=function(){};goog.async.ConditionalDelay.prototype.onTick_=function(){if(this.listener_.call(this.handler_))this.isDone_=!0,this.onSuccess();else if(0>this.runUntil_)this.delay_.start(this.interval_);else{var a=this.runUntil_-goog.now();if(0>=a)this.onFailure();else this.delay_.start(Math.min(this.interval_,a))}};goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentModeOrHigher(9)||goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE,
LEGACY_IE_RANGES:goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)};goog.dom.asserts={};goog.dom.asserts.assertIsLocation=function(a){if(goog.asserts.ENABLE_ASSERTS){var b=goog.dom.asserts.getWindow_(a);"undefined"!=typeof b.Location&&"undefined"!=typeof b.Element&&goog.asserts.assert(a&&(a instanceof b.Location||!(a instanceof b.Element)),"Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(a))}return a};
goog.dom.asserts.assertIsElementType_=function(a,b){if(goog.asserts.ENABLE_ASSERTS){var c=goog.dom.asserts.getWindow_(a);"undefined"!=typeof c[b]&&"undefined"!=typeof c.Location&&"undefined"!=typeof c.Element&&goog.asserts.assert(a&&(a instanceof c[b]||!(a instanceof c.Location||a instanceof c.Element)),"Argument is not a %s (or a non-Element, non-Location mock); got: %s",b,goog.dom.asserts.debugStringForType_(a))}return a};
goog.dom.asserts.assertIsHTMLAnchorElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLAnchorElement")};goog.dom.asserts.assertIsHTMLButtonElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLButtonElement")};goog.dom.asserts.assertIsHTMLLinkElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLLinkElement")};goog.dom.asserts.assertIsHTMLImageElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLImageElement")};
goog.dom.asserts.assertIsHTMLVideoElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLVideoElement")};goog.dom.asserts.assertIsHTMLInputElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLInputElement")};goog.dom.asserts.assertIsHTMLEmbedElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLEmbedElement")};goog.dom.asserts.assertIsHTMLFormElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLFormElement")};
goog.dom.asserts.assertIsHTMLFrameElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLFrameElement")};goog.dom.asserts.assertIsHTMLIFrameElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLIFrameElement")};goog.dom.asserts.assertIsHTMLObjectElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLObjectElement")};goog.dom.asserts.assertIsHTMLScriptElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLScriptElement")};
goog.dom.asserts.debugStringForType_=function(a){return goog.isObject(a)?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):void 0===a?"undefined":null===a?"null":typeof a};goog.dom.asserts.getWindow_=function(a){return(a=a&&a.ownerDocument)&&(a.defaultView||a.parentWindow)||goog.global};goog.dom.tags={};goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};goog.dom.tags.isVoidTag=function(a){return!0===goog.dom.tags.VOID_TAGS_[a]};goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="";this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0;goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeScript.fromConstant=function(a){a=goog.string.Const.unwrap(a);return 0===a.length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(a)};
goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_};goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"});
goog.html.SafeScript.unwrap=function(a){if(a instanceof goog.html.SafeScript&&a.constructor===goog.html.SafeScript&&a.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeScriptWrappedValue_;goog.asserts.fail("expected object of type SafeScript, got '"+a+"' of type "+goog.typeOf(a));return"type_error:SafeScript"};goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(a){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(a)};
goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeScriptWrappedValue_=a;return this};goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("");goog.fs={};goog.fs.url={};goog.fs.url.createObjectUrl=function(a){return goog.fs.url.getUrlObject_().createObjectURL(a)};goog.fs.url.revokeObjectUrl=function(a){goog.fs.url.getUrlObject_().revokeObjectURL(a)};goog.fs.url.getUrlObject_=function(){var a=goog.fs.url.findUrlObject_();if(null!=a)return a;throw Error("This browser doesn't seem to support blob URLs");};
goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null};goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()};goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez";goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0;goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};
goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR};goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"});
goog.html.SafeUrl.unwrap=function(a){if(a instanceof goog.html.SafeUrl&&a.constructor===goog.html.SafeUrl&&a.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;goog.asserts.fail("expected object of type SafeUrl, got '"+a+"' of type "+goog.typeOf(a));return"type_error:SafeUrl"};goog.html.SafeUrl.fromConstant=function(a){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(a))};
goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp|3gpp2|aac|midi|mp4|mpeg|ogg|x-m4a|x-wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|text\/csv|video\/(?:mpeg|mp4|ogg|webm))$/i;goog.html.SafeUrl.fromBlob=function(a){a=goog.html.SAFE_MIME_TYPE_PATTERN_.test(a.type)?goog.fs.url.createObjectUrl(a):goog.html.SafeUrl.INNOCUOUS_STRING;return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.DATA_URL_PATTERN_=/^data:([^;,]*);base64,[a-z0-9+\/]+=*$/i;
goog.html.SafeUrl.fromDataUrl=function(a){var b=a.match(goog.html.DATA_URL_PATTERN_);b=b&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(b[1]);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(b?a:goog.html.SafeUrl.INNOCUOUS_STRING)};goog.html.SafeUrl.fromTelUrl=function(a){goog.string.caseInsensitiveStartsWith(a,"tel:")||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeUrl.fromTrustedResourceUrl=function(a){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(a))};
goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;goog.html.SafeUrl.sanitize=function(a){if(a instanceof goog.html.SafeUrl)return a;a=a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);goog.html.SAFE_URL_PATTERN_.test(a)||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};
goog.html.SafeUrl.sanitizeAssertUnchanged=function(a){if(a instanceof goog.html.SafeUrl)return a;a=a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(a))||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};
goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(a){var b=new goog.html.SafeUrl;b.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a;return b};goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank");goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="";this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0;goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};
goog.html.SafeStyle.fromConstant=function(a){a=goog.string.Const.unwrap(a);if(0===a.length)return goog.html.SafeStyle.EMPTY;goog.html.SafeStyle.checkStyle_(a);goog.asserts.assert(goog.string.endsWith(a,";"),"Last character of style string is not ';': "+a);goog.asserts.assert(goog.string.contains(a,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+a);return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(a)};
goog.html.SafeStyle.checkStyle_=function(a){goog.asserts.assert(!/[<>]/.test(a),"Forbidden characters in style string: "+a)};goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_};goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"});
goog.html.SafeStyle.unwrap=function(a){if(a instanceof goog.html.SafeStyle&&a.constructor===goog.html.SafeStyle&&a.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeStyleWrappedValue_;goog.asserts.fail("expected object of type SafeStyle, got '"+a+"' of type "+goog.typeOf(a));return"type_error:SafeStyle"};goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(a){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(a)};
goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeStyleWrappedValue_=a;return this};goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse("");goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez";
goog.html.SafeStyle.create=function(a){var b="",c;for(c in a){if(!/^[-_a-zA-Z0-9]+$/.test(c))throw Error("Name allows only [-_a-zA-Z0-9], got: "+c);var d=a[c];null!=d&&(d=goog.isArray(d)?goog.array.map(d,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(d),b+=c+":"+d+";")}if(!b)return goog.html.SafeStyle.EMPTY;goog.html.SafeStyle.checkStyle_(b);return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b)};
goog.html.SafeStyle.sanitizePropertyValue_=function(a){if(a instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(a).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';a=a instanceof goog.string.Const?goog.string.Const.unwrap(a):goog.html.SafeStyle.sanitizePropertyValueString_(String(a));goog.asserts.assert(!/[{;}]/.test(a),"Value does not allow [{;}].");return a};
goog.html.SafeStyle.sanitizePropertyValueString_=function(a){var b=a.replace(goog.html.SafeUrl.FUNCTIONS_RE_,"$1").replace(goog.html.SafeUrl.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(b)?goog.html.SafeStyle.hasBalancedQuotes_(a)?goog.html.SafeStyle.sanitizeUrl_(a):(goog.asserts.fail("String value requires balanced quotes, got: "+a),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+
a),goog.html.SafeStyle.INNOCUOUS_STRING)};goog.html.SafeStyle.hasBalancedQuotes_=function(a){for(var b=!0,c=!0,d=0;d<a.length;d++){var e=a.charAt(d);"'"==e&&c?b=!b:'"'==e&&b&&(c=!c)}return b&&c};goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9]";goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$");goog.html.SafeUrl.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g;goog.html.SafeUrl.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|(rotate|scale|translate)(X|Y|Z|3d)?)\([-0-9a-z.%, ]+\)/g;
goog.html.SafeStyle.sanitizeUrl_=function(a){return a.replace(goog.html.SafeUrl.URL_RE_,function(a,c,d,e){var b="";d=d.replace(/^(['"])(.*)\1$/,function(a,c,d){b=c;return d});a=goog.html.SafeUrl.sanitize(d).getTypedStringValue();return c+b+a+b+e})};goog.html.SafeStyle.concat=function(a){var b="",c=function(a){goog.isArray(a)?goog.array.forEach(a,c):b+=goog.html.SafeStyle.unwrap(a)};goog.array.forEach(arguments,c);return b?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b):goog.html.SafeStyle.EMPTY};goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="";this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0;goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};
goog.html.SafeStyleSheet.createRule=function(a,b){if(goog.string.contains(a,"<"))throw Error("Selector does not allow '<', got: "+a);var c=a.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(c))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+a);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(c))throw Error("() and [] in selector must be balanced, got: "+a);b instanceof goog.html.SafeStyle||(b=goog.html.SafeStyle.create(b));
a=a+"{"+goog.html.SafeStyle.unwrap(b)+"}";return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeStyleSheet.hasBalancedBrackets_=function(a){for(var b={"(":")","[":"]"},c=[],d=0;d<a.length;d++){var e=a[d];if(b[e])c.push(b[e]);else if(goog.object.contains(b,e)&&c.pop()!=e)return!1}return 0==c.length};
goog.html.SafeStyleSheet.concat=function(a){var b="",c=function(a){goog.isArray(a)?goog.array.forEach(a,c):b+=goog.html.SafeStyleSheet.unwrap(a)};goog.array.forEach(arguments,c);return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(b)};
goog.html.SafeStyleSheet.fromConstant=function(a){a=goog.string.Const.unwrap(a);if(0===a.length)return goog.html.SafeStyleSheet.EMPTY;goog.asserts.assert(!goog.string.contains(a,"<"),"Forbidden '<' character in style sheet string: "+a);return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_};
goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"});
goog.html.SafeStyleSheet.unwrap=function(a){if(a instanceof goog.html.SafeStyleSheet&&a.constructor===goog.html.SafeStyleSheet&&a.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;goog.asserts.fail("expected object of type SafeStyleSheet, got '"+a+"' of type "+goog.typeOf(a));return"type_error:SafeStyleSheet"};
goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(a){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(a)};goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=a;return this};goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse("");goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;this.dir_=null};goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_};goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0;goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};
goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"});
goog.html.SafeHtml.unwrap=function(a){if(a instanceof goog.html.SafeHtml&&a.constructor===goog.html.SafeHtml&&a.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;goog.asserts.fail("expected object of type SafeHtml, got '"+a+"' of type "+goog.typeOf(a));return"type_error:SafeHtml"};
goog.html.SafeHtml.htmlEscape=function(a){if(a instanceof goog.html.SafeHtml)return a;var b=null;a.implementsGoogI18nBidiDirectionalString&&(b=a.getDirection());a=a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.htmlEscape(a),b)};
goog.html.SafeHtml.htmlEscapePreservingNewlines=function(a){if(a instanceof goog.html.SafeHtml)return a;a=goog.html.SafeHtml.htmlEscape(a);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.newLineToBr(goog.html.SafeHtml.unwrap(a)),a.getDirection())};
goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(a){if(a instanceof goog.html.SafeHtml)return a;a=goog.html.SafeHtml.htmlEscape(a);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.whitespaceEscape(goog.html.SafeHtml.unwrap(a)),a.getDirection())};goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape;goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/;
goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0};goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};goog.html.SafeHtml.create=function(a,b,c){goog.html.SafeHtml.verifyTagName(String(a));return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(a),b,c)};
goog.html.SafeHtml.verifyTagName=function(a){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(a))throw Error("Invalid tag name <"+a+">.");if(a.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+a+"> is not allowed for SafeHtml.");};
goog.html.SafeHtml.createIframe=function(a,b,c,d){a&&goog.html.TrustedResourceUrl.unwrap(a);var e={};e.src=a||null;e.srcdoc=b&&goog.html.SafeHtml.unwrap(b);a=goog.html.SafeHtml.combineAttributes(e,{sandbox:""},c);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",a,d)};
goog.html.SafeHtml.createSandboxIframe=function(a,b,c,d){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var e={};e.src=a?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(a)):null;e.srcdoc=b||null;e.sandbox="";a=goog.html.SafeHtml.combineAttributes(e,{},c);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",a,d)};
goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype};goog.html.SafeHtml.createScriptSrc=function(a,b){goog.html.TrustedResourceUrl.unwrap(a);a=goog.html.SafeHtml.combineAttributes({src:a},{},b);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",a)};
goog.html.SafeHtml.createScript=function(a,b){for(var c in b){var d=c.toLowerCase();if("language"==d||"src"==d||"text"==d||"type"==d)throw Error('Cannot set "'+d+'" attribute');}c="";a=goog.array.concat(a);for(d=0;d<a.length;d++)c+=goog.html.SafeScript.unwrap(a[d]);a=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(c,goog.i18n.bidi.Dir.NEUTRAL);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",b,a)};
goog.html.SafeHtml.createStyle=function(a,b){b=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},b);var c="";a=goog.array.concat(a);for(var d=0;d<a.length;d++)c+=goog.html.SafeStyleSheet.unwrap(a[d]);a=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(c,goog.i18n.bidi.Dir.NEUTRAL);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",b,a)};
goog.html.SafeHtml.createMetaRefresh=function(a,b){a=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(a));(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.contains(a,";")&&(a="'"+a.replace(/'/g,"%27")+"'");return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(b||0)+"; url="+a})};
goog.html.SafeHtml.getAttrNameAndValue_=function(a,b,c){if(c instanceof goog.string.Const)c=goog.string.Const.unwrap(c);else if("style"==b.toLowerCase())c=goog.html.SafeHtml.getStyleValue_(c);else{if(/^on/i.test(b))throw Error('Attribute "'+b+'" requires goog.string.Const value, "'+c+'" given.');if(b.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(c instanceof goog.html.TrustedResourceUrl)c=goog.html.TrustedResourceUrl.unwrap(c);else if(c instanceof goog.html.SafeUrl)c=goog.html.SafeUrl.unwrap(c);
else if(goog.isString(c))c=goog.html.SafeUrl.sanitize(c).getTypedStringValue();else throw Error('Attribute "'+b+'" on tag "'+a+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+c+'" given.');}c.implementsGoogStringTypedString&&(c=c.getTypedStringValue());goog.asserts.assert(goog.isString(c)||goog.isNumber(c),"String or number value expected, got "+typeof c+" with value: "+c);return b+'="'+goog.string.htmlEscape(String(c))+'"'};
goog.html.SafeHtml.getStyleValue_=function(a){if(!goog.isObject(a))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof a+" given: "+a);a instanceof goog.html.SafeStyle||(a=goog.html.SafeStyle.create(a));return goog.html.SafeStyle.unwrap(a)};goog.html.SafeHtml.createWithDir=function(a,b,c,d){b=goog.html.SafeHtml.create(b,c,d);b.dir_=a;return b};
goog.html.SafeHtml.concat=function(a){var b=goog.i18n.bidi.Dir.NEUTRAL,c="",d=function(a){goog.isArray(a)?goog.array.forEach(a,d):(a=goog.html.SafeHtml.htmlEscape(a),c+=goog.html.SafeHtml.unwrap(a),a=a.getDirection(),b==goog.i18n.bidi.Dir.NEUTRAL?b=a:a!=goog.i18n.bidi.Dir.NEUTRAL&&b!=a&&(b=null))};goog.array.forEach(arguments,d);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(c,b)};
goog.html.SafeHtml.concatWithDir=function(a,b){var c=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));c.dir_=a;return c};goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(a,b){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(a,b)};goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a,b){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a;this.dir_=b;return this};
goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(a,b,c){var d=null;var e="<"+a+goog.html.SafeHtml.stringifyAttributes(a,b);goog.isDefAndNotNull(c)?goog.isArray(c)||(c=[c]):c=[];goog.dom.tags.isVoidTag(a.toLowerCase())?(goog.asserts.assert(!c.length,"Void tag <"+a+"> does not allow content."),e+=">"):(d=goog.html.SafeHtml.concat(c),e+=">"+goog.html.SafeHtml.unwrap(d)+"</"+a+">",d=d.getDirection());(a=b&&b.dir)&&(d=/^(ltr|rtl|auto)$/i.test(a)?goog.i18n.bidi.Dir.NEUTRAL:
null);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e,d)};goog.html.SafeHtml.stringifyAttributes=function(a,b){var c="";if(b)for(var d in b){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(d))throw Error('Invalid attribute name "'+d+'".');var e=b[d];goog.isDefAndNotNull(e)&&(c+=" "+goog.html.SafeHtml.getAttrNameAndValue_(a,d,e))}return c};
goog.html.SafeHtml.combineAttributes=function(a,b,c){var d={},e;for(e in a)goog.asserts.assert(e.toLowerCase()==e,"Must be lower case"),d[e]=a[e];for(e in b)goog.asserts.assert(e.toLowerCase()==e,"Must be lower case"),d[e]=b[e];for(e in c){var f=e.toLowerCase();if(f in a)throw Error('Cannot override "'+f+'" attribute, got "'+e+'" with value "'+c[e]+'"');f in b&&delete d[f];d[e]=c[e]}return d};
goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL);goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL);goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL);goog.dom.safe={};goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"};goog.dom.safe.insertAdjacentHtml=function(a,b,c){a.insertAdjacentHTML(b,goog.html.SafeHtml.unwrap(c))};goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};
goog.dom.safe.setInnerHtml=function(a,b){if(goog.asserts.ENABLE_ASSERTS){var c=a.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[c])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+a.tagName+".");}a.innerHTML=goog.html.SafeHtml.unwrap(b)};goog.dom.safe.setOuterHtml=function(a,b){a.outerHTML=goog.html.SafeHtml.unwrap(b)};
goog.dom.safe.setFormElementAction=function(a,b){b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);goog.dom.asserts.assertIsHTMLFormElement(a).action=goog.html.SafeUrl.unwrap(b)};goog.dom.safe.setButtonFormAction=function(a,b){b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);goog.dom.asserts.assertIsHTMLButtonElement(a).formaction=goog.html.SafeUrl.unwrap(b)};
goog.dom.safe.setInputFormAction=function(a,b){b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);goog.dom.asserts.assertIsHTMLInputElement(a).formaction=goog.html.SafeUrl.unwrap(b)};goog.dom.safe.setStyle=function(a,b){a.style.cssText=goog.html.SafeStyle.unwrap(b)};goog.dom.safe.documentWrite=function(a,b){a.write(goog.html.SafeHtml.unwrap(b))};
goog.dom.safe.setAnchorHref=function(a,b){goog.dom.asserts.assertIsHTMLAnchorElement(a);b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.href=goog.html.SafeUrl.unwrap(b)};goog.dom.safe.setImageSrc=function(a,b){goog.dom.asserts.assertIsHTMLImageElement(a);b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.src=goog.html.SafeUrl.unwrap(b)};
goog.dom.safe.setVideoSrc=function(a,b){goog.dom.asserts.assertIsHTMLVideoElement(a);b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.src=goog.html.SafeUrl.unwrap(b)};goog.dom.safe.setEmbedSrc=function(a,b){goog.dom.asserts.assertIsHTMLEmbedElement(a);a.src=goog.html.TrustedResourceUrl.unwrap(b)};goog.dom.safe.setFrameSrc=function(a,b){goog.dom.asserts.assertIsHTMLFrameElement(a);a.src=goog.html.TrustedResourceUrl.unwrap(b)};
goog.dom.safe.setIframeSrc=function(a,b){goog.dom.asserts.assertIsHTMLIFrameElement(a);a.src=goog.html.TrustedResourceUrl.unwrap(b)};goog.dom.safe.setIframeSrcdoc=function(a,b){goog.dom.asserts.assertIsHTMLIFrameElement(a);a.srcdoc=goog.html.SafeHtml.unwrap(b)};
goog.dom.safe.setLinkHrefAndRel=function(a,b,c){goog.dom.asserts.assertIsHTMLLinkElement(a);a.rel=c;goog.string.caseInsensitiveContains(c,"stylesheet")?(goog.asserts.assert(b instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),a.href=goog.html.TrustedResourceUrl.unwrap(b)):a.href=b instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(b):b instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(b):goog.html.SafeUrl.sanitizeAssertUnchanged(b).getTypedStringValue()};
goog.dom.safe.setObjectData=function(a,b){goog.dom.asserts.assertIsHTMLObjectElement(a);a.data=goog.html.TrustedResourceUrl.unwrap(b)};goog.dom.safe.setScriptSrc=function(a,b){goog.dom.asserts.assertIsHTMLScriptElement(a);a.src=goog.html.TrustedResourceUrl.unwrap(b)};goog.dom.safe.setScriptContent=function(a,b){goog.dom.asserts.assertIsHTMLScriptElement(a);a.text=goog.html.SafeScript.unwrap(b)};
goog.dom.safe.setLocationHref=function(a,b){goog.dom.asserts.assertIsLocation(a);b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.href=goog.html.SafeUrl.unwrap(b)};goog.dom.safe.replaceLocation=function(a,b){goog.dom.asserts.assertIsLocation(a);b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.replace(goog.html.SafeUrl.unwrap(b))};
goog.dom.safe.openInWindow=function(a,b,c,d,e){a=a instanceof goog.html.SafeUrl?a:goog.html.SafeUrl.sanitizeAssertUnchanged(a);return(b||window).open(goog.html.SafeUrl.unwrap(a),c?goog.string.Const.unwrap(c):"",d,e)};goog.html.uncheckedconversions={};goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(a,b,c){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(b,c||null)};
goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(b)};
goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b)};
goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(b)};
goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(b)};
goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(b)};goog.math.Coordinate=function(a,b){this.x=goog.isDef(a)?a:0;this.y=goog.isDef(b)?b:0};goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)};goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"});goog.math.Coordinate.prototype.equals=function(a){return a instanceof goog.math.Coordinate&&goog.math.Coordinate.equals(this,a)};goog.math.Coordinate.equals=function(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1};
goog.math.Coordinate.distance=function(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)};goog.math.Coordinate.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};goog.math.Coordinate.azimuth=function(a){return goog.math.angle(0,0,a.x,a.y)};goog.math.Coordinate.squaredDistance=function(a,b){var c=a.x-b.x;a=a.y-b.y;return c*c+a*a};goog.math.Coordinate.difference=function(a,b){return new goog.math.Coordinate(a.x-b.x,a.y-b.y)};
goog.math.Coordinate.sum=function(a,b){return new goog.math.Coordinate(a.x+b.x,a.y+b.y)};goog.math.Coordinate.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};goog.math.Coordinate.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};goog.math.Coordinate.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
goog.math.Coordinate.prototype.translate=function(a,b){a instanceof goog.math.Coordinate?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),goog.isNumber(b)&&(this.y+=b));return this};goog.math.Coordinate.prototype.scale=function(a,b){b=goog.isNumber(b)?b:a;this.x*=a;this.y*=b;return this};goog.math.Coordinate.prototype.rotateRadians=function(a,b){b=b||new goog.math.Coordinate(0,0);var c=this.x,d=this.y,e=Math.cos(a);a=Math.sin(a);this.x=(c-b.x)*e-(d-b.y)*a+b.x;this.y=(c-b.x)*a+(d-b.y)*e+b.y};
goog.math.Coordinate.prototype.rotateDegrees=function(a,b){this.rotateRadians(goog.math.toRadians(a),b)};goog.math.Size=function(a,b){this.width=a;this.height=b};goog.math.Size.equals=function(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1};goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)};goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"});goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)};
goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)};goog.math.Size.prototype.area=function(){return this.width*this.height};goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)};goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height};goog.math.Size.prototype.isEmpty=function(){return!this.area()};goog.math.Size.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
goog.math.Size.prototype.fitsInside=function(a){return this.width<=a.width&&this.height<=a.height};goog.math.Size.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};goog.math.Size.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};goog.math.Size.prototype.scale=function(a,b){b=goog.isNumber(b)?b:a;this.width*=a;this.height*=b;return this};
goog.math.Size.prototype.scaleToCover=function(a){a=this.aspectRatio()<=a.aspectRatio()?a.width/this.width:a.height/this.height;return this.scale(a)};goog.math.Size.prototype.scaleToFit=function(a){a=this.aspectRatio()>a.aspectRatio()?a.width/this.width:a.height/this.height;return this.scale(a)};goog.dom.ASSUME_QUIRKS_MODE=!1;goog.dom.ASSUME_STANDARDS_MODE=!1;goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE;goog.dom.getDomHelper=function(a){return a?new goog.dom.DomHelper(goog.dom.getOwnerDocument(a)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)};goog.dom.getDocument=function(){return document};goog.dom.getElement=function(a){return goog.dom.getElementHelper_(document,a)};
goog.dom.getElementHelper_=function(a,b){return goog.isString(b)?a.getElementById(b):b};goog.dom.getRequiredElement=function(a){return goog.dom.getRequiredElementHelper_(document,a)};goog.dom.getRequiredElementHelper_=function(a,b){goog.asserts.assertString(b);a=goog.dom.getElementHelper_(a,b);return a=goog.asserts.assertElement(a,"No element found with id: "+b)};goog.dom.$=goog.dom.getElement;goog.dom.getElementsByTagName=function(a,b){return(b||document).getElementsByTagName(String(a))};
goog.dom.getElementsByTagNameAndClass=function(a,b,c){return goog.dom.getElementsByTagNameAndClass_(document,a,b,c)};goog.dom.getElementByTagNameAndClass=function(a,b,c){return goog.dom.getElementByTagNameAndClass_(document,a,b,c)};goog.dom.getElementsByClass=function(a,b){var c=b||document;return goog.dom.canUseQuerySelector_(c)?c.querySelectorAll("."+a):goog.dom.getElementsByTagNameAndClass_(document,"*",a,b)};
goog.dom.getElementByClass=function(a,b){var c=b||document;return(c.getElementsByClassName?c.getElementsByClassName(a)[0]:goog.dom.getElementByTagNameAndClass_(document,"*",a,b))||null};goog.dom.getRequiredElementByClass=function(a,b){b=goog.dom.getElementByClass(a,b);return goog.asserts.assert(b,"No element found with className: "+a)};goog.dom.canUseQuerySelector_=function(a){return!(!a.querySelectorAll||!a.querySelector)};
goog.dom.getElementsByTagNameAndClass_=function(a,b,c,d){a=d||a;b=b&&"*"!=b?String(b).toUpperCase():"";if(goog.dom.canUseQuerySelector_(a)&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,g;g=a[f];f++)b==g.nodeName&&(d[e++]=g);d.length=e;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;g=a[f];f++)b=g.className,"function"==typeof b.split&&goog.array.contains(b.split(/\s+/),c)&&(d[e++]=g);
d.length=e;return d}return a};goog.dom.getElementByTagNameAndClass_=function(a,b,c,d){var e=d||a,f=b&&"*"!=b?String(b).toUpperCase():"";return goog.dom.canUseQuerySelector_(e)&&(f||c)?e.querySelector(f+(c?"."+c:"")):goog.dom.getElementsByTagNameAndClass_(a,b,c,d)[0]||null};goog.dom.$$=goog.dom.getElementsByTagNameAndClass;
goog.dom.setProperties=function(a,b){goog.object.forEach(b,function(b,d){b&&b.implementsGoogStringTypedString&&(b=b.getTypedStringValue());"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(d)?a.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[d],b):goog.string.startsWith(d,"aria-")||goog.string.startsWith(d,"data-")?a.setAttribute(d,b):a[d]=b})};
goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};goog.dom.getViewportSize=function(a){return goog.dom.getViewportSize_(a||window)};goog.dom.getViewportSize_=function(a){a=a.document;a=goog.dom.isCss1CompatMode_(a)?a.documentElement:a.body;return new goog.math.Size(a.clientWidth,a.clientHeight)};
goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)};goog.dom.getDocumentHeightForWindow=function(a){return goog.dom.getDocumentHeight_(a)};
goog.dom.getDocumentHeight_=function(a){var b=a.document,c=0;if(b){c=b.body;var d=b.documentElement;if(!d||!c)return 0;a=goog.dom.getViewportSize_(a).height;if(goog.dom.isCss1CompatMode_(b)&&d.scrollHeight)c=d.scrollHeight!=a?d.scrollHeight:d.offsetHeight;else{b=d.scrollHeight;var e=d.offsetHeight;d.clientHeight!=e&&(b=c.scrollHeight,e=c.offsetHeight);c=b>a?b>e?b:e:b<e?b:e}}return c};goog.dom.getPageScroll=function(a){return goog.dom.getDomHelper((a||goog.global||window).document).getDocumentScroll()};
goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)};goog.dom.getDocumentScroll_=function(a){var b=goog.dom.getDocumentScrollElement_(a);a=goog.dom.getWindow_(a);return goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("10")&&a.pageYOffset!=b.scrollTop?new goog.math.Coordinate(b.scrollLeft,b.scrollTop):new goog.math.Coordinate(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)};goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)};
goog.dom.getDocumentScrollElement_=function(a){return a.scrollingElement?a.scrollingElement:!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(a)?a.documentElement:a.body||a.documentElement};goog.dom.getWindow=function(a){return a?goog.dom.getWindow_(a):window};goog.dom.getWindow_=function(a){return a.parentWindow||a.defaultView};goog.dom.createDom=function(a,b,c){return goog.dom.createDom_(document,arguments)};
goog.dom.createDom_=function(a,b){var c=String(b[0]),d=b[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',goog.string.htmlEscape(d.name),'"');if(d.type){c.push(' type="',goog.string.htmlEscape(d.type),'"');var e={};goog.object.extend(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(goog.isString(d)?c.className=d:goog.isArray(d)?c.className=d.join(" "):goog.dom.setProperties(c,d));2<b.length&&goog.dom.append_(a,
c,b,2);return c};goog.dom.append_=function(a,b,c,d){function e(c){c&&b.appendChild(goog.isString(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];goog.isArrayLike(f)&&!goog.dom.isNodeLike(f)?goog.array.forEach(goog.dom.isNodeList(f)?goog.array.toArray(f):f,e):e(f)}};goog.dom.$dom=goog.dom.createDom;goog.dom.createElement=function(a){return goog.dom.createElement_(document,a)};goog.dom.createElement_=function(a,b){return a.createElement(String(b))};goog.dom.createTextNode=function(a){return document.createTextNode(String(a))};
goog.dom.createTable=function(a,b,c){return goog.dom.createTable_(document,a,b,!!c)};goog.dom.createTable_=function(a,b,c,d){for(var e=goog.dom.createElement_(a,"TABLE"),f=e.appendChild(goog.dom.createElement_(a,"TBODY")),g=0;g<b;g++){for(var h=goog.dom.createElement_(a,"TR"),k=0;k<c;k++){var l=goog.dom.createElement_(a,"TD");d&&goog.dom.setTextContent(l,goog.string.Unicode.NBSP);h.appendChild(l)}f.appendChild(h)}return e};
goog.dom.constHtmlToNode=function(a){var b=goog.array.map(arguments,goog.string.Const.unwrap);b=goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Constant HTML string, that gets turned into a Node later, so it will be automatically balanced."),b.join(""));return goog.dom.safeHtmlToNode(b)};goog.dom.safeHtmlToNode=function(a){return goog.dom.safeHtmlToNode_(document,a)};
goog.dom.safeHtmlToNode_=function(a,b){var c=goog.dom.createElement_(a,"DIV");goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(goog.dom.safe.setInnerHtml(c,goog.html.SafeHtml.concat(goog.html.SafeHtml.BR,b)),c.removeChild(c.firstChild)):goog.dom.safe.setInnerHtml(c,b);return goog.dom.childrenToNode_(a,c)};goog.dom.childrenToNode_=function(a,b){if(1==b.childNodes.length)return b.removeChild(b.firstChild);for(a=a.createDocumentFragment();b.firstChild;)a.appendChild(b.firstChild);return a};
goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)};goog.dom.isCss1CompatMode_=function(a){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==a.compatMode};goog.dom.canHaveChildren=function(a){if(a.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
goog.dom.appendChild=function(a,b){a.appendChild(b)};goog.dom.append=function(a,b){goog.dom.append_(goog.dom.getOwnerDocument(a),a,arguments,1)};goog.dom.removeChildren=function(a){for(var b;b=a.firstChild;)a.removeChild(b)};goog.dom.insertSiblingBefore=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)};goog.dom.insertSiblingAfter=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)};goog.dom.insertChildAt=function(a,b,c){a.insertBefore(b,a.childNodes[c]||null)};
goog.dom.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};goog.dom.replaceNode=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)};goog.dom.flattenElement=function(a){var b,c=a.parentNode;if(c&&c.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(a.removeNode)return a.removeNode(!1);for(;b=a.firstChild;)c.insertBefore(b,a);return goog.dom.removeNode(a)}};
goog.dom.getChildren=function(a){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&void 0!=a.children?a.children:goog.array.filter(a.childNodes,function(a){return a.nodeType==goog.dom.NodeType.ELEMENT})};goog.dom.getFirstElementChild=function(a){return goog.isDef(a.firstElementChild)?a.firstElementChild:goog.dom.getNextElementNode_(a.firstChild,!0)};goog.dom.getLastElementChild=function(a){return goog.isDef(a.lastElementChild)?a.lastElementChild:goog.dom.getNextElementNode_(a.lastChild,!1)};
goog.dom.getNextElementSibling=function(a){return goog.isDef(a.nextElementSibling)?a.nextElementSibling:goog.dom.getNextElementNode_(a.nextSibling,!0)};goog.dom.getPreviousElementSibling=function(a){return goog.isDef(a.previousElementSibling)?a.previousElementSibling:goog.dom.getNextElementNode_(a.previousSibling,!1)};goog.dom.getNextElementNode_=function(a,b){for(;a&&a.nodeType!=goog.dom.NodeType.ELEMENT;)a=b?a.nextSibling:a.previousSibling;return a};
goog.dom.getNextNode=function(a){if(!a)return null;if(a.firstChild)return a.firstChild;for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null};goog.dom.getPreviousNode=function(a){if(!a)return null;if(!a.previousSibling)return a.parentNode;for(a=a.previousSibling;a&&a.lastChild;)a=a.lastChild;return a};goog.dom.isNodeLike=function(a){return goog.isObject(a)&&0<a.nodeType};goog.dom.isElement=function(a){return goog.isObject(a)&&a.nodeType==goog.dom.NodeType.ELEMENT};
goog.dom.isWindow=function(a){return goog.isObject(a)&&a.window==a};goog.dom.getParentElement=function(a){var b;if(goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY&&!(goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("9")&&!goog.userAgent.isVersionOrHigher("10")&&goog.global.SVGElement&&a instanceof goog.global.SVGElement)&&(b=a.parentElement))return b;b=a.parentNode;return goog.dom.isElement(b)?b:null};
goog.dom.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&b.nodeType==goog.dom.NodeType.ELEMENT)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};
goog.dom.compareNodeOrder=function(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){if(a.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(b.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var c=a.nodeType==goog.dom.NodeType.ELEMENT,d=b.nodeType==goog.dom.NodeType.ELEMENT;if(c&&d)return a.sourceIndex-b.sourceIndex;var e=a.parentNode,
f=b.parentNode;return e==f?goog.dom.compareSiblingOrder_(a,b):!c&&goog.dom.contains(e,b)?-1*goog.dom.compareParentsDescendantNodeIe_(a,b):!d&&goog.dom.contains(f,a)?goog.dom.compareParentsDescendantNodeIe_(b,a):(c?a.sourceIndex:e.sourceIndex)-(d?b.sourceIndex:f.sourceIndex)}d=goog.dom.getOwnerDocument(a);c=d.createRange();c.selectNode(a);c.collapse(!0);a=d.createRange();a.selectNode(b);a.collapse(!0);return c.compareBoundaryPoints(goog.global.Range.START_TO_END,a)};
goog.dom.compareParentsDescendantNodeIe_=function(a,b){var c=a.parentNode;if(c==b)return-1;for(;b.parentNode!=c;)b=b.parentNode;return goog.dom.compareSiblingOrder_(b,a)};goog.dom.compareSiblingOrder_=function(a,b){for(;b=b.previousSibling;)if(b==a)return-1;return 1};
goog.dom.findCommonAncestor=function(a){var b,c=arguments.length;if(!c)return null;if(1==c)return arguments[0];var d=[],e=Infinity;for(b=0;b<c;b++){for(var f=[],g=arguments[b];g;)f.unshift(g),g=g.parentNode;d.push(f);e=Math.min(e,f.length)}f=null;for(b=0;b<e;b++){g=d[0][b];for(var h=1;h<c;h++)if(g!=d[h][b])return f;f=g}return f};goog.dom.getOwnerDocument=function(a){goog.asserts.assert(a,"Node cannot be null or undefined.");return a.nodeType==goog.dom.NodeType.DOCUMENT?a:a.ownerDocument||a.document};
goog.dom.getFrameContentDocument=function(a){return a.contentDocument||a.contentWindow.document};goog.dom.getFrameContentWindow=function(a){try{return a.contentWindow||(a.contentDocument?goog.dom.getWindow(a.contentDocument):null)}catch(b){}return null};
goog.dom.setTextContent=function(a,b){goog.asserts.assert(null!=a,"goog.dom.setTextContent expects a non-null value for node");if("textContent"in a)a.textContent=b;else if(a.nodeType==goog.dom.NodeType.TEXT)a.data=String(b);else if(a.firstChild&&a.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=String(b)}else{goog.dom.removeChildren(a);var c=goog.dom.getOwnerDocument(a);a.appendChild(c.createTextNode(String(b)))}};
goog.dom.getOuterHtml=function(a){goog.asserts.assert(null!==a,"goog.dom.getOuterHtml expects a non-null value for element");if("outerHTML"in a)return a.outerHTML;var b=goog.dom.getOwnerDocument(a);b=goog.dom.createElement_(b,"DIV");b.appendChild(a.cloneNode(!0));return b.innerHTML};goog.dom.findNode=function(a,b){var c=[];return goog.dom.findNodes_(a,b,c,!0)?c[0]:void 0};goog.dom.findNodes=function(a,b){var c=[];goog.dom.findNodes_(a,b,c,!1);return c};
goog.dom.findNodes_=function(a,b,c,d){if(null!=a)for(a=a.firstChild;a;){if(b(a)&&(c.push(a),d)||goog.dom.findNodes_(a,b,c,d))return!0;a=a.nextSibling}return!1};goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1};goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"};goog.dom.isFocusableTabIndex=function(a){return goog.dom.hasSpecifiedTabIndex_(a)&&goog.dom.isTabIndexFocusable_(a)};goog.dom.setFocusableTabIndex=function(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))};
goog.dom.isFocusable=function(a){var b;return(b=goog.dom.nativelySupportsFocus_(a)?!a.disabled&&(!goog.dom.hasSpecifiedTabIndex_(a)||goog.dom.isTabIndexFocusable_(a)):goog.dom.isFocusableTabIndex(a))&&goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(a):b};goog.dom.hasSpecifiedTabIndex_=function(a){return goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9")?(a=a.getAttributeNode("tabindex"),goog.isDefAndNotNull(a)&&a.specified):a.hasAttribute("tabindex")};
goog.dom.isTabIndexFocusable_=function(a){a=a.tabIndex;return goog.isNumber(a)&&0<=a&&32768>a};goog.dom.nativelySupportsFocus_=function(a){return"A"==a.tagName||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName};goog.dom.hasNonZeroBoundingRect_=function(a){a=!goog.isFunction(a.getBoundingClientRect)||goog.userAgent.IE&&null==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect();return goog.isDefAndNotNull(a)&&0<a.height&&0<a.width};
goog.dom.getTextContent=function(a){if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&null!==a&&"innerText"in a)a=goog.string.canonicalizeNewlines(a.innerText);else{var b=[];goog.dom.getTextContent_(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a};goog.dom.getRawTextContent=function(a){var b=[];goog.dom.getTextContent_(a,b,!1);return b.join("")};
goog.dom.getTextContent_=function(a,b,c){if(!(a.nodeName in goog.dom.TAGS_TO_IGNORE_))if(a.nodeType==goog.dom.NodeType.TEXT)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)b.push(goog.dom.PREDEFINED_TAG_VALUES_[a.nodeName]);else for(a=a.firstChild;a;)goog.dom.getTextContent_(a,b,c),a=a.nextSibling};goog.dom.getNodeTextLength=function(a){return goog.dom.getTextContent(a).length};
goog.dom.getNodeTextOffset=function(a,b){b=b||goog.dom.getOwnerDocument(a).body;for(var c=[];a&&a!=b;){for(var d=a;d=d.previousSibling;)c.unshift(goog.dom.getTextContent(d));a=a.parentNode}return goog.string.trimLeft(c.join("")).replace(/ +/g," ").length};
goog.dom.getNodeAtOffset=function(a,b,c){a=[a];for(var d=0,e=null;0<a.length&&d<b;)if(e=a.pop(),!(e.nodeName in goog.dom.TAGS_TO_IGNORE_))if(e.nodeType==goog.dom.NodeType.TEXT){var f=e.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ");d+=f.length}else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)d+=goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName].length;else for(f=e.childNodes.length-1;0<=f;f--)a.push(e.childNodes[f]);goog.isObject(c)&&(c.remainder=e?e.nodeValue.length+b-d-1:0,c.node=e);return e};
goog.dom.isNodeList=function(a){if(a&&"number"==typeof a.length){if(goog.isObject(a))return"function"==typeof a.item||"string"==typeof a.item;if(goog.isFunction(a))return"function"==typeof a.item}return!1};goog.dom.getAncestorByTagNameAndClass=function(a,b,c,d){if(!b&&!c)return null;var e=b?String(b).toUpperCase():null;return goog.dom.getAncestor(a,function(a){return(!e||a.nodeName==e)&&(!c||goog.isString(a.className)&&goog.array.contains(a.className.split(/\s+/),c))},!0,d)};
goog.dom.getAncestorByClass=function(a,b,c){return goog.dom.getAncestorByTagNameAndClass(a,null,b,c)};goog.dom.getAncestor=function(a,b,c,d){a&&!c&&(a=a.parentNode);for(c=0;a&&(null==d||c<=d);){goog.asserts.assert("parentNode"!=a.name);if(b(a))return a;a=a.parentNode;c++}return null};goog.dom.getActiveElement=function(a){try{return a&&a.activeElement}catch(b){}return null};
goog.dom.getPixelRatio=function(){var a=goog.dom.getWindow();return goog.isDef(a.devicePixelRatio)?a.devicePixelRatio:a.matchMedia?goog.dom.matchesPixelRatio_(3)||goog.dom.matchesPixelRatio_(2)||goog.dom.matchesPixelRatio_(1.5)||goog.dom.matchesPixelRatio_(1)||.75:1};goog.dom.matchesPixelRatio_=function(a){return goog.dom.getWindow().matchMedia("(min-resolution: "+a+"dppx),(min--moz-device-pixel-ratio: "+a+"),(min-resolution: "+96*a+"dpi)").matches?a:0};goog.dom.getCanvasContext2D=function(a){return a.getContext("2d")};
goog.dom.DomHelper=function(a){this.document_=a||goog.global.document||document};goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper;goog.dom.DomHelper.prototype.setDocument=function(a){this.document_=a};goog.dom.DomHelper.prototype.getDocument=function(){return this.document_};goog.dom.DomHelper.prototype.getElement=function(a){return goog.dom.getElementHelper_(this.document_,a)};
goog.dom.DomHelper.prototype.getRequiredElement=function(a){return goog.dom.getRequiredElementHelper_(this.document_,a)};goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement;goog.dom.DomHelper.prototype.getElementsByTagName=function(a,b){return(b||this.document_).getElementsByTagName(String(a))};goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(a,b,c){return goog.dom.getElementsByTagNameAndClass_(this.document_,a,b,c)};
goog.dom.DomHelper.prototype.getElementByTagNameAndClass=function(a,b,c){return goog.dom.getElementByTagNameAndClass_(this.document_,a,b,c)};goog.dom.DomHelper.prototype.getElementsByClass=function(a,b){return goog.dom.getElementsByClass(a,b||this.document_)};goog.dom.DomHelper.prototype.getElementByClass=function(a,b){return goog.dom.getElementByClass(a,b||this.document_)};goog.dom.DomHelper.prototype.getRequiredElementByClass=function(a,b){return goog.dom.getRequiredElementByClass(a,b||this.document_)};
goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties;goog.dom.DomHelper.prototype.getViewportSize=function(a){return goog.dom.getViewportSize(a||this.getWindow())};goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())};goog.dom.DomHelper.prototype.createDom=function(a,b,c){return goog.dom.createDom_(this.document_,arguments)};
goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom;goog.dom.DomHelper.prototype.createElement=function(a){return goog.dom.createElement_(this.document_,a)};goog.dom.DomHelper.prototype.createTextNode=function(a){return this.document_.createTextNode(String(a))};goog.dom.DomHelper.prototype.createTable=function(a,b,c){return goog.dom.createTable_(this.document_,a,b,!!c)};goog.dom.DomHelper.prototype.safeHtmlToNode=function(a){return goog.dom.safeHtmlToNode_(this.document_,a)};
goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)};goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)};goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)};goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)};
goog.dom.DomHelper.prototype.getActiveElement=function(a){return goog.dom.getActiveElement(a||this.document_)};goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild;goog.dom.DomHelper.prototype.append=goog.dom.append;goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren;goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren;goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore;goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter;
goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt;goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode;goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode;goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement;goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren;goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild;goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild;
goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling;goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling;goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode;goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode;goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike;goog.dom.DomHelper.prototype.isElement=goog.dom.isElement;goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow;
goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement;goog.dom.DomHelper.prototype.contains=goog.dom.contains;goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder;goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor;goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument;goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument;goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow;
goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent;goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml;goog.dom.DomHelper.prototype.findNode=goog.dom.findNode;goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes;goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex;goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex;goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable;
goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent;goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength;goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset;goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset;goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList;goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass;goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass;
goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor;goog.dom.DomHelper.prototype.getCanvasContext2D=goog.dom.getCanvasContext2D;goog.dom.ViewportSizeMonitor=function(a){goog.events.EventTarget.call(this);this.window_=a||window;this.listenerKey_=goog.events.listen(this.window_,goog.events.EventType.RESIZE,this.handleResize_,!1,this);this.size_=goog.dom.getViewportSize(this.window_)};goog.inherits(goog.dom.ViewportSizeMonitor,goog.events.EventTarget);
goog.dom.ViewportSizeMonitor.getInstanceForWindow=function(a){a=a||window;var b=goog.getUid(a);return goog.dom.ViewportSizeMonitor.windowInstanceMap_[b]=goog.dom.ViewportSizeMonitor.windowInstanceMap_[b]||new goog.dom.ViewportSizeMonitor(a)};goog.dom.ViewportSizeMonitor.removeInstanceForWindow=function(a){a=goog.getUid(a||window);goog.dispose(goog.dom.ViewportSizeMonitor.windowInstanceMap_[a]);delete goog.dom.ViewportSizeMonitor.windowInstanceMap_[a]};
goog.dom.ViewportSizeMonitor.windowInstanceMap_={};goog.dom.ViewportSizeMonitor.prototype.getSize=function(){return this.size_?this.size_.clone():null};goog.dom.ViewportSizeMonitor.prototype.disposeInternal=function(){goog.dom.ViewportSizeMonitor.superClass_.disposeInternal.call(this);this.listenerKey_&&(goog.events.unlistenByKey(this.listenerKey_),this.listenerKey_=null);this.size_=this.window_=null};
goog.dom.ViewportSizeMonitor.prototype.handleResize_=function(a){a=goog.dom.getViewportSize(this.window_);goog.math.Size.equals(a,this.size_)||(this.size_=a,this.dispatchEvent(goog.events.EventType.RESIZE))};goog.dom.animationFrame={};goog.dom.animationFrame.polyfill={};goog.dom.animationFrame.polyfill.ENABLED=!0;
goog.dom.animationFrame.polyfill.install=function(){if(goog.dom.animationFrame.polyfill.ENABLED){for(var a=["ms","moz","webkit","o"],b=0,c;c=a[b]&&!goog.global.requestAnimationFrame;++b)goog.global.requestAnimationFrame=goog.global[c+"RequestAnimationFrame"],goog.global.cancelAnimationFrame=goog.global[c+"CancelAnimationFrame"]||goog.global[c+"CancelRequestAnimationFrame"];if(!goog.global.requestAnimationFrame){var d=0;goog.global.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,
16-(b-d));d=b+c;return goog.global.setTimeout(function(){a(b+c)},c)};goog.global.cancelAnimationFrame||(goog.global.cancelAnimationFrame=function(a){clearTimeout(a)})}}};goog.events.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,
Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,
SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255};
goog.events.KeyCodes.isTextModifyingKeyEvent=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||a.keyCode>=goog.events.KeyCodes.F1&&a.keyCode<=goog.events.KeyCodes.F12)return!1;switch(a.keyCode){case goog.events.KeyCodes.ALT:case goog.events.KeyCodes.CAPS_LOCK:case goog.events.KeyCodes.CONTEXT_MENU:case goog.events.KeyCodes.CTRL:case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.END:case goog.events.KeyCodes.ESC:case goog.events.KeyCodes.HOME:case goog.events.KeyCodes.INSERT:case goog.events.KeyCodes.LEFT:case goog.events.KeyCodes.MAC_FF_META:case goog.events.KeyCodes.META:case goog.events.KeyCodes.NUMLOCK:case goog.events.KeyCodes.NUM_CENTER:case goog.events.KeyCodes.PAGE_DOWN:case goog.events.KeyCodes.PAGE_UP:case goog.events.KeyCodes.PAUSE:case goog.events.KeyCodes.PHANTOM:case goog.events.KeyCodes.PRINT_SCREEN:case goog.events.KeyCodes.RIGHT:case goog.events.KeyCodes.SCROLL_LOCK:case goog.events.KeyCodes.SHIFT:case goog.events.KeyCodes.UP:case goog.events.KeyCodes.VK_NONAME:case goog.events.KeyCodes.WIN_KEY:case goog.events.KeyCodes.WIN_KEY_RIGHT:return!1;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return!goog.userAgent.GECKO;
default:return a.keyCode<goog.events.KeyCodes.FIRST_MEDIA_KEY||a.keyCode>goog.events.KeyCodes.LAST_MEDIA_KEY}};
goog.events.KeyCodes.firesKeyPressEvent=function(a,b,c,d,e,f){if(!(goog.userAgent.IE||goog.userAgent.EDGE||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("525")))return!0;if(goog.userAgent.MAC&&e)return goog.events.KeyCodes.isCharacterKey(a);if(e&&!d)return!1;goog.isNumber(b)&&(b=goog.events.KeyCodes.normalizeKeyCode(b));e=b==goog.events.KeyCodes.CTRL||b==goog.events.KeyCodes.ALT||goog.userAgent.MAC&&b==goog.events.KeyCodes.META;f=b==goog.events.KeyCodes.SHIFT&&(d||f);if((!c||goog.userAgent.MAC)&&
e||goog.userAgent.MAC&&f)return!1;if((goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&d&&c)switch(a){case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:case goog.events.KeyCodes.TILDE:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:return!1}if(goog.userAgent.IE&&
d&&b==a)return!1;switch(a){case goog.events.KeyCodes.ENTER:return!0;case goog.events.KeyCodes.ESC:return!(goog.userAgent.WEBKIT||goog.userAgent.EDGE)}return goog.events.KeyCodes.isCharacterKey(a)};
goog.events.KeyCodes.isCharacterKey=function(a){if(a>=goog.events.KeyCodes.ZERO&&a<=goog.events.KeyCodes.NINE||a>=goog.events.KeyCodes.NUM_ZERO&&a<=goog.events.KeyCodes.NUM_MULTIPLY||a>=goog.events.KeyCodes.A&&a<=goog.events.KeyCodes.Z||(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&0==a)return!0;switch(a){case goog.events.KeyCodes.SPACE:case goog.events.KeyCodes.PLUS_SIGN:case goog.events.KeyCodes.QUESTION_MARK:case goog.events.KeyCodes.AT_SIGN:case goog.events.KeyCodes.NUM_PLUS:case goog.events.KeyCodes.NUM_MINUS:case goog.events.KeyCodes.NUM_PERIOD:case goog.events.KeyCodes.NUM_DIVISION:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.FF_SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.FF_EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:return!0;default:return!1}};
goog.events.KeyCodes.normalizeKeyCode=function(a){return goog.userAgent.GECKO?goog.events.KeyCodes.normalizeGeckoKeyCode(a):goog.userAgent.MAC&&goog.userAgent.WEBKIT?goog.events.KeyCodes.normalizeMacWebKitKeyCode(a):a};
goog.events.KeyCodes.normalizeGeckoKeyCode=function(a){switch(a){case goog.events.KeyCodes.FF_EQUALS:return goog.events.KeyCodes.EQUALS;case goog.events.KeyCodes.FF_SEMICOLON:return goog.events.KeyCodes.SEMICOLON;case goog.events.KeyCodes.FF_DASH:return goog.events.KeyCodes.DASH;case goog.events.KeyCodes.MAC_FF_META:return goog.events.KeyCodes.META;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return goog.events.KeyCodes.WIN_KEY;default:return a}};
goog.events.KeyCodes.normalizeMacWebKitKeyCode=function(a){switch(a){case goog.events.KeyCodes.MAC_WK_CMD_RIGHT:return goog.events.KeyCodes.META;default:return a}};goog.debug.LogRecord=function(a,b,c,d,e){this.reset(a,b,c,d,e)};goog.debug.LogRecord.prototype.sequenceNumber_=0;goog.debug.LogRecord.prototype.exception_=null;goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS=!0;goog.debug.LogRecord.nextSequenceNumber_=0;
goog.debug.LogRecord.prototype.reset=function(a,b,c,d,e){goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS&&(this.sequenceNumber_="number"==typeof e?e:goog.debug.LogRecord.nextSequenceNumber_++);this.time_=d||goog.now();this.level_=a;this.msg_=b;this.loggerName_=c;delete this.exception_};goog.debug.LogRecord.prototype.getLoggerName=function(){return this.loggerName_};goog.debug.LogRecord.prototype.getException=function(){return this.exception_};
goog.debug.LogRecord.prototype.setException=function(a){this.exception_=a};goog.debug.LogRecord.prototype.setLoggerName=function(a){this.loggerName_=a};goog.debug.LogRecord.prototype.getLevel=function(){return this.level_};goog.debug.LogRecord.prototype.setLevel=function(a){this.level_=a};goog.debug.LogRecord.prototype.getMessage=function(){return this.msg_};goog.debug.LogRecord.prototype.setMessage=function(a){this.msg_=a};goog.debug.LogRecord.prototype.getMillis=function(){return this.time_};
goog.debug.LogRecord.prototype.setMillis=function(a){this.time_=a};goog.debug.LogRecord.prototype.getSequenceNumber=function(){return this.sequenceNumber_};goog.debug.LogBuffer=function(){goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(),"Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY.");this.clear()};goog.debug.LogBuffer.getInstance=function(){goog.debug.LogBuffer.instance_||(goog.debug.LogBuffer.instance_=new goog.debug.LogBuffer);return goog.debug.LogBuffer.instance_};goog.debug.LogBuffer.CAPACITY=0;
goog.debug.LogBuffer.prototype.addRecord=function(a,b,c){var d=(this.curIndex_+1)%goog.debug.LogBuffer.CAPACITY;this.curIndex_=d;if(this.isFull_)return d=this.buffer_[d],d.reset(a,b,c),d;this.isFull_=d==goog.debug.LogBuffer.CAPACITY-1;return this.buffer_[d]=new goog.debug.LogRecord(a,b,c)};goog.debug.LogBuffer.isBufferingEnabled=function(){return 0<goog.debug.LogBuffer.CAPACITY};
goog.debug.LogBuffer.prototype.clear=function(){this.buffer_=Array(goog.debug.LogBuffer.CAPACITY);this.curIndex_=-1;this.isFull_=!1};goog.debug.LogBuffer.prototype.forEachRecord=function(a){var b=this.buffer_;if(b[0]){var c=this.curIndex_,d=this.isFull_?c:-1;do d=(d+1)%goog.debug.LogBuffer.CAPACITY,a(b[d]);while(d!=c)}};goog.debug.Logger=function(a){this.name_=a;this.handlers_=this.children_=this.level_=this.parent_=null};goog.debug.Logger.ROOT_LOGGER_NAME="";goog.debug.Logger.ENABLE_HIERARCHY=!0;goog.debug.Logger.ENABLE_PROFILER_LOGGING=!1;goog.debug.Logger.ENABLE_HIERARCHY||(goog.debug.Logger.rootHandlers_=[]);goog.debug.Logger.Level=function(a,b){this.name=a;this.value=b};goog.debug.Logger.Level.prototype.toString=function(){return this.name};goog.debug.Logger.Level.OFF=new goog.debug.Logger.Level("OFF",Infinity);
goog.debug.Logger.Level.SHOUT=new goog.debug.Logger.Level("SHOUT",1200);goog.debug.Logger.Level.SEVERE=new goog.debug.Logger.Level("SEVERE",1E3);goog.debug.Logger.Level.WARNING=new goog.debug.Logger.Level("WARNING",900);goog.debug.Logger.Level.INFO=new goog.debug.Logger.Level("INFO",800);goog.debug.Logger.Level.CONFIG=new goog.debug.Logger.Level("CONFIG",700);goog.debug.Logger.Level.FINE=new goog.debug.Logger.Level("FINE",500);goog.debug.Logger.Level.FINER=new goog.debug.Logger.Level("FINER",400);
goog.debug.Logger.Level.FINEST=new goog.debug.Logger.Level("FINEST",300);goog.debug.Logger.Level.ALL=new goog.debug.Logger.Level("ALL",0);goog.debug.Logger.Level.PREDEFINED_LEVELS=[goog.debug.Logger.Level.OFF,goog.debug.Logger.Level.SHOUT,goog.debug.Logger.Level.SEVERE,goog.debug.Logger.Level.WARNING,goog.debug.Logger.Level.INFO,goog.debug.Logger.Level.CONFIG,goog.debug.Logger.Level.FINE,goog.debug.Logger.Level.FINER,goog.debug.Logger.Level.FINEST,goog.debug.Logger.Level.ALL];
goog.debug.Logger.Level.predefinedLevelsCache_=null;goog.debug.Logger.Level.createPredefinedLevelsCache_=function(){goog.debug.Logger.Level.predefinedLevelsCache_={};for(var a=0,b;b=goog.debug.Logger.Level.PREDEFINED_LEVELS[a];a++)goog.debug.Logger.Level.predefinedLevelsCache_[b.value]=b,goog.debug.Logger.Level.predefinedLevelsCache_[b.name]=b};
goog.debug.Logger.Level.getPredefinedLevel=function(a){goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_();return goog.debug.Logger.Level.predefinedLevelsCache_[a]||null};
goog.debug.Logger.Level.getPredefinedLevelByValue=function(a){goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_();if(a in goog.debug.Logger.Level.predefinedLevelsCache_)return goog.debug.Logger.Level.predefinedLevelsCache_[a];for(var b=0;b<goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++b){var c=goog.debug.Logger.Level.PREDEFINED_LEVELS[b];if(c.value<=a)return c}return null};goog.debug.Logger.getLogger=function(a){return goog.debug.LogManager.getLogger(a)};
goog.debug.Logger.logToProfilers=function(a){if(goog.debug.Logger.ENABLE_PROFILER_LOGGING){var b=goog.global.msWriteProfilerMark;b?b(a):(b=goog.global.console)&&b.timeStamp&&b.timeStamp(a)}};goog.debug.Logger.prototype.getName=function(){return this.name_};
goog.debug.Logger.prototype.addHandler=function(a){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?(this.handlers_||(this.handlers_=[]),this.handlers_.push(a)):(goog.asserts.assert(!this.name_,"Cannot call addHandler on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootHandlers_.push(a)))};
goog.debug.Logger.prototype.removeHandler=function(a){if(goog.debug.LOGGING_ENABLED){var b=goog.debug.Logger.ENABLE_HIERARCHY?this.handlers_:goog.debug.Logger.rootHandlers_;return!!b&&goog.array.remove(b,a)}return!1};goog.debug.Logger.prototype.getParent=function(){return this.parent_};goog.debug.Logger.prototype.getChildren=function(){this.children_||(this.children_={});return this.children_};
goog.debug.Logger.prototype.setLevel=function(a){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?this.level_=a:(goog.asserts.assert(!this.name_,"Cannot call setLevel() on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootLevel_=a))};goog.debug.Logger.prototype.getLevel=function(){return goog.debug.LOGGING_ENABLED?this.level_:goog.debug.Logger.Level.OFF};
goog.debug.Logger.prototype.getEffectiveLevel=function(){if(!goog.debug.LOGGING_ENABLED)return goog.debug.Logger.Level.OFF;if(!goog.debug.Logger.ENABLE_HIERARCHY)return goog.debug.Logger.rootLevel_;if(this.level_)return this.level_;if(this.parent_)return this.parent_.getEffectiveLevel();goog.asserts.fail("Root logger has no level set.");return null};goog.debug.Logger.prototype.isLoggable=function(a){return goog.debug.LOGGING_ENABLED&&a.value>=this.getEffectiveLevel().value};
goog.debug.Logger.prototype.log=function(a,b,c){goog.debug.LOGGING_ENABLED&&this.isLoggable(a)&&(goog.isFunction(b)&&(b=b()),this.doLogRecord_(this.getLogRecord(a,b,c)))};goog.debug.Logger.prototype.getLogRecord=function(a,b,c){a=goog.debug.LogBuffer.isBufferingEnabled()?goog.debug.LogBuffer.getInstance().addRecord(a,b,this.name_):new goog.debug.LogRecord(a,String(b),this.name_);c&&a.setException(c);return a};
goog.debug.Logger.prototype.shout=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SHOUT,a,b)};goog.debug.Logger.prototype.severe=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SEVERE,a,b)};goog.debug.Logger.prototype.warning=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.WARNING,a,b)};goog.debug.Logger.prototype.info=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.INFO,a,b)};
goog.debug.Logger.prototype.config=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.CONFIG,a,b)};goog.debug.Logger.prototype.fine=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINE,a,b)};goog.debug.Logger.prototype.finer=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINER,a,b)};goog.debug.Logger.prototype.finest=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINEST,a,b)};
goog.debug.Logger.prototype.logRecord=function(a){goog.debug.LOGGING_ENABLED&&this.isLoggable(a.getLevel())&&this.doLogRecord_(a)};goog.debug.Logger.prototype.doLogRecord_=function(a){goog.debug.Logger.ENABLE_PROFILER_LOGGING&&goog.debug.Logger.logToProfilers("log:"+a.getMessage());if(goog.debug.Logger.ENABLE_HIERARCHY)for(var b=this;b;)b.callPublish_(a),b=b.getParent();else{b=0;for(var c;c=goog.debug.Logger.rootHandlers_[b++];)c(a)}};
goog.debug.Logger.prototype.callPublish_=function(a){if(this.handlers_)for(var b=0,c;c=this.handlers_[b];b++)c(a)};goog.debug.Logger.prototype.setParent_=function(a){this.parent_=a};goog.debug.Logger.prototype.addChild_=function(a,b){this.getChildren()[a]=b};goog.debug.LogManager={};goog.debug.LogManager.loggers_={};goog.debug.LogManager.rootLogger_=null;
goog.debug.LogManager.initialize=function(){goog.debug.LogManager.rootLogger_||(goog.debug.LogManager.rootLogger_=new goog.debug.Logger(goog.debug.Logger.ROOT_LOGGER_NAME),goog.debug.LogManager.loggers_[goog.debug.Logger.ROOT_LOGGER_NAME]=goog.debug.LogManager.rootLogger_,goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG))};goog.debug.LogManager.getLoggers=function(){return goog.debug.LogManager.loggers_};
goog.debug.LogManager.getRoot=function(){goog.debug.LogManager.initialize();return goog.debug.LogManager.rootLogger_};goog.debug.LogManager.getLogger=function(a){goog.debug.LogManager.initialize();return goog.debug.LogManager.loggers_[a]||goog.debug.LogManager.createLogger_(a)};goog.debug.LogManager.createFunctionForCatchErrors=function(a){return function(b){(a||goog.debug.LogManager.getRoot()).severe("Error: "+b.message+" ("+b.fileName+" @ Line: "+b.line+")")}};
goog.debug.LogManager.createLogger_=function(a){var b=new goog.debug.Logger(a);if(goog.debug.Logger.ENABLE_HIERARCHY){var c=a.lastIndexOf("."),d=a.substr(0,c);c=a.substr(c+1);d=goog.debug.LogManager.getLogger(d);d.addChild_(c,b);b.setParent_(d)}return goog.debug.LogManager.loggers_[a]=b};goog.log={};goog.log.ENABLED=goog.debug.LOGGING_ENABLED;goog.log.ROOT_LOGGER_NAME=goog.debug.Logger.ROOT_LOGGER_NAME;goog.log.Logger=goog.debug.Logger;goog.log.Level=goog.debug.Logger.Level;goog.log.LogRecord=goog.debug.LogRecord;goog.log.getLogger=function(a,b){return goog.log.ENABLED?(a=goog.debug.LogManager.getLogger(a),b&&a&&a.setLevel(b),a):null};goog.log.addHandler=function(a,b){goog.log.ENABLED&&a&&a.addHandler(b)};
goog.log.removeHandler=function(a,b){return goog.log.ENABLED&&a?a.removeHandler(b):!1};goog.log.log=function(a,b,c,d){goog.log.ENABLED&&a&&a.log(b,c,d)};goog.log.error=function(a,b,c){goog.log.ENABLED&&a&&a.severe(b,c)};goog.log.warning=function(a,b,c){goog.log.ENABLED&&a&&a.warning(b,c)};goog.log.info=function(a,b,c){goog.log.ENABLED&&a&&a.info(b,c)};goog.log.fine=function(a,b,c){goog.log.ENABLED&&a&&a.fine(b,c)};var ol={ASSUME_TOUCH:!1,DEFAULT_MAX_ZOOM:42,DEFAULT_MIN_ZOOM:0,DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD:.5,DEFAULT_TILE_SIZE:256,DEFAULT_WMS_VERSION:"1.3.0",ENABLE_CANVAS:!0,ENABLE_PROJ4JS:!0,ENABLE_RASTER_REPROJECTION:!0,ENABLE_WEBGL:!0,DEBUG_WEBGL:!0,INITIAL_ATLAS_SIZE:256,MAX_ATLAS_SIZE:-1,MOUSEWHEELZOOM_MAXDELTA:1,OVERVIEWMAP_MAX_RATIO:.75,OVERVIEWMAP_MIN_RATIO:.1,RASTER_REPROJECTION_MAX_SOURCE_TILES:100,RASTER_REPROJECTION_MAX_SUBDIVISION:10,RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH:.25,SIMPLIFY_TOLERANCE:.5,
WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK:1024,VERSION:"",inherits:function(a,b){a.prototype=Object.create(b.prototype);a.prototype.constructor=a},nullFunction:function(){},getUid:function(a){return a.ol_uid||(a.ol_uid=++ol.uidCounter_)},uidCounter_:0};ol.AssertionError=function(a){this.message="Assertion failed. See https://openlayers.org/en/"+(ol.VERSION?ol.VERSION.split("-")[0]:"latest")+"/doc/errors/#"+a+" for details.";this.code=a;this.name="AssertionError"};ol.inherits(ol.AssertionError,Error);ol.CollectionEventType={ADD:"add",REMOVE:"remove"};ol.ObjectEventType={PROPERTYCHANGE:"propertychange"};ol.obj={};ol.obj.assign="function"===typeof Object.assign?Object.assign:function(a,b){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1,e=arguments.length;d<e;++d){var f=arguments[d];if(void 0!==f&&null!==f)for(var g in f)f.hasOwnProperty(g)&&(c[g]=f[g])}return c};ol.obj.clear=function(a){for(var b in a)delete a[b]};ol.obj.getValues=function(a){var b=[],c;for(c in a)b.push(a[c]);return b};
ol.obj.isEmpty=function(a){for(var b in a)return!1;return!b};ol.events={};ol.events.bindListener_=function(a){var b=function(b){var c=a.listener,e=a.bindTo||a.target;a.callOnce&&ol.events.unlistenByKey(a);return c.call(e,b)};return a.boundListener=b};ol.events.findListener_=function(a,b,c,d){for(var e,f=0,g=a.length;f<g;++f)if(e=a[f],e.listener===b&&e.bindTo===c)return d&&(e.deleteIndex=f),e};ol.events.getListeners=function(a,b){return(a=a.ol_lm)?a[b]:void 0};ol.events.getListenerMap_=function(a){var b=a.ol_lm;b||(b=a.ol_lm={});return b};
ol.events.removeListeners_=function(a,b){var c=ol.events.getListeners(a,b);if(c){for(var d=0,e=c.length;d<e;++d)a.removeEventListener(b,c[d].boundListener),ol.obj.clear(c[d]);c.length=0;if(c=a.ol_lm)delete c[b],0===Object.keys(c).length&&delete a.ol_lm}};
ol.events.listen=function(a,b,c,d,e){var f=ol.events.getListenerMap_(a),g=f[b];g||(g=f[b]=[]);(f=ol.events.findListener_(g,c,d,!1))?e||(f.callOnce=!1):(f={bindTo:d,callOnce:!!e,listener:c,target:a,type:b},a.addEventListener(b,ol.events.bindListener_(f)),g.push(f));return f};ol.events.listenOnce=function(a,b,c,d){return ol.events.listen(a,b,c,d,!0)};ol.events.unlisten=function(a,b,c,d){(a=ol.events.getListeners(a,b))&&(c=ol.events.findListener_(a,c,d,!0))&&ol.events.unlistenByKey(c)};
ol.events.unlistenByKey=function(a){if(a&&a.target){a.target.removeEventListener(a.type,a.boundListener);var b=ol.events.getListeners(a.target,a.type);if(b){var c="deleteIndex"in a?a.deleteIndex:b.indexOf(a);-1!==c&&b.splice(c,1);0===b.length&&ol.events.removeListeners_(a.target,a.type)}ol.obj.clear(a)}};ol.events.unlistenAll=function(a){var b=ol.events.getListenerMap_(a),c;for(c in b)ol.events.removeListeners_(a,c)};ol.Disposable=function(){};ol.Disposable.prototype.disposed_=!1;ol.Disposable.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())};ol.Disposable.prototype.disposeInternal=ol.nullFunction;ol.events.Event=function(a){this.type=a;this.target=null};ol.events.Event.prototype.preventDefault=ol.events.Event.prototype.stopPropagation=function(){this.propagationStopped=!0};ol.events.Event.stopPropagation=function(a){a.stopPropagation()};ol.events.Event.preventDefault=function(a){a.preventDefault()};ol.events.EventTarget=function(){ol.Disposable.call(this);this.pendingRemovals_={};this.dispatching_={};this.listeners_={}};ol.inherits(ol.events.EventTarget,ol.Disposable);ol.events.EventTarget.prototype.addEventListener=function(a,b){var c=this.listeners_[a];c||(c=this.listeners_[a]=[]);-1===c.indexOf(b)&&c.push(b)};
ol.events.EventTarget.prototype.dispatchEvent=function(a){var b="string"===typeof a?new ol.events.Event(a):a;a=b.type;b.target=this;var c=this.listeners_[a];if(c){a in this.dispatching_||(this.dispatching_[a]=0,this.pendingRemovals_[a]=0);++this.dispatching_[a];for(var d=0,e=c.length;d<e;++d)if(!1===c[d].call(this,b)||b.propagationStopped){var f=!1;break}--this.dispatching_[a];if(0===this.dispatching_[a]){b=this.pendingRemovals_[a];for(delete this.pendingRemovals_[a];b--;)this.removeEventListener(a,
ol.nullFunction);delete this.dispatching_[a]}return f}};ol.events.EventTarget.prototype.disposeInternal=function(){ol.events.unlistenAll(this)};ol.events.EventTarget.prototype.getListeners=function(a){return this.listeners_[a]};ol.events.EventTarget.prototype.hasListener=function(a){return a?a in this.listeners_:0<Object.keys(this.listeners_).length};
ol.events.EventTarget.prototype.removeEventListener=function(a,b){var c=this.listeners_[a];c&&(b=c.indexOf(b),a in this.pendingRemovals_?(c[b]=ol.nullFunction,++this.pendingRemovals_[a]):(c.splice(b,1),0===c.length&&delete this.listeners_[a]))};ol.events.EventType={CHANGE:"change",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"};ol.Observable=function(){ol.events.EventTarget.call(this);this.revision_=0};ol.inherits(ol.Observable,ol.events.EventTarget);ol.Observable.unByKey=function(a){if(Array.isArray(a))for(var b=0,c=a.length;b<c;++b)ol.events.unlistenByKey(a[b]);else ol.events.unlistenByKey(a)};ol.Observable.prototype.changed=function(){++this.revision_;this.dispatchEvent(ol.events.EventType.CHANGE)};ol.Observable.prototype.getRevision=function(){return this.revision_};
ol.Observable.prototype.on=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=ol.events.listen(this,a[f],b,c);return e}return ol.events.listen(this,a,b,c)};ol.Observable.prototype.once=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=ol.events.listenOnce(this,a[f],b,c);return e}return ol.events.listenOnce(this,a,b,c)};
ol.Observable.prototype.un=function(a,b,c){if(Array.isArray(a))for(var d=0,e=a.length;d<e;++d)ol.events.unlisten(this,a[d],b,c);else ol.events.unlisten(this,a,b,c)};ol.Object=function(a){ol.Observable.call(this);ol.getUid(this);this.values_={};void 0!==a&&this.setProperties(a)};ol.inherits(ol.Object,ol.Observable);ol.Object.changeEventTypeCache_={};ol.Object.getChangeEventType=function(a){return ol.Object.changeEventTypeCache_.hasOwnProperty(a)?ol.Object.changeEventTypeCache_[a]:ol.Object.changeEventTypeCache_[a]="change:"+a};ol.Object.prototype.get=function(a){var b;this.values_.hasOwnProperty(a)&&(b=this.values_[a]);return b};ol.Object.prototype.getKeys=function(){return Object.keys(this.values_)};
ol.Object.prototype.getProperties=function(){return ol.obj.assign({},this.values_)};ol.Object.prototype.notify=function(a,b){var c=ol.Object.getChangeEventType(a);this.dispatchEvent(new ol.Object.Event(c,a,b));c=ol.ObjectEventType.PROPERTYCHANGE;this.dispatchEvent(new ol.Object.Event(c,a,b))};ol.Object.prototype.set=function(a,b,c){c?this.values_[a]=b:(c=this.values_[a],this.values_[a]=b,c!==b&&this.notify(a,c))};ol.Object.prototype.setProperties=function(a,b){for(var c in a)this.set(c,a[c],b)};
ol.Object.prototype.unset=function(a,b){if(a in this.values_){var c=this.values_[a];delete this.values_[a];b||this.notify(a,c)}};ol.Object.Event=function(a,b,c){ol.events.Event.call(this,a);this.key=b;this.oldValue=c};ol.inherits(ol.Object.Event,ol.events.Event);ol.Collection=function(a,b){ol.Object.call(this);this.unique_=!!(b||{}).unique;this.array_=a?a:[];if(this.unique_)for(a=0,b=this.array_.length;a<b;++a)this.assertUnique_(this.array_[a],a);this.updateLength_()};ol.inherits(ol.Collection,ol.Object);ol.Collection.prototype.clear=function(){for(;0<this.getLength();)this.pop()};ol.Collection.prototype.extend=function(a){var b;var c=0;for(b=a.length;c<b;++c)this.push(a[c]);return this};
ol.Collection.prototype.forEach=function(a,b){a=b?a.bind(b):a;b=this.array_;for(var c=0,d=b.length;c<d;++c)a(b[c],c,b)};ol.Collection.prototype.getArray=function(){return this.array_};ol.Collection.prototype.item=function(a){return this.array_[a]};ol.Collection.prototype.getLength=function(){return this.get(ol.Collection.Property_.LENGTH)};
ol.Collection.prototype.insertAt=function(a,b){this.unique_&&this.assertUnique_(b);this.array_.splice(a,0,b);this.updateLength_();this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.ADD,b))};ol.Collection.prototype.pop=function(){return this.removeAt(this.getLength()-1)};ol.Collection.prototype.push=function(a){this.unique_&&this.assertUnique_(a);var b=this.getLength();this.insertAt(b,a);return this.getLength()};
ol.Collection.prototype.remove=function(a){var b=this.array_,c;var d=0;for(c=b.length;d<c;++d)if(b[d]===a)return this.removeAt(d)};ol.Collection.prototype.removeAt=function(a){var b=this.array_[a];this.array_.splice(a,1);this.updateLength_();this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.REMOVE,b));return b};
ol.Collection.prototype.setAt=function(a,b){var c=this.getLength();if(a<c)this.unique_&&this.assertUnique_(b,a),c=this.array_[a],this.array_[a]=b,this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.REMOVE,c)),this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.ADD,b));else{for(;c<a;++c)this.insertAt(c,void 0);this.insertAt(a,b)}};ol.Collection.prototype.updateLength_=function(){this.set(ol.Collection.Property_.LENGTH,this.array_.length)};
ol.Collection.prototype.assertUnique_=function(a,b){for(var c=0,d=this.array_.length;c<d;++c)if(this.array_[c]===a&&c!==b)throw new ol.AssertionError(58);};ol.Collection.Property_={LENGTH:"length"};ol.Collection.Event=function(a,b){ol.events.Event.call(this,a);this.element=b};ol.inherits(ol.Collection.Event,ol.events.Event);ol.asserts={};ol.asserts.assert=function(a,b){if(!a)throw new ol.AssertionError(b);};ol.extent={};ol.extent.Corner={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};ol.extent.Relationship={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};ol.extent.boundingExtent=function(a){for(var b=ol.extent.createEmpty(),c=0,d=a.length;c<d;++c)ol.extent.extendCoordinate(b,a[c]);return b};ol.extent.boundingExtentXYs_=function(a,b,c){var d=Math.min.apply(null,a),e=Math.min.apply(null,b);a=Math.max.apply(null,a);b=Math.max.apply(null,b);return ol.extent.createOrUpdate(d,e,a,b,c)};ol.extent.buffer=function(a,b,c){return c?(c[0]=a[0]-b,c[1]=a[1]-b,c[2]=a[2]+b,c[3]=a[3]+b,c):[a[0]-b,a[1]-b,a[2]+b,a[3]+b]};
ol.extent.clone=function(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a.slice()};ol.extent.closestSquaredDistanceXY=function(a,b,c){b=b<a[0]?a[0]-b:a[2]<b?b-a[2]:0;a=c<a[1]?a[1]-c:a[3]<c?c-a[3]:0;return b*b+a*a};ol.extent.containsCoordinate=function(a,b){return ol.extent.containsXY(a,b[0],b[1])};ol.extent.containsExtent=function(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]};ol.extent.containsXY=function(a,b,c){return a[0]<=b&&b<=a[2]&&a[1]<=c&&c<=a[3]};
ol.extent.coordinateRelationship=function(a,b){var c=a[1],d=a[2],e=a[3],f=b[0];b=b[1];var g=ol.extent.Relationship.UNKNOWN;f<a[0]?g|=ol.extent.Relationship.LEFT:f>d&&(g|=ol.extent.Relationship.RIGHT);b<c?g|=ol.extent.Relationship.BELOW:b>e&&(g|=ol.extent.Relationship.ABOVE);g===ol.extent.Relationship.UNKNOWN&&(g=ol.extent.Relationship.INTERSECTING);return g};ol.extent.createEmpty=function(){return[Infinity,Infinity,-Infinity,-Infinity]};
ol.extent.createOrUpdate=function(a,b,c,d,e){return e?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]};ol.extent.createOrUpdateEmpty=function(a){return ol.extent.createOrUpdate(Infinity,Infinity,-Infinity,-Infinity,a)};ol.extent.createOrUpdateFromCoordinate=function(a,b){var c=a[0];a=a[1];return ol.extent.createOrUpdate(c,a,c,a,b)};ol.extent.createOrUpdateFromCoordinates=function(a,b){b=ol.extent.createOrUpdateEmpty(b);return ol.extent.extendCoordinates(b,a)};
ol.extent.createOrUpdateFromFlatCoordinates=function(a,b,c,d,e){e=ol.extent.createOrUpdateEmpty(e);return ol.extent.extendFlatCoordinates(e,a,b,c,d)};ol.extent.createOrUpdateFromRings=function(a,b){b=ol.extent.createOrUpdateEmpty(b);return ol.extent.extendRings(b,a)};ol.extent.equals=function(a,b){return a[0]==b[0]&&a[2]==b[2]&&a[1]==b[1]&&a[3]==b[3]};ol.extent.extend=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[2]>a[2]&&(a[2]=b[2]);b[1]<a[1]&&(a[1]=b[1]);b[3]>a[3]&&(a[3]=b[3]);return a};
ol.extent.extendCoordinate=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};ol.extent.extendCoordinates=function(a,b){var c;var d=0;for(c=b.length;d<c;++d)ol.extent.extendCoordinate(a,b[d]);return a};ol.extent.extendFlatCoordinates=function(a,b,c,d,e){for(;c<d;c+=e)ol.extent.extendXY(a,b[c],b[c+1]);return a};ol.extent.extendRings=function(a,b){var c;var d=0;for(c=b.length;d<c;++d)ol.extent.extendCoordinates(a,b[d]);return a};
ol.extent.extendXY=function(a,b,c){a[0]=Math.min(a[0],b);a[1]=Math.min(a[1],c);a[2]=Math.max(a[2],b);a[3]=Math.max(a[3],c)};ol.extent.forEachCorner=function(a,b,c){var d;return(d=b.call(c,ol.extent.getBottomLeft(a)))||(d=b.call(c,ol.extent.getBottomRight(a)))||(d=b.call(c,ol.extent.getTopRight(a)))?d:(d=b.call(c,ol.extent.getTopLeft(a)))?d:!1};ol.extent.getArea=function(a){var b=0;ol.extent.isEmpty(a)||(b=ol.extent.getWidth(a)*ol.extent.getHeight(a));return b};
ol.extent.getBottomLeft=function(a){return[a[0],a[1]]};ol.extent.getBottomRight=function(a){return[a[2],a[1]]};ol.extent.getCenter=function(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]};ol.extent.getCorner=function(a,b){var c;b===ol.extent.Corner.BOTTOM_LEFT?c=ol.extent.getBottomLeft(a):b===ol.extent.Corner.BOTTOM_RIGHT?c=ol.extent.getBottomRight(a):b===ol.extent.Corner.TOP_LEFT?c=ol.extent.getTopLeft(a):b===ol.extent.Corner.TOP_RIGHT?c=ol.extent.getTopRight(a):ol.asserts.assert(!1,13);return c};
ol.extent.getEnlargedArea=function(a,b){return(Math.max(a[2],b[2])-Math.min(a[0],b[0]))*(Math.max(a[3],b[3])-Math.min(a[1],b[1]))};ol.extent.getForViewAndSize=function(a,b,c,d,e){var f=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);var g=Math.sin(c);c=f*b;f*=g;b*=d;var h=d*g,k=a[0],l=a[1];a=k-c+h;d=k-c-h;g=k+c-h;c=k+c+h;h=l-f-b;k=l-f+b;var m=l+f+b;f=l+f-b;return ol.extent.createOrUpdate(Math.min(a,d,g,c),Math.min(h,k,m,f),Math.max(a,d,g,c),Math.max(h,k,m,f),e)};ol.extent.getHeight=function(a){return a[3]-a[1]};
ol.extent.getIntersectionArea=function(a,b){a=ol.extent.getIntersection(a,b);return ol.extent.getArea(a)};ol.extent.getIntersection=function(a,b,c){c=c?c:ol.extent.createEmpty();ol.extent.intersects(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c};ol.extent.getMargin=function(a){return ol.extent.getWidth(a)+ol.extent.getHeight(a)};ol.extent.getSize=function(a){return[a[2]-a[0],a[3]-a[1]]};
ol.extent.getTopLeft=function(a){return[a[0],a[3]]};ol.extent.getTopRight=function(a){return[a[2],a[3]]};ol.extent.getWidth=function(a){return a[2]-a[0]};ol.extent.intersects=function(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]};ol.extent.isEmpty=function(a){return a[2]<a[0]||a[3]<a[1]};ol.extent.returnOrUpdate=function(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a};
ol.extent.scaleFromCenter=function(a,b){var c=(a[2]-a[0])/2*(b-1);b=(a[3]-a[1])/2*(b-1);a[0]-=c;a[2]+=c;a[1]-=b;a[3]+=b};
ol.extent.intersectsSegment=function(a,b,c){var d=!1,e=ol.extent.coordinateRelationship(a,b),f=ol.extent.coordinateRelationship(a,c);if(e===ol.extent.Relationship.INTERSECTING||f===ol.extent.Relationship.INTERSECTING)d=!0;else{var g=a[0],h=a[1],k=a[2];a=a[3];var l=c[0];c=c[1];b=(c-b[1])/(l-b[0]);f&ol.extent.Relationship.ABOVE&&!(e&ol.extent.Relationship.ABOVE)&&(d=l-(c-a)/b,d=d>=g&&d<=k);d||!(f&ol.extent.Relationship.RIGHT)||e&ol.extent.Relationship.RIGHT||(d=c-(l-k)*b,d=d>=h&&d<=a);d||!(f&ol.extent.Relationship.BELOW)||
e&ol.extent.Relationship.BELOW||(d=l-(c-h)/b,d=d>=g&&d<=k);d||!(f&ol.extent.Relationship.LEFT)||e&ol.extent.Relationship.LEFT||(d=c-(l-g)*b,d=d>=h&&d<=a)}return d};ol.extent.applyTransform=function(a,b,c){a=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(a,a,2);return ol.extent.boundingExtentXYs_([a[0],a[2],a[4],a[6]],[a[1],a[3],a[5],a[7]],c)};ol.functions={};ol.functions.TRUE=function(){return!0};ol.functions.FALSE=function(){return!1};ol.geom={};ol.geom.flat={};ol.geom.flat.transform={};ol.geom.flat.transform.transform2D=function(a,b,c,d,e,f){for(var g=f?f:[],h=0;b<c;b+=d){var k=a[b],l=a[b+1];g[h++]=e[0]*k+e[2]*l+e[4];g[h++]=e[1]*k+e[3]*l+e[5]}f&&g.length!=h&&(g.length=h);return g};
ol.geom.flat.transform.rotate=function(a,b,c,d,e,f,g){var h=g?g:[],k=Math.cos(e);e=Math.sin(e);var l=f[0];f=f[1];for(var m=0;b<c;b+=d){var n=a[b]-l,p=a[b+1]-f;h[m++]=l+n*k-p*e;h[m++]=f+n*e+p*k;for(n=b+2;n<b+d;++n)h[m++]=a[n]}g&&h.length!=m&&(h.length=m);return h};ol.geom.flat.transform.scale=function(a,b,c,d,e,f,g,h){var k=h?h:[],l=g[0];g=g[1];for(var m=0;b<c;b+=d){var n=a[b]-l,p=a[b+1]-g;k[m++]=l+e*n;k[m++]=g+f*p;for(n=b+2;n<b+d;++n)k[m++]=a[n]}h&&k.length!=m&&(k.length=m);return k};
ol.geom.flat.transform.translate=function(a,b,c,d,e,f,g){for(var h=g?g:[],k=0,l;b<c;b+=d)for(h[k++]=a[b]+e,h[k++]=a[b+1]+f,l=b+2;l<b+d;++l)h[k++]=a[l];g&&h.length!=k&&(h.length=k);return h};ol.math={};ol.math.clamp=function(a,b,c){return Math.min(Math.max(a,b),c)};ol.math.cosh=function(){return"cosh"in Math?Math.cosh:function(a){a=Math.exp(a);return(a+1/a)/2}}();ol.math.roundUpToPowerOfTwo=function(a){ol.asserts.assert(0<a,29);return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))};ol.math.squaredSegmentDistance=function(a,b,c,d,e,f){var g=e-c,h=f-d;if(0!==g||0!==h){var k=((a-c)*g+(b-d)*h)/(g*g+h*h);1<k?(c=e,d=f):0<k&&(c+=g*k,d+=h*k)}return ol.math.squaredDistance(a,b,c,d)};
ol.math.squaredDistance=function(a,b,c,d){a=c-a;b=d-b;return a*a+b*b};ol.math.solveLinearSystem=function(a){for(var b=a.length,c=0;c<b;c++){for(var d=c,e=Math.abs(a[c][c]),f=c+1;f<b;f++){var g=Math.abs(a[f][c]);g>e&&(e=g,d=f)}if(0===e)return null;e=a[d];a[d]=a[c];a[c]=e;for(d=c+1;d<b;d++)for(e=-a[d][c]/a[c][c],f=c;f<b+1;f++)a[d][f]=c==f?0:a[d][f]+e*a[c][f]}c=Array(b);for(d=b-1;0<=d;d--)for(c[d]=a[d][b]/a[d][d],e=d-1;0<=e;e--)a[e][b]-=a[e][d]*c[d];return c};
ol.math.toDegrees=function(a){return 180*a/Math.PI};ol.math.toRadians=function(a){return a*Math.PI/180};ol.math.modulo=function(a,b){a%=b;return 0>a*b?a+b:a};ol.math.lerp=function(a,b,c){return a+c*(b-a)};ol.geom.GeometryType={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licensed under CC-BY-3.0.
*/
ol.Sphere=function(a){this.radius=a};ol.Sphere.prototype.geodesicArea=function(a){return ol.Sphere.getArea_(a,this.radius)};ol.Sphere.prototype.haversineDistance=function(a,b){return ol.Sphere.getDistance_(a,b,this.radius)};
ol.Sphere.prototype.offset=function(a,b,c){var d=ol.math.toRadians(a[1]);a=ol.math.toRadians(a[0]);b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[ol.math.toDegrees(a+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e))),ol.math.toDegrees(e)]};ol.Sphere.DEFAULT_RADIUS=6371008.8;
ol.Sphere.getLength=function(a,b){var c=b||{},d=c.radius||ol.Sphere.DEFAULT_RADIUS;c=c.projection||"EPSG:3857";a=a.clone().transform(c,"EPSG:4326");var e=a.getType();c=0;var f;switch(e){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:break;case ol.geom.GeometryType.LINE_STRING:case ol.geom.GeometryType.LINEAR_RING:b=a.getCoordinates();c=ol.Sphere.getLength_(b,d);break;case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.POLYGON:b=a.getCoordinates();a=0;for(e=
b.length;a<e;++a)c+=ol.Sphere.getLength_(b[a],d);break;case ol.geom.GeometryType.MULTI_POLYGON:b=a.getCoordinates();a=0;for(e=b.length;a<e;++a){var g=b[a];var h=0;for(f=g.length;h<f;++h)c+=ol.Sphere.getLength_(g[h],d)}break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:d=a.getGeometries();a=0;for(e=d.length;a<e;++a)c+=ol.Sphere.getLength(d[a],b);break;default:throw Error("Unsupported geometry type: "+e);}return c};
ol.Sphere.getLength_=function(a,b){for(var c=0,d=0,e=a.length;d<e-1;++d)c+=ol.Sphere.getDistance_(a[d],a[d+1],b);return c};ol.Sphere.getDistance_=function(a,b,c){var d=ol.math.toRadians(a[1]),e=ol.math.toRadians(b[1]),f=(e-d)/2;a=ol.math.toRadians(b[0]-a[0])/2;d=Math.sin(f)*Math.sin(f)+Math.sin(a)*Math.sin(a)*Math.cos(d)*Math.cos(e);return 2*c*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))};
ol.Sphere.getArea=function(a,b){var c=b||{},d=c.radius||ol.Sphere.DEFAULT_RADIUS;c=c.projection||"EPSG:3857";a=a.clone().transform(c,"EPSG:4326");var e=a.getType();c=0;var f;switch(e){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:case ol.geom.GeometryType.LINE_STRING:case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.LINEAR_RING:break;case ol.geom.GeometryType.POLYGON:b=a.getCoordinates();c=Math.abs(ol.Sphere.getArea_(b[0],d));a=1;for(e=b.length;a<e;++a)c-=
Math.abs(ol.Sphere.getArea_(b[a],d));break;case ol.geom.GeometryType.MULTI_POLYGON:b=a.getCoordinates();a=0;for(e=b.length;a<e;++a){var g=b[a];c+=Math.abs(ol.Sphere.getArea_(g[0],d));var h=1;for(f=g.length;h<f;++h)c-=Math.abs(ol.Sphere.getArea_(g[h],d))}break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:d=a.getGeometries();a=0;for(e=d.length;a<e;++a)c+=ol.Sphere.getArea(d[a],b);break;default:throw Error("Unsupported geometry type: "+e);}return c};
ol.Sphere.getArea_=function(a,b){for(var c=0,d=a.length,e=a[d-1][0],f=a[d-1][1],g=0;g<d;g++){var h=a[g][0],k=a[g][1];c+=ol.math.toRadians(h-e)*(2+Math.sin(ol.math.toRadians(f))+Math.sin(ol.math.toRadians(k)));e=h;f=k}return c*b*b/2};ol.proj={};ol.proj.Units={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};ol.proj.Units.METERS_PER_UNIT={};ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.DEGREES]=12741994*Math.PI/360;ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.FEET]=.3048;ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.METERS]=1;ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.USFEET]=1200/3937;ol.proj.proj4={};ol.proj.proj4.cache_=null;ol.proj.proj4.set=function(a){ol.proj.proj4.cache_=a};ol.proj.proj4.get=function(){return ol.proj.proj4.cache_||window.proj4};ol.proj.Projection=function(a){this.code_=a.code;this.units_=a.units;this.extent_=void 0!==a.extent?a.extent:null;this.worldExtent_=void 0!==a.worldExtent?a.worldExtent:null;this.axisOrientation_=void 0!==a.axisOrientation?a.axisOrientation:"enu";this.global_=void 0!==a.global?a.global:!1;this.canWrapX_=!(!this.global_||!this.extent_);this.getPointResolutionFunc_=a.getPointResolution;this.defaultTileGrid_=null;this.metersPerUnit_=a.metersPerUnit;var b=a.code;if(ol.ENABLE_PROJ4JS){var c=ol.proj.proj4.get();
"function"==typeof c&&(b=c.defs(b),void 0!==b&&(void 0!==b.axis&&void 0===a.axisOrientation&&(this.axisOrientation_=b.axis),void 0===a.metersPerUnit&&(this.metersPerUnit_=b.to_meter),void 0===a.units&&(this.units_=b.units)))}};ol.proj.Projection.prototype.canWrapX=function(){return this.canWrapX_};ol.proj.Projection.prototype.getCode=function(){return this.code_};ol.proj.Projection.prototype.getExtent=function(){return this.extent_};ol.proj.Projection.prototype.getUnits=function(){return this.units_};
ol.proj.Projection.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||ol.proj.Units.METERS_PER_UNIT[this.units_]};ol.proj.Projection.prototype.getWorldExtent=function(){return this.worldExtent_};ol.proj.Projection.prototype.getAxisOrientation=function(){return this.axisOrientation_};ol.proj.Projection.prototype.isGlobal=function(){return this.global_};ol.proj.Projection.prototype.setGlobal=function(a){this.global_=a;this.canWrapX_=!(!a||!this.extent_)};
ol.proj.Projection.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_};ol.proj.Projection.prototype.setDefaultTileGrid=function(a){this.defaultTileGrid_=a};ol.proj.Projection.prototype.setExtent=function(a){this.extent_=a;this.canWrapX_=!(!this.global_||!a)};ol.proj.Projection.prototype.setWorldExtent=function(a){this.worldExtent_=a};ol.proj.Projection.prototype.setGetPointResolution=function(a){this.getPointResolutionFunc_=a};
ol.proj.Projection.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};ol.proj.EPSG3857={};ol.proj.EPSG3857.Projection_=function(a){ol.proj.Projection.call(this,{code:a,units:ol.proj.Units.METERS,extent:ol.proj.EPSG3857.EXTENT,global:!0,worldExtent:ol.proj.EPSG3857.WORLD_EXTENT,getPointResolution:function(a,c){return a/ol.math.cosh(c[1]/ol.proj.EPSG3857.RADIUS)}})};ol.inherits(ol.proj.EPSG3857.Projection_,ol.proj.Projection);ol.proj.EPSG3857.RADIUS=6378137;ol.proj.EPSG3857.HALF_SIZE=Math.PI*ol.proj.EPSG3857.RADIUS;
ol.proj.EPSG3857.EXTENT=[-ol.proj.EPSG3857.HALF_SIZE,-ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE];ol.proj.EPSG3857.WORLD_EXTENT=[-180,-85,180,85];
ol.proj.EPSG3857.PROJECTIONS=[new ol.proj.EPSG3857.Projection_("EPSG:3857"),new ol.proj.EPSG3857.Projection_("EPSG:102100"),new ol.proj.EPSG3857.Projection_("EPSG:102113"),new ol.proj.EPSG3857.Projection_("EPSG:900913"),new ol.proj.EPSG3857.Projection_("urn:ogc:def:crs:EPSG:6.18:3:3857"),new ol.proj.EPSG3857.Projection_("urn:ogc:def:crs:EPSG::3857"),new ol.proj.EPSG3857.Projection_("http://www.opengis.net/gml/srs/epsg.xml#3857")];
ol.proj.EPSG3857.fromEPSG4326=function(a,b,c){var d=a.length;c=1<c?c:2;void 0===b&&(b=2<c?a.slice():Array(d));for(var e=ol.proj.EPSG3857.HALF_SIZE,f=0;f<d;f+=c){b[f]=e*a[f]/180;var g=ol.proj.EPSG3857.RADIUS*Math.log(Math.tan(Math.PI*(a[f+1]+90)/360));g>e?g=e:g<-e&&(g=-e);b[f+1]=g}return b};
ol.proj.EPSG3857.toEPSG4326=function(a,b,c){var d=a.length;c=1<c?c:2;void 0===b&&(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/ol.proj.EPSG3857.HALF_SIZE,b[e+1]=360*Math.atan(Math.exp(a[e+1]/ol.proj.EPSG3857.RADIUS))/Math.PI-90;return b};ol.proj.EPSG4326={};ol.proj.EPSG4326.Projection_=function(a,b){ol.proj.Projection.call(this,{code:a,units:ol.proj.Units.DEGREES,extent:ol.proj.EPSG4326.EXTENT,axisOrientation:b,global:!0,metersPerUnit:ol.proj.EPSG4326.METERS_PER_UNIT,worldExtent:ol.proj.EPSG4326.EXTENT})};ol.inherits(ol.proj.EPSG4326.Projection_,ol.proj.Projection);ol.proj.EPSG4326.RADIUS=6378137;ol.proj.EPSG4326.EXTENT=[-180,-90,180,90];ol.proj.EPSG4326.METERS_PER_UNIT=Math.PI*ol.proj.EPSG4326.RADIUS/180;
ol.proj.EPSG4326.PROJECTIONS=[new ol.proj.EPSG4326.Projection_("CRS:84"),new ol.proj.EPSG4326.Projection_("EPSG:4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:EPSG::4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:OGC:1.3:CRS84"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:OGC:2:84"),new ol.proj.EPSG4326.Projection_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ol.proj.EPSG4326.Projection_("urn:x-ogc:def:crs:EPSG:4326",
"neu")];ol.proj.projections={};ol.proj.projections.cache_={};ol.proj.projections.clear=function(){ol.proj.projections.cache_={}};ol.proj.projections.get=function(a){return ol.proj.projections.cache_[a]||null};ol.proj.projections.add=function(a,b){ol.proj.projections.cache_[a]=b};ol.proj.transforms={};ol.proj.transforms.cache_={};ol.proj.transforms.clear=function(){ol.proj.transforms.cache_={}};ol.proj.transforms.add=function(a,b,c){a=a.getCode();b=b.getCode();var d=ol.proj.transforms.cache_;a in d||(d[a]={});d[a][b]=c};ol.proj.transforms.remove=function(a,b){a=a.getCode();b=b.getCode();var c=ol.proj.transforms.cache_,d=c[a][b];delete c[a][b];ol.obj.isEmpty(c[a])&&delete c[a];return d};
ol.proj.transforms.get=function(a,b){var c,d=ol.proj.transforms.cache_;a in d&&b in d[a]&&(c=d[a][b]);return c};ol.proj.METERS_PER_UNIT=ol.proj.Units.METERS_PER_UNIT;ol.proj.SPHERE_=new ol.Sphere(ol.Sphere.DEFAULT_RADIUS);ol.ENABLE_PROJ4JS&&(ol.proj.setProj4=function(a){ol.proj.proj4.set(a)});
ol.proj.getPointResolution=function(a,b,c,d){a=ol.proj.get(a);var e=a.getPointResolutionFunc();e?b=e(b,c):a.getUnits()==ol.proj.Units.DEGREES&&!d||d==ol.proj.Units.DEGREES||(e=ol.proj.getTransformFromProjections(a,ol.proj.get("EPSG:4326")),b=[c[0]-b/2,c[1],c[0]+b/2,c[1],c[0],c[1]-b/2,c[0],c[1]+b/2],b=e(b,b,2),c=ol.proj.SPHERE_.haversineDistance(b.slice(0,2),b.slice(2,4)),b=ol.proj.SPHERE_.haversineDistance(b.slice(4,6),b.slice(6,8)),b=(c+b)/2,a=d?ol.proj.Units.METERS_PER_UNIT[d]:a.getMetersPerUnit(),
void 0!==a&&(b/=a));return b};ol.proj.addEquivalentProjections=function(a){ol.proj.addProjections(a);a.forEach(function(b){a.forEach(function(a){b!==a&&ol.proj.transforms.add(b,a,ol.proj.cloneTransform)})})};ol.proj.addEquivalentTransforms=function(a,b,c,d){a.forEach(function(a){b.forEach(function(b){ol.proj.transforms.add(a,b,c);ol.proj.transforms.add(b,a,d)})})};ol.proj.addProjection=function(a){ol.proj.projections.add(a.getCode(),a);ol.proj.transforms.add(a,a,ol.proj.cloneTransform)};
ol.proj.addProjections=function(a){a.forEach(ol.proj.addProjection)};ol.proj.clearAllProjections=function(){ol.proj.projections.clear();ol.proj.transforms.clear()};ol.proj.createProjection=function(a,b){return a?"string"===typeof a?ol.proj.get(a):a:ol.proj.get(b)};ol.proj.addCoordinateTransforms=function(a,b,c,d){a=ol.proj.get(a);b=ol.proj.get(b);ol.proj.transforms.add(a,b,ol.proj.createTransformFromCoordinateTransform(c));ol.proj.transforms.add(b,a,ol.proj.createTransformFromCoordinateTransform(d))};
ol.proj.createTransformFromCoordinateTransform=function(a){return function(b,c,d){var e=b.length;d=void 0!==d?d:2;c=void 0!==c?c:Array(e);var f;for(f=0;f<e;f+=d){var g=a([b[f],b[f+1]]);c[f]=g[0];c[f+1]=g[1];for(g=d-1;2<=g;--g)c[f+g]=b[f+g]}return c}};ol.proj.fromLonLat=function(a,b){return ol.proj.transform(a,"EPSG:4326",void 0!==b?b:"EPSG:3857")};ol.proj.toLonLat=function(a,b){return ol.proj.transform(a,void 0!==b?b:"EPSG:3857","EPSG:4326")};
ol.proj.get=function(a){var b=null;if(a instanceof ol.proj.Projection)b=a;else if("string"===typeof a&&(b=ol.proj.projections.get(a),ol.ENABLE_PROJ4JS&&!b)){var c=ol.proj.proj4.get();"function"==typeof c&&void 0!==c.defs(a)&&(b=new ol.proj.Projection({code:a}),ol.proj.addProjection(b))}return b};ol.proj.equivalent=function(a,b){if(a===b)return!0;var c=a.getUnits()===b.getUnits();return a.getCode()===b.getCode()?c:ol.proj.getTransformFromProjections(a,b)===ol.proj.cloneTransform&&c};
ol.proj.getTransform=function(a,b){a=ol.proj.get(a);b=ol.proj.get(b);return ol.proj.getTransformFromProjections(a,b)};
ol.proj.getTransformFromProjections=function(a,b){var c=a.getCode(),d=b.getCode(),e=ol.proj.transforms.get(c,d);if(ol.ENABLE_PROJ4JS&&!e){var f=ol.proj.proj4.get();if("function"==typeof f){var g=f.defs(c),h=f.defs(d);void 0!==g&&void 0!==h&&(g===h?ol.proj.addEquivalentProjections([b,a]):(e=f(d,c),ol.proj.addCoordinateTransforms(b,a,e.forward,e.inverse)),e=ol.proj.transforms.get(c,d))}}e||(e=ol.proj.identityTransform);return e};
ol.proj.identityTransform=function(a,b,c){if(void 0!==b&&a!==b){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];a=b}return a};ol.proj.cloneTransform=function(a,b,c){if(void 0!==b){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];a=b}else a=a.slice();return a};ol.proj.transform=function(a,b,c){return ol.proj.getTransform(b,c)(a,void 0,a.length)};ol.proj.transformExtent=function(a,b,c){b=ol.proj.getTransform(b,c);return ol.extent.applyTransform(a,b)};
ol.proj.transformWithProjections=function(a,b,c){return ol.proj.getTransformFromProjections(b,c)(a)};ol.proj.addCommon=function(){ol.proj.addEquivalentProjections(ol.proj.EPSG3857.PROJECTIONS);ol.proj.addEquivalentProjections(ol.proj.EPSG4326.PROJECTIONS);ol.proj.addEquivalentTransforms(ol.proj.EPSG4326.PROJECTIONS,ol.proj.EPSG3857.PROJECTIONS,ol.proj.EPSG3857.fromEPSG4326,ol.proj.EPSG3857.toEPSG4326)};ol.proj.addCommon();ol.transform={};ol.transform.tmp_=Array(6);ol.transform.create=function(){return[1,0,0,1,0,0]};ol.transform.reset=function(a){return ol.transform.set(a,1,0,0,1,0,0)};ol.transform.multiply=function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],k=b[0],l=b[1],m=b[2],n=b[3],p=b[4];b=b[5];a[0]=c*k+e*l;a[1]=d*k+f*l;a[2]=c*m+e*n;a[3]=d*m+f*n;a[4]=c*p+e*b+g;a[5]=d*p+f*b+h;return a};ol.transform.set=function(a,b,c,d,e,f,g){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;return a};
ol.transform.setFromArray=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a};ol.transform.apply=function(a,b){var c=b[0],d=b[1];b[0]=a[0]*c+a[2]*d+a[4];b[1]=a[1]*c+a[3]*d+a[5];return b};ol.transform.rotate=function(a,b){var c=Math.cos(b);b=Math.sin(b);return ol.transform.multiply(a,ol.transform.set(ol.transform.tmp_,c,b,-b,c,0,0))};ol.transform.scale=function(a,b,c){return ol.transform.multiply(a,ol.transform.set(ol.transform.tmp_,b,0,0,c,0,0))};
ol.transform.translate=function(a,b,c){return ol.transform.multiply(a,ol.transform.set(ol.transform.tmp_,1,0,0,1,b,c))};ol.transform.compose=function(a,b,c,d,e,f,g,h){var k=Math.sin(f);f=Math.cos(f);a[0]=d*f;a[1]=e*k;a[2]=-d*k;a[3]=e*f;a[4]=g*d*f-h*d*k+b;a[5]=g*e*k+h*e*f+c;return a};ol.transform.invert=function(a){var b=ol.transform.determinant(a);ol.asserts.assert(0!==b,32);var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5];a[0]=f/b;a[1]=-d/b;a[2]=-e/b;a[3]=c/b;a[4]=(e*h-f*g)/b;a[5]=-(c*h-d*g)/b;return a};
ol.transform.determinant=function(a){return a[0]*a[3]-a[1]*a[2]};ol.geom.Geometry=function(){ol.Object.call(this);this.extent_=ol.extent.createEmpty();this.extentRevision_=-1;this.simplifiedGeometryCache={};this.simplifiedGeometryRevision=this.simplifiedGeometryMaxMinSquaredTolerance=0;this.tmpTransform_=ol.transform.create()};ol.inherits(ol.geom.Geometry,ol.Object);ol.geom.Geometry.prototype.clone=function(){};ol.geom.Geometry.prototype.closestPointXY=function(a,b,c,d){};
ol.geom.Geometry.prototype.getClosestPoint=function(a,b){b=b?b:[NaN,NaN];this.closestPointXY(a[0],a[1],b,Infinity);return b};ol.geom.Geometry.prototype.intersectsCoordinate=function(a){return this.containsXY(a[0],a[1])};ol.geom.Geometry.prototype.computeExtent=function(a){};ol.geom.Geometry.prototype.containsXY=ol.functions.FALSE;
ol.geom.Geometry.prototype.getExtent=function(a){this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision());return ol.extent.returnOrUpdate(this.extent_,a)};ol.geom.Geometry.prototype.rotate=function(a,b){};ol.geom.Geometry.prototype.scale=function(a,b,c){};ol.geom.Geometry.prototype.simplify=function(a){return this.getSimplifiedGeometry(a*a)};ol.geom.Geometry.prototype.getSimplifiedGeometry=function(a){};
ol.geom.Geometry.prototype.getType=function(){};ol.geom.Geometry.prototype.applyTransform=function(a){};ol.geom.Geometry.prototype.intersectsExtent=function(a){};ol.geom.Geometry.prototype.translate=function(a,b){};
ol.geom.Geometry.prototype.transform=function(a,b){var c=this.tmpTransform_;a=ol.proj.get(a);var d=a.getUnits()==ol.proj.Units.TILE_PIXELS?function(d,f,g){var e=a.getExtent(),k=a.getWorldExtent();e=ol.extent.getHeight(k)/ol.extent.getHeight(e);ol.transform.compose(c,k[0],k[3],e,-e,0,0,0);ol.geom.flat.transform.transform2D(d,0,d.length,g,c,f);return ol.proj.getTransform(a,b)(d,f,g)}:ol.proj.getTransform(a,b);this.applyTransform(d);return this};ol.color={};ol.color.HEX_COLOR_RE_=/^#(?:[0-9a-f]{3}){1,2}$/i;ol.color.NAMED_COLOR_RE_=/^([a-z]*)$/i;ol.color.asArray=function(a){return Array.isArray(a)?a:ol.color.fromString(a)};ol.color.asString=function(a){return"string"===typeof a?a:ol.color.toString(a)};ol.color.fromNamed=function(a){var b=document.createElement("div");b.style.color=a;document.body.appendChild(b);a=getComputedStyle(b).color;document.body.removeChild(b);return a};
ol.color.fromString=function(){var a={},b=0;return function(c){if(a.hasOwnProperty(c))var d=a[c];else{if(1024<=b){d=0;for(var e in a)0===(d++&3)&&(delete a[e],--b)}d=ol.color.fromStringInternal_(c);a[c]=d;++b}return d}}();
ol.color.fromStringInternal_=function(a){ol.color.NAMED_COLOR_RE_.exec(a)&&(a=ol.color.fromNamed(a));if(ol.color.HEX_COLOR_RE_.exec(a)){var b=a.length-1;ol.asserts.assert(3==b||6==b,54);var c=3==b?1:2;b=parseInt(a.substr(1+0*c,c),16);var d=parseInt(a.substr(1+1*c,c),16);a=parseInt(a.substr(1+2*c,c),16);1==c&&(b=(b<<4)+b,d=(d<<4)+d,a=(a<<4)+a);b=[b,d,a,1]}else 0==a.indexOf("rgba(")?(a=a.slice(5,-1).split(",").map(Number),b=ol.color.normalize(a)):0==a.indexOf("rgb(")?(a=a.slice(4,-1).split(",").map(Number),
a.push(1),b=ol.color.normalize(a)):ol.asserts.assert(!1,14);return b};ol.color.normalize=function(a,b){b=b||[];b[0]=ol.math.clamp(a[0]+.5|0,0,255);b[1]=ol.math.clamp(a[1]+.5|0,0,255);b[2]=ol.math.clamp(a[2]+.5|0,0,255);b[3]=ol.math.clamp(a[3],0,1);return b};ol.color.toString=function(a){var b=a[0];b!=(b|0)&&(b=b+.5|0);var c=a[1];c!=(c|0)&&(c=c+.5|0);var d=a[2];d!=(d|0)&&(d=d+.5|0);return"rgba("+b+","+c+","+d+","+(void 0===a[3]?1:a[3])+")"};ol.colorlike={};ol.colorlike.asColorLike=function(a){return ol.colorlike.isColorLike(a)?a:ol.color.asString(a)};ol.colorlike.isColorLike=function(a){return"string"===typeof a||a instanceof CanvasPattern||a instanceof CanvasGradient};ol.dom={};ol.dom.createCanvasContext2D=function(a,b){var c=document.createElement("CANVAS");a&&(c.width=a);b&&(c.height=b);return c.getContext("2d")};ol.dom.outerWidth=function(a){var b=a.offsetWidth;a=getComputedStyle(a);return b+=parseInt(a.marginLeft,10)+parseInt(a.marginRight,10)};ol.dom.outerHeight=function(a){var b=a.offsetHeight;a=getComputedStyle(a);return b+=parseInt(a.marginTop,10)+parseInt(a.marginBottom,10)};ol.dom.replaceNode=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)};
ol.dom.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};ol.dom.removeChildren=function(a){for(;a.lastChild;)a.removeChild(a.lastChild)};ol.webgl={};ol.webgl.ONE=1;ol.webgl.SRC_ALPHA=770;ol.webgl.COLOR_ATTACHMENT0=36064;ol.webgl.COLOR_BUFFER_BIT=16384;ol.webgl.TRIANGLES=4;ol.webgl.TRIANGLE_STRIP=5;ol.webgl.ONE_MINUS_SRC_ALPHA=771;ol.webgl.ARRAY_BUFFER=34962;ol.webgl.ELEMENT_ARRAY_BUFFER=34963;ol.webgl.STREAM_DRAW=35040;ol.webgl.STATIC_DRAW=35044;ol.webgl.DYNAMIC_DRAW=35048;ol.webgl.CULL_FACE=2884;ol.webgl.BLEND=3042;ol.webgl.STENCIL_TEST=2960;ol.webgl.DEPTH_TEST=2929;ol.webgl.SCISSOR_TEST=3089;ol.webgl.UNSIGNED_BYTE=5121;
ol.webgl.UNSIGNED_SHORT=5123;ol.webgl.UNSIGNED_INT=5125;ol.webgl.FLOAT=5126;ol.webgl.RGBA=6408;ol.webgl.FRAGMENT_SHADER=35632;ol.webgl.VERTEX_SHADER=35633;ol.webgl.LINK_STATUS=35714;ol.webgl.LINEAR=9729;ol.webgl.TEXTURE_MAG_FILTER=10240;ol.webgl.TEXTURE_MIN_FILTER=10241;ol.webgl.TEXTURE_WRAP_S=10242;ol.webgl.TEXTURE_WRAP_T=10243;ol.webgl.TEXTURE_2D=3553;ol.webgl.TEXTURE0=33984;ol.webgl.CLAMP_TO_EDGE=33071;ol.webgl.COMPILE_STATUS=35713;ol.webgl.FRAMEBUFFER=36160;
ol.webgl.CONTEXT_IDS_=["experimental-webgl","webgl","webkit-3d","moz-webgl"];ol.webgl.getContext=function(a,b){var c,d,e=ol.webgl.CONTEXT_IDS_.length;for(d=0;d<e;++d)try{if(c=a.getContext(ol.webgl.CONTEXT_IDS_[d],b))return c}catch(f){}return null};ol.has={};var ua="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"";ol.has.FIREFOX=-1!==ua.indexOf("firefox");ol.has.SAFARI=-1!==ua.indexOf("safari")&&-1==ua.indexOf("chrom");ol.has.WEBKIT=-1!==ua.indexOf("webkit")&&-1==ua.indexOf("edge");ol.has.MAC=-1!==ua.indexOf("macintosh");ol.has.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1;ol.has.CANVAS_LINE_DASH=!1;
ol.has.CANVAS=ol.ENABLE_CANVAS&&function(){if(!("HTMLCanvasElement"in window))return!1;try{var a=document.createElement("CANVAS").getContext("2d");return a?(void 0!==a.setLineDash&&(ol.has.CANVAS_LINE_DASH=!0),!0):!1}catch(b){return!1}}();ol.has.DEVICE_ORIENTATION="DeviceOrientationEvent"in window;ol.has.GEOLOCATION="geolocation"in navigator;ol.has.TOUCH=ol.ASSUME_TOUCH||"ontouchstart"in window;ol.has.POINTER="PointerEvent"in window;ol.has.MSPOINTER=!!navigator.msPointerEnabled;
(function(){if(ol.ENABLE_WEBGL){var a=!1,b=[];if("WebGLRenderingContext"in window)try{var c=document.createElement("CANVAS"),d=ol.webgl.getContext(c,{failIfMajorPerformanceCaveat:!0});if(d){a=!0;var e=d.getParameter(d.MAX_TEXTURE_SIZE);b=d.getSupportedExtensions()}}catch(f){}ol.has.WEBGL=a;ol.WEBGL_EXTENSIONS=b;ol.WEBGL_MAX_TEXTURE_SIZE=e}})();ol.ImageState={IDLE:0,LOADING:1,LOADED:2,ERROR:3};ol.render={};ol.render.canvas={};ol.render.canvas.defaultFont="10px sans-serif";ol.render.canvas.defaultFillStyle=[0,0,0,1];ol.render.canvas.defaultLineCap="round";ol.render.canvas.defaultLineDash=[];ol.render.canvas.defaultLineDashOffset=0;ol.render.canvas.defaultLineJoin="round";ol.render.canvas.defaultMiterLimit=10;ol.render.canvas.defaultStrokeStyle=[0,0,0,1];ol.render.canvas.defaultTextAlign="center";ol.render.canvas.defaultTextBaseline="middle";ol.render.canvas.defaultLineWidth=1;
ol.render.canvas.rotateAtOffset=function(a,b,c,d){0!==b&&(a.translate(c,d),a.rotate(b),a.translate(-c,-d))};ol.style={};ol.style.Image=function(a){this.opacity_=a.opacity;this.rotateWithView_=a.rotateWithView;this.rotation_=a.rotation;this.scale_=a.scale;this.snapToPixel_=a.snapToPixel};ol.style.Image.prototype.getOpacity=function(){return this.opacity_};ol.style.Image.prototype.getRotateWithView=function(){return this.rotateWithView_};ol.style.Image.prototype.getRotation=function(){return this.rotation_};ol.style.Image.prototype.getScale=function(){return this.scale_};
ol.style.Image.prototype.getSnapToPixel=function(){return this.snapToPixel_};ol.style.Image.prototype.getAnchor=function(){};ol.style.Image.prototype.getImage=function(a){};ol.style.Image.prototype.getHitDetectionImage=function(a){};ol.style.Image.prototype.getImageState=function(){};ol.style.Image.prototype.getImageSize=function(){};ol.style.Image.prototype.getHitDetectionImageSize=function(){};ol.style.Image.prototype.getOrigin=function(){};ol.style.Image.prototype.getSize=function(){};
ol.style.Image.prototype.setOpacity=function(a){this.opacity_=a};ol.style.Image.prototype.setRotateWithView=function(a){this.rotateWithView_=a};ol.style.Image.prototype.setRotation=function(a){this.rotation_=a};ol.style.Image.prototype.setScale=function(a){this.scale_=a};ol.style.Image.prototype.setSnapToPixel=function(a){this.snapToPixel_=a};ol.style.Image.prototype.listenImageChange=function(a,b){};ol.style.Image.prototype.load=function(){};
ol.style.Image.prototype.unlistenImageChange=function(a,b){};ol.style.RegularShape=function(a){this.hitDetectionCanvas_=this.canvas_=this.checksums_=null;this.fill_=void 0!==a.fill?a.fill:null;this.origin_=[0,0];this.points_=a.points;this.radius_=void 0!==a.radius?a.radius:a.radius1;this.radius2_=a.radius2;this.angle_=void 0!==a.angle?a.angle:0;this.stroke_=void 0!==a.stroke?a.stroke:null;this.hitDetectionImageSize_=this.imageSize_=this.size_=this.anchor_=null;this.atlasManager_=a.atlasManager;this.render_(this.atlasManager_);ol.style.Image.call(this,{opacity:1,
rotateWithView:void 0!==a.rotateWithView?a.rotateWithView:!1,rotation:void 0!==a.rotation?a.rotation:0,scale:1,snapToPixel:void 0!==a.snapToPixel?a.snapToPixel:!0})};ol.inherits(ol.style.RegularShape,ol.style.Image);
ol.style.RegularShape.prototype.clone=function(){var a=new ol.style.RegularShape({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});a.setOpacity(this.getOpacity());a.setScale(this.getScale());return a};
ol.style.RegularShape.prototype.getAnchor=function(){return this.anchor_};ol.style.RegularShape.prototype.getAngle=function(){return this.angle_};ol.style.RegularShape.prototype.getFill=function(){return this.fill_};ol.style.RegularShape.prototype.getHitDetectionImage=function(a){return this.hitDetectionCanvas_};ol.style.RegularShape.prototype.getImage=function(a){return this.canvas_};ol.style.RegularShape.prototype.getImageSize=function(){return this.imageSize_};
ol.style.RegularShape.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_};ol.style.RegularShape.prototype.getImageState=function(){return ol.ImageState.LOADED};ol.style.RegularShape.prototype.getOrigin=function(){return this.origin_};ol.style.RegularShape.prototype.getPoints=function(){return this.points_};ol.style.RegularShape.prototype.getRadius=function(){return this.radius_};ol.style.RegularShape.prototype.getRadius2=function(){return this.radius2_};
ol.style.RegularShape.prototype.getSize=function(){return this.size_};ol.style.RegularShape.prototype.getStroke=function(){return this.stroke_};ol.style.RegularShape.prototype.listenImageChange=function(a,b){};ol.style.RegularShape.prototype.load=function(){};ol.style.RegularShape.prototype.unlistenImageChange=function(a,b){};
ol.style.RegularShape.prototype.render_=function(a){var b="",c="",d=0,e=null,f=0,g=0;if(this.stroke_){var h=this.stroke_.getColor();null===h&&(h=ol.render.canvas.defaultStrokeStyle);h=ol.colorlike.asColorLike(h);g=this.stroke_.getWidth();void 0===g&&(g=ol.render.canvas.defaultLineWidth);e=this.stroke_.getLineDash();f=this.stroke_.getLineDashOffset();ol.has.CANVAS_LINE_DASH||(e=null,f=0);c=this.stroke_.getLineJoin();void 0===c&&(c=ol.render.canvas.defaultLineJoin);b=this.stroke_.getLineCap();void 0===
b&&(b=ol.render.canvas.defaultLineCap);d=this.stroke_.getMiterLimit();void 0===d&&(d=ol.render.canvas.defaultMiterLimit)}var k=2*(this.radius_+g)+1;b={strokeStyle:h,strokeWidth:g,size:k,lineCap:b,lineDash:e,lineDashOffset:f,lineJoin:c,miterLimit:d};if(void 0===a){var l=ol.dom.createCanvasContext2D(k,k);this.canvas_=l.canvas;a=k=this.canvas_.width;this.draw_(b,l,0,0);this.createHitDetectionCanvas_(b)}else k=Math.round(k),(c=!this.fill_)&&(l=this.drawHitDetectionCanvas_.bind(this,b)),d=this.getChecksum(),
l=a.add(d,k,k,this.draw_.bind(this,b),l),this.canvas_=l.image,this.origin_=[l.offsetX,l.offsetY],a=l.image.width,c?(this.hitDetectionCanvas_=l.hitImage,this.hitDetectionImageSize_=[l.hitImage.width,l.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[a,a]);this.anchor_=[k/2,k/2];this.size_=[k,k];this.imageSize_=[a,a]};
ol.style.RegularShape.prototype.draw_=function(a,b,c,d){b.setTransform(1,0,0,1,0,0);b.translate(c,d);b.beginPath();var e=this.points_;if(Infinity===e)b.arc(a.size/2,a.size/2,this.radius_,0,2*Math.PI,!0);else{var f=void 0!==this.radius2_?this.radius2_:this.radius_;f!==this.radius_&&(e*=2);for(c=0;c<=e;c++){d=2*c*Math.PI/e-Math.PI/2+this.angle_;var g=0===c%2?this.radius_:f;b.lineTo(a.size/2+g*Math.cos(d),a.size/2+g*Math.sin(d))}}this.fill_&&(c=this.fill_.getColor(),null===c&&(c=ol.render.canvas.defaultFillStyle),
b.fillStyle=ol.colorlike.asColorLike(c),b.fill());this.stroke_&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.strokeWidth,a.lineDash&&(b.setLineDash(a.lineDash),b.lineDashOffset=a.lineDashOffset),b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.miterLimit=a.miterLimit,b.stroke());b.closePath()};
ol.style.RegularShape.prototype.createHitDetectionCanvas_=function(a){this.hitDetectionImageSize_=[a.size,a.size];if(this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var b=ol.dom.createCanvasContext2D(a.size,a.size);this.hitDetectionCanvas_=b.canvas;this.drawHitDetectionCanvas_(a,b,0,0)}};
ol.style.RegularShape.prototype.drawHitDetectionCanvas_=function(a,b,c,d){b.setTransform(1,0,0,1,0,0);b.translate(c,d);b.beginPath();c=this.points_;if(Infinity===c)b.arc(a.size/2,a.size/2,this.radius_,0,2*Math.PI,!0);else{d=void 0!==this.radius2_?this.radius2_:this.radius_;d!==this.radius_&&(c*=2);var e;for(e=0;e<=c;e++){var f=2*e*Math.PI/c-Math.PI/2+this.angle_;var g=0===e%2?this.radius_:d;b.lineTo(a.size/2+g*Math.cos(f),a.size/2+g*Math.sin(f))}}b.fillStyle=ol.render.canvas.defaultFillStyle;b.fill();
this.stroke_&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.strokeWidth,a.lineDash&&(b.setLineDash(a.lineDash),b.lineDashOffset=a.lineDashOffset),b.stroke());b.closePath()};
ol.style.RegularShape.prototype.getChecksum=function(){var a=this.stroke_?this.stroke_.getChecksum():"-",b=this.fill_?this.fill_.getChecksum():"-";this.checksums_&&a==this.checksums_[1]&&b==this.checksums_[2]&&this.radius_==this.checksums_[3]&&this.radius2_==this.checksums_[4]&&this.angle_==this.checksums_[5]&&this.points_==this.checksums_[6]||(this.checksums_=["r"+a+b+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():
"-")+(void 0!==this.points_?this.points_.toString():"-"),a,b,this.radius_,this.radius2_,this.angle_,this.points_]);return this.checksums_[0]};ol.style.Circle=function(a){a=a||{};ol.style.RegularShape.call(this,{points:Infinity,fill:a.fill,radius:a.radius,snapToPixel:a.snapToPixel,stroke:a.stroke,atlasManager:a.atlasManager})};ol.inherits(ol.style.Circle,ol.style.RegularShape);
ol.style.Circle.prototype.clone=function(){var a=new ol.style.Circle({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});a.setOpacity(this.getOpacity());a.setScale(this.getScale());return a};ol.style.Circle.prototype.setRadius=function(a){this.radius_=a;this.render_(this.atlasManager_)};ol.style.Fill=function(a){a=a||{};this.color_=void 0!==a.color?a.color:null;this.checksum_=void 0};ol.style.Fill.prototype.clone=function(){var a=this.getColor();return new ol.style.Fill({color:a&&a.slice?a.slice():a||void 0})};ol.style.Fill.prototype.getColor=function(){return this.color_};ol.style.Fill.prototype.setColor=function(a){this.color_=a;this.checksum_=void 0};
ol.style.Fill.prototype.getChecksum=function(){void 0===this.checksum_&&(this.checksum_=this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient?ol.getUid(this.color_).toString():"f"+(this.color_?ol.color.asString(this.color_):"-"));return this.checksum_};ol.style.Stroke=function(a){a=a||{};this.color_=void 0!==a.color?a.color:null;this.lineCap_=a.lineCap;this.lineDash_=void 0!==a.lineDash?a.lineDash:null;this.lineDashOffset_=a.lineDashOffset;this.lineJoin_=a.lineJoin;this.miterLimit_=a.miterLimit;this.width_=a.width;this.checksum_=void 0};
ol.style.Stroke.prototype.clone=function(){var a=this.getColor();return new ol.style.Stroke({color:a&&a.slice?a.slice():a||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})};ol.style.Stroke.prototype.getColor=function(){return this.color_};ol.style.Stroke.prototype.getLineCap=function(){return this.lineCap_};
ol.style.Stroke.prototype.getLineDash=function(){return this.lineDash_};ol.style.Stroke.prototype.getLineDashOffset=function(){return this.lineDashOffset_};ol.style.Stroke.prototype.getLineJoin=function(){return this.lineJoin_};ol.style.Stroke.prototype.getMiterLimit=function(){return this.miterLimit_};ol.style.Stroke.prototype.getWidth=function(){return this.width_};ol.style.Stroke.prototype.setColor=function(a){this.color_=a;this.checksum_=void 0};
ol.style.Stroke.prototype.setLineCap=function(a){this.lineCap_=a;this.checksum_=void 0};ol.style.Stroke.prototype.setLineDash=function(a){this.lineDash_=a;this.checksum_=void 0};ol.style.Stroke.prototype.setLineDashOffset=function(a){this.lineDashOffset_=a;this.checksum_=void 0};ol.style.Stroke.prototype.setLineJoin=function(a){this.lineJoin_=a;this.checksum_=void 0};ol.style.Stroke.prototype.setMiterLimit=function(a){this.miterLimit_=a;this.checksum_=void 0};
ol.style.Stroke.prototype.setWidth=function(a){this.width_=a;this.checksum_=void 0};
ol.style.Stroke.prototype.getChecksum=function(){void 0===this.checksum_&&(this.checksum_="s",this.checksum_=this.color_?"string"===typeof this.color_?this.checksum_+this.color_:this.checksum_+ol.getUid(this.color_).toString():this.checksum_+"-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?
this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-"));return this.checksum_};ol.style.Style=function(a){a=a||{};this.geometry_=null;this.geometryFunction_=ol.style.Style.defaultGeometryFunction;void 0!==a.geometry&&this.setGeometry(a.geometry);this.fill_=void 0!==a.fill?a.fill:null;this.image_=void 0!==a.image?a.image:null;this.renderer_=void 0!==a.renderer?a.renderer:null;this.stroke_=void 0!==a.stroke?a.stroke:null;this.text_=void 0!==a.text?a.text:null;this.zIndex_=a.zIndex};
ol.style.Style.prototype.clone=function(){var a=this.getGeometry();a&&a.clone&&(a=a.clone());return new ol.style.Style({geometry:a,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})};ol.style.Style.prototype.getRenderer=function(){return this.renderer_};
ol.style.Style.prototype.setRenderer=function(a){this.renderer_=a};ol.style.Style.prototype.getGeometry=function(){return this.geometry_};ol.style.Style.prototype.getGeometryFunction=function(){return this.geometryFunction_};ol.style.Style.prototype.getFill=function(){return this.fill_};ol.style.Style.prototype.setFill=function(a){this.fill_=a};ol.style.Style.prototype.getImage=function(){return this.image_};ol.style.Style.prototype.setImage=function(a){this.image_=a};
ol.style.Style.prototype.getStroke=function(){return this.stroke_};ol.style.Style.prototype.setStroke=function(a){this.stroke_=a};ol.style.Style.prototype.getText=function(){return this.text_};ol.style.Style.prototype.setText=function(a){this.text_=a};ol.style.Style.prototype.getZIndex=function(){return this.zIndex_};
ol.style.Style.prototype.setGeometry=function(a){"function"===typeof a?this.geometryFunction_=a:"string"===typeof a?this.geometryFunction_=function(b){return b.get(a)}:a?void 0!==a&&(this.geometryFunction_=function(){return a}):this.geometryFunction_=ol.style.Style.defaultGeometryFunction;this.geometry_=a};ol.style.Style.prototype.setZIndex=function(a){this.zIndex_=a};
ol.style.Style.createFunction=function(a){if("function"!==typeof a){if(Array.isArray(a))var b=a;else ol.asserts.assert(a instanceof ol.style.Style,41),b=[a];a=function(){return b}}return a};ol.style.Style.default_=null;
ol.style.Style.defaultFunction=function(a,b){ol.style.Style.default_||(a=new ol.style.Fill({color:"rgba(255,255,255,0.4)"}),b=new ol.style.Stroke({color:"#3399CC",width:1.25}),ol.style.Style.default_=[new ol.style.Style({image:new ol.style.Circle({fill:a,stroke:b,radius:5}),fill:a,stroke:b})]);return ol.style.Style.default_};
ol.style.Style.createDefaultEditing=function(){var a={},b=[255,255,255,1],c=[0,153,255,1];a[ol.geom.GeometryType.POLYGON]=[new ol.style.Style({fill:new ol.style.Fill({color:[255,255,255,.5]})})];a[ol.geom.GeometryType.MULTI_POLYGON]=a[ol.geom.GeometryType.POLYGON];a[ol.geom.GeometryType.LINE_STRING]=[new ol.style.Style({stroke:new ol.style.Stroke({color:b,width:5})}),new ol.style.Style({stroke:new ol.style.Stroke({color:c,width:3})})];a[ol.geom.GeometryType.MULTI_LINE_STRING]=a[ol.geom.GeometryType.LINE_STRING];
a[ol.geom.GeometryType.CIRCLE]=a[ol.geom.GeometryType.POLYGON].concat(a[ol.geom.GeometryType.LINE_STRING]);a[ol.geom.GeometryType.POINT]=[new ol.style.Style({image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:c}),stroke:new ol.style.Stroke({color:b,width:1.5})}),zIndex:Infinity})];a[ol.geom.GeometryType.MULTI_POINT]=a[ol.geom.GeometryType.POINT];a[ol.geom.GeometryType.GEOMETRY_COLLECTION]=a[ol.geom.GeometryType.POLYGON].concat(a[ol.geom.GeometryType.LINE_STRING],a[ol.geom.GeometryType.POINT]);
return a};ol.style.Style.defaultGeometryFunction=function(a){return a.getGeometry()};ol.Feature=function(a){ol.Object.call(this);this.id_=void 0;this.geometryName_="geometry";this.style_=null;this.styleFunction_=void 0;this.geometryChangeKey_=null;ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);void 0!==a&&(a instanceof ol.geom.Geometry||!a?this.setGeometry(a):this.setProperties(a))};ol.inherits(ol.Feature,ol.Object);
ol.Feature.prototype.clone=function(){var a=new ol.Feature(this.getProperties());a.setGeometryName(this.getGeometryName());var b=this.getGeometry();b&&a.setGeometry(b.clone());(b=this.getStyle())&&a.setStyle(b);return a};ol.Feature.prototype.getGeometry=function(){return this.get(this.geometryName_)};ol.Feature.prototype.getId=function(){return this.id_};ol.Feature.prototype.getGeometryName=function(){return this.geometryName_};ol.Feature.prototype.getStyle=function(){return this.style_};
ol.Feature.prototype.getStyleFunction=function(){return this.styleFunction_};ol.Feature.prototype.handleGeometryChange_=function(){this.changed()};ol.Feature.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(ol.events.unlistenByKey(this.geometryChangeKey_),this.geometryChangeKey_=null);var a=this.getGeometry();a&&(this.geometryChangeKey_=ol.events.listen(a,ol.events.EventType.CHANGE,this.handleGeometryChange_,this));this.changed()};
ol.Feature.prototype.setGeometry=function(a){this.set(this.geometryName_,a)};ol.Feature.prototype.setStyle=function(a){this.styleFunction_=(this.style_=a)?ol.Feature.createStyleFunction(a):void 0;this.changed()};ol.Feature.prototype.setId=function(a){this.id_=a;this.changed()};
ol.Feature.prototype.setGeometryName=function(a){ol.events.unlisten(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);this.geometryName_=a;ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);this.handleGeometryChanged_()};
ol.Feature.createStyleFunction=function(a){if("function"===typeof a)var b=2==a.length?function(b){return a(this,b)}:a;else{if(Array.isArray(a))var c=a;else ol.asserts.assert(a instanceof ol.style.Style,41),c=[a];b=function(){return c}}return b};ol.MapEventType={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"};ol.CenterConstraint={};ol.CenterConstraint.createExtent=function(a){return function(b){if(b)return[ol.math.clamp(b[0],a[0],a[2]),ol.math.clamp(b[1],a[1],a[3])]}};ol.CenterConstraint.none=function(a){return a};ol.array={};ol.array.binarySearch=function(a,b,c){for(var d,e=c||ol.array.numberSafeCompareFunction,f=0,g=a.length,h=!1;f<g;)c=f+(g-f>>1),d=+e(a[c],b),0>d?f=c+1:(g=c,h=!d);return h?f:~f};ol.array.numberSafeCompareFunction=function(a,b){return a>b?1:a<b?-1:0};ol.array.includes=function(a,b){return 0<=a.indexOf(b)};
ol.array.linearFindNearest=function(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1};ol.array.reverseSubArray=function(a,b,c){for(;b<c;){var d=a[b];a[b]=a[c];a[c]=d;++b;--c}};ol.array.extend=function(a,b){var c=Array.isArray(b)?b:[b],d=c.length;for(b=0;b<d;b++)a[a.length]=c[b]};
ol.array.remove=function(a,b){b=a.indexOf(b);var c=-1<b;c&&a.splice(b,1);return c};ol.array.find=function(a,b){for(var c=a.length>>>0,d,e=0;e<c;e++)if(d=a[e],b(d,e,a))return d;return null};ol.array.equals=function(a,b){var c=a.length;if(c!==b.length)return!1;for(var d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0};
ol.array.stableSort=function(a,b){var c=a.length,d=Array(a.length),e;for(e=0;e<c;e++)d[e]={index:e,value:a[e]};d.sort(function(a,c){return b(a.value,c.value)||a.index-c.index});for(e=0;e<a.length;e++)a[e]=d[e].value};ol.array.findIndex=function(a,b){var c;return a.every(function(d,e){c=e;return!b(d,e,a)})?-1:c};ol.array.isSorted=function(a,b,c){var d=b||ol.array.numberSafeCompareFunction;return a.every(function(b,f){if(0===f)return!0;b=d(a[f-1],b);return!(0<b||c&&0===b)})};ol.ResolutionConstraint={};ol.ResolutionConstraint.createSnapToResolutions=function(a){return function(b,c,d){if(void 0!==b)return b=ol.array.linearFindNearest(a,b,d),b=ol.math.clamp(b+c,0,a.length-1),c=Math.floor(b),b!=c&&c<a.length-1?a[c]/Math.pow(a[c]/a[c+1],b-c):a[c]}};ol.ResolutionConstraint.createSnapToPower=function(a,b,c){return function(d,e,f){if(void 0!==d)return d=Math.max(Math.floor(Math.log(b/d)/Math.log(a)+(-f/2+.5))+e,0),void 0!==c&&(d=Math.min(d,c)),b/Math.pow(a,d)}};ol.RotationConstraint={};ol.RotationConstraint.disable=function(a,b){if(void 0!==a)return 0};ol.RotationConstraint.none=function(a,b){if(void 0!==a)return a+b};ol.RotationConstraint.createSnapToN=function(a){var b=2*Math.PI/a;return function(a,d){if(void 0!==a)return a=Math.floor((a+d)/b+.5)*b}};ol.RotationConstraint.createSnapToZero=function(a){var b=a||ol.math.toRadians(5);return function(a,d){if(void 0!==a)return Math.abs(a+d)<=b?0:a+d}};ol.ViewHint={ANIMATING:0,INTERACTING:1};ol.ViewProperty={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};ol.string={};ol.string.padNumber=function(a,b,c){a=void 0!==c?a.toFixed(c):""+a;c=a.indexOf(".");c=-1===c?a.length:c;return c>b?a:Array(1+b-c).join("0")+a};ol.string.compareVersions=function(a,b){a=(""+a).split(".");b=(""+b).split(".");for(var c=0;c<Math.max(a.length,b.length);c++){var d=parseInt(a[c]||"0",10),e=parseInt(b[c]||"0",10);if(d>e)return 1;if(e>d)return-1}return 0};ol.coordinate={};ol.coordinate.add=function(a,b){a[0]+=b[0];a[1]+=b[1];return a};ol.coordinate.closestOnCircle=function(a,b){var c=b.getRadius(),d=b.getCenter();b=d[0];d=d[1];var e=a[0]-b;a=a[1]-d;0===e&&0===a&&(e=1);var f=Math.sqrt(e*e+a*a);return[b+c*e/f,d+c*a/f]};
ol.coordinate.closestOnSegment=function(a,b){var c=a[0];a=a[1];var d=b[0],e=b[1];b=d[0];d=d[1];var f=e[0];e=e[1];var g=f-b,h=e-d;c=0===g&&0===h?0:(g*(c-b)+h*(a-d))/(g*g+h*h||0);0>=c?(a=b,c=d):1<=c?(a=f,c=e):(a=b+c*g,c=d+c*h);return[a,c]};ol.coordinate.createStringXY=function(a){return function(b){return ol.coordinate.toStringXY(b,a)}};
ol.coordinate.degreesToStringHDMS=function(a,b,c){b=ol.math.modulo(b+180,360)-180;var d=Math.abs(3600*b);c=c||0;var e=Math.pow(10,c),f=Math.floor(d/3600),g=Math.floor((d-3600*f)/60);d=Math.ceil((d-3600*f-60*g)*e)/e;60<=d&&(d=0,g+=1);60<=g&&(g=0,f+=1);return f+"\u00b0 "+ol.string.padNumber(g,2)+"\u2032 "+ol.string.padNumber(d,2,c)+"\u2033"+(0==b?"":" "+a.charAt(0>b?1:0))};ol.coordinate.format=function(a,b,c){return a?b.replace("{x}",a[0].toFixed(c)).replace("{y}",a[1].toFixed(c)):""};
ol.coordinate.equals=function(a,b){for(var c=!0,d=a.length-1;0<=d;--d)if(a[d]!=b[d]){c=!1;break}return c};ol.coordinate.rotate=function(a,b){var c=Math.cos(b);b=Math.sin(b);var d=a[1]*c+a[0]*b;a[0]=a[0]*c-a[1]*b;a[1]=d;return a};ol.coordinate.scale=function(a,b){a[0]*=b;a[1]*=b;return a};ol.coordinate.sub=function(a,b){a[0]-=b[0];a[1]-=b[1];return a};ol.coordinate.squaredDistance=function(a,b){var c=a[0]-b[0];a=a[1]-b[1];return c*c+a*a};
ol.coordinate.distance=function(a,b){return Math.sqrt(ol.coordinate.squaredDistance(a,b))};ol.coordinate.squaredDistanceToSegment=function(a,b){return ol.coordinate.squaredDistance(a,ol.coordinate.closestOnSegment(a,b))};ol.coordinate.toStringHDMS=function(a,b){return a?ol.coordinate.degreesToStringHDMS("NS",a[1],b)+" "+ol.coordinate.degreesToStringHDMS("EW",a[0],b):""};ol.coordinate.toStringXY=function(a,b){return ol.coordinate.format(a,"{x}, {y}",b)};ol.easing={};ol.easing.easeIn=function(a){return Math.pow(a,3)};ol.easing.easeOut=function(a){return 1-ol.easing.easeIn(1-a)};ol.easing.inAndOut=function(a){return 3*a*a-2*a*a*a};ol.easing.linear=function(a){return a};ol.easing.upAndDown=function(a){return.5>a?ol.easing.inAndOut(2*a):1-ol.easing.inAndOut(2*(a-.5))};ol.geom.GeometryLayout={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};ol.geom.SimpleGeometry=function(){ol.geom.Geometry.call(this);this.layout=ol.geom.GeometryLayout.XY;this.stride=2;this.flatCoordinates=null};ol.inherits(ol.geom.SimpleGeometry,ol.geom.Geometry);ol.geom.SimpleGeometry.getLayoutForStride_=function(a){if(2==a)var b=ol.geom.GeometryLayout.XY;else 3==a?b=ol.geom.GeometryLayout.XYZ:4==a&&(b=ol.geom.GeometryLayout.XYZM);return b};
ol.geom.SimpleGeometry.getStrideForLayout=function(a){var b;a==ol.geom.GeometryLayout.XY?b=2:a==ol.geom.GeometryLayout.XYZ||a==ol.geom.GeometryLayout.XYM?b=3:a==ol.geom.GeometryLayout.XYZM&&(b=4);return b};ol.geom.SimpleGeometry.prototype.containsXY=ol.functions.FALSE;ol.geom.SimpleGeometry.prototype.computeExtent=function(a){return ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a)};ol.geom.SimpleGeometry.prototype.getCoordinates=function(){};
ol.geom.SimpleGeometry.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)};ol.geom.SimpleGeometry.prototype.getFlatCoordinates=function(){return this.flatCoordinates};ol.geom.SimpleGeometry.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)};ol.geom.SimpleGeometry.prototype.getLayout=function(){return this.layout};
ol.geom.SimpleGeometry.prototype.getSimplifiedGeometry=function(a){this.simplifiedGeometryRevision!=this.getRevision()&&(ol.obj.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>a||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&a<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var b=a.toString();if(this.simplifiedGeometryCache.hasOwnProperty(b))return this.simplifiedGeometryCache[b];var c=this.getSimplifiedGeometryInternal(a);
if(c.getFlatCoordinates().length<this.flatCoordinates.length)return this.simplifiedGeometryCache[b]=c;this.simplifiedGeometryMaxMinSquaredTolerance=a;return this};ol.geom.SimpleGeometry.prototype.getSimplifiedGeometryInternal=function(a){return this};ol.geom.SimpleGeometry.prototype.getStride=function(){return this.stride};ol.geom.SimpleGeometry.prototype.setFlatCoordinatesInternal=function(a,b){this.stride=ol.geom.SimpleGeometry.getStrideForLayout(a);this.layout=a;this.flatCoordinates=b};
ol.geom.SimpleGeometry.prototype.setCoordinates=function(a,b){};ol.geom.SimpleGeometry.prototype.setLayout=function(a,b,c){if(a)b=ol.geom.SimpleGeometry.getStrideForLayout(a);else{for(a=0;a<c;++a){if(0===b.length){this.layout=ol.geom.GeometryLayout.XY;this.stride=2;return}b=b[0]}b=b.length;a=ol.geom.SimpleGeometry.getLayoutForStride_(b)}this.layout=a;this.stride=b};
ol.geom.SimpleGeometry.prototype.applyTransform=function(a){this.flatCoordinates&&(a(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())};ol.geom.SimpleGeometry.prototype.rotate=function(a,b){var c=this.getFlatCoordinates();if(c){var d=this.getStride();ol.geom.flat.transform.rotate(c,0,c.length,d,a,b,c);this.changed()}};
ol.geom.SimpleGeometry.prototype.scale=function(a,b,c){void 0===b&&(b=a);c||(c=ol.extent.getCenter(this.getExtent()));var d=this.getFlatCoordinates();if(d){var e=this.getStride();ol.geom.flat.transform.scale(d,0,d.length,e,a,b,c,d);this.changed()}};ol.geom.SimpleGeometry.prototype.translate=function(a,b){var c=this.getFlatCoordinates();if(c){var d=this.getStride();ol.geom.flat.transform.translate(c,0,c.length,d,a,b,c);this.changed()}};
ol.geom.SimpleGeometry.transform2D=function(a,b,c){var d=a.getFlatCoordinates();return d?(a=a.getStride(),ol.geom.flat.transform.transform2D(d,0,d.length,a,b,c)):null};ol.geom.flat.area={};ol.geom.flat.area.linearRing=function(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d){var h=a[b],k=a[b+1];e+=g*h-f*k;f=h;g=k}return e/2};ol.geom.flat.area.linearRings=function(a,b,c,d){var e=0,f;var g=0;for(f=c.length;g<f;++g){var h=c[g];e+=ol.geom.flat.area.linearRing(a,b,h,d);b=h}return e};ol.geom.flat.area.linearRingss=function(a,b,c,d){var e=0,f;var g=0;for(f=c.length;g<f;++g){var h=c[g];e+=ol.geom.flat.area.linearRings(a,b,h,d);b=h[h.length-1]}return e};ol.geom.flat.closest={};ol.geom.flat.closest.point=function(a,b,c,d,e,f,g){var h=a[b],k=a[b+1],l=a[c]-h,m=a[c+1]-k;if(0!==l||0!==m)if(f=((e-h)*l+(f-k)*m)/(l*l+m*m),1<f)b=c;else if(0<f){for(e=0;e<d;++e)g[e]=ol.math.lerp(a[b+e],a[c+e],f);g.length=d;return}for(e=0;e<d;++e)g[e]=a[b+e];g.length=d};ol.geom.flat.closest.getMaxSquaredDelta=function(a,b,c,d,e){var f=a[b],g=a[b+1];for(b+=d;b<c;b+=d){var h=a[b],k=a[b+1];f=ol.math.squaredDistance(f,g,h,k);f>e&&(e=f);f=h;g=k}return e};
ol.geom.flat.closest.getsMaxSquaredDelta=function(a,b,c,d,e){var f;var g=0;for(f=c.length;g<f;++g){var h=c[g];e=ol.geom.flat.closest.getMaxSquaredDelta(a,b,h,d,e);b=h}return e};ol.geom.flat.closest.getssMaxSquaredDelta=function(a,b,c,d,e){var f;var g=0;for(f=c.length;g<f;++g){var h=c[g];e=ol.geom.flat.closest.getsMaxSquaredDelta(a,b,h,d,e);b=h[h.length-1]}return e};
ol.geom.flat.closest.getClosestPoint=function(a,b,c,d,e,f,g,h,k,l,m){if(b==c)return l;if(0===e){var n=ol.math.squaredDistance(g,h,a[b],a[b+1]);if(n<l){for(m=0;m<d;++m)k[m]=a[b+m];k.length=d;return n}return l}for(var p=m?m:[NaN,NaN],q=b+d;q<c;)if(ol.geom.flat.closest.point(a,q-d,q,d,g,h,p),n=ol.math.squaredDistance(g,h,p[0],p[1]),n<l){l=n;for(m=0;m<d;++m)k[m]=p[m];k.length=d;q+=d}else q+=d*Math.max((Math.sqrt(n)-Math.sqrt(l))/e|0,1);if(f&&(ol.geom.flat.closest.point(a,c-d,b,d,g,h,p),n=ol.math.squaredDistance(g,
h,p[0],p[1]),n<l)){l=n;for(m=0;m<d;++m)k[m]=p[m];k.length=d}return l};ol.geom.flat.closest.getsClosestPoint=function(a,b,c,d,e,f,g,h,k,l,m){m=m?m:[NaN,NaN];var n;var p=0;for(n=c.length;p<n;++p){var q=c[p];l=ol.geom.flat.closest.getClosestPoint(a,b,q,d,e,f,g,h,k,l,m);b=q}return l};ol.geom.flat.closest.getssClosestPoint=function(a,b,c,d,e,f,g,h,k,l,m){m=m?m:[NaN,NaN];var n;var p=0;for(n=c.length;p<n;++p){var q=c[p];l=ol.geom.flat.closest.getsClosestPoint(a,b,q,d,e,f,g,h,k,l,m);b=q[q.length-1]}return l};ol.geom.flat.deflate={};ol.geom.flat.deflate.coordinate=function(a,b,c,d){var e;d=0;for(e=c.length;d<e;++d)a[b++]=c[d];return b};ol.geom.flat.deflate.coordinates=function(a,b,c,d){var e;var f=0;for(e=c.length;f<e;++f){var g=c[f],h;for(h=0;h<d;++h)a[b++]=g[h]}return b};ol.geom.flat.deflate.coordinatess=function(a,b,c,d,e){e=e?e:[];var f=0,g;var h=0;for(g=c.length;h<g;++h)b=ol.geom.flat.deflate.coordinates(a,b,c[h],d),e[f++]=b;e.length=f;return e};
ol.geom.flat.deflate.coordinatesss=function(a,b,c,d,e){e=e?e:[];var f=0,g;var h=0;for(g=c.length;h<g;++h)b=ol.geom.flat.deflate.coordinatess(a,b,c[h],d,e[f]),e[f++]=b,b=b[b.length-1];e.length=f;return e};ol.geom.flat.inflate={};ol.geom.flat.inflate.coordinates=function(a,b,c,d,e){e=void 0!==e?e:[];for(var f=0;b<c;b+=d)e[f++]=a.slice(b,b+d);e.length=f;return e};ol.geom.flat.inflate.coordinatess=function(a,b,c,d,e){e=void 0!==e?e:[];var f=0,g;var h=0;for(g=c.length;h<g;++h){var k=c[h];e[f++]=ol.geom.flat.inflate.coordinates(a,b,k,d,e[f]);b=k}e.length=f;return e};
ol.geom.flat.inflate.coordinatesss=function(a,b,c,d,e){e=void 0!==e?e:[];var f=0,g;var h=0;for(g=c.length;h<g;++h){var k=c[h];e[f++]=ol.geom.flat.inflate.coordinatess(a,b,k,d,e[f]);b=k[k.length-1]}e.length=f;return e};ol.geom.flat.simplify={};ol.geom.flat.simplify.lineString=function(a,b,c,d,e,f,g){g=void 0!==g?g:[];f||(c=ol.geom.flat.simplify.radialDistance(a,b,c,d,e,g,0),a=g,b=0,d=2);g.length=ol.geom.flat.simplify.douglasPeucker(a,b,c,d,e,g,0);return g};
ol.geom.flat.simplify.douglasPeucker=function(a,b,c,d,e,f,g){var h=(c-b)/d;if(3>h){for(;b<c;b+=d)f[g++]=a[b],f[g++]=a[b+1];return g}var k=Array(h);k[0]=1;k[h-1]=1;c=[b,c-d];for(var l=0,m;0<c.length;){var n=c.pop(),p=c.pop(),q=0,r=a[p],u=a[p+1],t=a[n],w=a[n+1];for(m=p+d;m<n;m+=d){var v=ol.math.squaredSegmentDistance(a[m],a[m+1],r,u,t,w);v>q&&(l=m,q=v)}q>e&&(k[(l-b)/d]=1,p+d<l&&c.push(p,l),l+d<n&&c.push(l,n))}for(m=0;m<h;++m)k[m]&&(f[g++]=a[b+m*d],f[g++]=a[b+m*d+1]);return g};
ol.geom.flat.simplify.douglasPeuckers=function(a,b,c,d,e,f,g,h){var k;var l=0;for(k=c.length;l<k;++l){var m=c[l];g=ol.geom.flat.simplify.douglasPeucker(a,b,m,d,e,f,g);h.push(g);b=m}return g};ol.geom.flat.simplify.douglasPeuckerss=function(a,b,c,d,e,f,g,h){var k;var l=0;for(k=c.length;l<k;++l){var m=c[l],n=[];g=ol.geom.flat.simplify.douglasPeuckers(a,b,m,d,e,f,g,n);h.push(n);b=m[m.length-1]}return g};
ol.geom.flat.simplify.radialDistance=function(a,b,c,d,e,f,g){if(c<=b+d){for(;b<c;b+=d)f[g++]=a[b],f[g++]=a[b+1];return g}var h=a[b],k=a[b+1];f[g++]=h;f[g++]=k;var l=h,m=k;for(b+=d;b<c;b+=d)l=a[b],m=a[b+1],ol.math.squaredDistance(h,k,l,m)>e&&(f[g++]=l,f[g++]=m,h=l,k=m);if(l!=h||m!=k)f[g++]=l,f[g++]=m;return g};ol.geom.flat.simplify.snap=function(a,b){return b*Math.round(a/b)};
ol.geom.flat.simplify.quantize=function(a,b,c,d,e,f,g){if(b==c)return g;var h=ol.geom.flat.simplify.snap(a[b],e),k=ol.geom.flat.simplify.snap(a[b+1],e);b+=d;f[g++]=h;f[g++]=k;do{var l=ol.geom.flat.simplify.snap(a[b],e);var m=ol.geom.flat.simplify.snap(a[b+1],e);b+=d;if(b==c)return f[g++]=l,f[g++]=m,g}while(l==h&&m==k);for(;b<c;){var n=ol.geom.flat.simplify.snap(a[b],e);var p=ol.geom.flat.simplify.snap(a[b+1],e);b+=d;if(n!=l||p!=m){var q=l-h,r=m-k,u=n-h,t=p-k;q*t==r*u&&(0>q&&u<q||q==u||0<q&&u>q)&&
(0>r&&t<r||r==t||0<r&&t>r)||(f[g++]=l,f[g++]=m,h=l,k=m);l=n;m=p}}f[g++]=l;f[g++]=m;return g};ol.geom.flat.simplify.quantizes=function(a,b,c,d,e,f,g,h){var k;var l=0;for(k=c.length;l<k;++l){var m=c[l];g=ol.geom.flat.simplify.quantize(a,b,m,d,e,f,g);h.push(g);b=m}return g};ol.geom.flat.simplify.quantizess=function(a,b,c,d,e,f,g,h){var k;var l=0;for(k=c.length;l<k;++l){var m=c[l],n=[];g=ol.geom.flat.simplify.quantizes(a,b,m,d,e,f,g,n);h.push(n);b=m[m.length-1]}return g};ol.geom.LinearRing=function(a,b){ol.geom.SimpleGeometry.call(this);this.maxDeltaRevision_=this.maxDelta_=-1;this.setCoordinates(a,b)};ol.inherits(ol.geom.LinearRing,ol.geom.SimpleGeometry);ol.geom.LinearRing.prototype.clone=function(){var a=new ol.geom.LinearRing(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return a};
ol.geom.LinearRing.prototype.closestPointXY=function(a,b,c,d){if(d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b))return d;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,a,b,c,d)};
ol.geom.LinearRing.prototype.getArea=function(){return ol.geom.flat.area.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LinearRing.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};
ol.geom.LinearRing.prototype.getSimplifiedGeometryInternal=function(a){var b=[];b.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,b,0);a=new ol.geom.LinearRing(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XY,b);return a};ol.geom.LinearRing.prototype.getType=function(){return ol.geom.GeometryType.LINEAR_RING};ol.geom.LinearRing.prototype.intersectsExtent=function(a){};
ol.geom.LinearRing.prototype.setCoordinates=function(a,b){a?(this.setLayout(b,a,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,a,this.stride),this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)};ol.geom.LinearRing.prototype.setFlatCoordinates=function(a,b){this.setFlatCoordinatesInternal(a,b);this.changed()};ol.geom.Point=function(a,b){ol.geom.SimpleGeometry.call(this);this.setCoordinates(a,b)};ol.inherits(ol.geom.Point,ol.geom.SimpleGeometry);ol.geom.Point.prototype.clone=function(){var a=new ol.geom.Point(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return a};ol.geom.Point.prototype.closestPointXY=function(a,b,c,d){var e=this.flatCoordinates;a=ol.math.squaredDistance(a,b,e[0],e[1]);if(a<d){d=this.stride;for(b=0;b<d;++b)c[b]=e[b];c.length=d;return a}return d};
ol.geom.Point.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]};ol.geom.Point.prototype.computeExtent=function(a){return ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates,a)};ol.geom.Point.prototype.getType=function(){return ol.geom.GeometryType.POINT};ol.geom.Point.prototype.intersectsExtent=function(a){return ol.extent.containsXY(a,this.flatCoordinates[0],this.flatCoordinates[1])};
ol.geom.Point.prototype.setCoordinates=function(a,b){a?(this.setLayout(b,a,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinate(this.flatCoordinates,0,a,this.stride),this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)};ol.geom.Point.prototype.setFlatCoordinates=function(a,b){this.setFlatCoordinatesInternal(a,b);this.changed()};ol.geom.flat.contains={};ol.geom.flat.contains.linearRingContainsExtent=function(a,b,c,d,e){return!ol.extent.forEachCorner(e,function(e){return!ol.geom.flat.contains.linearRingContainsXY(a,b,c,d,e[0],e[1])})};ol.geom.flat.contains.linearRingContainsXY=function(a,b,c,d,e,f){for(var g=0,h=a[c-d],k=a[c-d+1];b<c;b+=d){var l=a[b],m=a[b+1];k<=f?m>f&&0<(l-h)*(f-k)-(e-h)*(m-k)&&g++:m<=f&&0>(l-h)*(f-k)-(e-h)*(m-k)&&g--;h=l;k=m}return 0!==g};
ol.geom.flat.contains.linearRingsContainsXY=function(a,b,c,d,e,f){if(0===c.length||!ol.geom.flat.contains.linearRingContainsXY(a,b,c[0],d,e,f))return!1;var g;b=1;for(g=c.length;b<g;++b)if(ol.geom.flat.contains.linearRingContainsXY(a,c[b-1],c[b],d,e,f))return!1;return!0};ol.geom.flat.contains.linearRingssContainsXY=function(a,b,c,d,e,f){if(0===c.length)return!1;var g;var h=0;for(g=c.length;h<g;++h){var k=c[h];if(ol.geom.flat.contains.linearRingsContainsXY(a,b,k,d,e,f))return!0;b=k[k.length-1]}return!1};ol.geom.flat.interiorpoint={};
ol.geom.flat.interiorpoint.linearRings=function(a,b,c,d,e,f,g){var h,k=e[f+1],l=[],m=c[0];var n=a[m-d];var p=a[m-d+1];for(h=b;h<m;h+=d){var q=a[h];var r=a[h+1];if(k<=p&&r<=k||p<=k&&k<=r)n=(k-p)/(r-p)*(q-n)+n,l.push(n);n=q;p=r}m=NaN;p=-Infinity;l.sort(ol.array.numberSafeCompareFunction);n=l[0];h=1;for(r=l.length;h<r;++h){q=l[h];var u=Math.abs(q-n);u>p&&(n=(n+q)/2,ol.geom.flat.contains.linearRingsContainsXY(a,b,c,d,n,k)&&(m=n,p=u));n=q}isNaN(m)&&(m=e[f]);return g?(g.push(m,k,p),g):[m,k,p]};
ol.geom.flat.interiorpoint.linearRingss=function(a,b,c,d,e){var f=[],g;var h=0;for(g=c.length;h<g;++h){var k=c[h];f=ol.geom.flat.interiorpoint.linearRings(a,b,k,d,e,2*h,f);b=k[k.length-1]}return f};ol.geom.flat.segments={};ol.geom.flat.segments.forEach=function(a,b,c,d,e,f){for(var g=[a[b],a[b+1]],h=[],k;b+d<c;b+=d){h[0]=a[b+d];h[1]=a[b+d+1];if(k=e.call(f,g,h))return k;g[0]=h[0];g[1]=h[1]}return!1};ol.geom.flat.intersectsextent={};ol.geom.flat.intersectsextent.lineString=function(a,b,c,d,e){var f=ol.extent.extendFlatCoordinates(ol.extent.createEmpty(),a,b,c,d);return ol.extent.intersects(e,f)?ol.extent.containsExtent(e,f)||f[0]>=e[0]&&f[2]<=e[2]||f[1]>=e[1]&&f[3]<=e[3]?!0:ol.geom.flat.segments.forEach(a,b,c,d,function(a,b){return ol.extent.intersectsSegment(e,a,b)}):!1};
ol.geom.flat.intersectsextent.lineStrings=function(a,b,c,d,e){var f;var g=0;for(f=c.length;g<f;++g){if(ol.geom.flat.intersectsextent.lineString(a,b,c[g],d,e))return!0;b=c[g]}return!1};
ol.geom.flat.intersectsextent.linearRing=function(a,b,c,d,e){return ol.geom.flat.intersectsextent.lineString(a,b,c,d,e)||ol.geom.flat.contains.linearRingContainsXY(a,b,c,d,e[0],e[1])||ol.geom.flat.contains.linearRingContainsXY(a,b,c,d,e[0],e[3])||ol.geom.flat.contains.linearRingContainsXY(a,b,c,d,e[2],e[1])||ol.geom.flat.contains.linearRingContainsXY(a,b,c,d,e[2],e[3])?!0:!1};
ol.geom.flat.intersectsextent.linearRings=function(a,b,c,d,e){if(!ol.geom.flat.intersectsextent.linearRing(a,b,c[0],d,e))return!1;if(1===c.length)return!0;var f;b=1;for(f=c.length;b<f;++b)if(ol.geom.flat.contains.linearRingContainsExtent(a,c[b-1],c[b],d,e))return!1;return!0};ol.geom.flat.intersectsextent.linearRingss=function(a,b,c,d,e){var f;var g=0;for(f=c.length;g<f;++g){var h=c[g];if(ol.geom.flat.intersectsextent.linearRings(a,b,h,d,e))return!0;b=h[h.length-1]}return!1};ol.geom.flat.reverse={};ol.geom.flat.reverse.coordinates=function(a,b,c,d){for(;b<c-d;){var e;for(e=0;e<d;++e){var f=a[b+e];a[b+e]=a[c-d+e];a[c-d+e]=f}b+=d;c-=d}};ol.geom.flat.orient={};ol.geom.flat.orient.linearRingIsClockwise=function(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d){var h=a[b],k=a[b+1];e+=(h-f)*(k+g);f=h;g=k}return 0<e};ol.geom.flat.orient.linearRingsAreOriented=function(a,b,c,d,e){e=void 0!==e?e:!1;var f;var g=0;for(f=c.length;g<f;++g){var h=c[g];b=ol.geom.flat.orient.linearRingIsClockwise(a,b,h,d);if(0===g){if(e&&b||!e&&!b)return!1}else if(e&&!b||!e&&b)return!1;b=h}return!0};
ol.geom.flat.orient.linearRingssAreOriented=function(a,b,c,d,e){var f;var g=0;for(f=c.length;g<f;++g)if(!ol.geom.flat.orient.linearRingsAreOriented(a,b,c[g],d,e))return!1;return!0};ol.geom.flat.orient.orientLinearRings=function(a,b,c,d,e){e=void 0!==e?e:!1;var f;var g=0;for(f=c.length;g<f;++g){var h=c[g],k=ol.geom.flat.orient.linearRingIsClockwise(a,b,h,d);(0===g?e&&k||!e&&!k:e&&!k||!e&&k)&&ol.geom.flat.reverse.coordinates(a,b,h,d);b=h}return b};
ol.geom.flat.orient.orientLinearRingss=function(a,b,c,d,e){var f;var g=0;for(f=c.length;g<f;++g)b=ol.geom.flat.orient.orientLinearRings(a,b,c[g],d,e);return b};ol.geom.Polygon=function(a,b){ol.geom.SimpleGeometry.call(this);this.ends_=[];this.flatInteriorPointRevision_=-1;this.flatInteriorPoint_=null;this.orientedRevision_=this.maxDeltaRevision_=this.maxDelta_=-1;this.orientedFlatCoordinates_=null;this.setCoordinates(a,b)};ol.inherits(ol.geom.Polygon,ol.geom.SimpleGeometry);
ol.geom.Polygon.prototype.appendLinearRing=function(a){this.flatCoordinates?ol.array.extend(this.flatCoordinates,a.getFlatCoordinates()):this.flatCoordinates=a.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()};ol.geom.Polygon.prototype.clone=function(){var a=new ol.geom.Polygon(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice());return a};
ol.geom.Polygon.prototype.closestPointXY=function(a,b,c,d){if(d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b))return d;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,a,b,c,d)};
ol.geom.Polygon.prototype.containsXY=function(a,b){return ol.geom.flat.contains.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,a,b)};ol.geom.Polygon.prototype.getArea=function(){return ol.geom.flat.area.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)};
ol.geom.Polygon.prototype.getCoordinates=function(a){if(void 0!==a){var b=this.getOrientedFlatCoordinates().slice();ol.geom.flat.orient.orientLinearRings(b,0,this.ends_,this.stride,a)}else b=this.flatCoordinates;return ol.geom.flat.inflate.coordinatess(b,0,this.ends_,this.stride)};ol.geom.Polygon.prototype.getEnds=function(){return this.ends_};
ol.geom.Polygon.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var a=ol.extent.getCenter(this.getExtent());this.flatInteriorPoint_=ol.geom.flat.interiorpoint.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,a,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_};ol.geom.Polygon.prototype.getInteriorPoint=function(){return new ol.geom.Point(this.getFlatInteriorPoint(),ol.geom.GeometryLayout.XYM)};
ol.geom.Polygon.prototype.getLinearRingCount=function(){return this.ends_.length};ol.geom.Polygon.prototype.getLinearRing=function(a){if(0>a||this.ends_.length<=a)return null;var b=new ol.geom.LinearRing(null);b.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===a?0:this.ends_[a-1],this.ends_[a]));return b};
ol.geom.Polygon.prototype.getLinearRings=function(){var a=this.layout,b=this.flatCoordinates,c=this.ends_,d=[],e=0,f;var g=0;for(f=c.length;g<f;++g){var h=c[g],k=new ol.geom.LinearRing(null);k.setFlatCoordinates(a,b.slice(e,h));d.push(k);e=h}return d};
ol.geom.Polygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var a=this.flatCoordinates;ol.geom.flat.orient.linearRingsAreOriented(a,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=a:(this.orientedFlatCoordinates_=a.slice(),this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};
ol.geom.Polygon.prototype.getSimplifiedGeometryInternal=function(a){var b=[],c=[];b.length=ol.geom.flat.simplify.quantizes(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(a),b,0,c);a=new ol.geom.Polygon(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XY,b,c);return a};ol.geom.Polygon.prototype.getType=function(){return ol.geom.GeometryType.POLYGON};
ol.geom.Polygon.prototype.intersectsExtent=function(a){return ol.geom.flat.intersectsextent.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,a)};
ol.geom.Polygon.prototype.setCoordinates=function(a,b){a?(this.setLayout(b,a,2),this.flatCoordinates||(this.flatCoordinates=[]),a=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,a,this.stride,this.ends_),this.flatCoordinates.length=0===a.length?0:a[a.length-1],this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)};ol.geom.Polygon.prototype.setFlatCoordinates=function(a,b,c){this.setFlatCoordinatesInternal(a,b);this.ends_=c;this.changed()};
ol.geom.Polygon.circular=function(a,b,c,d){var e=d?d:32;d=[];var f;for(f=0;f<e;++f)ol.array.extend(d,a.offset(b,c,2*Math.PI*f/e));d.push(d[0],d[1]);a=new ol.geom.Polygon(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XY,d,[d.length]);return a};ol.geom.Polygon.fromExtent=function(a){var b=a[0],c=a[1],d=a[2];a=a[3];b=[b,c,b,a,d,a,d,c,b,c];c=new ol.geom.Polygon(null);c.setFlatCoordinates(ol.geom.GeometryLayout.XY,b,[b.length]);return c};
ol.geom.Polygon.fromCircle=function(a,b,c){var d=b?b:32,e=a.getStride();b=a.getLayout();var f=new ol.geom.Polygon(null,b);d=e*(d+1);e=Array(d);for(var g=0;g<d;g++)e[g]=0;f.setFlatCoordinates(b,e,[e.length]);ol.geom.Polygon.makeRegular(f,a.getCenter(),a.getRadius(),c);return f};
ol.geom.Polygon.makeRegular=function(a,b,c,d){var e=a.getFlatCoordinates(),f=a.getLayout(),g=a.getStride(),h=a.getEnds(),k=e.length/g-1;d=d?d:0;for(var l,m,n=0;n<=k;++n)m=n*g,l=d+2*ol.math.modulo(n,k)*Math.PI/k,e[m]=b[0]+c*Math.cos(l),e[m+1]=b[1]+c*Math.sin(l);a.setFlatCoordinates(f,e,h)};ol.View=function(a){ol.Object.call(this);a=ol.obj.assign({},a);this.hints_=[0,0];this.animations_=[];this.updateAnimations_=this.updateAnimations_.bind(this);this.projection_=ol.proj.createProjection(a.projection,"EPSG:3857");this.applyOptions_(a)};ol.inherits(ol.View,ol.Object);
ol.View.prototype.applyOptions_=function(a){var b={};b[ol.ViewProperty.CENTER]=void 0!==a.center?a.center:null;var c=ol.View.createResolutionConstraint_(a);this.maxResolution_=c.maxResolution;this.minResolution_=c.minResolution;this.zoomFactor_=c.zoomFactor;this.resolutions_=a.resolutions;this.minZoom_=c.minZoom;var d=ol.View.createCenterConstraint_(a);c=c.constraint;var e=ol.View.createRotationConstraint_(a);this.constraints_={center:d,resolution:c,rotation:e};void 0!==a.resolution?b[ol.ViewProperty.RESOLUTION]=
a.resolution:void 0!==a.zoom&&(b[ol.ViewProperty.RESOLUTION]=this.constrainResolution(this.maxResolution_,a.zoom-this.minZoom_));b[ol.ViewProperty.ROTATION]=void 0!==a.rotation?a.rotation:0;this.setProperties(b);this.options_=a};ol.View.prototype.getUpdatedOptions_=function(a){var b=ol.obj.assign({},this.options_);void 0!==b.resolution?b.resolution=this.getResolution():b.zoom=this.getZoom();b.center=this.getCenter();b.rotation=this.getRotation();return ol.obj.assign({},b,a)};
ol.View.prototype.animate=function(a){var b=arguments.length;if(1<b&&"function"===typeof arguments[b-1]){var c=arguments[b-1];--b}if(this.isDef()){for(var d=Date.now(),e=this.getCenter().slice(),f=this.getResolution(),g=this.getRotation(),h=[],k=0;k<b;++k){var l=arguments[k],m={start:d,complete:!1,anchor:l.anchor,duration:void 0!==l.duration?l.duration:1E3,easing:l.easing||ol.easing.inAndOut};l.center&&(m.sourceCenter=e,m.targetCenter=l.center,e=m.targetCenter);void 0!==l.zoom?(m.sourceResolution=
f,m.targetResolution=this.constrainResolution(this.maxResolution_,l.zoom-this.minZoom_,0),f=m.targetResolution):l.resolution&&(m.sourceResolution=f,m.targetResolution=l.resolution,f=m.targetResolution);void 0!==l.rotation&&(m.sourceRotation=g,l=ol.math.modulo(l.rotation-g+Math.PI,2*Math.PI)-Math.PI,m.targetRotation=g+l,g=m.targetRotation);m.callback=c;ol.View.isNoopAnimation(m)?m.complete=!0:d+=m.duration;h.push(m)}this.animations_.push(h);this.setHint(ol.ViewHint.ANIMATING,1);this.updateAnimations_()}else b=
arguments[b-1],b.center&&this.setCenter(b.center),void 0!==b.zoom&&this.setZoom(b.zoom),void 0!==b.rotation&&this.setRotation(b.rotation),c&&c(!0)};ol.View.prototype.getAnimating=function(){return 0<this.getHints()[ol.ViewHint.ANIMATING]};ol.View.prototype.getInteracting=function(){return 0<this.getHints()[ol.ViewHint.INTERACTING]};
ol.View.prototype.cancelAnimations=function(){this.setHint(ol.ViewHint.ANIMATING,-this.getHints()[ol.ViewHint.ANIMATING]);for(var a=0,b=this.animations_.length;a<b;++a){var c=this.animations_[a];c[0].callback&&c[0].callback(!1)}this.animations_.length=0};
ol.View.prototype.updateAnimations_=function(){void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0);if(this.getAnimating()){for(var a=Date.now(),b=!1,c=this.animations_.length-1;0<=c;--c){for(var d=this.animations_[c],e=!0,f=0,g=d.length;f<g;++f){var h=d[f];if(!h.complete){b=a-h.start;b=0<h.duration?b/h.duration:1;1<=b?(h.complete=!0,b=1):e=!1;b=h.easing(b);if(h.sourceCenter){var k=h.sourceCenter[0],l=h.sourceCenter[1];this.set(ol.ViewProperty.CENTER,
[k+b*(h.targetCenter[0]-k),l+b*(h.targetCenter[1]-l)])}h.sourceResolution&&h.targetResolution&&(k=1===b?h.targetResolution:h.sourceResolution+b*(h.targetResolution-h.sourceResolution),h.anchor&&this.set(ol.ViewProperty.CENTER,this.calculateCenterZoom(k,h.anchor)),this.set(ol.ViewProperty.RESOLUTION,k));void 0!==h.sourceRotation&&void 0!==h.targetRotation&&(b=1===b?ol.math.modulo(h.targetRotation+Math.PI,2*Math.PI)-Math.PI:h.sourceRotation+b*(h.targetRotation-h.sourceRotation),h.anchor&&this.set(ol.ViewProperty.CENTER,
this.calculateCenterRotate(b,h.anchor)),this.set(ol.ViewProperty.ROTATION,b));b=!0;if(!h.complete)break}}e&&(this.animations_[c]=null,this.setHint(ol.ViewHint.ANIMATING,-1),(d=d[0].callback)&&d(!0))}this.animations_=this.animations_.filter(Boolean);b&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}};
ol.View.prototype.calculateCenterRotate=function(a,b){var c=this.getCenter();if(void 0!==c){var d=[c[0]-b[0],c[1]-b[1]];ol.coordinate.rotate(d,a-this.getRotation());ol.coordinate.add(d,b)}return d};ol.View.prototype.calculateCenterZoom=function(a,b){var c,d=this.getCenter(),e=this.getResolution();void 0!==d&&void 0!==e&&(c=[b[0]-a*(b[0]-d[0])/e,b[1]-a*(b[1]-d[1])/e]);return c};
ol.View.prototype.getSizeFromViewport_=function(){var a=[100,100],b='.ol-viewport[data-view="'+ol.getUid(this)+'"]';if(b=document.querySelector(b))b=getComputedStyle(b),a[0]=parseInt(b.width,10),a[1]=parseInt(b.height,10);return a};ol.View.prototype.constrainCenter=function(a){return this.constraints_.center(a)};ol.View.prototype.constrainResolution=function(a,b,c){return this.constraints_.resolution(a,b||0,c||0)};
ol.View.prototype.constrainRotation=function(a,b){return this.constraints_.rotation(a,b||0)};ol.View.prototype.getCenter=function(){return this.get(ol.ViewProperty.CENTER)};ol.View.prototype.getConstraints=function(){return this.constraints_};ol.View.prototype.getHints=function(a){return void 0!==a?(a[0]=this.hints_[0],a[1]=this.hints_[1],a):this.hints_.slice()};
ol.View.prototype.calculateExtent=function(a){a=a||this.getSizeFromViewport_();var b=this.getCenter();ol.asserts.assert(b,1);var c=this.getResolution();ol.asserts.assert(void 0!==c,2);var d=this.getRotation();ol.asserts.assert(void 0!==d,3);return ol.extent.getForViewAndSize(b,c,d,a)};ol.View.prototype.getMaxResolution=function(){return this.maxResolution_};ol.View.prototype.getMinResolution=function(){return this.minResolution_};ol.View.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)};
ol.View.prototype.setMaxZoom=function(a){this.applyOptions_(this.getUpdatedOptions_({maxZoom:a}))};ol.View.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)};ol.View.prototype.setMinZoom=function(a){this.applyOptions_(this.getUpdatedOptions_({minZoom:a}))};ol.View.prototype.getProjection=function(){return this.projection_};ol.View.prototype.getResolution=function(){return this.get(ol.ViewProperty.RESOLUTION)};ol.View.prototype.getResolutions=function(){return this.resolutions_};
ol.View.prototype.getResolutionForExtent=function(a,b){var c=b||this.getSizeFromViewport_();b=ol.extent.getWidth(a)/c[0];a=ol.extent.getHeight(a)/c[1];return Math.max(b,a)};ol.View.prototype.getResolutionForValueFunction=function(a){var b=a||2,c=this.maxResolution_,d=Math.log(c/this.minResolution_)/Math.log(b);return function(a){return c/Math.pow(b,a*d)}};ol.View.prototype.getRotation=function(){return this.get(ol.ViewProperty.ROTATION)};
ol.View.prototype.getValueForResolutionFunction=function(a){var b=a||2,c=this.maxResolution_,d=Math.log(c/this.minResolution_)/Math.log(b);return function(a){return Math.log(c/a)/Math.log(b)/d}};ol.View.prototype.getState=function(){var a=this.getCenter(),b=this.getProjection(),c=this.getResolution(),d=this.getRotation();return{center:a.slice(),projection:void 0!==b?b:null,resolution:c,rotation:d}};
ol.View.prototype.getZoom=function(){var a,b=this.getResolution();void 0!==b&&(a=this.getZoomForResolution(b));return a};ol.View.prototype.getZoomForResolution=function(a){if(a>=this.minResolution_&&a<=this.maxResolution_){var b=this.minZoom_||0;if(this.resolutions_){var c=ol.array.linearFindNearest(this.resolutions_,a,1);b+=c;if(c==this.resolutions_.length-1)return b;var d=this.resolutions_[c];c=d/this.resolutions_[c+1]}else d=this.maxResolution_,c=this.zoomFactor_;b+=Math.log(d/a)/Math.log(c)}return b};
ol.View.prototype.getResolutionForZoom=function(a){return this.constrainResolution(this.maxResolution_,a-this.minZoom_,0)};
ol.View.prototype.fit=function(a,b){b=b||{};var c=b.size;c||(c=this.getSizeFromViewport_());if(a instanceof ol.geom.SimpleGeometry)if(a.getType()===ol.geom.GeometryType.CIRCLE){a=a.getExtent();var d=ol.geom.Polygon.fromExtent(a);d.rotate(this.getRotation(),ol.extent.getCenter(a))}else d=a;else ol.asserts.assert(Array.isArray(a),24),ol.asserts.assert(!ol.extent.isEmpty(a),25),d=ol.geom.Polygon.fromExtent(a);var e=void 0!==b.padding?b.padding:[0,0,0,0],f=void 0!==b.constrainResolution?b.constrainResolution:
!0,g=void 0!==b.nearest?b.nearest:!1;var h=void 0!==b.minResolution?b.minResolution:void 0!==b.maxZoom?this.constrainResolution(this.maxResolution_,b.maxZoom-this.minZoom_,0):0;var k=d.getFlatCoordinates(),l=this.getRotation();a=Math.cos(-l);l=Math.sin(-l);var m=Infinity,n=Infinity,p=-Infinity,q=-Infinity;d=d.getStride();for(var r=0,u=k.length;r<u;r+=d){var t=k[r]*a-k[r+1]*l,w=k[r]*l+k[r+1]*a;m=Math.min(m,t);n=Math.min(n,w);p=Math.max(p,t);q=Math.max(q,w)}c=this.getResolutionForExtent([m,n,p,q],[c[0]-
e[1]-e[3],c[1]-e[0]-e[2]]);c=isNaN(c)?h:Math.max(c,h);f&&(f=this.constrainResolution(c,0,0),!g&&f<c&&(f=this.constrainResolution(f,-1,0)),c=f);l=-l;g=(m+p)/2+(e[1]-e[3])/2*c;e=(n+q)/2+(e[0]-e[2])/2*c;a=[g*a-e*l,e*a+g*l];e=b.callback?b.callback:ol.nullFunction;void 0!==b.duration?this.animate({resolution:c,center:a,duration:b.duration,easing:b.easing},e):(this.setResolution(c),this.setCenter(a),setTimeout(e.bind(void 0,!0),0))};
ol.View.prototype.centerOn=function(a,b,c){var d=this.getRotation(),e=Math.cos(-d);d=Math.sin(-d);var f=a[0]*e-a[1]*d;a=a[1]*e+a[0]*d;var g=this.getResolution();f+=(b[0]/2-c[0])*g;a+=(c[1]-b[1]/2)*g;d=-d;this.setCenter([f*e-a*d,a*e+f*d])};ol.View.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()};ol.View.prototype.rotate=function(a,b){void 0!==b&&(b=this.calculateCenterRotate(a,b),this.setCenter(b));this.setRotation(a)};
ol.View.prototype.setCenter=function(a){this.set(ol.ViewProperty.CENTER,a);this.getAnimating()&&this.cancelAnimations()};ol.View.prototype.setHint=function(a,b){this.hints_[a]+=b;this.changed();return this.hints_[a]};ol.View.prototype.setResolution=function(a){this.set(ol.ViewProperty.RESOLUTION,a);this.getAnimating()&&this.cancelAnimations()};ol.View.prototype.setRotation=function(a){this.set(ol.ViewProperty.ROTATION,a);this.getAnimating()&&this.cancelAnimations()};ol.View.prototype.setZoom=function(a){this.setResolution(this.getResolutionForZoom(a))};
ol.View.createCenterConstraint_=function(a){return void 0!==a.extent?ol.CenterConstraint.createExtent(a.extent):ol.CenterConstraint.none};
ol.View.createResolutionConstraint_=function(a){var b=void 0!==a.minZoom?a.minZoom:ol.DEFAULT_MIN_ZOOM,c=void 0!==a.maxZoom?a.maxZoom:28,d=void 0!==a.zoomFactor?a.zoomFactor:2;if(void 0!==a.resolutions){a=a.resolutions;var e=a[0];var f=a[a.length-1];a=ol.ResolutionConstraint.createSnapToResolutions(a)}else{e=ol.proj.createProjection(a.projection,"EPSG:3857");f=e.getExtent();var g=(f?Math.max(ol.extent.getWidth(f),ol.extent.getHeight(f)):360*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/e.getMetersPerUnit())/
ol.DEFAULT_TILE_SIZE/Math.pow(2,ol.DEFAULT_MIN_ZOOM),h=g/Math.pow(2,28-ol.DEFAULT_MIN_ZOOM);e=a.maxResolution;void 0!==e?b=0:e=g/Math.pow(d,b);f=a.minResolution;void 0===f&&(f=void 0!==a.maxZoom?void 0!==a.maxResolution?e/Math.pow(d,c):g/Math.pow(d,c):h);c=b+Math.floor(Math.log(e/f)/Math.log(d));f=e/Math.pow(d,c-b);a=ol.ResolutionConstraint.createSnapToPower(d,e,c-b)}return{constraint:a,maxResolution:e,minResolution:f,minZoom:b,zoomFactor:d}};
ol.View.createRotationConstraint_=function(a){return(void 0!==a.enableRotation?a.enableRotation:1)?(a=a.constrainRotation,void 0===a||!0===a?ol.RotationConstraint.createSnapToZero():!1===a?ol.RotationConstraint.none:"number"===typeof a?ol.RotationConstraint.createSnapToN(a):ol.RotationConstraint.none):ol.RotationConstraint.disable};
ol.View.isNoopAnimation=function(a){return a.sourceCenter&&a.targetCenter&&!ol.coordinate.equals(a.sourceCenter,a.targetCenter)||a.sourceResolution!==a.targetResolution||a.sourceRotation!==a.targetRotation?!1:!0};ol.LayerType={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"};ol.layer={};ol.layer.Property={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"};ol.layer.Base=function(a){ol.Object.call(this);var b=ol.obj.assign({},a);b[ol.layer.Property.OPACITY]=void 0!==a.opacity?a.opacity:1;b[ol.layer.Property.VISIBLE]=void 0!==a.visible?a.visible:!0;b[ol.layer.Property.Z_INDEX]=void 0!==a.zIndex?a.zIndex:0;b[ol.layer.Property.MAX_RESOLUTION]=void 0!==a.maxResolution?a.maxResolution:Infinity;b[ol.layer.Property.MIN_RESOLUTION]=void 0!==a.minResolution?a.minResolution:0;this.setProperties(b);this.state_={layer:this,managed:!0}};
ol.inherits(ol.layer.Base,ol.Object);ol.layer.Base.prototype.getType=function(){return this.type};ol.layer.Base.prototype.getLayerState=function(){this.state_.opacity=ol.math.clamp(this.getOpacity(),0,1);this.state_.sourceState=this.getSourceState();this.state_.visible=this.getVisible();this.state_.extent=this.getExtent();this.state_.zIndex=this.getZIndex();this.state_.maxResolution=this.getMaxResolution();this.state_.minResolution=Math.max(this.getMinResolution(),0);return this.state_};
ol.layer.Base.prototype.getLayersArray=function(a){};ol.layer.Base.prototype.getLayerStatesArray=function(a){};ol.layer.Base.prototype.getExtent=function(){return this.get(ol.layer.Property.EXTENT)};ol.layer.Base.prototype.getMaxResolution=function(){return this.get(ol.layer.Property.MAX_RESOLUTION)};ol.layer.Base.prototype.getMinResolution=function(){return this.get(ol.layer.Property.MIN_RESOLUTION)};ol.layer.Base.prototype.getOpacity=function(){return this.get(ol.layer.Property.OPACITY)};
ol.layer.Base.prototype.getSourceState=function(){};ol.layer.Base.prototype.getVisible=function(){return this.get(ol.layer.Property.VISIBLE)};ol.layer.Base.prototype.getZIndex=function(){return this.get(ol.layer.Property.Z_INDEX)};ol.layer.Base.prototype.setExtent=function(a){this.set(ol.layer.Property.EXTENT,a)};ol.layer.Base.prototype.setMaxResolution=function(a){this.set(ol.layer.Property.MAX_RESOLUTION,a)};
ol.layer.Base.prototype.setMinResolution=function(a){this.set(ol.layer.Property.MIN_RESOLUTION,a)};ol.layer.Base.prototype.setOpacity=function(a){this.set(ol.layer.Property.OPACITY,a)};ol.layer.Base.prototype.setVisible=function(a){this.set(ol.layer.Property.VISIBLE,a)};ol.layer.Base.prototype.setZIndex=function(a){this.set(ol.layer.Property.Z_INDEX,a)};ol.render.EventType={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render"};ol.source={};ol.source.State={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"};ol.layer.Layer=function(a){var b=ol.obj.assign({},a);delete b.source;ol.layer.Base.call(this,b);this.sourceChangeKey_=this.mapRenderKey_=this.mapPrecomposeKey_=null;a.map&&this.setMap(a.map);ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Property.SOURCE),this.handleSourcePropertyChange_,this);this.setSource(a.source?a.source:null)};ol.inherits(ol.layer.Layer,ol.layer.Base);ol.layer.Layer.visibleAtResolution=function(a,b){return a.visible&&b>=a.minResolution&&b<a.maxResolution};
ol.layer.Layer.prototype.getLayersArray=function(a){a=a?a:[];a.push(this);return a};ol.layer.Layer.prototype.getLayerStatesArray=function(a){a=a?a:[];a.push(this.getLayerState());return a};ol.layer.Layer.prototype.getSource=function(){return this.get(ol.layer.Property.SOURCE)||null};ol.layer.Layer.prototype.getSourceState=function(){var a=this.getSource();return a?a.getState():ol.source.State.UNDEFINED};ol.layer.Layer.prototype.handleSourceChange_=function(){this.changed()};
ol.layer.Layer.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(ol.events.unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var a=this.getSource();a&&(this.sourceChangeKey_=ol.events.listen(a,ol.events.EventType.CHANGE,this.handleSourceChange_,this));this.changed()};
ol.layer.Layer.prototype.setMap=function(a){this.mapPrecomposeKey_&&(ol.events.unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null);a||this.changed();this.mapRenderKey_&&(ol.events.unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null);a&&(this.mapPrecomposeKey_=ol.events.listen(a,ol.render.EventType.PRECOMPOSE,function(a){var b=this.getLayerState();b.managed=!1;b.zIndex=Infinity;a.frameState.layerStatesArray.push(b);a.frameState.layerStates[ol.getUid(this)]=b},this),this.mapRenderKey_=
ol.events.listen(this,ol.events.EventType.CHANGE,a.render,a),this.changed())};ol.layer.Layer.prototype.setSource=function(a){this.set(ol.layer.Property.SOURCE,a)};ol.layer.TileProperty={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};ol.layer.Tile=function(a){a=a?a:{};var b=ol.obj.assign({},a);delete b.preload;delete b.useInterimTilesOnError;ol.layer.Layer.call(this,b);this.setPreload(void 0!==a.preload?a.preload:0);this.setUseInterimTilesOnError(void 0!==a.useInterimTilesOnError?a.useInterimTilesOnError:!0);this.type=ol.LayerType.TILE};ol.inherits(ol.layer.Tile,ol.layer.Layer);ol.layer.Tile.prototype.getPreload=function(){return this.get(ol.layer.TileProperty.PRELOAD)};
ol.layer.Tile.prototype.setPreload=function(a){this.set(ol.layer.TileProperty.PRELOAD,a)};ol.layer.Tile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR)};ol.layer.Tile.prototype.setUseInterimTilesOnError=function(a){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,a)};ol.layer.Vector=function(a){a=a?a:{};var b=ol.obj.assign({},a);delete b.style;delete b.renderBuffer;delete b.updateWhileAnimating;delete b.updateWhileInteracting;ol.layer.Layer.call(this,b);this.renderBuffer_=void 0!==a.renderBuffer?a.renderBuffer:100;this.style_=null;this.styleFunction_=void 0;this.setStyle(a.style);this.updateWhileAnimating_=void 0!==a.updateWhileAnimating?a.updateWhileAnimating:!1;this.updateWhileInteracting_=void 0!==a.updateWhileInteracting?a.updateWhileInteracting:!1;this.type=
ol.LayerType.VECTOR};ol.inherits(ol.layer.Vector,ol.layer.Layer);ol.layer.Vector.prototype.getRenderBuffer=function(){return this.renderBuffer_};ol.layer.Vector.prototype.getRenderOrder=function(){return this.get(ol.layer.Vector.Property_.RENDER_ORDER)};ol.layer.Vector.prototype.getStyle=function(){return this.style_};ol.layer.Vector.prototype.getStyleFunction=function(){return this.styleFunction_};ol.layer.Vector.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_};
ol.layer.Vector.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_};ol.layer.Vector.prototype.setRenderOrder=function(a){this.set(ol.layer.Vector.Property_.RENDER_ORDER,a)};ol.layer.Vector.prototype.setStyle=function(a){this.style_=void 0!==a?a:ol.style.Style.defaultFunction;this.styleFunction_=null===a?void 0:ol.style.Style.createFunction(this.style_);this.changed()};ol.layer.Vector.Property_={RENDER_ORDER:"renderOrder"};ol.renderer={};ol.renderer.Type={CANVAS:"canvas",WEBGL:"webgl"};ol.format={};ol.format.FormatType={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};ol.xml={};ol.xml.DOCUMENT=document.implementation.createDocument("","",null);ol.xml.createElementNS=function(a,b){return ol.xml.DOCUMENT.createElementNS(a,b)};ol.xml.getAllTextContent=function(a,b){return ol.xml.getAllTextContent_(a,b,[]).join("")};
ol.xml.getAllTextContent_=function(a,b,c){if(a.nodeType==Node.CDATA_SECTION_NODE||a.nodeType==Node.TEXT_NODE)b?c.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(a.nodeValue);else for(a=a.firstChild;a;a=a.nextSibling)ol.xml.getAllTextContent_(a,b,c);return c};ol.xml.isDocument=function(a){return a instanceof Document};ol.xml.isNode=function(a){return a instanceof Node};ol.xml.getAttributeNS=function(a,b,c){return a.getAttributeNS(b,c)||""};
ol.xml.setAttributeNS=function(a,b,c,d){a.setAttributeNS(b,c,d)};ol.xml.parse=function(a){return(new DOMParser).parseFromString(a,"application/xml")};ol.xml.makeArrayExtender=function(a,b){return function(c,d){c=a.call(b,c,d);void 0!==c&&ol.array.extend(d[d.length-1],c)}};ol.xml.makeArrayPusher=function(a,b){return function(c,d){c=a.call(void 0!==b?b:this,c,d);void 0!==c&&d[d.length-1].push(c)}};
ol.xml.makeReplacer=function(a,b){return function(c,d){c=a.call(void 0!==b?b:this,c,d);void 0!==c&&(d[d.length-1]=c)}};ol.xml.makeObjectPropertyPusher=function(a,b,c){return function(d,e){var f=a.call(void 0!==c?c:this,d,e);void 0!==f&&(e=e[e.length-1],d=void 0!==b?b:d.localName,(d in e?e[d]:e[d]=[]).push(f))}};ol.xml.makeObjectPropertySetter=function(a,b,c){return function(d,e){var f=a.call(void 0!==c?c:this,d,e);void 0!==f&&(e[e.length-1][void 0!==b?b:d.localName]=f)}};
ol.xml.makeChildAppender=function(a,b){return function(c,d,e){a.call(void 0!==b?b:this,c,d,e);e[e.length-1].node.appendChild(c)}};ol.xml.makeArraySerializer=function(a,b){var c,d;return function(b,f,g){if(void 0===c){c={};var e={};e[b.localName]=a;c[b.namespaceURI]=e;d=ol.xml.makeSimpleNodeFactory(b.localName)}ol.xml.serialize(c,d,f,g)}};
ol.xml.makeSimpleNodeFactory=function(a,b){return function(c,d,e){c=d[d.length-1].node;d=a;void 0===d&&(d=e);e=b;void 0===b&&(e=c.namespaceURI);return ol.xml.createElementNS(e,d)}};ol.xml.OBJECT_PROPERTY_NODE_FACTORY=ol.xml.makeSimpleNodeFactory();ol.xml.makeSequence=function(a,b){for(var c=b.length,d=Array(c),e=0;e<c;++e)d[e]=a[b[e]];return d};ol.xml.makeStructureNS=function(a,b,c){c=void 0!==c?c:{};var d;var e=0;for(d=a.length;e<d;++e)c[a[e]]=b;return c};
ol.xml.parseNode=function(a,b,c,d){for(b=b.firstElementChild;b;b=b.nextElementSibling){var e=a[b.namespaceURI];void 0!==e&&(e=e[b.localName],void 0!==e&&e.call(d,b,c))}};ol.xml.pushParseAndPop=function(a,b,c,d,e){d.push(a);ol.xml.parseNode(b,c,d,e);return d.pop()};ol.xml.serialize=function(a,b,c,d,e,f){for(var g=(void 0!==e?e:c).length,h,k,l=0;l<g;++l)h=c[l],void 0!==h&&(k=b.call(f,h,d,void 0!==e?e[l]:void 0),void 0!==k&&a[k.namespaceURI][k.localName].call(f,k,h,d))};
ol.xml.pushSerializeAndPop=function(a,b,c,d,e,f,g){e.push(a);ol.xml.serialize(b,c,d,e,f,g);return e.pop()};ol.featureloader={};
ol.featureloader.loadFeaturesXhr=function(a,b,c,d){return function(e,f,g){var h=new XMLHttpRequest;h.open("GET","function"===typeof a?a(e,f,g):a,!0);b.getType()==ol.format.FormatType.ARRAY_BUFFER&&(h.responseType="arraybuffer");h.onload=function(a){if(!h.status||200<=h.status&&300>h.status){a=b.getType();if(a==ol.format.FormatType.JSON||a==ol.format.FormatType.TEXT)var e=h.responseText;else a==ol.format.FormatType.XML?(e=h.responseXML)||(e=ol.xml.parse(h.responseText)):a==ol.format.FormatType.ARRAY_BUFFER&&(e=
h.response);e?c.call(this,b.readFeatures(e,{featureProjection:g}),b.readProjection(e),b.getLastExtent()):d.call(this)}else d.call(this)}.bind(this);h.onerror=function(){d.call(this)}.bind(this);h.send()}};ol.featureloader.xhr=function(a,b){return ol.featureloader.loadFeaturesXhr(a,b,function(a,b){this.addFeatures(a)},ol.nullFunction)};ol.loadingstrategy={};ol.loadingstrategy.all=function(a,b){return[[-Infinity,-Infinity,Infinity,Infinity]]};ol.loadingstrategy.bbox=function(a,b){return[a]};ol.loadingstrategy.tile=function(a){return function(b,c){c=a.getZForResolution(c);b=a.getTileRangeForExtentAndZ(b,c);var d=[];c=[c,0,0];for(c[1]=b.minX;c[1]<=b.maxX;++c[1])for(c[2]=b.minY;c[2]<=b.maxY;++c[2])d.push(a.getTileCoordExtent(c));return d}};ol.TileRange=function(a,b,c,d){this.minX=a;this.maxX=b;this.minY=c;this.maxY=d};ol.TileRange.createOrUpdate=function(a,b,c,d,e){return void 0!==e?(e.minX=a,e.maxX=b,e.minY=c,e.maxY=d,e):new ol.TileRange(a,b,c,d)};ol.TileRange.prototype.contains=function(a){return this.containsXY(a[1],a[2])};ol.TileRange.prototype.containsTileRange=function(a){return this.minX<=a.minX&&a.maxX<=this.maxX&&this.minY<=a.minY&&a.maxY<=this.maxY};
ol.TileRange.prototype.containsXY=function(a,b){return this.minX<=a&&a<=this.maxX&&this.minY<=b&&b<=this.maxY};ol.TileRange.prototype.equals=function(a){return this.minX==a.minX&&this.minY==a.minY&&this.maxX==a.maxX&&this.maxY==a.maxY};ol.TileRange.prototype.extend=function(a){a.minX<this.minX&&(this.minX=a.minX);a.maxX>this.maxX&&(this.maxX=a.maxX);a.minY<this.minY&&(this.minY=a.minY);a.maxY>this.maxY&&(this.maxY=a.maxY)};ol.TileRange.prototype.getHeight=function(){return this.maxY-this.minY+1};
ol.TileRange.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]};ol.TileRange.prototype.getWidth=function(){return this.maxX-this.minX+1};ol.TileRange.prototype.intersects=function(a){return this.minX<=a.maxX&&this.maxX>=a.minX&&this.minY<=a.maxY&&this.maxY>=a.minY};ol.size={};ol.size.buffer=function(a,b,c){void 0===c&&(c=[0,0]);c[0]=a[0]+2*b;c[1]=a[1]+2*b;return c};ol.size.hasArea=function(a){return 0<a[0]&&0<a[1]};ol.size.scale=function(a,b,c){void 0===c&&(c=[0,0]);c[0]=a[0]*b+.5|0;c[1]=a[1]*b+.5|0;return c};ol.size.toSize=function(a,b){if(Array.isArray(a))return a;void 0===b?b=[a,a]:b[0]=b[1]=a;return b};ol.tilecoord={};ol.tilecoord.createOrUpdate=function(a,b,c,d){return void 0!==d?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]};ol.tilecoord.getKeyZXY=function(a,b,c){return a+"/"+b+"/"+c};ol.tilecoord.getKey=function(a){return ol.tilecoord.getKeyZXY(a[0],a[1],a[2])};ol.tilecoord.fromKey=function(a){return a.split("/").map(Number)};ol.tilecoord.hash=function(a){return(a[1]<<a[0])+a[2]};
ol.tilecoord.quadKey=function(a){var b=a[0],c=Array(b),d=1<<b-1,e;for(e=0;e<b;++e){var f=48;a[1]&d&&(f+=1);a[2]&d&&(f+=2);c[e]=String.fromCharCode(f);d>>=1}return c.join("")};ol.tilecoord.withinExtentAndZ=function(a,b){var c=a[0],d=a[1];a=a[2];if(b.getMinZoom()>c||c>b.getMaxZoom())return!1;var e=b.getExtent();return(b=e?b.getTileRangeForExtentAndZ(e,c):b.getFullTileRange(c))?b.containsXY(d,a):!0};ol.tilegrid={};
ol.tilegrid.TileGrid=function(a){this.minZoom=void 0!==a.minZoom?a.minZoom:0;this.resolutions_=a.resolutions;ol.asserts.assert(ol.array.isSorted(this.resolutions_,function(a,b){return b-a},!0),17);if(!a.origins)for(var b=0,c=this.resolutions_.length-1;b<c;++b)if(!d)var d=this.resolutions_[b]/this.resolutions_[b+1];else if(this.resolutions_[b]/this.resolutions_[b+1]!==d){d=void 0;break}this.zoomFactor_=d;this.maxZoom=this.resolutions_.length-1;this.origin_=void 0!==a.origin?a.origin:null;this.origins_=
null;void 0!==a.origins&&(this.origins_=a.origins,ol.asserts.assert(this.origins_.length==this.resolutions_.length,20));d=a.extent;void 0===d||this.origin_||this.origins_||(this.origin_=ol.extent.getTopLeft(d));ol.asserts.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=null;void 0!==a.tileSizes&&(this.tileSizes_=a.tileSizes,ol.asserts.assert(this.tileSizes_.length==this.resolutions_.length,19));this.tileSize_=void 0!==a.tileSize?a.tileSize:this.tileSizes_?null:
ol.DEFAULT_TILE_SIZE;ol.asserts.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22);this.extent_=void 0!==d?d:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];void 0!==a.sizes?this.fullTileRanges_=a.sizes.map(function(a,b){return new ol.TileRange(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1))},this):d&&this.calculateTileRanges_(d)};ol.tilegrid.TileGrid.tmpTileCoord_=[0,0,0];
ol.tilegrid.TileGrid.prototype.forEachTileCoord=function(a,b,c){a=this.getTileRangeForExtentAndZ(a,b);for(var d=a.minX,e=a.maxX;d<=e;++d)for(var f=a.minY,g=a.maxY;f<=g;++f)c([b,d,f])};
ol.tilegrid.TileGrid.prototype.forEachTileCoordParentTileRange=function(a,b,c,d,e){var f=null,g=a[0]-1;if(2===this.zoomFactor_){var h=a[1];var k=a[2]}else f=this.getTileCoordExtent(a,e);for(;g>=this.minZoom;){2===this.zoomFactor_?(h=Math.floor(h/2),k=Math.floor(k/2),a=ol.TileRange.createOrUpdate(h,h,k,k,d)):a=this.getTileRangeForExtentAndZ(f,g,d);if(b.call(c,g,a))return!0;--g}return!1};ol.tilegrid.TileGrid.prototype.getExtent=function(){return this.extent_};
ol.tilegrid.TileGrid.prototype.getMaxZoom=function(){return this.maxZoom};ol.tilegrid.TileGrid.prototype.getMinZoom=function(){return this.minZoom};ol.tilegrid.TileGrid.prototype.getOrigin=function(a){return this.origin_?this.origin_:this.origins_[a]};ol.tilegrid.TileGrid.prototype.getResolution=function(a){return this.resolutions_[a]};ol.tilegrid.TileGrid.prototype.getResolutions=function(){return this.resolutions_};
ol.tilegrid.TileGrid.prototype.getTileCoordChildTileRange=function(a,b,c){if(a[0]<this.maxZoom){if(2===this.zoomFactor_)return c=2*a[1],a=2*a[2],ol.TileRange.createOrUpdate(c,c+1,a,a+1,b);c=this.getTileCoordExtent(a,c);return this.getTileRangeForExtentAndZ(c,a[0]+1,b)}return null};
ol.tilegrid.TileGrid.prototype.getTileRangeExtent=function(a,b,c){var d=this.getOrigin(a),e=this.getResolution(a);a=ol.size.toSize(this.getTileSize(a),this.tmpSize_);return ol.extent.createOrUpdate(d[0]+b.minX*a[0]*e,d[1]+b.minY*a[1]*e,d[0]+(b.maxX+1)*a[0]*e,d[1]+(b.maxY+1)*a[1]*e,c)};
ol.tilegrid.TileGrid.prototype.getTileRangeForExtentAndZ=function(a,b,c){var d=ol.tilegrid.TileGrid.tmpTileCoord_;this.getTileCoordForXYAndZ_(a[0],a[1],b,!1,d);var e=d[1],f=d[2];this.getTileCoordForXYAndZ_(a[2],a[3],b,!0,d);return ol.TileRange.createOrUpdate(e,d[1],f,d[2],c)};ol.tilegrid.TileGrid.prototype.getTileCoordCenter=function(a){var b=this.getOrigin(a[0]),c=this.getResolution(a[0]),d=ol.size.toSize(this.getTileSize(a[0]),this.tmpSize_);return[b[0]+(a[1]+.5)*d[0]*c,b[1]+(a[2]+.5)*d[1]*c]};
ol.tilegrid.TileGrid.prototype.getTileCoordExtent=function(a,b){var c=this.getOrigin(a[0]),d=this.getResolution(a[0]),e=ol.size.toSize(this.getTileSize(a[0]),this.tmpSize_),f=c[0]+a[1]*e[0]*d;a=c[1]+a[2]*e[1]*d;return ol.extent.createOrUpdate(f,a,f+e[0]*d,a+e[1]*d,b)};ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution=function(a,b,c){return this.getTileCoordForXYAndResolution_(a[0],a[1],b,!1,c)};
ol.tilegrid.TileGrid.prototype.getTileCoordForXYAndResolution_=function(a,b,c,d,e){var f=this.getZForResolution(c),g=c/this.getResolution(f),h=this.getOrigin(f),k=ol.size.toSize(this.getTileSize(f),this.tmpSize_);a=g*Math.floor((a-h[0])/c+(d?.5:0))/k[0];b=g*Math.floor((b-h[1])/c+(d?0:.5))/k[1];d?(a=Math.ceil(a)-1,b=Math.ceil(b)-1):(a=Math.floor(a),b=Math.floor(b));return ol.tilecoord.createOrUpdate(f,a,b,e)};
ol.tilegrid.TileGrid.prototype.getTileCoordForXYAndZ_=function(a,b,c,d,e){var f=this.getOrigin(c),g=this.getResolution(c),h=ol.size.toSize(this.getTileSize(c),this.tmpSize_);a=Math.floor((a-f[0])/g+(d?.5:0))/h[0];b=Math.floor((b-f[1])/g+(d?0:.5))/h[1];d?(a=Math.ceil(a)-1,b=Math.ceil(b)-1):(a=Math.floor(a),b=Math.floor(b));return ol.tilecoord.createOrUpdate(c,a,b,e)};ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ=function(a,b,c){return this.getTileCoordForXYAndZ_(a[0],a[1],b,!1,c)};
ol.tilegrid.TileGrid.prototype.getTileCoordResolution=function(a){return this.resolutions_[a[0]]};ol.tilegrid.TileGrid.prototype.getTileSize=function(a){return this.tileSize_?this.tileSize_:this.tileSizes_[a]};ol.tilegrid.TileGrid.prototype.getFullTileRange=function(a){return this.fullTileRanges_?this.fullTileRanges_[a]:null};ol.tilegrid.TileGrid.prototype.getZForResolution=function(a,b){a=ol.array.linearFindNearest(this.resolutions_,a,b||0);return ol.math.clamp(a,this.minZoom,this.maxZoom)};
ol.tilegrid.TileGrid.prototype.calculateTileRanges_=function(a){for(var b=this.resolutions_.length,c=Array(b),d=this.minZoom;d<b;++d)c[d]=this.getTileRangeForExtentAndZ(a,d);this.fullTileRanges_=c};ol.tilegrid.getForProjection=function(a){var b=a.getDefaultTileGrid();b||(b=ol.tilegrid.createForProjection(a),a.setDefaultTileGrid(b));return b};ol.tilegrid.wrapX=function(a,b,c){var d=b[0],e=a.getTileCoordCenter(b);c=ol.tilegrid.extentFromProjection(c);if(ol.extent.containsCoordinate(c,e))return b;b=ol.extent.getWidth(c);e[0]+=b*Math.ceil((c[0]-e[0])/b);return a.getTileCoordForCoordAndZ(e,d)};
ol.tilegrid.createForExtent=function(a,b,c,d){d=void 0!==d?d:ol.extent.Corner.TOP_LEFT;b=ol.tilegrid.resolutionsFromExtent(a,b,c);return new ol.tilegrid.TileGrid({extent:a,origin:ol.extent.getCorner(a,d),resolutions:b,tileSize:c})};ol.tilegrid.createXYZ=function(a){var b={};ol.obj.assign(b,void 0!==a?a:{});void 0===b.extent&&(b.extent=ol.proj.get("EPSG:3857").getExtent());b.resolutions=ol.tilegrid.resolutionsFromExtent(b.extent,b.maxZoom,b.tileSize);delete b.maxZoom;return new ol.tilegrid.TileGrid(b)};
ol.tilegrid.resolutionsFromExtent=function(a,b,c){b=void 0!==b?b:ol.DEFAULT_MAX_ZOOM;var d=ol.extent.getHeight(a);a=ol.extent.getWidth(a);c=ol.size.toSize(void 0!==c?c:ol.DEFAULT_TILE_SIZE);c=Math.max(a/c[0],d/c[1]);b+=1;d=Array(b);for(a=0;a<b;++a)d[a]=c/Math.pow(2,a);return d};ol.tilegrid.createForProjection=function(a,b,c,d){a=ol.tilegrid.extentFromProjection(a);return ol.tilegrid.createForExtent(a,b,c,d)};
ol.tilegrid.extentFromProjection=function(a){a=ol.proj.get(a);var b=a.getExtent();b||(a=180*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/a.getMetersPerUnit(),b=ol.extent.createOrUpdate(-a,-a,a,a));return b};ol.Attribution=function(a){this.html_=a.html;this.tileRanges_=a.tileRanges?a.tileRanges:null};ol.Attribution.prototype.getHTML=function(){return this.html_};
ol.Attribution.prototype.intersectsAnyTileRange=function(a,b,c){if(!this.tileRanges_)return!0;var d,e;for(e in a)if(e in this.tileRanges_){var f=a[e];var g=0;for(d=this.tileRanges_[e].length;g<d;++g){var h=this.tileRanges_[e][g];if(h.intersects(f))return!0;var k=b.getTileRangeForExtentAndZ(ol.tilegrid.extentFromProjection(c),parseInt(e,10)),l=k.getWidth();if(f.minX<k.minX||f.maxX>k.maxX)if(h.intersects(new ol.TileRange(ol.math.modulo(f.minX,l),ol.math.modulo(f.maxX,l),f.minY,f.maxY))||f.getWidth()>
l&&h.intersects(k))return!0}}return!1};ol.source.Source=function(a){ol.Object.call(this);this.projection_=ol.proj.get(a.projection);this.attributions_=ol.source.Source.toAttributionsArray_(a.attributions);this.logo_=a.logo;this.state_=void 0!==a.state?a.state:ol.source.State.READY;this.wrapX_=void 0!==a.wrapX?a.wrapX:!1};ol.inherits(ol.source.Source,ol.Object);
ol.source.Source.toAttributionsArray_=function(a){if("string"===typeof a)return[new ol.Attribution({html:a})];if(a instanceof ol.Attribution)return[a];if(Array.isArray(a)){for(var b=a.length,c=Array(b),d=0;d<b;d++){var e=a[d];c[d]="string"===typeof e?new ol.Attribution({html:e}):e}return c}return null};ol.source.Source.prototype.forEachFeatureAtCoordinate=ol.nullFunction;ol.source.Source.prototype.getAttributions=function(){return this.attributions_};ol.source.Source.prototype.getLogo=function(){return this.logo_};
ol.source.Source.prototype.getProjection=function(){return this.projection_};ol.source.Source.prototype.getResolutions=function(){};ol.source.Source.prototype.getState=function(){return this.state_};ol.source.Source.prototype.getWrapX=function(){return this.wrapX_};ol.source.Source.prototype.refresh=function(){this.changed()};ol.source.Source.prototype.setAttributions=function(a){this.attributions_=ol.source.Source.toAttributionsArray_(a);this.changed()};
ol.source.Source.prototype.setLogo=function(a){this.logo_=a};ol.source.Source.prototype.setState=function(a){this.state_=a;this.changed()};ol.source.VectorEventType={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"};ol.ext={};ol.ext.rbush=function(){};
(function(){(function(a){function b(a,b,d,f,g){c(a,b,d||0,f||a.length-1,g||e)}function c(a,b,e,f,g){for(;f>e;){if(600<f-e){var h=f-e+1,k=b-e+1,l=Math.log(h),m=.5*Math.exp(2*l/3);l=.5*Math.sqrt(l*m*(h-m)/h)*(0>k-h/2?-1:1);c(a,b,Math.max(e,Math.floor(b-k*m/h+l)),Math.min(f,Math.floor(b+(h-k)*m/h+l)),g)}h=a[b];k=e;m=f;d(a,e,b);for(0<g(a[f],h)&&d(a,e,f);k<m;){d(a,k,m);k++;for(m--;0>g(a[k],h);)k++;for(;0<g(a[m],h);)m--}0===g(a[e],h)?d(a,e,m):(m++,d(a,m,f));m<=b&&(e=m+1);b<=m&&(f=m-1)}}function d(a,b,c){var d=
a[b];a[b]=a[c];a[c]=d}function e(a,b){return a<b?-1:a>b?1:0}function f(a,b){if(!(this instanceof f))return new f(a,b);this._maxEntries=Math.max(4,a||9);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));b&&this._initFormat(b);this.clear()}function g(a,b){h(a,0,a.children.length,b,a)}function h(a,b,c,d,e){e||(e=u(null));e.minX=Infinity;e.minY=Infinity;e.maxX=-Infinity;e.maxY=-Infinity;for(var f;b<c;b++)f=a.children[b],k(e,a.leaf?d(f):f);return e}function k(a,b){a.minX=Math.min(a.minX,b.minX);
a.minY=Math.min(a.minY,b.minY);a.maxX=Math.max(a.maxX,b.maxX);a.maxY=Math.max(a.maxY,b.maxY);return a}function l(a,b){return a.minX-b.minX}function m(a,b){return a.minY-b.minY}function n(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function p(a){return a.maxX-a.minX+(a.maxY-a.minY)}function q(a,b){return a.minX<=b.minX&&a.minY<=b.minY&&b.maxX<=a.maxX&&b.maxY<=a.maxY}function r(a,b){return b.minX<=a.maxX&&b.minY<=a.maxY&&b.maxX>=a.minX&&b.maxY>=a.minY}function u(a){return{children:a,height:1,leaf:!0,minX:Infinity,
minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function t(a,b,c,d,e){for(var f=[b,c],g;f.length;)c=f.pop(),b=f.pop(),c-b<=d||(g=b+Math.ceil((c-b)/d/2)*d,w(a,g,b,c,e),f.push(b,g,g,c))}var w=b;w.default=b;"use strict";f.prototype={all:function(){return this._all(this.data,[])},search:function(a){var b=this.data,c=[],d=this.toBBox;if(!r(a,b))return c;for(var e=[],f,g,h,k;b;){f=0;for(g=b.children.length;f<g;f++)h=b.children[f],k=b.leaf?d(h):h,r(a,k)&&(b.leaf?c.push(h):q(a,k)?this._all(h,c):e.push(h));b=
e.pop()}return c},collides:function(a){var b=this.data,c=this.toBBox;if(!r(a,b))return!1;for(var d=[],e,f,g,h;b;){e=0;for(f=b.children.length;e<f;e++)if(g=b.children[e],h=b.leaf?c(g):g,r(a,h)){if(b.leaf||q(a,h))return!0;d.push(g)}b=d.pop()}return!1},load:function(a){if(!a||!a.length)return this;if(a.length<this._minEntries){for(var b=0,c=a.length;b<c;b++)this.insert(a[b]);return this}a=this._build(a.slice(),0,a.length-1,0);this.data.children.length?this.data.height===a.height?this._splitRoot(this.data,
a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this._insert(a,this.data.height-a.height-1,!0)):this.data=a;return this},insert:function(a){a&&this._insert(a,this.data.height-1);return this},clear:function(){this.data=u([]);return this},remove:function(a,b){if(!a)return this;for(var c=this.data,d=this.toBBox(a),e=[],f=[],g,h,k,l;c||e.length;){c||(c=e.pop(),h=e[e.length-1],g=f.pop(),l=!0);if(c.leaf){a:{k=a;var m=c.children,n=b;if(n){for(var p=0;p<m.length;p++)if(n(k,m[p])){k=p;break a}k=
-1}else k=m.indexOf(k)}if(-1!==k){c.children.splice(k,1);e.push(c);this._condense(e);break}}l||c.leaf||!q(c,d)?h?(g++,c=h.children[g],l=!1):c=null:(e.push(c),f.push(g),g=0,h=c,c=c.children[0])}return this},toBBox:function(a){return a},compareMinX:l,compareMinY:m,toJSON:function(){return this.data},fromJSON:function(a){this.data=a;return this},_all:function(a,b){for(var c=[];a;)a.leaf?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},_build:function(a,b,c,d){var e=c-b+1,f=this._maxEntries;
if(e<=f){var h=u(a.slice(b,c+1));g(h,this.toBBox);return h}d||(d=Math.ceil(Math.log(e)/Math.log(f)),f=Math.ceil(e/Math.pow(f,d-1)));h=u([]);h.leaf=!1;h.height=d;e=Math.ceil(e/f);f=e*Math.ceil(Math.sqrt(f));var k;for(t(a,b,c,f,this.compareMinX);b<=c;b+=f){var l=Math.min(b+f-1,c);t(a,b,l,e,this.compareMinY);for(k=b;k<=l;k+=e){var m=Math.min(k+e-1,l);h.children.push(this._build(a,k,m,d-1))}}g(h,this.toBBox);return h},_chooseSubtree:function(a,b,c,d){for(var e,f,g,h,k,l,m,p;;){d.push(b);if(b.leaf||d.length-
1===c)break;m=p=Infinity;e=0;for(f=b.children.length;e<f;e++)g=b.children[e],k=n(g),l=(Math.max(g.maxX,a.maxX)-Math.min(g.minX,a.minX))*(Math.max(g.maxY,a.maxY)-Math.min(g.minY,a.minY))-k,l<p?(p=l,m=k<m?k:m,h=g):l===p&&k<m&&(m=k,h=g);b=h||b.children[0]}return b},_insert:function(a,b,c){var d=this.toBBox;c=c?a:d(a);d=[];var e=this._chooseSubtree(c,this.data,b,d);e.children.push(a);for(k(e,c);0<=b;)if(d[b].children.length>this._maxEntries)this._split(d,b),b--;else break;this._adjustParentBBoxes(c,d,
b)},_split:function(a,b){var c=a[b],d=c.children.length,e=this._minEntries;this._chooseSplitAxis(c,e,d);d=this._chooseSplitIndex(c,e,d);d=u(c.children.splice(d,c.children.length-d));d.height=c.height;d.leaf=c.leaf;g(c,this.toBBox);g(d,this.toBBox);b?a[b-1].children.push(d):this._splitRoot(c,d)},_splitRoot:function(a,b){this.data=u([a,b]);this.data.height=a.height+1;this.data.leaf=!1;g(this.data,this.toBBox)},_chooseSplitIndex:function(a,b,c){var d,e;var f=e=Infinity;for(d=b;d<=c-b;d++){var g=h(a,
0,d,this.toBBox);var k=h(a,d,c,this.toBBox);var l=Math.max(0,Math.min(g.maxX,k.maxX)-Math.max(g.minX,k.minX))*Math.max(0,Math.min(g.maxY,k.maxY)-Math.max(g.minY,k.minY));g=n(g)+n(k);if(l<f){f=l;var m=d;e=g<e?g:e}else l===f&&g<e&&(e=g,m=d)}return m},_chooseSplitAxis:function(a,b,c){var d=a.leaf?this.compareMinX:l,e=a.leaf?this.compareMinY:m,f=this._allDistMargin(a,b,c,d);b=this._allDistMargin(a,b,c,e);f<b&&a.children.sort(d)},_allDistMargin:function(a,b,c,d){a.children.sort(d);d=this.toBBox;var e=
h(a,0,b,d),f=h(a,c-b,c,d),g=p(e)+p(f),l;for(l=b;l<c-b;l++){var m=a.children[l];k(e,a.leaf?d(m):m);g+=p(e)}for(l=c-b-1;l>=b;l--)m=a.children[l],k(f,a.leaf?d(m):m),g+=p(f);return g},_adjustParentBBoxes:function(a,b,c){for(;0<=c;c--)k(b[c],a)},_condense:function(a){for(var b=a.length-1,c;0<=b;b--)0===a[b].children.length?0<b?(c=a[b-1].children,c.splice(c.indexOf(a[b]),1)):this.clear():g(a[b],this.toBBox)},_initFormat:function(a){var b=["return a"," - b",";"];this.compareMinX=new Function("a","b",b.join(a[0]));
this.compareMinY=new Function("a","b",b.join(a[1]));this.toBBox=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}};a["default"]=f})(this.rbush=this.rbush||{})}).call(ol.ext);ol.ext.rbush=ol.ext.rbush.default;ol.structs={};ol.structs.RBush=function(a){this.rbush_=ol.ext.rbush(a);this.items_={}};ol.structs.RBush.prototype.insert=function(a,b){a={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:b};this.rbush_.insert(a);this.items_[ol.getUid(b)]=a};ol.structs.RBush.prototype.load=function(a,b){for(var c=Array(b.length),d=0,e=b.length;d<e;d++){var f=a[d],g=b[d];f={minX:f[0],minY:f[1],maxX:f[2],maxY:f[3],value:g};c[d]=f;this.items_[ol.getUid(g)]=f}this.rbush_.load(c)};
ol.structs.RBush.prototype.remove=function(a){a=ol.getUid(a);var b=this.items_[a];delete this.items_[a];return null!==this.rbush_.remove(b)};ol.structs.RBush.prototype.update=function(a,b){var c=this.items_[ol.getUid(b)];ol.extent.equals([c.minX,c.minY,c.maxX,c.maxY],a)||(this.remove(b),this.insert(a,b))};ol.structs.RBush.prototype.getAll=function(){return this.rbush_.all().map(function(a){return a.value})};
ol.structs.RBush.prototype.getInExtent=function(a){return this.rbush_.search({minX:a[0],minY:a[1],maxX:a[2],maxY:a[3]}).map(function(a){return a.value})};ol.structs.RBush.prototype.forEach=function(a,b){return this.forEach_(this.getAll(),a,b)};ol.structs.RBush.prototype.forEachInExtent=function(a,b,c){return this.forEach_(this.getInExtent(a),b,c)};ol.structs.RBush.prototype.forEach_=function(a,b,c){for(var d,e=0,f=a.length;e<f&&!(d=b.call(c,a[e]));e++);return d};
ol.structs.RBush.prototype.isEmpty=function(){return ol.obj.isEmpty(this.items_)};ol.structs.RBush.prototype.clear=function(){this.rbush_.clear();this.items_={}};ol.structs.RBush.prototype.getExtent=function(a){var b=this.rbush_.data;return ol.extent.createOrUpdate(b.minX,b.minY,b.maxX,b.maxY,a)};ol.structs.RBush.prototype.concat=function(a){this.rbush_.load(a.rbush_.all());for(var b in a.items_)this.items_[b|0]=a.items_[b|0]};ol.source.Vector=function(a){a=a||{};ol.source.Source.call(this,{attributions:a.attributions,logo:a.logo,projection:void 0,state:ol.source.State.READY,wrapX:void 0!==a.wrapX?a.wrapX:!0});this.loader_=ol.nullFunction;this.format_=a.format;this.overlaps_=void 0==a.overlaps?!0:a.overlaps;this.url_=a.url;void 0!==a.loader?this.loader_=a.loader:void 0!==this.url_&&(ol.asserts.assert(this.format_,7),this.loader_=ol.featureloader.xhr(this.url_,this.format_));this.strategy_=void 0!==a.strategy?a.strategy:
ol.loadingstrategy.all;var b=void 0!==a.useSpatialIndex?a.useSpatialIndex:!0;this.featuresRtree_=b?new ol.structs.RBush:null;this.loadedExtentsRtree_=new ol.structs.RBush;this.nullGeometryFeatures_={};this.idIndex_={};this.undefIdIndex_={};this.featureChangeKeys_={};this.featuresCollection_=null;if(a.features instanceof ol.Collection){var c=a.features;var d=c.getArray()}else Array.isArray(a.features)&&(d=a.features);b||void 0!==c||(c=new ol.Collection(d));void 0!==d&&this.addFeaturesInternal(d);void 0!==
c&&this.bindFeaturesCollection_(c)};ol.inherits(ol.source.Vector,ol.source.Source);ol.source.Vector.prototype.addFeature=function(a){this.addFeatureInternal(a);this.changed()};
ol.source.Vector.prototype.addFeatureInternal=function(a){var b=ol.getUid(a).toString();if(this.addToIndex_(b,a)){this.setupChangeEvents_(b,a);var c=a.getGeometry();c?(b=c.getExtent(),this.featuresRtree_&&this.featuresRtree_.insert(b,a)):this.nullGeometryFeatures_[b]=a;this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.ADDFEATURE,a))}};
ol.source.Vector.prototype.setupChangeEvents_=function(a,b){this.featureChangeKeys_[a]=[ol.events.listen(b,ol.events.EventType.CHANGE,this.handleFeatureChange_,this),ol.events.listen(b,ol.ObjectEventType.PROPERTYCHANGE,this.handleFeatureChange_,this)]};ol.source.Vector.prototype.addToIndex_=function(a,b){var c=!0,d=b.getId();void 0!==d?d.toString()in this.idIndex_?c=!1:this.idIndex_[d.toString()]=b:(ol.asserts.assert(!(a in this.undefIdIndex_),30),this.undefIdIndex_[a]=b);return c};
ol.source.Vector.prototype.addFeatures=function(a){this.addFeaturesInternal(a);this.changed()};
ol.source.Vector.prototype.addFeaturesInternal=function(a){var b,c=[],d=[],e=[];var f=0;for(b=a.length;f<b;f++){var g=a[f];var h=ol.getUid(g).toString();this.addToIndex_(h,g)&&d.push(g)}f=0;for(b=d.length;f<b;f++)g=d[f],h=ol.getUid(g).toString(),this.setupChangeEvents_(h,g),(a=g.getGeometry())?(h=a.getExtent(),c.push(h),e.push(g)):this.nullGeometryFeatures_[h]=g;this.featuresRtree_&&this.featuresRtree_.load(c,e);f=0;for(b=d.length;f<b;f++)this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.ADDFEATURE,
d[f]))};
ol.source.Vector.prototype.bindFeaturesCollection_=function(a){var b=!1;ol.events.listen(this,ol.source.VectorEventType.ADDFEATURE,function(c){b||(b=!0,a.push(c.feature),b=!1)});ol.events.listen(this,ol.source.VectorEventType.REMOVEFEATURE,function(c){b||(b=!0,a.remove(c.feature),b=!1)});ol.events.listen(a,ol.CollectionEventType.ADD,function(a){b||(b=!0,this.addFeature(a.element),b=!1)},this);ol.events.listen(a,ol.CollectionEventType.REMOVE,function(a){b||(b=!0,this.removeFeature(a.element),b=!1)},
this);this.featuresCollection_=a};
ol.source.Vector.prototype.clear=function(a){if(a){for(var b in this.featureChangeKeys_)this.featureChangeKeys_[b].forEach(ol.events.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal,this);for(var c in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[c])}this.featuresCollection_&&this.featuresCollection_.clear();this.featuresRtree_&&
this.featuresRtree_.clear();this.loadedExtentsRtree_.clear();this.nullGeometryFeatures_={};a=new ol.source.Vector.Event(ol.source.VectorEventType.CLEAR);this.dispatchEvent(a);this.changed()};ol.source.Vector.prototype.forEachFeature=function(a,b){if(this.featuresRtree_)return this.featuresRtree_.forEach(a,b);if(this.featuresCollection_)return this.featuresCollection_.forEach(a,b)};
ol.source.Vector.prototype.forEachFeatureAtCoordinateDirect=function(a,b,c){return this.forEachFeatureInExtent([a[0],a[1],a[0],a[1]],function(d){if(d.getGeometry().intersectsCoordinate(a))return b.call(c,d)})};ol.source.Vector.prototype.forEachFeatureInExtent=function(a,b,c){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(a,b,c);if(this.featuresCollection_)return this.featuresCollection_.forEach(b,c)};
ol.source.Vector.prototype.forEachFeatureIntersectingExtent=function(a,b,c){return this.forEachFeatureInExtent(a,function(d){if(d.getGeometry().intersectsExtent(a)&&(d=b.call(c,d)))return d})};ol.source.Vector.prototype.getFeaturesCollection=function(){return this.featuresCollection_};
ol.source.Vector.prototype.getFeatures=function(){if(this.featuresCollection_)var a=this.featuresCollection_.getArray();else this.featuresRtree_&&(a=this.featuresRtree_.getAll(),ol.obj.isEmpty(this.nullGeometryFeatures_)||ol.array.extend(a,ol.obj.getValues(this.nullGeometryFeatures_)));return a};ol.source.Vector.prototype.getFeaturesAtCoordinate=function(a){var b=[];this.forEachFeatureAtCoordinateDirect(a,function(a){b.push(a)});return b};ol.source.Vector.prototype.getFeaturesInExtent=function(a){return this.featuresRtree_.getInExtent(a)};
ol.source.Vector.prototype.getClosestFeatureToCoordinate=function(a,b){var c=a[0],d=a[1],e=null,f=[NaN,NaN],g=Infinity,h=[-Infinity,-Infinity,Infinity,Infinity],k=b?b:ol.functions.TRUE;this.featuresRtree_.forEachInExtent(h,function(a){if(k(a)){var b=a.getGeometry(),l=g;g=b.closestPointXY(c,d,f,g);g<l&&(e=a,a=Math.sqrt(g),h[0]=c-a,h[1]=d-a,h[2]=c+a,h[3]=d+a)}});return e};ol.source.Vector.prototype.getExtent=function(a){return this.featuresRtree_.getExtent(a)};
ol.source.Vector.prototype.getFeatureById=function(a){a=this.idIndex_[a.toString()];return void 0!==a?a:null};ol.source.Vector.prototype.getFormat=function(){return this.format_};ol.source.Vector.prototype.getOverlaps=function(){return this.overlaps_};ol.source.Vector.prototype.getResolutions=function(){};ol.source.Vector.prototype.getUrl=function(){return this.url_};
ol.source.Vector.prototype.handleFeatureChange_=function(a){a=a.target;var b=ol.getUid(a).toString(),c=a.getGeometry();c?(c=c.getExtent(),b in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[b],this.featuresRtree_&&this.featuresRtree_.insert(c,a)):this.featuresRtree_&&this.featuresRtree_.update(c,a)):b in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(a),this.nullGeometryFeatures_[b]=a);c=a.getId();void 0!==c?(c=c.toString(),b in this.undefIdIndex_?(delete this.undefIdIndex_[b],
this.idIndex_[c]=a):this.idIndex_[c]!==a&&(this.removeFromIdIndex_(a),this.idIndex_[c]=a)):b in this.undefIdIndex_||(this.removeFromIdIndex_(a),this.undefIdIndex_[b]=a);this.changed();this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.CHANGEFEATURE,a))};ol.source.Vector.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&ol.obj.isEmpty(this.nullGeometryFeatures_)};
ol.source.Vector.prototype.loadFeatures=function(a,b,c){var d=this.loadedExtentsRtree_;a=this.strategy_(a,b);var e;var f=0;for(e=a.length;f<e;++f){var g=a[f];d.forEachInExtent(g,function(a){return ol.extent.containsExtent(a.extent,g)})||(this.loader_.call(this,g,b,c),d.insert(g,{extent:g.slice()}))}};
ol.source.Vector.prototype.removeFeature=function(a){var b=ol.getUid(a).toString();b in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[b]:this.featuresRtree_&&this.featuresRtree_.remove(a);this.removeFeatureInternal(a);this.changed()};
ol.source.Vector.prototype.removeFeatureInternal=function(a){var b=ol.getUid(a).toString();this.featureChangeKeys_[b].forEach(ol.events.unlistenByKey);delete this.featureChangeKeys_[b];var c=a.getId();void 0!==c?delete this.idIndex_[c.toString()]:delete this.undefIdIndex_[b];this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.REMOVEFEATURE,a))};
ol.source.Vector.prototype.removeFromIdIndex_=function(a){var b=!1,c;for(c in this.idIndex_)if(this.idIndex_[c]===a){delete this.idIndex_[c];b=!0;break}return b};ol.source.Vector.prototype.setLoader=function(a){this.loader_=a};ol.source.Vector.Event=function(a,b){ol.events.Event.call(this,a);this.feature=b};ol.inherits(ol.source.Vector.Event,ol.events.Event);var olcs={util:{}};olcs.util.obj=function(a){return a};olcs.util.supportsImageRenderingPixelatedResult_=void 0;olcs.util.imageRenderingValueResult_=void 0;
olcs.util.supportsImageRenderingPixelated=function(){if(void 0===olcs.util.supportsImageRenderingPixelatedResult_){var a=document.createElement("canvas");a.setAttribute("style","image-rendering: -moz-crisp-edges; image-rendering: pixelated;");a=a.style.imageRendering;olcs.util.supportsImageRenderingPixelatedResult_=!!a;olcs.util.supportsImageRenderingPixelatedResult_&&(olcs.util.imageRenderingValueResult_=a)}return olcs.util.supportsImageRenderingPixelatedResult_};
olcs.util.imageRenderingValue=function(){olcs.util.supportsImageRenderingPixelated();return olcs.util.imageRenderingValueResult_||""};ol.TileState={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};ol.Tile=function(a,b,c){ol.events.EventTarget.call(this);c=c?c:{};this.tileCoord=a;this.state=b;this.interimTile=null;this.key="";this.transition_=void 0===c.transition?250:c.transition;this.transitionStarts_={}};ol.inherits(ol.Tile,ol.events.EventTarget);ol.Tile.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};ol.Tile.prototype.getKey=function(){return this.key+"/"+this.tileCoord};
ol.Tile.prototype.getInterimTile=function(){if(!this.interimTile)return this;var a=this.interimTile;do{if(a.getState()==ol.TileState.LOADED)return a;a=a.interimTile}while(a);return this};ol.Tile.prototype.refreshInterimChain=function(){if(this.interimTile){var a=this.interimTile,b=this;do{if(a.getState()==ol.TileState.LOADED){a.interimTile=null;break}else a.getState()==ol.TileState.LOADING?b=a:a.getState()==ol.TileState.IDLE?b.interimTile=a.interimTile:b=a;a=b.interimTile}while(a)}};
ol.Tile.prototype.getTileCoord=function(){return this.tileCoord};ol.Tile.prototype.getState=function(){return this.state};ol.Tile.prototype.setState=function(a){this.state=a;this.changed()};ol.Tile.prototype.load=function(){};ol.Tile.prototype.getAlpha=function(a,b){if(!this.transition_)return 1;var c=this.transitionStarts_[a];if(!c)c=b,this.transitionStarts_[a]=c;else if(-1===c)return 1;a=b-c+1E3/60;return a>=this.transition_?1:ol.easing.easeIn(a/this.transition_)};
ol.Tile.prototype.inTransition=function(a){return this.transition_?-1!==this.transitionStarts_[a]:!1};ol.Tile.prototype.endTransition=function(a){this.transition_&&(this.transitionStarts_[a]=-1)};ol.ImageTile=function(a,b,c,d,e,f){ol.Tile.call(this,a,b,f);this.src_=c;this.image_=new Image;null!==d&&(this.image_.crossOrigin=d);this.imageListenerKeys_=null;this.tileLoadFunction_=e};ol.inherits(ol.ImageTile,ol.Tile);ol.ImageTile.prototype.disposeInternal=function(){this.state==ol.TileState.LOADING&&(this.unlistenImage_(),this.image_.src=ol.ImageTile.blankImageUrl);this.interimTile&&this.interimTile.dispose();this.state=ol.TileState.ABORT;this.changed();ol.Tile.prototype.disposeInternal.call(this)};
ol.ImageTile.prototype.getImage=function(){return this.image_};ol.ImageTile.prototype.getKey=function(){return this.src_};ol.ImageTile.prototype.handleImageError_=function(){this.state=ol.TileState.ERROR;this.unlistenImage_();this.image_.src=ol.ImageTile.blankImageUrl;this.changed()};ol.ImageTile.prototype.handleImageLoad_=function(){this.state=this.image_.naturalWidth&&this.image_.naturalHeight?ol.TileState.LOADED:ol.TileState.EMPTY;this.unlistenImage_();this.changed()};
ol.ImageTile.prototype.load=function(){if(this.state==ol.TileState.IDLE||this.state==ol.TileState.ERROR)this.state=ol.TileState.LOADING,this.changed(),this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_)};
ol.ImageTile.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey);this.imageListenerKeys_=null};ol.ImageTile.blankImageUrl=function(){var a=ol.dom.createCanvasContext2D(1,1);a.fillStyle="rgba(0,0,0,0)";a.fillRect(0,0,1,1);return a.canvas.toDataURL("image/png")}();ol.structs.LRUCache=function(a){this.highWaterMark=void 0!==a?a:2048;this.count_=0;this.entries_={};this.newest_=this.oldest_=null};ol.structs.LRUCache.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark};ol.structs.LRUCache.prototype.clear=function(){this.count_=0;this.entries_={};this.newest_=this.oldest_=null};ol.structs.LRUCache.prototype.containsKey=function(a){return this.entries_.hasOwnProperty(a)};
ol.structs.LRUCache.prototype.forEach=function(a,b){for(var c=this.oldest_;c;)a.call(b,c.value_,c.key_,this),c=c.newer};ol.structs.LRUCache.prototype.get=function(a){a=this.entries_[a];ol.asserts.assert(void 0!==a,15);if(a===this.newest_)return a.value_;a===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(a.newer.older=a.older,a.older.newer=a.newer);a.newer=null;a.older=this.newest_;this.newest_=this.newest_.newer=a;return a.value_};
ol.structs.LRUCache.prototype.remove=function(a){var b=this.entries_[a];ol.asserts.assert(void 0!==b,15);if(b===this.newest_){if(this.newest_=b.older)this.newest_.newer=null}else if(b===this.oldest_){if(this.oldest_=b.newer)this.oldest_.older=null}else b.newer.older=b.older,b.older.newer=b.newer;delete this.entries_[a];--this.count_;return b.value_};ol.structs.LRUCache.prototype.getCount=function(){return this.count_};
ol.structs.LRUCache.prototype.getKeys=function(){var a=Array(this.count_),b=0,c;for(c=this.newest_;c;c=c.older)a[b++]=c.key_;return a};ol.structs.LRUCache.prototype.getValues=function(){var a=Array(this.count_),b=0,c;for(c=this.newest_;c;c=c.older)a[b++]=c.value_;return a};ol.structs.LRUCache.prototype.peekLast=function(){return this.oldest_.value_};ol.structs.LRUCache.prototype.peekLastKey=function(){return this.oldest_.key_};ol.structs.LRUCache.prototype.peekFirstKey=function(){return this.newest_.key_};
ol.structs.LRUCache.prototype.pop=function(){var a=this.oldest_;delete this.entries_[a.key_];a.newer&&(a.newer.older=null);this.oldest_=a.newer;this.oldest_||(this.newest_=null);--this.count_;return a.value_};ol.structs.LRUCache.prototype.replace=function(a,b){this.get(a);this.entries_[a].value_=b};
ol.structs.LRUCache.prototype.set=function(a,b){ol.asserts.assert(!(a in this.entries_),16);b={key_:a,newer:null,older:this.newest_,value_:b};this.newest_?this.newest_.newer=b:this.oldest_=b;this.newest_=b;this.entries_[a]=b;++this.count_};ol.TileCache=function(a){ol.structs.LRUCache.call(this,a)};ol.inherits(ol.TileCache,ol.structs.LRUCache);ol.TileCache.prototype.expireCache=function(a){for(var b,c;this.canExpireCache()&&!(b=this.peekLast(),c=b.tileCoord[0].toString(),c in a&&a[c].contains(b.tileCoord));)this.pop().dispose()};
ol.TileCache.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var a=this.peekFirstKey(),b=ol.tilecoord.fromKey(a)[0];this.forEach(function(a){a.tileCoord[0]!==b&&(this.remove(ol.tilecoord.getKey(a.tileCoord)),a.dispose())},this)}};ol.reproj={};ol.reproj.calculateSourceResolution=function(a,b,c,d){var e=ol.proj.transform(c,b,a);c=ol.proj.getPointResolution(b,d,c);b=b.getMetersPerUnit();void 0!==b&&(c*=b);b=a.getMetersPerUnit();void 0!==b&&(c/=b);b=a.getExtent();if(!b||ol.extent.containsCoordinate(b,e))a=ol.proj.getPointResolution(a,c,e)/c,isFinite(a)&&0<a&&(c/=a);return c};ol.reproj.enlargeClipPoint_=function(a,b,c,d){a=c-a;b=d-b;var e=Math.sqrt(a*a+b*b);return[Math.round(c+a/e),Math.round(d+b/e)]};
ol.reproj.render=function(a,b,c,d,e,f,g,h,k,l,m){var n=ol.dom.createCanvasContext2D(Math.round(c*a),Math.round(c*b));if(0===k.length)return n.canvas;n.scale(c,c);var p=ol.extent.createEmpty();k.forEach(function(a,b,c){ol.extent.extend(p,a.extent)});a=ol.extent.getWidth(p);b=ol.extent.getHeight(p);var q=ol.dom.createCanvasContext2D(Math.round(c*a/d),Math.round(c*b/d)),r=c/d;k.forEach(function(a,b,c){b=a.extent[0]-p[0];c=-(a.extent[3]-p[3]);var d=ol.extent.getWidth(a.extent),e=ol.extent.getHeight(a.extent);
q.drawImage(a.image,l,l,a.image.width-2*l,a.image.height-2*l,b*r,c*r,d*r,e*r)});var u=ol.extent.getTopLeft(g);h.getTriangles().forEach(function(a,b,e){var g=a.source,h=a.target,k=g[1][0],l=g[1][1],m=g[2][0],r=g[2][1];a=(h[0][0]-u[0])/f;b=-(h[0][1]-u[1])/f;var t=(h[1][0]-u[0])/f,v=-(h[1][1]-u[1])/f;e=(h[2][0]-u[0])/f;var w=-(h[2][1]-u[1])/f;h=g[0][0];g=g[0][1];k-=h;l-=g;m-=h;r-=g;if(k=ol.math.solveLinearSystem([[k,l,0,0,t-a],[m,r,0,0,e-a],[0,0,k,l,v-b],[0,0,m,r,w-b]]))n.save(),n.beginPath(),m=(a+t+
e)/3,r=(b+v+w)/3,l=ol.reproj.enlargeClipPoint_(m,r,a,b),t=ol.reproj.enlargeClipPoint_(m,r,t,v),e=ol.reproj.enlargeClipPoint_(m,r,e,w),n.moveTo(t[0],t[1]),n.lineTo(l[0],l[1]),n.lineTo(e[0],e[1]),n.clip(),n.transform(k[0],k[2],k[1],k[3],a,b),n.translate(p[0]-h,p[3]-g),n.scale(d/c,-d/c),n.drawImage(q.canvas,0,0),n.restore()});m&&(n.save(),n.strokeStyle="black",n.lineWidth=1,h.getTriangles().forEach(function(a,b,c){var d=a.target;a=(d[0][0]-u[0])/f;b=-(d[0][1]-u[1])/f;c=(d[1][0]-u[0])/f;var e=-(d[1][1]-
u[1])/f,g=(d[2][0]-u[0])/f;d=-(d[2][1]-u[1])/f;n.beginPath();n.moveTo(c,e);n.lineTo(a,b);n.lineTo(g,d);n.closePath();n.stroke()}),n.restore());return n.canvas};ol.reproj.Triangulation=function(a,b,c,d,e){this.sourceProj_=a;this.targetProj_=b;var f={},g=ol.proj.getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(a){var b=a[0]+"/"+a[1];f[b]||(f[b]=g(a));return f[b]};this.maxSourceExtent_=d;this.errorThresholdSquared_=e*e;this.triangles_=[];this.wrapsXInSource_=!1;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!d&&!!this.sourceProj_.getExtent()&&ol.extent.getWidth(d)==ol.extent.getWidth(this.sourceProj_.getExtent());this.sourceWorldWidth_=
this.sourceProj_.getExtent()?ol.extent.getWidth(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?ol.extent.getWidth(this.targetProj_.getExtent()):null;a=ol.extent.getTopLeft(c);b=ol.extent.getTopRight(c);d=ol.extent.getBottomRight(c);c=ol.extent.getBottomLeft(c);e=this.transformInv_(a);var h=this.transformInv_(b),k=this.transformInv_(d),l=this.transformInv_(c);this.addQuad_(a,b,d,c,e,h,k,l,ol.RASTER_REPROJECTION_MAX_SUBDIVISION);if(this.wrapsXInSource_){var m=
Infinity;this.triangles_.forEach(function(a,b,c){m=Math.min(m,a.source[0][0],a.source[1][0],a.source[2][0])});this.triangles_.forEach(function(a){if(Math.max(a.source[0][0],a.source[1][0],a.source[2][0])-m>this.sourceWorldWidth_/2){var b=[[a.source[0][0],a.source[0][1]],[a.source[1][0],a.source[1][1]],[a.source[2][0],a.source[2][1]]];b[0][0]-m>this.sourceWorldWidth_/2&&(b[0][0]-=this.sourceWorldWidth_);b[1][0]-m>this.sourceWorldWidth_/2&&(b[1][0]-=this.sourceWorldWidth_);b[2][0]-m>this.sourceWorldWidth_/
2&&(b[2][0]-=this.sourceWorldWidth_);Math.max(b[0][0],b[1][0],b[2][0])-Math.min(b[0][0],b[1][0],b[2][0])<this.sourceWorldWidth_/2&&(a.source=b)}},this)}f={}};ol.reproj.Triangulation.prototype.addTriangle_=function(a,b,c,d,e,f){this.triangles_.push({source:[d,e,f],target:[a,b,c]})};
ol.reproj.Triangulation.prototype.addQuad_=function(a,b,c,d,e,f,g,h,k){var l=ol.extent.boundingExtent([e,f,g,h]),m=this.sourceWorldWidth_?ol.extent.getWidth(l)/this.sourceWorldWidth_:null,n=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&.5<m&&1>m,q=!1;if(0<k){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var r=ol.extent.boundingExtent([a,b,c,d]);r=ol.extent.getWidth(r)/this.targetWorldWidth_;q|=r>ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}!p&&this.sourceProj_.isGlobal()&&m&&(q|=m>
ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH)}if(q||!this.maxSourceExtent_||ol.extent.intersects(l,this.maxSourceExtent_)){if(!(q||isFinite(e[0])&&isFinite(e[1])&&isFinite(f[0])&&isFinite(f[1])&&isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1])))if(0<k)q=!0;else return;if(0<k&&(q||(l=this.transformInv_([(a[0]+c[0])/2,(a[1]+c[1])/2]),n=p?(ol.math.modulo(e[0],n)+ol.math.modulo(g[0],n))/2-ol.math.modulo(l[0],n):(e[0]+g[0])/2-l[0],l=(e[1]+g[1])/2-l[1],q=n*n+l*l>this.errorThresholdSquared_),
q)){Math.abs(a[0]-c[0])<=Math.abs(a[1]-c[1])?(p=[(b[0]+c[0])/2,(b[1]+c[1])/2],n=this.transformInv_(p),l=[(d[0]+a[0])/2,(d[1]+a[1])/2],m=this.transformInv_(l),this.addQuad_(a,b,p,l,e,f,n,m,k-1),this.addQuad_(l,p,c,d,m,n,g,h,k-1)):(p=[(a[0]+b[0])/2,(a[1]+b[1])/2],n=this.transformInv_(p),l=[(c[0]+d[0])/2,(c[1]+d[1])/2],m=this.transformInv_(l),this.addQuad_(a,p,l,d,e,n,m,h,k-1),this.addQuad_(p,b,c,l,n,f,g,m,k-1));return}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(a,
c,d,e,g,h);this.addTriangle_(a,b,c,e,f,g)}};ol.reproj.Triangulation.prototype.calculateSourceExtent=function(){var a=ol.extent.createEmpty();this.triangles_.forEach(function(b,c,d){b=b.source;ol.extent.extendCoordinate(a,b[0]);ol.extent.extendCoordinate(a,b[1]);ol.extent.extendCoordinate(a,b[2])});return a};ol.reproj.Triangulation.prototype.getTriangles=function(){return this.triangles_};ol.reproj.Tile=function(a,b,c,d,e,f,g,h,k,l,m){ol.Tile.call(this,e,ol.TileState.IDLE);this.renderEdges_=void 0!==m?m:!1;this.pixelRatio_=g;this.gutter_=h;this.canvas_=null;this.sourceTileGrid_=b;this.targetTileGrid_=d;this.wrappedTileCoord_=f?f:e;this.sourceTiles_=[];this.sourcesListenerKeys_=null;this.sourceZ_=0;f=d.getTileCoordExtent(this.wrappedTileCoord_);h=this.targetTileGrid_.getExtent();e=this.sourceTileGrid_.getExtent();f=h?ol.extent.getIntersection(f,h):f;if(0===ol.extent.getArea(f))this.state=
ol.TileState.EMPTY;else if((h=a.getExtent())&&(e=e?ol.extent.getIntersection(e,h):h),d=d.getResolution(this.wrappedTileCoord_[0]),h=ol.extent.getCenter(f),d=ol.reproj.calculateSourceResolution(a,c,h,d),!isFinite(d)||0>=d)this.state=ol.TileState.EMPTY;else if(this.triangulation_=new ol.reproj.Triangulation(a,c,f,e,d*(void 0!==l?l:ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD)),0===this.triangulation_.getTriangles().length)this.state=ol.TileState.EMPTY;else if(this.sourceZ_=b.getZForResolution(d),
c=this.triangulation_.calculateSourceExtent(),e&&(a.canWrapX()?(c[1]=ol.math.clamp(c[1],e[1],e[3]),c[3]=ol.math.clamp(c[3],e[1],e[3])):c=ol.extent.getIntersection(c,e)),ol.extent.getArea(c)){a=b.getTileRangeForExtentAndZ(c,this.sourceZ_);for(b=a.minX;b<=a.maxX;b++)for(c=a.minY;c<=a.maxY;c++)(l=k(this.sourceZ_,b,c,g))&&this.sourceTiles_.push(l);0===this.sourceTiles_.length&&(this.state=ol.TileState.EMPTY)}else this.state=ol.TileState.EMPTY};ol.inherits(ol.reproj.Tile,ol.Tile);
ol.reproj.Tile.prototype.disposeInternal=function(){this.state==ol.TileState.LOADING&&this.unlistenSources_();ol.Tile.prototype.disposeInternal.call(this)};ol.reproj.Tile.prototype.getImage=function(){return this.canvas_};
ol.reproj.Tile.prototype.reproject_=function(){var a=[];this.sourceTiles_.forEach(function(b,c,d){b&&b.getState()==ol.TileState.LOADED&&a.push({extent:this.sourceTileGrid_.getTileCoordExtent(b.tileCoord),image:b.getImage()})},this);this.sourceTiles_.length=0;if(0===a.length)this.state=ol.TileState.ERROR;else{var b=this.wrappedTileCoord_[0],c=this.targetTileGrid_.getTileSize(b),d="number"===typeof c?c:c[0];c="number"===typeof c?c:c[1];b=this.targetTileGrid_.getResolution(b);var e=this.sourceTileGrid_.getResolution(this.sourceZ_),
f=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=ol.reproj.render(d,c,this.pixelRatio_,e,this.sourceTileGrid_.getExtent(),b,f,this.triangulation_,a,this.gutter_,this.renderEdges_);this.state=ol.TileState.LOADED}this.changed()};
ol.reproj.Tile.prototype.load=function(){if(this.state==ol.TileState.IDLE){this.state=ol.TileState.LOADING;this.changed();var a=0;this.sourcesListenerKeys_=[];this.sourceTiles_.forEach(function(b,c,d){c=b.getState();if(c==ol.TileState.IDLE||c==ol.TileState.LOADING){a++;var e=ol.events.listen(b,ol.events.EventType.CHANGE,function(c){c=b.getState();if(c==ol.TileState.LOADED||c==ol.TileState.ERROR||c==ol.TileState.EMPTY)ol.events.unlistenByKey(e),a--,0===a&&(this.unlistenSources_(),this.reproject_())},
this);this.sourcesListenerKeys_.push(e)}},this);this.sourceTiles_.forEach(function(a,c,d){a.getState()==ol.TileState.IDLE&&a.load()});0===a&&setTimeout(this.reproject_.bind(this),0)}};ol.reproj.Tile.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(ol.events.unlistenByKey);this.sourcesListenerKeys_=null};ol.TileUrlFunction={};ol.TileUrlFunction.createFromTemplate=function(a,b){var c=/\{z\}/g,d=/\{x\}/g,e=/\{y\}/g,f=/\{-y\}/g;return function(g,h,k){if(g)return a.replace(c,g[0].toString()).replace(d,g[1].toString()).replace(e,function(){return(-g[2]-1).toString()}).replace(f,function(){var a=b.getFullTileRange(g[0]);ol.asserts.assert(a,55);return(a.getHeight()+g[2]).toString()})}};
ol.TileUrlFunction.createFromTemplates=function(a,b){for(var c=a.length,d=Array(c),e=0;e<c;++e)d[e]=ol.TileUrlFunction.createFromTemplate(a[e],b);return ol.TileUrlFunction.createFromTileUrlFunctions(d)};ol.TileUrlFunction.createFromTileUrlFunctions=function(a){return 1===a.length?a[0]:function(b,c,d){if(b){var e=ol.tilecoord.hash(b);e=ol.math.modulo(e,a.length);return a[e](b,c,d)}}};ol.TileUrlFunction.nullTileUrlFunction=function(a,b,c){};
ol.TileUrlFunction.expandUrl=function(a){var b=[],c=/\{([a-z])-([a-z])\}/.exec(a);if(c){for(var d=c[1].charCodeAt(0),e=c[2].charCodeAt(0);d<=e;++d)b.push(a.replace(c[0],String.fromCharCode(d)));return b}if(c=c=/\{(\d+)-(\d+)\}/.exec(a)){e=parseInt(c[2],10);for(d=parseInt(c[1],10);d<=e;d++)b.push(a.replace(c[0],d.toString()));return b}b.push(a);return b};ol.source.Tile=function(a){ol.source.Source.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state,wrapX:a.wrapX});this.opaque_=void 0!==a.opaque?a.opaque:!1;this.tilePixelRatio_=void 0!==a.tilePixelRatio?a.tilePixelRatio:1;this.tileGrid=void 0!==a.tileGrid?a.tileGrid:null;this.tileCache=new ol.TileCache(a.cacheSize);this.tmpSize=[0,0];this.key_="";this.tileOptions={transition:a.transition}};ol.inherits(ol.source.Tile,ol.source.Source);
ol.source.Tile.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()};ol.source.Tile.prototype.expireCache=function(a,b){(a=this.getTileCacheForProjection(a))&&a.expireCache(b)};
ol.source.Tile.prototype.forEachLoadedTile=function(a,b,c,d){a=this.getTileCacheForProjection(a);if(!a)return!1;for(var e=!0,f,g,h=c.minX;h<=c.maxX;++h)for(var k=c.minY;k<=c.maxY;++k)f=ol.tilecoord.getKeyZXY(b,h,k),g=!1,a.containsKey(f)&&(f=a.get(f),(g=f.getState()===ol.TileState.LOADED)&&(g=!1!==d(f))),g||(e=!1);return e};ol.source.Tile.prototype.getGutter=function(a){return 0};ol.source.Tile.prototype.getKey=function(){return this.key_};
ol.source.Tile.prototype.setKey=function(a){this.key_!==a&&(this.key_=a,this.changed())};ol.source.Tile.prototype.getOpaque=function(a){return this.opaque_};ol.source.Tile.prototype.getResolutions=function(){return this.tileGrid.getResolutions()};ol.source.Tile.prototype.getTile=function(a,b,c,d,e){};ol.source.Tile.prototype.getTileGrid=function(){return this.tileGrid};ol.source.Tile.prototype.getTileGridForProjection=function(a){return this.tileGrid?this.tileGrid:ol.tilegrid.getForProjection(a)};
ol.source.Tile.prototype.getTileCacheForProjection=function(a){var b=this.getProjection();return b&&!ol.proj.equivalent(b,a)?null:this.tileCache};ol.source.Tile.prototype.getTilePixelRatio=function(a){return this.tilePixelRatio_};ol.source.Tile.prototype.getTilePixelSize=function(a,b,c){c=this.getTileGridForProjection(c);b=this.getTilePixelRatio(b);a=ol.size.toSize(c.getTileSize(a),this.tmpSize);return 1==b?a:ol.size.scale(a,b,this.tmpSize)};
ol.source.Tile.prototype.getTileCoordForTileUrlFunction=function(a,b){b=void 0!==b?b:this.getProjection();var c=this.getTileGridForProjection(b);this.getWrapX()&&b.isGlobal()&&(a=ol.tilegrid.wrapX(c,a,b));return ol.tilecoord.withinExtentAndZ(a,c)?a:null};ol.source.Tile.prototype.refresh=function(){this.tileCache.clear();this.changed()};ol.source.Tile.prototype.useTile=ol.nullFunction;ol.source.Tile.Event=function(a,b){ol.events.Event.call(this,a);this.tile=b};ol.inherits(ol.source.Tile.Event,ol.events.Event);ol.source.TileEventType={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};ol.source.UrlTile=function(a){ol.source.Tile.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX,transition:a.transition});this.tileLoadFunction=a.tileLoadFunction;this.tileUrlFunction=this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.nullTileUrlFunction;this.urls=null;a.urls?this.setUrls(a.urls):a.url&&this.setUrl(a.url);
a.tileUrlFunction&&this.setTileUrlFunction(a.tileUrlFunction);this.tileLoadingKeys_={}};ol.inherits(ol.source.UrlTile,ol.source.Tile);ol.source.UrlTile.prototype.getTileLoadFunction=function(){return this.tileLoadFunction};ol.source.UrlTile.prototype.getTileUrlFunction=function(){return this.tileUrlFunction};ol.source.UrlTile.prototype.getUrls=function(){return this.urls};
ol.source.UrlTile.prototype.handleTileChange=function(a){a=a.target;var b=ol.getUid(a),c=a.getState();if(c==ol.TileState.LOADING){this.tileLoadingKeys_[b]=!0;var d=ol.source.TileEventType.TILELOADSTART}else b in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[b],d=c==ol.TileState.ERROR?ol.source.TileEventType.TILELOADERROR:c==ol.TileState.LOADED||c==ol.TileState.ABORT?ol.source.TileEventType.TILELOADEND:void 0);void 0!=d&&this.dispatchEvent(new ol.source.Tile.Event(d,a))};
ol.source.UrlTile.prototype.setTileLoadFunction=function(a){this.tileCache.clear();this.tileLoadFunction=a;this.changed()};ol.source.UrlTile.prototype.setTileUrlFunction=function(a,b){this.tileUrlFunction=a;this.tileCache.pruneExceptNewestZ();"undefined"!==typeof b?this.setKey(b):this.changed()};
ol.source.UrlTile.prototype.setUrl=function(a){var b=this.urls=ol.TileUrlFunction.expandUrl(a);this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(b,this.tileGrid),a)};ol.source.UrlTile.prototype.setUrls=function(a){this.urls=a;var b=a.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(a,this.tileGrid),b)};
ol.source.UrlTile.prototype.useTile=function(a,b,c){a=ol.tilecoord.getKeyZXY(a,b,c);this.tileCache.containsKey(a)&&this.tileCache.get(a)};ol.source.TileImage=function(a){ol.source.UrlTile.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:ol.source.TileImage.defaultTileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:a.wrapX,transition:a.transition});this.crossOrigin=void 0!==a.crossOrigin?a.crossOrigin:null;this.tileClass=
void 0!==a.tileClass?a.tileClass:ol.ImageTile;this.tileCacheForProjection={};this.tileGridForProjection={};this.reprojectionErrorThreshold_=a.reprojectionErrorThreshold;this.renderReprojectionEdges_=!1};ol.inherits(ol.source.TileImage,ol.source.UrlTile);
ol.source.TileImage.prototype.canExpireCache=function(){if(!ol.ENABLE_RASTER_REPROJECTION)return ol.source.UrlTile.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var a in this.tileCacheForProjection)if(this.tileCacheForProjection[a].canExpireCache())return!0;return!1};
ol.source.TileImage.prototype.expireCache=function(a,b){if(ol.ENABLE_RASTER_REPROJECTION){a=this.getTileCacheForProjection(a);this.tileCache.expireCache(this.tileCache==a?b:{});for(var c in this.tileCacheForProjection){var d=this.tileCacheForProjection[c];d.expireCache(d==a?b:{})}}else ol.source.UrlTile.prototype.expireCache.call(this,a,b)};
ol.source.TileImage.prototype.getGutter=function(a){return ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&a&&!ol.proj.equivalent(this.getProjection(),a)?0:this.getGutterInternal()};ol.source.TileImage.prototype.getGutterInternal=function(){return 0};ol.source.TileImage.prototype.getOpaque=function(a){return ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&a&&!ol.proj.equivalent(this.getProjection(),a)?!1:ol.source.UrlTile.prototype.getOpaque.call(this,a)};
ol.source.TileImage.prototype.getTileGridForProjection=function(a){if(!ol.ENABLE_RASTER_REPROJECTION)return ol.source.UrlTile.prototype.getTileGridForProjection.call(this,a);var b=this.getProjection();return!this.tileGrid||b&&!ol.proj.equivalent(b,a)?(b=ol.getUid(a).toString(),b in this.tileGridForProjection||(this.tileGridForProjection[b]=ol.tilegrid.getForProjection(a)),this.tileGridForProjection[b]):this.tileGrid};
ol.source.TileImage.prototype.getTileCacheForProjection=function(a){if(!ol.ENABLE_RASTER_REPROJECTION)return ol.source.UrlTile.prototype.getTileCacheForProjection.call(this,a);var b=this.getProjection();if(!b||ol.proj.equivalent(b,a))return this.tileCache;a=ol.getUid(a).toString();a in this.tileCacheForProjection||(this.tileCacheForProjection[a]=new ol.TileCache(this.tileCache.highWaterMark));return this.tileCacheForProjection[a]};
ol.source.TileImage.prototype.createTile_=function(a,b,c,d,e,f){a=[a,b,c];d=(b=this.getTileCoordForTileUrlFunction(a,e))?this.tileUrlFunction(b,d,e):void 0;d=new this.tileClass(a,void 0!==d?ol.TileState.IDLE:ol.TileState.EMPTY,void 0!==d?d:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);d.key=f;ol.events.listen(d,ol.events.EventType.CHANGE,this.handleTileChange,this);return d};
ol.source.TileImage.prototype.getTile=function(a,b,c,d,e){if(ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!ol.proj.equivalent(this.getProjection(),e)){var f=this.getTileCacheForProjection(e);c=[a,b,c];var g;a=ol.tilecoord.getKey(c);f.containsKey(a)&&(g=f.get(a));b=this.getKey();if(g&&g.key==b)return g;var h=this.getProjection(),k=this.getTileGridForProjection(h),l=this.getTileGridForProjection(e),m=this.getTileCoordForTileUrlFunction(c,e);d=new ol.reproj.Tile(h,k,e,l,c,m,this.getTilePixelRatio(d),
this.getGutterInternal(),function(a,b,c,d){return this.getTileInternal(a,b,c,d,h)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);d.key=b;g?(d.interimTile=g,d.refreshInterimChain(),f.replace(a,d)):f.set(a,d);return d}return this.getTileInternal(a,b,c,d,e)};
ol.source.TileImage.prototype.getTileInternal=function(a,b,c,d,e){var f=ol.tilecoord.getKeyZXY(a,b,c),g=this.getKey();if(this.tileCache.containsKey(f)){var h=this.tileCache.get(f);if(h.key!=g){var k=h;h=this.createTile_(a,b,c,d,e,g);k.getState()==ol.TileState.IDLE?h.interimTile=k.interimTile:h.interimTile=k;h.refreshInterimChain();this.tileCache.replace(f,h)}}else h=this.createTile_(a,b,c,d,e,g),this.tileCache.set(f,h);return h};
ol.source.TileImage.prototype.setRenderReprojectionEdges=function(a){if(ol.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=a){this.renderReprojectionEdges_=a;for(var b in this.tileCacheForProjection)this.tileCacheForProjection[b].clear();this.changed()}};ol.source.TileImage.prototype.setTileGridForProjection=function(a,b){ol.ENABLE_RASTER_REPROJECTION&&(a=ol.proj.get(a))&&(a=ol.getUid(a).toString(),a in this.tileGridForProjection||(this.tileGridForProjection[a]=b))};
ol.source.TileImage.defaultTileLoadFunction=function(a,b){a.getImage().src=b};olcs.core={};
olcs.core.OLImageryProvider=function(a,b){this.source_=a;this.projection_=null;this.fallbackProj_=b||null;this.ready_=!1;if(a=this.source_.get("olcs.proxy"))"function"===typeof a?this.proxy_={getURL:a}:"string"===typeof a&&(this.proxy_=new Cesium.DefaultProxy(a));this.errorEvent_=new Cesium.Event;this.emptyCanvas_=document.createElement("canvas");this.emptyCanvas_.width=1;this.emptyCanvas_.height=1;this.source_.on(ol.events.EventType.CHANGE,function(a){this.handleSourceChanged_()},this);this.handleSourceChanged_()};
Object.defineProperties(olcs.core.OLImageryProvider.prototype,{ready:{get:function(){return this.ready_}},rectangle:{get:function(){return this.rectangle_}},tileWidth:{get:function(){var a=this.source_.getTileGrid();return a?a.getTileSize(0):256}},tileHeight:{get:function(){return this.tileWidth}},maximumLevel:{get:function(){var a=this.source_.getTileGrid();return a?a.getMaxZoom():18}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this.tilingScheme_}},tileDiscardPolicy:{get:function(){}},
errorEvent:{get:function(){return this.errorEvent_}},credit:{get:function(){return this.credit_}},proxy:{get:function(){return this.proxy_}},hasAlphaChannel:{get:function(){return!0}},pickFeatures:{get:function(){}}});
olcs.core.OLImageryProvider.prototype.handleSourceChanged_=function(){if(!this.ready_&&"ready"==this.source_.getState()){var a=this.source_.getProjection();this.projection_=a?a:this.fallbackProj_;if(this.projection_==ol.proj.get("EPSG:4326"))this.tilingScheme_=new Cesium.GeographicTilingScheme;else if(this.projection_==ol.proj.get("EPSG:3857"))this.tilingScheme_=new Cesium.WebMercatorTilingScheme;else return;this.rectangle_=this.tilingScheme_.rectangle;this.credit_=olcs.core.OLImageryProvider.createCreditForSource(this.source_)||
void 0;this.ready_=!0}};olcs.core.OLImageryProvider.createCreditForSource=function(a){var b="",c=a.getAttributions();c&&c.forEach(function(a){b+=a.getHTML().replace(/<\/?[^>]+(>|$)/g,"")+" "});if(0==b.length&&(a=a.getLogo()))if("string"==typeof a)var d=a;else{d=a.src;var e=a.href}return d||0<b.length?new Cesium.Credit(b,d,e):null};olcs.core.OLImageryProvider.prototype.getTileCredits=function(a,b,c){};
olcs.core.OLImageryProvider.prototype.requestImage=function(a,b,c){var d=this.source_.getTileUrlFunction();return d&&this.projection_?(a=d.call(this.source_,[this.tilingScheme_ instanceof Cesium.GeographicTilingScheme?c+1:c,a,-b-1],1,this.projection_),this.proxy_&&(a=this.proxy_.getURL(a)),a?Cesium.ImageryProvider.loadImage(this,a):this.emptyCanvas_):this.emptyCanvas_};olcs.core.computePixelSizeAtCoordinate=function(a,b){var c=a.camera;a=a.canvas;var d=c.frustum;b=Cesium.Cartesian3.magnitude(Cesium.Cartesian3.subtract(c.position,b,new Cesium.Cartesian3));c=new Cesium.Cartesian2;return d.getPixelDimensions(a.clientWidth,a.clientHeight,b,c)};
olcs.core.computeBoundingBoxAtTarget=function(a,b,c){a=olcs.core.computePixelSizeAtCoordinate(a,b);var d=Cesium.Transforms.eastNorthUpToFixedFrame(b);b=Cesium.Matrix4.multiplyByPoint(d,new Cesium.Cartesian3(-a.x*c,-a.y*c,0),new Cesium.Cartesian3);c=Cesium.Matrix4.multiplyByPoint(d,new Cesium.Cartesian3(a.x*c,a.y*c,0),new Cesium.Cartesian3);return Cesium.Ellipsoid.WGS84.cartesianArrayToCartographicArray([b,c])};
olcs.core.applyHeightOffsetToGeometry=function(a,b){a.applyTransform(function(a,d,e){goog.asserts.assert(a===d);if(void 0!==e&&3<=e)for(a=0;a<d.length;a+=e)d[a+2]+=b;return d})};
olcs.core.rotateAroundAxis=function(a,b,c,d,e){var f=Cesium.Math.clamp,g=Cesium.defaultValue;e=e||{};var h=g(e.duration,500),k=g(e.easing,ol.easing.linear),l=e.callback,m=0,n=new Cesium.Matrix4,p=Date.now(),q=function(){var e=Date.now()-p;e=k(f(e/h,0,1));goog.asserts.assert(e>=m);a.transform.clone(n);var g=(e-m)*b;m=e;a.lookAtTransform(d);a.rotate(c,g);a.lookAtTransform(n);1>e?window.requestAnimationFrame(q):l&&l()};window.requestAnimationFrame(q)};
olcs.core.setHeadingUsingBottomCenter=function(a,b,c,d){var e=a.camera;a=olcs.core.computeAngleToZenith(a,c);a=Cesium.Quaternion.fromAxisAngle(e.right,a);var f=Cesium.Matrix3.fromQuaternion(a),g=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(e.position,c,g);a=new Cesium.Cartesian3;Cesium.Matrix3.multiplyByVector(f,g,a);Cesium.Cartesian3.add(a,c,a);c=Cesium.Matrix4.fromTranslation(a);f=olcs.core.rotateAroundAxis;f(e,b,a,c,d)};
olcs.core.pickOnTerrainOrEllipsoid=function(a,b){var c=a.camera.getPickRay(b);return a.globe.pick(c,a)||a.camera.pickEllipsoid(b)};olcs.core.pickBottomPoint=function(a){var b=a.canvas;b=new Cesium.Cartesian2(b.clientWidth/2,b.clientHeight);return olcs.core.pickOnTerrainOrEllipsoid(a,b)};olcs.core.pickCenterPoint=function(a){var b=a.canvas;b=new Cesium.Cartesian2(b.clientWidth/2,b.clientHeight/2);return olcs.core.pickOnTerrainOrEllipsoid(a,b)};
olcs.core.computeSignedTiltAngleOnGlobe=function(a){var b=a.camera,c=new Cesium.Ray(b.position,b.direction);a=a.globe.pick(c,a);if(!a){var d=Cesium.IntersectionTests.rayEllipsoid(c,Cesium.Ellipsoid.WGS84);d&&(a=Cesium.Ray.getPoint(c,d.start))}if(a)return c=new Cesium.Cartesian3,Cesium.Ellipsoid.WGS84.geocentricSurfaceNormal(a,c),a=olcs.core.signedAngleBetween,b=a(b.direction,c,b.right)-Math.PI,Cesium.Math.convertLongitudeRange(b)};
olcs.core.bottomFovRay=function(a){a=a.camera;var b=a.direction,c=Cesium.Quaternion.fromAxisAngle(a.right,a.frustum.fovy/2);c=Cesium.Matrix3.fromQuaternion(c);var d=new Cesium.Cartesian3;Cesium.Matrix3.multiplyByVector(c,b,d);return new Cesium.Ray(a.position,d)};
olcs.core.signedAngleBetween=function(a,b,c){var d=new Cesium.Cartesian3,e=new Cesium.Cartesian3,f=new Cesium.Cartesian3;Cesium.Cartesian3.normalize(a,d);Cesium.Cartesian3.normalize(b,e);Cesium.Cartesian3.cross(d,e,f);a=Cesium.Cartesian3.dot(d,e);b=Cesium.Cartesian3.magnitude(f);c=Cesium.Cartesian3.dot(c,f);f=Math.atan2(b,a);return 0<=c?f:-f};
olcs.core.computeAngleToZenith=function(a,b){var c=a.camera,d=c.frustum.fovy/2;a=olcs.core.bottomFovRay(a);a=Cesium.Cartesian3.clone(a.direction);Cesium.Cartesian3.negate(a,a);var e=new Cesium.Cartesian3;Cesium.Ellipsoid.WGS84.geocentricSurfaceNormal(b,e);b=new Cesium.Cartesian3;Cesium.Cartesian3.negate(c.right,b);return olcs.core.signedAngleBetween(e,a,b)+d};
olcs.core.lookAt=function(a,b,c){c&&(c=c.getHeight(b),b.height=c||0);c=Cesium.Ellipsoid.WGS84;b=c.cartographicToCartesian(b);var d=a.position,e=new Cesium.Cartesian3;c.geocentricSurfaceNormal(d,e);a.lookAt(d,b,e)};olcs.core.extentToRectangle=function(a,b){return a&&b?(a=ol.proj.transformExtent(a,b,"EPSG:4326"),Cesium.Rectangle.fromDegrees(a[0],a[1],a[2],a[3])):null};
olcs.core.tileLayerToImageryLayer=function(a,b){if(!(a instanceof ol.layer.Tile))return null;var c=a.getSource();if(c instanceof ol.source.TileImage){var d=c.getProjection();if(!d)d=b;else if(d!==b)return null;var e=d===ol.proj.get("EPSG:3857");d=d===ol.proj.get("EPSG:4326");if(e||d)c=new olcs.core.OLImageryProvider(c,b);else return null}else return null;e={};(a=a.getExtent())&&b&&(e.rectangle=olcs.core.extentToRectangle(a,b));return new Cesium.ImageryLayer(c,e)};
olcs.core.updateCesiumLayerProperties=function(a,b){var c=1,d=!0;[a.layer].concat(a.parents).forEach(function(a){var b=a.getOpacity();void 0!==b&&(c*=b);a=a.getVisible();void 0!==a&&(d&=a)});b.alpha=c;b.show=d};olcs.core.ol4326CoordinateToCesiumCartesian=function(a){return 2<a.length?Cesium.Cartesian3.fromDegrees(a[0],a[1],a[2]):Cesium.Cartesian3.fromDegrees(a[0],a[1])};
olcs.core.ol4326CoordinateArrayToCsCartesians=function(a){goog.asserts.assert(null!==a);for(var b=olcs.core.ol4326CoordinateToCesiumCartesian,c=[],d=0;d<a.length;++d)c.push(b(a[d]));return c};olcs.core.olGeometryCloneTo4326=function(a,b){goog.asserts.assert(b);var c=ol.proj.get("EPSG:4326");b=ol.proj.get(b);if(b!==c){var d=a.getProperties();a=a.clone();a.transform(b,c);a.setProperties(d)}return a};
olcs.core.convertColorToCesium=function(a){a=a||"black";if(Array.isArray(a))return new Cesium.Color(Cesium.Color.byteToFloat(a[0]),Cesium.Color.byteToFloat(a[1]),Cesium.Color.byteToFloat(a[2]),a[3]);if("string"==typeof a)return Cesium.Color.fromCssColorString(a);goog.asserts.fail("impossible")};
olcs.core.convertUrlToCesium=function(a){var b="",c=/\{(\d|[a-z])-(\d|[a-z])\}/,d=c.exec(a);if(d)for(a=a.replace(c,"{s}"),c=d[1].charCodeAt(0),d=d[2].charCodeAt(0);c<=d;++c)b+=String.fromCharCode(c);return{url:a,subdomains:b}};olcs.AutoRenderLoop=function(a,b){this.ol3d=a;this.scene_=a.getCesiumScene();this.verboseRendering=b;this._boundNotifyRepaintRequired=this.notifyRepaintRequired.bind(this);this.lastCameraViewMatrix_=new Cesium.Matrix4;this.lastCameraMoveTime_=0;this.stoppedRendering=!1;this._removePostRenderListener=this.scene_.postRender.addEventListener(this.postRender.bind(this));this._wheelEvent="";this._wheelEvent="onwheel"in this.scene_.canvas?"wheel":document.onmousewheel?"mousewheel":"DOMMouseScroll";this._originalLoadWithXhr=
Cesium.loadWithXhr.load;this._originalScheduleTask=Cesium.TaskProcessor.prototype.scheduleTask;this._originalCameraSetView=Cesium.Camera.prototype.setView;this._originalCameraMove=Cesium.Camera.prototype.move;this._originalCameraRotate=Cesium.Camera.prototype.rotate;this._originalCameraLookAt=Cesium.Camera.prototype.lookAt;this._originalCameraFlyTo=Cesium.Camera.prototype.flyTo;this.enable()};
olcs.AutoRenderLoop.prototype.repaintOn_=function(a,b){this.scene_.canvas.addEventListener(a,this._boundNotifyRepaintRequired,b)};olcs.AutoRenderLoop.prototype.removeRepaintOn_=function(a,b){this.scene_.canvas.removeEventListener(a,this._boundNotifyRepaintRequired,b)};
olcs.AutoRenderLoop.prototype.enable=function(){this.repaintOn_("mousemove",!1);this.repaintOn_("mousedown",!1);this.repaintOn_("mouseup",!1);this.repaintOn_("touchstart",!1);this.repaintOn_("touchend",!1);this.repaintOn_("touchmove",!1);window.PointerEvent&&(this.repaintOn_("pointerdown",!1),this.repaintOn_("pointerup",!1),this.repaintOn_("pointermove",!1));this.repaintOn_(this._wheelEvent,!1);window.addEventListener("resize",this._boundNotifyRepaintRequired,!1);var a=this;Cesium.loadWithXhr.load=
function(b,c,d,e,f,g,h,k,l){g.promise.always(a._boundNotifyRepaintRequired);a._originalLoadWithXhr(b,c,d,e,f,g,h,k,l)};Cesium.TaskProcessor.prototype.scheduleTask=function(b,c){b=a._originalScheduleTask.call(this,b,c);var d=this;d._originalWorkerMessageSinkRepaint||(c=d._worker,d._originalWorkerMessageSinkRepaint=c.onmessage,c.onmessage=function(b){d._originalWorkerMessageSinkRepaint(b);a.notifyRepaintRequired()});return b};Cesium.Camera.prototype.setView=function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-
0]=arguments[d];a._originalCameraSetView.apply(this,c);a.notifyRepaintRequired()};Cesium.Camera.prototype.move=function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];a._originalCameraMove.apply(this,c);a.notifyRepaintRequired()};Cesium.Camera.prototype.rotate=function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];a._originalCameraRotate.apply(this,c);a.notifyRepaintRequired()};Cesium.Camera.prototype.lookAt=function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-
0]=arguments[d];a._originalCameraLookAt.apply(this,c);a.notifyRepaintRequired()};Cesium.Camera.prototype.flyTo=function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];a._originalCameraFlyTo.apply(this,c);a.notifyRepaintRequired()};this.ol3d.getOlMap().getLayerGroup().on("change",this._boundNotifyRepaintRequired)};
olcs.AutoRenderLoop.prototype.disable=function(){this._removePostRenderListener&&(this._removePostRenderListener(),this._removePostRenderListener=void 0);this.removeRepaintOn_("mousemove",!1);this.removeRepaintOn_("mousedown",!1);this.removeRepaintOn_("mouseup",!1);this.removeRepaintOn_("touchstart",!1);this.removeRepaintOn_("touchend",!1);this.removeRepaintOn_("touchmove",!1);window.PointerEvent&&(this.removeRepaintOn_("pointerdown",!1),this.removeRepaintOn_("pointerup",!1),this.removeRepaintOn_("pointermove",
!1));this.removeRepaintOn_(this._wheelEvent,!1);window.removeEventListener("resize",this._boundNotifyRepaintRequired,!1);Cesium.loadWithXhr.load=this._originalLoadWithXhr;Cesium.TaskProcessor.prototype.scheduleTask=this._originalScheduleTask;Cesium.Camera.prototype.setView=this._originalCameraSetView;Cesium.Camera.prototype.move=this._originalCameraMove;Cesium.Camera.prototype.rotate=this._originalCameraRotate;Cesium.Camera.prototype.lookAt=this._originalCameraLookAt;Cesium.Camera.prototype.flyTo=
this._originalCameraFlyTo;this.ol3d.getOlMap().getLayerGroup().un("change",this._boundNotifyRepaintRequired)};
olcs.AutoRenderLoop.prototype.postRender=function(a){a=Date.now();var b=this.scene_,c=b.camera;Cesium.Matrix4.equalsEpsilon(this.lastCameraViewMatrix_,c.viewMatrix,1E-5)||(this.lastCameraMoveTime_=a);var d=b.globe._surface;d=!d.tileProvider.ready||0<d._tileLoadQueueHigh.length||0<d._tileLoadQueueMedium.length||0<d._tileLoadQueueLow.length||0<d._debug.tilesWaitingForChildren;b=b.tweens;1E3>a-this.lastCameraMoveTime_||d||0!=b.length||(this.verboseRendering&&console.log("stopping rendering @ "+Date.now()),
this.ol3d.setBlockCesiumRendering(!0),this.stoppedRendering=!0);Cesium.Matrix4.clone(c.viewMatrix,this.lastCameraViewMatrix_)};olcs.AutoRenderLoop.prototype.restartRenderLoop=function(){this.notifyRepaintRequired()};olcs.AutoRenderLoop.prototype.notifyRepaintRequired=function(){this.verboseRendering&&this.stoppedRendering&&console.log("starting rendering @ "+Date.now());this.lastCameraMoveTime_=Date.now();this.ol3d.setBlockCesiumRendering(!1);this.stoppedRendering=!1};
olcs.AutoRenderLoop.prototype.setDebug=function(a){this.verboseRendering=a};olcs.Camera=function(a,b){this.scene_=a;this.cam_=a.camera;this.map_=b;this.viewListenKey_=this.view_=null;this.fromLonLat_=this.toLonLat_=olcs.Camera.identityProjection;this.distance_=this.tilt_=0;this.lastCameraViewMatrix_=null;this.viewUpdateInProgress_=!1;this.map_.on("change:view",function(a){this.setView_(this.map_.getView())},this);this.setView_(this.map_.getView())};olcs.Camera.identityProjection=function(a,b,c){c=c||a.length;if(b)for(var d=0;d<c;++d)b[d]=a[d];return a};
olcs.Camera.prototype.setView_=function(a){this.view_&&(ol.Observable.unByKey(this.viewListenKey_),this.viewListenKey_=null);if(this.view_=a){var b=ol.proj.getTransform(a.getProjection(),"EPSG:4326"),c=ol.proj.getTransform("EPSG:4326",a.getProjection());goog.asserts.assert(b&&c);this.toLonLat_=b;this.fromLonLat_=c;this.viewListenKey_=ol.events.listen(a,"propertychange",this.handleViewEvent_,this);this.readFromView()}else this.fromLonLat_=this.toLonLat_=olcs.Camera.identityProjection};
olcs.Camera.prototype.handleViewEvent_=function(a){this.viewUpdateInProgress_||this.readFromView()};olcs.Camera.prototype.setHeading=function(a){this.view_&&this.view_.setRotation(a)};olcs.Camera.prototype.getHeading=function(){if(this.view_)return this.view_.getRotation()||0};olcs.Camera.prototype.setTilt=function(a){this.tilt_=a;this.updateCamera_()};olcs.Camera.prototype.getTilt=function(){return this.tilt_};olcs.Camera.prototype.setDistance=function(a){this.distance_=a;this.updateCamera_();this.updateView()};
olcs.Camera.prototype.getDistance=function(){return this.distance_};olcs.Camera.prototype.setCenter=function(a){this.view_&&this.view_.setCenter(a)};olcs.Camera.prototype.getCenter=function(){if(this.view_)return this.view_.getCenter()};
olcs.Camera.prototype.setPosition=function(a){this.toLonLat_&&(a=this.toLonLat_(a),goog.asserts.assert(a),a=new Cesium.Cartographic(ol.math.toRadians(a[0]),ol.math.toRadians(a[1]),this.getAltitude()),this.cam_.position=Cesium.Ellipsoid.WGS84.cartographicToCartesian(a),this.updateView())};
olcs.Camera.prototype.getPosition=function(){if(this.fromLonLat_){var a=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position);a=this.fromLonLat_([ol.math.toDegrees(a.longitude),ol.math.toDegrees(a.latitude)]);goog.asserts.assert(a);return a}};olcs.Camera.prototype.setAltitude=function(a){var b=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position);b.height=a;this.cam_.position=Cesium.Ellipsoid.WGS84.cartographicToCartesian(b);this.updateView()};
olcs.Camera.prototype.getAltitude=function(){return Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position).height};olcs.Camera.prototype.lookAt=function(a){this.toLonLat_&&(a=this.toLonLat_(a),goog.asserts.assert(a),a=Cesium.Cartographic.fromDegrees(a[0],a[1]),olcs.core.lookAt(this.cam_,a,this.scene_.globe),this.updateView())};
olcs.Camera.prototype.updateCamera_=function(){if(this.view_&&this.toLonLat_){var a=this.view_.getCenter();if(a){a=this.toLonLat_(a);goog.asserts.assert(a);a=new Cesium.Cartographic(ol.math.toRadians(a[0]),ol.math.toRadians(a[1]));if(this.scene_.globe){var b=this.scene_.globe.getHeight(a);a.height=b||0}a=Cesium.Ellipsoid.WGS84.cartographicToCartesian(a);b={pitch:this.tilt_-Cesium.Math.PI_OVER_TWO,heading:-this.view_.getRotation(),roll:void 0};this.cam_.setView({destination:a,orientation:b});this.cam_.moveBackward(this.distance_);
this.checkCameraChange(!0)}}};olcs.Camera.prototype.readFromView=function(){if(this.view_&&this.toLonLat_){var a=this.view_.getCenter();if(void 0!==a&&null!==a){a=this.toLonLat_(a);goog.asserts.assert(a);var b=this.view_.getResolution();this.distance_=this.calcDistanceForResolution(b||0,ol.math.toRadians(a[1]));this.updateCamera_()}}};
olcs.Camera.prototype.updateView=function(){if(this.view_&&this.fromLonLat_){this.viewUpdateInProgress_=!0;var a=Cesium.Ellipsoid.WGS84,b=this.scene_,c=olcs.core.pickCenterPoint(b),d=c;d||(d=b.globe,b=this.cam_.positionCartographic.clone(),d=d.getHeight(b),b.height=d||0,d=Cesium.Ellipsoid.WGS84.cartographicToCartesian(b));this.distance_=Cesium.Cartesian3.distance(d,this.cam_.position);b=a.cartesianToCartographic(d);this.view_.setCenter(this.fromLonLat_([ol.math.toDegrees(b.longitude),ol.math.toDegrees(b.latitude)]));
this.view_.setResolution(this.calcResolutionForDistance(this.distance_,b?b.latitude:0));if(c){d=this.cam_.position;b=new Cesium.Cartesian3;a.geocentricSurfaceNormal(c,b);a=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(d,c,a);Cesium.Cartesian3.normalize(a,a);d=this.cam_.up;var e=this.cam_.right,f=new Cesium.Cartesian3(-c.y,c.x,0);e=Cesium.Cartesian3.angleBetween(e,f);c=Cesium.Cartesian3.cross(c,d,new Cesium.Cartesian3).z;this.view_.setRotation(0>c?e:-e);c=Math.acos(Cesium.Cartesian3.dot(b,a));this.tilt_=
isNaN(c)?0:c}else this.view_.setRotation(this.cam_.heading),this.tilt_=-this.cam_.pitch+Math.PI/2;this.viewUpdateInProgress_=!1}};olcs.Camera.prototype.checkCameraChange=function(a){var b=this.lastCameraViewMatrix_,c=this.cam_.viewMatrix;b&&Cesium.Matrix4.equalsEpsilon(b,c,1E-5)||(this.lastCameraViewMatrix_=c.clone(),!0!==a&&this.updateView())};
olcs.Camera.prototype.calcDistanceForResolution=function(a,b){var c=this.scene_.canvas,d=this.cam_.frustum.fovy;goog.asserts.assert(!isNaN(d));var e=this.view_.getProjection().getMetersPerUnit();return a*c.clientHeight*e*Math.cos(Math.abs(b))/2/Math.tan(d/2)};olcs.Camera.prototype.calcResolutionForDistance=function(a,b){var c=this.scene_.canvas,d=this.cam_.frustum.fovy,e=this.view_.getProjection().getMetersPerUnit();return 2*a*Math.tan(d/2)/e/Math.cos(Math.abs(b))/c.clientHeight};ol.layer.Group=function(a){var b=a||{};a=ol.obj.assign({},b);delete a.layers;b=b.layers;ol.layer.Base.call(this,a);this.layersListenerKeys_=[];this.listenerKeys_={};ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Group.Property_.LAYERS),this.handleLayersChanged_,this);b?Array.isArray(b)?b=new ol.Collection(b.slice(),{unique:!0}):ol.asserts.assert(b instanceof ol.Collection,43):b=new ol.Collection(void 0,{unique:!0});this.setLayers(b)};ol.inherits(ol.layer.Group,ol.layer.Base);
ol.layer.Group.prototype.handleLayerChange_=function(){this.changed()};
ol.layer.Group.prototype.handleLayersChanged_=function(a){this.layersListenerKeys_.forEach(ol.events.unlistenByKey);this.layersListenerKeys_.length=0;a=this.getLayers();this.layersListenerKeys_.push(ol.events.listen(a,ol.CollectionEventType.ADD,this.handleLayersAdd_,this),ol.events.listen(a,ol.CollectionEventType.REMOVE,this.handleLayersRemove_,this));for(var b in this.listenerKeys_)this.listenerKeys_[b].forEach(ol.events.unlistenByKey);ol.obj.clear(this.listenerKeys_);b=a.getArray();var c;a=0;for(c=
b.length;a<c;a++){var d=b[a];this.listenerKeys_[ol.getUid(d).toString()]=[ol.events.listen(d,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(d,ol.events.EventType.CHANGE,this.handleLayerChange_,this)]}this.changed()};
ol.layer.Group.prototype.handleLayersAdd_=function(a){a=a.element;var b=ol.getUid(a).toString();this.listenerKeys_[b]=[ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(a,ol.events.EventType.CHANGE,this.handleLayerChange_,this)];this.changed()};ol.layer.Group.prototype.handleLayersRemove_=function(a){a=ol.getUid(a.element).toString();this.listenerKeys_[a].forEach(ol.events.unlistenByKey);delete this.listenerKeys_[a];this.changed()};
ol.layer.Group.prototype.getLayers=function(){return this.get(ol.layer.Group.Property_.LAYERS)};ol.layer.Group.prototype.setLayers=function(a){this.set(ol.layer.Group.Property_.LAYERS,a)};ol.layer.Group.prototype.getLayersArray=function(a){var b=void 0!==a?a:[];this.getLayers().forEach(function(a){a.getLayersArray(b)});return b};
ol.layer.Group.prototype.getLayerStatesArray=function(a){var b=void 0!==a?a:[],c=b.length;this.getLayers().forEach(function(a){a.getLayerStatesArray(b)});a=this.getLayerState();var d;for(d=b.length;c<d;c++){var e=b[c];e.opacity*=a.opacity;e.visible=e.visible&&a.visible;e.maxResolution=Math.min(e.maxResolution,a.maxResolution);e.minResolution=Math.max(e.minResolution,a.minResolution);void 0!==a.extent&&(e.extent=void 0!==e.extent?ol.extent.getIntersection(e.extent,a.extent):a.extent)}return b};
ol.layer.Group.prototype.getSourceState=function(){return ol.source.State.READY};ol.layer.Group.Property_={LAYERS:"layers"};olcs.AbstractSynchronizer=function(a,b){this.map=a;this.view=a.getView();this.scene=b;this.olLayers=a.getLayerGroup().getLayers();this.mapLayerGroup=a.getLayerGroup();this.layerMap={};this.olLayerListenKeys={};this.olGroupListenKeys_={}};olcs.AbstractSynchronizer.prototype.synchronize=function(){this.destroyAll();this.addLayers_(this.mapLayerGroup)};olcs.AbstractSynchronizer.prototype.orderLayers=function(){};
olcs.AbstractSynchronizer.prototype.addLayers_=function(a){var b=this,c=[{layer:a,parents:[]}];for(a={};0<c.length;){a.olLayerWithParents=c.splice(0,1)[0];a.olLayer=a.olLayerWithParents.layer;var d=ol.getUid(a.olLayer).toString();this.olLayerListenKeys[d]=[];goog.asserts.assert(!this.layerMap[d]);var e=null;a.olLayer instanceof ol.layer.Group?(this.listenForGroupChanges_(a.olLayer),a.olLayer!==this.mapLayerGroup&&(e=this.createSingleLayerCounterparts(a.olLayerWithParents)),e||a.olLayer.getLayers().forEach(function(a){return function(d){d&&
(d={layer:d,parents:a.olLayer===b.mapLayerGroup?[]:[a.olLayerWithParents.layer].concat(a.olLayerWithParents.parents)},c.push(d))}}(a))):e=this.createSingleLayerCounterparts(a.olLayerWithParents);e&&(this.layerMap[d]=e,this.olLayerListenKeys[d].push(ol.events.listen(a.olLayer,"change:zIndex",this.orderLayers,this)),e.forEach(function(a){this.addCesiumObject(a)},this));a={olLayer:a.olLayer,olLayerWithParents:a.olLayerWithParents}}this.orderLayers()};
olcs.AbstractSynchronizer.prototype.removeAndDestroySingleLayer_=function(a){a=ol.getUid(a).toString();var b=this.layerMap[a];b&&(b.forEach(function(a){this.removeSingleCesiumObject(a,!1);this.destroyCesiumObject(a)},this),this.olLayerListenKeys[a].forEach(ol.Observable.unByKey),delete this.olLayerListenKeys[a]);delete this.layerMap[a];return!!b};
olcs.AbstractSynchronizer.prototype.unlistenSingleGroup_=function(a){a!==this.mapLayerGroup&&(a=ol.getUid(a).toString(),this.olGroupListenKeys_[a].forEach(function(a){ol.Observable.unByKey(a)}),delete this.olGroupListenKeys_[a],delete this.layerMap[a])};olcs.AbstractSynchronizer.prototype.removeLayer_=function(a){if(a)for(var b=[a];0<b.length;){a=b.splice(0,1)[0];var c=this.removeAndDestroySingleLayer_(a);a instanceof ol.layer.Group&&(this.unlistenSingleGroup_(a),c||a.getLayers().forEach(function(a){b.push(a)}))}};
olcs.AbstractSynchronizer.prototype.listenForGroupChanges_=function(a){var b=ol.getUid(a).toString();goog.asserts.assert(void 0===this.olGroupListenKeys_[b]);var c=[];this.olGroupListenKeys_[b]=c;var d=[],e=function(){var b=a.getLayers();b&&(d=[b.on("add",function(a){this.addLayers_(a.element)},this),b.on("remove",function(a){this.removeLayer_(a.element)},this)],c.push.apply(c,[].concat($jscomp.arrayFromIterable(d))))}.bind(this);e();c.push(a.on("change:layers",function(a){d.forEach(function(a){var b=
c.indexOf(a);0<=b&&c.splice(b,1);ol.Observable.unByKey(a)});e()}))};olcs.AbstractSynchronizer.prototype.destroyAll=function(){this.removeAllCesiumObjects(!0);for(var a in this.olGroupListenKeys_)this.olGroupListenKeys_[a].forEach(ol.Observable.unByKey);for(a in this.olLayerListenKeys)this.olLayerListenKeys[a].forEach(ol.Observable.unByKey);this.olGroupListenKeys_={};this.olLayerListenKeys={};this.layerMap={}};olcs.AbstractSynchronizer.prototype.addCesiumObject=function(a){};
olcs.AbstractSynchronizer.prototype.destroyCesiumObject=function(a){};olcs.AbstractSynchronizer.prototype.removeSingleCesiumObject=function(a,b){};olcs.AbstractSynchronizer.prototype.removeAllCesiumObjects=function(a){};olcs.AbstractSynchronizer.prototype.createSingleLayerCounterparts=function(a){};olcs.RasterSynchronizer=function(a,b){this.cesiumLayers_=b.imageryLayers;this.ourLayers_=new Cesium.ImageryLayerCollection;olcs.AbstractSynchronizer.call(this,a,b)};ol.inherits(olcs.RasterSynchronizer,olcs.AbstractSynchronizer);olcs.RasterSynchronizer.prototype.addCesiumObject=function(a){this.cesiumLayers_.add(a);this.ourLayers_.add(a)};olcs.RasterSynchronizer.prototype.destroyCesiumObject=function(a){a.destroy()};
olcs.RasterSynchronizer.prototype.removeSingleCesiumObject=function(a,b){this.cesiumLayers_.remove(a,b);this.ourLayers_.remove(a,!1)};olcs.RasterSynchronizer.prototype.removeAllCesiumObjects=function(a){for(var b=0;b<this.ourLayers_.length;++b)this.cesiumLayers_.remove(this.ourLayers_.get(b),a);this.ourLayers_.removeAll(!1)};olcs.RasterSynchronizer.prototype.convertLayerToCesiumImageries=function(a,b){return(a=olcs.core.tileLayerToImageryLayer(a,b))?[a]:null};
olcs.RasterSynchronizer.prototype.createSingleLayerCounterparts=function(a){var b=a.layer,c=ol.getUid(b).toString(),d=this.view.getProjection(),e=this.convertLayerToCesiumImageries(b,d);if(e){var f=[];[a.layer].concat(a.parents).forEach(function(b){f.push(b.on(["change:opacity","change:visible"],function(){goog.asserts.assert(e);for(var b=0;b<e.length;++b)olcs.core.updateCesiumLayerProperties(a,e[b])}))});for(d=0;d<e.length;++d)olcs.core.updateCesiumLayerProperties(a,e[d]);f.push(b.on("change:extent",
function(a){for(a=0;a<e.length;++a)this.cesiumLayers_.remove(e[a],!0),this.ourLayers_.remove(e[a],!1);delete this.layerMap[ol.getUid(b)];this.synchronize()},this));f.push(b.on("change",function(a){for(a=0;a<e.length;++a){var b=this.cesiumLayers_.indexOf(e[a]);0<=b&&(this.cesiumLayers_.remove(e[a],!1),this.cesiumLayers_.add(e[a],b))}},this));this.olLayerListenKeys[c].push.apply(this.olLayerListenKeys[c],[].concat($jscomp.arrayFromIterable(f)))}return Array.isArray(e)?e:null};
olcs.RasterSynchronizer.prototype.orderLayers=function(){for(var a=[],b={},c=[this.mapLayerGroup];0<c.length;){var d=c.splice(0,1)[0];a.push(d);b[ol.getUid(d)]=d.getZIndex();d instanceof ol.layer.Group&&(d=d.getLayers())&&c.unshift.apply(c,[].concat($jscomp.arrayFromIterable(d.getArray())))}ol.array.stableSort(a,function(a,c){return b[ol.getUid(a)]-b[ol.getUid(c)]});a.forEach(function(a){a=ol.getUid(a).toString();(a=this.layerMap[a])&&a.forEach(this.raiseToTop,this)},this)};
olcs.RasterSynchronizer.prototype.raiseToTop=function(a){this.cesiumLayers_.raiseToTop(a)};ol.render.ReplayGroup=function(){};ol.render.ReplayGroup.prototype.getReplay=function(a,b){};ol.render.ReplayGroup.prototype.isEmpty=function(){};ol.geom.flat.length={};ol.geom.flat.length.lineString=function(a,b,c,d){var e=a[b],f=a[b+1],g=0;for(b+=d;b<c;b+=d){var h=a[b],k=a[b+1];g+=Math.sqrt((h-e)*(h-e)+(k-f)*(k-f));e=h;f=k}return g};ol.geom.flat.length.linearRing=function(a,b,c,d){var e=ol.geom.flat.length.lineString(a,b,c,d),f=a[c-d]-a[b];a=a[c-d+1]-a[b+1];return e+=Math.sqrt(f*f+a*a)};ol.geom.flat.textpath={};
ol.geom.flat.textpath.lineString=function(a,b,c,d,e,f,g,h,k){k=k?k:[];var l=a[b]>a[c-d],m=e.length,n=a[b],p=a[b+1];b+=d;for(var q=a[b],r=a[b+1],u=0,t=Math.sqrt(Math.pow(q-n,2)+Math.pow(r-p,2)),w,v,A=0;A<m;++A){w=l?m-A-1:A;for(var y=f(e[w]),x=g+y/2;b<c-d&&u+t<x;)n=q,p=r,b+=d,q=a[b],r=a[b+1],u+=t,t=Math.sqrt(Math.pow(q-n,2)+Math.pow(r-p,2));var B=x-u;x=Math.atan2(r-p,q-n);l&&(x+=0<x?-Math.PI:Math.PI);if(void 0!==v&&(v=x-v,v+=v>Math.PI?-2*Math.PI:v<-Math.PI?2*Math.PI:0,Math.abs(v)>h))return null;v=x;
var z=B/t;B=ol.math.lerp(n,q,z);z=ol.math.lerp(p,r,z);k[w]=[B,z,x];g+=y}return k};ol.render.VectorContext=function(){};ol.render.VectorContext.prototype.drawCustom=function(a,b,c){};ol.render.VectorContext.prototype.drawGeometry=function(a){};ol.render.VectorContext.prototype.setStyle=function(a){};ol.render.VectorContext.prototype.drawCircle=function(a,b){};ol.render.VectorContext.prototype.drawFeature=function(a,b){};ol.render.VectorContext.prototype.drawGeometryCollection=function(a,b){};ol.render.VectorContext.prototype.drawLineString=function(a,b){};
ol.render.VectorContext.prototype.drawMultiLineString=function(a,b){};ol.render.VectorContext.prototype.drawMultiPoint=function(a,b){};ol.render.VectorContext.prototype.drawMultiPolygon=function(a,b){};ol.render.VectorContext.prototype.drawPoint=function(a,b){};ol.render.VectorContext.prototype.drawPolygon=function(a,b){};ol.render.VectorContext.prototype.drawText=function(a,b){};ol.render.VectorContext.prototype.setFillStrokeStyle=function(a,b){};ol.render.VectorContext.prototype.setImageStyle=function(a){};
ol.render.VectorContext.prototype.setTextStyle=function(a){};ol.render.canvas.Instruction={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};ol.render.canvas.Replay=function(a,b,c,d,e){ol.render.VectorContext.call(this);this.tolerance=a;this.maxExtent=b;this.overlaps=e;this.pixelRatio=d;this.maxLineWidth=0;this.resolution=c;this.beginGeometryInstruction2_=this.beginGeometryInstruction1_=null;this.instructions=[];this.coordinates=[];this.coordinateCache_={};this.renderedTransform_=ol.transform.create();this.hitDetectionInstructions=[];this.pixelCoordinates_=null;this.tmpLocalTransform_=ol.transform.create();this.resetTransform_=ol.transform.create();
this.chars_=[]};ol.inherits(ol.render.canvas.Replay,ol.render.VectorContext);
ol.render.canvas.Replay.prototype.replayImage_=function(a,b,c,d,e,f,g,h,k,l,m,n,p,q){var r=this.tmpLocalTransform_;e*=n;f*=n;b-=e;c-=f;p&&(b=Math.round(b),c=Math.round(c));0!==m&&(e=b+e,f=c+f,ol.transform.compose(r,e,f,1,1,m,-e,-f),a.setTransform.apply(a,r));r=a.globalAlpha;1!=h&&(a.globalAlpha=r*h);q=q+k>d.width?d.width-k:q;g=g+l>d.height?d.height-l:g;a.drawImage(d,k,l,q,g,b,c,q*n,g*n);1!=h&&(a.globalAlpha=r);0!==m&&a.setTransform.apply(a,this.resetTransform_)};
ol.render.canvas.Replay.prototype.applyPixelRatio=function(a){var b=this.pixelRatio;return 1==b?a:a.map(function(a){return a*b})};
ol.render.canvas.Replay.prototype.appendFlatCoordinates=function(a,b,c,d,e,f){var g=this.coordinates.length,h=this.getBufferedMaxExtent();f&&(b+=d);f=[a[b],a[b+1]];var k=[NaN,NaN],l=!0,m;for(m=b+d;m<c;m+=d){k[0]=a[m];k[1]=a[m+1];var n=ol.extent.coordinateRelationship(h,k);n!==p?(l&&(this.coordinates[g++]=f[0],this.coordinates[g++]=f[1]),this.coordinates[g++]=k[0],this.coordinates[g++]=k[1],l=!1):n===ol.extent.Relationship.INTERSECTING?(this.coordinates[g++]=k[0],this.coordinates[g++]=k[1],l=!1):l=
!0;f[0]=k[0];f[1]=k[1];var p=n}if(e&&l||m===b+d)this.coordinates[g++]=f[0],this.coordinates[g++]=f[1];return g};ol.render.canvas.Replay.prototype.drawCustomCoordinates_=function(a,b,c,d,e){for(var f=0,g=c.length;f<g;++f){var h=c[f];b=this.appendFlatCoordinates(a,b,h,d,!1,!1);e.push(b);b=h}return b};
ol.render.canvas.Replay.prototype.drawCustom=function(a,b,c){this.beginGeometry(a,b);var d=a.getType(),e=a.getStride(),f=this.coordinates.length,g;if(d==ol.geom.GeometryType.MULTI_POLYGON){d=a.getOrientedFlatCoordinates();var h=[];for(var k=a.getEndss(),l=g=0,m=k.length;l<m;++l){var n=[];g=this.drawCustomCoordinates_(d,g,k[l],e,n);h.push(n)}this.instructions.push([ol.render.canvas.Instruction.CUSTOM,f,h,a,c,ol.geom.flat.inflate.coordinatesss])}else d==ol.geom.GeometryType.POLYGON||d==ol.geom.GeometryType.MULTI_LINE_STRING?
(h=[],d=d==ol.geom.GeometryType.POLYGON?a.getOrientedFlatCoordinates():a.getFlatCoordinates(),this.drawCustomCoordinates_(d,0,a.getEnds(),e,h),this.instructions.push([ol.render.canvas.Instruction.CUSTOM,f,h,a,c,ol.geom.flat.inflate.coordinatess])):d==ol.geom.GeometryType.LINE_STRING||d==ol.geom.GeometryType.MULTI_POINT?(d=a.getFlatCoordinates(),e=this.appendFlatCoordinates(d,0,d.length,e,!1,!1),this.instructions.push([ol.render.canvas.Instruction.CUSTOM,f,e,a,c,ol.geom.flat.inflate.coordinates])):
d==ol.geom.GeometryType.POINT&&(d=a.getFlatCoordinates(),this.coordinates.push(d[0],d[1]),e=this.coordinates.length,this.instructions.push([ol.render.canvas.Instruction.CUSTOM,f,e,a,c]));this.endGeometry(a,b)};ol.render.canvas.Replay.prototype.beginGeometry=function(a,b){this.beginGeometryInstruction1_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,b,0];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,b,0];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)};
ol.render.canvas.Replay.prototype.fill_=function(a,b){if(this.fillOrigin_){var c=ol.transform.apply(this.renderedTransform_,this.fillOrigin_.slice());a.translate(c[0],c[1]);a.rotate(b)}a.fill();this.fillOrigin_&&a.setTransform.apply(a,this.resetTransform_)};
ol.render.canvas.Replay.prototype.replay_=function(a,b,c,d,e,f,g){if(this.pixelCoordinates_&&ol.array.equals(b,this.renderedTransform_))var h=this.pixelCoordinates_;else this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=ol.geom.flat.transform.transform2D(this.coordinates,0,this.coordinates.length,2,b,this.pixelCoordinates_),ol.transform.setFromArray(this.renderedTransform_,b);b=!ol.obj.isEmpty(d);for(var k=0,l=e.length,m,n,p,q,r,u,t,w=0,v=0,A=this.coordinateCache_,y={context:a,pixelRatio:this.pixelRatio,
resolution:this.resolution,rotation:c},x=this.instructions!=e||this.overlaps?0:200;k<l;)switch(t=e[k],t[0]){case ol.render.canvas.Instruction.BEGIN_GEOMETRY:var B=t[1];b&&d[ol.getUid(B).toString()]||!B.getGeometry()?k=t[2]:void 0===g||ol.extent.intersects(g,B.getGeometry().getExtent())?++k:k=t[2]+1;break;case ol.render.canvas.Instruction.BEGIN_PATH:w>x&&(this.fill_(a,c),w=0);v>x&&(a.stroke(),v=0);w||v||(a.beginPath(),r=u=NaN);++k;break;case ol.render.canvas.Instruction.CIRCLE:m=t[1];t=h[m];p=h[m+
1];q=h[m+2]-t;m=h[m+3]-p;q=Math.sqrt(q*q+m*m);a.moveTo(t+q,p);a.arc(t,p,q,0,2*Math.PI,!0);++k;break;case ol.render.canvas.Instruction.CLOSE_PATH:a.closePath();++k;break;case ol.render.canvas.Instruction.CUSTOM:m=t[1];n=t[2];p=t[4];q=6==t.length?t[5]:void 0;y.geometry=t[3];y.feature=B;k in A||(A[k]=[]);t=A[k];q?q(h,m,n,2,t):(t[0]=h[m],t[1]=h[m+1],t.length=2);p(t,y);++k;break;case ol.render.canvas.Instruction.DRAW_IMAGE:m=t[1];n=t[2];var z=t[3];p=t[4];q=t[5];var D=t[6],C=t[7],F=t[8],G=t[9],E=t[11],
I=t[12],H=t[13],J=t[14];for(t[10]&&(E+=c);m<n;m+=2)this.replayImage_(a,h[m],h[m+1],z,p,q,D,C,F,G,E,I,H,J);++k;break;case ol.render.canvas.Instruction.DRAW_CHARS:q=t[1];D=t[2];m=t[3];n=t[4];C=t[5];F=t[6];G=t[7];z=t[8];p=t[9];E=t[10];t=t[11];I=ol.geom.flat.length.lineString(h,q,D,2);H=G(p);if(C||H<=I)if(D=ol.geom.flat.textpath.lineString(h,q,D,2,p,G,(I-H)*E,F,this.chars_),C=p.length,D)for(F=m[m.length-1].height,G=0,E=m.length;G<E;++G)I=D[G%C],H=m[G],p=H.width/2,q=n*H.height+(.5-n)*(H.height-F)-z,this.replayImage_(a,
I[0],I[1],H,p,q,H.height,1,0,0,I[2],t,!1,H.width);++k;break;case ol.render.canvas.Instruction.END_GEOMETRY:if(void 0!==f&&(B=t[1],t=f(B)))return t;++k;break;case ol.render.canvas.Instruction.FILL:x?w++:this.fill_(a,c);++k;break;case ol.render.canvas.Instruction.MOVE_TO_LINE_TO:m=t[1];n=t[2];q=h[m];z=h[m+1];t=q+.5|0;p=z+.5|0;if(t!==r||p!==u)a.moveTo(q,z),r=t,u=p;for(m+=2;m<n;m+=2)if(q=h[m],z=h[m+1],t=q+.5|0,p=z+.5|0,m==n-2||t!==r||p!==u)a.lineTo(q,z),r=t,u=p;++k;break;case ol.render.canvas.Instruction.SET_FILL_STYLE:this.fillOrigin_=
t[2];w&&(this.fill_(a,c),w=0,v&&(a.stroke(),v=0));a.fillStyle=t[1];++k;break;case ol.render.canvas.Instruction.SET_STROKE_STYLE:v&&(a.stroke(),v=0);a.strokeStyle=t[1];a.lineWidth=t[2];a.lineCap=t[3];a.lineJoin=t[4];a.miterLimit=t[5];ol.has.CANVAS_LINE_DASH&&(a.lineDashOffset=t[7],a.setLineDash(t[6]));++k;break;case ol.render.canvas.Instruction.STROKE:x?v++:a.stroke();++k;break;default:++k}w&&this.fill_(a,c);v&&a.stroke()};
ol.render.canvas.Replay.prototype.replay=function(a,b,c,d){this.replay_(a,b,c,d,this.instructions,void 0,void 0)};ol.render.canvas.Replay.prototype.replayHitDetection=function(a,b,c,d,e,f){return this.replay_(a,b,c,d,this.hitDetectionInstructions,e,f)};
ol.render.canvas.Replay.prototype.reverseHitDetectionInstructions=function(){var a=this.hitDetectionInstructions;a.reverse();var b,c=a.length,d=-1;for(b=0;b<c;++b){var e=a[b];var f=e[0];f==ol.render.canvas.Instruction.END_GEOMETRY?d=b:f==ol.render.canvas.Instruction.BEGIN_GEOMETRY&&(e[2]=b,ol.array.reverseSubArray(this.hitDetectionInstructions,d,b),d=-1)}};
ol.render.canvas.Replay.prototype.endGeometry=function(a,b){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;a=[ol.render.canvas.Instruction.END_GEOMETRY,b];this.instructions.push(a);this.hitDetectionInstructions.push(a)};ol.render.canvas.Replay.prototype.finish=ol.nullFunction;ol.render.canvas.Replay.prototype.getBufferedMaxExtent=function(){return this.maxExtent};ol.render.canvas.ImageReplay=function(a,b,c,d,e){ol.render.canvas.Replay.call(this,a,b,c,d,e);this.image_=this.hitDetectionImage_=null;this.width_=this.snapToPixel_=this.scale_=this.rotation_=this.rotateWithView_=this.originY_=this.originX_=this.opacity_=this.height_=this.anchorY_=this.anchorX_=void 0};ol.inherits(ol.render.canvas.ImageReplay,ol.render.canvas.Replay);ol.render.canvas.ImageReplay.prototype.drawCoordinates_=function(a,b,c,d){return this.appendFlatCoordinates(a,b,c,d,!1,!1)};
ol.render.canvas.ImageReplay.prototype.drawPoint=function(a,b){if(this.image_){this.beginGeometry(a,b);var c=a.getFlatCoordinates(),d=a.getStride(),e=this.coordinates.length;c=this.drawCoordinates_(c,0,c.length,d);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,e,c,this.image_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,
e,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.endGeometry(a,b)}};
ol.render.canvas.ImageReplay.prototype.drawMultiPoint=function(a,b){if(this.image_){this.beginGeometry(a,b);var c=a.getFlatCoordinates(),d=a.getStride(),e=this.coordinates.length;c=this.drawCoordinates_(c,0,c.length,d);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,e,c,this.image_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,
e,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.endGeometry(a,b)}};
ol.render.canvas.ImageReplay.prototype.finish=function(){this.reverseHitDetectionInstructions();this.anchorY_=this.anchorX_=void 0;this.image_=this.hitDetectionImage_=null;this.width_=this.snapToPixel_=this.rotation_=this.rotateWithView_=this.originY_=this.originX_=this.opacity_=this.scale_=this.height_=void 0};
ol.render.canvas.ImageReplay.prototype.setImageStyle=function(a){var b=a.getAnchor(),c=a.getSize(),d=a.getHitDetectionImage(1),e=a.getImage(1),f=a.getOrigin();this.anchorX_=b[0];this.anchorY_=b[1];this.hitDetectionImage_=d;this.image_=e;this.height_=c[1];this.opacity_=a.getOpacity();this.originX_=f[0];this.originY_=f[1];this.rotateWithView_=a.getRotateWithView();this.rotation_=a.getRotation();this.scale_=a.getScale();this.snapToPixel_=a.getSnapToPixel();this.width_=c[0]};ol.render.canvas.LineStringReplay=function(a,b,c,d,e){ol.render.canvas.Replay.call(this,a,b,c,d,e);this.bufferedMaxExtent_=null;this.state_={currentStrokeStyle:void 0,currentLineCap:void 0,currentLineDash:null,currentLineDashOffset:void 0,currentLineJoin:void 0,currentLineWidth:void 0,currentMiterLimit:void 0,lastStroke:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}};ol.inherits(ol.render.canvas.LineStringReplay,ol.render.canvas.Replay);
ol.render.canvas.LineStringReplay.prototype.drawFlatCoordinates_=function(a,b,c,d){var e=this.coordinates.length;a=this.appendFlatCoordinates(a,b,c,d,!1,!1);e=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,e,a];this.instructions.push(e);this.hitDetectionInstructions.push(e);return c};
ol.render.canvas.LineStringReplay.prototype.getBufferedMaxExtent=function(){this.bufferedMaxExtent_||(this.bufferedMaxExtent_=ol.extent.clone(this.maxExtent),0<this.maxLineWidth&&ol.extent.buffer(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_));return this.bufferedMaxExtent_};
ol.render.canvas.LineStringReplay.prototype.setStrokeStyle_=function(){var a=this.state_,b=a.strokeStyle,c=a.lineCap,d=a.lineDash,e=a.lineDashOffset,f=a.lineJoin,g=a.lineWidth,h=a.miterLimit;a.currentStrokeStyle==b&&a.currentLineCap==c&&ol.array.equals(a.currentLineDash,d)&&a.currentLineDashOffset==e&&a.currentLineJoin==f&&a.currentLineWidth==g&&a.currentMiterLimit==h||(void 0!=a.lastStroke&&a.lastStroke!=this.coordinates.length&&(this.instructions.push([ol.render.canvas.Instruction.STROKE]),a.lastStroke=
this.coordinates.length),a.lastStroke=0,this.instructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,b,g*this.pixelRatio,c,f,h,this.applyPixelRatio(d),e*this.pixelRatio],[ol.render.canvas.Instruction.BEGIN_PATH]),a.currentStrokeStyle=b,a.currentLineCap=c,a.currentLineDash=d,a.currentLineDashOffset=e,a.currentLineJoin=f,a.currentLineWidth=g,a.currentMiterLimit=h)};
ol.render.canvas.LineStringReplay.prototype.drawLineString=function(a,b){var c=this.state_,d=c.lineWidth;void 0!==c.strokeStyle&&void 0!==d&&(this.setStrokeStyle_(),this.beginGeometry(a,b),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset],[ol.render.canvas.Instruction.BEGIN_PATH]),c=a.getFlatCoordinates(),d=a.getStride(),this.drawFlatCoordinates_(c,0,c.length,d),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]),
this.endGeometry(a,b))};
ol.render.canvas.LineStringReplay.prototype.drawMultiLineString=function(a,b){var c=this.state_,d=c.lineWidth;if(void 0!==c.strokeStyle&&void 0!==d){this.setStrokeStyle_();this.beginGeometry(a,b);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset],[ol.render.canvas.Instruction.BEGIN_PATH]);c=a.getEnds();d=a.getFlatCoordinates();var e=a.getStride(),f=0,g;var h=0;for(g=c.length;h<g;++h)f=
this.drawFlatCoordinates_(d,f,c[h],e);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]);this.endGeometry(a,b)}};ol.render.canvas.LineStringReplay.prototype.finish=function(){var a=this.state_;void 0!=a.lastStroke&&a.lastStroke!=this.coordinates.length&&this.instructions.push([ol.render.canvas.Instruction.STROKE]);this.reverseHitDetectionInstructions();this.state_=null};
ol.render.canvas.LineStringReplay.prototype.setFillStrokeStyle=function(a,b){a=b.getColor();this.state_.strokeStyle=ol.colorlike.asColorLike(a?a:ol.render.canvas.defaultStrokeStyle);a=b.getLineCap();this.state_.lineCap=void 0!==a?a:ol.render.canvas.defaultLineCap;a=b.getLineDash();this.state_.lineDash=a?a:ol.render.canvas.defaultLineDash;a=b.getLineDashOffset();this.state_.lineDashOffset=a?a:ol.render.canvas.defaultLineDashOffset;a=b.getLineJoin();this.state_.lineJoin=void 0!==a?a:ol.render.canvas.defaultLineJoin;
a=b.getWidth();this.state_.lineWidth=void 0!==a?a:ol.render.canvas.defaultLineWidth;b=b.getMiterLimit();this.state_.miterLimit=void 0!==b?b:ol.render.canvas.defaultMiterLimit;this.state_.lineWidth>this.maxLineWidth&&(this.maxLineWidth=this.state_.lineWidth,this.bufferedMaxExtent_=null)};ol.render.canvas.PolygonReplay=function(a,b,c,d,e){ol.render.canvas.Replay.call(this,a,b,c,d,e);this.bufferedMaxExtent_=null;this.state_={currentFillStyle:void 0,currentStrokeStyle:void 0,currentLineCap:void 0,currentLineDash:null,currentLineDashOffset:void 0,currentLineJoin:void 0,currentLineWidth:void 0,currentMiterLimit:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}};
ol.inherits(ol.render.canvas.PolygonReplay,ol.render.canvas.Replay);
ol.render.canvas.PolygonReplay.prototype.drawFlatCoordinatess_=function(a,b,c,d){var e=this.state_,f=void 0!==e.fillStyle;e=void 0!=e.strokeStyle;var g=c.length,h=[ol.render.canvas.Instruction.BEGIN_PATH];this.instructions.push(h);this.hitDetectionInstructions.push(h);for(h=0;h<g;++h){var k=c[h],l=this.coordinates.length;b=this.appendFlatCoordinates(a,b,k,d,!0,!e);b=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,l,b];this.instructions.push(b);this.hitDetectionInstructions.push(b);e&&(b=[ol.render.canvas.Instruction.CLOSE_PATH],
this.instructions.push(b),this.hitDetectionInstructions.push(b));b=k}a=[ol.render.canvas.Instruction.FILL];this.hitDetectionInstructions.push(a);f&&this.instructions.push(a);e&&(f=[ol.render.canvas.Instruction.STROKE],this.instructions.push(f),this.hitDetectionInstructions.push(f));return b};
ol.render.canvas.PolygonReplay.prototype.drawCircle=function(a,b){var c=this.state_,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){this.setFillStrokeStyles_(a);this.beginGeometry(a,b);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);void 0!==c.strokeStyle&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,
c.lineDashOffset]);var e=a.getFlatCoordinates(),f=a.getStride();d=this.coordinates.length;this.appendFlatCoordinates(e,0,e.length,f,!1,!1);e=[ol.render.canvas.Instruction.BEGIN_PATH];d=[ol.render.canvas.Instruction.CIRCLE,d];this.instructions.push(e,d);this.hitDetectionInstructions.push(e,d);d=[ol.render.canvas.Instruction.FILL];this.hitDetectionInstructions.push(d);void 0!==c.fillStyle&&this.instructions.push(d);void 0!==c.strokeStyle&&(c=[ol.render.canvas.Instruction.STROKE],this.instructions.push(c),
this.hitDetectionInstructions.push(c));this.endGeometry(a,b)}};
ol.render.canvas.PolygonReplay.prototype.drawPolygon=function(a,b){var c=this.state_;this.setFillStrokeStyles_(a);this.beginGeometry(a,b);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);void 0!==c.strokeStyle&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset]);c=a.getEnds();var d=a.getOrientedFlatCoordinates(),
e=a.getStride();this.drawFlatCoordinatess_(d,0,c,e);this.endGeometry(a,b)};
ol.render.canvas.PolygonReplay.prototype.drawMultiPolygon=function(a,b){var c=this.state_,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){this.setFillStrokeStyles_(a);this.beginGeometry(a,b);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);void 0!==c.strokeStyle&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,
c.lineDashOffset]);c=a.getEndss();d=a.getOrientedFlatCoordinates();var e=a.getStride(),f=0,g;var h=0;for(g=c.length;h<g;++h)f=this.drawFlatCoordinatess_(d,f,c[h],e);this.endGeometry(a,b)}};ol.render.canvas.PolygonReplay.prototype.finish=function(){this.reverseHitDetectionInstructions();this.state_=null;var a=this.tolerance;if(0!==a){var b=this.coordinates,c;var d=0;for(c=b.length;d<c;++d)b[d]=ol.geom.flat.simplify.snap(b[d],a)}};
ol.render.canvas.PolygonReplay.prototype.getBufferedMaxExtent=function(){this.bufferedMaxExtent_||(this.bufferedMaxExtent_=ol.extent.clone(this.maxExtent),0<this.maxLineWidth&&ol.extent.buffer(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_));return this.bufferedMaxExtent_};
ol.render.canvas.PolygonReplay.prototype.setFillStrokeStyle=function(a,b){var c=this.state_;a?(a=a.getColor(),c.fillStyle=ol.colorlike.asColorLike(a?a:ol.render.canvas.defaultFillStyle)):c.fillStyle=void 0;b?(a=b.getColor(),c.strokeStyle=ol.colorlike.asColorLike(a?a:ol.render.canvas.defaultStrokeStyle),a=b.getLineCap(),c.lineCap=void 0!==a?a:ol.render.canvas.defaultLineCap,a=b.getLineDash(),c.lineDash=a?a.slice():ol.render.canvas.defaultLineDash,a=b.getLineDashOffset(),c.lineDashOffset=a?a:ol.render.canvas.defaultLineDashOffset,
a=b.getLineJoin(),c.lineJoin=void 0!==a?a:ol.render.canvas.defaultLineJoin,a=b.getWidth(),c.lineWidth=void 0!==a?a:ol.render.canvas.defaultLineWidth,b=b.getMiterLimit(),c.miterLimit=void 0!==b?b:ol.render.canvas.defaultMiterLimit,c.lineWidth>this.maxLineWidth&&(this.maxLineWidth=c.lineWidth,this.bufferedMaxExtent_=null)):(c.strokeStyle=void 0,c.lineCap=void 0,c.lineDash=null,c.lineDashOffset=void 0,c.lineJoin=void 0,c.lineWidth=void 0,c.miterLimit=void 0)};
ol.render.canvas.PolygonReplay.prototype.setFillStrokeStyles_=function(a){var b=this.state_,c=b.fillStyle,d=b.strokeStyle,e=b.lineCap,f=b.lineDash,g=b.lineDashOffset,h=b.lineJoin,k=b.lineWidth,l=b.miterLimit;if(void 0!==c&&("string"!==typeof c||b.currentFillStyle!=c)){var m=[ol.render.canvas.Instruction.SET_FILL_STYLE,c];"string"!==typeof c&&(a=a.getExtent(),m.push([a[0],a[3]]));this.instructions.push(m);b.currentFillStyle=b.fillStyle}void 0===d||b.currentStrokeStyle==d&&b.currentLineCap==e&&ol.array.equals(b.currentLineDash,
f)&&b.currentLineDashOffset==g&&b.currentLineJoin==h&&b.currentLineWidth==k&&b.currentMiterLimit==l||(this.instructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,d,k*this.pixelRatio,e,h,l,this.applyPixelRatio(f),g*this.pixelRatio]),b.currentStrokeStyle=d,b.currentLineCap=e,b.currentLineDash=f,b.currentLineDashOffset=g,b.currentLineJoin=h,b.currentLineWidth=k,b.currentMiterLimit=l)};ol.geom.flat.straightchunk={};ol.geom.flat.straightchunk.lineString=function(a,b,c,d,e){for(var f=c,g=c,h=0,k=0,l=c,m,n,p,q,r,u;c<d;c+=e){var t=b[c],w=b[c+1];void 0!==p&&(p=t-p,q=w-q,n=Math.sqrt(p*p+q*q),void 0!==r&&(k+=m,m=Math.acos((r*p+u*q)/(m*n)),m>a&&(k>h&&(h=k,f=l,g=c),k=0,l=c-e)),m=n,r=p,u=q);p=t;q=w}return k+n>h?[l,c]:[f,g]};ol.render.ReplayType={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};ol.render.replay={};ol.render.replay.ORDER=[ol.render.ReplayType.POLYGON,ol.render.ReplayType.CIRCLE,ol.render.ReplayType.LINE_STRING,ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT,ol.render.ReplayType.DEFAULT];ol.render.replay.TEXT_ALIGN={};ol.render.replay.TEXT_ALIGN.left=0;ol.render.replay.TEXT_ALIGN.end=0;ol.render.replay.TEXT_ALIGN.center=.5;ol.render.replay.TEXT_ALIGN.right=1;ol.render.replay.TEXT_ALIGN.start=1;ol.render.replay.TEXT_ALIGN.top=0;ol.render.replay.TEXT_ALIGN.middle=.5;
ol.render.replay.TEXT_ALIGN.hanging=.2;ol.render.replay.TEXT_ALIGN.alphabetic=.8;ol.render.replay.TEXT_ALIGN.ideographic=.8;ol.render.replay.TEXT_ALIGN.bottom=1;ol.style.TextPlacement={POINT:"point",LINE:"line"};ol.render.canvas.TextReplay=function(a,b,c,d,e){ol.render.canvas.Replay.call(this,a,b,c,d,e);this.labels_=null;this.text_="";this.textOffsetY_=this.textOffsetX_=0;this.textRotateWithView_=void 0;this.textScale_=this.textRotation_=0;this.textState_=this.textStrokeState_=this.textFillState_=null;for(this.strokeKey_=this.fillKey_=this.textKey_="";ol.render.canvas.TextReplay.labelCache_.canExpireCache();)ol.render.canvas.TextReplay.labelCache_.pop()};ol.inherits(ol.render.canvas.TextReplay,ol.render.canvas.Replay);
ol.render.canvas.TextReplay.labelCache_=new ol.structs.LRUCache;ol.render.canvas.TextReplay.measureTextHeight=function(){var a;return function(b,c,d){a||(a=document.createElement("span"),a.textContent="M",a.style.visibility="hidden",a.style.whiteSpace="nowrap");a.style.font=b;document.body.appendChild(a);b=a.offsetHeight;document.body.removeChild(a);return b}}();ol.render.canvas.TextReplay.getTextWidth=function(a,b,c){var d=this[c];d||(this[c]=d=a.measureText(c).width);return d*b};
ol.render.canvas.TextReplay.measureTextWidths=function(){var a;return function(b,c,d){a||(a=ol.dom.createCanvasContext2D(1,1));a.font=b;b=c.length;var e=0,f;for(f=0;f<b;++f){var g=a.measureText(c[f]).width;e=Math.max(e,g);d.push(g)}return e}}();
ol.render.canvas.TextReplay.prototype.drawText=function(a,b){var c=this.textFillState_,d=this.textStrokeState_,e=this.textState_;if(""!==this.text_&&e&&(c||d)){c=this.coordinates.length;var f=a.getType();d=null;var g=2,h=2;if(this.textState_.placement===ol.style.TextPlacement.LINE){d=a.getFlatCoordinates();h=a.getStride();if(f==ol.geom.GeometryType.LINE_STRING)var k=[d.length];else if(f==ol.geom.GeometryType.MULTI_LINE_STRING)k=a.getEnds();else if(f==ol.geom.GeometryType.POLYGON)k=a.getEnds().slice(0,
1);else if(f==ol.geom.GeometryType.MULTI_POLYGON){var l=a.getEndss();k=[];g=0;for(f=l.length;g<f;++g)k.push(l[g][0])}this.beginGeometry(a,b);f=e.textAlign;for(var m=l=0,n=k.length;m<n;++m)void 0==f?(g=ol.geom.flat.straightchunk.lineString(e.maxAngle,d,l,k[m],h),l=g[0],g=g[1]):g=k[m],g=this.appendFlatCoordinates(d,l,g,h,!1,!1),l=k[m],this.drawChars_(c,g),c=g}else{k=this.getImage_(this.text_,!!this.textFillState_,!!this.textStrokeState_);l=k.width/this.pixelRatio;switch(f){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:d=
a.getFlatCoordinates();g=d.length;break;case ol.geom.GeometryType.LINE_STRING:d=a.getFlatMidpoint();break;case ol.geom.GeometryType.CIRCLE:d=a.getCenter();break;case ol.geom.GeometryType.MULTI_LINE_STRING:d=a.getFlatMidpoints();g=d.length;break;case ol.geom.GeometryType.POLYGON:d=a.getFlatInteriorPoint();if(!e.exceedLength&&d[2]/this.resolution<l)return;h=3;break;case ol.geom.GeometryType.MULTI_POLYGON:m=a.getFlatInteriorPoints();d=[];g=0;for(f=m.length;g<f;g+=3)(e.exceedLength||m[g+2]/this.resolution>=
l)&&d.push(m[g],m[g+1]);g=d.length;if(0==g)return}g=this.appendFlatCoordinates(d,0,g,h,!1,!1);this.beginGeometry(a,b);this.drawTextImage_(k,c,g)}this.endGeometry(a,b)}};
ol.render.canvas.TextReplay.prototype.getImage_=function(a,b,c){var d=(c?this.strokeKey_:"")+this.textKey_+a+(b?this.fillKey_:"");a=a.split("\n");var e=a.length;if(!ol.render.canvas.TextReplay.labelCache_.containsKey(d)){var f=this.textStrokeState_,g=this.textFillState_,h=this.textState_,k=this.textScale_*this.pixelRatio,l=ol.render.replay.TEXT_ALIGN[h.textAlign||ol.render.canvas.defaultTextAlign],m=c&&f.lineWidth?f.lineWidth:0,n=[],p=ol.render.canvas.TextReplay.measureTextWidths(h.font,a,n),q=ol.render.canvas.TextReplay.measureTextHeight(h.font);
p=ol.dom.createCanvasContext2D(Math.ceil((p+m)*k),Math.ceil((q*e+m)*k));var r=p.canvas;ol.render.canvas.TextReplay.labelCache_.set(d,r);p.scale(k,k);p.font=h.font;c&&(p.strokeStyle=f.strokeStyle,p.lineWidth=m*(ol.has.SAFARI?k:1),p.lineCap=f.lineCap,p.lineJoin=f.lineJoin,p.miterLimit=f.miterLimit,ol.has.CANVAS_LINE_DASH&&(p.setLineDash(f.lineDash),p.lineDashOffset=f.lineDashOffset));b&&(p.fillStyle=g.fillStyle);p.textBaseline="top";p.textAlign="center";f=.5-l;k=l*r.width/k+f*m;if(c)for(c=0;c<e;++c)p.strokeText(a[c],
k+f*n[c],.5*m+c*q);if(b)for(c=0;c<e;++c)p.fillText(a[c],k+f*n[c],.5*m+c*q)}return ol.render.canvas.TextReplay.labelCache_.get(d)};
ol.render.canvas.TextReplay.prototype.drawTextImage_=function(a,b,c){var d=this.textState_,e=this.textStrokeState_,f=this.pixelRatio,g=ol.render.replay.TEXT_ALIGN[d.textAlign||ol.render.canvas.defaultTextAlign];d=ol.render.replay.TEXT_ALIGN[d.textBaseline];e=e&&e.lineWidth?e.lineWidth:0;g=g*a.width/f+2*(.5-g)*e;d=d*a.height/f+2*(.5-d)*e;this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,b,c,a,(g-this.textOffsetX_)*f,(d-this.textOffsetY_)*f,a.height,1,0,0,this.textRotateWithView_,this.textRotation_,
1,!0,a.width]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,b,c,a,(g-this.textOffsetX_)*f,(d-this.textOffsetY_)*f,a.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/f,!0,a.width])};
ol.render.canvas.TextReplay.prototype.drawChars_=function(a,b){var c=this.pixelRatio,d=!!this.textFillState_,e=!!this.textStrokeState_,f=this.textState_,g=ol.render.replay.TEXT_ALIGN[f.textBaseline],h=[],k=this.text_,l=this.text_.length,m;if(e)for(m=0;m<l;++m)h.push(this.getImage_(k.charAt(m),!1,e));if(d)for(m=0;m<l;++m)h.push(this.getImage_(k.charAt(m),d,!1));d=h[0].getContext("2d");e=this.textOffsetY_*c;k=ol.render.replay.TEXT_ALIGN[f.textAlign||ol.render.canvas.defaultTextAlign];l={};this.instructions.push([ol.render.canvas.Instruction.DRAW_CHARS,
a,b,h,g,f.exceedLength,f.maxAngle,ol.render.canvas.TextReplay.getTextWidth.bind(l,d,c*this.textScale_),e,this.text_,k,1]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_CHARS,a,b,h,g,f.exceedLength,f.maxAngle,ol.render.canvas.TextReplay.getTextWidth.bind(l,d,this.textScale_),e,this.text_,k,1/c])};
ol.render.canvas.TextReplay.prototype.setTextStyle=function(a){var b;if(a){if(b=a.getFill()){b=b.getColor();var c=ol.colorlike.asColorLike(b?b:ol.render.canvas.defaultFillStyle);b=this.textFillState_;b||(b=this.textFillState_={});b.fillStyle=c}else b=this.textFillState_=null;var d=a.getStroke();if(d){c=d.getColor();var e=d.getLineCap(),f=d.getLineDash(),g=d.getLineDashOffset(),h=d.getLineJoin(),k=d.getWidth();d=d.getMiterLimit();e=void 0!==e?e:ol.render.canvas.defaultLineCap;f=f?f.slice():ol.render.canvas.defaultLineDash;
g=void 0!==g?g:ol.render.canvas.defaultLineDashOffset;h=void 0!==h?h:ol.render.canvas.defaultLineJoin;k=void 0!==k?k:ol.render.canvas.defaultLineWidth;d=void 0!==d?d:ol.render.canvas.defaultMiterLimit;var l=ol.colorlike.asColorLike(c?c:ol.render.canvas.defaultStrokeStyle);c=this.textStrokeState_;c||(c=this.textStrokeState_={});c.lineCap=e;c.lineDash=f;c.lineDashOffset=g;c.lineJoin=h;c.lineWidth=k;c.miterLimit=d;c.strokeStyle=l}else c=this.textStrokeState_=null;var m=a.getFont();e=a.getOffsetX();f=
a.getOffsetY();k=a.getRotateWithView();d=a.getRotation();g=a.getScale();h=a.getText();l=a.getTextAlign();var n=a.getTextBaseline();m=void 0!==m?m:ol.render.canvas.defaultFont;var p=void 0!==n?n:ol.render.canvas.defaultTextBaseline;n=this.textState_;n||(n=this.textState_={});n.exceedLength=a.getExceedLength();n.font=m;n.maxAngle=a.getMaxAngle();n.placement=a.getPlacement();n.textAlign=l;n.textBaseline=p;this.text_=void 0!==h?h:"";this.textOffsetX_=void 0!==e?e:0;this.textOffsetY_=void 0!==f?f:0;this.textRotateWithView_=
void 0!==k?k:!1;this.textRotation_=void 0!==d?d:0;this.textScale_=void 0!==g?g:1;this.strokeKey_=c?("string"==typeof c.strokeStyle?c.strokeStyle:ol.getUid(c.strokeStyle))+c.lineCap+c.lineDashOffset+"|"+c.lineWidth+c.lineJoin+c.miterLimit+"["+c.lineDash.join()+"]":"";this.textKey_=n.font+(n.textAlign||"?")+this.textScale_;this.fillKey_=b?"string"==typeof b.fillStyle?b.fillStyle:"|"+ol.getUid(b.fillStyle):""}else this.text_=""};ol.render.canvas.ReplayGroup=function(a,b,c,d,e,f){ol.render.ReplayGroup.call(this);this.tolerance_=a;this.maxExtent_=b;this.overlaps_=e;this.pixelRatio_=d;this.resolution_=c;this.renderBuffer_=f;this.replaysByZIndex_={};this.hitDetectionContext_=ol.dom.createCanvasContext2D(1,1);this.hitDetectionTransform_=ol.transform.create()};ol.inherits(ol.render.canvas.ReplayGroup,ol.render.ReplayGroup);ol.render.canvas.ReplayGroup.circleArrayCache_={0:[[!0]]};
ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_=function(a,b,c){var d,e=Math.floor(a.length/2);if(b>=e)for(d=e;d<b;d++)a[d][c]=!0;else if(b<e)for(d=b+1;d<e;d++)a[d][c]=!0};
ol.render.canvas.ReplayGroup.getCircleArray_=function(a){if(void 0!==ol.render.canvas.ReplayGroup.circleArrayCache_[a])return ol.render.canvas.ReplayGroup.circleArrayCache_[a];for(var b=2*a+1,c=Array(b),d=0;d<b;d++)c[d]=Array(b);b=a;for(var e=d=0;b>=d;)ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a+b,a+d),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a+d,a+b),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a-d,a+b),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,
a-b,a+d),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a-b,a-d),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a-d,a-b),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a+d,a-b),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a+b,a-d),d++,e+=1+2*d,0<2*(e-b)+1&&(--b,e+=1-2*b);return ol.render.canvas.ReplayGroup.circleArrayCache_[a]=c};
ol.render.canvas.ReplayGroup.prototype.hasReplays=function(a){for(var b in this.replaysByZIndex_)for(var c=this.replaysByZIndex_[b],d=0,e=a.length;d<e;++d)if(a[d]in c)return!0;return!1};ol.render.canvas.ReplayGroup.prototype.finish=function(){for(var a in this.replaysByZIndex_){var b=this.replaysByZIndex_[a],c;for(c in b)b[c].finish()}};
ol.render.canvas.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e,f){d=Math.round(d);var g=2*d+1,h=ol.transform.compose(this.hitDetectionTransform_,d+.5,d+.5,1/b,-1/b,-c,-a[0],-a[1]),k=this.hitDetectionContext_;k.canvas.width!==g||k.canvas.height!==g?(k.canvas.width=g,k.canvas.height=g):k.clearRect(0,0,g,g);if(void 0!==this.renderBuffer_){var l=ol.extent.createEmpty();ol.extent.extendCoordinate(l,a);ol.extent.buffer(l,b*(this.renderBuffer_+d),l)}var m=ol.render.canvas.ReplayGroup.getCircleArray_(d);
return this.replayHitDetection_(k,h,c,e,function(a){for(var b=k.getImageData(0,0,g,g).data,c=0;c<g;c++)for(var d=0;d<g;d++)if(m[c][d]&&0<b[4*(d*g+c)+3]){if(a=f(a))return a;k.clearRect(0,0,g,g);return}},l)};ol.render.canvas.ReplayGroup.prototype.getClipCoords=function(a){var b=this.maxExtent_,c=b[0],d=b[1],e=b[2];b=b[3];c=[c,d,c,b,e,b,e,d];ol.geom.flat.transform.transform2D(c,0,8,2,a,c);return c};
ol.render.canvas.ReplayGroup.prototype.getReplay=function(a,b){var c=void 0!==a?a.toString():"0";a=this.replaysByZIndex_[c];void 0===a&&(a={},this.replaysByZIndex_[c]=a);c=a[b];void 0===c&&(c=new ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_[b](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_),a[b]=c);return c};ol.render.canvas.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replaysByZIndex_)};
ol.render.canvas.ReplayGroup.prototype.replay=function(a,b,c,d,e){var f=Object.keys(this.replaysByZIndex_).map(Number);f.sort(ol.array.numberSafeCompareFunction);var g=this.getClipCoords(b);a.save();a.beginPath();a.moveTo(g[0],g[1]);a.lineTo(g[2],g[3]);a.lineTo(g[4],g[5]);a.lineTo(g[6],g[7]);a.clip();e=e?e:ol.render.replay.ORDER;var h,k;g=0;for(h=f.length;g<h;++g){var l=this.replaysByZIndex_[f[g].toString()];var m=0;for(k=e.length;m<k;++m){var n=l[e[m]];void 0!==n&&n.replay(a,b,c,d)}}a.restore()};
ol.render.canvas.ReplayGroup.prototype.replayHitDetection_=function(a,b,c,d,e,f){var g=Object.keys(this.replaysByZIndex_).map(Number);g.sort(function(a,b){return b-a});var h,k;var l=0;for(h=g.length;l<h;++l){var m=this.replaysByZIndex_[g[l].toString()];for(k=ol.render.replay.ORDER.length-1;0<=k;--k){var n=m[ol.render.replay.ORDER[k]];if(void 0!==n&&(n=n.replayHitDetection(a,b,c,d,e,f)))return n}}};
ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_={Circle:ol.render.canvas.PolygonReplay,Default:ol.render.canvas.Replay,Image:ol.render.canvas.ImageReplay,LineString:ol.render.canvas.LineStringReplay,Polygon:ol.render.canvas.PolygonReplay,Text:ol.render.canvas.TextReplay};ol.renderer.vector={};ol.renderer.vector.defaultOrder=function(a,b){return ol.getUid(a)-ol.getUid(b)};ol.renderer.vector.getSquaredTolerance=function(a,b){a=ol.renderer.vector.getTolerance(a,b);return a*a};ol.renderer.vector.getTolerance=function(a,b){return ol.SIMPLIFY_TOLERANCE*a/b};
ol.renderer.vector.renderCircleGeometry_=function(a,b,c,d){var e=c.getFill(),f=c.getStroke();if(e||f){var g=a.getReplay(c.getZIndex(),ol.render.ReplayType.CIRCLE);g.setFillStrokeStyle(e,f);g.drawCircle(b,d)}if(e=c.getText())a=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT),a.setTextStyle(e),a.drawText(b,d)};
ol.renderer.vector.renderFeature=function(a,b,c,d,e,f){var g=!1,h;if(h=c.getImage()){var k=h.getImageState();k==ol.ImageState.LOADED||k==ol.ImageState.ERROR?h.unlistenImageChange(e,f):(k==ol.ImageState.IDLE&&h.load(),h.getImageState(),h.listenImageChange(e,f),g=!0)}ol.renderer.vector.renderFeature_(a,b,c,d);return g};
ol.renderer.vector.renderFeature_=function(a,b,c,d){var e=c.getGeometryFunction()(b);if(e)if(d=e.getSimplifiedGeometry(d),c.getRenderer())ol.renderer.vector.renderGeometry_(a,d,c,b);else(0,ol.renderer.vector.GEOMETRY_RENDERERS_[d.getType()])(a,d,c,b)};
ol.renderer.vector.renderGeometry_=function(a,b,c,d){if(b.getType()==ol.geom.GeometryType.GEOMETRY_COLLECTION){b=b.getGeometries();for(var e=0,f=b.length;e<f;++e)ol.renderer.vector.renderGeometry_(a,b[e],c,d)}else a.getReplay(c.getZIndex(),ol.render.ReplayType.DEFAULT).drawCustom(b,d,c.getRenderer())};
ol.renderer.vector.renderGeometryCollectionGeometry_=function(a,b,c,d){b=b.getGeometriesArray();var e;var f=0;for(e=b.length;f<e;++f)(0,ol.renderer.vector.GEOMETRY_RENDERERS_[b[f].getType()])(a,b[f],c,d)};
ol.renderer.vector.renderLineStringGeometry_=function(a,b,c,d){var e=c.getStroke();if(e){var f=a.getReplay(c.getZIndex(),ol.render.ReplayType.LINE_STRING);f.setFillStrokeStyle(null,e);f.drawLineString(b,d)}if(e=c.getText())a=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT),a.setTextStyle(e),a.drawText(b,d)};
ol.renderer.vector.renderMultiLineStringGeometry_=function(a,b,c,d){var e=c.getStroke();if(e){var f=a.getReplay(c.getZIndex(),ol.render.ReplayType.LINE_STRING);f.setFillStrokeStyle(null,e);f.drawMultiLineString(b,d)}if(e=c.getText())a=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT),a.setTextStyle(e),a.drawText(b,d)};
ol.renderer.vector.renderMultiPolygonGeometry_=function(a,b,c,d){var e=c.getFill(),f=c.getStroke();if(f||e){var g=a.getReplay(c.getZIndex(),ol.render.ReplayType.POLYGON);g.setFillStrokeStyle(e,f);g.drawMultiPolygon(b,d)}if(e=c.getText())a=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT),a.setTextStyle(e),a.drawText(b,d)};
ol.renderer.vector.renderPointGeometry_=function(a,b,c,d){var e=c.getImage();if(e){if(e.getImageState()!=ol.ImageState.LOADED)return;var f=a.getReplay(c.getZIndex(),ol.render.ReplayType.IMAGE);f.setImageStyle(e);f.drawPoint(b,d)}if(e=c.getText())a=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT),a.setTextStyle(e),a.drawText(b,d)};
ol.renderer.vector.renderMultiPointGeometry_=function(a,b,c,d){var e=c.getImage();if(e){if(e.getImageState()!=ol.ImageState.LOADED)return;var f=a.getReplay(c.getZIndex(),ol.render.ReplayType.IMAGE);f.setImageStyle(e);f.drawMultiPoint(b,d)}if(e=c.getText())a=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT),a.setTextStyle(e),a.drawText(b,d)};
ol.renderer.vector.renderPolygonGeometry_=function(a,b,c,d){var e=c.getFill(),f=c.getStroke();if(e||f){var g=a.getReplay(c.getZIndex(),ol.render.ReplayType.POLYGON);g.setFillStrokeStyle(e,f);g.drawPolygon(b,d)}if(e=c.getText())a=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT),a.setTextStyle(e),a.drawText(b,d)};
ol.renderer.vector.GEOMETRY_RENDERERS_={Point:ol.renderer.vector.renderPointGeometry_,LineString:ol.renderer.vector.renderLineStringGeometry_,Polygon:ol.renderer.vector.renderPolygonGeometry_,MultiPoint:ol.renderer.vector.renderMultiPointGeometry_,MultiLineString:ol.renderer.vector.renderMultiLineStringGeometry_,MultiPolygon:ol.renderer.vector.renderMultiPolygonGeometry_,GeometryCollection:ol.renderer.vector.renderGeometryCollectionGeometry_,Circle:ol.renderer.vector.renderCircleGeometry_};ol.ImageBase=function(a,b,c,d,e){ol.events.EventTarget.call(this);this.attributions_=e;this.extent=a;this.pixelRatio_=c;this.resolution=b;this.state=d};ol.inherits(ol.ImageBase,ol.events.EventTarget);ol.ImageBase.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};ol.ImageBase.prototype.getAttributions=function(){return this.attributions_};ol.ImageBase.prototype.getExtent=function(){return this.extent};ol.ImageBase.prototype.getImage=function(){};
ol.ImageBase.prototype.getPixelRatio=function(){return this.pixelRatio_};ol.ImageBase.prototype.getResolution=function(){return this.resolution};ol.ImageBase.prototype.getState=function(){return this.state};ol.ImageBase.prototype.load=function(){};ol.ImageCanvas=function(a,b,c,d,e,f){this.loader_=void 0!==f?f:null;ol.ImageBase.call(this,a,b,c,void 0!==f?ol.ImageState.IDLE:ol.ImageState.LOADED,d);this.canvas_=e;this.error_=null};ol.inherits(ol.ImageCanvas,ol.ImageBase);ol.ImageCanvas.prototype.getError=function(){return this.error_};ol.ImageCanvas.prototype.handleLoad_=function(a){a?(this.error_=a,this.state=ol.ImageState.ERROR):this.state=ol.ImageState.LOADED;this.changed()};
ol.ImageCanvas.prototype.load=function(){this.state==ol.ImageState.IDLE&&(this.state=ol.ImageState.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))};ol.ImageCanvas.prototype.getImage=function(){return this.canvas_};ol.reproj.Image=function(a,b,c,d,e,f){this.targetProj_=b;this.maxSourceExtent_=a.getExtent();var g=b.getExtent();g=g?ol.extent.getIntersection(c,g):c;var h=ol.extent.getCenter(g);h=ol.reproj.calculateSourceResolution(a,b,h,d);this.triangulation_=new ol.reproj.Triangulation(a,b,g,this.maxSourceExtent_,h*ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD);this.targetResolution_=d;this.targetExtent_=c;a=this.triangulation_.calculateSourceExtent();this.sourcePixelRatio_=(this.sourceImage_=f(a,h,e))?this.sourceImage_.getPixelRatio():
1;this.sourceListenerKey_=this.canvas_=null;e=ol.ImageState.LOADED;f=[];this.sourceImage_&&(e=ol.ImageState.IDLE,f=this.sourceImage_.getAttributions());ol.ImageBase.call(this,c,d,this.sourcePixelRatio_,e,f)};ol.inherits(ol.reproj.Image,ol.ImageBase);ol.reproj.Image.prototype.disposeInternal=function(){this.state==ol.ImageState.LOADING&&this.unlistenSource_();ol.ImageBase.prototype.disposeInternal.call(this)};ol.reproj.Image.prototype.getImage=function(){return this.canvas_};
ol.reproj.Image.prototype.getProjection=function(){return this.targetProj_};
ol.reproj.Image.prototype.reproject_=function(){var a=this.sourceImage_.getState();if(a==ol.ImageState.LOADED){var b=ol.extent.getWidth(this.targetExtent_)/this.targetResolution_,c=ol.extent.getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=ol.reproj.render(b,c,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=
a;this.changed()};ol.reproj.Image.prototype.load=function(){if(this.state==ol.ImageState.IDLE){this.state=ol.ImageState.LOADING;this.changed();var a=this.sourceImage_.getState();a==ol.ImageState.LOADED||a==ol.ImageState.ERROR?this.reproject_():(this.sourceListenerKey_=ol.events.listen(this.sourceImage_,ol.events.EventType.CHANGE,function(a){a=this.sourceImage_.getState();if(a==ol.ImageState.LOADED||a==ol.ImageState.ERROR)this.unlistenSource_(),this.reproject_()},this),this.sourceImage_.load())}};
ol.reproj.Image.prototype.unlistenSource_=function(){ol.events.unlistenByKey(this.sourceListenerKey_);this.sourceListenerKey_=null};ol.source.Image=function(a){ol.source.Source.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.resolutions_=void 0!==a.resolutions?a.resolutions:null;this.reprojectedImage_=null;this.reprojectedRevision_=0};ol.inherits(ol.source.Image,ol.source.Source);ol.source.Image.prototype.getResolutions=function(){return this.resolutions_};
ol.source.Image.prototype.findNearestResolution=function(a){this.resolutions_&&(a=ol.array.linearFindNearest(this.resolutions_,a,0),a=this.resolutions_[a]);return a};
ol.source.Image.prototype.getImage=function(a,b,c,d){var e=this.getProjection();if(ol.ENABLE_RASTER_REPROJECTION&&e&&d&&!ol.proj.equivalent(e,d)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&ol.proj.equivalent(this.reprojectedImage_.getProjection(),d)&&this.reprojectedImage_.getResolution()==b&&ol.extent.equals(this.reprojectedImage_.getExtent(),a))return this.reprojectedImage_;this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=new ol.reproj.Image(e,
d,a,b,c,function(a,b,c){return this.getImageInternal(a,b,c,e)}.bind(this));this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}e&&(d=e);return this.getImageInternal(a,b,c,d)};ol.source.Image.prototype.getImageInternal=function(a,b,c,d){};
ol.source.Image.prototype.handleImageChange=function(a){a=a.target;switch(a.getState()){case ol.ImageState.LOADING:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADSTART,a));break;case ol.ImageState.LOADED:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADEND,a));break;case ol.ImageState.ERROR:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADERROR,a))}};
ol.source.Image.defaultImageLoadFunction=function(a,b){a.getImage().src=b};ol.source.Image.Event=function(a,b){ol.events.Event.call(this,a);this.image=b};ol.inherits(ol.source.Image.Event,ol.events.Event);ol.source.Image.EventType_={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};ol.source.ImageCanvas=function(a){ol.source.Image.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions,state:a.state});this.canvasFunction_=a.canvasFunction;this.canvas_=null;this.renderedRevision_=0;this.ratio_=void 0!==a.ratio?a.ratio:1.5};ol.inherits(ol.source.ImageCanvas,ol.source.Image);
ol.source.ImageCanvas.prototype.getImageInternal=function(a,b,c,d){b=this.findNearestResolution(b);var e=this.canvas_;if(e&&this.renderedRevision_==this.getRevision()&&e.getResolution()==b&&e.getPixelRatio()==c&&ol.extent.containsExtent(e.getExtent(),a))return e;a=a.slice();ol.extent.scaleFromCenter(a,this.ratio_);var f=ol.extent.getWidth(a)/b,g=ol.extent.getHeight(a)/b;(d=this.canvasFunction_(a,b,c,[f*c,g*c],d))&&(e=new ol.ImageCanvas(a,b,c,this.getAttributions(),d));this.canvas_=e;this.renderedRevision_=
this.getRevision();return e};ol.source.ImageVector=function(a){this.source_=a.source;this.transform_=ol.transform.create();this.canvasContext_=ol.dom.createCanvasContext2D();this.canvasSize_=[0,0];this.renderBuffer_=void 0==a.renderBuffer?100:a.renderBuffer;this.replayGroup_=null;ol.source.ImageCanvas.call(this,{attributions:a.attributions,canvasFunction:this.canvasFunctionInternal_.bind(this),logo:a.logo,projection:a.projection,ratio:a.ratio,resolutions:a.resolutions,state:this.source_.getState()});this.style_=null;this.styleFunction_=
void 0;this.setStyle(a.style);ol.events.listen(this.source_,ol.events.EventType.CHANGE,this.handleSourceChange_,this)};ol.inherits(ol.source.ImageVector,ol.source.ImageCanvas);
ol.source.ImageVector.prototype.canvasFunctionInternal_=function(a,b,c,d,e){var f=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(b,c),a,b,c,this.source_.getOverlaps(),this.renderBuffer_);this.source_.loadFeatures(a,b,e);var g=!1;this.source_.forEachFeatureInExtent(a,function(a){g=g||this.renderFeature_(a,b,c,f)},this);f.finish();if(g)return null;this.canvasSize_[0]!=d[0]||this.canvasSize_[1]!=d[1]?(this.canvasContext_.canvas.width=d[0],this.canvasContext_.canvas.height=d[1],this.canvasSize_[0]=
d[0],this.canvasSize_[1]=d[1]):this.canvasContext_.clearRect(0,0,d[0],d[1]);a=this.getTransform_(ol.extent.getCenter(a),b,c,d);f.replay(this.canvasContext_,a,0,{});this.replayGroup_=f;return this.canvasContext_.canvas};ol.source.ImageVector.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e,f){if(this.replayGroup_){var g={};return this.replayGroup_.forEachFeatureAtCoordinate(a,b,0,d,e,function(a){var b=ol.getUid(a).toString();if(!(b in g))return g[b]=!0,f(a)})}};
ol.source.ImageVector.prototype.getSource=function(){return this.source_};ol.source.ImageVector.prototype.getStyle=function(){return this.style_};ol.source.ImageVector.prototype.getStyleFunction=function(){return this.styleFunction_};ol.source.ImageVector.prototype.getTransform_=function(a,b,c,d){b=c/b;return ol.transform.compose(this.transform_,d[0]/2,d[1]/2,b,-b,0,-a[0],-a[1])};ol.source.ImageVector.prototype.handleImageChange_=function(a){this.changed()};
ol.source.ImageVector.prototype.handleSourceChange_=function(){this.setState(this.source_.getState())};ol.source.ImageVector.prototype.renderFeature_=function(a,b,c,d){var e,f=a.getStyleFunction();f?e=f.call(a,b):this.styleFunction_&&(e=this.styleFunction_(a,b));if(!e)return!1;var g,h=!1;Array.isArray(e)||(e=[e]);f=0;for(g=e.length;f<g;++f)h=ol.renderer.vector.renderFeature(d,a,e[f],ol.renderer.vector.getSquaredTolerance(b,c),this.handleImageChange_,this)||h;return h};
ol.source.ImageVector.prototype.setStyle=function(a){this.style_=void 0!==a?a:ol.style.Style.defaultFunction;this.styleFunction_=a?ol.style.Style.createFunction(this.style_):void 0;this.changed()};ol.source.Cluster=function(a){ol.source.Vector.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,wrapX:a.wrapX});this.resolution=void 0;this.distance=void 0!==a.distance?a.distance:20;this.features=[];this.geometryFunction=a.geometryFunction||function(a){a=a.getGeometry();ol.asserts.assert(a instanceof ol.geom.Point,10);return a};this.source=a.source;this.source.on(ol.events.EventType.CHANGE,ol.source.Cluster.prototype.refresh,this)};
ol.inherits(ol.source.Cluster,ol.source.Vector);ol.source.Cluster.prototype.getDistance=function(){return this.distance};ol.source.Cluster.prototype.getSource=function(){return this.source};ol.source.Cluster.prototype.loadFeatures=function(a,b,c){this.source.loadFeatures(a,b,c);b!==this.resolution&&(this.clear(),this.resolution=b,this.cluster(),this.addFeatures(this.features))};ol.source.Cluster.prototype.setDistance=function(a){this.distance=a;this.refresh()};
ol.source.Cluster.prototype.refresh=function(){this.clear();this.cluster();this.addFeatures(this.features);ol.source.Vector.prototype.refresh.call(this)};
ol.source.Cluster.prototype.cluster=function(){if(void 0!==this.resolution){this.features.length=0;for(var a=ol.extent.createEmpty(),b=this.distance*this.resolution,c=this.source.getFeatures(),d={},e=0,f=c.length;e<f;e++){var g=c[e];ol.getUid(g).toString()in d||!(g=this.geometryFunction(g))||(g=g.getCoordinates(),ol.extent.createOrUpdateFromCoordinate(g,a),ol.extent.buffer(a,b,a),g=this.source.getFeaturesInExtent(a),g=g.filter(function(a){a=ol.getUid(a).toString();return a in d?!1:d[a]=!0}),this.features.push(this.createCluster(g)))}}};
ol.source.Cluster.prototype.createCluster=function(a){for(var b=[0,0],c=a.length-1;0<=c;--c){var d=this.geometryFunction(a[c]);d?ol.coordinate.add(b,d.getCoordinates()):a.splice(c,1)}ol.coordinate.scale(b,1/a.length);b=new ol.Feature(new ol.geom.Point(b));b.set("features",a);return b};ol.layer.Image=function(a){ol.layer.Layer.call(this,a?a:{});this.type=ol.LayerType.IMAGE};ol.inherits(ol.layer.Image,ol.layer.Layer);ol.style.IconAnchorUnits={FRACTION:"fraction",PIXELS:"pixels"};ol.style.IconImageCache=function(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32};ol.style.IconImageCache.getKey=function(a,b,c){c=c?ol.color.asString(c):"null";return b+":"+a+":"+c};ol.style.IconImageCache.prototype.clear=function(){this.cache_={};this.cacheSize_=0};ol.style.IconImageCache.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var a=0,b;for(b in this.cache_){var c=this.cache_[b];0!==(a++&3)||c.hasListener()||(delete this.cache_[b],--this.cacheSize_)}}};
ol.style.IconImageCache.prototype.get=function(a,b,c){a=ol.style.IconImageCache.getKey(a,b,c);return a in this.cache_?this.cache_[a]:null};ol.style.IconImageCache.prototype.set=function(a,b,c,d){a=ol.style.IconImageCache.getKey(a,b,c);this.cache_[a]=d;++this.cacheSize_};ol.style.iconImageCache=new ol.style.IconImageCache;ol.style.IconImage=function(a,b,c,d,e,f){ol.events.EventTarget.call(this);this.hitDetectionImage_=null;this.image_=a?a:new Image;null!==d&&(this.image_.crossOrigin=d);this.canvas_=f?document.createElement("CANVAS"):null;this.color_=f;this.imageListenerKeys_=null;this.imageState_=e;this.size_=c;this.src_=b;this.tainting_=!1;this.imageState_==ol.ImageState.LOADED&&this.determineTainting_()};ol.inherits(ol.style.IconImage,ol.events.EventTarget);
ol.style.IconImage.get=function(a,b,c,d,e,f){var g=ol.style.iconImageCache,h=g.get(b,d,f);h||(h=new ol.style.IconImage(a,b,c,d,e,f),g.set(b,d,f,h));return h};ol.style.IconImage.prototype.determineTainting_=function(){var a=ol.dom.createCanvasContext2D(1,1);try{a.drawImage(this.image_,0,0),a.getImageData(0,0,1,1)}catch(b){this.tainting_=!0}};ol.style.IconImage.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};
ol.style.IconImage.prototype.handleImageError_=function(){this.imageState_=ol.ImageState.ERROR;this.unlistenImage_();this.dispatchChangeEvent_()};ol.style.IconImage.prototype.handleImageLoad_=function(){this.imageState_=ol.ImageState.LOADED;this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]);this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.determineTainting_();this.replaceColor_();this.dispatchChangeEvent_()};
ol.style.IconImage.prototype.getImage=function(a){return this.canvas_?this.canvas_:this.image_};ol.style.IconImage.prototype.getImageState=function(){return this.imageState_};ol.style.IconImage.prototype.getHitDetectionImage=function(a){if(!this.hitDetectionImage_)if(this.tainting_){a=this.size_[0];var b=this.size_[1],c=ol.dom.createCanvasContext2D(a,b);c.fillRect(0,0,a,b);this.hitDetectionImage_=c.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_};
ol.style.IconImage.prototype.getSize=function(){return this.size_};ol.style.IconImage.prototype.getSrc=function(){return this.src_};ol.style.IconImage.prototype.load=function(){if(this.imageState_==ol.ImageState.IDLE){this.imageState_=ol.ImageState.LOADING;this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(a){this.handleImageError_()}}};
ol.style.IconImage.prototype.replaceColor_=function(){if(!this.tainting_&&null!==this.color_){this.canvas_.width=this.image_.width;this.canvas_.height=this.image_.height;var a=this.canvas_.getContext("2d");a.drawImage(this.image_,0,0);for(var b=a.getImageData(0,0,this.image_.width,this.image_.height),c=b.data,d=this.color_[0]/255,e=this.color_[1]/255,f=this.color_[2]/255,g=0,h=c.length;g<h;g+=4)c[g]*=d,c[g+1]*=e,c[g+2]*=f;a.putImageData(b,0,0)}};
ol.style.IconImage.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey);this.imageListenerKeys_=null};ol.style.IconOrigin={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};ol.style.Icon=function(a){a=a||{};this.anchor_=void 0!==a.anchor?a.anchor:[.5,.5];this.normalizedAnchor_=null;this.anchorOrigin_=void 0!==a.anchorOrigin?a.anchorOrigin:ol.style.IconOrigin.TOP_LEFT;this.anchorXUnits_=void 0!==a.anchorXUnits?a.anchorXUnits:ol.style.IconAnchorUnits.FRACTION;this.anchorYUnits_=void 0!==a.anchorYUnits?a.anchorYUnits:ol.style.IconAnchorUnits.FRACTION;this.crossOrigin_=void 0!==a.crossOrigin?a.crossOrigin:null;var b=void 0!==a.img?a.img:null,c=void 0!==a.imgSize?a.imgSize:
null,d=a.src;ol.asserts.assert(!(void 0!==d&&b),4);ol.asserts.assert(!b||b&&c,5);void 0!==d&&0!==d.length||!b||(d=b.src||ol.getUid(b).toString());ol.asserts.assert(void 0!==d&&0<d.length,6);var e=void 0!==a.src?ol.ImageState.IDLE:ol.ImageState.LOADED;this.color_=void 0!==a.color?ol.color.asArray(a.color):null;this.iconImage_=ol.style.IconImage.get(b,d,c,this.crossOrigin_,e,this.color_);this.offset_=void 0!==a.offset?a.offset:[0,0];this.offsetOrigin_=void 0!==a.offsetOrigin?a.offsetOrigin:ol.style.IconOrigin.TOP_LEFT;
this.origin_=null;this.size_=void 0!==a.size?a.size:null;ol.style.Image.call(this,{opacity:void 0!==a.opacity?a.opacity:1,rotation:void 0!==a.rotation?a.rotation:0,scale:void 0!==a.scale?a.scale:1,snapToPixel:void 0!==a.snapToPixel?a.snapToPixel:!0,rotateWithView:void 0!==a.rotateWithView?a.rotateWithView:!1})};ol.inherits(ol.style.Icon,ol.style.Image);
ol.style.Icon.prototype.clone=function(){return new ol.style.Icon({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),snapToPixel:this.getSnapToPixel(),
rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})};
ol.style.Icon.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var a=this.anchor_,b=this.getSize();if(this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION||this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION){if(!b)return null;a=this.anchor_.slice();this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION&&(a[0]*=b[0]);this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION&&(a[1]*=b[1])}if(this.anchorOrigin_!=ol.style.IconOrigin.TOP_LEFT){if(!b)return null;a===
this.anchor_&&(a=this.anchor_.slice());if(this.anchorOrigin_==ol.style.IconOrigin.TOP_RIGHT||this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT)a[0]=-a[0]+b[0];if(this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_LEFT||this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT)a[1]=-a[1]+b[1]}return this.normalizedAnchor_=a};ol.style.Icon.prototype.getColor=function(){return this.color_};ol.style.Icon.prototype.getImage=function(a){return this.iconImage_.getImage(a)};
ol.style.Icon.prototype.getImageSize=function(){return this.iconImage_.getSize()};ol.style.Icon.prototype.getHitDetectionImageSize=function(){return this.getImageSize()};ol.style.Icon.prototype.getImageState=function(){return this.iconImage_.getImageState()};ol.style.Icon.prototype.getHitDetectionImage=function(a){return this.iconImage_.getHitDetectionImage(a)};
ol.style.Icon.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var a=this.offset_;if(this.offsetOrigin_!=ol.style.IconOrigin.TOP_LEFT){var b=this.getSize(),c=this.iconImage_.getSize();if(!b||!c)return null;a=a.slice();if(this.offsetOrigin_==ol.style.IconOrigin.TOP_RIGHT||this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT)a[0]=c[0]-b[0]-a[0];if(this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_LEFT||this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT)a[1]=c[1]-b[1]-a[1]}return this.origin_=
a};ol.style.Icon.prototype.getSrc=function(){return this.iconImage_.getSrc()};ol.style.Icon.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()};ol.style.Icon.prototype.listenImageChange=function(a,b){return ol.events.listen(this.iconImage_,ol.events.EventType.CHANGE,a,b)};ol.style.Icon.prototype.load=function(){this.iconImage_.load()};ol.style.Icon.prototype.unlistenImageChange=function(a,b){ol.events.unlisten(this.iconImage_,ol.events.EventType.CHANGE,a,b)};olcs.core.VectorLayerCounterpart=function(a,b){b=new Cesium.BillboardCollection({scene:b});var c=new Cesium.PrimitiveCollection;this.olListenKeys=[];this.rootCollection_=new Cesium.PrimitiveCollection;this.context={projection:a,billboards:b,featureToCesiumMap:{},primitives:c};this.rootCollection_.add(b);this.rootCollection_.add(c)};olcs.core.VectorLayerCounterpart.prototype.destroy=function(){this.olListenKeys.forEach(ol.Observable.unByKey);this.olListenKeys.length=0};
olcs.core.VectorLayerCounterpart.prototype.getRootPrimitive=function(){return this.rootCollection_};olcs.FeatureConverter=function(a){this.scene=a;this.boundOnRemoveOrClearFeatureListener_=this.onRemoveOrClearFeature_.bind(this)};olcs.FeatureConverter.prototype.onRemoveOrClearFeature_=function(a){var b=a.target;goog.asserts.assertInstanceof(b,ol.source.Vector);var c=olcs.util.obj(b).olcs_cancellers;if(c)if(a=a.feature){b=ol.getUid(a);var d=c[b];d&&(d(),delete c[b])}else{for(d in c)if(c.hasOwnProperty(d))c[d]();olcs.util.obj(b).olcs_cancellers={}}};
olcs.FeatureConverter.prototype.setReferenceForPicking=function(a,b,c){c.olLayer=a;c.olFeature=b};
olcs.FeatureConverter.prototype.createColoredPrimitive=function(a,b,c,d,e,f){var g={flat:!0,renderState:{depthTest:{enabled:!0}}};void 0!==f&&(g.renderState||(g.renderState={}),g.renderState.lineWidth=f);d=new Cesium.GeometryInstance({geometry:d,attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(e)}});if(this.getHeightReference(a,b,c)==Cesium.HeightReference.CLAMP_TO_GROUND){if((c=d.geometry.constructor)&&!c.createShadowVolume)return null;c=new Cesium.GroundPrimitive({geometryInstances:d})}else c=
new Cesium.PerInstanceColorAppearance(g),c=new Cesium.Primitive({geometryInstances:d,appearance:c});this.setReferenceForPicking(a,b,c);return c};olcs.FeatureConverter.prototype.extractColorFromOlStyle=function(a,b){var c=a.getFill()?a.getFill().getColor():null;a=a.getStroke()?a.getStroke().getColor():null;var d="black";a&&b?d=a:c&&(d=c);return olcs.core.convertColorToCesium(d)};
olcs.FeatureConverter.prototype.extractLineWidthFromOlStyle=function(a){a=a.getStroke()?a.getStroke().getWidth():void 0;return void 0!==a?a:1};
olcs.FeatureConverter.prototype.wrapFillAndOutlineGeometries=function(a,b,c,d,e,f){var g=this.extractColorFromOlStyle(f,!1),h=this.extractColorFromOlStyle(f,!0),k=new Cesium.PrimitiveCollection;f.getFill()&&(d=this.createColoredPrimitive(a,b,c,d,g),goog.asserts.assert(!!d),k.add(d));f.getStroke()&&(f=this.extractLineWidthFromOlStyle(f),(a=this.createColoredPrimitive(a,b,c,e,h,f))&&k.add(a));return k};
olcs.FeatureConverter.prototype.addTextStyle=function(a,b,c,d,e){if(e instanceof Cesium.PrimitiveCollection)var f=e;else f=new Cesium.PrimitiveCollection,f.add(e);if(!d.getText())return f;d=d.getText();(a=this.olGeometry4326TextPartToCesium(a,b,c,d))&&f.add(a);return f};olcs.FeatureConverter.prototype.csAddBillboard=function(a,b,c,d,e,f){a=a.add(b);this.setReferenceForPicking(c,d,a);return a};
olcs.FeatureConverter.prototype.olCircleGeometryToCesium=function(a,b,c,d,e){c=olcs.core.olGeometryCloneTo4326(c,d);goog.asserts.assert("Circle"==c.getType());d=c.getCenter();var f=3==d.length?d[2]:0,g=d.slice();g[0]+=c.getRadius();d=olcs.core.ol4326CoordinateToCesiumCartesian(d);g=olcs.core.ol4326CoordinateToCesiumCartesian(g);var h=Cesium.Cartesian3.distance(d,g);g=new Cesium.CircleGeometry({center:d,radius:h,height:f});d=new Cesium.CircleOutlineGeometry({center:d,radius:h,extrudedHeight:f,height:f});
d=this.wrapFillAndOutlineGeometries(a,b,c,g,d,e);return this.addTextStyle(a,b,c,e,d)};
olcs.FeatureConverter.prototype.olLineStringGeometryToCesium=function(a,b,c,d,e){c=olcs.core.olGeometryCloneTo4326(c,d);goog.asserts.assert("LineString"==c.getType());var f=olcs.core.ol4326CoordinateArrayToCsCartesians(c.getCoordinates());d=new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(b,e,!0)});f={positions:f,width:this.extractLineWidthFromOlStyle(e),vertexFormat:d.vertexFormat};this.getHeightReference(a,b,c)==Cesium.HeightReference.CLAMP_TO_GROUND?(d=this.extractColorFromOlStyle(e,
!0),d=new Cesium.GroundPrimitive({geometryInstances:new Cesium.GeometryInstance({geometry:new Cesium.CorridorGeometry(f),attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(d)}})})):d=new Cesium.Primitive({geometryInstances:new Cesium.GeometryInstance({geometry:new Cesium.PolylineGeometry(f)}),appearance:d});this.setReferenceForPicking(a,b,d);return this.addTextStyle(a,b,c,e,d)};
olcs.FeatureConverter.prototype.olPolygonGeometryToCesium=function(a,b,c,d,e){c=olcs.core.olGeometryCloneTo4326(c,d);goog.asserts.assert("Polygon"==c.getType());if(5==c.getCoordinates()[0].length&&"rectangle"===b.getGeometry().get("olcs.polygon_kind")){d=c.getCoordinates()[0];var f=ol.extent.boundingExtent(d);var g=Cesium.Rectangle.fromDegrees(f[0],f[1],f[2],f[3]),h=0;if(3==d[0].length)for(f=0;f<d.length;f++)h=Math.max(h,d[f][2]);f=new Cesium.RectangleGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:g,
height:h});d=new Cesium.RectangleOutlineGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:g,height:h})}else{f=c.getLinearRings();d={};goog.asserts.assert(0<f.length);for(g=0;g<f.length;++g)h=f[g].getCoordinates(),h=olcs.core.ol4326CoordinateArrayToCsCartesians(h),goog.asserts.assert(h&&0<h.length),0==g?d.positions=h:(d.holes||(d.holes=[]),d.holes.push({positions:h}));f=new Cesium.PolygonGeometry({polygonHierarchy:d,perPositionHeight:!0});d=new Cesium.PolygonOutlineGeometry({polygonHierarchy:d,
perPositionHeight:!0})}d=this.wrapFillAndOutlineGeometries(a,b,c,f,d,e);return this.addTextStyle(a,b,c,e,d)};olcs.FeatureConverter.prototype.getHeightReference=function(a,b,c){c=c.get("altitudeMode");void 0===c&&(c=b.get("altitudeMode"));void 0===c&&(c=a.get("altitudeMode"));a=Cesium.HeightReference.NONE;"clampToGround"===c?a=Cesium.HeightReference.CLAMP_TO_GROUND:"relativeToGround"===c&&(a=Cesium.HeightReference.RELATIVE_TO_GROUND);return a};
olcs.FeatureConverter.prototype.olPointGeometryToCesium=function(a,b,c,d,e,f,g){goog.asserts.assert("Point"==c.getType());c=olcs.core.olGeometryCloneTo4326(c,d);var h=e.getImage();if(h){h instanceof ol.style.Icon&&h.load();var k=h.getImage(1),l=function(){if(k&&(k instanceof HTMLCanvasElement||k instanceof Image||k instanceof HTMLImageElement)){var d=c.getCoordinates();d=olcs.core.ol4326CoordinateToCesiumCartesian(d);var l,m=h.getOpacity();void 0!==m&&(l=new Cesium.Color(1,1,1,m));m=this.getHeightReference(a,
b,c);l={image:k,color:l,scale:h.getScale(),heightReference:m,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,position:d};l=this.csAddBillboard(f,l,a,b,c,e);g&&g(l)}}.bind(this);if(k instanceof Image&&(""==k.src||0==k.naturalHeight||0==k.naturalWidth||!k.complete)){var m=!1,n=a.getSource();n instanceof ol.source.ImageVector&&(n=n.getSource());n.on(["removefeature","clear"],this.boundOnRemoveOrClearFeatureListener_);(d=olcs.util.obj(n).olcs_cancellers)||(d=olcs.util.obj(n).olcs_cancellers={});n=ol.getUid(b);
if(d[n])d[n]();d[n]=function(){m=!0};ol.events.listenOnce(k,"load",function(){f.isDestroyed()||m||l()})}else l()}return e.getText()?this.addTextStyle(a,b,c,e,new Cesium.Primitive):null};
olcs.FeatureConverter.prototype.olMultiGeometryToCesium=function(a,b,c,d,e,f,g){var h=this,k=function(c,f){var g=new Cesium.PrimitiveCollection;c.forEach(function(c){g.add(f(a,b,c,d,e))});return g};switch(c.getType()){case "MultiPoint":c=c.getPoints();if(e.getText()){var l=new Cesium.PrimitiveCollection;c.forEach(function(c){goog.asserts.assert(c);(c=h.olPointGeometryToCesium(a,b,c,d,e,f,g))&&l.add(c)});return l}c.forEach(function(c){goog.asserts.assert(c);h.olPointGeometryToCesium(a,b,c,d,e,f,g)});
return null;case "MultiLineString":return c=c.getLineStrings(),k(c,this.olLineStringGeometryToCesium.bind(this));case "MultiPolygon":return c=c.getPolygons(),k(c,this.olPolygonGeometryToCesium.bind(this));default:goog.asserts.fail("Unhandled multi geometry type"+c.getType())}};
olcs.FeatureConverter.prototype.olGeometry4326TextPartToCesium=function(a,b,c,d){var e=d.getText();goog.asserts.assert(void 0!==e);var f=new Cesium.LabelCollection({scene:this.scene}),g=ol.extent.getCenter(c.getExtent());if(c instanceof ol.geom.SimpleGeometry){var h=c.getFirstCoordinate();g[2]=3==h.length?h[2]:0}h={};h.position=olcs.core.ol4326CoordinateToCesiumCartesian(g);h.text=e;h.heightReference=this.getHeightReference(a,b,c);c=d.getOffsetX();e=d.getOffsetY();0!=c&&0!=e&&(c=new Cesium.Cartesian2(c,
e),h.pixelOffset=c);c=d.getFont();void 0!==c&&(h.font=c);c=void 0;d.getFill()&&(h.fillColor=this.extractColorFromOlStyle(d,!1),c=Cesium.LabelStyle.FILL);d.getStroke()&&(h.outlineWidth=this.extractLineWidthFromOlStyle(d),h.outlineColor=this.extractColorFromOlStyle(d,!0),c=Cesium.LabelStyle.OUTLINE);d.getFill()&&d.getStroke()&&(c=Cesium.LabelStyle.FILL_AND_OUTLINE);h.style=c;switch(d.getTextAlign()){case "left":c=Cesium.HorizontalOrigin.LEFT;break;case "right":c=Cesium.HorizontalOrigin.RIGHT;break;
default:c=Cesium.HorizontalOrigin.CENTER}h.horizontalOrigin=c;if(d.getTextBaseline()){switch(d.getTextBaseline()){case "top":var k=Cesium.VerticalOrigin.TOP;break;case "middle":k=Cesium.VerticalOrigin.CENTER;break;case "bottom":k=Cesium.VerticalOrigin.BOTTOM;break;case "alphabetic":k=Cesium.VerticalOrigin.TOP;break;case "hanging":k=Cesium.VerticalOrigin.BOTTOM;break;default:goog.asserts.fail("unhandled baseline "+d.getTextBaseline())}h.verticalOrigin=k}d=f.add(h);this.setReferenceForPicking(a,b,d);
return f};olcs.FeatureConverter.prototype.olStyleToCesium=function(a,b,c){a=b.getFill();b=b.getStroke();if(c&&!b||!c&&!a)return null;a=c?b.getColor():a.getColor();a=olcs.core.convertColorToCesium(a);return c&&b.getLineDash()?Cesium.Material.fromType("Stripe",{horizontal:!1,repeat:500,evenColor:a,oddColor:new Cesium.Color(0,0,0,0)}):Cesium.Material.fromType("Color",{color:a})};
olcs.FeatureConverter.prototype.computePlainStyle=function(a,b,c,d){a=b.getStyleFunction();var e=null;a&&(e=a.call(b,d));!e&&c&&(e=c(b,d));return e?Array.isArray(e)?e:[e]:null};olcs.FeatureConverter.prototype.getGeometryFromFeature=function(a,b,c){return c||(c=a.get("olcs.3d_geometry"))&&c instanceof ol.geom.Geometry?c:b&&(b=b.getGeometryFunction()(a),b instanceof ol.geom.Geometry)?b:a.getGeometry()};
olcs.FeatureConverter.prototype.olFeatureToCesium=function(a,b,c,d,e){var f=this;e=this.getGeometryFromFeature(b,c,e);if(!e)return null;var g=d.projection,h=function(a){d.featureToCesiumMap[ol.getUid(b)]=a};switch(e.getType()){case "GeometryCollection":var k=new Cesium.PrimitiveCollection;e.getGeometries().forEach(function(e){e&&(e=f.olFeatureToCesium(a,b,c,d,e))&&k.add(e)});return k;case "Point":return(e=this.olPointGeometryToCesium(a,b,e,g,c,d.billboards,h))?e:null;case "Circle":return this.olCircleGeometryToCesium(a,
b,e,g,c);case "LineString":return this.olLineStringGeometryToCesium(a,b,e,g,c);case "Polygon":return this.olPolygonGeometryToCesium(a,b,e,g,c);case "MultiPoint":case "MultiLineString":case "MultiPolygon":return(e=this.olMultiGeometryToCesium(a,b,e,g,c,d.billboards,h))?e:null;case "LinearRing":throw Error("LinearRing should only be part of polygon.");default:throw Error("Ol geom type not handled : "+e.getType());}};
olcs.FeatureConverter.prototype.olVectorLayerToCesium=function(a,b,c){var d=b.getProjection();b=b.getResolution();if(void 0===b||!d)throw goog.asserts.fail("View not ready"),Error("View not ready");var e=a.getSource();if(a instanceof ol.layer.Image)if(e instanceof ol.source.ImageVector)e=e.getSource();else return new olcs.core.VectorLayerCounterpart(d,this.scene);e instanceof ol.source.Cluster&&(e=e.getSource());goog.asserts.assertInstanceof(e,ol.source.Vector);e=e.getFeatures();d=new olcs.core.VectorLayerCounterpart(d,
this.scene);for(var f=d.context,g=0;g<e.length;++g){var h=e[g];if(h){if(a instanceof ol.layer.Image){var k=a.getSource();goog.asserts.assertInstanceof(k,ol.source.ImageVector);k=k.getStyleFunction()}else k=a.getStyleFunction();if((k=this.computePlainStyle(a,h,k,b))&&k.length){for(var l=null,m=0;m<k.length;m++){var n=this.olFeatureToCesium(a,h,k[m],f);if(n)if(!l)l=n;else if(n)for(var p=0,q;q=n.get(p);)l.add(q),p++}l&&(c[ol.getUid(h)]=l,d.getRootPrimitive().add(l))}}}return d};
olcs.FeatureConverter.prototype.convert=function(a,b,c,d){var e=b.getProjection();b=b.getResolution();if(void 0==b||!e)return null;if(a instanceof ol.layer.Image){var f=a.getSource();if(f instanceof ol.source.ImageVector)f=f.getStyleFunction();else return null}else f=a.getStyleFunction();b=this.computePlainStyle(a,c,f,b);if(!b.length)return null;d.projection=e;e=null;for(f=0;f<b.length;f++){var g=this.olFeatureToCesium(a,c,b[f],d);if(!e)e=g;else if(g)for(var h=0,k;k=g.get(h);)e.add(k),h++}return e};olcs.VectorSynchronizer=function(a,b,c){this.converter=c||new olcs.FeatureConverter(b);this.csAllPrimitives_=new Cesium.PrimitiveCollection;b.primitives.add(this.csAllPrimitives_);this.csAllPrimitives_.destroyPrimitives=!1;olcs.AbstractSynchronizer.call(this,a,b)};ol.inherits(olcs.VectorSynchronizer,olcs.AbstractSynchronizer);olcs.VectorSynchronizer.prototype.addCesiumObject=function(a){goog.asserts.assert(a);a.getRootPrimitive().counterpart=a;this.csAllPrimitives_.add(a.getRootPrimitive())};
olcs.VectorSynchronizer.prototype.destroyCesiumObject=function(a){a.getRootPrimitive().destroy()};olcs.VectorSynchronizer.prototype.removeSingleCesiumObject=function(a,b){a.destroy();this.csAllPrimitives_.destroyPrimitives=b;this.csAllPrimitives_.remove(a.getRootPrimitive());this.csAllPrimitives_.destroyPrimitives=!1};
olcs.VectorSynchronizer.prototype.removeAllCesiumObjects=function(a){if(this.csAllPrimitives_.destroyPrimitives=a)for(a=0;a<this.csAllPrimitives_.length;++a)this.csAllPrimitives_.get(a).counterpart.destroy();this.csAllPrimitives_.removeAll();this.csAllPrimitives_.destroyPrimitives=!1};olcs.VectorSynchronizer.prototype.updateLayerVisibility=function(a,b){var c=!0;[a.layer].concat(a.parents).forEach(function(a){a=a.getVisible();c=void 0!==a?c&a:!1});b.show=c};
olcs.VectorSynchronizer.prototype.createSingleLayerCounterparts=function(a){var b=this,c=a.layer;if(!(c instanceof ol.layer.Vector||c instanceof ol.layer.Image&&c.getSource()instanceof ol.source.ImageVector))return null;goog.asserts.assertInstanceof(c,ol.layer.Layer);var d=c.getSource();d instanceof ol.source.ImageVector&&(d=d.getSource());d instanceof ol.source.Cluster&&(d=d.getSource());goog.asserts.assertInstanceof(d,ol.source.Vector);goog.asserts.assert(this.view);var e=this.view,f={},g=this.converter.olVectorLayerToCesium(c,
e,f),h=g.getRootPrimitive(),k=g.olListenKeys;[a.layer].concat(a.parents).forEach(function(c){k.push(ol.events.listen(c,"change:visible",function(){b.updateLayerVisibility(a,h)}))});this.updateLayerVisibility(a,h);var l=function(a){goog.asserts.assert(c instanceof ol.layer.Vector||c instanceof ol.layer.Image);var b=this.converter.convert(c,e,a,g.context);b&&(f[ol.getUid(a)]=b,h.add(b))}.bind(this),m=function(a){var b=a.getGeometry();a=ol.getUid(a);if(!b||"Point"==b.getType()){b=g.context;var c=b.featureToCesiumMap[a];
delete b.featureToCesiumMap[a];c instanceof Cesium.Billboard&&b.billboards.remove(c)}b=f[a];delete f[a];b&&h.remove(b)}.bind(this);k.push(ol.events.listen(d,"addfeature",function(a){goog.asserts.assert(a.feature);l(a.feature)},this));k.push(ol.events.listen(d,"removefeature",function(a){goog.asserts.assert(a.feature);m(a.feature)},this));k.push(ol.events.listen(d,"changefeature",function(a){a=a.feature;goog.asserts.assert(a);m(a);l(a)},this));return g?[g]:null};olcs.OLCesium=function(a){this.autoRenderLoop_=null;this.map_=a.map;this.time_=a.time||function(){return Cesium.JulianDate.now()};this.to4326Transform_=ol.proj.getTransform(this.map_.getView().getProjection(),"EPSG:4326");this.resolutionScale_=1;this.canvasClientHeight_=this.canvasClientWidth_=0;this.resolutionScaleChanged_=!0;this.container_=document.createElement("DIV");var b=document.createAttribute("style");b.value="position:absolute;top:0;left:0;width:100%;height:100%;visibility:hidden;";this.container_.setAttributeNode(b);
if(b=a.target||null)"string"===typeof b&&(b=document.getElementById(b)),b.appendChild(this.container_);else{var c=this.map_.getViewport().querySelector(".ol-overlaycontainer");c&&c.parentNode&&c.parentNode.insertBefore(this.container_,c)}this.isOverMap_=!b;this.canvas_=document.createElement("CANVAS");b=document.createAttribute("style");b.value="position:absolute;top:0;left:0;width:100%;height:100%;";this.canvas_.setAttributeNode(b);olcs.util.supportsImageRenderingPixelated()&&(this.canvas_.style.imageRendering=
olcs.util.imageRenderingValue());this.canvas_.oncontextmenu=function(){return!1};this.canvas_.onselectstart=function(){return!1};this.container_.appendChild(this.canvas_);this.enabled_=!1;this.pausedInteractions_=[];this.hiddenRootGroup_=null;b=void 0!==a.sceneOptions?a.sceneOptions:{};b.canvas=this.canvas_;b.scene3DOnly=!0;this.scene_=new Cesium.Scene(b);b=this.scene_.screenSpaceCameraController;b.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.SHIFT});
b.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.ALT});b.enableLook=!1;this.scene_.camera.constrainedAxis=Cesium.Cartesian3.UNIT_Z;this.camera_=new olcs.Camera(this.scene_,this.map_);this.globe_=new Cesium.Globe(Cesium.Ellipsoid.WGS84);this.globe_.baseColor=Cesium.Color.WHITE;this.scene_.globe=this.globe_;this.scene_.skyAtmosphere=new Cesium.SkyAtmosphere;this.dataSourceCollection_=new Cesium.DataSourceCollection;this.dataSourceDisplay_=new Cesium.DataSourceDisplay({scene:this.scene_,
dataSourceCollection:this.dataSourceCollection_});a=a.createSynchronizers?a.createSynchronizers(this.map_,this.scene_,this.dataSourceCollection_):[new olcs.RasterSynchronizer(this.map_,this.scene_),new olcs.VectorSynchronizer(this.map_,this.scene_)];this.handleResize_();for(b=a.length-1;0<=b;--b)a[b].synchronize();this.isOverMap_&&(a=this.canvas_.nextElementSibling)&&(a.style.display="none");this.lastFrameTime_=0;this.renderId_=void 0;this.targetFrameRate_=Number.POSITIVE_INFINITY;this.warmingUp_=
this.blockCesiumRendering_=!1;this.entityView_=this.trackedEntity_=this.trackedFeature_=null;this.needTrackedEntityUpdate_=!1;this.boundingSphereScratch_=new Cesium.BoundingSphere;(new Cesium.EventHelper).add(this.scene_.postRender,olcs.OLCesium.prototype.updateTrackedEntity_,this)};
Object.defineProperties(olcs.OLCesium.prototype,{trackedFeature:{get:function(){return this.trackedFeature_},set:function(a){if(this.trackedFeature_!==a){var b=this.scene_;if(a&&a.getGeometry()){this.trackedFeature_=a;this.needTrackedEntityUpdate_=!0;var c=this.to4326Transform_;b={position:new Cesium.CallbackProperty(function(b,e){b=a.getGeometry();goog.asserts.assertInstanceof(b,ol.geom.Point);b=b.getCoordinates();b=c(b,void 0,b.length);return olcs.core.ol4326CoordinateToCesiumCartesian(b)},!1),
point:{pixelSize:1,color:Cesium.Color.TRANSPARENT}};this.trackedEntity_=this.dataSourceDisplay_.defaultDataSource.entities.add(b)}else this.needTrackedEntityUpdate_=!1,b.screenSpaceCameraController.enableTilt=!0,this.trackedEntity_&&this.dataSourceDisplay_.defaultDataSource.entities.remove(this.trackedEntity_),this.entityView_=this.trackedFeature_=this.trackedEntity_=null,b.camera.lookAtTransform(Cesium.Matrix4.IDENTITY)}}}});
olcs.OLCesium.prototype.render_=function(){void 0!==this.renderId_&&(cancelAnimationFrame(this.renderId_),this.renderId_=void 0);!this.enabled_&&!this.warmingUp_||this.blockCesiumRendering_||(this.renderId_=requestAnimationFrame(this.onAnimationFrame_.bind(this)))};
olcs.OLCesium.prototype.onAnimationFrame_=function(a){this.renderId_=void 0;a-this.lastFrameTime_<1E3/this.targetFrameRate_||(this.lastFrameTime_=a,a=this.time_(),this.scene_.initializeFrame(),this.handleResize_(),this.dataSourceDisplay_.update(a),this.entityView_&&this.dataSourceDisplay_.getBoundingSphere(this.trackedEntity_,!1,this.boundingSphereScratch_)===Cesium.BoundingSphereState.DONE&&(this.boundingSphereScratch_.radius=1,this.entityView_.update(a,this.boundingSphereScratch_)),this.scene_.render(a),
this.camera_.checkCameraChange());this.render_()};
olcs.OLCesium.prototype.updateTrackedEntity_=function(){if(this.needTrackedEntityUpdate_){var a=this.trackedEntity_,b=this.scene_,c=this.dataSourceDisplay_.getBoundingSphere(a,!1,this.boundingSphereScratch_);if(c!==Cesium.BoundingSphereState.PENDING){b.screenSpaceCameraController.enableTilt=!1;if(c=c!==Cesium.BoundingSphereState.FAILED?this.boundingSphereScratch_:void 0)c.radius=1;this.entityView_=new Cesium.EntityView(a,b,b.mapProjection.ellipsoid);this.entityView_.update(this.time_(),c);this.needTrackedEntityUpdate_=
!1}}};
olcs.OLCesium.prototype.handleResize_=function(){var a=this.canvas_.clientWidth,b=this.canvas_.clientHeight;if(!(0===a|0===b||a===this.canvasClientWidth_&&b===this.canvasClientHeight_&&!this.resolutionScaleChanged_)){var c=this.resolutionScale_;olcs.util.supportsImageRenderingPixelated()||(c*=window.devicePixelRatio||1);this.resolutionScaleChanged_=!1;this.canvasClientWidth_=a;this.canvasClientHeight_=b;a*=c;b*=c;this.canvas_.width=a;this.canvas_.height=b;this.scene_.camera.frustum.aspectRatio=a/
b}};olcs.OLCesium.prototype.getCamera=function(){return this.camera_};olcs.OLCesium.prototype.getOlMap=function(){return this.map_};olcs.OLCesium.prototype.getCesiumScene=function(){return this.scene_};olcs.OLCesium.prototype.getDataSources=function(){return this.dataSourceCollection_};olcs.OLCesium.prototype.getDataSourceDisplay=function(){return this.dataSourceDisplay_};olcs.OLCesium.prototype.getEnabled=function(){return this.enabled_};
olcs.OLCesium.prototype.setEnabled=function(a){if(this.enabled_!==a)if(this.enabled_=a,this.container_.style.visibility=this.enabled_?"visible":"hidden",this.enabled_){this.throwOnUnitializedMap_();if(this.isOverMap_){var b=this.map_.getInteractions();b.forEach(function(a,b,e){this.pausedInteractions_.push(a)},this);b.clear();a=this.map_.getLayerGroup();a.getVisible()&&(this.hiddenRootGroup_=a,this.hiddenRootGroup_.setVisible(!1))}this.camera_.readFromView();this.render_()}else this.isOverMap_&&(b=
this.map_.getInteractions(),this.pausedInteractions_.forEach(function(a){b.push(a)}),this.pausedInteractions_.length=0,this.hiddenRootGroup_&&(this.hiddenRootGroup_.setVisible(!0),this.hiddenRootGroup_=null)),this.camera_.updateView()};
olcs.OLCesium.prototype.warmUp=function(a,b){var c=this;if(!this.enabled_){this.throwOnUnitializedMap_();this.camera_.readFromView();var d=this.globe_.ellipsoid,e=this.scene_.camera,f=d.cartesianToCartographic(e.position);f.height<a&&(f.height=a,e.position=d.cartographicToCartesian(f));this.warmingUp_=!0;this.render_();setTimeout(function(){c.warmingUp_=!1},b)}};olcs.OLCesium.prototype.setBlockCesiumRendering=function(a){this.blockCesiumRendering_!==a&&(this.blockCesiumRendering_=a,this.render_())};
olcs.OLCesium.prototype.enableAutoRenderLoop=function(){this.autoRenderLoop_||(this.autoRenderLoop_=new olcs.AutoRenderLoop(this,!1))};olcs.OLCesium.prototype.getAutoRenderLoop=function(){return this.autoRenderLoop_};olcs.OLCesium.prototype.setResolutionScale=function(a){a=Math.max(0,a);a!==this.resolutionScale_&&(this.resolutionScale_=Math.max(0,a),this.resolutionScaleChanged_=!0,this.autoRenderLoop_&&this.autoRenderLoop_.restartRenderLoop())};
olcs.OLCesium.prototype.setTargetFrameRate=function(a){this.targetFrameRate_!==a&&(this.targetFrameRate_=a,this.render_())};olcs.OLCesium.prototype.throwOnUnitializedMap_=function(){var a=this.map_.getView(),b=a.getCenter();if(!a.isDef()||isNaN(b[0])||isNaN(b[1]))throw Error("The OpenLayers map is not properly initialized: "+b+" / "+a.getResolution());};ol.MapEvent=function(a,b,c){ol.events.Event.call(this,a);this.map=b;this.frameState=void 0!==c?c:null};ol.inherits(ol.MapEvent,ol.events.Event);ol.MapBrowserEvent=function(a,b,c,d,e){ol.MapEvent.call(this,a,b,e);this.originalEvent=c;this.pixel=b.getEventPixel(c);this.coordinate=b.getCoordinateFromPixel(this.pixel);this.dragging=void 0!==d?d:!1};ol.inherits(ol.MapBrowserEvent,ol.MapEvent);ol.MapBrowserEvent.prototype.preventDefault=function(){ol.MapEvent.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};ol.MapBrowserEvent.prototype.stopPropagation=function(){ol.MapEvent.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};ol.MapBrowserEventType={SINGLECLICK:"singleclick",CLICK:ol.events.EventType.CLICK,DBLCLICK:ol.events.EventType.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};ol.MapBrowserPointerEvent=function(a,b,c,d,e){ol.MapBrowserEvent.call(this,a,b,c.originalEvent,d,e);this.pointerEvent=c};ol.inherits(ol.MapBrowserPointerEvent,ol.MapBrowserEvent);ol.pointer={};ol.pointer.EventType={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};ol.pointer.EventSource=function(a,b){this.dispatcher=a;this.mapping_=b};ol.pointer.EventSource.prototype.getEvents=function(){return Object.keys(this.mapping_)};ol.pointer.EventSource.prototype.getHandlerForEvent=function(a){return this.mapping_[a]};ol.pointer.MouseSource=function(a){ol.pointer.EventSource.call(this,a,{mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout});this.pointerMap=a.pointerMap;this.lastTouches=[]};ol.inherits(ol.pointer.MouseSource,ol.pointer.EventSource);ol.pointer.MouseSource.POINTER_ID=1;ol.pointer.MouseSource.POINTER_TYPE="mouse";ol.pointer.MouseSource.DEDUP_DIST=25;
ol.pointer.MouseSource.prototype.isEventSimulatedFromTouch_=function(a){var b=this.lastTouches,c=a.clientX;a=a.clientY;for(var d=0,e=b.length,f;d<e&&(f=b[d]);d++){var g=Math.abs(a-f[1]);if(Math.abs(c-f[0])<=ol.pointer.MouseSource.DEDUP_DIST&&g<=ol.pointer.MouseSource.DEDUP_DIST)return!0}return!1};
ol.pointer.MouseSource.prepareEvent=function(a,b){b=b.cloneEvent(a,a);var c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=ol.pointer.MouseSource.POINTER_ID;b.isPrimary=!0;b.pointerType=ol.pointer.MouseSource.POINTER_TYPE;return b};
ol.pointer.MouseSource.prototype.mousedown=function(a){if(!this.isEventSimulatedFromTouch_(a)){ol.pointer.MouseSource.POINTER_ID.toString()in this.pointerMap&&this.cancel(a);var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]=a;this.dispatcher.down(b,a)}};
ol.pointer.MouseSource.prototype.mousemove=function(a){if(!this.isEventSimulatedFromTouch_(a)){var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.move(b,a)}};ol.pointer.MouseSource.prototype.mouseup=function(a){if(!this.isEventSimulatedFromTouch_(a)){var b=this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()];b&&b.button===a.button&&(b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher),this.dispatcher.up(b,a),this.cleanupMouse())}};
ol.pointer.MouseSource.prototype.mouseover=function(a){if(!this.isEventSimulatedFromTouch_(a)){var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.enterOver(b,a)}};ol.pointer.MouseSource.prototype.mouseout=function(a){if(!this.isEventSimulatedFromTouch_(a)){var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.leaveOut(b,a)}};
ol.pointer.MouseSource.prototype.cancel=function(a){var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.cancel(b,a);this.cleanupMouse()};ol.pointer.MouseSource.prototype.cleanupMouse=function(){delete this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]};ol.pointer.MsSource=function(a){ol.pointer.EventSource.call(this,a,{MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture});this.pointerMap=a.pointerMap;this.POINTER_TYPES=["","unavailable","touch","pen","mouse"]};ol.inherits(ol.pointer.MsSource,ol.pointer.EventSource);
ol.pointer.MsSource.prototype.prepareEvent_=function(a){var b=a;"number"===typeof a.pointerType&&(b=this.dispatcher.cloneEvent(a,a),b.pointerType=this.POINTER_TYPES[a.pointerType]);return b};ol.pointer.MsSource.prototype.cleanup=function(a){delete this.pointerMap[a.toString()]};ol.pointer.MsSource.prototype.msPointerDown=function(a){this.pointerMap[a.pointerId.toString()]=a;var b=this.prepareEvent_(a);this.dispatcher.down(b,a)};
ol.pointer.MsSource.prototype.msPointerMove=function(a){var b=this.prepareEvent_(a);this.dispatcher.move(b,a)};ol.pointer.MsSource.prototype.msPointerUp=function(a){var b=this.prepareEvent_(a);this.dispatcher.up(b,a);this.cleanup(a.pointerId)};ol.pointer.MsSource.prototype.msPointerOut=function(a){var b=this.prepareEvent_(a);this.dispatcher.leaveOut(b,a)};ol.pointer.MsSource.prototype.msPointerOver=function(a){var b=this.prepareEvent_(a);this.dispatcher.enterOver(b,a)};
ol.pointer.MsSource.prototype.msPointerCancel=function(a){var b=this.prepareEvent_(a);this.dispatcher.cancel(b,a);this.cleanup(a.pointerId)};ol.pointer.MsSource.prototype.msLostPointerCapture=function(a){a=this.dispatcher.makeEvent("lostpointercapture",a,a);this.dispatcher.dispatchEvent(a)};ol.pointer.MsSource.prototype.msGotPointerCapture=function(a){a=this.dispatcher.makeEvent("gotpointercapture",a,a);this.dispatcher.dispatchEvent(a)};ol.pointer.NativeSource=function(a){ol.pointer.EventSource.call(this,a,{pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture})};ol.inherits(ol.pointer.NativeSource,ol.pointer.EventSource);ol.pointer.NativeSource.prototype.pointerDown=function(a){this.dispatcher.fireNativeEvent(a)};
ol.pointer.NativeSource.prototype.pointerMove=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.pointerUp=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.pointerOut=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.pointerOver=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.pointerCancel=function(a){this.dispatcher.fireNativeEvent(a)};
ol.pointer.NativeSource.prototype.lostPointerCapture=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.gotPointerCapture=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.PointerEvent=function(a,b,c){ol.events.Event.call(this,a);this.originalEvent=b;a=c?c:{};this.buttons=this.getButtons_(a);this.pressure=this.getPressure_(a,this.buttons);this.bubbles="bubbles"in a?a.bubbles:!1;this.cancelable="cancelable"in a?a.cancelable:!1;this.view="view"in a?a.view:null;this.detail="detail"in a?a.detail:null;this.screenX="screenX"in a?a.screenX:0;this.screenY="screenY"in a?a.screenY:0;this.clientX="clientX"in a?a.clientX:0;this.clientY="clientY"in a?a.clientY:0;this.ctrlKey=
"ctrlKey"in a?a.ctrlKey:!1;this.altKey="altKey"in a?a.altKey:!1;this.shiftKey="shiftKey"in a?a.shiftKey:!1;this.metaKey="metaKey"in a?a.metaKey:!1;this.button="button"in a?a.button:0;this.relatedTarget="relatedTarget"in a?a.relatedTarget:null;this.pointerId="pointerId"in a?a.pointerId:0;this.width="width"in a?a.width:0;this.height="height"in a?a.height:0;this.tiltX="tiltX"in a?a.tiltX:0;this.tiltY="tiltY"in a?a.tiltY:0;this.pointerType="pointerType"in a?a.pointerType:"";this.hwTimestamp="hwTimestamp"in
a?a.hwTimestamp:0;this.isPrimary="isPrimary"in a?a.isPrimary:!1;b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})};ol.inherits(ol.pointer.PointerEvent,ol.events.Event);ol.pointer.PointerEvent.prototype.getButtons_=function(a){if(a.buttons||ol.pointer.PointerEvent.HAS_BUTTONS)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a};ol.pointer.PointerEvent.prototype.getPressure_=function(a,b){return a.pressure?a.pressure:b?.5:0};
ol.pointer.PointerEvent.HAS_BUTTONS=!1;(function(){try{var a=new MouseEvent("click",{buttons:1});ol.pointer.PointerEvent.HAS_BUTTONS=1===a.buttons}catch(b){}})();ol.pointer.TouchSource=function(a,b){ol.pointer.EventSource.call(this,a,{touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel});this.pointerMap=a.pointerMap;this.mouseSource=b;this.firstTouchId_=void 0;this.clickCount_=0;this.resetId_=void 0};ol.inherits(ol.pointer.TouchSource,ol.pointer.EventSource);ol.pointer.TouchSource.DEDUP_TIMEOUT=2500;ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT=200;ol.pointer.TouchSource.POINTER_TYPE="touch";
ol.pointer.TouchSource.prototype.isPrimaryTouch_=function(a){return this.firstTouchId_===a.identifier};ol.pointer.TouchSource.prototype.setPrimaryTouch_=function(a){var b=Object.keys(this.pointerMap).length;if(0===b||1===b&&ol.pointer.MouseSource.POINTER_ID.toString()in this.pointerMap)this.firstTouchId_=a.identifier,this.cancelResetClickCount_()};ol.pointer.TouchSource.prototype.removePrimaryPointer_=function(a){a.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())};
ol.pointer.TouchSource.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT)};ol.pointer.TouchSource.prototype.resetClickCountHandler_=function(){this.clickCount_=0;this.resetId_=void 0};ol.pointer.TouchSource.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)};
ol.pointer.TouchSource.prototype.touchToPointer_=function(a,b){a=this.dispatcher.cloneEvent(a,b);a.pointerId=b.identifier+2;a.bubbles=!0;a.cancelable=!0;a.detail=this.clickCount_;a.button=0;a.buttons=1;a.width=b.webkitRadiusX||b.radiusX||0;a.height=b.webkitRadiusY||b.radiusY||0;a.pressure=b.webkitForce||b.force||.5;a.isPrimary=this.isPrimaryTouch_(b);a.pointerType=ol.pointer.TouchSource.POINTER_TYPE;a.clientX=b.clientX;a.clientY=b.clientY;a.screenX=b.screenX;a.screenY=b.screenY;return a};
ol.pointer.TouchSource.prototype.processTouches_=function(a,b){function c(){a.preventDefault()}var d=Array.prototype.slice.call(a.changedTouches),e=d.length,f;for(f=0;f<e;++f){var g=this.touchToPointer_(a,d[f]);g.preventDefault=c;b.call(this,a,g)}};ol.pointer.TouchSource.prototype.findTouch_=function(a,b){for(var c=a.length,d,e=0;e<c;e++)if(d=a[e],d.identifier===b)return!0;return!1};
ol.pointer.TouchSource.prototype.vacuumTouches_=function(a){var b=a.touches,c=Object.keys(this.pointerMap),d=c.length;if(d>=b.length){var e=[],f;for(f=0;f<d;++f){var g=c[f];var h=this.pointerMap[g];g==ol.pointer.MouseSource.POINTER_ID||this.findTouch_(b,g-2)||e.push(h.out)}for(f=0;f<e.length;++f)this.cancelOut_(a,e[f])}};
ol.pointer.TouchSource.prototype.touchstart=function(a){this.vacuumTouches_(a);this.setPrimaryTouch_(a.changedTouches[0]);this.dedupSynthMouse_(a);this.clickCount_++;this.processTouches_(a,this.overDown_)};ol.pointer.TouchSource.prototype.overDown_=function(a,b){this.pointerMap[b.pointerId]={target:b.target,out:b,outTarget:b.target};this.dispatcher.over(b,a);this.dispatcher.enter(b,a);this.dispatcher.down(b,a)};
ol.pointer.TouchSource.prototype.touchmove=function(a){a.preventDefault();this.processTouches_(a,this.moveOverOut_)};ol.pointer.TouchSource.prototype.moveOverOut_=function(a,b){var c=this.pointerMap[b.pointerId];if(c){var d=c.out,e=c.outTarget;this.dispatcher.move(b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(this.dispatcher.leaveOut(d,a),this.dispatcher.enterOver(b,a)):(b.target=e,b.relatedTarget=null,this.cancelOut_(a,b)));c.out=b;c.outTarget=b.target}};
ol.pointer.TouchSource.prototype.touchend=function(a){this.dedupSynthMouse_(a);this.processTouches_(a,this.upOut_)};ol.pointer.TouchSource.prototype.upOut_=function(a,b){this.dispatcher.up(b,a);this.dispatcher.out(b,a);this.dispatcher.leave(b,a);this.cleanUpPointer_(b)};ol.pointer.TouchSource.prototype.touchcancel=function(a){this.processTouches_(a,this.cancelOut_)};
ol.pointer.TouchSource.prototype.cancelOut_=function(a,b){this.dispatcher.cancel(b,a);this.dispatcher.out(b,a);this.dispatcher.leave(b,a);this.cleanUpPointer_(b)};ol.pointer.TouchSource.prototype.cleanUpPointer_=function(a){delete this.pointerMap[a.pointerId];this.removePrimaryPointer_(a)};
ol.pointer.TouchSource.prototype.dedupSynthMouse_=function(a){var b=this.mouseSource.lastTouches;a=a.changedTouches[0];if(this.isPrimaryTouch_(a)){var c=[a.clientX,a.clientY];b.push(c);setTimeout(function(){ol.array.remove(b,c)},ol.pointer.TouchSource.DEDUP_TIMEOUT)}};ol.pointer.PointerEventHandler=function(a){ol.events.EventTarget.call(this);this.element_=a;this.pointerMap={};this.eventMap_={};this.eventSourceList_=[];this.registerSources()};ol.inherits(ol.pointer.PointerEventHandler,ol.events.EventTarget);
ol.pointer.PointerEventHandler.prototype.registerSources=function(){if(ol.has.POINTER)this.registerSource("native",new ol.pointer.NativeSource(this));else if(ol.has.MSPOINTER)this.registerSource("ms",new ol.pointer.MsSource(this));else{var a=new ol.pointer.MouseSource(this);this.registerSource("mouse",a);ol.has.TOUCH&&this.registerSource("touch",new ol.pointer.TouchSource(this,a))}this.register_()};
ol.pointer.PointerEventHandler.prototype.registerSource=function(a,b){if(a=b.getEvents())a.forEach(function(a){var c=b.getHandlerForEvent(a);c&&(this.eventMap_[a]=c.bind(b))},this),this.eventSourceList_.push(b)};ol.pointer.PointerEventHandler.prototype.register_=function(){for(var a=this.eventSourceList_.length,b,c=0;c<a;c++)b=this.eventSourceList_[c],this.addEvents_(b.getEvents())};
ol.pointer.PointerEventHandler.prototype.unregister_=function(){for(var a=this.eventSourceList_.length,b,c=0;c<a;c++)b=this.eventSourceList_[c],this.removeEvents_(b.getEvents())};ol.pointer.PointerEventHandler.prototype.eventHandler_=function(a){var b=this.eventMap_[a.type];b&&b(a)};ol.pointer.PointerEventHandler.prototype.addEvents_=function(a){a.forEach(function(a){ol.events.listen(this.element_,a,this.eventHandler_,this)},this)};
ol.pointer.PointerEventHandler.prototype.removeEvents_=function(a){a.forEach(function(a){ol.events.unlisten(this.element_,a,this.eventHandler_,this)},this)};ol.pointer.PointerEventHandler.prototype.cloneEvent=function(a,b){for(var c={},d,e=0,f=ol.pointer.PointerEventHandler.CLONE_PROPS.length;e<f;e++)d=ol.pointer.PointerEventHandler.CLONE_PROPS[e][0],c[d]=a[d]||b[d]||ol.pointer.PointerEventHandler.CLONE_PROPS[e][1];return c};
ol.pointer.PointerEventHandler.prototype.down=function(a,b){this.fireEvent(ol.pointer.EventType.POINTERDOWN,a,b)};ol.pointer.PointerEventHandler.prototype.move=function(a,b){this.fireEvent(ol.pointer.EventType.POINTERMOVE,a,b)};ol.pointer.PointerEventHandler.prototype.up=function(a,b){this.fireEvent(ol.pointer.EventType.POINTERUP,a,b)};ol.pointer.PointerEventHandler.prototype.enter=function(a,b){a.bubbles=!1;this.fireEvent(ol.pointer.EventType.POINTERENTER,a,b)};
ol.pointer.PointerEventHandler.prototype.leave=function(a,b){a.bubbles=!1;this.fireEvent(ol.pointer.EventType.POINTERLEAVE,a,b)};ol.pointer.PointerEventHandler.prototype.over=function(a,b){a.bubbles=!0;this.fireEvent(ol.pointer.EventType.POINTEROVER,a,b)};ol.pointer.PointerEventHandler.prototype.out=function(a,b){a.bubbles=!0;this.fireEvent(ol.pointer.EventType.POINTEROUT,a,b)};ol.pointer.PointerEventHandler.prototype.cancel=function(a,b){this.fireEvent(ol.pointer.EventType.POINTERCANCEL,a,b)};
ol.pointer.PointerEventHandler.prototype.leaveOut=function(a,b){this.out(a,b);this.contains_(a.target,a.relatedTarget)||this.leave(a,b)};ol.pointer.PointerEventHandler.prototype.enterOver=function(a,b){this.over(a,b);this.contains_(a.target,a.relatedTarget)||this.enter(a,b)};ol.pointer.PointerEventHandler.prototype.contains_=function(a,b){return a&&b?a.contains(b):!1};ol.pointer.PointerEventHandler.prototype.makeEvent=function(a,b,c){return new ol.pointer.PointerEvent(a,c,b)};
ol.pointer.PointerEventHandler.prototype.fireEvent=function(a,b,c){a=this.makeEvent(a,b,c);this.dispatchEvent(a)};ol.pointer.PointerEventHandler.prototype.fireNativeEvent=function(a){a=this.makeEvent(a.type,a,a);this.dispatchEvent(a)};ol.pointer.PointerEventHandler.prototype.wrapMouseEvent=function(a,b){return this.makeEvent(a,ol.pointer.MouseSource.prepareEvent(b,this),b)};ol.pointer.PointerEventHandler.prototype.disposeInternal=function(){this.unregister_();ol.events.EventTarget.prototype.disposeInternal.call(this)};
ol.pointer.PointerEventHandler.CLONE_PROPS=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];ol.MapBrowserEventHandler=function(a,b){ol.events.EventTarget.call(this);this.map_=a;this.clickTimeoutId_=0;this.dragging_=!1;this.dragListenerKeys_=[];this.moveTolerance_=b?b*ol.has.DEVICE_PIXEL_RATIO:ol.has.DEVICE_PIXEL_RATIO;this.down_=null;a=this.map_.getViewport();this.activePointers_=0;this.trackedTouches_={};this.pointerEventHandler_=new ol.pointer.PointerEventHandler(a);this.documentPointerEventHandler_=null;this.pointerdownListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERDOWN,
this.handlePointerDown_,this);this.relayedListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERMOVE,this.relayEvent_,this)};ol.inherits(ol.MapBrowserEventHandler,ol.events.EventTarget);
ol.MapBrowserEventHandler.prototype.emulateClick_=function(a){var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.CLICK,this.map_,a);this.dispatchEvent(b);0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=0,b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.DBLCLICK,this.map_,a),this.dispatchEvent(b)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=0;var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.SINGLECLICK,this.map_,a);this.dispatchEvent(b)}.bind(this),
250)};ol.MapBrowserEventHandler.prototype.updateActivePointers_=function(a){a.type==ol.MapBrowserEventType.POINTERUP||a.type==ol.MapBrowserEventType.POINTERCANCEL?delete this.trackedTouches_[a.pointerId]:a.type==ol.MapBrowserEventType.POINTERDOWN&&(this.trackedTouches_[a.pointerId]=!0);this.activePointers_=Object.keys(this.trackedTouches_).length};
ol.MapBrowserEventHandler.prototype.handlePointerUp_=function(a){this.updateActivePointers_(a);var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERUP,this.map_,a);this.dispatchEvent(b);!this.dragging_&&this.isMouseActionButton_(a)&&this.emulateClick_(this.down_);0===this.activePointers_&&(this.dragListenerKeys_.forEach(ol.events.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=
null)};ol.MapBrowserEventHandler.prototype.isMouseActionButton_=function(a){return 0===a.button};
ol.MapBrowserEventHandler.prototype.handlePointerDown_=function(a){this.updateActivePointers_(a);var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERDOWN,this.map_,a);this.dispatchEvent(b);this.down_=a;0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new ol.pointer.PointerEventHandler(document),this.dragListenerKeys_.push(ol.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEventType.POINTERMOVE,this.handlePointerMove_,this),ol.events.listen(this.documentPointerEventHandler_,
ol.MapBrowserEventType.POINTERUP,this.handlePointerUp_,this),ol.events.listen(this.pointerEventHandler_,ol.MapBrowserEventType.POINTERCANCEL,this.handlePointerUp_,this)))};ol.MapBrowserEventHandler.prototype.handlePointerMove_=function(a){if(this.isMoving_(a)){this.dragging_=!0;var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERDRAG,this.map_,a,this.dragging_);this.dispatchEvent(b)}a.preventDefault()};
ol.MapBrowserEventHandler.prototype.relayEvent_=function(a){var b=!(!this.down_||!this.isMoving_(a));this.dispatchEvent(new ol.MapBrowserPointerEvent(a.type,this.map_,a,b))};ol.MapBrowserEventHandler.prototype.isMoving_=function(a){return Math.abs(a.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(a.clientY-this.down_.clientY)>this.moveTolerance_};
ol.MapBrowserEventHandler.prototype.disposeInternal=function(){this.relayedListenerKey_&&(ol.events.unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null);this.pointerdownListenerKey_&&(ol.events.unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null);this.dragListenerKeys_.forEach(ol.events.unlistenByKey);this.dragListenerKeys_.length=0;this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null);this.pointerEventHandler_&&
(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null);ol.events.EventTarget.prototype.disposeInternal.call(this)};ol.MapProperty={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};ol.structs.PriorityQueue=function(a,b){this.priorityFunction_=a;this.keyFunction_=b;this.elements_=[];this.priorities_=[];this.queuedElements_={}};ol.structs.PriorityQueue.DROP=Infinity;ol.structs.PriorityQueue.prototype.clear=function(){this.elements_.length=0;this.priorities_.length=0;ol.obj.clear(this.queuedElements_)};
ol.structs.PriorityQueue.prototype.dequeue=function(){var a=this.elements_,b=this.priorities_,c=a[0];1==a.length?(a.length=0,b.length=0):(a[0]=a.pop(),b[0]=b.pop(),this.siftUp_(0));a=this.keyFunction_(c);delete this.queuedElements_[a];return c};
ol.structs.PriorityQueue.prototype.enqueue=function(a){ol.asserts.assert(!(this.keyFunction_(a)in this.queuedElements_),31);var b=this.priorityFunction_(a);return b!=ol.structs.PriorityQueue.DROP?(this.elements_.push(a),this.priorities_.push(b),this.queuedElements_[this.keyFunction_(a)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1};ol.structs.PriorityQueue.prototype.getCount=function(){return this.elements_.length};
ol.structs.PriorityQueue.prototype.getLeftChildIndex_=function(a){return 2*a+1};ol.structs.PriorityQueue.prototype.getRightChildIndex_=function(a){return 2*a+2};ol.structs.PriorityQueue.prototype.getParentIndex_=function(a){return a-1>>1};ol.structs.PriorityQueue.prototype.heapify_=function(){var a;for(a=(this.elements_.length>>1)-1;0<=a;a--)this.siftUp_(a)};ol.structs.PriorityQueue.prototype.isEmpty=function(){return 0===this.elements_.length};
ol.structs.PriorityQueue.prototype.isKeyQueued=function(a){return a in this.queuedElements_};ol.structs.PriorityQueue.prototype.isQueued=function(a){return this.isKeyQueued(this.keyFunction_(a))};ol.structs.PriorityQueue.prototype.siftUp_=function(a){for(var b=this.elements_,c=this.priorities_,d=b.length,e=b[a],f=c[a],g=a;a<d>>1;){var h=this.getLeftChildIndex_(a),k=this.getRightChildIndex_(a);h=k<d&&c[k]<c[h]?k:h;b[a]=b[h];c[a]=c[h];a=h}b[a]=e;c[a]=f;this.siftDown_(g,a)};
ol.structs.PriorityQueue.prototype.siftDown_=function(a,b){for(var c=this.elements_,d=this.priorities_,e=c[b],f=d[b];b>a;){var g=this.getParentIndex_(b);if(d[g]>f)c[b]=c[g],d[b]=d[g],b=g;else break}c[b]=e;d[b]=f};
ol.structs.PriorityQueue.prototype.reprioritize=function(){var a=this.priorityFunction_,b=this.elements_,c=this.priorities_,d=0,e=b.length,f;for(f=0;f<e;++f){var g=b[f];var h=a(g);h==ol.structs.PriorityQueue.DROP?delete this.queuedElements_[this.keyFunction_(g)]:(c[d]=h,b[d++]=g)}b.length=d;c.length=d;this.heapify_()};ol.TileQueue=function(a,b){ol.structs.PriorityQueue.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()});this.tileChangeCallback_=b;this.tilesLoading_=0;this.tilesLoadingKeys_={}};ol.inherits(ol.TileQueue,ol.structs.PriorityQueue);ol.TileQueue.prototype.enqueue=function(a){var b=ol.structs.PriorityQueue.prototype.enqueue.call(this,a);b&&ol.events.listen(a[0],ol.events.EventType.CHANGE,this.handleTileChange,this);return b};ol.TileQueue.prototype.getTilesLoading=function(){return this.tilesLoading_};
ol.TileQueue.prototype.handleTileChange=function(a){a=a.target;var b=a.getState();if(b===ol.TileState.LOADED||b===ol.TileState.ERROR||b===ol.TileState.EMPTY||b===ol.TileState.ABORT)ol.events.unlisten(a,ol.events.EventType.CHANGE,this.handleTileChange,this),a=a.getKey(),a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()};
ol.TileQueue.prototype.loadMoreTiles=function(a,b){for(var c=0,d=!1,e,f,g;this.tilesLoading_<a&&c<b&&0<this.getCount();)f=this.dequeue()[0],g=f.getKey(),e=f.getState(),e===ol.TileState.ABORT?d=!0:e!==ol.TileState.IDLE||g in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[g]=!0,++this.tilesLoading_,++c,f.load());0===c&&d&&this.tileChangeCallback_()};ol.PluginType={MAP_RENDERER:"MAP_RENDERER",LAYER_RENDERER:"LAYER_RENDERER"};ol.plugins={};ol.plugins.mapRendererPlugins_=[];ol.plugins.getMapRendererPlugins=function(){return ol.plugins.mapRendererPlugins_};ol.plugins.layerRendererPlugins_=[];ol.plugins.getLayerRendererPlugins=function(){return ol.plugins.layerRendererPlugins_};
ol.plugins.register=function(a,b){switch(a){case ol.PluginType.MAP_RENDERER:a=ol.plugins.mapRendererPlugins_;a.push(b);break;case ol.PluginType.LAYER_RENDERER:a=ol.plugins.layerRendererPlugins_;a.push(b);break;default:throw Error("Unsupported plugin type: "+a);}};ol.plugins.registerMultiple=function(a,b){for(var c=0,d=b.length;c<d;++c)ol.plugins.register(a,b[c])};ol.PluggableMap=function(a){ol.Object.call(this);var b=ol.PluggableMap.createOptionsInternal(a);this.loadTilesWhileAnimating_=void 0!==a.loadTilesWhileAnimating?a.loadTilesWhileAnimating:!1;this.loadTilesWhileInteracting_=void 0!==a.loadTilesWhileInteracting?a.loadTilesWhileInteracting:!1;this.pixelRatio_=void 0!==a.pixelRatio?a.pixelRatio:ol.has.DEVICE_PIXEL_RATIO;this.logos_=b.logos;this.animationDelay_=function(){this.animationDelayKey_=void 0;this.renderFrame_.call(this,Date.now())}.bind(this);
this.coordinateToPixelTransform_=ol.transform.create();this.pixelToCoordinateTransform_=ol.transform.create();this.frameIndex_=0;this.layerGroupPropertyListenerKeys_=this.viewChangeListenerKey_=this.viewPropertyListenerKey_=this.previousExtent_=this.frameState_=null;this.viewport_=document.createElement("DIV");this.viewport_.className="ol-viewport"+(ol.has.TOUCH?" ol-touch":"");this.viewport_.style.position="relative";this.viewport_.style.overflow="hidden";this.viewport_.style.width="100%";this.viewport_.style.height=
"100%";this.viewport_.style.msTouchAction="none";this.viewport_.style.touchAction="none";this.overlayContainer_=document.createElement("DIV");this.overlayContainer_.className="ol-overlaycontainer";this.viewport_.appendChild(this.overlayContainer_);this.overlayContainerStopEvent_=document.createElement("DIV");this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var c=[ol.events.EventType.CLICK,ol.events.EventType.DBLCLICK,ol.events.EventType.MOUSEDOWN,ol.events.EventType.TOUCHSTART,
ol.events.EventType.MSPOINTERDOWN,ol.MapBrowserEventType.POINTERDOWN,ol.events.EventType.MOUSEWHEEL,ol.events.EventType.WHEEL],d=0,e=c.length;d<e;++d)ol.events.listen(this.overlayContainerStopEvent_,c[d],ol.events.Event.stopPropagation);this.viewport_.appendChild(this.overlayContainerStopEvent_);this.mapBrowserEventHandler_=new ol.MapBrowserEventHandler(this,a.moveTolerance);for(var f in ol.MapBrowserEventType)ol.events.listen(this.mapBrowserEventHandler_,ol.MapBrowserEventType[f],this.handleMapBrowserEvent,
this);this.keyboardEventTarget_=b.keyboardEventTarget;this.keyHandlerKeys_=null;ol.events.listen(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this);ol.events.listen(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this);this.controls=b.controls||new ol.Collection;this.interactions=b.interactions||new ol.Collection;this.overlays_=b.overlays;this.overlayIdIndex_={};this.renderer_=b.mapRendererPlugin.create(this.viewport_,this);this.focus_=null;this.postRenderFunctions_=
[];this.tileQueue_=new ol.TileQueue(this.getTilePriority.bind(this),this.handleTileChange_.bind(this));this.skippedFeatureUids_={};ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.LAYERGROUP),this.handleLayerGroupChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.VIEW),this.handleViewChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.SIZE),this.handleSizeChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.TARGET),
this.handleTargetChanged_,this);this.setProperties(b.values);this.controls.forEach(function(a){a.setMap(this)},this);ol.events.listen(this.controls,ol.CollectionEventType.ADD,function(a){a.element.setMap(this)},this);ol.events.listen(this.controls,ol.CollectionEventType.REMOVE,function(a){a.element.setMap(null)},this);this.interactions.forEach(function(a){a.setMap(this)},this);ol.events.listen(this.interactions,ol.CollectionEventType.ADD,function(a){a.element.setMap(this)},this);ol.events.listen(this.interactions,
ol.CollectionEventType.REMOVE,function(a){a.element.setMap(null)},this);this.overlays_.forEach(this.addOverlayInternal_,this);ol.events.listen(this.overlays_,ol.CollectionEventType.ADD,function(a){this.addOverlayInternal_(a.element)},this);ol.events.listen(this.overlays_,ol.CollectionEventType.REMOVE,function(a){var b=a.element.getId();void 0!==b&&delete this.overlayIdIndex_[b.toString()];a.element.setMap(null)},this)};ol.inherits(ol.PluggableMap,ol.Object);ol.PluggableMap.prototype.addControl=function(a){this.getControls().push(a)};
ol.PluggableMap.prototype.addInteraction=function(a){this.getInteractions().push(a)};ol.PluggableMap.prototype.addLayer=function(a){this.getLayerGroup().getLayers().push(a)};ol.PluggableMap.prototype.addOverlay=function(a){this.getOverlays().push(a)};ol.PluggableMap.prototype.addOverlayInternal_=function(a){var b=a.getId();void 0!==b&&(this.overlayIdIndex_[b.toString()]=a);a.setMap(this)};
ol.PluggableMap.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose();this.renderer_.dispose();ol.events.unlisten(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this);ol.events.unlisten(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this);void 0!==this.handleResize_&&(window.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),
this.animationDelayKey_=void 0);this.setTarget(null);ol.Object.prototype.disposeInternal.call(this)};ol.PluggableMap.prototype.forEachFeatureAtPixel=function(a,b,c){if(this.frameState_)return a=this.getCoordinateFromPixel(a),c=void 0!==c?c:{},this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,void 0!==c.hitTolerance?c.hitTolerance*this.frameState_.pixelRatio:0,b,null,void 0!==c.layerFilter?c.layerFilter:ol.functions.TRUE,null)};
ol.PluggableMap.prototype.getFeaturesAtPixel=function(a,b){var c=null;this.forEachFeatureAtPixel(a,function(a){c||(c=[]);c.push(a)},b);return c};ol.PluggableMap.prototype.forEachLayerAtPixel=function(a,b,c,d,e){if(this.frameState_)return this.renderer_.forEachLayerAtPixel(a,this.frameState_,b,void 0!==c?c:null,void 0!==d?d:ol.functions.TRUE,void 0!==e?e:null)};
ol.PluggableMap.prototype.hasFeatureAtPixel=function(a,b){if(!this.frameState_)return!1;a=this.getCoordinateFromPixel(a);b=void 0!==b?b:{};return this.renderer_.hasFeatureAtCoordinate(a,this.frameState_,void 0!==b.hitTolerance?b.hitTolerance*this.frameState_.pixelRatio:0,void 0!==b.layerFilter?b.layerFilter:ol.functions.TRUE,null)};ol.PluggableMap.prototype.getEventCoordinate=function(a){return this.getCoordinateFromPixel(this.getEventPixel(a))};
ol.PluggableMap.prototype.getEventPixel=function(a){var b=this.viewport_.getBoundingClientRect();a=a.changedTouches?a.changedTouches[0]:a;return[a.clientX-b.left,a.clientY-b.top]};ol.PluggableMap.prototype.getTarget=function(){return this.get(ol.MapProperty.TARGET)};ol.PluggableMap.prototype.getTargetElement=function(){var a=this.getTarget();return void 0!==a?"string"===typeof a?document.getElementById(a):a:null};
ol.PluggableMap.prototype.getCoordinateFromPixel=function(a){var b=this.frameState_;return b?ol.transform.apply(b.pixelToCoordinateTransform,a.slice()):null};ol.PluggableMap.prototype.getControls=function(){return this.controls};ol.PluggableMap.prototype.getOverlays=function(){return this.overlays_};ol.PluggableMap.prototype.getOverlayById=function(a){a=this.overlayIdIndex_[a.toString()];return void 0!==a?a:null};ol.PluggableMap.prototype.getInteractions=function(){return this.interactions};
ol.PluggableMap.prototype.getLayerGroup=function(){return this.get(ol.MapProperty.LAYERGROUP)};ol.PluggableMap.prototype.getLayers=function(){return this.getLayerGroup().getLayers()};ol.PluggableMap.prototype.getPixelFromCoordinate=function(a){var b=this.frameState_;return b?ol.transform.apply(b.coordinateToPixelTransform,a.slice(0,2)):null};ol.PluggableMap.prototype.getRenderer=function(){return this.renderer_};ol.PluggableMap.prototype.getSize=function(){return this.get(ol.MapProperty.SIZE)};
ol.PluggableMap.prototype.getView=function(){return this.get(ol.MapProperty.VIEW)};ol.PluggableMap.prototype.getViewport=function(){return this.viewport_};ol.PluggableMap.prototype.getOverlayContainer=function(){return this.overlayContainer_};ol.PluggableMap.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_};
ol.PluggableMap.prototype.getTilePriority=function(a,b,c,d){var e=this.frameState_;if(!(e&&b in e.wantedTiles&&e.wantedTiles[b][a.getKey()]))return ol.structs.PriorityQueue.DROP;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};ol.PluggableMap.prototype.handleBrowserEvent=function(a,b){a=new ol.MapBrowserEvent(b||a.type,this,a);this.handleMapBrowserEvent(a)};
ol.PluggableMap.prototype.handleMapBrowserEvent=function(a){if(this.frameState_){this.focus_=a.coordinate;a.frameState=this.frameState_;var b=this.getInteractions().getArray(),c;if(!1!==this.dispatchEvent(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.getActive()&&!d.handleEvent(a))break}}};
ol.PluggableMap.prototype.handlePostRender=function(){var a=this.frameState_,b=this.tileQueue_;if(!b.isEmpty()){var c=16,d=c;if(a){var e=a.viewHints;e[ol.ViewHint.ANIMATING]&&(c=this.loadTilesWhileAnimating_?8:0,d=2);e[ol.ViewHint.INTERACTING]&&(c=this.loadTilesWhileInteracting_?8:0,d=2)}b.getTilesLoading()<c&&(b.reprioritize(),b.loadMoreTiles(c,d))}b=this.postRenderFunctions_;c=0;for(d=b.length;c<d;++c)b[c](this,a);b.length=0};ol.PluggableMap.prototype.handleSizeChanged_=function(){this.render()};
ol.PluggableMap.prototype.handleTargetChanged_=function(){var a;this.getTarget()&&(a=this.getTargetElement());if(this.keyHandlerKeys_){for(var b=0,c=this.keyHandlerKeys_.length;b<c;++b)ol.events.unlistenByKey(this.keyHandlerKeys_[b]);this.keyHandlerKeys_=null}a?(a.appendChild(this.viewport_),a=this.keyboardEventTarget_?this.keyboardEventTarget_:a,this.keyHandlerKeys_=[ol.events.listen(a,ol.events.EventType.KEYDOWN,this.handleBrowserEvent,this),ol.events.listen(a,ol.events.EventType.KEYPRESS,this.handleBrowserEvent,
this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1))):(ol.dom.removeNode(this.viewport_),void 0!==this.handleResize_&&(window.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1),this.handleResize_=void 0));this.updateSize()};ol.PluggableMap.prototype.handleTileChange_=function(){this.render()};ol.PluggableMap.prototype.handleViewPropertyChanged_=function(){this.render()};
ol.PluggableMap.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(ol.events.unlistenByKey(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null);this.viewChangeListenerKey_&&(ol.events.unlistenByKey(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var a=this.getView();a&&(this.viewport_.setAttribute("data-view",ol.getUid(a)),this.viewPropertyListenerKey_=ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=
ol.events.listen(a,ol.events.EventType.CHANGE,this.handleViewPropertyChanged_,this));this.render()};
ol.PluggableMap.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ol.events.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var a=this.getLayerGroup();a&&(this.layerGroupPropertyListenerKeys_=[ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.render,this),ol.events.listen(a,ol.events.EventType.CHANGE,this.render,this)]);this.render()};ol.PluggableMap.prototype.isRendered=function(){return!!this.frameState_};
ol.PluggableMap.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_);this.animationDelay_()};ol.PluggableMap.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))};ol.PluggableMap.prototype.removeControl=function(a){return this.getControls().remove(a)};ol.PluggableMap.prototype.removeInteraction=function(a){return this.getInteractions().remove(a)};
ol.PluggableMap.prototype.removeLayer=function(a){return this.getLayerGroup().getLayers().remove(a)};ol.PluggableMap.prototype.removeOverlay=function(a){return this.getOverlays().remove(a)};
ol.PluggableMap.prototype.renderFrame_=function(a){var b,c=this.getSize(),d=this.getView(),e=ol.extent.createEmpty(),f=this.frameState_,g=null;if(void 0!==c&&ol.size.hasArea(c)&&d&&d.isDef()){g=d.getHints(this.frameState_?this.frameState_.viewHints:void 0);var h=this.getLayerGroup().getLayerStatesArray(),k={};var l=0;for(b=h.length;l<b;++l)k[ol.getUid(h[l].layer)]=h[l];l=d.getState();g={animate:!1,attributions:{},coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:e,focus:this.focus_?
this.focus_:l.center,index:this.frameIndex_++,layerStates:k,layerStatesArray:h,logos:ol.obj.assign({},this.logos_),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:c,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:a,usedTiles:{},viewState:l,viewHints:g,wantedTiles:{}}}g&&(g.extent=ol.extent.getForViewAndSize(l.center,l.resolution,l.rotation,g.size,e));this.frameState_=g;this.renderer_.renderFrame(g);g&&(g.animate&&
this.render(),Array.prototype.push.apply(this.postRenderFunctions_,g.postRenderFunctions),!f||this.previousExtent_&&(ol.extent.isEmpty(this.previousExtent_)||ol.extent.equals(g.extent,this.previousExtent_))||(this.dispatchEvent(new ol.MapEvent(ol.MapEventType.MOVESTART,this,f)),this.previousExtent_=ol.extent.createOrUpdateEmpty(this.previousExtent_)),!this.previousExtent_||g.viewHints[ol.ViewHint.ANIMATING]||g.viewHints[ol.ViewHint.INTERACTING]||ol.extent.equals(g.extent,this.previousExtent_)||(this.dispatchEvent(new ol.MapEvent(ol.MapEventType.MOVEEND,
this,g)),ol.extent.clone(g.extent,this.previousExtent_)));this.dispatchEvent(new ol.MapEvent(ol.MapEventType.POSTRENDER,this,g));setTimeout(this.handlePostRender.bind(this),0)};ol.PluggableMap.prototype.setLayerGroup=function(a){this.set(ol.MapProperty.LAYERGROUP,a)};ol.PluggableMap.prototype.setSize=function(a){this.set(ol.MapProperty.SIZE,a)};ol.PluggableMap.prototype.setTarget=function(a){this.set(ol.MapProperty.TARGET,a)};
ol.PluggableMap.prototype.setView=function(a){this.set(ol.MapProperty.VIEW,a)};ol.PluggableMap.prototype.skipFeature=function(a){a=ol.getUid(a).toString();this.skippedFeatureUids_[a]=!0;this.render()};
ol.PluggableMap.prototype.updateSize=function(){var a=this.getTargetElement();if(a){var b=getComputedStyle(a);this.setSize([a.offsetWidth-parseFloat(b.borderLeftWidth)-parseFloat(b.paddingLeft)-parseFloat(b.paddingRight)-parseFloat(b.borderRightWidth),a.offsetHeight-parseFloat(b.borderTopWidth)-parseFloat(b.paddingTop)-parseFloat(b.paddingBottom)-parseFloat(b.borderBottomWidth)])}else this.setSize(void 0)};
ol.PluggableMap.prototype.unskipFeature=function(a){a=ol.getUid(a).toString();delete this.skippedFeatureUids_[a];this.render()};ol.PluggableMap.DEFAULT_RENDERER_TYPES=[ol.renderer.Type.CANVAS,ol.renderer.Type.WEBGL];ol.PluggableMap.LOGO_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC";
ol.PluggableMap.createOptionsInternal=function(a){var b=null;void 0!==a.keyboardEventTarget&&(b="string"===typeof a.keyboardEventTarget?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(void 0===a.logo||"boolean"===typeof a.logo&&a.logo)d[ol.PluggableMap.LOGO_URL]="https://openlayers.org/";else{var e=a.logo;"string"===typeof e?d[e]="":e instanceof HTMLElement?d[ol.getUid(e).toString()]=e:e&&(ol.asserts.assert("string"==typeof e.href,44),ol.asserts.assert("string"==
typeof e.src,45),d[e.src]=e.href)}e=a.layers instanceof ol.layer.Group?a.layers:new ol.layer.Group({layers:a.layers});c[ol.MapProperty.LAYERGROUP]=e;c[ol.MapProperty.TARGET]=a.target;c[ol.MapProperty.VIEW]=void 0!==a.view?a.view:new ol.View;var f;void 0!==a.renderer?(Array.isArray(a.renderer)?f=a.renderer:"string"===typeof a.renderer?f=[a.renderer]:ol.asserts.assert(!1,46),0<=f.indexOf("dom")&&(f=f.concat(ol.PluggableMap.DEFAULT_RENDERER_TYPES))):f=ol.PluggableMap.DEFAULT_RENDERER_TYPES;e=ol.plugins.getMapRendererPlugins();
var g=0,h=f.length;a:for(;g<h;++g)for(var k=f[g],l=0,m=e.length;l<m;++l){var n=e[l];if(n.handles(k)){var p=n;break a}}if(!p)throw Error("Unable to create a map renderer for types: "+f.join(", "));if(void 0!==a.controls)if(Array.isArray(a.controls))var q=new ol.Collection(a.controls.slice());else ol.asserts.assert(a.controls instanceof ol.Collection,47),q=a.controls;if(void 0!==a.interactions)if(Array.isArray(a.interactions))var r=new ol.Collection(a.interactions.slice());else ol.asserts.assert(a.interactions instanceof
ol.Collection,48),r=a.interactions;void 0!==a.overlays?Array.isArray(a.overlays)?a=new ol.Collection(a.overlays.slice()):(ol.asserts.assert(a.overlays instanceof ol.Collection,49),a=a.overlays):a=new ol.Collection;return{controls:q,interactions:r,keyboardEventTarget:b,logos:d,overlays:a,mapRendererPlugin:p,values:c}};ol.control={};ol.control.Control=function(a){ol.Object.call(this);this.element=a.element?a.element:null;this.map_=this.target_=null;this.listenerKeys=[];this.render=a.render?a.render:ol.nullFunction;a.target&&this.setTarget(a.target)};ol.inherits(ol.control.Control,ol.Object);ol.control.Control.prototype.disposeInternal=function(){ol.dom.removeNode(this.element);ol.Object.prototype.disposeInternal.call(this)};ol.control.Control.prototype.getMap=function(){return this.map_};
ol.control.Control.prototype.setMap=function(a){this.map_&&ol.dom.removeNode(this.element);for(var b=0,c=this.listenerKeys.length;b<c;++b)ol.events.unlistenByKey(this.listenerKeys[b]);this.listenerKeys.length=0;if(this.map_=a)(this.target_?this.target_:a.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==ol.nullFunction&&this.listenerKeys.push(ol.events.listen(a,ol.MapEventType.POSTRENDER,this.render,this)),a.render()};
ol.control.Control.prototype.setTarget=function(a){this.target_="string"===typeof a?document.getElementById(a):a};ol.css={};ol.css.CLASS_HIDDEN="ol-hidden";ol.css.CLASS_SELECTABLE="ol-selectable";ol.css.CLASS_UNSELECTABLE="ol-unselectable";ol.css.CLASS_UNSUPPORTED="ol-unsupported";ol.css.CLASS_CONTROL="ol-control";ol.control.Attribution=function(a){a=a?a:{};this.ulElement_=document.createElement("UL");this.logoLi_=document.createElement("LI");this.ulElement_.appendChild(this.logoLi_);this.logoLi_.style.display="none";this.collapsed_=void 0!==a.collapsed?a.collapsed:!0;this.collapsible_=void 0!==a.collapsible?a.collapsible:!0;this.collapsible_||(this.collapsed_=!1);var b=void 0!==a.className?a.className:"ol-attribution",c=void 0!==a.tipLabel?a.tipLabel:"Attributions",d=void 0!==a.collapseLabel?a.collapseLabel:
"\u00bb";"string"===typeof d?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=d):this.collapseLabel_=d;d=void 0!==a.label?a.label:"i";"string"===typeof d?(this.label_=document.createElement("span"),this.label_.textContent=d):this.label_=d;var e=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;d=document.createElement("button");d.setAttribute("type","button");d.title=c;d.appendChild(e);ol.events.listen(d,ol.events.EventType.CLICK,this.handleClick_,
this);b=b+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible");c=document.createElement("div");c.className=b;c.appendChild(this.ulElement_);c.appendChild(d);ol.control.Control.call(this,{element:c,render:a.render?a.render:ol.control.Attribution.render,target:a.target});this.renderedVisible_=!0;this.attributionElements_={};this.attributionElementRenderedVisible_={};this.logoElements_={}};
ol.inherits(ol.control.Attribution,ol.control.Control);
ol.control.Attribution.prototype.getSourceAttributions=function(a){var b,c,d,e,f,g=a.layerStatesArray,h=ol.obj.assign({},a.attributions),k={},l={},m=a.viewState.projection;var n=0;for(b=g.length;n<b;n++)if(e=g[n].layer.getSource()){var p=ol.getUid(e).toString();if(f=e.getAttributions()){var q=0;for(c=f.length;q<c;q++){var r=f[q];var u=ol.getUid(r).toString();if(!(u in h)){if(d=a.usedTiles[p]){var t=e.getTileGridForProjection(m);d=r.intersectsAnyTileRange(d,t,m)}else d=!1;d?(u in k&&delete k[u],d=
r.getHTML(),d in l||(l[d]=!0,h[u]=r)):k[u]=r}}}}return[h,k]};ol.control.Attribution.render=function(a){this.updateElement_(a.frameState)};
ol.control.Attribution.prototype.updateElement_=function(a){if(a){var b=this.getSourceAttributions(a),c=b[0];b=b[1];var d;for(d in this.attributionElements_)d in c?(this.attributionElementRenderedVisible_[d]||(this.attributionElements_[d].style.display="",this.attributionElementRenderedVisible_[d]=!0),delete c[d]):d in b?(this.attributionElementRenderedVisible_[d]&&(this.attributionElements_[d].style.display="none",delete this.attributionElementRenderedVisible_[d]),delete b[d]):(ol.dom.removeNode(this.attributionElements_[d]),
delete this.attributionElements_[d],delete this.attributionElementRenderedVisible_[d]);for(d in c){var e=document.createElement("LI");e.innerHTML=c[d].getHTML();this.ulElement_.appendChild(e);this.attributionElements_[d]=e;this.attributionElementRenderedVisible_[d]=!0}for(d in b)e=document.createElement("LI"),e.innerHTML=b[d].getHTML(),e.style.display="none",this.ulElement_.appendChild(e),this.attributionElements_[d]=e;c=!ol.obj.isEmpty(this.attributionElementRenderedVisible_)||!ol.obj.isEmpty(a.logos);
this.renderedVisible_!=c&&(this.element.style.display=c?"":"none",this.renderedVisible_=c);c&&ol.obj.isEmpty(this.attributionElementRenderedVisible_)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");this.insertLogos_(a)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};
ol.control.Attribution.prototype.insertLogos_=function(a){a=a.logos;var b=this.logoElements_;for(e in b)e in a||(ol.dom.removeNode(b[e]),delete b[e]);var c;for(c in a){var d=a[c];d instanceof HTMLElement&&(this.logoLi_.appendChild(d),b[c]=d);if(!(c in b)){var e=new Image;e.src=c;if(""===d)var f=e;else f=document.createElement("a"),f.href=d,f.appendChild(e);this.logoLi_.appendChild(f);b[c]=f}}this.logoLi_.style.display=ol.obj.isEmpty(a)?"none":""};
ol.control.Attribution.prototype.handleClick_=function(a){a.preventDefault();this.handleToggle_()};ol.control.Attribution.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed");this.collapsed_?ol.dom.replaceNode(this.collapseLabel_,this.label_):ol.dom.replaceNode(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_};ol.control.Attribution.prototype.getCollapsible=function(){return this.collapsible_};
ol.control.Attribution.prototype.setCollapsible=function(a){this.collapsible_!==a&&(this.collapsible_=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.collapsed_&&this.handleToggle_())};ol.control.Attribution.prototype.setCollapsed=function(a){this.collapsible_&&this.collapsed_!==a&&this.handleToggle_()};ol.control.Attribution.prototype.getCollapsed=function(){return this.collapsed_};ol.control.Rotate=function(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-rotate",c=void 0!==a.label?a.label:"\u21e7";this.label_=null;"string"===typeof c?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=c):(this.label_=c,this.label_.classList.add("ol-compass"));var d=a.tipLabel?a.tipLabel:"Reset rotation";c=document.createElement("button");c.className=b+"-reset";c.setAttribute("type","button");c.title=d;c.appendChild(this.label_);ol.events.listen(c,
ol.events.EventType.CLICK,ol.control.Rotate.prototype.handleClick_,this);d=b+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL;b=document.createElement("div");b.className=d;b.appendChild(c);c=a.render?a.render:ol.control.Rotate.render;this.callResetNorth_=a.resetNorth?a.resetNorth:void 0;ol.control.Control.call(this,{element:b,render:c,target:a.target});this.duration_=void 0!==a.duration?a.duration:250;this.autoHide_=void 0!==a.autoHide?a.autoHide:!0;this.rotation_=void 0;this.autoHide_&&this.element.classList.add(ol.css.CLASS_HIDDEN)};
ol.inherits(ol.control.Rotate,ol.control.Control);ol.control.Rotate.prototype.handleClick_=function(a){a.preventDefault();void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()};ol.control.Rotate.prototype.resetNorth_=function(){var a=this.getMap().getView();a&&void 0!==a.getRotation()&&(0<this.duration_?a.animate({rotation:0,duration:this.duration_,easing:ol.easing.easeOut}):a.setRotation(0))};
ol.control.Rotate.render=function(a){if(a=a.frameState){a=a.viewState.rotation;if(a!=this.rotation_){var b="rotate("+a+"rad)";if(this.autoHide_){var c=this.element.classList.contains(ol.css.CLASS_HIDDEN);c||0!==a?c&&0!==a&&this.element.classList.remove(ol.css.CLASS_HIDDEN):this.element.classList.add(ol.css.CLASS_HIDDEN)}this.label_.style.msTransform=b;this.label_.style.webkitTransform=b;this.label_.style.transform=b}this.rotation_=a}};ol.control.Zoom=function(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-zoom",c=void 0!==a.delta?a.delta:1,d=void 0!==a.zoomInLabel?a.zoomInLabel:"+",e=void 0!==a.zoomOutLabel?a.zoomOutLabel:"\u2212",f=void 0!==a.zoomInTipLabel?a.zoomInTipLabel:"Zoom in",g=void 0!==a.zoomOutTipLabel?a.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=b+"-in";h.setAttribute("type","button");h.title=f;h.appendChild("string"===typeof d?document.createTextNode(d):d);ol.events.listen(h,
ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,c));d=document.createElement("button");d.className=b+"-out";d.setAttribute("type","button");d.title=g;d.appendChild("string"===typeof e?document.createTextNode(e):e);ol.events.listen(d,ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,-c));b=b+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL;c=document.createElement("div");c.className=b;c.appendChild(h);c.appendChild(d);ol.control.Control.call(this,
{element:c,target:a.target});this.duration_=void 0!==a.duration?a.duration:250};ol.inherits(ol.control.Zoom,ol.control.Control);ol.control.Zoom.prototype.handleClick_=function(a,b){b.preventDefault();this.zoomByDelta_(a)};ol.control.Zoom.prototype.zoomByDelta_=function(a){var b=this.getMap().getView();if(b){var c=b.getResolution();c&&(a=b.constrainResolution(c,a),0<this.duration_?(b.getAnimating()&&b.cancelAnimations(),b.animate({resolution:a,duration:this.duration_,easing:ol.easing.easeOut})):b.setResolution(a))}};ol.control.defaults=function(a){a=a?a:{};var b=new ol.Collection;(void 0!==a.zoom?a.zoom:1)&&b.push(new ol.control.Zoom(a.zoomOptions));(void 0!==a.rotate?a.rotate:1)&&b.push(new ol.control.Rotate(a.rotateOptions));(void 0!==a.attribution?a.attribution:1)&&b.push(new ol.control.Attribution(a.attributionOptions));return b};ol.Kinetic=function(a,b,c){this.decay_=a;this.minVelocity_=b;this.delay_=c;this.points_=[];this.initialVelocity_=this.angle_=0};ol.Kinetic.prototype.begin=function(){this.initialVelocity_=this.angle_=this.points_.length=0};ol.Kinetic.prototype.update=function(a,b){this.points_.push(a,b,Date.now())};
ol.Kinetic.prototype.end=function(){if(6>this.points_.length)return!1;var a=Date.now()-this.delay_,b=this.points_.length-3;if(this.points_[b+2]<a)return!1;for(var c=b-3;0<c&&this.points_[c+2]>a;)c-=3;a=this.points_[b+2]-this.points_[c+2];if(a<1E3/60)return!1;var d=this.points_[b]-this.points_[c];b=this.points_[b+1]-this.points_[c+1];this.angle_=Math.atan2(b,d);this.initialVelocity_=Math.sqrt(d*d+b*b)/a;return this.initialVelocity_>this.minVelocity_};
ol.Kinetic.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_};ol.Kinetic.prototype.getAngle=function(){return this.angle_};ol.interaction={};ol.interaction.Property={ACTIVE:"active"};ol.interaction.Interaction=function(a){ol.Object.call(this);this.map_=null;this.setActive(!0);this.handleEvent=a.handleEvent};ol.inherits(ol.interaction.Interaction,ol.Object);ol.interaction.Interaction.prototype.getActive=function(){return this.get(ol.interaction.Property.ACTIVE)};ol.interaction.Interaction.prototype.getMap=function(){return this.map_};ol.interaction.Interaction.prototype.setActive=function(a){this.set(ol.interaction.Property.ACTIVE,a)};
ol.interaction.Interaction.prototype.setMap=function(a){this.map_=a};ol.interaction.Interaction.pan=function(a,b,c){var d=a.getCenter();d&&(b=a.constrainCenter([d[0]+b[0],d[1]+b[1]]),c?a.animate({duration:c,easing:ol.easing.linear,center:b}):a.setCenter(b))};ol.interaction.Interaction.rotate=function(a,b,c,d){b=a.constrainRotation(b,0);ol.interaction.Interaction.rotateWithoutConstraints(a,b,c,d)};
ol.interaction.Interaction.rotateWithoutConstraints=function(a,b,c,d){if(void 0!==b){var e=a.getRotation(),f=a.getCenter();void 0!==e&&f&&0<d?a.animate({rotation:b,anchor:c,duration:d,easing:ol.easing.easeOut}):a.rotate(b,c)}};ol.interaction.Interaction.zoom=function(a,b,c,d,e){b=a.constrainResolution(b,0,e);ol.interaction.Interaction.zoomWithoutConstraints(a,b,c,d)};
ol.interaction.Interaction.zoomByDelta=function(a,b,c,d){var e=a.getResolution();b=a.constrainResolution(e,b,0);if(c&&void 0!==b&&b!==e){var f=a.getCenter();c=a.calculateCenterZoom(b,c);c=a.constrainCenter(c);c=[(b*f[0]-e*c[0])/(b-e),(b*f[1]-e*c[1])/(b-e)]}ol.interaction.Interaction.zoomWithoutConstraints(a,b,c,d)};
ol.interaction.Interaction.zoomWithoutConstraints=function(a,b,c,d){if(b){var e=a.getResolution(),f=a.getCenter();void 0!==e&&f&&b!==e&&d?a.animate({resolution:b,anchor:c,duration:d,easing:ol.easing.easeOut}):(c&&(c=a.calculateCenterZoom(b,c),a.setCenter(c)),a.setResolution(b))}};ol.interaction.DoubleClickZoom=function(a){a=a?a:{};this.delta_=a.delta?a.delta:1;ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.DoubleClickZoom.handleEvent});this.duration_=void 0!==a.duration?a.duration:250};ol.inherits(ol.interaction.DoubleClickZoom,ol.interaction.Interaction);
ol.interaction.DoubleClickZoom.handleEvent=function(a){var b=!1,c=a.originalEvent;if(a.type==ol.MapBrowserEventType.DBLCLICK){b=a.coordinate;c=c.shiftKey?-this.delta_:this.delta_;var d=a.map.getView();ol.interaction.Interaction.zoomByDelta(d,c,b,this.duration_);a.preventDefault();b=!0}return!b};ol.events.condition={};ol.events.condition.altKeyOnly=function(a){a=a.originalEvent;return a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey};ol.events.condition.altShiftKeysOnly=function(a){a=a.originalEvent;return a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey};ol.events.condition.always=ol.functions.TRUE;ol.events.condition.click=function(a){return a.type==ol.MapBrowserEventType.CLICK};
ol.events.condition.mouseActionButton=function(a){a=a.originalEvent;return 0==a.button&&!(ol.has.WEBKIT&&ol.has.MAC&&a.ctrlKey)};ol.events.condition.never=ol.functions.FALSE;ol.events.condition.pointerMove=function(a){return"pointermove"==a.type};ol.events.condition.singleClick=function(a){return a.type==ol.MapBrowserEventType.SINGLECLICK};ol.events.condition.doubleClick=function(a){return a.type==ol.MapBrowserEventType.DBLCLICK};
ol.events.condition.noModifierKeys=function(a){a=a.originalEvent;return!a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey};ol.events.condition.platformModifierKeyOnly=function(a){a=a.originalEvent;return!a.altKey&&(ol.has.MAC?a.metaKey:a.ctrlKey)&&!a.shiftKey};ol.events.condition.shiftKeyOnly=function(a){a=a.originalEvent;return!a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey};
ol.events.condition.targetNotEditable=function(a){a=a.originalEvent.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a};ol.events.condition.mouseOnly=function(a){ol.asserts.assert(a.pointerEvent,56);return"mouse"==a.pointerEvent.pointerType};ol.events.condition.primaryAction=function(a){a=a.pointerEvent;return a.isPrimary&&0===a.button};ol.interaction.Pointer=function(a){a=a?a:{};ol.interaction.Interaction.call(this,{handleEvent:a.handleEvent?a.handleEvent:ol.interaction.Pointer.handleEvent});this.handleDownEvent_=a.handleDownEvent?a.handleDownEvent:ol.interaction.Pointer.handleDownEvent;this.handleDragEvent_=a.handleDragEvent?a.handleDragEvent:ol.interaction.Pointer.handleDragEvent;this.handleMoveEvent_=a.handleMoveEvent?a.handleMoveEvent:ol.interaction.Pointer.handleMoveEvent;this.handleUpEvent_=a.handleUpEvent?a.handleUpEvent:
ol.interaction.Pointer.handleUpEvent;this.handlingDownUpSequence=!1;this.trackedPointers_={};this.targetPointers=[]};ol.inherits(ol.interaction.Pointer,ol.interaction.Interaction);ol.interaction.Pointer.centroid=function(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]};ol.interaction.Pointer.prototype.isPointerDraggingEvent_=function(a){a=a.type;return a===ol.MapBrowserEventType.POINTERDOWN||a===ol.MapBrowserEventType.POINTERDRAG||a===ol.MapBrowserEventType.POINTERUP};
ol.interaction.Pointer.prototype.updateTrackedPointers_=function(a){if(this.isPointerDraggingEvent_(a)){var b=a.pointerEvent,c=b.pointerId.toString();a.type==ol.MapBrowserEventType.POINTERUP?delete this.trackedPointers_[c]:a.type==ol.MapBrowserEventType.POINTERDOWN?this.trackedPointers_[c]=b:c in this.trackedPointers_&&(this.trackedPointers_[c]=b);this.targetPointers=ol.obj.getValues(this.trackedPointers_)}};ol.interaction.Pointer.handleDragEvent=ol.nullFunction;
ol.interaction.Pointer.handleUpEvent=ol.functions.FALSE;ol.interaction.Pointer.handleDownEvent=ol.functions.FALSE;ol.interaction.Pointer.handleMoveEvent=ol.nullFunction;
ol.interaction.Pointer.handleEvent=function(a){if(!(a instanceof ol.MapBrowserPointerEvent))return!0;var b=!1;this.updateTrackedPointers_(a);this.handlingDownUpSequence?a.type==ol.MapBrowserEventType.POINTERDRAG?this.handleDragEvent_(a):a.type==ol.MapBrowserEventType.POINTERUP&&(this.handlingDownUpSequence=this.handleUpEvent_(a)&&0<this.targetPointers.length):a.type==ol.MapBrowserEventType.POINTERDOWN?(this.handlingDownUpSequence=a=this.handleDownEvent_(a),b=this.shouldStopEvent(a)):a.type==ol.MapBrowserEventType.POINTERMOVE&&
this.handleMoveEvent_(a);return!b};ol.interaction.Pointer.prototype.shouldStopEvent=function(a){return a};ol.interaction.DragPan=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragPan.handleDownEvent_,handleDragEvent:ol.interaction.DragPan.handleDragEvent_,handleUpEvent:ol.interaction.DragPan.handleUpEvent_});a=a?a:{};this.kinetic_=a.kinetic;this.lastCentroid=null;this.condition_=a.condition?a.condition:ol.events.condition.noModifierKeys;this.noKinetic_=!1};ol.inherits(ol.interaction.DragPan,ol.interaction.Pointer);
ol.interaction.DragPan.handleDragEvent_=function(a){var b=this.targetPointers,c=ol.interaction.Pointer.centroid(b);if(b.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(c[0],c[1]),this.lastCentroid){var d=this.lastCentroid[0]-c[0],e=c[1]-this.lastCentroid[1];a=a.map.getView();var f=a.getState();d=[d,e];ol.coordinate.scale(d,f.resolution);ol.coordinate.rotate(d,f.rotation);ol.coordinate.add(d,f.center);d=a.constrainCenter(d);a.setCenter(d)}}else this.kinetic_&&this.kinetic_.begin();
this.lastCentroid=c;this.lastPointersCount_=b.length};
ol.interaction.DragPan.handleUpEvent_=function(a){var b=a.map;a=b.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var c=this.kinetic_.getDistance(),d=this.kinetic_.getAngle(),e=a.getCenter();e=b.getPixelFromCoordinate(e);b=b.getCoordinateFromPixel([e[0]-c*Math.cos(d),e[1]-c*Math.sin(d)]);a.animate({center:a.constrainCenter(b),duration:500,easing:ol.easing.easeOut})}a.setHint(ol.ViewHint.INTERACTING,-1);return!1}this.kinetic_&&this.kinetic_.begin();
this.lastCentroid=null;return!0};ol.interaction.DragPan.handleDownEvent_=function(a){if(0<this.targetPointers.length&&this.condition_(a)){var b=a.map.getView();this.lastCentroid=null;this.handlingDownUpSequence||b.setHint(ol.ViewHint.INTERACTING,1);b.getHints()[ol.ViewHint.ANIMATING]&&b.setCenter(a.frameState.viewState.center);this.kinetic_&&this.kinetic_.begin();this.noKinetic_=1<this.targetPointers.length;return!0}return!1};ol.interaction.DragPan.prototype.shouldStopEvent=ol.functions.FALSE;ol.interaction.DragRotate=function(a){a=a?a:{};ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragRotate.handleDownEvent_,handleDragEvent:ol.interaction.DragRotate.handleDragEvent_,handleUpEvent:ol.interaction.DragRotate.handleUpEvent_});this.condition_=a.condition?a.condition:ol.events.condition.altShiftKeysOnly;this.lastAngle_=void 0;this.duration_=void 0!==a.duration?a.duration:250};ol.inherits(ol.interaction.DragRotate,ol.interaction.Pointer);
ol.interaction.DragRotate.handleDragEvent_=function(a){if(ol.events.condition.mouseOnly(a)){var b=a.map,c=b.getView();if(c.getConstraints().rotation!==ol.RotationConstraint.disable){b=b.getSize();a=a.pixel;a=Math.atan2(b[1]/2-a[1],a[0]-b[0]/2);if(void 0!==this.lastAngle_){b=a-this.lastAngle_;var d=c.getRotation();ol.interaction.Interaction.rotateWithoutConstraints(c,d-b)}this.lastAngle_=a}}};
ol.interaction.DragRotate.handleUpEvent_=function(a){if(!ol.events.condition.mouseOnly(a))return!0;a=a.map.getView();a.setHint(ol.ViewHint.INTERACTING,-1);var b=a.getRotation();ol.interaction.Interaction.rotate(a,b,void 0,this.duration_);return!1};ol.interaction.DragRotate.handleDownEvent_=function(a){return ol.events.condition.mouseOnly(a)&&ol.events.condition.mouseActionButton(a)&&this.condition_(a)?(a.map.getView().setHint(ol.ViewHint.INTERACTING,1),this.lastAngle_=void 0,!0):!1};
ol.interaction.DragRotate.prototype.shouldStopEvent=ol.functions.FALSE;ol.render.Box=function(a){this.geometry_=null;this.element_=document.createElement("div");this.element_.style.position="absolute";this.element_.className="ol-box "+a;this.endPixel_=this.startPixel_=this.map_=null};ol.inherits(ol.render.Box,ol.Disposable);ol.render.Box.prototype.disposeInternal=function(){this.setMap(null)};
ol.render.Box.prototype.render_=function(){var a=this.startPixel_,b=this.endPixel_,c=this.element_.style;c.left=Math.min(a[0],b[0])+"px";c.top=Math.min(a[1],b[1])+"px";c.width=Math.abs(b[0]-a[0])+"px";c.height=Math.abs(b[1]-a[1])+"px"};ol.render.Box.prototype.setMap=function(a){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var b=this.element_.style;b.left=b.top=b.width=b.height="inherit"}(this.map_=a)&&this.map_.getOverlayContainer().appendChild(this.element_)};
ol.render.Box.prototype.setPixels=function(a,b){this.startPixel_=a;this.endPixel_=b;this.createOrUpdateGeometry();this.render_()};ol.render.Box.prototype.createOrUpdateGeometry=function(){var a=this.startPixel_,b=this.endPixel_;a=[a,[a[0],b[1]],b,[b[0],a[1]]].map(this.map_.getCoordinateFromPixel,this.map_);a[4]=a[0].slice();this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new ol.geom.Polygon([a])};ol.render.Box.prototype.getGeometry=function(){return this.geometry_};ol.interaction.DragBox=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragBox.handleDownEvent_,handleDragEvent:ol.interaction.DragBox.handleDragEvent_,handleUpEvent:ol.interaction.DragBox.handleUpEvent_});a=a?a:{};this.box_=new ol.render.Box(a.className||"ol-dragbox");this.minArea_=void 0!==a.minArea?a.minArea:64;this.startPixel_=null;this.condition_=a.condition?a.condition:ol.events.condition.always;this.boxEndCondition_=a.boxEndCondition?a.boxEndCondition:ol.interaction.DragBox.defaultBoxEndCondition};
ol.inherits(ol.interaction.DragBox,ol.interaction.Pointer);ol.interaction.DragBox.defaultBoxEndCondition=function(a,b,c){a=c[0]-b[0];b=c[1]-b[1];return a*a+b*b>=this.minArea_};ol.interaction.DragBox.handleDragEvent_=function(a){ol.events.condition.mouseOnly(a)&&(this.box_.setPixels(this.startPixel_,a.pixel),this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXDRAG,a.coordinate,a)))};ol.interaction.DragBox.prototype.getGeometry=function(){return this.box_.getGeometry()};
ol.interaction.DragBox.prototype.onBoxEnd=ol.nullFunction;ol.interaction.DragBox.handleUpEvent_=function(a){if(!ol.events.condition.mouseOnly(a))return!0;this.box_.setMap(null);this.boxEndCondition_(a,this.startPixel_,a.pixel)&&(this.onBoxEnd(a),this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXEND,a.coordinate,a)));return!1};
ol.interaction.DragBox.handleDownEvent_=function(a){return ol.events.condition.mouseOnly(a)&&ol.events.condition.mouseActionButton(a)&&this.condition_(a)?(this.startPixel_=a.pixel,this.box_.setMap(a.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXSTART,a.coordinate,a)),!0):!1};ol.interaction.DragBox.EventType_={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"};
ol.interaction.DragBox.Event=function(a,b,c){ol.events.Event.call(this,a);this.coordinate=b;this.mapBrowserEvent=c};ol.inherits(ol.interaction.DragBox.Event,ol.events.Event);ol.interaction.DragZoom=function(a){a=a?a:{};var b=a.condition?a.condition:ol.events.condition.shiftKeyOnly;this.duration_=void 0!==a.duration?a.duration:200;this.out_=void 0!==a.out?a.out:!1;ol.interaction.DragBox.call(this,{condition:b,className:a.className||"ol-dragzoom"})};ol.inherits(ol.interaction.DragZoom,ol.interaction.DragBox);
ol.interaction.DragZoom.prototype.onBoxEnd=function(){var a=this.getMap(),b=a.getView(),c=a.getSize(),d=this.getGeometry().getExtent();if(this.out_){var e=b.calculateExtent(c);d=ol.extent.createOrUpdateFromCoordinates([a.getPixelFromCoordinate(ol.extent.getBottomLeft(d)),a.getPixelFromCoordinate(ol.extent.getTopRight(d))]);d=b.getResolutionForExtent(d,c);ol.extent.scaleFromCenter(e,1/d);d=e}c=b.constrainResolution(b.getResolutionForExtent(d,c));e=ol.extent.getCenter(d);e=b.constrainCenter(e);b.animate({resolution:c,
center:e,duration:this.duration_,easing:ol.easing.easeOut})};ol.events.KeyCode={LEFT:37,UP:38,RIGHT:39,DOWN:40};ol.interaction.KeyboardPan=function(a){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.KeyboardPan.handleEvent});a=a||{};this.defaultCondition_=function(a){return ol.events.condition.noModifierKeys(a)&&ol.events.condition.targetNotEditable(a)};this.condition_=void 0!==a.condition?a.condition:this.defaultCondition_;this.duration_=void 0!==a.duration?a.duration:100;this.pixelDelta_=void 0!==a.pixelDelta?a.pixelDelta:128};ol.inherits(ol.interaction.KeyboardPan,ol.interaction.Interaction);
ol.interaction.KeyboardPan.handleEvent=function(a){var b=!1;if(a.type==ol.events.EventType.KEYDOWN){var c=a.originalEvent.keyCode;if(this.condition_(a)&&(c==ol.events.KeyCode.DOWN||c==ol.events.KeyCode.LEFT||c==ol.events.KeyCode.RIGHT||c==ol.events.KeyCode.UP)){b=a.map.getView();var d=b.getResolution()*this.pixelDelta_,e=0,f=0;c==ol.events.KeyCode.DOWN?f=-d:c==ol.events.KeyCode.LEFT?e=-d:c==ol.events.KeyCode.RIGHT?e=d:f=d;c=[e,f];ol.coordinate.rotate(c,b.getRotation());ol.interaction.Interaction.pan(b,
c,this.duration_);a.preventDefault();b=!0}}return!b};ol.interaction.KeyboardZoom=function(a){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.KeyboardZoom.handleEvent});a=a?a:{};this.condition_=a.condition?a.condition:ol.events.condition.targetNotEditable;this.delta_=a.delta?a.delta:1;this.duration_=void 0!==a.duration?a.duration:100};ol.inherits(ol.interaction.KeyboardZoom,ol.interaction.Interaction);
ol.interaction.KeyboardZoom.handleEvent=function(a){var b=!1;if(a.type==ol.events.EventType.KEYDOWN||a.type==ol.events.EventType.KEYPRESS){var c=a.originalEvent.charCode;!this.condition_(a)||43!=c&&45!=c||(b=43==c?this.delta_:-this.delta_,c=a.map.getView(),ol.interaction.Interaction.zoomByDelta(c,b,void 0,this.duration_),a.preventDefault(),b=!0)}return!b};ol.interaction.MouseWheelZoom=function(a){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.MouseWheelZoom.handleEvent});a=a||{};this.delta_=0;this.duration_=void 0!==a.duration?a.duration:250;this.timeout_=void 0!==a.timeout?a.timeout:80;this.useAnchor_=void 0!==a.useAnchor?a.useAnchor:!0;this.constrainResolution_=a.constrainResolution||!1;this.lastAnchor_=null;this.mode_=this.timeoutId_=this.startTime_=void 0;this.trackpadEventGap_=400;this.trackpadTimeoutId_=void 0;this.trackpadDeltaPerZoom_=
300;this.trackpadZoomBuffer_=1.5};ol.inherits(ol.interaction.MouseWheelZoom,ol.interaction.Interaction);
ol.interaction.MouseWheelZoom.handleEvent=function(a){var b=a.type;if(b!==ol.events.EventType.WHEEL&&b!==ol.events.EventType.MOUSEWHEEL)return!0;a.preventDefault();b=a.map;var c=a.originalEvent;this.useAnchor_&&(this.lastAnchor_=a.coordinate);if(a.type==ol.events.EventType.WHEEL){var d=c.deltaY;ol.has.FIREFOX&&c.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(d/=ol.has.DEVICE_PIXEL_RATIO);c.deltaMode===WheelEvent.DOM_DELTA_LINE&&(d*=40)}else a.type==ol.events.EventType.MOUSEWHEEL&&(d=-c.wheelDeltaY,ol.has.SAFARI&&
(d/=3));if(0===d)return!1;a=Date.now();void 0===this.startTime_&&(this.startTime_=a);if(!this.mode_||a-this.startTime_>this.trackpadEventGap_)this.mode_=4>Math.abs(d)?ol.interaction.MouseWheelZoom.Mode_.TRACKPAD:ol.interaction.MouseWheelZoom.Mode_.WHEEL;if(this.mode_===ol.interaction.MouseWheelZoom.Mode_.TRACKPAD){b=b.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):b.setHint(ol.ViewHint.INTERACTING,1);this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),
this.trackpadEventGap_);c=b.getResolution()*Math.pow(2,d/this.trackpadDeltaPerZoom_);var e=b.getMinResolution(),f=b.getMaxResolution(),g=0;c<e?(c=Math.max(c,e/this.trackpadZoomBuffer_),g=1):c>f&&(c=Math.min(c,f*this.trackpadZoomBuffer_),g=-1);if(this.lastAnchor_){var h=b.calculateCenterZoom(c,this.lastAnchor_);b.setCenter(b.constrainCenter(h))}b.setResolution(c);0===g&&this.constrainResolution_&&b.animate({resolution:b.constrainResolution(c,0<d?-1:1),easing:ol.easing.easeOut,anchor:this.lastAnchor_,
duration:this.duration_});0<g?b.animate({resolution:e,easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:500}):0>g&&b.animate({resolution:f,easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:500});this.startTime_=a;return!1}this.delta_+=d;d=Math.max(this.timeout_-(a-this.startTime_),0);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,b),d);return!1};
ol.interaction.MouseWheelZoom.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0;this.getMap().getView().setHint(ol.ViewHint.INTERACTING,-1)};
ol.interaction.MouseWheelZoom.prototype.handleWheelZoom_=function(a){a=a.getView();a.getAnimating()&&a.cancelAnimations();var b=ol.MOUSEWHEELZOOM_MAXDELTA;b=ol.math.clamp(this.delta_,-b,b);ol.interaction.Interaction.zoomByDelta(a,-b,this.lastAnchor_,this.duration_);this.mode_=void 0;this.delta_=0;this.lastAnchor_=null;this.timeoutId_=this.startTime_=void 0};ol.interaction.MouseWheelZoom.prototype.setMouseAnchor=function(a){this.useAnchor_=a;a||(this.lastAnchor_=null)};
ol.interaction.MouseWheelZoom.Mode_={TRACKPAD:"trackpad",WHEEL:"wheel"};ol.interaction.PinchRotate=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchRotate.handleDownEvent_,handleDragEvent:ol.interaction.PinchRotate.handleDragEvent_,handleUpEvent:ol.interaction.PinchRotate.handleUpEvent_});a=a||{};this.anchor_=null;this.lastAngle_=void 0;this.rotating_=!1;this.rotationDelta_=0;this.threshold_=void 0!==a.threshold?a.threshold:.3;this.duration_=void 0!==a.duration?a.duration:250};ol.inherits(ol.interaction.PinchRotate,ol.interaction.Pointer);
ol.interaction.PinchRotate.handleDragEvent_=function(a){var b=0,c=this.targetPointers[0],d=this.targetPointers[1];c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);void 0!==this.lastAngle_&&(b=c-this.lastAngle_,this.rotationDelta_+=b,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0));this.lastAngle_=c;a=a.map;c=a.getView();if(c.getConstraints().rotation!==ol.RotationConstraint.disable){d=a.getViewport().getBoundingClientRect();var e=ol.interaction.Pointer.centroid(this.targetPointers);
e[0]-=d.left;e[1]-=d.top;this.anchor_=a.getCoordinateFromPixel(e);this.rotating_&&(d=c.getRotation(),a.render(),ol.interaction.Interaction.rotateWithoutConstraints(c,d+b,this.anchor_))}};ol.interaction.PinchRotate.handleUpEvent_=function(a){if(2>this.targetPointers.length){a=a.map.getView();a.setHint(ol.ViewHint.INTERACTING,-1);if(this.rotating_){var b=a.getRotation();ol.interaction.Interaction.rotate(a,b,this.anchor_,this.duration_)}return!1}return!0};
ol.interaction.PinchRotate.handleDownEvent_=function(a){return 2<=this.targetPointers.length?(a=a.map,this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||a.getView().setHint(ol.ViewHint.INTERACTING,1),!0):!1};ol.interaction.PinchRotate.prototype.shouldStopEvent=ol.functions.FALSE;ol.interaction.PinchZoom=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchZoom.handleDownEvent_,handleDragEvent:ol.interaction.PinchZoom.handleDragEvent_,handleUpEvent:ol.interaction.PinchZoom.handleUpEvent_});a=a?a:{};this.constrainResolution_=a.constrainResolution||!1;this.anchor_=null;this.duration_=void 0!==a.duration?a.duration:400;this.lastDistance_=void 0;this.lastScaleDelta_=1};ol.inherits(ol.interaction.PinchZoom,ol.interaction.Pointer);
ol.interaction.PinchZoom.handleDragEvent_=function(a){var b=1,c=this.targetPointers[0],d=this.targetPointers[1],e=c.clientX-d.clientX;c=c.clientY-d.clientY;e=Math.sqrt(e*e+c*c);void 0!==this.lastDistance_&&(b=this.lastDistance_/e);this.lastDistance_=e;a=a.map;e=a.getView();d=e.getResolution();var f=e.getMaxResolution(),g=e.getMinResolution();c=d*b;c>f?(b=f/d,c=f):c<g&&(b=g/d,c=g);1!=b&&(this.lastScaleDelta_=b);b=a.getViewport().getBoundingClientRect();d=ol.interaction.Pointer.centroid(this.targetPointers);
d[0]-=b.left;d[1]-=b.top;this.anchor_=a.getCoordinateFromPixel(d);a.render();ol.interaction.Interaction.zoomWithoutConstraints(e,c,this.anchor_)};ol.interaction.PinchZoom.handleUpEvent_=function(a){if(2>this.targetPointers.length){a=a.map.getView();a.setHint(ol.ViewHint.INTERACTING,-1);var b=a.getResolution();(this.constrainResolution_||b<a.getMinResolution()||b>a.getMaxResolution())&&ol.interaction.Interaction.zoom(a,b,this.anchor_,this.duration_,this.lastScaleDelta_-1);return!1}return!0};
ol.interaction.PinchZoom.handleDownEvent_=function(a){return 2<=this.targetPointers.length?(a=a.map,this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||a.getView().setHint(ol.ViewHint.INTERACTING,1),!0):!1};ol.interaction.PinchZoom.prototype.shouldStopEvent=ol.functions.FALSE;ol.interaction.defaults=function(a){a=a?a:{};var b=new ol.Collection,c=new ol.Kinetic(-.005,.05,100);(void 0!==a.altShiftDragRotate?a.altShiftDragRotate:1)&&b.push(new ol.interaction.DragRotate);(void 0!==a.doubleClickZoom?a.doubleClickZoom:1)&&b.push(new ol.interaction.DoubleClickZoom({delta:a.zoomDelta,duration:a.zoomDuration}));(void 0!==a.dragPan?a.dragPan:1)&&b.push(new ol.interaction.DragPan({kinetic:c}));(void 0!==a.pinchRotate?a.pinchRotate:1)&&b.push(new ol.interaction.PinchRotate);(void 0!==
a.pinchZoom?a.pinchZoom:1)&&b.push(new ol.interaction.PinchZoom({constrainResolution:a.constrainResolution,duration:a.zoomDuration}));if(void 0!==a.keyboard?a.keyboard:1)b.push(new ol.interaction.KeyboardPan),b.push(new ol.interaction.KeyboardZoom({delta:a.zoomDelta,duration:a.zoomDuration}));(void 0!==a.mouseWheelZoom?a.mouseWheelZoom:1)&&b.push(new ol.interaction.MouseWheelZoom({constrainResolution:a.constrainResolution,duration:a.zoomDuration}));(void 0!==a.shiftDragZoom?a.shiftDragZoom:1)&&b.push(new ol.interaction.DragZoom({duration:a.zoomDuration}));
return b};ol.render.Event=function(a,b,c,d,e){ol.events.Event.call(this,a);this.vectorContext=b;this.frameState=c;this.context=d;this.glContext=e};ol.inherits(ol.render.Event,ol.events.Event);ol.render.canvas.Immediate=function(a,b,c,d,e){ol.render.VectorContext.call(this);this.context_=a;this.pixelRatio_=b;this.extent_=c;this.transform_=d;this.viewRotation_=e;this.image_=this.strokeState_=this.fillState_=this.contextTextState_=this.contextStrokeState_=this.contextFillState_=null;this.imageOriginY_=this.imageOriginX_=this.imageOpacity_=this.imageHeight_=this.imageAnchorY_=this.imageAnchorX_=0;this.imageRotateWithView_=!1;this.imageScale_=this.imageRotation_=0;this.imageSnapToPixel_=!1;
this.imageWidth_=0;this.text_="";this.textOffsetY_=this.textOffsetX_=0;this.textRotateWithView_=!1;this.textScale_=this.textRotation_=0;this.textState_=this.textStrokeState_=this.textFillState_=null;this.pixelCoordinates_=[];this.tmpLocalTransform_=ol.transform.create()};ol.inherits(ol.render.canvas.Immediate,ol.render.VectorContext);
ol.render.canvas.Immediate.prototype.drawImages_=function(a,b,c,d){if(this.image_){a=ol.geom.flat.transform.transform2D(a,b,c,2,this.transform_,this.pixelCoordinates_);b=this.context_;c=this.tmpLocalTransform_;d=b.globalAlpha;1!=this.imageOpacity_&&(b.globalAlpha=d*this.imageOpacity_);var e=this.imageRotation_;this.imageRotateWithView_&&(e+=this.viewRotation_);var f;var g=0;for(f=a.length;g<f;g+=2){var h=a[g]-this.imageAnchorX_,k=a[g+1]-this.imageAnchorY_;this.imageSnapToPixel_&&(h=Math.round(h),
k=Math.round(k));if(0!==e||1!=this.imageScale_){var l=h+this.imageAnchorX_,m=k+this.imageAnchorY_;ol.transform.compose(c,l,m,this.imageScale_,this.imageScale_,e,-l,-m);b.setTransform.apply(b,c)}b.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,k,this.imageWidth_,this.imageHeight_)}0===e&&1==this.imageScale_||b.setTransform(1,0,0,1,0,0);1!=this.imageOpacity_&&(b.globalAlpha=d)}};
ol.render.canvas.Immediate.prototype.drawText_=function(a,b,c,d){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_);this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_);this.setContextTextState_(this.textState_);a=ol.geom.flat.transform.transform2D(a,b,c,d,this.transform_,this.pixelCoordinates_);var e=this.context_,f=this.textRotation_;for(this.textRotateWithView_&&(f+=this.viewRotation_);b<c;b+=d){var g=a[b]+this.textOffsetX_,
h=a[b+1]+this.textOffsetY_;if(0!==f||1!=this.textScale_){var k=ol.transform.compose(this.tmpLocalTransform_,g,h,this.textScale_,this.textScale_,f,-g,-h);e.setTransform.apply(e,k)}this.textStrokeState_&&e.strokeText(this.text_,g,h);this.textFillState_&&e.fillText(this.text_,g,h)}0===f&&1==this.textScale_||e.setTransform(1,0,0,1,0,0)}};
ol.render.canvas.Immediate.prototype.moveToLineTo_=function(a,b,c,d,e){var f=this.context_;a=ol.geom.flat.transform.transform2D(a,b,c,d,this.transform_,this.pixelCoordinates_);f.moveTo(a[0],a[1]);b=a.length;e&&(b-=2);for(d=2;d<b;d+=2)f.lineTo(a[d],a[d+1]);e&&f.closePath();return c};ol.render.canvas.Immediate.prototype.drawRings_=function(a,b,c,d){var e;var f=0;for(e=c.length;f<e;++f)b=this.moveToLineTo_(a,b,c[f],d,!0);return b};
ol.render.canvas.Immediate.prototype.drawCircle=function(a){if(ol.extent.intersects(this.extent_,a.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var b=ol.geom.SimpleGeometry.transform2D(a,this.transform_,this.pixelCoordinates_),c=b[2]-b[0],d=b[3]-b[1];c=Math.sqrt(c*c+d*d);d=this.context_;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);this.fillState_&&d.fill();this.strokeState_&&
d.stroke()}""!==this.text_&&this.drawText_(a.getCenter(),0,2,2)}};ol.render.canvas.Immediate.prototype.setStyle=function(a){this.setFillStrokeStyle(a.getFill(),a.getStroke());this.setImageStyle(a.getImage());this.setTextStyle(a.getText())};
ol.render.canvas.Immediate.prototype.drawGeometry=function(a){switch(a.getType()){case ol.geom.GeometryType.POINT:this.drawPoint(a);break;case ol.geom.GeometryType.LINE_STRING:this.drawLineString(a);break;case ol.geom.GeometryType.POLYGON:this.drawPolygon(a);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(a);break;case ol.geom.GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(a);break;case ol.geom.GeometryType.MULTI_POLYGON:this.drawMultiPolygon(a);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(a);
break;case ol.geom.GeometryType.CIRCLE:this.drawCircle(a)}};ol.render.canvas.Immediate.prototype.drawFeature=function(a,b){(a=b.getGeometryFunction()(a))&&ol.extent.intersects(this.extent_,a.getExtent())&&(this.setStyle(b),this.drawGeometry(a))};ol.render.canvas.Immediate.prototype.drawGeometryCollection=function(a){a=a.getGeometriesArray();var b;var c=0;for(b=a.length;c<b;++c)this.drawGeometry(a[c])};
ol.render.canvas.Immediate.prototype.drawPoint=function(a){var b=a.getFlatCoordinates();a=a.getStride();this.image_&&this.drawImages_(b,0,b.length,a);""!==this.text_&&this.drawText_(b,0,b.length,a)};ol.render.canvas.Immediate.prototype.drawMultiPoint=function(a){var b=a.getFlatCoordinates();a=a.getStride();this.image_&&this.drawImages_(b,0,b.length,a);""!==this.text_&&this.drawText_(b,0,b.length,a)};
ol.render.canvas.Immediate.prototype.drawLineString=function(a){if(ol.extent.intersects(this.extent_,a.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var b=this.context_,c=a.getFlatCoordinates();b.beginPath();this.moveToLineTo_(c,0,c.length,a.getStride(),!1);b.stroke()}""!==this.text_&&(a=a.getFlatMidpoint(),this.drawText_(a,0,2,2))}};
ol.render.canvas.Immediate.prototype.drawMultiLineString=function(a){var b=a.getExtent();if(ol.extent.intersects(this.extent_,b)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);b=this.context_;var c=a.getFlatCoordinates(),d=0,e=a.getEnds(),f=a.getStride();b.beginPath();var g;var h=0;for(g=e.length;h<g;++h)d=this.moveToLineTo_(c,d,e[h],f,!1);b.stroke()}""!==this.text_&&(a=a.getFlatMidpoints(),this.drawText_(a,0,a.length,2))}};
ol.render.canvas.Immediate.prototype.drawPolygon=function(a){if(ol.extent.intersects(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var b=this.context_;b.beginPath();this.drawRings_(a.getOrientedFlatCoordinates(),0,a.getEnds(),a.getStride());this.fillState_&&b.fill();this.strokeState_&&b.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoint(),this.drawText_(a,
0,2,2))}};
ol.render.canvas.Immediate.prototype.drawMultiPolygon=function(a){if(ol.extent.intersects(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var b=this.context_,c=a.getOrientedFlatCoordinates(),d=0,e=a.getEndss(),f=a.getStride(),g;b.beginPath();var h=0;for(g=e.length;h<g;++h)d=this.drawRings_(c,d,e[h],f);this.fillState_&&b.fill();this.strokeState_&&b.stroke()}""!==
this.text_&&(a=a.getFlatInteriorPoints(),this.drawText_(a,0,a.length,2))}};ol.render.canvas.Immediate.prototype.setContextFillState_=function(a){var b=this.context_,c=this.contextFillState_;c?c.fillStyle!=a.fillStyle&&(c.fillStyle=b.fillStyle=a.fillStyle):(b.fillStyle=a.fillStyle,this.contextFillState_={fillStyle:a.fillStyle})};
ol.render.canvas.Immediate.prototype.setContextStrokeState_=function(a){var b=this.context_,c=this.contextStrokeState_;c?(c.lineCap!=a.lineCap&&(c.lineCap=b.lineCap=a.lineCap),ol.has.CANVAS_LINE_DASH&&(ol.array.equals(c.lineDash,a.lineDash)||b.setLineDash(c.lineDash=a.lineDash),c.lineDashOffset!=a.lineDashOffset&&(c.lineDashOffset=b.lineDashOffset=a.lineDashOffset)),c.lineJoin!=a.lineJoin&&(c.lineJoin=b.lineJoin=a.lineJoin),c.lineWidth!=a.lineWidth&&(c.lineWidth=b.lineWidth=a.lineWidth),c.miterLimit!=
a.miterLimit&&(c.miterLimit=b.miterLimit=a.miterLimit),c.strokeStyle!=a.strokeStyle&&(c.strokeStyle=b.strokeStyle=a.strokeStyle)):(b.lineCap=a.lineCap,ol.has.CANVAS_LINE_DASH&&(b.setLineDash(a.lineDash),b.lineDashOffset=a.lineDashOffset),b.lineJoin=a.lineJoin,b.lineWidth=a.lineWidth,b.miterLimit=a.miterLimit,b.strokeStyle=a.strokeStyle,this.contextStrokeState_={lineCap:a.lineCap,lineDash:a.lineDash,lineDashOffset:a.lineDashOffset,lineJoin:a.lineJoin,lineWidth:a.lineWidth,miterLimit:a.miterLimit,strokeStyle:a.strokeStyle})};
ol.render.canvas.Immediate.prototype.setContextTextState_=function(a){var b=this.context_,c=this.contextTextState_,d=a.textAlign?a.textAlign:ol.render.canvas.defaultTextAlign;c?(c.font!=a.font&&(c.font=b.font=a.font),c.textAlign!=d&&(c.textAlign=d),c.textBaseline!=a.textBaseline&&(c.textBaseline=b.textBaseline=a.textBaseline)):(b.font=a.font,b.textAlign=d,b.textBaseline=a.textBaseline,this.contextTextState_={font:a.font,textAlign:d,textBaseline:a.textBaseline})};
ol.render.canvas.Immediate.prototype.setFillStrokeStyle=function(a,b){a?(a=a.getColor(),this.fillState_={fillStyle:ol.colorlike.asColorLike(a?a:ol.render.canvas.defaultFillStyle)}):this.fillState_=null;if(b){a=b.getColor();var c=b.getLineCap(),d=b.getLineDash(),e=b.getLineDashOffset(),f=b.getLineJoin(),g=b.getWidth();b=b.getMiterLimit();this.strokeState_={lineCap:void 0!==c?c:ol.render.canvas.defaultLineCap,lineDash:d?d:ol.render.canvas.defaultLineDash,lineDashOffset:e?e:ol.render.canvas.defaultLineDashOffset,
lineJoin:void 0!==f?f:ol.render.canvas.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==g?g:ol.render.canvas.defaultLineWidth),miterLimit:void 0!==b?b:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.colorlike.asColorLike(a?a:ol.render.canvas.defaultStrokeStyle)}}else this.strokeState_=null};
ol.render.canvas.Immediate.prototype.setImageStyle=function(a){if(a){var b=a.getAnchor(),c=a.getImage(1),d=a.getOrigin(),e=a.getSize();this.imageAnchorX_=b[0];this.imageAnchorY_=b[1];this.imageHeight_=e[1];this.image_=c;this.imageOpacity_=a.getOpacity();this.imageOriginX_=d[0];this.imageOriginY_=d[1];this.imageRotateWithView_=a.getRotateWithView();this.imageRotation_=a.getRotation();this.imageScale_=a.getScale()*this.pixelRatio_;this.imageSnapToPixel_=a.getSnapToPixel();this.imageWidth_=e[0]}else this.image_=
null};
ol.render.canvas.Immediate.prototype.setTextStyle=function(a){if(a){var b=a.getFill();b?(b=b.getColor(),this.textFillState_={fillStyle:ol.colorlike.asColorLike(b?b:ol.render.canvas.defaultFillStyle)}):this.textFillState_=null;var c=a.getStroke();if(c){b=c.getColor();var d=c.getLineCap(),e=c.getLineDash(),f=c.getLineDashOffset(),g=c.getLineJoin(),h=c.getWidth();c=c.getMiterLimit();this.textStrokeState_={lineCap:void 0!==d?d:ol.render.canvas.defaultLineCap,lineDash:e?e:ol.render.canvas.defaultLineDash,lineDashOffset:f?
f:ol.render.canvas.defaultLineDashOffset,lineJoin:void 0!==g?g:ol.render.canvas.defaultLineJoin,lineWidth:void 0!==h?h:ol.render.canvas.defaultLineWidth,miterLimit:void 0!==c?c:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.colorlike.asColorLike(b?b:ol.render.canvas.defaultStrokeStyle)}}else this.textStrokeState_=null;b=a.getFont();d=a.getOffsetX();e=a.getOffsetY();f=a.getRotateWithView();g=a.getRotation();h=a.getScale();c=a.getText();var k=a.getTextAlign();a=a.getTextBaseline();this.textState_=
{font:void 0!==b?b:ol.render.canvas.defaultFont,textAlign:void 0!==k?k:ol.render.canvas.defaultTextAlign,textBaseline:void 0!==a?a:ol.render.canvas.defaultTextBaseline};this.text_=void 0!==c?c:"";this.textOffsetX_=void 0!==d?this.pixelRatio_*d:0;this.textOffsetY_=void 0!==e?this.pixelRatio_*e:0;this.textRotateWithView_=void 0!==f?f:!1;this.textRotation_=void 0!==g?g:0;this.textScale_=this.pixelRatio_*(void 0!==h?h:1)}else this.text_=""};ol.renderer.Layer=function(a){ol.Observable.call(this);this.layer_=a};ol.inherits(ol.renderer.Layer,ol.Observable);ol.renderer.Layer.prototype.forEachFeatureAtCoordinate=ol.nullFunction;ol.renderer.Layer.prototype.hasFeatureAtCoordinate=ol.functions.FALSE;ol.renderer.Layer.prototype.createLoadedTileFinder=function(a,b,c){return function(d,e){return a.forEachLoadedTile(b,d,e,function(a){c[d]||(c[d]={});c[d][a.tileCoord.toString()]=a})}};ol.renderer.Layer.prototype.getLayer=function(){return this.layer_};
ol.renderer.Layer.prototype.handleImageChange_=function(a){a.target.getState()===ol.ImageState.LOADED&&this.renderIfReadyAndVisible()};ol.renderer.Layer.prototype.loadImage=function(a){var b=a.getState();b!=ol.ImageState.LOADED&&b!=ol.ImageState.ERROR&&ol.events.listen(a,ol.events.EventType.CHANGE,this.handleImageChange_,this);b==ol.ImageState.IDLE&&(a.load(),b=a.getState());return b==ol.ImageState.LOADED};
ol.renderer.Layer.prototype.renderIfReadyAndVisible=function(){var a=this.getLayer();a.getVisible()&&a.getSourceState()==ol.source.State.READY&&this.changed()};ol.renderer.Layer.prototype.scheduleExpireCache=function(a,b){b.canExpireCache()&&(b=function(a,b,e){b=ol.getUid(a).toString();b in e.usedTiles&&a.expireCache(e.viewState.projection,e.usedTiles[b])}.bind(null,b),a.postRenderFunctions.push(b))};
ol.renderer.Layer.prototype.updateAttributions=function(a,b){if(b){var c;var d=0;for(c=b.length;d<c;++d){var e=b[d];a[ol.getUid(e).toString()]=e}}};ol.renderer.Layer.prototype.updateLogos=function(a,b){b=b.getLogo();void 0!==b&&("string"===typeof b?a.logos[b]="":b&&(ol.asserts.assert("string"==typeof b.href,44),ol.asserts.assert("string"==typeof b.src,45),a.logos[b.src]=b.href))};
ol.renderer.Layer.prototype.updateUsedTiles=function(a,b,c,d){b=ol.getUid(b).toString();c=c.toString();b in a?c in a[b]?a[b][c].extend(d):a[b][c]=d:(a[b]={},a[b][c]=d)};
ol.renderer.Layer.prototype.manageTilePyramid=function(a,b,c,d,e,f,g,h,k,l){var m=ol.getUid(b).toString();m in a.wantedTiles||(a.wantedTiles[m]={});var n=a.wantedTiles[m];a=a.tileQueue;var p,q,r;for(r=c.getMinZoom();r<=g;++r){var u=c.getTileRangeForExtentAndZ(f,r,u);var t=c.getResolution(r);for(p=u.minX;p<=u.maxX;++p)for(q=u.minY;q<=u.maxY;++q)if(g-r<=h){var w=b.getTile(r,p,q,d,e);w.getState()==ol.TileState.IDLE&&(n[w.getKey()]=!0,a.isKeyQueued(w.getKey())||a.enqueue([w,m,c.getTileCoordCenter(w.tileCoord),
t]));void 0!==k&&k.call(l,w)}else b.useTile(r,p,q,e)}};ol.renderer.canvas={};ol.renderer.canvas.Layer=function(a){ol.renderer.Layer.call(this,a);this.transform_=ol.transform.create()};ol.inherits(ol.renderer.canvas.Layer,ol.renderer.Layer);
ol.renderer.canvas.Layer.prototype.clip=function(a,b,c){var d=b.pixelRatio,e=b.size[0]*d,f=b.size[1]*d,g=b.viewState.rotation,h=ol.extent.getTopLeft(c),k=ol.extent.getTopRight(c),l=ol.extent.getBottomRight(c);c=ol.extent.getBottomLeft(c);ol.transform.apply(b.coordinateToPixelTransform,h);ol.transform.apply(b.coordinateToPixelTransform,k);ol.transform.apply(b.coordinateToPixelTransform,l);ol.transform.apply(b.coordinateToPixelTransform,c);a.save();ol.render.canvas.rotateAtOffset(a,-g,e/2,f/2);a.beginPath();
a.moveTo(h[0]*d,h[1]*d);a.lineTo(k[0]*d,k[1]*d);a.lineTo(l[0]*d,l[1]*d);a.lineTo(c[0]*d,c[1]*d);a.clip();ol.render.canvas.rotateAtOffset(a,g,e/2,f/2)};
ol.renderer.canvas.Layer.prototype.dispatchComposeEvent_=function(a,b,c,d){var e=this.getLayer();if(e.hasListener(a)){var f=c.size[0]*c.pixelRatio,g=c.size[1]*c.pixelRatio,h=c.viewState.rotation;ol.render.canvas.rotateAtOffset(b,-h,f/2,g/2);d=void 0!==d?d:this.getTransform(c,0);d=new ol.render.canvas.Immediate(b,c.pixelRatio,c.extent,d,c.viewState.rotation);a=new ol.render.Event(a,d,c,b,null);e.dispatchEvent(a);ol.render.canvas.rotateAtOffset(b,h,f/2,g/2)}};
ol.renderer.canvas.Layer.prototype.forEachLayerAtCoordinate=function(a,b,c,d){if(this.forEachFeatureAtCoordinate(a,b,0,ol.functions.TRUE,this))return c.call(d,this.getLayer(),null)};ol.renderer.canvas.Layer.prototype.postCompose=function(a,b,c,d){this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,a,b,d)};ol.renderer.canvas.Layer.prototype.preCompose=function(a,b,c){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,a,b,c)};
ol.renderer.canvas.Layer.prototype.dispatchRenderEvent=function(a,b,c){this.dispatchComposeEvent_(ol.render.EventType.RENDER,a,b,c)};ol.renderer.canvas.Layer.prototype.getTransform=function(a,b){var c=a.viewState,d=a.pixelRatio,e=d/c.resolution;return ol.transform.compose(this.transform_,d*a.size[0]/2,d*a.size[1]/2,e,-e,-c.rotation,-c.center[0]+b,-c.center[1])};ol.renderer.canvas.Layer.prototype.composeFrame=function(a,b,c){};ol.renderer.canvas.Layer.prototype.prepareFrame=function(a,b){};ol.renderer.canvas.IntermediateCanvas=function(a){ol.renderer.canvas.Layer.call(this,a);this.coordinateToCanvasPixelTransform=ol.transform.create();this.hitCanvasContext_=null};ol.inherits(ol.renderer.canvas.IntermediateCanvas,ol.renderer.canvas.Layer);
ol.renderer.canvas.IntermediateCanvas.prototype.composeFrame=function(a,b,c){this.preCompose(c,a);var d=this.getImage();if(d){var e=b.extent,f=void 0!==e&&!ol.extent.containsExtent(e,a.extent)&&ol.extent.intersects(e,a.extent);f&&this.clip(c,a,e);e=this.getImageTransform();var g=c.globalAlpha;c.globalAlpha=b.opacity;c.drawImage(d,0,0,+d.width,+d.height,Math.round(e[4]),Math.round(e[5]),Math.round(d.width*e[0]),Math.round(d.height*e[3]));c.globalAlpha=g;f&&c.restore()}this.postCompose(c,a,b)};
ol.renderer.canvas.IntermediateCanvas.prototype.getImage=function(){};ol.renderer.canvas.IntermediateCanvas.prototype.getImageTransform=function(){};ol.renderer.canvas.IntermediateCanvas.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e){var f=this.getLayer();return f.getSource().forEachFeatureAtCoordinate(a,b.viewState.resolution,b.viewState.rotation,c,b.skippedFeatureUids,function(a){return d.call(e,a,f)})};
ol.renderer.canvas.IntermediateCanvas.prototype.forEachLayerAtCoordinate=function(a,b,c,d){if(this.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==ol.nullFunction)return ol.renderer.canvas.Layer.prototype.forEachLayerAtCoordinate.apply(this,arguments);var e=ol.transform.apply(this.coordinateToCanvasPixelTransform,a.slice());ol.coordinate.scale(e,b.viewState.resolution/this.renderedResolution);this.hitCanvasContext_||(this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1));
this.hitCanvasContext_.clearRect(0,0,1,1);this.hitCanvasContext_.drawImage(this.getImage(),e[0],e[1],1,1,0,0,1,1);e=this.hitCanvasContext_.getImageData(0,0,1,1).data;if(0<e[3])return c.call(d,this.getLayer(),e)}};ol.renderer.canvas.ImageLayer=function(a){ol.renderer.canvas.IntermediateCanvas.call(this,a);this.image_=null;this.imageTransform_=ol.transform.create()};ol.inherits(ol.renderer.canvas.ImageLayer,ol.renderer.canvas.IntermediateCanvas);ol.renderer.canvas.ImageLayer.handles=function(a,b){return a===ol.renderer.Type.CANVAS&&b.getType()===ol.LayerType.IMAGE};ol.renderer.canvas.ImageLayer.create=function(a,b){return new ol.renderer.canvas.ImageLayer(b)};
ol.renderer.canvas.ImageLayer.prototype.getImage=function(){return this.image_?this.image_.getImage():null};ol.renderer.canvas.ImageLayer.prototype.getImageTransform=function(){return this.imageTransform_};
ol.renderer.canvas.ImageLayer.prototype.prepareFrame=function(a,b){var c=a.pixelRatio,d=a.size,e=a.viewState,f=e.center,g=e.resolution,h=this.getLayer().getSource(),k=a.viewHints;var l=a.extent;void 0!==b.extent&&(l=ol.extent.getIntersection(l,b.extent));k[ol.ViewHint.ANIMATING]||k[ol.ViewHint.INTERACTING]||ol.extent.isEmpty(l)||(b=e.projection,ol.ENABLE_RASTER_REPROJECTION||(e=h.getProjection())&&(b=e),(l=h.getImage(l,g,c,b))&&this.loadImage(l)&&(this.image_=l));if(this.image_){l=this.image_;k=l.getExtent();
b=l.getResolution();e=l.getPixelRatio();var m=c*b/(g*e);k=ol.transform.compose(this.imageTransform_,c*d[0]/2,c*d[1]/2,m,m,0,e*(k[0]-f[0])/b,e*(f[1]-k[3])/b);ol.transform.compose(this.coordinateToCanvasPixelTransform,c*d[0]/2-k[4],c*d[1]/2-k[5],c/g,-c/g,0,-f[0],-f[1]);this.updateAttributions(a.attributions,l.getAttributions());this.updateLogos(a,h);this.renderedResolution=b*c/e}return!!this.image_};ol.renderer.Map=function(a,b){ol.Disposable.call(this);this.map_=b;this.layerRenderers_={};this.layerRendererListeners_={}};ol.inherits(ol.renderer.Map,ol.Disposable);ol.renderer.Map.prototype.calculateMatrices2D=function(a){var b=a.viewState,c=a.coordinateToPixelTransform,d=a.pixelToCoordinateTransform;ol.transform.compose(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);ol.transform.invert(ol.transform.setFromArray(d,c))};
ol.renderer.Map.prototype.disposeInternal=function(){for(var a in this.layerRenderers_)this.layerRenderers_[a].dispose()};ol.renderer.Map.expireIconCache_=function(a,b){ol.style.iconImageCache.expire()};
ol.renderer.Map.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e,f,g){function h(a,c){var f=ol.getUid(a).toString(),g=b.layerStates[ol.getUid(c)].managed;if(!(f in b.skippedFeatureUids)||g)return d.call(e,a,g?c:null)}var k,l=b.viewState,m=l.resolution,n=l.projection;l=a;if(n.canWrapX()){n=n.getExtent();var p=ol.extent.getWidth(n),q=a[0];if(q<n[0]||q>n[2])l=[q+p*Math.ceil((n[0]-q)/p),a[1]]}n=b.layerStatesArray;for(p=n.length-1;0<=p;--p){var r=n[p];q=r.layer;if(ol.layer.Layer.visibleAtResolution(r,
m)&&f.call(g,q)&&(r=this.getLayerRenderer(q),q.getSource()&&(k=r.forEachFeatureAtCoordinate(q.getSource().getWrapX()?l:a,b,c,h,e)),k))return k}};ol.renderer.Map.prototype.forEachLayerAtPixel=function(a,b,c,d,e,f){};ol.renderer.Map.prototype.hasFeatureAtCoordinate=function(a,b,c,d,e){return void 0!==this.forEachFeatureAtCoordinate(a,b,c,ol.functions.TRUE,this,d,e)};
ol.renderer.Map.prototype.getLayerRenderer=function(a){var b=ol.getUid(a).toString();if(b in this.layerRenderers_)return this.layerRenderers_[b];for(var c=ol.plugins.getLayerRendererPlugins(),d,e=this.getType(),f=0,g=c.length;f<g;++f){var h=c[f];if(h.handles(e,a)){d=h.create(this,a);break}}if(d)this.layerRenderers_[b]=d,this.layerRendererListeners_[b]=ol.events.listen(d,ol.events.EventType.CHANGE,this.handleLayerRendererChange_,this);else throw Error("Unable to create renderer for layer: "+a.getType());
return d};ol.renderer.Map.prototype.getLayerRendererByKey=function(a){return this.layerRenderers_[a]};ol.renderer.Map.prototype.getLayerRenderers=function(){return this.layerRenderers_};ol.renderer.Map.prototype.getMap=function(){return this.map_};ol.renderer.Map.prototype.getType=function(){};ol.renderer.Map.prototype.handleLayerRendererChange_=function(){this.map_.render()};
ol.renderer.Map.prototype.removeLayerRendererByKey_=function(a){var b=this.layerRenderers_[a];delete this.layerRenderers_[a];ol.events.unlistenByKey(this.layerRendererListeners_[a]);delete this.layerRendererListeners_[a];return b};ol.renderer.Map.prototype.renderFrame=ol.nullFunction;ol.renderer.Map.prototype.removeUnusedLayerRenderers_=function(a,b){for(var c in this.layerRenderers_)b&&c in b.layerStates||this.removeLayerRendererByKey_(c).dispose()};
ol.renderer.Map.prototype.scheduleExpireIconCache=function(a){a.postRenderFunctions.push(ol.renderer.Map.expireIconCache_)};ol.renderer.Map.prototype.scheduleRemoveUnusedLayerRenderers=function(a){for(var b in this.layerRenderers_)if(!(b in a.layerStates)){a.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this));break}};ol.renderer.Map.sortByZIndex=function(a,b){return a.zIndex-b.zIndex};ol.renderer.canvas.Map=function(a,b){ol.renderer.Map.call(this,a,b);this.context_=ol.dom.createCanvasContext2D();this.canvas_=this.context_.canvas;this.canvas_.style.width="100%";this.canvas_.style.height="100%";this.canvas_.style.display="block";this.canvas_.className=ol.css.CLASS_UNSELECTABLE;a.insertBefore(this.canvas_,a.childNodes[0]||null);this.renderedVisible_=!0;this.transform_=ol.transform.create()};ol.inherits(ol.renderer.canvas.Map,ol.renderer.Map);
ol.renderer.canvas.Map.handles=function(a){return a===ol.renderer.Type.CANVAS};ol.renderer.canvas.Map.create=function(a,b){return new ol.renderer.canvas.Map(a,b)};ol.renderer.canvas.Map.prototype.dispatchComposeEvent_=function(a,b){var c=this.getMap(),d=this.context_;if(c.hasListener(a)){var e=b.extent,f=b.pixelRatio,g=b.viewState.rotation,h=this.getTransform(b);e=new ol.render.canvas.Immediate(d,f,e,h,g);a=new ol.render.Event(a,e,b,d,null);c.dispatchEvent(a)}};
ol.renderer.canvas.Map.prototype.getTransform=function(a){var b=a.viewState;a=a.pixelRatio/b.resolution;return ol.transform.compose(this.transform_,this.canvas_.width/2,this.canvas_.height/2,a,-a,-b.rotation,-b.center[0],-b.center[1])};ol.renderer.canvas.Map.prototype.getType=function(){return ol.renderer.Type.CANVAS};
ol.renderer.canvas.Map.prototype.renderFrame=function(a){if(a){var b=this.context_,c=a.pixelRatio,d=Math.round(a.size[0]*c),e=Math.round(a.size[1]*c);this.canvas_.width!=d||this.canvas_.height!=e?(this.canvas_.width=d,this.canvas_.height=e):b.clearRect(0,0,d,e);c=a.viewState.rotation;this.calculateMatrices2D(a);this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,a);var f=a.layerStatesArray;ol.array.stableSort(f,ol.renderer.Map.sortByZIndex);c&&(b.save(),ol.render.canvas.rotateAtOffset(b,c,d/
2,e/2));d=a.viewState.resolution;var g;e=0;for(g=f.length;e<g;++e){var h=f[e];var k=h.layer;k=this.getLayerRenderer(k);ol.layer.Layer.visibleAtResolution(h,d)&&h.sourceState==ol.source.State.READY&&k.prepareFrame(a,h)&&k.composeFrame(a,h,b)}c&&b.restore();this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,a);this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0);this.scheduleRemoveUnusedLayerRenderers(a);this.scheduleExpireIconCache(a)}else this.renderedVisible_&&
(this.canvas_.style.display="none",this.renderedVisible_=!1)};ol.renderer.canvas.Map.prototype.forEachLayerAtPixel=function(a,b,c,d,e,f){var g=b.viewState.resolution,h=b.layerStatesArray,k=h.length;a=ol.transform.apply(b.pixelToCoordinateTransform,a.slice());for(--k;0<=k;--k){var l=h[k];var m=l.layer;if(ol.layer.Layer.visibleAtResolution(l,g)&&e.call(f,m)&&(l=this.getLayerRenderer(m).forEachLayerAtCoordinate(a,b,c,d)))return l}};ol.renderer.canvas.TileLayer=function(a){ol.renderer.canvas.IntermediateCanvas.call(this,a);this.context=null===this.context?null:ol.dom.createCanvasContext2D();this.renderedExtent_=null;this.renderedTiles=[];this.tmpExtent=ol.extent.createEmpty();this.tmpTileRange_=new ol.TileRange(0,0,0,0);this.imageTransform_=ol.transform.create();this.zDirection=0};ol.inherits(ol.renderer.canvas.TileLayer,ol.renderer.canvas.IntermediateCanvas);
ol.renderer.canvas.TileLayer.handles=function(a,b){return a===ol.renderer.Type.CANVAS&&b.getType()===ol.LayerType.TILE};ol.renderer.canvas.TileLayer.create=function(a,b){return new ol.renderer.canvas.TileLayer(b)};ol.renderer.canvas.TileLayer.prototype.isDrawableTile_=function(a){a=a.getState();var b=this.getLayer().getUseInterimTilesOnError();return a==ol.TileState.LOADED||a==ol.TileState.EMPTY||a==ol.TileState.ERROR&&!b};
ol.renderer.canvas.TileLayer.prototype.prepareFrame=function(a,b){var c=a.pixelRatio,d=a.size,e=a.viewState,f=e.projection,g=e.resolution;e=e.center;var h=this.getLayer(),k=h.getSource(),l=k.getRevision(),m=k.getTileGridForProjection(f),n=m.getZForResolution(g,this.zDirection),p=m.getResolution(n),q=Math.round(g/p)||1,r=a.extent;void 0!==b.extent&&(r=ol.extent.getIntersection(r,b.extent));if(ol.extent.isEmpty(r))return!1;var u=m.getTileRangeForExtentAndZ(r,n),t=m.getTileRangeExtent(n,u),w=k.getTilePixelRatio(c),
v={};v[n]={};var A=this.createLoadedTileFinder(k,f,v),y=this.tmpExtent,x=this.tmpTileRange_,B=!1,z,D;for(z=u.minX;z<=u.maxX;++z)for(D=u.minY;D<=u.maxY;++D){var C=k.getTile(n,z,D,c,f);C.getState()==ol.TileState.ERROR&&(h.getUseInterimTilesOnError()?0<h.getPreload()&&(B=!0):C.setState(ol.TileState.LOADED));this.isDrawableTile_(C)||(C=C.getInterimTile());if(this.isDrawableTile_(C)){var F=ol.getUid(this);if(C.getState()==ol.TileState.LOADED){v[n][C.tileCoord.toString()]=C;var G=C.inTransition(F);B||!G&&
-1!==this.renderedTiles.indexOf(C)||(B=!0)}if(1===C.getAlpha(F,a.time))continue}F=m.getTileCoordChildTileRange(C.tileCoord,x,y);G=!1;F&&(G=A(n+1,F));G||m.forEachTileCoordParentTileRange(C.tileCoord,A,null,x,y)}C=p*c/w*q;z=a.viewHints;z=z[ol.ViewHint.ANIMATING]||z[ol.ViewHint.INTERACTING];if(!(this.renderedResolution&&16<Date.now()-a.time&&z||!B&&this.renderedExtent_&&ol.extent.containsExtent(this.renderedExtent_,r)&&this.renderedRevision==l&&q==this.oversampling_&&(z||C==this.renderedResolution))){if(C=
this.context)D=k.getTilePixelSize(n,c,f),z=Math.round(u.getWidth()*D[0]/q),D=Math.round(u.getHeight()*D[1]/q),B=C.canvas,B.width!=z||B.height!=D?(this.oversampling_=q,B.width=z,B.height=D):(this.renderedExtent_&&!ol.extent.equals(t,this.renderedExtent_)&&C.clearRect(0,0,z,D),q=this.oversampling_);this.renderedTiles.length=0;B=Object.keys(v).map(Number);B.sort(function(a,b){return a===n?1:b===n?-1:a>b?1:a<b?-1:0});F=0;for(G=B.length;F<G;++F){x=B[F];A=k.getTilePixelSize(x,c,f);C=m.getResolution(x);
var E=C/p;var I=w*k.getGutter(f);var H=v[x];for(var J in H){C=H[J];D=m.getTileCoordExtent(C.getTileCoord(),y);z=(D[0]-t[0])/p*w/q;D=(t[3]-D[3])/p*w/q;var K=A[0]*E/q;var L=A[1]*E/q;this.drawTileImage(C,a,b,z,D,K,L,I,n===x);this.renderedTiles.push(C)}}this.renderedRevision=l;this.renderedResolution=p*c/w*q;this.renderedExtent_=t}b=this.renderedResolution/g;b=ol.transform.compose(this.imageTransform_,c*d[0]/2,c*d[1]/2,b,b,0,(this.renderedExtent_[0]-e[0])/this.renderedResolution*c,(e[1]-this.renderedExtent_[3])/
this.renderedResolution*c);ol.transform.compose(this.coordinateToCanvasPixelTransform,c*d[0]/2-b[4],c*d[1]/2-b[5],c/g,-c/g,0,-e[0],-e[1]);this.updateUsedTiles(a.usedTiles,k,n,u);this.manageTilePyramid(a,k,m,c,f,r,n,h.getPreload());this.scheduleExpireCache(a,k);this.updateLogos(a,k);return 0<this.renderedTiles.length};
ol.renderer.canvas.TileLayer.prototype.drawTileImage=function(a,b,c,d,e,f,g,h,k){if(c=a.getImage(this.getLayer())){var l=ol.getUid(this),m=k?a.getAlpha(l,b.time):1;1!==m||this.getLayer().getSource().getOpaque(b.viewState.projection)||this.context.clearRect(d,e,f,g);var n=m!==this.context.globalAlpha;n&&(this.context.save(),this.context.globalAlpha=m);this.context.drawImage(c,h,h,c.width-2*h,c.height-2*h,d,e,f,g);n&&this.context.restore();1!==m?b.animate=!0:k&&a.endTransition(l)}};
ol.renderer.canvas.TileLayer.prototype.getImage=function(){var a=this.context;return a?a.canvas:null};ol.renderer.canvas.TileLayer.prototype.getImageTransform=function(){return this.imageTransform_};ol.renderer.canvas.VectorLayer=function(a){ol.renderer.canvas.Layer.call(this,a);this.dirty_=!1;this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=ol.extent.createEmpty();this.replayGroup_=this.renderedRenderOrder_=null;this.context_=ol.dom.createCanvasContext2D()};ol.inherits(ol.renderer.canvas.VectorLayer,ol.renderer.canvas.Layer);ol.renderer.canvas.VectorLayer.handles=function(a,b){return a===ol.renderer.Type.CANVAS&&b.getType()===ol.LayerType.VECTOR};
ol.renderer.canvas.VectorLayer.create=function(a,b){return new ol.renderer.canvas.VectorLayer(b)};
ol.renderer.canvas.VectorLayer.prototype.composeFrame=function(a,b,c){var d=a.extent,e=a.pixelRatio,f=b.managed?a.skippedFeatureUids:{},g=a.viewState,h=g.projection,k=g.rotation,l=h.getExtent(),m=this.getLayer().getSource(),n=this.getTransform(a,0);this.preCompose(c,a,n);var p=b.extent;(g=void 0!==p)&&this.clip(c,a,p);var q=this.replayGroup_;if(q&&!q.isEmpty()){var r=this.getLayer(),u=p=0,t=1!==b.opacity;r=r.hasListener(ol.render.EventType.RENDER);if(t||r){var w=c.canvas.width;var v=c.canvas.height;
if(k){var A=Math.round(Math.sqrt(w*w+v*v));p=(A-w)/2;u=(A-v)/2;w=v=A}this.context_.canvas.width=w;this.context_.canvas.height=v;w=this.context_}else w=c;v=w.globalAlpha;t||(w.globalAlpha=b.opacity);w!=c&&w.translate(p,u);A=a.size[0]*e;e*=a.size[1];ol.render.canvas.rotateAtOffset(w,-k,A/2,e/2);q.replay(w,n,k,f);if(m.getWrapX()&&h.canWrapX()&&!ol.extent.containsExtent(l,d)){h=d[0];m=ol.extent.getWidth(l);for(var y=0;h<l[0];)--y,n=m*y,n=this.getTransform(a,n),q.replay(w,n,k,f),h+=m;y=0;for(h=d[2];h>
l[2];)++y,n=m*y,n=this.getTransform(a,n),q.replay(w,n,k,f),h-=m;n=this.getTransform(a,0)}ol.render.canvas.rotateAtOffset(w,k,A/2,e/2);w!=c&&(r&&this.dispatchRenderEvent(w,a,n),t?(d=c.globalAlpha,c.globalAlpha=b.opacity,c.drawImage(w.canvas,-p,-u),c.globalAlpha=d):c.drawImage(w.canvas,-p,-u),w.translate(-p,-u));t||(w.globalAlpha=v)}g&&c.restore();this.postCompose(c,a,b,n)};
ol.renderer.canvas.VectorLayer.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e){if(this.replayGroup_){var f=b.viewState.resolution;b=b.viewState.rotation;var g=this.getLayer(),h={};return this.replayGroup_.forEachFeatureAtCoordinate(a,f,b,c,{},function(a){var b=ol.getUid(a).toString();if(!(b in h))return h[b]=!0,d.call(e,a,g)})}};ol.renderer.canvas.VectorLayer.prototype.handleStyleImageChange_=function(a){this.renderIfReadyAndVisible()};
ol.renderer.canvas.VectorLayer.prototype.prepareFrame=function(a,b){var c=this.getLayer();b=c.getSource();this.updateAttributions(a.attributions,b.getAttributions());this.updateLogos(a,b);var d=a.viewHints[ol.ViewHint.ANIMATING],e=a.viewHints[ol.ViewHint.INTERACTING],f=c.getUpdateWhileAnimating(),g=c.getUpdateWhileInteracting();if(!this.dirty_&&!f&&d||!g&&e)return!0;f=a.extent;var h=a.viewState;g=h.projection;var k=h.resolution,l=a.pixelRatio;d=c.getRevision();var m=c.getRenderBuffer();e=c.getRenderOrder();
void 0===e&&(e=ol.renderer.vector.defaultOrder);f=ol.extent.buffer(f,m*k);m=h.projection.getExtent();b.getWrapX()&&h.projection.canWrapX()&&!ol.extent.containsExtent(m,a.extent)&&(a=ol.extent.getWidth(m),a=Math.max(ol.extent.getWidth(f)/2,a),f[0]=m[0]-a,f[2]=m[2]+a);if(!this.dirty_&&this.renderedResolution_==k&&this.renderedRevision_==d&&this.renderedRenderOrder_==e&&ol.extent.containsExtent(this.renderedExtent_,f))return!0;this.replayGroup_=null;this.dirty_=!1;var n=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(k,
l),f,k,l,b.getOverlaps(),c.getRenderBuffer());b.loadFeatures(f,k,g);a=function(a){var b=a.getStyleFunction();if(b)var d=b.call(a,k);else(b=c.getStyleFunction())&&(d=b(a,k));d&&(a=this.renderFeature(a,k,l,d,n),this.dirty_=this.dirty_||a)}.bind(this);if(e){var p=[];b.forEachFeatureInExtent(f,function(a){p.push(a)},this);p.sort(e);b=0;for(g=p.length;b<g;++b)a(p[b])}else b.forEachFeatureInExtent(f,a,this);n.finish();this.renderedResolution_=k;this.renderedRevision_=d;this.renderedRenderOrder_=e;this.renderedExtent_=
f;this.replayGroup_=n;return!0};ol.renderer.canvas.VectorLayer.prototype.renderFeature=function(a,b,c,d,e){if(!d)return!1;var f=!1;if(Array.isArray(d))for(var g=0,h=d.length;g<h;++g)f=ol.renderer.vector.renderFeature(e,a,d[g],ol.renderer.vector.getSquaredTolerance(b,c),this.handleStyleImageChange_,this)||f;else f=ol.renderer.vector.renderFeature(e,a,d,ol.renderer.vector.getSquaredTolerance(b,c),this.handleStyleImageChange_,this)||f;return f};ol.layer.VectorTileRenderType={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};ol.renderer.canvas.VectorTileLayer=function(a){this.context=null;ol.renderer.canvas.TileLayer.call(this,a);this.dirty_=!1;this.tmpTransform_=ol.transform.create();this.zDirection=a.getRenderMode()==ol.layer.VectorTileRenderType.VECTOR?1:0};ol.inherits(ol.renderer.canvas.VectorTileLayer,ol.renderer.canvas.TileLayer);ol.renderer.canvas.VectorTileLayer.handles=function(a,b){return a===ol.renderer.Type.CANVAS&&b.getType()===ol.LayerType.VECTOR_TILE};
ol.renderer.canvas.VectorTileLayer.create=function(a,b){return new ol.renderer.canvas.VectorTileLayer(b)};ol.renderer.canvas.VectorTileLayer.IMAGE_REPLAYS={image:[ol.render.ReplayType.POLYGON,ol.render.ReplayType.CIRCLE,ol.render.ReplayType.LINE_STRING,ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT],hybrid:[ol.render.ReplayType.POLYGON,ol.render.ReplayType.LINE_STRING]};
ol.renderer.canvas.VectorTileLayer.VECTOR_REPLAYS={image:[ol.render.ReplayType.DEFAULT],hybrid:[ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT,ol.render.ReplayType.DEFAULT],vector:ol.render.replay.ORDER};
ol.renderer.canvas.VectorTileLayer.prototype.prepareFrame=function(a,b){var c=this.getLayer(),d=c.getRevision();this.renderedLayerRevision_!=d&&(this.renderedTiles.length=0,c=c.getRenderMode(),this.context||c==ol.layer.VectorTileRenderType.VECTOR||(this.context=ol.dom.createCanvasContext2D()),this.context&&c==ol.layer.VectorTileRenderType.VECTOR&&(this.context=null));this.renderedLayerRevision_=d;return ol.renderer.canvas.TileLayer.prototype.prepareFrame.apply(this,arguments)};
ol.renderer.canvas.VectorTileLayer.prototype.createReplayGroup_=function(a,b){var c=this.getLayer(),d=b.pixelRatio;b=b.viewState.projection;var e=c.getRevision(),f=c.getRenderOrder()||null,g=a.getReplayState(c);if(g.dirty||g.renderedRevision!=e||g.renderedRenderOrder!=f){var h=c.getSource(),k=h.getTileGrid(),l=h.getTileGridForProjection(b),m=l.getResolution(a.tileCoord[0]);l=l.getTileCoordExtent(a.wrappedTileCoord);for(var n=0,p=a.tileKeys.length;n<p;++n){var q=a.getTile(a.tileKeys[n]);if(q.getState()!=
ol.TileState.ERROR){var r=k.getTileCoordExtent(q.tileCoord),u=ol.extent.getIntersection(l,r),t=q.getProjection(),w=!1;ol.proj.equivalent(b,t)||(w=!0,q.setProjection(b));g.dirty=!1;u=new ol.render.canvas.ReplayGroup(0,u,m,d,h.getOverlaps(),c.getRenderBuffer());var v=ol.renderer.vector.getSquaredTolerance(m,d),A=q.getFeatures();f&&f!==g.renderedRenderOrder&&A.sort(f);for(var y,x=0,B=A.length;x<B;++x){y=A[x];w&&(t.getUnits()==ol.proj.Units.TILE_PIXELS&&(t.setWorldExtent(r),t.setExtent(q.getExtent())),
y.getGeometry().transform(t,b));var z=void 0,D=y.getStyleFunction();D?z=D.call(y,m):(D=c.getStyleFunction())&&(z=D(y,m));z&&(z=this.renderFeature(y,v,z,u),this.dirty_=this.dirty_||z,g.dirty=g.dirty||z)}u.finish();q.setReplayGroup(c,a.tileCoord.toString(),u)}}g.renderedRevision=e;g.renderedRenderOrder=f}};
ol.renderer.canvas.VectorTileLayer.prototype.drawTileImage=function(a,b,c,d,e,f,g,h,k){var l=a;this.createReplayGroup_(l,b);this.context&&(this.renderTileImage_(l,b,c),ol.renderer.canvas.TileLayer.prototype.drawTileImage.apply(this,arguments))};
ol.renderer.canvas.VectorTileLayer.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e){var f=b.viewState.resolution,g=b.viewState.rotation;c=void 0==c?0:c;var h=this.getLayer(),k={},l=this.renderedTiles;b=h.getSource().getTileGridForProjection(b.viewState.projection);var m;var n=0;for(m=l.length;n<m;++n){var p=l[n];var q=p.tileCoord;q=b.getTileCoordExtent(q,this.tmpExtent);var r=ol.extent.buffer(q,c*f,r);if(ol.extent.containsCoordinate(r,a)){q=0;for(var u=p.tileKeys.length;q<u;++q){var t=p.getTile(p.tileKeys[q]);
if(t.getState()!=ol.TileState.ERROR){t=t.getReplayGroup(h,p.tileCoord.toString());var w=w||t.forEachFeatureAtCoordinate(a,f,g,c,{},function(a){var b=ol.getUid(a).toString();if(!(b in k))return k[b]=!0,d.call(e,a,h)})}}}}return w};
ol.renderer.canvas.VectorTileLayer.prototype.getReplayTransform_=function(a,b){var c=this.getLayer().getSource().getTileGrid(),d=a.tileCoord;a=c.getResolution(d[0]);var e=b.viewState,f=b.pixelRatio,g=e.resolution/f;d=c.getTileCoordExtent(d,this.tmpExtent);c=e.center;d=ol.extent.getTopLeft(d);b=b.size;return ol.transform.compose(this.tmpTransform_,Math.round(f*b[0]/2),Math.round(f*b[1]/2),a/g,a/g,e.rotation,(d[0]-c[0])/a,(c[1]-d[1])/a)};
ol.renderer.canvas.VectorTileLayer.prototype.handleStyleImageChange_=function(a){this.renderIfReadyAndVisible()};
ol.renderer.canvas.VectorTileLayer.prototype.postCompose=function(a,b,c){var d=this.getLayer(),e=d.getSource(),f=d.getRenderMode(),g=ol.renderer.canvas.VectorTileLayer.VECTOR_REPLAYS[f],h=b.pixelRatio,k=b.viewState.rotation,l=b.size,m=Math.round(h*l[0]/2);h=Math.round(h*l[1]/2);l=this.renderedTiles;e=e.getTileGridForProjection(b.viewState.projection);for(var n=[],p=[],q=l.length-1;0<=q;--q){var r=l[q];if(r.getState()!=ol.TileState.ABORT)for(var u=r.tileCoord,t=e.getTileCoordExtent(u)[0]-e.getTileCoordExtent(r.wrappedTileCoord)[0],
w=0,v=r.tileKeys.length;w<v;++w){var A=r.getTile(r.tileKeys[w]);if(A.getState()!=ol.TileState.ERROR){var y=A.getReplayGroup(d,u.toString());if(f==ol.layer.VectorTileRenderType.VECTOR||y.hasReplays(g)){A=A.tileCoord[0];var x=this.getTransform(b,t),B=y.getClipCoords(x);a.save();a.globalAlpha=c.opacity;ol.render.canvas.rotateAtOffset(a,-k,m,h);for(var z=0,D=n.length;z<D;++z){var C=n[z];A<p[z]&&(a.beginPath(),a.moveTo(B[0],B[1]),a.lineTo(B[2],B[3]),a.lineTo(B[4],B[5]),a.lineTo(B[6],B[7]),a.moveTo(C[6],
C[7]),a.lineTo(C[4],C[5]),a.lineTo(C[2],C[3]),a.lineTo(C[0],C[1]),a.clip())}y.replay(a,x,k,{},g);a.restore();n.push(B);p.push(A)}}}}ol.renderer.canvas.TileLayer.prototype.postCompose.apply(this,arguments)};
ol.renderer.canvas.VectorTileLayer.prototype.renderFeature=function(a,b,c,d){if(!c)return!1;var e=!1;if(Array.isArray(c))for(var f=0,g=c.length;f<g;++f)e=ol.renderer.vector.renderFeature(d,a,c[f],b,this.handleStyleImageChange_,this)||e;else e=ol.renderer.vector.renderFeature(d,a,c,b,this.handleStyleImageChange_,this)||e;return e};
ol.renderer.canvas.VectorTileLayer.prototype.renderTileImage_=function(a,b,c){c=this.getLayer();var d=a.getReplayState(c),e=c.getRevision(),f=ol.renderer.canvas.VectorTileLayer.IMAGE_REPLAYS[c.getRenderMode()];if(f&&d.renderedTileRevision!==e){d.renderedTileRevision=e;var g=a.wrappedTileCoord,h=g[0];d=b.pixelRatio;var k=c.getSource(),l=k.getTileGridForProjection(b.viewState.projection);e=l.getResolution(h);var m=a.getContext(c);b=k.getTilePixelSize(h,d,b.viewState.projection);m.canvas.width=b[0];
m.canvas.height=b[1];b=l.getTileCoordExtent(g);g=0;for(l=a.tileKeys.length;g<l;++g)if(h=a.getTile(a.tileKeys[g]),h.getState()!=ol.TileState.ERROR){k=d/e;var n=ol.transform.reset(this.tmpTransform_);ol.transform.scale(n,k,-k);ol.transform.translate(n,-b[0],-b[3]);h.getReplayGroup(c,a.tileCoord.toString()).replay(m,n,0,{},f,!0)}}};ol.webgl.Shader=function(a){this.source_=a};ol.webgl.Shader.prototype.getType=function(){};ol.webgl.Shader.prototype.getSource=function(){return this.source_};ol.webgl.Shader.prototype.isAnimated=ol.functions.FALSE;ol.webgl.Fragment=function(a){ol.webgl.Shader.call(this,a)};ol.inherits(ol.webgl.Fragment,ol.webgl.Shader);ol.webgl.Fragment.prototype.getType=function(){return ol.webgl.FRAGMENT_SHADER};ol.webgl.Vertex=function(a){ol.webgl.Shader.call(this,a)};ol.inherits(ol.webgl.Vertex,ol.webgl.Shader);ol.webgl.Vertex.prototype.getType=function(){return ol.webgl.VERTEX_SHADER};ol.render.webgl={};ol.render.webgl.circlereplay={};ol.render.webgl.circlereplay.defaultshader={};
ol.render.webgl.circlereplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}");
ol.render.webgl.circlereplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":
"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;//Until we get gl_VertexID in WebGL,we store an instruction.if(f==0.0){//Offsetting the edges of the triangle by lineWidth/2 is necessary,however//we should also leave some space for the antialiasing,thus we offset by lineWidth.offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");ol.render.webgl.circlereplay.defaultshader.Locations=function(a,b){this.u_projectionMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_projectionMatrix":"h");this.u_offsetScaleMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i");this.u_offsetRotateMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j");this.u_lineWidth=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_lineWidth":"k");this.u_pixelRatio=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_pixelRatio":"l");this.u_opacity=
a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_opacity":"m");this.u_fillColor=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_fillColor":"n");this.u_strokeColor=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_strokeColor":"o");this.u_size=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_size":"p");this.a_position=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_position":"e");this.a_instruction=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_instruction":"f");this.a_radius=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_radius":"g")};ol.vec={};ol.vec.Mat4={};ol.vec.Mat4.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};ol.vec.Mat4.fromTransform=function(a,b){a[0]=b[0];a[1]=b[1];a[4]=b[2];a[5]=b[3];a[12]=b[4];a[13]=b[5];return a};ol.render.webgl.Replay=function(a,b){ol.render.VectorContext.call(this);this.tolerance=a;this.maxExtent=b;this.origin=ol.extent.getCenter(b);this.projectionMatrix_=ol.transform.create();this.offsetRotateMatrix_=ol.transform.create();this.offsetScaleMatrix_=ol.transform.create();this.tmpMat4_=ol.vec.Mat4.create();this.indices=[];this.indicesBuffer=null;this.startIndices=[];this.startIndicesFeature=[];this.vertices=[];this.verticesBuffer=null;this.lineStringReplay=void 0};
ol.inherits(ol.render.webgl.Replay,ol.render.VectorContext);ol.render.webgl.Replay.prototype.getDeleteResourcesFunction=function(a){};ol.render.webgl.Replay.prototype.finish=function(a){};ol.render.webgl.Replay.prototype.setUpProgram=function(a,b,c,d){};ol.render.webgl.Replay.prototype.shutDownProgram=function(a,b){};ol.render.webgl.Replay.prototype.drawReplay=function(a,b,c,d){};ol.render.webgl.Replay.prototype.drawHitDetectionReplayOneByOne=function(a,b,c,d,e){};
ol.render.webgl.Replay.prototype.drawHitDetectionReplay=function(a,b,c,d,e,f){return e?this.drawHitDetectionReplayOneByOne(a,b,c,d,f):this.drawHitDetectionReplayAll(a,b,c,d)};ol.render.webgl.Replay.prototype.drawHitDetectionReplayAll=function(a,b,c,d){a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);this.drawReplay(a,b,c,!0);if(a=d(null))return a};
ol.render.webgl.Replay.prototype.replay=function(a,b,c,d,e,f,g,h,k,l,m){var n=a.getGL();if(this.lineStringReplay){var p=n.isEnabled(n.STENCIL_TEST);var q=n.getParameter(n.STENCIL_FUNC);var r=n.getParameter(n.STENCIL_VALUE_MASK);var u=n.getParameter(n.STENCIL_REF);var t=n.getParameter(n.STENCIL_WRITEMASK);var w=n.getParameter(n.STENCIL_FAIL);var v=n.getParameter(n.STENCIL_PASS_DEPTH_PASS);var A=n.getParameter(n.STENCIL_PASS_DEPTH_FAIL);n.enable(n.STENCIL_TEST);n.clear(n.STENCIL_BUFFER_BIT);n.stencilMask(255);
n.stencilFunc(n.ALWAYS,1,255);n.stencilOp(n.KEEP,n.KEEP,n.REPLACE);this.lineStringReplay.replay(a,b,c,d,e,f,g,h,k,l,m);n.stencilMask(0);n.stencilFunc(n.NOTEQUAL,1,255)}a.bindBuffer(ol.webgl.ARRAY_BUFFER,this.verticesBuffer);a.bindBuffer(ol.webgl.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);f=this.setUpProgram(n,a,e,f);var y=ol.transform.reset(this.projectionMatrix_);ol.transform.scale(y,2/(c*e[0]),2/(c*e[1]));ol.transform.rotate(y,-d);ol.transform.translate(y,-(b[0]-this.origin[0]),-(b[1]-this.origin[1]));
b=ol.transform.reset(this.offsetScaleMatrix_);ol.transform.scale(b,2/e[0],2/e[1]);e=ol.transform.reset(this.offsetRotateMatrix_);0!==d&&ol.transform.rotate(e,-d);n.uniformMatrix4fv(f.u_projectionMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,y));n.uniformMatrix4fv(f.u_offsetScaleMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,b));n.uniformMatrix4fv(f.u_offsetRotateMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,e));n.uniform1f(f.u_opacity,g);var x;void 0===k?this.drawReplay(n,a,h,!1):x=this.drawHitDetectionReplay(n,
a,h,k,l,m);this.shutDownProgram(n,f);this.lineStringReplay&&(p||n.disable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),n.stencilFunc(q,u,r),n.stencilMask(t),n.stencilOp(w,A,v));return x};ol.render.webgl.Replay.prototype.drawElements=function(a,b,c,d){a.drawElements(ol.webgl.TRIANGLES,d-c,b.hasOESElementIndexUint?ol.webgl.UNSIGNED_INT:ol.webgl.UNSIGNED_SHORT,c*(b.hasOESElementIndexUint?4:2))};ol.render.webgl.defaultFont="10px sans-serif";ol.render.webgl.defaultFillStyle=[0,0,0,1];ol.render.webgl.defaultLineCap="round";ol.render.webgl.defaultLineDash=[];ol.render.webgl.defaultLineDashOffset=0;ol.render.webgl.defaultLineJoin="round";ol.render.webgl.defaultMiterLimit=10;ol.render.webgl.defaultStrokeStyle=[0,0,0,1];ol.render.webgl.defaultTextAlign=.5;ol.render.webgl.defaultTextBaseline=.5;ol.render.webgl.defaultLineWidth=1;
ol.render.webgl.triangleIsCounterClockwise=function(a,b,c,d,e,f){a=(c-a)*(f-b)-(e-a)*(d-b);return a<=ol.render.webgl.EPSILON&&a>=-ol.render.webgl.EPSILON?void 0:0<a};ol.render.webgl.EPSILON=Number.EPSILON||2.220446049250313E-16;ol.webgl.Buffer=function(a,b){this.arr_=void 0!==a?a:[];this.usage_=void 0!==b?b:ol.webgl.Buffer.Usage_.STATIC_DRAW};ol.webgl.Buffer.prototype.getArray=function(){return this.arr_};ol.webgl.Buffer.prototype.getUsage=function(){return this.usage_};ol.webgl.Buffer.Usage_={STATIC_DRAW:ol.webgl.STATIC_DRAW,STREAM_DRAW:ol.webgl.STREAM_DRAW,DYNAMIC_DRAW:ol.webgl.DYNAMIC_DRAW};ol.render.webgl.CircleReplay=function(a,b){ol.render.webgl.Replay.call(this,a,b);this.defaultLocations_=null;this.styles_=[];this.styleIndices_=[];this.radius_=0;this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}};ol.inherits(ol.render.webgl.CircleReplay,ol.render.webgl.Replay);
ol.render.webgl.CircleReplay.prototype.drawCoordinates_=function(a,b,c,d){for(var e=this.vertices.length,f=this.indices.length,g=e/4;b<c;b+=d)this.vertices[e++]=a[b],this.vertices[e++]=a[b+1],this.vertices[e++]=0,this.vertices[e++]=this.radius_,this.vertices[e++]=a[b],this.vertices[e++]=a[b+1],this.vertices[e++]=1,this.vertices[e++]=this.radius_,this.vertices[e++]=a[b],this.vertices[e++]=a[b+1],this.vertices[e++]=2,this.vertices[e++]=this.radius_,this.vertices[e++]=a[b],this.vertices[e++]=a[b+1],
this.vertices[e++]=3,this.vertices[e++]=this.radius_,this.indices[f++]=g,this.indices[f++]=g+1,this.indices[f++]=g+2,this.indices[f++]=g+2,this.indices[f++]=g+3,this.indices[f++]=g,g+=4};
ol.render.webgl.CircleReplay.prototype.drawCircle=function(a,b){var c=a.getRadius(),d=a.getStride();c?(this.startIndices.push(this.indices.length),this.startIndicesFeature.push(b),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=c,a=a.getFlatCoordinates(),a=ol.geom.flat.transform.translate(a,0,2,d,-this.origin[0],-this.origin[1]),this.drawCoordinates_(a,0,2,d)):this.state_.changed&&(this.styles_.pop(),this.styles_.length&&(d=this.styles_[this.styles_.length-
1],this.state_.fillColor=d[0],this.state_.strokeColor=d[1],this.state_.lineWidth=d[2],this.state_.changed=!1))};ol.render.webgl.CircleReplay.prototype.finish=function(a){this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);this.startIndices.push(this.indices.length);0===this.styleIndices_.length&&0<this.styles_.length&&(this.styles_=[]);this.indices=this.vertices=null};
ol.render.webgl.CircleReplay.prototype.getDeleteResourcesFunction=function(a){var b=this.verticesBuffer,c=this.indicesBuffer;return function(){a.deleteBuffer(b);a.deleteBuffer(c)}};
ol.render.webgl.CircleReplay.prototype.setUpProgram=function(a,b,c,d){var e=b.getProgram(ol.render.webgl.circlereplay.defaultshader.fragment,ol.render.webgl.circlereplay.defaultshader.vertex);if(this.defaultLocations_)var f=this.defaultLocations_;else this.defaultLocations_=f=new ol.render.webgl.circlereplay.defaultshader.Locations(a,e);b.useProgram(e);a.enableVertexAttribArray(f.a_position);a.vertexAttribPointer(f.a_position,2,ol.webgl.FLOAT,!1,16,0);a.enableVertexAttribArray(f.a_instruction);a.vertexAttribPointer(f.a_instruction,
1,ol.webgl.FLOAT,!1,16,8);a.enableVertexAttribArray(f.a_radius);a.vertexAttribPointer(f.a_radius,1,ol.webgl.FLOAT,!1,16,12);a.uniform2fv(f.u_size,c);a.uniform1f(f.u_pixelRatio,d);return f};ol.render.webgl.CircleReplay.prototype.shutDownProgram=function(a,b){a.disableVertexAttribArray(b.a_position);a.disableVertexAttribArray(b.a_instruction);a.disableVertexAttribArray(b.a_radius)};
ol.render.webgl.CircleReplay.prototype.drawReplay=function(a,b,c,d){if(ol.obj.isEmpty(c)){var e=this.startIndices[this.startIndices.length-1];for(c=this.styleIndices_.length-1;0<=c;--c){d=this.styleIndices_[c];var f=this.styles_[c];this.setFillStyle_(a,f[0]);this.setStrokeStyle_(a,f[1],f[2]);this.drawElements(a,b,d,e);e=d}}else this.drawReplaySkipping_(a,b,c)};
ol.render.webgl.CircleReplay.prototype.drawHitDetectionReplayOneByOne=function(a,b,c,d,e){var f,g;var h=this.startIndices.length-2;var k=this.startIndices[h+1];for(f=this.styleIndices_.length-1;0<=f;--f){var l=this.styles_[f];this.setFillStyle_(a,l[0]);this.setStrokeStyle_(a,l[1],l[2]);for(g=this.styleIndices_[f];0<=h&&this.startIndices[h]>=g;){l=this.startIndices[h];var m=this.startIndicesFeature[h];var n=ol.getUid(m).toString();if(void 0===c[n]&&m.getGeometry()&&(void 0===e||ol.extent.intersects(e,
m.getGeometry().getExtent()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),this.drawElements(a,b,l,k),k=d(m)))return k;h--;k=l}}};
ol.render.webgl.CircleReplay.prototype.drawReplaySkipping_=function(a,b,c){var d,e;var f=this.startIndices.length-2;var g=e=this.startIndices[f+1];for(d=this.styleIndices_.length-1;0<=d;--d){var h=this.styles_[d];this.setFillStyle_(a,h[0]);this.setStrokeStyle_(a,h[1],h[2]);for(h=this.styleIndices_[d];0<=f&&this.startIndices[f]>=h;){var k=this.startIndices[f];var l=this.startIndicesFeature[f];l=ol.getUid(l).toString();c[l]&&(e!==g&&this.drawElements(a,b,e,g),g=k);f--;e=k}e!==g&&this.drawElements(a,
b,e,g);e=g=h}};ol.render.webgl.CircleReplay.prototype.setFillStyle_=function(a,b){a.uniform4fv(this.defaultLocations_.u_fillColor,b)};ol.render.webgl.CircleReplay.prototype.setStrokeStyle_=function(a,b,c){a.uniform4fv(this.defaultLocations_.u_strokeColor,b);a.uniform1f(this.defaultLocations_.u_lineWidth,c)};
ol.render.webgl.CircleReplay.prototype.setFillStrokeStyle=function(a,b){if(b){var c=b.getLineDash();this.state_.lineDash=c?c:ol.render.webgl.defaultLineDash;c=b.getLineDashOffset();this.state_.lineDashOffset=c?c:ol.render.webgl.defaultLineDashOffset;c=b.getColor();c=c instanceof CanvasGradient||c instanceof CanvasPattern?ol.render.webgl.defaultStrokeStyle:ol.color.asArray(c).map(function(a,b){return 3!=b?a/255:a})||ol.render.webgl.defaultStrokeStyle;b=b.getWidth();b=void 0!==b?b:ol.render.webgl.defaultLineWidth}else c=
[0,0,0,0],b=0;a=a?a.getColor():[0,0,0,0];a=a instanceof CanvasGradient||a instanceof CanvasPattern?ol.render.webgl.defaultFillStyle:ol.color.asArray(a).map(function(a,b){return 3!=b?a/255:a})||ol.render.webgl.defaultFillStyle;this.state_.strokeColor&&ol.array.equals(this.state_.strokeColor,c)&&this.state_.fillColor&&ol.array.equals(this.state_.fillColor,a)&&this.state_.lineWidth===b||(this.state_.changed=!0,this.state_.fillColor=a,this.state_.strokeColor=c,this.state_.lineWidth=b,this.styles_.push([a,
c,b]))};ol.render.webgl.texturereplay={};ol.render.webgl.texturereplay.defaultshader={};
ol.render.webgl.texturereplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");
ol.render.webgl.texturereplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":
"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");ol.render.webgl.texturereplay.defaultshader.Locations=function(a,b){this.u_projectionMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_projectionMatrix":"h");this.u_offsetScaleMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i");this.u_offsetRotateMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j");this.u_opacity=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_opacity":"k");this.u_image=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_image":"l");this.a_position=a.getAttribLocation(b,
ol.DEBUG_WEBGL?"a_position":"c");this.a_texCoord=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_texCoord":"d");this.a_offsets=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_offsets":"e");this.a_opacity=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_opacity":"f");this.a_rotateWithView=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_rotateWithView":"g")};ol.webgl.ContextEventType={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"};ol.webgl.Context=function(a,b){this.canvas_=a;this.gl_=b;this.bufferCache_={};this.shaderCache_={};this.programCache_={};this.hitDetectionRenderbuffer_=this.hitDetectionTexture_=this.hitDetectionFramebuffer_=this.currentProgram_=null;(this.hasOESElementIndexUint=ol.array.includes(ol.WEBGL_EXTENSIONS,"OES_element_index_uint"))&&b.getExtension("OES_element_index_uint");ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,
this.handleWebGLContextRestored,this)};ol.inherits(ol.webgl.Context,ol.Disposable);
ol.webgl.Context.prototype.bindBuffer=function(a,b){var c=this.getGL(),d=b.getArray(),e=String(ol.getUid(b));if(e in this.bufferCache_)c.bindBuffer(a,this.bufferCache_[e].buffer);else{var f=c.createBuffer();c.bindBuffer(a,f);var g;a==ol.webgl.ARRAY_BUFFER?g=new Float32Array(d):a==ol.webgl.ELEMENT_ARRAY_BUFFER&&(g=this.hasOESElementIndexUint?new Uint32Array(d):new Uint16Array(d));c.bufferData(a,g,b.getUsage());this.bufferCache_[e]={buf:b,buffer:f}}};
ol.webgl.Context.prototype.deleteBuffer=function(a){var b=this.getGL();a=String(ol.getUid(a));var c=this.bufferCache_[a];b.isContextLost()||b.deleteBuffer(c.buffer);delete this.bufferCache_[a]};
ol.webgl.Context.prototype.disposeInternal=function(){ol.events.unlistenAll(this.canvas_);var a=this.getGL();if(!a.isContextLost()){for(var b in this.bufferCache_)a.deleteBuffer(this.bufferCache_[b].buffer);for(b in this.programCache_)a.deleteProgram(this.programCache_[b]);for(b in this.shaderCache_)a.deleteShader(this.shaderCache_[b]);a.deleteFramebuffer(this.hitDetectionFramebuffer_);a.deleteRenderbuffer(this.hitDetectionRenderbuffer_);a.deleteTexture(this.hitDetectionTexture_)}};
ol.webgl.Context.prototype.getCanvas=function(){return this.canvas_};ol.webgl.Context.prototype.getGL=function(){return this.gl_};ol.webgl.Context.prototype.getHitDetectionFramebuffer=function(){this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_();return this.hitDetectionFramebuffer_};
ol.webgl.Context.prototype.getShader=function(a){var b=String(ol.getUid(a));if(b in this.shaderCache_)return this.shaderCache_[b];var c=this.getGL(),d=c.createShader(a.getType());c.shaderSource(d,a.getSource());c.compileShader(d);return this.shaderCache_[b]=d};
ol.webgl.Context.prototype.getProgram=function(a,b){var c=ol.getUid(a)+"/"+ol.getUid(b);if(c in this.programCache_)return this.programCache_[c];var d=this.getGL(),e=d.createProgram();d.attachShader(e,this.getShader(a));d.attachShader(e,this.getShader(b));d.linkProgram(e);return this.programCache_[c]=e};
ol.webgl.Context.prototype.handleWebGLContextLost=function(){ol.obj.clear(this.bufferCache_);ol.obj.clear(this.shaderCache_);ol.obj.clear(this.programCache_);this.hitDetectionRenderbuffer_=this.hitDetectionTexture_=this.hitDetectionFramebuffer_=this.currentProgram_=null};ol.webgl.Context.prototype.handleWebGLContextRestored=function(){};
ol.webgl.Context.prototype.initHitDetectionFramebuffer_=function(){var a=this.gl_,b=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,b);var c=ol.webgl.Context.createEmptyTexture(a,1,1),d=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,d);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,1,1);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,c,0);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,d);a.bindTexture(a.TEXTURE_2D,null);a.bindRenderbuffer(a.RENDERBUFFER,
null);a.bindFramebuffer(a.FRAMEBUFFER,null);this.hitDetectionFramebuffer_=b;this.hitDetectionTexture_=c;this.hitDetectionRenderbuffer_=d};ol.webgl.Context.prototype.useProgram=function(a){if(a==this.currentProgram_)return!1;this.getGL().useProgram(a);this.currentProgram_=a;return!0};
ol.webgl.Context.createTexture_=function(a,b,c){var d=a.createTexture();a.bindTexture(a.TEXTURE_2D,d);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);void 0!==b&&a.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,b);void 0!==c&&a.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,c);return d};
ol.webgl.Context.createEmptyTexture=function(a,b,c,d,e){d=ol.webgl.Context.createTexture_(a,d,e);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,b,c,0,a.RGBA,a.UNSIGNED_BYTE,null);return d};ol.webgl.Context.createTexture=function(a,b,c,d){c=ol.webgl.Context.createTexture_(a,c,d);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);return c};ol.render.webgl.TextureReplay=function(a,b){ol.render.webgl.Replay.call(this,a,b);this.anchorY=this.anchorX=void 0;this.groupIndices=[];this.hitDetectionGroupIndices=[];this.imageWidth=this.imageHeight=this.height=void 0;this.defaultLocations=null;this.width=this.scale=this.rotation=this.rotateWithView=this.originY=this.originX=this.opacity=void 0};ol.inherits(ol.render.webgl.TextureReplay,ol.render.webgl.Replay);
ol.render.webgl.TextureReplay.prototype.getDeleteResourcesFunction=function(a){var b=this.verticesBuffer,c=this.indicesBuffer,d=this.getTextures(!0),e=a.getGL();return function(){if(!e.isContextLost()){var f;var g=0;for(f=d.length;g<f;++g)e.deleteTexture(d[g])}a.deleteBuffer(b);a.deleteBuffer(c)}};
ol.render.webgl.TextureReplay.prototype.drawCoordinates=function(a,b,c,d){var e=this.anchorX,f=this.anchorY,g=this.height,h=this.imageHeight,k=this.imageWidth,l=this.opacity,m=this.originX,n=this.originY,p=this.rotateWithView?1:0,q=-this.rotation,r=this.scale,u=this.width,t=Math.cos(q);q=Math.sin(q);for(var w=this.indices.length,v=this.vertices.length,A,y,x,B,z;b<c;b+=d)B=a[b]-this.origin[0],z=a[b+1]-this.origin[1],A=v/8,y=-r*e,x=-r*(g-f),this.vertices[v++]=B,this.vertices[v++]=z,this.vertices[v++]=
y*t-x*q,this.vertices[v++]=y*q+x*t,this.vertices[v++]=m/k,this.vertices[v++]=(n+g)/h,this.vertices[v++]=l,this.vertices[v++]=p,y=r*(u-e),x=-r*(g-f),this.vertices[v++]=B,this.vertices[v++]=z,this.vertices[v++]=y*t-x*q,this.vertices[v++]=y*q+x*t,this.vertices[v++]=(m+u)/k,this.vertices[v++]=(n+g)/h,this.vertices[v++]=l,this.vertices[v++]=p,y=r*(u-e),x=r*f,this.vertices[v++]=B,this.vertices[v++]=z,this.vertices[v++]=y*t-x*q,this.vertices[v++]=y*q+x*t,this.vertices[v++]=(m+u)/k,this.vertices[v++]=n/h,
this.vertices[v++]=l,this.vertices[v++]=p,y=-r*e,x=r*f,this.vertices[v++]=B,this.vertices[v++]=z,this.vertices[v++]=y*t-x*q,this.vertices[v++]=y*q+x*t,this.vertices[v++]=m/k,this.vertices[v++]=n/h,this.vertices[v++]=l,this.vertices[v++]=p,this.indices[w++]=A,this.indices[w++]=A+1,this.indices[w++]=A+2,this.indices[w++]=A,this.indices[w++]=A+2,this.indices[w++]=A+3;return v};
ol.render.webgl.TextureReplay.prototype.createTextures=function(a,b,c,d){var e,f=b.length;for(e=0;e<f;++e){var g=b[e];var h=ol.getUid(g).toString();h in c?g=c[h]:(g=ol.webgl.Context.createTexture(d,g,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE),c[h]=g);a[e]=g}};
ol.render.webgl.TextureReplay.prototype.setUpProgram=function(a,b,c,d){c=b.getProgram(ol.render.webgl.texturereplay.defaultshader.fragment,ol.render.webgl.texturereplay.defaultshader.vertex);this.defaultLocations?d=this.defaultLocations:this.defaultLocations=d=new ol.render.webgl.texturereplay.defaultshader.Locations(a,c);b.useProgram(c);a.enableVertexAttribArray(d.a_position);a.vertexAttribPointer(d.a_position,2,ol.webgl.FLOAT,!1,32,0);a.enableVertexAttribArray(d.a_offsets);a.vertexAttribPointer(d.a_offsets,
2,ol.webgl.FLOAT,!1,32,8);a.enableVertexAttribArray(d.a_texCoord);a.vertexAttribPointer(d.a_texCoord,2,ol.webgl.FLOAT,!1,32,16);a.enableVertexAttribArray(d.a_opacity);a.vertexAttribPointer(d.a_opacity,1,ol.webgl.FLOAT,!1,32,24);a.enableVertexAttribArray(d.a_rotateWithView);a.vertexAttribPointer(d.a_rotateWithView,1,ol.webgl.FLOAT,!1,32,28);return d};
ol.render.webgl.TextureReplay.prototype.shutDownProgram=function(a,b){a.disableVertexAttribArray(b.a_position);a.disableVertexAttribArray(b.a_offsets);a.disableVertexAttribArray(b.a_texCoord);a.disableVertexAttribArray(b.a_opacity);a.disableVertexAttribArray(b.a_rotateWithView)};
ol.render.webgl.TextureReplay.prototype.drawReplay=function(a,b,c,d){var e=d?this.getHitDetectionTextures():this.getTextures();d=d?this.hitDetectionGroupIndices:this.groupIndices;if(ol.obj.isEmpty(c)){var f;c=0;var g=e.length;for(f=0;c<g;++c){a.bindTexture(ol.webgl.TEXTURE_2D,e[c]);var h=d[c];this.drawElements(a,b,f,h);f=h}}else this.drawReplaySkipping(a,b,c,e,d)};
ol.render.webgl.TextureReplay.prototype.drawReplaySkipping=function(a,b,c,d,e){var f=0,g;var h=0;for(g=d.length;h<g;++h){a.bindTexture(ol.webgl.TEXTURE_2D,d[h]);for(var k=0<h?e[h-1]:0,l=e[h],m=k;f<this.startIndices.length&&this.startIndices[f]<=l;){var n=ol.getUid(this.startIndicesFeature[f]).toString();void 0!==c[n]?(m!==k&&this.drawElements(a,b,m,k),k=m=f===this.startIndices.length-1?l:this.startIndices[f+1]):k=f===this.startIndices.length-1?l:this.startIndices[f+1];f++}m!==k&&this.drawElements(a,
b,m,k)}};
ol.render.webgl.TextureReplay.prototype.drawHitDetectionReplayOneByOne=function(a,b,c,d,e){var f,g,h=this.startIndices.length-1,k=this.getHitDetectionTextures();for(f=k.length-1;0<=f;--f){a.bindTexture(ol.webgl.TEXTURE_2D,k[f]);var l=0<f?this.hitDetectionGroupIndices[f-1]:0;for(g=this.hitDetectionGroupIndices[f];0<=h&&this.startIndices[h]>=l;){var m=this.startIndices[h];var n=this.startIndicesFeature[h];var p=ol.getUid(n).toString();if(void 0===c[p]&&n.getGeometry()&&(void 0===e||ol.extent.intersects(e,n.getGeometry().getExtent()))&&
(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),this.drawElements(a,b,m,g),g=d(n)))return g;g=m;h--}}};ol.render.webgl.TextureReplay.prototype.finish=function(a){this.imageWidth=this.imageHeight=this.height=this.anchorY=this.anchorX=void 0;this.indices=null;this.scale=this.rotation=this.rotateWithView=this.originY=this.originX=this.opacity=void 0;this.vertices=null;this.width=void 0};ol.render.webgl.TextureReplay.prototype.getTextures=function(a){};
ol.render.webgl.TextureReplay.prototype.getHitDetectionTextures=function(){};ol.render.webgl.ImageReplay=function(a,b){ol.render.webgl.TextureReplay.call(this,a,b);this.images_=[];this.hitDetectionImages_=[];this.textures_=[];this.hitDetectionTextures_=[]};ol.inherits(ol.render.webgl.ImageReplay,ol.render.webgl.TextureReplay);ol.render.webgl.ImageReplay.prototype.drawMultiPoint=function(a,b){this.startIndices.push(this.indices.length);this.startIndicesFeature.push(b);b=a.getFlatCoordinates();a=a.getStride();this.drawCoordinates(b,0,b.length,a)};
ol.render.webgl.ImageReplay.prototype.drawPoint=function(a,b){this.startIndices.push(this.indices.length);this.startIndicesFeature.push(b);b=a.getFlatCoordinates();a=a.getStride();this.drawCoordinates(b,0,b.length,a)};
ol.render.webgl.ImageReplay.prototype.finish=function(a){var b=a.getGL();this.groupIndices.push(this.indices.length);this.hitDetectionGroupIndices.push(this.indices.length);this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);var c={};this.createTextures(this.textures_,this.images_,c,b);this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,c,b);this.hitDetectionImages_=this.images_=null;ol.render.webgl.TextureReplay.prototype.finish.call(this,
a)};
ol.render.webgl.ImageReplay.prototype.setImageStyle=function(a){var b=a.getAnchor(),c=a.getImage(1),d=a.getImageSize(),e=a.getHitDetectionImage(1),f=a.getOpacity(),g=a.getOrigin(),h=a.getRotateWithView(),k=a.getRotation(),l=a.getSize();a=a.getScale();if(0===this.images_.length)this.images_.push(c);else{var m=this.images_[this.images_.length-1];ol.getUid(m)!=ol.getUid(c)&&(this.groupIndices.push(this.indices.length),this.images_.push(c))}0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(e):(m=
this.hitDetectionImages_[this.hitDetectionImages_.length-1],ol.getUid(m)!=ol.getUid(e)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(e)));this.anchorX=b[0];this.anchorY=b[1];this.height=l[1];this.imageHeight=d[1];this.imageWidth=d[0];this.opacity=f;this.originX=g[0];this.originY=g[1];this.rotation=k;this.rotateWithView=h;this.scale=a;this.width=l[0]};
ol.render.webgl.ImageReplay.prototype.getTextures=function(a){return a?this.textures_.concat(this.hitDetectionTextures_):this.textures_};ol.render.webgl.ImageReplay.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_};ol.geom.flat.topology={};ol.geom.flat.topology.lineStringIsClosed=function(a,b,c,d){var e=c-d;return a[b]===a[e]&&a[b+1]===a[e+1]&&3<(c-b)/d?!!ol.geom.flat.area.linearRing(a,b,c,d):!1};ol.render.webgl.linestringreplay={};ol.render.webgl.linestringreplay.defaultshader={};
ol.render.webgl.linestringreplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");
ol.render.webgl.linestringreplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":
"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");ol.render.webgl.linestringreplay.defaultshader.Locations=function(a,b){this.u_projectionMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_projectionMatrix":"h");this.u_offsetScaleMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i");this.u_offsetRotateMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j");this.u_lineWidth=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_lineWidth":"k");this.u_miterLimit=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_miterLimit":"l");this.u_opacity=
a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_opacity":"m");this.u_color=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_color":"n");this.u_size=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_size":"o");this.u_pixelRatio=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_pixelRatio":"p");this.a_lastPos=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_lastPos":"d");this.a_position=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_position":"e");this.a_nextPos=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_nextPos":"f");this.a_direction=a.getAttribLocation(b,
ol.DEBUG_WEBGL?"a_direction":"g")};ol.render.webgl.LineStringReplay=function(a,b){ol.render.webgl.Replay.call(this,a,b);this.defaultLocations_=null;this.styles_=[];this.styleIndices_=[];this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}};ol.inherits(ol.render.webgl.LineStringReplay,ol.render.webgl.Replay);
ol.render.webgl.LineStringReplay.prototype.drawCoordinates_=function(a,b,c,d){var e,f=this.vertices.length,g=this.indices.length,h="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,k="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,l=ol.geom.flat.topology.lineStringIsClosed(a,b,c,d),m=g,n=1;for(e=b;e<c;e+=d){var p=f/7;var q=r;var r=u||[a[e],a[e+1]];if(e===b){var u=[a[e+d],a[e+d+1]];if(c-b===2*d&&ol.array.equals(r,u))break;if(l){q=[a[c-2*d],a[c-2*d+1]];var t=u}else{k&&
(f=this.addVertices_([0,0],r,u,n*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE_CAP*k,f),f=this.addVertices_([0,0],r,u,-n*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE_CAP*k,f),this.indices[g++]=p+2,this.indices[g++]=p,this.indices[g++]=p+1,this.indices[g++]=p+1,this.indices[g++]=p+3,this.indices[g++]=p+2);f=this.addVertices_([0,0],r,u,n*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE*(k||1),f);f=this.addVertices_([0,0],r,u,-n*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE*
(k||1),f);m=f/7-1;continue}}else if(e===c-d){l?u=t:(q=q||[0,0],f=this.addVertices_(q,r,[0,0],n*ol.render.webgl.LineStringReplay.Instruction_.END_LINE*(k||1),f),f=this.addVertices_(q,r,[0,0],-n*ol.render.webgl.LineStringReplay.Instruction_.END_LINE*(k||1),f),this.indices[g++]=p,this.indices[g++]=m-1,this.indices[g++]=m,this.indices[g++]=m,this.indices[g++]=p+1,this.indices[g++]=p,k&&(f=this.addVertices_(q,r,[0,0],n*ol.render.webgl.LineStringReplay.Instruction_.END_LINE_CAP*k,f),f=this.addVertices_(q,
r,[0,0],-n*ol.render.webgl.LineStringReplay.Instruction_.END_LINE_CAP*k,f),this.indices[g++]=p+2,this.indices[g++]=p,this.indices[g++]=p+1,this.indices[g++]=p+1,this.indices[g++]=p+3,this.indices[g++]=p+2));break}else u=[a[e+d],a[e+d+1]];var w=ol.render.webgl.triangleIsCounterClockwise(q[0],q[1],r[0],r[1],u[0],u[1])?-1:1;f=this.addVertices_(q,r,u,w*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_FIRST*(h||1),f);f=this.addVertices_(q,r,u,w*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_SECOND*
(h||1),f);f=this.addVertices_(q,r,u,-w*ol.render.webgl.LineStringReplay.Instruction_.MITER_BOTTOM*(h||1),f);e>b&&(this.indices[g++]=p,this.indices[g++]=m-1,this.indices[g++]=m,this.indices[g++]=p+2,this.indices[g++]=p,this.indices[g++]=0<n*w?m:m-1);this.indices[g++]=p;this.indices[g++]=p+2;this.indices[g++]=p+1;m=p+2;n=w;h&&(f=this.addVertices_(q,r,u,w*ol.render.webgl.LineStringReplay.Instruction_.MITER_TOP*h,f),this.indices[g++]=p+1,this.indices[g++]=p+3,this.indices[g++]=p)}l&&(p=p||f/7,w=ol.geom.flat.orient.linearRingIsClockwise([q[0],
q[1],r[0],r[1],u[0],u[1]],0,6,2)?1:-1,f=this.addVertices_(q,r,u,w*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_FIRST*(h||1),f),this.addVertices_(q,r,u,-w*ol.render.webgl.LineStringReplay.Instruction_.MITER_BOTTOM*(h||1),f),this.indices[g++]=p,this.indices[g++]=m-1,this.indices[g++]=m,this.indices[g++]=p+1,this.indices[g++]=p,this.indices[g++]=0<n*w?m:m-1)};
ol.render.webgl.LineStringReplay.prototype.addVertices_=function(a,b,c,d,e){this.vertices[e++]=a[0];this.vertices[e++]=a[1];this.vertices[e++]=b[0];this.vertices[e++]=b[1];this.vertices[e++]=c[0];this.vertices[e++]=c[1];this.vertices[e++]=d;return e};ol.render.webgl.LineStringReplay.prototype.isValid_=function(a,b,c,d){c-=b;return c<2*d?!1:c===2*d?!ol.array.equals([a[b],a[b+1]],[a[b+d],a[b+d+1]]):!0};
ol.render.webgl.LineStringReplay.prototype.drawLineString=function(a,b){var c=a.getFlatCoordinates();a=a.getStride();this.isValid_(c,0,c.length,a)&&(c=ol.geom.flat.transform.translate(c,0,c.length,a,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(b),this.drawCoordinates_(c,0,c.length,a))};
ol.render.webgl.LineStringReplay.prototype.drawMultiLineString=function(a,b){var c=this.indices.length,d=a.getEnds();d.unshift(0);var e=a.getFlatCoordinates();a=a.getStride();var f;if(1<d.length){var g=1;for(f=d.length;g<f;++g)if(this.isValid_(e,d[g-1],d[g],a)){var h=ol.geom.flat.transform.translate(e,d[g-1],d[g],a,-this.origin[0],-this.origin[1]);this.drawCoordinates_(h,0,h.length,a)}}this.indices.length>c&&(this.startIndices.push(c),this.startIndicesFeature.push(b),this.state_.changed&&(this.styleIndices_.push(c),
this.state_.changed=!1))};ol.render.webgl.LineStringReplay.prototype.drawPolygonCoordinates=function(a,b,c){ol.geom.flat.topology.lineStringIsClosed(a,0,a.length,c)||(a.push(a[0]),a.push(a[1]));this.drawCoordinates_(a,0,a.length,c);if(b.length){var d;a=0;for(d=b.length;a<d;++a)ol.geom.flat.topology.lineStringIsClosed(b[a],0,b[a].length,c)||(b[a].push(b[a][0]),b[a].push(b[a][1])),this.drawCoordinates_(b[a],0,b[a].length,c)}};
ol.render.webgl.LineStringReplay.prototype.setPolygonStyle=function(a,b){b=void 0===b?this.indices.length:b;this.startIndices.push(b);this.startIndicesFeature.push(a);this.state_.changed&&(this.styleIndices_.push(b),this.state_.changed=!1)};ol.render.webgl.LineStringReplay.prototype.getCurrentIndex=function(){return this.indices.length};
ol.render.webgl.LineStringReplay.prototype.finish=function(a){this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);this.startIndices.push(this.indices.length);0===this.styleIndices_.length&&0<this.styles_.length&&(this.styles_=[]);this.indices=this.vertices=null};ol.render.webgl.LineStringReplay.prototype.getDeleteResourcesFunction=function(a){var b=this.verticesBuffer,c=this.indicesBuffer;return function(){a.deleteBuffer(b);a.deleteBuffer(c)}};
ol.render.webgl.LineStringReplay.prototype.setUpProgram=function(a,b,c,d){var e=b.getProgram(ol.render.webgl.linestringreplay.defaultshader.fragment,ol.render.webgl.linestringreplay.defaultshader.vertex);if(this.defaultLocations_)var f=this.defaultLocations_;else this.defaultLocations_=f=new ol.render.webgl.linestringreplay.defaultshader.Locations(a,e);b.useProgram(e);a.enableVertexAttribArray(f.a_lastPos);a.vertexAttribPointer(f.a_lastPos,2,ol.webgl.FLOAT,!1,28,0);a.enableVertexAttribArray(f.a_position);
a.vertexAttribPointer(f.a_position,2,ol.webgl.FLOAT,!1,28,8);a.enableVertexAttribArray(f.a_nextPos);a.vertexAttribPointer(f.a_nextPos,2,ol.webgl.FLOAT,!1,28,16);a.enableVertexAttribArray(f.a_direction);a.vertexAttribPointer(f.a_direction,1,ol.webgl.FLOAT,!1,28,24);a.uniform2fv(f.u_size,c);a.uniform1f(f.u_pixelRatio,d);return f};
ol.render.webgl.LineStringReplay.prototype.shutDownProgram=function(a,b){a.disableVertexAttribArray(b.a_lastPos);a.disableVertexAttribArray(b.a_position);a.disableVertexAttribArray(b.a_nextPos);a.disableVertexAttribArray(b.a_direction)};
ol.render.webgl.LineStringReplay.prototype.drawReplay=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL));if(ol.obj.isEmpty(c)){var g=this.startIndices[this.startIndices.length-1];for(c=this.styleIndices_.length-1;0<=c;--c){var h=this.styleIndices_[c];var k=this.styles_[c];this.setStrokeStyle_(a,k[0],k[1],k[2]);this.drawElements(a,b,h,g);a.clear(a.DEPTH_BUFFER_BIT);g=h}}else this.drawReplaySkipping_(a,
b,c);d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),a.depthMask(f),a.depthFunc(e))};
ol.render.webgl.LineStringReplay.prototype.drawReplaySkipping_=function(a,b,c){var d,e;var f=this.startIndices.length-2;var g=e=this.startIndices[f+1];for(d=this.styleIndices_.length-1;0<=d;--d){var h=this.styles_[d];this.setStrokeStyle_(a,h[0],h[1],h[2]);for(h=this.styleIndices_[d];0<=f&&this.startIndices[f]>=h;){var k=this.startIndices[f];var l=this.startIndicesFeature[f];l=ol.getUid(l).toString();c[l]&&(e!==g&&(this.drawElements(a,b,e,g),a.clear(a.DEPTH_BUFFER_BIT)),g=k);f--;e=k}e!==g&&(this.drawElements(a,
b,e,g),a.clear(a.DEPTH_BUFFER_BIT));e=g=h}};
ol.render.webgl.LineStringReplay.prototype.drawHitDetectionReplayOneByOne=function(a,b,c,d,e){var f,g;var h=this.startIndices.length-2;var k=this.startIndices[h+1];for(f=this.styleIndices_.length-1;0<=f;--f){var l=this.styles_[f];this.setStrokeStyle_(a,l[0],l[1],l[2]);for(g=this.styleIndices_[f];0<=h&&this.startIndices[h]>=g;){l=this.startIndices[h];var m=this.startIndicesFeature[h];var n=ol.getUid(m).toString();if(void 0===c[n]&&m.getGeometry()&&(void 0===e||ol.extent.intersects(e,m.getGeometry().getExtent()))&&
(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),this.drawElements(a,b,l,k),k=d(m)))return k;h--;k=l}}};ol.render.webgl.LineStringReplay.prototype.setStrokeStyle_=function(a,b,c,d){a.uniform4fv(this.defaultLocations_.u_color,b);a.uniform1f(this.defaultLocations_.u_lineWidth,c);a.uniform1f(this.defaultLocations_.u_miterLimit,d)};
ol.render.webgl.LineStringReplay.prototype.setFillStrokeStyle=function(a,b){a=b.getLineCap();this.state_.lineCap=void 0!==a?a:ol.render.webgl.defaultLineCap;a=b.getLineDash();this.state_.lineDash=a?a:ol.render.webgl.defaultLineDash;a=b.getLineDashOffset();this.state_.lineDashOffset=a?a:ol.render.webgl.defaultLineDashOffset;a=b.getLineJoin();this.state_.lineJoin=void 0!==a?a:ol.render.webgl.defaultLineJoin;a=b.getColor();a=a instanceof CanvasGradient||a instanceof CanvasPattern?ol.render.webgl.defaultStrokeStyle:
ol.color.asArray(a).map(function(a,b){return 3!=b?a/255:a})||ol.render.webgl.defaultStrokeStyle;var c=b.getWidth();c=void 0!==c?c:ol.render.webgl.defaultLineWidth;b=b.getMiterLimit();b=void 0!==b?b:ol.render.webgl.defaultMiterLimit;this.state_.strokeColor&&ol.array.equals(this.state_.strokeColor,a)&&this.state_.lineWidth===c&&this.state_.miterLimit===b||(this.state_.changed=!0,this.state_.strokeColor=a,this.state_.lineWidth=c,this.state_.miterLimit=b,this.styles_.push([a,c,b]))};
ol.render.webgl.LineStringReplay.Instruction_={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23};ol.render.webgl.polygonreplay={};ol.render.webgl.polygonreplay.defaultshader={};ol.render.webgl.polygonreplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");
ol.render.webgl.polygonreplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");ol.render.webgl.polygonreplay.defaultshader.Locations=function(a,b){this.u_projectionMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_projectionMatrix":"b");this.u_offsetScaleMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"c");this.u_offsetRotateMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"d");this.u_color=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_color":"e");this.u_opacity=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_opacity":"f");this.a_position=a.getAttribLocation(b,
ol.DEBUG_WEBGL?"a_position":"a")};ol.structs.LinkedList=function(a){this.head_=this.last_=this.first_=void 0;this.circular_=void 0===a?!0:a;this.length_=0};ol.structs.LinkedList.prototype.insertItem=function(a){a={prev:void 0,next:void 0,data:a};var b=this.head_;if(b){var c=b.next;a.prev=b;a.next=c;b.next=a;c&&(c.prev=a);b===this.last_&&(this.last_=a)}else this.last_=this.first_=a,this.circular_&&(a.next=a,a.prev=a);this.head_=a;this.length_++};
ol.structs.LinkedList.prototype.removeItem=function(){var a=this.head_;if(a){var b=a.next,c=a.prev;b&&(b.prev=c);c&&(c.next=b);this.head_=b||c;this.first_===this.last_?this.last_=this.first_=this.head_=void 0:this.first_===a?this.first_=this.head_:this.last_===a&&(this.last_=c?this.head_.prev:this.head_);this.length_--}};ol.structs.LinkedList.prototype.firstItem=function(){if(this.head_=this.first_)return this.head_.data};ol.structs.LinkedList.prototype.lastItem=function(){if(this.head_=this.last_)return this.head_.data};
ol.structs.LinkedList.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data};ol.structs.LinkedList.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data};ol.structs.LinkedList.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data};ol.structs.LinkedList.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data};
ol.structs.LinkedList.prototype.getCurrItem=function(){if(this.head_)return this.head_.data};ol.structs.LinkedList.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)};
ol.structs.LinkedList.prototype.concat=function(a){if(a.head_){if(this.head_){var b=this.head_.next;this.head_.next=a.first_;a.first_.prev=this.head_;b.prev=a.last_;a.last_.next=b;this.length_+=a.length_}else this.head_=a.head_,this.first_=a.first_,this.last_=a.last_,this.length_=a.length_;a.head_=void 0;a.first_=void 0;a.last_=void 0;a.length_=0}};ol.structs.LinkedList.prototype.getLength=function(){return this.length_};ol.render.webgl.PolygonReplay=function(a,b){ol.render.webgl.Replay.call(this,a,b);this.lineStringReplay=new ol.render.webgl.LineStringReplay(a,b);this.defaultLocations_=null;this.styles_=[];this.styleIndices_=[];this.state_={fillColor:null,changed:!1}};ol.inherits(ol.render.webgl.PolygonReplay,ol.render.webgl.Replay);
ol.render.webgl.PolygonReplay.prototype.drawCoordinates_=function(a,b,c){var d=new ol.structs.LinkedList,e=new ol.structs.RBush;this.processFlatCoordinates_(a,c,d,e,!0);a=this.getMaxCoords_(d);if(b.length){var f,g=[];var h=0;for(f=b.length;h<f;++h){var k={list:new ol.structs.LinkedList,maxCoords:void 0,rtree:new ol.structs.RBush};g.push(k);this.processFlatCoordinates_(b[h],c,k.list,k.rtree,!1);this.classifyPoints_(k.list,k.rtree,!0);k.maxCoords=this.getMaxCoords_(k.list)}g.sort(function(a,b){return b.maxCoords[0]===
a.maxCoords[0]?a.maxCoords[1]-b.maxCoords[1]:b.maxCoords[0]-a.maxCoords[0]});for(h=0;h<g.length;++h){b=g[h].list;f=c=b.firstItem();do{if(this.getIntersections_(f,e).length){var l=!0;break}f=b.nextItem()}while(c!==f);!l&&this.bridgeHole_(b,g[h].maxCoords[0],d,a[0],e)&&(e.concat(g[h].rtree),this.classifyPoints_(d,e,!1))}}else this.classifyPoints_(d,e,!1);this.triangulate_(d,e)};
ol.render.webgl.PolygonReplay.prototype.processFlatCoordinates_=function(a,b,c,d,e){var f=ol.geom.flat.orient.linearRingIsClockwise(a,0,a.length,b),g,h=this.vertices.length/2,k=[],l=[];if(e===f){f=e=this.createPoint_(a[0],a[1],h++);var m=b;for(g=a.length;m<g;m+=b){var n=this.createPoint_(a[m],a[m+1],h++);l.push(this.insertItem_(f,n,c));k.push([Math.min(f.x,n.x),Math.min(f.y,n.y),Math.max(f.x,n.x),Math.max(f.y,n.y)]);f=n}}else for(m=a.length-b,f=e=this.createPoint_(a[m],a[m+1],h++),m-=b,g=0;m>=g;m-=
b)n=this.createPoint_(a[m],a[m+1],h++),l.push(this.insertItem_(f,n,c)),k.push([Math.min(f.x,n.x),Math.min(f.y,n.y),Math.max(f.x,n.x),Math.max(f.y,n.y)]),f=n;l.push(this.insertItem_(n,e,c));k.push([Math.min(f.x,n.x),Math.min(f.y,n.y),Math.max(f.x,n.x),Math.max(f.y,n.y)]);d.load(k,l)};ol.render.webgl.PolygonReplay.prototype.getMaxCoords_=function(a){var b=a.firstItem(),c=b,d=[c.p0.x,c.p0.y];do c=a.nextItem(),c.p0.x>d[0]&&(d=[c.p0.x,c.p0.y]);while(c!==b);return d};
ol.render.webgl.PolygonReplay.prototype.classifyPoints_=function(a,b,c){var d=a.firstItem(),e=d,f=a.nextItem(),g=!1;do{var h=c?ol.render.webgl.triangleIsCounterClockwise(f.p1.x,f.p1.y,e.p1.x,e.p1.y,e.p0.x,e.p0.y):ol.render.webgl.triangleIsCounterClockwise(e.p0.x,e.p0.y,e.p1.x,e.p1.y,f.p1.x,f.p1.y);void 0===h?(this.removeItem_(e,f,a,b),g=!0,f===d&&(d=a.getNextItem()),f=e,a.prevItem()):e.p1.reflex!==h&&(e.p1.reflex=h,g=!0);e=f;f=a.nextItem()}while(e!==d);return g};
ol.render.webgl.PolygonReplay.prototype.bridgeHole_=function(a,b,c,d,e){for(var f=a.firstItem();f.p1.x!==b;)f=a.nextItem();b=f.p1;d={x:d,y:b.y,i:-1};var g=Infinity,h;var k=this.getIntersections_({p0:b,p1:d},e,!0);var l=0;for(h=k.length;l<h;++l){var m=k[l],n=this.calculateIntersection_(b,d,m.p0,m.p1,!0),p=Math.abs(b.x-n[0]);if(p<g&&void 0!==ol.render.webgl.triangleIsCounterClockwise(b.x,b.y,m.p0.x,m.p0.y,m.p1.x,m.p1.y)){g=p;var q={x:n[0],y:n[1],i:-1};f=m}}if(Infinity===g)return!1;k=f.p1;if(0<g&&(f=
this.getPointsInTriangle_(b,q,f.p1,e),f.length))for(q=Infinity,l=0,h=f.length;l<h;++l)if(g=f[l],m=Math.atan2(b.y-g.y,d.x-g.x),m<q||m===q&&g.x<k.x)q=m,k=g;for(f=c.firstItem();f.p1.x!==k.x||f.p1.y!==k.y;)f=c.nextItem();d={x:b.x,y:b.y,i:b.i,reflex:void 0};l={x:f.p1.x,y:f.p1.y,i:f.p1.i,reflex:void 0};a.getNextItem().p0=d;this.insertItem_(b,f.p1,a,e);this.insertItem_(l,d,a,e);f.p1=l;a.setFirstItem();c.concat(a);return!0};
ol.render.webgl.PolygonReplay.prototype.triangulate_=function(a,b){for(var c=!1,d=this.isSimple_(a,b);3<a.getLength();)if(d){if(!this.clipEars_(a,b,d,c)&&!this.classifyPoints_(a,b,c)&&!this.resolveSelfIntersections_(a,b,!0))break}else if(!this.clipEars_(a,b,d,c)&&!this.classifyPoints_(a,b,c)&&!this.resolveSelfIntersections_(a,b))if(d=this.isSimple_(a,b))c=!this.isClockwise_(a),this.classifyPoints_(a,b,c);else{this.splitPolygon_(a,b);break}3===a.getLength()&&(b=this.indices.length,this.indices[b++]=
a.getPrevItem().p0.i,this.indices[b++]=a.getCurrItem().p0.i,this.indices[b++]=a.getNextItem().p0.i)};
ol.render.webgl.PolygonReplay.prototype.clipEars_=function(a,b,c,d){var e=this.indices.length,f=a.firstItem(),g=a.getPrevItem(),h=f,k=a.nextItem(),l=a.getNextItem(),m=!1;do{var n=h.p0;var p=h.p1;var q=k.p1;if(!1===p.reflex){var r=c?0===this.getPointsInTriangle_(n,p,q,b,!0).length:d?this.diagonalIsInside_(l.p1,q,p,n,g.p0):this.diagonalIsInside_(g.p0,n,p,q,l.p1);!c&&0!==this.getIntersections_({p0:n,p1:q},b).length||!r||!c&&!1!==n.reflex&&!1!==q.reflex&&ol.geom.flat.orient.linearRingIsClockwise([g.p0.x,
g.p0.y,n.x,n.y,p.x,p.y,q.x,q.y,l.p1.x,l.p1.y],0,10,2)!==!d||(this.indices[e++]=n.i,this.indices[e++]=p.i,this.indices[e++]=q.i,this.removeItem_(h,k,a,b),k===f&&(f=l),m=!0)}g=a.getPrevItem();h=a.getCurrItem();k=a.nextItem();l=a.getNextItem()}while(h!==f&&3<a.getLength());return m};
ol.render.webgl.PolygonReplay.prototype.resolveSelfIntersections_=function(a,b,c){var d=a.firstItem();a.nextItem();var e=d,f=a.nextItem(),g=!1;do{var h=this.calculateIntersection_(e.p0,e.p1,f.p0,f.p1,c);if(h){g=this.indices.length;var k=this.vertices.length/2,l=a.prevItem();a.removeItem();b.remove(l);var m=l===d;c?(h[0]===e.p0.x&&h[1]===e.p0.y?(a.prevItem(),h=e.p0,f.p0=h,b.remove(e),m=m||e===d):(h=f.p1,e.p1=h,b.remove(f),m=m||f===d),a.removeItem()):(h=this.createPoint_(h[0],h[1],k),e.p1=h,f.p0=h,
b.update([Math.min(e.p0.x,e.p1.x),Math.min(e.p0.y,e.p1.y),Math.max(e.p0.x,e.p1.x),Math.max(e.p0.y,e.p1.y)],e),b.update([Math.min(f.p0.x,f.p1.x),Math.min(f.p0.y,f.p1.y),Math.max(f.p0.x,f.p1.x),Math.max(f.p0.y,f.p1.y)],f));this.indices[g++]=l.p0.i;this.indices[g++]=l.p1.i;this.indices[g++]=h.i;g=!0;if(m)break}e=a.getPrevItem();f=a.nextItem()}while(e!==d);return g};
ol.render.webgl.PolygonReplay.prototype.isSimple_=function(a,b){var c=a.firstItem(),d=c;do{if(this.getIntersections_(d,b).length)return!1;d=a.nextItem()}while(d!==c);return!0};ol.render.webgl.PolygonReplay.prototype.isClockwise_=function(a){var b=2*a.getLength(),c=Array(b),d=a.firstItem(),e=d,f=0;do c[f++]=e.p0.x,c[f++]=e.p0.y,e=a.nextItem();while(e!==d);return ol.geom.flat.orient.linearRingIsClockwise(c,0,b,2)};
ol.render.webgl.PolygonReplay.prototype.splitPolygon_=function(a,b){var c=a.firstItem(),d=c;do{var e=this.getIntersections_(d,b);if(e.length){c=e[0];e=this.vertices.length/2;var f=this.calculateIntersection_(d.p0,d.p1,c.p0,c.p1);e=this.createPoint_(f[0],f[1],e);f=new ol.structs.LinkedList;var g=new ol.structs.RBush;this.insertItem_(e,d.p1,f,g);d.p1=e;b.update([Math.min(d.p0.x,e.x),Math.min(d.p0.y,e.y),Math.max(d.p0.x,e.x),Math.max(d.p0.y,e.y)],d);for(d=a.nextItem();d!==c;)this.insertItem_(d.p0,d.p1,
f,g),b.remove(d),a.removeItem(),d=a.getCurrItem();this.insertItem_(c.p0,e,f,g);c.p0=e;b.update([Math.min(c.p1.x,e.x),Math.min(c.p1.y,e.y),Math.max(c.p1.x,e.x),Math.max(c.p1.y,e.y)],c);this.classifyPoints_(a,b,!1);this.triangulate_(a,b);this.classifyPoints_(f,g,!1);this.triangulate_(f,g);break}d=a.nextItem()}while(d!==c)};ol.render.webgl.PolygonReplay.prototype.createPoint_=function(a,b,c){var d=this.vertices.length;this.vertices[d++]=a;this.vertices[d++]=b;return{x:a,y:b,i:c,reflex:void 0}};
ol.render.webgl.PolygonReplay.prototype.insertItem_=function(a,b,c,d){var e={p0:a,p1:b};c.insertItem(e);d&&d.insert([Math.min(a.x,b.x),Math.min(a.y,b.y),Math.max(a.x,b.x),Math.max(a.y,b.y)],e);return e};ol.render.webgl.PolygonReplay.prototype.removeItem_=function(a,b,c,d){c.getCurrItem()===b&&(c.removeItem(),a.p1=b.p1,d.remove(b),d.update([Math.min(a.p0.x,a.p1.x),Math.min(a.p0.y,a.p1.y),Math.max(a.p0.x,a.p1.x),Math.max(a.p0.y,a.p1.y)],a))};
ol.render.webgl.PolygonReplay.prototype.getPointsInTriangle_=function(a,b,c,d,e){var f,g,h=[],k=d.getInExtent([Math.min(a.x,b.x,c.x),Math.min(a.y,b.y,c.y),Math.max(a.x,b.x,c.x),Math.max(a.y,b.y,c.y)]);d=0;for(f=k.length;d<f;++d)for(g in k[d]){var l=k[d][g];"object"!==typeof l||e&&!l.reflex||l.x===a.x&&l.y===a.y||l.x===b.x&&l.y===b.y||l.x===c.x&&l.y===c.y||-1!==h.indexOf(l)||!ol.geom.flat.contains.linearRingContainsXY([a.x,a.y,b.x,b.y,c.x,c.y],0,6,2,l.x,l.y)||h.push(l)}return h};
ol.render.webgl.PolygonReplay.prototype.getIntersections_=function(a,b,c){var d=a.p0,e=a.p1;b=b.getInExtent([Math.min(d.x,e.x),Math.min(d.y,e.y),Math.max(d.x,e.x),Math.max(d.y,e.y)]);var f=[],g;var h=0;for(g=b.length;h<g;++h){var k=b[h];a!==k&&(c||k.p0!==e||k.p1!==d)&&this.calculateIntersection_(d,e,k.p0,k.p1,c)&&f.push(k)}return f};
ol.render.webgl.PolygonReplay.prototype.calculateIntersection_=function(a,b,c,d,e){var f=(d.y-c.y)*(b.x-a.x)-(d.x-c.x)*(b.y-a.y);if(0!==f&&(d=((d.x-c.x)*(a.y-c.y)-(d.y-c.y)*(a.x-c.x))/f,c=((b.x-a.x)*(a.y-c.y)-(b.y-a.y)*(a.x-c.x))/f,!e&&d>ol.render.webgl.EPSILON&&d<1-ol.render.webgl.EPSILON&&c>ol.render.webgl.EPSILON&&c<1-ol.render.webgl.EPSILON||e&&0<=d&&1>=d&&0<=c&&1>=c))return[a.x+d*(b.x-a.x),a.y+d*(b.y-a.y)]};
ol.render.webgl.PolygonReplay.prototype.diagonalIsInside_=function(a,b,c,d,e){if(void 0===b.reflex||void 0===d.reflex)return!1;var f=(c.x-d.x)*(b.y-d.y)>(c.y-d.y)*(b.x-d.x);e=(e.x-d.x)*(b.y-d.y)<(e.y-d.y)*(b.x-d.x);a=(a.x-b.x)*(d.y-b.y)>(a.y-b.y)*(d.x-b.x);c=(c.x-b.x)*(d.y-b.y)<(c.y-b.y)*(d.x-b.x);b=b.reflex?c||a:c&&a;return(d.reflex?e||f:e&&f)&&b};
ol.render.webgl.PolygonReplay.prototype.drawMultiPolygon=function(a,b){var c=a.getEndss(),d=a.getStride(),e=this.indices.length,f=this.lineStringReplay.getCurrentIndex();a=a.getFlatCoordinates();var g,h,k;var l=h=0;for(g=c.length;l<g;++l){var m=c[l];if(0<m.length){var n=ol.geom.flat.transform.translate(a,h,m[0],d,-this.origin[0],-this.origin[1]);if(n.length){var p=[];h=1;for(k=m.length;h<k;++h)if(m[h]!==m[h-1]){var q=ol.geom.flat.transform.translate(a,m[h-1],m[h],d,-this.origin[0],-this.origin[1]);
p.push(q)}this.lineStringReplay.drawPolygonCoordinates(n,p,d);this.drawCoordinates_(n,p,d)}}h=m[m.length-1]}this.indices.length>e&&(this.startIndices.push(e),this.startIndicesFeature.push(b),this.state_.changed&&(this.styleIndices_.push(e),this.state_.changed=!1));this.lineStringReplay.getCurrentIndex()>f&&this.lineStringReplay.setPolygonStyle(b,f)};
ol.render.webgl.PolygonReplay.prototype.drawPolygon=function(a,b){var c=a.getEnds(),d=a.getStride();if(0<c.length){a=a.getFlatCoordinates().map(Number);var e=ol.geom.flat.transform.translate(a,0,c[0],d,-this.origin[0],-this.origin[1]);if(e.length){var f=[],g;var h=1;for(g=c.length;h<g;++h)if(c[h]!==c[h-1]){var k=ol.geom.flat.transform.translate(a,c[h-1],c[h],d,-this.origin[0],-this.origin[1]);f.push(k)}this.startIndices.push(this.indices.length);this.startIndicesFeature.push(b);this.state_.changed&&
(this.styleIndices_.push(this.indices.length),this.state_.changed=!1);this.lineStringReplay.setPolygonStyle(b);this.lineStringReplay.drawPolygonCoordinates(e,f,d);this.drawCoordinates_(e,f,d)}}};
ol.render.webgl.PolygonReplay.prototype.finish=function(a){this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);this.startIndices.push(this.indices.length);this.lineStringReplay.finish(a);0===this.styleIndices_.length&&0<this.styles_.length&&(this.styles_=[]);this.indices=this.vertices=null};
ol.render.webgl.PolygonReplay.prototype.getDeleteResourcesFunction=function(a){var b=this.verticesBuffer,c=this.indicesBuffer,d=this.lineStringReplay.getDeleteResourcesFunction(a);return function(){a.deleteBuffer(b);a.deleteBuffer(c);d()}};
ol.render.webgl.PolygonReplay.prototype.setUpProgram=function(a,b,c,d){c=b.getProgram(ol.render.webgl.polygonreplay.defaultshader.fragment,ol.render.webgl.polygonreplay.defaultshader.vertex);this.defaultLocations_?d=this.defaultLocations_:this.defaultLocations_=d=new ol.render.webgl.polygonreplay.defaultshader.Locations(a,c);b.useProgram(c);a.enableVertexAttribArray(d.a_position);a.vertexAttribPointer(d.a_position,2,ol.webgl.FLOAT,!1,8,0);return d};
ol.render.webgl.PolygonReplay.prototype.shutDownProgram=function(a,b){a.disableVertexAttribArray(b.a_position)};
ol.render.webgl.PolygonReplay.prototype.drawReplay=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL));if(ol.obj.isEmpty(c)){var g=this.startIndices[this.startIndices.length-1];for(c=this.styleIndices_.length-1;0<=c;--c){var h=this.styleIndices_[c];var k=this.styles_[c];this.setFillStyle_(a,k);this.drawElements(a,b,h,g);g=h}}else this.drawReplaySkipping_(a,b,c);d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),
a.depthMask(f),a.depthFunc(e))};
ol.render.webgl.PolygonReplay.prototype.drawHitDetectionReplayOneByOne=function(a,b,c,d,e){var f,g;var h=this.startIndices.length-2;var k=this.startIndices[h+1];for(f=this.styleIndices_.length-1;0<=f;--f){var l=this.styles_[f];this.setFillStyle_(a,l);for(g=this.styleIndices_[f];0<=h&&this.startIndices[h]>=g;){l=this.startIndices[h];var m=this.startIndicesFeature[h];var n=ol.getUid(m).toString();if(void 0===c[n]&&m.getGeometry()&&(void 0===e||ol.extent.intersects(e,m.getGeometry().getExtent()))&&(a.clear(a.COLOR_BUFFER_BIT|
a.DEPTH_BUFFER_BIT),this.drawElements(a,b,l,k),k=d(m)))return k;h--;k=l}}};
ol.render.webgl.PolygonReplay.prototype.drawReplaySkipping_=function(a,b,c){var d,e;var f=this.startIndices.length-2;var g=e=this.startIndices[f+1];for(d=this.styleIndices_.length-1;0<=d;--d){var h=this.styles_[d];this.setFillStyle_(a,h);for(h=this.styleIndices_[d];0<=f&&this.startIndices[f]>=h;){var k=this.startIndices[f];var l=this.startIndicesFeature[f];l=ol.getUid(l).toString();c[l]&&(e!==g&&(this.drawElements(a,b,e,g),a.clear(a.DEPTH_BUFFER_BIT)),g=k);f--;e=k}e!==g&&(this.drawElements(a,b,e,
g),a.clear(a.DEPTH_BUFFER_BIT));e=g=h}};ol.render.webgl.PolygonReplay.prototype.setFillStyle_=function(a,b){a.uniform4fv(this.defaultLocations_.u_color,b)};
ol.render.webgl.PolygonReplay.prototype.setFillStrokeStyle=function(a,b){a=a?a.getColor():[0,0,0,0];a=a instanceof CanvasGradient||a instanceof CanvasPattern?ol.render.webgl.defaultFillStyle:ol.color.asArray(a).map(function(a,b){return 3!=b?a/255:a})||ol.render.webgl.defaultFillStyle;this.state_.fillColor&&ol.array.equals(a,this.state_.fillColor)||(this.state_.fillColor=a,this.state_.changed=!0,this.styles_.push(a));b||(b=new ol.style.Stroke({color:[0,0,0,0],lineWidth:0}));this.lineStringReplay.setFillStrokeStyle(null,
b)};ol.style.Atlas=function(a,b){this.space_=b;this.emptyBlocks_=[{x:0,y:0,width:a,height:a}];this.entries_={};this.context_=ol.dom.createCanvasContext2D(a,a);this.canvas_=this.context_.canvas};ol.style.Atlas.prototype.get=function(a){return this.entries_[a]||null};
ol.style.Atlas.prototype.add=function(a,b,c,d,e){var f;var g=0;for(f=this.emptyBlocks_.length;g<f;++g){var h=this.emptyBlocks_[g];if(h.width>=b+this.space_&&h.height>=c+this.space_)return f={offsetX:h.x+this.space_,offsetY:h.y+this.space_,image:this.canvas_},this.entries_[a]=f,d.call(e,this.context_,h.x+this.space_,h.y+this.space_),this.split_(g,h,b+this.space_,c+this.space_),f}return null};
ol.style.Atlas.prototype.split_=function(a,b,c,d){if(b.width-c>b.height-d){var e={x:b.x+c,y:b.y,width:b.width-c,height:b.height};b={x:b.x,y:b.y+d,width:c,height:b.height-d}}else e={x:b.x+c,y:b.y,width:b.width-c,height:d},b={x:b.x,y:b.y+d,width:b.width,height:b.height-d};this.updateBlocks_(a,e,b)};ol.style.Atlas.prototype.updateBlocks_=function(a,b,c){a=[a,1];0<b.width&&0<b.height&&a.push(b);0<c.width&&0<c.height&&a.push(c);this.emptyBlocks_.splice.apply(this.emptyBlocks_,a)};ol.style.AtlasManager=function(a){a=a||{};this.currentSize_=void 0!==a.initialSize?a.initialSize:ol.INITIAL_ATLAS_SIZE;this.maxSize_=void 0!==a.maxSize?a.maxSize:-1!=ol.MAX_ATLAS_SIZE?ol.MAX_ATLAS_SIZE:void 0!==ol.WEBGL_MAX_TEXTURE_SIZE?ol.WEBGL_MAX_TEXTURE_SIZE:2048;this.space_=void 0!==a.space?a.space:1;this.atlases_=[new ol.style.Atlas(this.currentSize_,this.space_)];this.currentHitSize_=this.currentSize_;this.hitAtlases_=[new ol.style.Atlas(this.currentHitSize_,this.space_)]};
ol.style.AtlasManager.prototype.getInfo=function(a){var b=this.getInfo_(this.atlases_,a);if(!b)return null;a=this.getInfo_(this.hitAtlases_,a);return this.mergeInfos_(b,a)};ol.style.AtlasManager.prototype.getInfo_=function(a,b){var c;var d=0;for(c=a.length;d<c;++d){var e=a[d];if(e=e.get(b))return e}return null};ol.style.AtlasManager.prototype.mergeInfos_=function(a,b){return{offsetX:a.offsetX,offsetY:a.offsetY,image:a.image,hitImage:b.image}};
ol.style.AtlasManager.prototype.add=function(a,b,c,d,e,f){if(b+this.space_>this.maxSize_||c+this.space_>this.maxSize_)return null;d=this.add_(!1,a,b,c,d,f);if(!d)return null;a=this.add_(!0,a,b,c,void 0!==e?e:ol.nullFunction,f);return this.mergeInfos_(d,a)};
ol.style.AtlasManager.prototype.add_=function(a,b,c,d,e,f){var g=a?this.hitAtlases_:this.atlases_,h;var k=0;for(h=g.length;k<h;++k){var l=g[k];if(l=l.add(b,c,d,e,f))return l;l||k!==h-1||(a?this.currentHitSize_=l=Math.min(2*this.currentHitSize_,this.maxSize_):this.currentSize_=l=Math.min(2*this.currentSize_,this.maxSize_),l=new ol.style.Atlas(l,this.space_),g.push(l),++h)}return null};ol.render.webgl.TextReplay=function(a,b){ol.render.webgl.TextureReplay.call(this,a,b);this.images_=[];this.textures_=[];this.measureCanvas_=ol.dom.createCanvasContext2D(0,0).canvas;this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0};this.text_="";this.offsetY_=this.offsetX_=this.textBaseline_=this.textAlign_=void 0;this.atlases_={};this.currAtlas_=void 0;this.opacity=this.scale=1};
ol.inherits(ol.render.webgl.TextReplay,ol.render.webgl.TextureReplay);
ol.render.webgl.TextReplay.prototype.drawText=function(a,b){if(this.text_){var c=null,d=2,e=2;switch(a.getType()){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:c=a.getFlatCoordinates();d=c.length;e=a.getStride();break;case ol.geom.GeometryType.CIRCLE:c=a.getCenter();break;case ol.geom.GeometryType.LINE_STRING:c=a.getFlatMidpoint();break;case ol.geom.GeometryType.MULTI_LINE_STRING:c=a.getFlatMidpoints();d=c.length;break;case ol.geom.GeometryType.POLYGON:c=a.getFlatInteriorPoint();
break;case ol.geom.GeometryType.MULTI_POLYGON:c=a.getFlatInteriorPoints(),d=c.length}this.startIndices.push(this.indices.length);this.startIndicesFeature.push(b);a=this.currAtlas_;b=this.text_.split("\n");var f=this.getTextSize_(b),g,h,k,l=Math.round(f[0]*this.textAlign_-this.offsetX_),m=Math.round(f[1]*this.textBaseline_-this.offsetY_),n=this.state_.lineWidth/2*this.state_.scale;f=0;for(g=b.length;f<g;++f){var p=0;var q=a.height*f;var r=b[f].split("");var u=0;for(h=r.length;u<h;++u){if(k=a.atlas.getInfo(r[u])){var t=
k.image;this.anchorX=l-p;this.anchorY=m-q;this.originX=0===u?k.offsetX-n:k.offsetX;this.originY=k.offsetY;this.height=a.height;this.width=0===u||u===r.length-1?a.width[r[u]]+n:a.width[r[u]];this.imageHeight=t.height;this.imageWidth=t.width;0===this.images_.length?this.images_.push(t):(k=this.images_[this.images_.length-1],ol.getUid(k)!=ol.getUid(t)&&(this.groupIndices.push(this.indices.length),this.images_.push(t)));this.drawText_(c,0,d,e)}p+=this.width}}}};
ol.render.webgl.TextReplay.prototype.getTextSize_=function(a){var b=this,c=this.currAtlas_,d=a.length*c.height;return[a.map(function(a){var d=0,e;var h=0;for(e=a.length;h<e;++h){var k=a[h];c.width[k]||b.addCharToAtlas_(k);d+=c.width[k]?c.width[k]:0}return d}).reduce(function(a,b){return Math.max(a,b)}),d]};ol.render.webgl.TextReplay.prototype.drawText_=function(a,b,c,d){var e;for(e=b;e<c;e+=d)this.drawCoordinates(a,b,c,d)};
ol.render.webgl.TextReplay.prototype.addCharToAtlas_=function(a){if(1===a.length){var b=this.currAtlas_,c=this.state_,d=this.measureCanvas_.getContext("2d");d.font=c.font;d=Math.ceil(d.measureText(a).width*c.scale);b.atlas.add(a,d,b.height,function(b,d,g){b.font=c.font;b.fillStyle=c.fillColor;b.strokeStyle=c.strokeColor;b.lineWidth=c.lineWidth;b.lineCap=c.lineCap;b.lineJoin=c.lineJoin;b.miterLimit=c.miterLimit;b.textAlign="left";b.textBaseline="top";ol.has.CANVAS_LINE_DASH&&c.lineDash&&(b.setLineDash(c.lineDash),
b.lineDashOffset=c.lineDashOffset);1!==c.scale&&b.setTransform(c.scale,0,0,c.scale,0,0);c.strokeColor&&b.strokeText(a,d,g);c.fillColor&&b.fillText(a,d,g)})&&(b.width[a]=d)}};
ol.render.webgl.TextReplay.prototype.finish=function(a){var b=a.getGL();this.groupIndices.push(this.indices.length);this.hitDetectionGroupIndices=this.groupIndices;this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);this.createTextures(this.textures_,this.images_,{},b);this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0};this.text_=
"";this.offsetY_=this.offsetX_=this.textBaseline_=this.textAlign_=void 0;this.images_=null;this.atlases_={};this.currAtlas_=void 0;ol.render.webgl.TextureReplay.prototype.finish.call(this,a)};
ol.render.webgl.TextReplay.prototype.setTextStyle=function(a){var b=this.state_,c=a.getFill(),d=a.getStroke();a&&a.getText()&&(c||d)?(c?(c=c.getColor(),b.fillColor=ol.colorlike.asColorLike(c?c:ol.render.webgl.defaultFillStyle)):b.fillColor=null,d?(c=d.getColor(),b.strokeColor=ol.colorlike.asColorLike(c?c:ol.render.webgl.defaultStrokeStyle),b.lineWidth=d.getWidth()||ol.render.webgl.defaultLineWidth,b.lineCap=d.getLineCap()||ol.render.webgl.defaultLineCap,b.lineDashOffset=d.getLineDashOffset()||ol.render.webgl.defaultLineDashOffset,
b.lineJoin=d.getLineJoin()||ol.render.webgl.defaultLineJoin,b.miterLimit=d.getMiterLimit()||ol.render.webgl.defaultMiterLimit,d=d.getLineDash(),b.lineDash=d?d.slice():ol.render.webgl.defaultLineDash):(b.strokeColor=null,b.lineWidth=0),b.font=a.getFont()||ol.render.webgl.defaultFont,b.scale=a.getScale()||1,this.text_=a.getText(),d=ol.render.replay.TEXT_ALIGN[a.getTextAlign()],c=ol.render.replay.TEXT_ALIGN[a.getTextBaseline()],this.textAlign_=void 0===d?ol.render.webgl.defaultTextAlign:d,this.textBaseline_=
void 0===c?ol.render.webgl.defaultTextBaseline:c,this.offsetX_=a.getOffsetX()||0,this.offsetY_=a.getOffsetY()||0,this.rotateWithView=!!a.getRotateWithView(),this.rotation=a.getRotation()||0,this.currAtlas_=this.getAtlas_(b)):this.text_=""};
ol.render.webgl.TextReplay.prototype.getAtlas_=function(a){var b=[];for(c in a)if(a[c]||0===a[c])Array.isArray(a[c])?b=b.concat(a[c]):b.push(a[c]);b=this.calculateHash_(b);if(!this.atlases_[b]){var c=this.measureCanvas_.getContext("2d");c.font=a.font;c=Math.ceil((1.5*c.measureText("M").width+a.lineWidth/2)*a.scale);this.atlases_[b]={atlas:new ol.style.AtlasManager({space:a.lineWidth+1}),width:{},height:c}}return this.atlases_[b]};
ol.render.webgl.TextReplay.prototype.calculateHash_=function(a){var b,c="";var d=0;for(b=a.length;d<b;++d)c+=a[d];return c};ol.render.webgl.TextReplay.prototype.getTextures=function(a){return this.textures_};ol.render.webgl.TextReplay.prototype.getHitDetectionTextures=function(){return this.textures_};ol.render.webgl.ReplayGroup=function(a,b,c){ol.render.ReplayGroup.call(this);this.maxExtent_=b;this.tolerance_=a;this.renderBuffer_=c;this.replaysByZIndex_={}};ol.inherits(ol.render.webgl.ReplayGroup,ol.render.ReplayGroup);
ol.render.webgl.ReplayGroup.prototype.getDeleteResourcesFunction=function(a){var b=[],c;for(c in this.replaysByZIndex_){var d=this.replaysByZIndex_[c],e;for(e in d)b.push(d[e].getDeleteResourcesFunction(a))}return function(){for(var a=b.length,c,d=0;d<a;d++)c=b[d].apply(this,arguments);return c}};ol.render.webgl.ReplayGroup.prototype.finish=function(a){for(var b in this.replaysByZIndex_){var c=this.replaysByZIndex_[b],d;for(d in c)c[d].finish(a)}};
ol.render.webgl.ReplayGroup.prototype.getReplay=function(a,b){var c=void 0!==a?a.toString():"0";a=this.replaysByZIndex_[c];void 0===a&&(a={},this.replaysByZIndex_[c]=a);c=a[b];void 0===c&&(c=new ol.render.webgl.ReplayGroup.BATCH_CONSTRUCTORS_[b](this.tolerance_,this.maxExtent_),a[b]=c);return c};ol.render.webgl.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replaysByZIndex_)};
ol.render.webgl.ReplayGroup.prototype.replay=function(a,b,c,d,e,f,g,h){var k=Object.keys(this.replaysByZIndex_).map(Number);k.sort(ol.array.numberSafeCompareFunction);var l,m;var n=0;for(l=k.length;n<l;++n){var p=this.replaysByZIndex_[k[n].toString()];var q=0;for(m=ol.render.replay.ORDER.length;q<m;++q){var r=p[ol.render.replay.ORDER[q]];void 0!==r&&r.replay(a,b,c,d,e,f,g,h,void 0,!1)}}};
ol.render.webgl.ReplayGroup.prototype.replayHitDetection_=function(a,b,c,d,e,f,g,h,k,l,m){var n=Object.keys(this.replaysByZIndex_).map(Number);n.sort(function(a,b){return b-a});var p,q;var r=0;for(p=n.length;r<p;++r){var u=this.replaysByZIndex_[n[r].toString()];for(q=ol.render.replay.ORDER.length-1;0<=q;--q){var t=u[ol.render.replay.ORDER[q]];if(void 0!==t&&(t=t.replay(a,b,c,d,e,f,g,h,k,l,m)))return t}}};
ol.render.webgl.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e,f,g,h,k,l){var m=b.getGL();m.bindFramebuffer(m.FRAMEBUFFER,b.getHitDetectionFramebuffer());var n;void 0!==this.renderBuffer_&&(n=ol.extent.buffer(ol.extent.createOrUpdateFromCoordinate(a),d*this.renderBuffer_));return this.replayHitDetection_(b,a,d,e,ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_,g,h,k,function(a){var b=new Uint8Array(4);m.readPixels(0,0,1,1,m.RGBA,m.UNSIGNED_BYTE,b);if(0<b[3]&&(a=l(a)))return a},
!0,n)};ol.render.webgl.ReplayGroup.prototype.hasFeatureAtCoordinate=function(a,b,c,d,e,f,g,h,k){var l=b.getGL();l.bindFramebuffer(l.FRAMEBUFFER,b.getHitDetectionFramebuffer());return void 0!==this.replayHitDetection_(b,a,d,e,ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_,g,h,k,function(a){a=new Uint8Array(4);l.readPixels(0,0,1,1,l.RGBA,l.UNSIGNED_BYTE,a);return 0<a[3]},!1)};ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_=[1,1];
ol.render.webgl.ReplayGroup.BATCH_CONSTRUCTORS_={Circle:ol.render.webgl.CircleReplay,Image:ol.render.webgl.ImageReplay,LineString:ol.render.webgl.LineStringReplay,Polygon:ol.render.webgl.PolygonReplay,Text:ol.render.webgl.TextReplay};ol.render.webgl.Immediate=function(a,b,c,d,e,f,g){ol.render.VectorContext.call(this);this.context_=a;this.center_=b;this.extent_=f;this.pixelRatio_=g;this.size_=e;this.rotation_=d;this.resolution_=c;this.textStyle_=this.strokeStyle_=this.fillStyle_=this.imageStyle_=null};ol.inherits(ol.render.webgl.Immediate,ol.render.VectorContext);
ol.render.webgl.Immediate.prototype.drawText_=function(a,b){var c=this.context_;a=a.getReplay(0,ol.render.ReplayType.TEXT);a.setTextStyle(this.textStyle_);a.drawText(b,null);a.finish(c);a.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1);a.getDeleteResourcesFunction(c)()};ol.render.webgl.Immediate.prototype.setStyle=function(a){this.setFillStrokeStyle(a.getFill(),a.getStroke());this.setImageStyle(a.getImage());this.setTextStyle(a.getText())};
ol.render.webgl.Immediate.prototype.drawGeometry=function(a){switch(a.getType()){case ol.geom.GeometryType.POINT:this.drawPoint(a,null);break;case ol.geom.GeometryType.LINE_STRING:this.drawLineString(a,null);break;case ol.geom.GeometryType.POLYGON:this.drawPolygon(a,null);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(a,null);break;case ol.geom.GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(a,null);break;case ol.geom.GeometryType.MULTI_POLYGON:this.drawMultiPolygon(a,null);
break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(a,null);break;case ol.geom.GeometryType.CIRCLE:this.drawCircle(a,null)}};ol.render.webgl.Immediate.prototype.drawFeature=function(a,b){(a=b.getGeometryFunction()(a))&&ol.extent.intersects(this.extent_,a.getExtent())&&(this.setStyle(b),this.drawGeometry(a))};ol.render.webgl.Immediate.prototype.drawGeometryCollection=function(a,b){a=a.getGeometriesArray();var c;b=0;for(c=a.length;b<c;++b)this.drawGeometry(a[b])};
ol.render.webgl.Immediate.prototype.drawPoint=function(a,b){var c=this.context_,d=new ol.render.webgl.ReplayGroup(1,this.extent_),e=d.getReplay(0,ol.render.ReplayType.IMAGE);e.setImageStyle(this.imageStyle_);e.drawPoint(a,b);e.finish(c);e.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1);e.getDeleteResourcesFunction(c)();this.textStyle_&&this.drawText_(d,a)};
ol.render.webgl.Immediate.prototype.drawMultiPoint=function(a,b){var c=this.context_,d=new ol.render.webgl.ReplayGroup(1,this.extent_),e=d.getReplay(0,ol.render.ReplayType.IMAGE);e.setImageStyle(this.imageStyle_);e.drawMultiPoint(a,b);e.finish(c);e.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1);e.getDeleteResourcesFunction(c)();this.textStyle_&&this.drawText_(d,a)};
ol.render.webgl.Immediate.prototype.drawLineString=function(a,b){var c=this.context_,d=new ol.render.webgl.ReplayGroup(1,this.extent_),e=d.getReplay(0,ol.render.ReplayType.LINE_STRING);e.setFillStrokeStyle(null,this.strokeStyle_);e.drawLineString(a,b);e.finish(c);e.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1);e.getDeleteResourcesFunction(c)();this.textStyle_&&this.drawText_(d,a)};
ol.render.webgl.Immediate.prototype.drawMultiLineString=function(a,b){var c=this.context_,d=new ol.render.webgl.ReplayGroup(1,this.extent_),e=d.getReplay(0,ol.render.ReplayType.LINE_STRING);e.setFillStrokeStyle(null,this.strokeStyle_);e.drawMultiLineString(a,b);e.finish(c);e.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1);e.getDeleteResourcesFunction(c)();this.textStyle_&&this.drawText_(d,a)};
ol.render.webgl.Immediate.prototype.drawPolygon=function(a,b){var c=this.context_,d=new ol.render.webgl.ReplayGroup(1,this.extent_),e=d.getReplay(0,ol.render.ReplayType.POLYGON);e.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_);e.drawPolygon(a,b);e.finish(c);e.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1);e.getDeleteResourcesFunction(c)();this.textStyle_&&this.drawText_(d,a)};
ol.render.webgl.Immediate.prototype.drawMultiPolygon=function(a,b){var c=this.context_,d=new ol.render.webgl.ReplayGroup(1,this.extent_),e=d.getReplay(0,ol.render.ReplayType.POLYGON);e.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_);e.drawMultiPolygon(a,b);e.finish(c);e.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1);e.getDeleteResourcesFunction(c)();this.textStyle_&&this.drawText_(d,a)};
ol.render.webgl.Immediate.prototype.drawCircle=function(a,b){var c=this.context_,d=new ol.render.webgl.ReplayGroup(1,this.extent_),e=d.getReplay(0,ol.render.ReplayType.CIRCLE);e.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_);e.drawCircle(a,b);e.finish(c);e.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1);e.getDeleteResourcesFunction(c)();this.textStyle_&&this.drawText_(d,a)};
ol.render.webgl.Immediate.prototype.setImageStyle=function(a){this.imageStyle_=a};ol.render.webgl.Immediate.prototype.setFillStrokeStyle=function(a,b){this.fillStyle_=a;this.strokeStyle_=b};ol.render.webgl.Immediate.prototype.setTextStyle=function(a){this.textStyle_=a};ol.renderer.webgl={};ol.renderer.webgl.defaultmapshader={};ol.renderer.webgl.defaultmapshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}");
ol.renderer.webgl.defaultmapshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");ol.renderer.webgl.defaultmapshader.Locations=function(a,b){this.u_texCoordMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_texCoordMatrix":"d");this.u_projectionMatrix=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_projectionMatrix":"e");this.u_opacity=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_opacity":"f");this.u_texture=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_texture":"g");this.a_position=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_position":"b");this.a_texCoord=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_texCoord":
"c")};ol.renderer.webgl.Layer=function(a,b){ol.renderer.Layer.call(this,b);this.mapRenderer=a;this.arrayBuffer_=new ol.webgl.Buffer([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.framebuffer=this.texture=null;this.framebufferDimension=void 0;this.texCoordMatrix=ol.transform.create();this.projectionMatrix=ol.transform.create();this.tmpMat4_=ol.vec.Mat4.create();this.defaultLocations_=null};ol.inherits(ol.renderer.webgl.Layer,ol.renderer.Layer);
ol.renderer.webgl.Layer.prototype.bindFramebuffer=function(a,b){var c=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=b){var d=function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))}.bind(null,c,this.framebuffer,this.texture);a.postRenderFunctions.push(d);a=ol.webgl.Context.createEmptyTexture(c,b,b);d=c.createFramebuffer();c.bindFramebuffer(ol.webgl.FRAMEBUFFER,d);c.framebufferTexture2D(ol.webgl.FRAMEBUFFER,ol.webgl.COLOR_ATTACHMENT0,
ol.webgl.TEXTURE_2D,a,0);this.texture=a;this.framebuffer=d;this.framebufferDimension=b}else c.bindFramebuffer(ol.webgl.FRAMEBUFFER,this.framebuffer)};
ol.renderer.webgl.Layer.prototype.composeFrame=function(a,b,c){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,c,a);c.bindBuffer(ol.webgl.ARRAY_BUFFER,this.arrayBuffer_);var d=c.getGL(),e=c.getProgram(ol.renderer.webgl.defaultmapshader.fragment,ol.renderer.webgl.defaultmapshader.vertex);if(this.defaultLocations_)var f=this.defaultLocations_;else this.defaultLocations_=f=new ol.renderer.webgl.defaultmapshader.Locations(d,e);c.useProgram(e)&&(d.enableVertexAttribArray(f.a_position),d.vertexAttribPointer(f.a_position,
2,ol.webgl.FLOAT,!1,16,0),d.enableVertexAttribArray(f.a_texCoord),d.vertexAttribPointer(f.a_texCoord,2,ol.webgl.FLOAT,!1,16,8),d.uniform1i(f.u_texture,0));d.uniformMatrix4fv(f.u_texCoordMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getTexCoordMatrix()));d.uniformMatrix4fv(f.u_projectionMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getProjectionMatrix()));d.uniform1f(f.u_opacity,b.opacity);d.bindTexture(ol.webgl.TEXTURE_2D,this.getTexture());d.drawArrays(ol.webgl.TRIANGLE_STRIP,0,
4);this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,c,a)};ol.renderer.webgl.Layer.prototype.dispatchComposeEvent_=function(a,b,c){var d=this.getLayer();if(d.hasListener(a)){var e=c.viewState;e=new ol.render.webgl.Immediate(b,e.center,e.resolution,e.rotation,c.size,c.extent,c.pixelRatio);a=new ol.render.Event(a,e,c,null,b);d.dispatchEvent(a)}};ol.renderer.webgl.Layer.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix};ol.renderer.webgl.Layer.prototype.getTexture=function(){return this.texture};
ol.renderer.webgl.Layer.prototype.getProjectionMatrix=function(){return this.projectionMatrix};ol.renderer.webgl.Layer.prototype.handleWebGLContextLost=function(){this.framebuffer=this.texture=null;this.framebufferDimension=void 0};ol.renderer.webgl.Layer.prototype.prepareFrame=function(a,b,c){};ol.renderer.webgl.Layer.prototype.forEachLayerAtPixel=function(a,b,c,d){};ol.renderer.webgl.ImageLayer=function(a,b){ol.renderer.webgl.Layer.call(this,a,b);this.hitTransformationMatrix_=this.hitCanvasContext_=this.image_=null};ol.inherits(ol.renderer.webgl.ImageLayer,ol.renderer.webgl.Layer);ol.renderer.webgl.ImageLayer.handles=function(a,b){return a===ol.renderer.Type.WEBGL&&b.getType()===ol.LayerType.IMAGE};ol.renderer.webgl.ImageLayer.create=function(a,b){return new ol.renderer.webgl.ImageLayer(a,b)};
ol.renderer.webgl.ImageLayer.prototype.createTexture_=function(a){a=a.getImage();var b=this.mapRenderer.getGL();return ol.webgl.Context.createTexture(b,a,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE)};ol.renderer.webgl.ImageLayer.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e){var f=this.getLayer();return f.getSource().forEachFeatureAtCoordinate(a,b.viewState.resolution,b.viewState.rotation,c,b.skippedFeatureUids,function(a){return d.call(e,a,f)})};
ol.renderer.webgl.ImageLayer.prototype.prepareFrame=function(a,b,c){var d=this.mapRenderer.getGL(),e=a.pixelRatio,f=a.viewState,g=f.center,h=f.resolution,k=f.rotation;c=this.image_;var l=this.texture,m=this.getLayer().getSource(),n=a.viewHints,p=a.extent;void 0!==b.extent&&(p=ol.extent.getIntersection(p,b.extent));n[ol.ViewHint.ANIMATING]||n[ol.ViewHint.INTERACTING]||ol.extent.isEmpty(p)||(b=f.projection,ol.ENABLE_RASTER_REPROJECTION||(f=m.getProjection())&&(b=f),(p=m.getImage(p,h,e,b))&&this.loadImage(p)&&
(c=p,l=this.createTexture_(p),this.texture&&(d=function(a,b){a.isContextLost()||a.deleteTexture(b)}.bind(null,d,this.texture),a.postRenderFunctions.push(d))));c&&(d=this.mapRenderer.getContext().getCanvas(),this.updateProjectionMatrix_(d.width,d.height,e,g,h,k,c.getExtent()),this.hitTransformationMatrix_=null,e=this.texCoordMatrix,ol.transform.reset(e),ol.transform.scale(e,1,-1),ol.transform.translate(e,0,-1),this.image_=c,this.texture=l,this.updateAttributions(a.attributions,c.getAttributions()),
this.updateLogos(a,m));return!!c};ol.renderer.webgl.ImageLayer.prototype.updateProjectionMatrix_=function(a,b,c,d,e,f,g){a*=e;b*=e;e=this.projectionMatrix;ol.transform.reset(e);ol.transform.scale(e,2*c/a,2*c/b);ol.transform.rotate(e,-f);ol.transform.translate(e,g[0]-d[0],g[1]-d[1]);ol.transform.scale(e,(g[2]-g[0])/2,(g[3]-g[1])/2);ol.transform.translate(e,1,1)};
ol.renderer.webgl.ImageLayer.prototype.hasFeatureAtCoordinate=function(a,b){return void 0!==this.forEachFeatureAtCoordinate(a,b,0,ol.functions.TRUE,this)};
ol.renderer.webgl.ImageLayer.prototype.forEachLayerAtPixel=function(a,b,c,d){if(this.image_&&this.image_.getImage())if(this.getLayer().getSource()instanceof ol.source.ImageVector){var e=ol.transform.apply(b.pixelToCoordinateTransform,a.slice());if(this.forEachFeatureAtCoordinate(e,b,0,ol.functions.TRUE,this))return c.call(d,this.getLayer(),null)}else if(e=[this.image_.getImage().width,this.image_.getImage().height],this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(b.size,
e)),b=ol.transform.apply(this.hitTransformationMatrix_,a.slice()),!(0>b[0]||b[0]>e[0]||0>b[1]||b[1]>e[1])&&(this.hitCanvasContext_||(this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),b[0],b[1],1,1,0,0,1,1),b=this.hitCanvasContext_.getImageData(0,0,1,1).data,0<b[3]))return c.call(d,this.getLayer(),b)};
ol.renderer.webgl.ImageLayer.prototype.getHitTransformationMatrix_=function(a,b){var c=ol.transform.create();ol.transform.translate(c,-1,-1);ol.transform.scale(c,2/a[0],2/a[1]);ol.transform.translate(c,0,a[1]);ol.transform.scale(c,1,-1);a=ol.transform.invert(this.projectionMatrix.slice());var d=ol.transform.create();ol.transform.translate(d,0,b[1]);ol.transform.scale(d,1,-1);ol.transform.scale(d,b[0]/2,b[1]/2);ol.transform.translate(d,1,1);ol.transform.multiply(d,a);ol.transform.multiply(d,c);return d};ol.renderer.webgl.Map=function(a,b){ol.renderer.Map.call(this,a,b);this.canvas_=document.createElement("CANVAS");this.canvas_.style.width="100%";this.canvas_.style.height="100%";this.canvas_.style.display="block";this.canvas_.className=ol.css.CLASS_UNSELECTABLE;a.insertBefore(this.canvas_,a.childNodes[0]||null);this.clipTileCanvasHeight_=this.clipTileCanvasWidth_=0;this.clipTileContext_=ol.dom.createCanvasContext2D();this.renderedVisible_=!0;this.gl_=ol.webgl.getContext(this.canvas_,{antialias:!0,
depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0});this.context_=new ol.webgl.Context(this.canvas_,this.gl_);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,this.handleWebGLContextRestored,this);this.textureCache_=new ol.structs.LRUCache;this.focus_=null;this.tileTextureQueue_=new ol.structs.PriorityQueue(function(a){var b=a[1];a=a[2];var c=b[0]-this.focus_[0];
b=b[1]-this.focus_[1];return 65536*Math.log(a)+Math.sqrt(c*c+b*b)/a}.bind(this),function(a){return a[0].getKey()});this.loadNextTileTexture_=function(a,b){this.tileTextureQueue_.isEmpty()||(this.tileTextureQueue_.reprioritize(),a=this.tileTextureQueue_.dequeue(),this.bindTileTexture(a[0],a[3],a[4],ol.webgl.LINEAR,ol.webgl.LINEAR));return!1}.bind(this);this.textureCacheFrameMarkerCount_=0;this.initializeGL_()};ol.inherits(ol.renderer.webgl.Map,ol.renderer.Map);
ol.renderer.webgl.Map.handles=function(a){return ol.has.WEBGL&&a===ol.renderer.Type.WEBGL};ol.renderer.webgl.Map.create=function(a,b){return new ol.renderer.webgl.Map(a,b)};
ol.renderer.webgl.Map.prototype.bindTileTexture=function(a,b,c,d,e){var f=this.getGL(),g=a.getKey();if(this.textureCache_.containsKey(g))a=this.textureCache_.get(g),f.bindTexture(ol.webgl.TEXTURE_2D,a.texture),a.magFilter!=d&&(f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,d),a.magFilter=d),a.minFilter!=e&&(f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,e),a.minFilter=e);else{var h=f.createTexture();f.bindTexture(ol.webgl.TEXTURE_2D,h);if(0<c){var k=this.clipTileContext_.canvas,
l=this.clipTileContext_;this.clipTileCanvasWidth_!==b[0]||this.clipTileCanvasHeight_!==b[1]?(k.width=b[0],k.height=b[1],this.clipTileCanvasWidth_=b[0],this.clipTileCanvasHeight_=b[1]):l.clearRect(0,0,b[0],b[1]);l.drawImage(a.getImage(),c,c,b[0],b[1],0,0,b[0],b[1]);f.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,k)}else f.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,a.getImage());f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,
d);f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,e);f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,ol.webgl.CLAMP_TO_EDGE);f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,ol.webgl.CLAMP_TO_EDGE);this.textureCache_.set(g,{texture:h,magFilter:d,minFilter:e})}};
ol.renderer.webgl.Map.prototype.dispatchComposeEvent_=function(a,b){var c=this.getMap();if(c.hasListener(a)){var d=this.context_,e=b.viewState;e=new ol.render.webgl.Immediate(d,e.center,e.resolution,e.rotation,b.size,b.extent,b.pixelRatio);a=new ol.render.Event(a,e,b,null,d);c.dispatchEvent(a)}};ol.renderer.webgl.Map.prototype.disposeInternal=function(){var a=this.getGL();a.isContextLost()||this.textureCache_.forEach(function(b){b&&a.deleteTexture(b.texture)});this.context_.dispose();ol.renderer.Map.prototype.disposeInternal.call(this)};
ol.renderer.webgl.Map.prototype.expireCache_=function(a,b){a=this.getGL();for(var c;this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK;){if(c=this.textureCache_.peekLast())a.deleteTexture(c.texture);else if(+this.textureCache_.peekLastKey()==b.index)break;else--this.textureCacheFrameMarkerCount_;this.textureCache_.pop()}};ol.renderer.webgl.Map.prototype.getContext=function(){return this.context_};ol.renderer.webgl.Map.prototype.getGL=function(){return this.gl_};
ol.renderer.webgl.Map.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_};ol.renderer.webgl.Map.prototype.getType=function(){return ol.renderer.Type.WEBGL};ol.renderer.webgl.Map.prototype.handleWebGLContextLost=function(a){a.preventDefault();this.textureCache_.clear();this.textureCacheFrameMarkerCount_=0;a=this.getLayerRenderers();for(var b in a)a[b].handleWebGLContextLost()};ol.renderer.webgl.Map.prototype.handleWebGLContextRestored=function(){this.initializeGL_();this.getMap().render()};
ol.renderer.webgl.Map.prototype.initializeGL_=function(){var a=this.gl_;a.activeTexture(ol.webgl.TEXTURE0);a.blendFuncSeparate(ol.webgl.SRC_ALPHA,ol.webgl.ONE_MINUS_SRC_ALPHA,ol.webgl.ONE,ol.webgl.ONE_MINUS_SRC_ALPHA);a.disable(ol.webgl.CULL_FACE);a.disable(ol.webgl.DEPTH_TEST);a.disable(ol.webgl.SCISSOR_TEST);a.disable(ol.webgl.STENCIL_TEST)};ol.renderer.webgl.Map.prototype.isTileTextureLoaded=function(a){return this.textureCache_.containsKey(a.getKey())};
ol.renderer.webgl.Map.prototype.renderFrame=function(a){var b=this.getContext(),c=this.getGL();if(c.isContextLost())return!1;if(!a)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=a.focus;this.textureCache_.set((-a.index).toString(),null);++this.textureCacheFrameMarkerCount_;this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,a);var d=[],e=a.layerStatesArray;ol.array.stableSort(e,ol.renderer.Map.sortByZIndex);var f=a.viewState.resolution,
g;var h=0;for(g=e.length;h<g;++h){var k=e[h];if(ol.layer.Layer.visibleAtResolution(k,f)&&k.sourceState==ol.source.State.READY){var l=this.getLayerRenderer(k.layer);l.prepareFrame(a,k,b)&&d.push(k)}}e=a.size[0]*a.pixelRatio;f=a.size[1]*a.pixelRatio;if(this.canvas_.width!=e||this.canvas_.height!=f)this.canvas_.width=e,this.canvas_.height=f;c.bindFramebuffer(ol.webgl.FRAMEBUFFER,null);c.clearColor(0,0,0,0);c.clear(ol.webgl.COLOR_BUFFER_BIT);c.enable(ol.webgl.BLEND);c.viewport(0,0,this.canvas_.width,
this.canvas_.height);h=0;for(g=d.length;h<g;++h)k=d[h],l=this.getLayerRenderer(k.layer),l.composeFrame(a,k,b);this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0);this.calculateMatrices2D(a);this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK&&a.postRenderFunctions.push(this.expireCache_.bind(this));this.tileTextureQueue_.isEmpty()||(a.postRenderFunctions.push(this.loadNextTileTexture_),a.animate=!0);this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,
a);this.scheduleRemoveUnusedLayerRenderers(a);this.scheduleExpireIconCache(a)};ol.renderer.webgl.Map.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e,f,g){if(this.getGL().isContextLost())return!1;var h=b.viewState,k=b.layerStatesArray,l;for(l=k.length-1;0<=l;--l){var m=k[l];var n=m.layer;if(ol.layer.Layer.visibleAtResolution(m,h.resolution)&&f.call(g,n)&&(m=this.getLayerRenderer(n).forEachFeatureAtCoordinate(a,b,c,d,e)))return m}};
ol.renderer.webgl.Map.prototype.hasFeatureAtCoordinate=function(a,b,c,d,e){c=!1;if(this.getGL().isContextLost())return!1;var f=b.viewState,g=b.layerStatesArray,h;for(h=g.length-1;0<=h;--h){var k=g[h],l=k.layer;if(ol.layer.Layer.visibleAtResolution(k,f.resolution)&&d.call(e,l)&&(c=this.getLayerRenderer(l).hasFeatureAtCoordinate(a,b)))return!0}return c};
ol.renderer.webgl.Map.prototype.forEachLayerAtPixel=function(a,b,c,d,e,f){if(this.getGL().isContextLost())return!1;f=b.viewState;var g=b.layerStatesArray,h;for(h=g.length-1;0<=h;--h){var k=g[h];var l=k.layer;if(ol.layer.Layer.visibleAtResolution(k,f.resolution)&&e.call(d,l)&&(k=this.getLayerRenderer(l).forEachLayerAtPixel(a,b,c,d)))return k}};ol.renderer.webgl.tilelayershader={};ol.renderer.webgl.tilelayershader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}");
ol.renderer.webgl.tilelayershader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");ol.renderer.webgl.tilelayershader.Locations=function(a,b){this.u_tileOffset=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_tileOffset":"d");this.u_texture=a.getUniformLocation(b,ol.DEBUG_WEBGL?"u_texture":"e");this.a_position=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_position":"b");this.a_texCoord=a.getAttribLocation(b,ol.DEBUG_WEBGL?"a_texCoord":"c")};ol.renderer.webgl.TileLayer=function(a,b){ol.renderer.webgl.Layer.call(this,a,b);this.fragmentShader_=ol.renderer.webgl.tilelayershader.fragment;this.vertexShader_=ol.renderer.webgl.tilelayershader.vertex;this.locations_=null;this.renderArrayBuffer_=new ol.webgl.Buffer([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.renderedFramebufferExtent_=this.renderedTileRange_=null;this.renderedRevision_=-1;this.tmpSize_=[0,0]};ol.inherits(ol.renderer.webgl.TileLayer,ol.renderer.webgl.Layer);
ol.renderer.webgl.TileLayer.handles=function(a,b){return a===ol.renderer.Type.WEBGL&&b.getType()===ol.LayerType.TILE};ol.renderer.webgl.TileLayer.create=function(a,b){return new ol.renderer.webgl.TileLayer(a,b)};ol.renderer.webgl.TileLayer.prototype.disposeInternal=function(){this.mapRenderer.getContext().deleteBuffer(this.renderArrayBuffer_);ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)};
ol.renderer.webgl.TileLayer.prototype.createLoadedTileFinder=function(a,b,c){var d=this.mapRenderer;return function(e,f){return a.forEachLoadedTile(b,e,f,function(a){var b=d.isTileTextureLoaded(a);b&&(c[e]||(c[e]={}),c[e][a.tileCoord.toString()]=a);return b})}};ol.renderer.webgl.TileLayer.prototype.handleWebGLContextLost=function(){ol.renderer.webgl.Layer.prototype.handleWebGLContextLost.call(this);this.locations_=null};
ol.renderer.webgl.TileLayer.prototype.prepareFrame=function(a,b,c){var d=this.mapRenderer,e=c.getGL(),f=a.viewState,g=f.projection,h=this.getLayer(),k=h.getSource(),l=k.getTileGridForProjection(g),m=l.getZForResolution(f.resolution),n=l.getResolution(m),p=k.getTilePixelSize(m,a.pixelRatio,g),q=p[0]/ol.size.toSize(l.getTileSize(m),this.tmpSize_)[0],r=n/q,u=k.getTilePixelRatio(q)*k.getGutter(g),t=f.center,w=a.extent,v=l.getTileRangeForExtentAndZ(w,m);if(this.renderedTileRange_&&this.renderedTileRange_.equals(v)&&
this.renderedRevision_==k.getRevision())r=this.renderedFramebufferExtent_;else{var A=v.getSize(),y=ol.math.roundUpToPowerOfTwo(Math.max(A[0]*p[0],A[1]*p[1]));A=r*y;var x=l.getOrigin(m),B=x[0]+v.minX*p[0]*r;r=x[1]+v.minY*p[1]*r;r=[B,r,B+A,r+A];this.bindFramebuffer(a,y);e.viewport(0,0,y,y);e.clearColor(0,0,0,0);e.clear(ol.webgl.COLOR_BUFFER_BIT);e.disable(ol.webgl.BLEND);y=c.getProgram(this.fragmentShader_,this.vertexShader_);c.useProgram(y);this.locations_||(this.locations_=new ol.renderer.webgl.tilelayershader.Locations(e,
y));c.bindBuffer(ol.webgl.ARRAY_BUFFER,this.renderArrayBuffer_);e.enableVertexAttribArray(this.locations_.a_position);e.vertexAttribPointer(this.locations_.a_position,2,ol.webgl.FLOAT,!1,16,0);e.enableVertexAttribArray(this.locations_.a_texCoord);e.vertexAttribPointer(this.locations_.a_texCoord,2,ol.webgl.FLOAT,!1,16,8);e.uniform1i(this.locations_.u_texture,0);c={};c[m]={};var z=this.createLoadedTileFinder(k,g,c),D=h.getUseInterimTilesOnError();y=!0;B=ol.extent.createEmpty();var C=new ol.TileRange(0,
0,0,0),F,G;for(F=v.minX;F<=v.maxX;++F)for(G=v.minY;G<=v.maxY;++G){x=k.getTile(m,F,G,q,g);if(void 0!==b.extent){var E=l.getTileCoordExtent(x.tileCoord,B);if(!ol.extent.intersects(E,b.extent))continue}E=x.getState();(E=E==ol.TileState.LOADED||E==ol.TileState.EMPTY||E==ol.TileState.ERROR&&!D)||(x=x.getInterimTile());E=x.getState();if(E==ol.TileState.LOADED){if(d.isTileTextureLoaded(x)){c[m][x.tileCoord.toString()]=x;continue}}else if(E==ol.TileState.EMPTY||E==ol.TileState.ERROR&&!D)continue;y=!1;E=l.forEachTileCoordParentTileRange(x.tileCoord,
z,null,C,B);E||(x=l.getTileCoordChildTileRange(x.tileCoord,C,B))&&z(m+1,x)}b=Object.keys(c).map(Number);b.sort(ol.array.numberSafeCompareFunction);z=new Float32Array(4);var I;D=0;for(C=b.length;D<C;++D)for(I in F=c[b[D]],F)x=F[I],E=l.getTileCoordExtent(x.tileCoord,B),z[0]=2*(E[2]-E[0])/A,z[1]=2*(E[3]-E[1])/A,z[2]=2*(E[0]-r[0])/A-1,z[3]=2*(E[1]-r[1])/A-1,e.uniform4fv(this.locations_.u_tileOffset,z),d.bindTileTexture(x,p,u*q,ol.webgl.LINEAR,ol.webgl.LINEAR),e.drawArrays(ol.webgl.TRIANGLE_STRIP,0,4);
y?(this.renderedTileRange_=v,this.renderedFramebufferExtent_=r,this.renderedRevision_=k.getRevision()):(this.renderedFramebufferExtent_=this.renderedTileRange_=null,this.renderedRevision_=-1,a.animate=!0)}this.updateUsedTiles(a.usedTiles,k,m,v);var H=d.getTileTextureQueue();this.manageTilePyramid(a,k,l,q,g,w,m,h.getPreload(),function(a){a.getState()!=ol.TileState.LOADED||d.isTileTextureLoaded(a)||H.isKeyQueued(a.getKey())||H.enqueue([a,l.getTileCoordCenter(a.tileCoord),l.getResolution(a.tileCoord[0]),
p,u*q])},this);this.scheduleExpireCache(a,k);this.updateLogos(a,k);e=this.texCoordMatrix;ol.transform.reset(e);ol.transform.translate(e,(Math.round(t[0]/n)*n-r[0])/(r[2]-r[0]),(Math.round(t[1]/n)*n-r[1])/(r[3]-r[1]));0!==f.rotation&&ol.transform.rotate(e,f.rotation);ol.transform.scale(e,a.size[0]*f.resolution/(r[2]-r[0]),a.size[1]*f.resolution/(r[3]-r[1]));ol.transform.translate(e,-.5,-.5);return!0};
ol.renderer.webgl.TileLayer.prototype.forEachLayerAtPixel=function(a,b,c,d){if(this.framebuffer){a=ol.transform.apply(this.texCoordMatrix,[a[0]/b.size[0],(b.size[1]-a[1])/b.size[1]].slice());a=[a[0]*this.framebufferDimension,a[1]*this.framebufferDimension];b=this.mapRenderer.getContext().getGL();b.bindFramebuffer(b.FRAMEBUFFER,this.framebuffer);var e=new Uint8Array(4);b.readPixels(a[0],a[1],1,1,b.RGBA,b.UNSIGNED_BYTE,e);if(0<e[3])return c.call(d,this.getLayer(),e)}};ol.renderer.webgl.VectorLayer=function(a,b){ol.renderer.webgl.Layer.call(this,a,b);this.dirty_=!1;this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=ol.extent.createEmpty();this.layerState_=this.replayGroup_=this.renderedRenderOrder_=null};ol.inherits(ol.renderer.webgl.VectorLayer,ol.renderer.webgl.Layer);ol.renderer.webgl.VectorLayer.handles=function(a,b){return a===ol.renderer.Type.WEBGL&&b.getType()===ol.LayerType.VECTOR};
ol.renderer.webgl.VectorLayer.create=function(a,b){return new ol.renderer.webgl.VectorLayer(a,b)};ol.renderer.webgl.VectorLayer.prototype.composeFrame=function(a,b,c){this.layerState_=b;var d=a.viewState,e=this.replayGroup_,f=a.size,g=a.pixelRatio,h=this.mapRenderer.getGL();e&&!e.isEmpty()&&(h.enable(h.SCISSOR_TEST),h.scissor(0,0,f[0]*g,f[1]*g),e.replay(c,d.center,d.resolution,d.rotation,f,g,b.opacity,b.managed?a.skippedFeatureUids:{}),h.disable(h.SCISSOR_TEST))};
ol.renderer.webgl.VectorLayer.prototype.disposeInternal=function(){var a=this.replayGroup_;if(a){var b=this.mapRenderer.getContext();a.getDeleteResourcesFunction(b)();this.replayGroup_=null}ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)};
ol.renderer.webgl.VectorLayer.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e){if(this.replayGroup_&&this.layerState_){c=this.mapRenderer.getContext();var f=b.viewState,g=this.getLayer(),h={};return this.replayGroup_.forEachFeatureAtCoordinate(a,c,f.center,f.resolution,f.rotation,b.size,b.pixelRatio,this.layerState_.opacity,{},function(a){var b=ol.getUid(a).toString();if(!(b in h))return h[b]=!0,d.call(e,a,g)})}};
ol.renderer.webgl.VectorLayer.prototype.hasFeatureAtCoordinate=function(a,b){if(this.replayGroup_&&this.layerState_){var c=this.mapRenderer.getContext(),d=b.viewState;return this.replayGroup_.hasFeatureAtCoordinate(a,c,d.center,d.resolution,d.rotation,b.size,b.pixelRatio,this.layerState_.opacity,b.skippedFeatureUids)}return!1};
ol.renderer.webgl.VectorLayer.prototype.forEachLayerAtPixel=function(a,b,c,d){a=ol.transform.apply(b.pixelToCoordinateTransform,a.slice());if(this.hasFeatureAtCoordinate(a,b))return c.call(d,this.getLayer(),null)};ol.renderer.webgl.VectorLayer.prototype.handleStyleImageChange_=function(a){this.renderIfReadyAndVisible()};
ol.renderer.webgl.VectorLayer.prototype.prepareFrame=function(a,b,c){var d=this.getLayer();b=d.getSource();this.updateAttributions(a.attributions,b.getAttributions());this.updateLogos(a,b);var e=a.viewHints[ol.ViewHint.ANIMATING],f=a.viewHints[ol.ViewHint.INTERACTING],g=d.getUpdateWhileAnimating(),h=d.getUpdateWhileInteracting();if(!this.dirty_&&!g&&e||!h&&f)return!0;h=a.extent;f=a.viewState;e=f.projection;var k=f.resolution,l=a.pixelRatio;f=d.getRevision();var m=d.getRenderBuffer();g=d.getRenderOrder();
void 0===g&&(g=ol.renderer.vector.defaultOrder);h=ol.extent.buffer(h,m*k);if(!this.dirty_&&this.renderedResolution_==k&&this.renderedRevision_==f&&this.renderedRenderOrder_==g&&ol.extent.containsExtent(this.renderedExtent_,h))return!0;this.replayGroup_&&a.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(c));this.dirty_=!1;var n=new ol.render.webgl.ReplayGroup(ol.renderer.vector.getTolerance(k,l),h,d.getRenderBuffer());b.loadFeatures(h,k,e);a=function(a){var b=a.getStyleFunction();
if(b)var c=b.call(a,k);else(b=d.getStyleFunction())&&(c=b(a,k));c&&(a=this.renderFeature(a,k,l,c,n),this.dirty_=this.dirty_||a)};if(g){var p=[];b.forEachFeatureInExtent(h,function(a){p.push(a)},this);p.sort(g);p.forEach(a,this)}else b.forEachFeatureInExtent(h,a,this);n.finish(c);this.renderedResolution_=k;this.renderedRevision_=f;this.renderedRenderOrder_=g;this.renderedExtent_=h;this.replayGroup_=n;return!0};
ol.renderer.webgl.VectorLayer.prototype.renderFeature=function(a,b,c,d,e){if(!d)return!1;var f=!1;if(Array.isArray(d))for(var g=d.length-1;0<=g;--g)f=ol.renderer.vector.renderFeature(e,a,d[g],ol.renderer.vector.getSquaredTolerance(b,c),this.handleStyleImageChange_,this)||f;else f=ol.renderer.vector.renderFeature(e,a,d,ol.renderer.vector.getSquaredTolerance(b,c),this.handleStyleImageChange_,this)||f;return f};ol.ENABLE_CANVAS&&(ol.plugins.register(ol.PluginType.MAP_RENDERER,ol.renderer.canvas.Map),ol.plugins.registerMultiple(ol.PluginType.LAYER_RENDERER,[ol.renderer.canvas.ImageLayer,ol.renderer.canvas.TileLayer,ol.renderer.canvas.VectorLayer,ol.renderer.canvas.VectorTileLayer]));ol.ENABLE_WEBGL&&(ol.plugins.register(ol.PluginType.MAP_RENDERER,ol.renderer.webgl.Map),ol.plugins.registerMultiple(ol.PluginType.LAYER_RENDERER,[ol.renderer.webgl.ImageLayer,ol.renderer.webgl.TileLayer,ol.renderer.webgl.VectorLayer]));
ol.Map=function(a){a=ol.obj.assign({},a);a.controls||(a.controls=ol.control.defaults());a.interactions||(a.interactions=ol.interaction.defaults());ol.PluggableMap.call(this,a)};ol.inherits(ol.Map,ol.PluggableMap);ol.geom.flat.interpolate={};
ol.geom.flat.interpolate.lineString=function(a,b,c,d,e,f){var g=NaN,h=NaN,k=(c-b)/d;if(1===k)g=a[b],h=a[b+1];else if(2==k)g=(1-e)*a[b]+e*a[b+d],h=(1-e)*a[b+1]+e*a[b+d+1];else if(0!==k){h=a[b];k=a[b+1];var l=0;g=[0];var m;for(m=b+d;m<c;m+=d){var n=a[m],p=a[m+1];l+=Math.sqrt((n-h)*(n-h)+(p-k)*(p-k));g.push(l);h=n;k=p}e*=l;c=ol.array.binarySearch(g,e);0>c?(e=(e-g[-c-2])/(g[-c-1]-g[-c-2]),b+=(-c-2)*d,g=ol.math.lerp(a[b],a[b+d],e),h=ol.math.lerp(a[b+1],a[b+d+1],e)):(g=a[b+c*d],h=a[b+c*d+1])}return f?(f[0]=
g,f[1]=h,f):[g,h]};ol.geom.flat.interpolate.lineStringCoordinateAtM=function(a,b,c,d,e,f){if(c==b)return null;if(e<a[b+d-1])return f?(c=a.slice(b,b+d),c[d-1]=e,c):null;if(a[c-1]<e)return f?(c=a.slice(c-d,c),c[d-1]=e,c):null;if(e==a[b+d-1])return a.slice(b,b+d);b/=d;for(c/=d;b<c;)f=b+c>>1,e<a[(f+1)*d-1]?c=f:b=f+1;c=a[b*d-1];if(e==c)return a.slice((b-1)*d,(b-1)*d+d);f=(e-c)/(a[(b+1)*d-1]-c);c=[];var g;for(g=0;g<d-1;++g)c.push(ol.math.lerp(a[(b-1)*d+g],a[b*d+g],f));c.push(e);return c};
ol.geom.flat.interpolate.lineStringsCoordinateAtM=function(a,b,c,d,e,f,g){if(g)return ol.geom.flat.interpolate.lineStringCoordinateAtM(a,b,c[c.length-1],d,e,f);if(e<a[d-1])return f?(a=a.slice(0,d),a[d-1]=e,a):null;if(a[a.length-1]<e)return f?(a=a.slice(a.length-d),a[d-1]=e,a):null;f=0;for(g=c.length;f<g;++f){var h=c[f];if(b!=h){if(e<a[b+d-1])break;else if(e<=a[h-1])return ol.geom.flat.interpolate.lineStringCoordinateAtM(a,b,h,d,e,!1);b=h}}return null};ol.geom.LineString=function(a,b){ol.geom.SimpleGeometry.call(this);this.flatMidpoint_=null;this.maxDeltaRevision_=this.maxDelta_=this.flatMidpointRevision_=-1;this.setCoordinates(a,b)};ol.inherits(ol.geom.LineString,ol.geom.SimpleGeometry);ol.geom.LineString.prototype.appendCoordinate=function(a){this.flatCoordinates?ol.array.extend(this.flatCoordinates,a):this.flatCoordinates=a.slice();this.changed()};
ol.geom.LineString.prototype.clone=function(){var a=new ol.geom.LineString(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return a};
ol.geom.LineString.prototype.closestPointXY=function(a,b,c,d){if(d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b))return d;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,a,b,c,d)};
ol.geom.LineString.prototype.forEachSegment=function(a,b){return ol.geom.flat.segments.forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,b)};ol.geom.LineString.prototype.getCoordinateAtM=function(a,b){return this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM?null:ol.geom.flat.interpolate.lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,void 0!==b?b:!1)};
ol.geom.LineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LineString.prototype.getCoordinateAt=function(a,b){return ol.geom.flat.interpolate.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,b)};ol.geom.LineString.prototype.getLength=function(){return ol.geom.flat.length.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};
ol.geom.LineString.prototype.getFlatMidpoint=function(){this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision());return this.flatMidpoint_};
ol.geom.LineString.prototype.getSimplifiedGeometryInternal=function(a){var b=[];b.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,b,0);a=new ol.geom.LineString(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XY,b);return a};ol.geom.LineString.prototype.getType=function(){return ol.geom.GeometryType.LINE_STRING};
ol.geom.LineString.prototype.intersectsExtent=function(a){return ol.geom.flat.intersectsextent.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a)};ol.geom.LineString.prototype.setCoordinates=function(a,b){a?(this.setLayout(b,a,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,a,this.stride),this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)};
ol.geom.LineString.prototype.setFlatCoordinates=function(a,b){this.setFlatCoordinatesInternal(a,b);this.changed()};ol.geom.MultiLineString=function(a,b){ol.geom.SimpleGeometry.call(this);this.ends_=[];this.maxDeltaRevision_=this.maxDelta_=-1;this.setCoordinates(a,b)};ol.inherits(ol.geom.MultiLineString,ol.geom.SimpleGeometry);ol.geom.MultiLineString.prototype.appendLineString=function(a){this.flatCoordinates?ol.array.extend(this.flatCoordinates,a.getFlatCoordinates().slice()):this.flatCoordinates=a.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()};
ol.geom.MultiLineString.prototype.clone=function(){var a=new ol.geom.MultiLineString(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice());return a};
ol.geom.MultiLineString.prototype.closestPointXY=function(a,b,c,d){if(d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b))return d;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,a,b,c,d)};
ol.geom.MultiLineString.prototype.getCoordinateAtM=function(a,b,c){return this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM||0===this.flatCoordinates.length?null:ol.geom.flat.interpolate.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,a,void 0!==b?b:!1,void 0!==c?c:!1)};ol.geom.MultiLineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinatess(this.flatCoordinates,0,this.ends_,this.stride)};
ol.geom.MultiLineString.prototype.getEnds=function(){return this.ends_};ol.geom.MultiLineString.prototype.getLineString=function(a){if(0>a||this.ends_.length<=a)return null;var b=new ol.geom.LineString(null);b.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===a?0:this.ends_[a-1],this.ends_[a]));return b};
ol.geom.MultiLineString.prototype.getLineStrings=function(){var a=this.flatCoordinates,b=this.ends_,c=this.layout,d=[],e=0,f;var g=0;for(f=b.length;g<f;++g){var h=b[g],k=new ol.geom.LineString(null);k.setFlatCoordinates(c,a.slice(e,h));d.push(k);e=h}return d};
ol.geom.MultiLineString.prototype.getFlatMidpoints=function(){var a=[],b=this.flatCoordinates,c=0,d=this.ends_,e=this.stride,f;var g=0;for(f=d.length;g<f;++g){var h=d[g];c=ol.geom.flat.interpolate.lineString(b,c,h,e,.5);ol.array.extend(a,c);c=h}return a};
ol.geom.MultiLineString.prototype.getSimplifiedGeometryInternal=function(a){var b=[],c=[];b.length=ol.geom.flat.simplify.douglasPeuckers(this.flatCoordinates,0,this.ends_,this.stride,a,b,0,c);a=new ol.geom.MultiLineString(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XY,b,c);return a};ol.geom.MultiLineString.prototype.getType=function(){return ol.geom.GeometryType.MULTI_LINE_STRING};
ol.geom.MultiLineString.prototype.intersectsExtent=function(a){return ol.geom.flat.intersectsextent.lineStrings(this.flatCoordinates,0,this.ends_,this.stride,a)};
ol.geom.MultiLineString.prototype.setCoordinates=function(a,b){a?(this.setLayout(b,a,2),this.flatCoordinates||(this.flatCoordinates=[]),a=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,a,this.stride,this.ends_),this.flatCoordinates.length=0===a.length?0:a[a.length-1],this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)};ol.geom.MultiLineString.prototype.setFlatCoordinates=function(a,b,c){this.setFlatCoordinatesInternal(a,b);this.ends_=c;this.changed()};
ol.geom.MultiLineString.prototype.setLineStrings=function(a){var b=this.getLayout(),c=[],d=[],e;var f=0;for(e=a.length;f<e;++f){var g=a[f];0===f&&(b=g.getLayout());ol.array.extend(c,g.getFlatCoordinates());d.push(c.length)}this.setFlatCoordinates(b,c,d)};os.array={};os.array.binaryInsert=function(a,b,c){c=goog.array.binarySearch(a,b,c);return 0>c?(c=-c-1,goog.array.insertAt(a,b,c),c):-1};os.array.sortByField=function(a,b,c){return goog.array.defaultCompare(b[a],c[a])};os.array.sortByFieldDesc=function(a,b,c){return goog.array.defaultCompare(c[a],b[a])};os.array.forEachSafe=function(a,b,c){a&&goog.array.forEach(a,b,c)};os.array.arrayCopy=function(a,b,c,d,e){for(var f=b;f<b+e;f+=1)c[d++]=a[f]};
os.array.findDuplicates=function(a,b){var c=[],d=function(a){return goog.isObject(g)?"o"+goog.getUid(g):(typeof g).slice(0,2)+g};b=b||d;d={};for(var e=0,f=0;f<a.length;){var g=a[f++],h=b(g);Object.prototype.hasOwnProperty.call(d,h)?c[e++]=g:d[h]=!0}return c};
os.array.removeDuplicates=function(a,b,c){b=b||a;var d=function(a){return goog.isObject(h)?goog.isArray(h)?"a"+JSON.stringify(h):"o"+goog.getUid(h):(typeof h).slice(0,2)+h};c=c||d;d={};for(var e=0,f=0,g=!1;f<a.length;){var h=a[f++],k=c(h);Object.prototype.hasOwnProperty.call(d,k)?g=!0:(d[k]=!0,b[e++]=h)}b.length=e;return g};os.array.crossProductSort=function(a,b){return-1*goog.array.defaultCompare(a.crossProduct,b.crossProduct)};
os.array.join=function(a,b){var c=[];a=a.sort(os.array.crossProductSort);a=a.reduce(function(a,c,d){return c.data.reduce(function(a,e){var f=c.indexer(e,c.crossProduct);if(c.crossProduct){if(0<d)throw Error("Multiple cross product sets are not supported!");f in a||(a[f]=[]);a[f].push(e)}else if(void 0!==f&&null!==f){var g=a[f];g&&(a[f]=g.map(b.bind(null,e)))}return a},a||{})},null);for(var d in a)c=c.concat(a[d]);return c};
os.array.binaryStrideSearch=function(a,b,c,d,e){e=e||goog.array.defaultCompare;d=goog.math.clamp(d,0,c-1);for(var f=0,g=a.length,h;f<g;){var k=f+g>>1;k-=k%c;var l=e(b,a[k+d]);0<l?f=k+c:(g=k,h=!l)}return h?f:~f};os.extent={};os.extent.clamp=function(a,b,c){c=c||[];c[0]=goog.math.clamp(a[0],b[0],b[2]);c[1]=goog.math.clamp(a[1],b[1],b[3]);c[2]=goog.math.clamp(a[2],b[0],b[2]);c[3]=goog.math.clamp(a[3],b[1],b[3]);return c};
os.extent.getFunctionalExtent=function(a){if(!a)return null;var b=os.map.PROJECTION;b.getCode()!==os.proj.EPSG4326&&(a=a.clone().toLonLat());var c=a.getExtent();if(a instanceof ol.geom.SimpleGeometry&&os.geo.crossesDateLine(a)){var d=360,e=0,f=a.getFlatCoordinates();a=a.getStride();for(var g=0,h=f.length;g<h;g+=a){var k=os.geo.normalizeLongitude(f[g],0,360);d=Math.min(d,k);e=Math.max(e,k)}c[0]=d;c[2]=e}180<c[2]-c[0]&&(d=c[0]+360,c[0]=c[2],c[2]=d);b.getCode()!==os.proj.EPSG4326&&(c=ol.proj.transformExtent(c,
os.proj.EPSG4326,b));return c};os.geom={};os.geom.GeometryField={DYNAMIC:"_dynamic",NORMALIZED:"_normalized"};ol.geom.Circle=function(a,b,c){ol.geom.SimpleGeometry.call(this);this.setCenterAndRadius(a,b?b:0,c)};ol.inherits(ol.geom.Circle,ol.geom.SimpleGeometry);ol.geom.Circle.prototype.clone=function(){var a=new ol.geom.Circle(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return a};
ol.geom.Circle.prototype.closestPointXY=function(a,b,c,d){var e=this.flatCoordinates;a-=e[0];var f=b-e[1];b=a*a+f*f;if(b<d){0===b?d=0:(d=this.getRadius()/Math.sqrt(b),c[0]=e[0]+d*a,c[1]=e[1]+d*f,d=2);for(;d<this.stride;++d)c[d]=e[d];c.length=this.stride;return b}return d};ol.geom.Circle.prototype.containsXY=function(a,b){var c=this.flatCoordinates;a-=c[0];b-=c[1];return a*a+b*b<=this.getRadiusSquared_()};ol.geom.Circle.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)};
ol.geom.Circle.prototype.computeExtent=function(a){var b=this.flatCoordinates,c=b[this.stride]-b[0];return ol.extent.createOrUpdate(b[0]-c,b[1]-c,b[0]+c,b[1]+c,a)};ol.geom.Circle.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())};ol.geom.Circle.prototype.getRadiusSquared_=function(){var a=this.flatCoordinates[this.stride]-this.flatCoordinates[0],b=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return a*a+b*b};ol.geom.Circle.prototype.getType=function(){return ol.geom.GeometryType.CIRCLE};
ol.geom.Circle.prototype.intersectsExtent=function(a){var b=this.getExtent();return ol.extent.intersects(a,b)?(b=this.getCenter(),a[0]<=b[0]&&a[2]>=b[0]||a[1]<=b[1]&&a[3]>=b[1]?!0:ol.extent.forEachCorner(a,this.intersectsCoordinate,this)):!1};ol.geom.Circle.prototype.setCenter=function(a){var b=this.stride,c=this.flatCoordinates[b]-this.flatCoordinates[0],d=a.slice();d[b]=d[0]+c;for(c=1;c<b;++c)d[b+c]=a[c];this.setFlatCoordinates(this.layout,d)};
ol.geom.Circle.prototype.setCenterAndRadius=function(a,b,c){if(a){this.setLayout(c,a,0);this.flatCoordinates||(this.flatCoordinates=[]);c=this.flatCoordinates;a=ol.geom.flat.deflate.coordinate(c,0,a,this.stride);c[a++]=c[0]+b;var d;b=1;for(d=this.stride;b<d;++b)c[a++]=c[b];c.length=a;this.changed()}else this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)};ol.geom.Circle.prototype.getCoordinates=function(){};ol.geom.Circle.prototype.setCoordinates=function(a,b){};
ol.geom.Circle.prototype.setFlatCoordinates=function(a,b){this.setFlatCoordinatesInternal(a,b);this.changed()};ol.geom.Circle.prototype.setRadius=function(a){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+a;this.changed()};ol.geom.GeometryCollection=function(a){ol.geom.Geometry.call(this);this.geometries_=a?a:null;this.listenGeometriesChange_()};ol.inherits(ol.geom.GeometryCollection,ol.geom.Geometry);ol.geom.GeometryCollection.cloneGeometries_=function(a){var b=[],c;var d=0;for(c=a.length;d<c;++d)b.push(a[d].clone());return b};
ol.geom.GeometryCollection.prototype.unlistenGeometriesChange_=function(){var a;if(this.geometries_){var b=0;for(a=this.geometries_.length;b<a;++b)ol.events.unlisten(this.geometries_[b],ol.events.EventType.CHANGE,this.changed,this)}};ol.geom.GeometryCollection.prototype.listenGeometriesChange_=function(){var a;if(this.geometries_){var b=0;for(a=this.geometries_.length;b<a;++b)ol.events.listen(this.geometries_[b],ol.events.EventType.CHANGE,this.changed,this)}};
ol.geom.GeometryCollection.prototype.clone=function(){var a=new ol.geom.GeometryCollection(null);a.setGeometries(this.geometries_);return a};ol.geom.GeometryCollection.prototype.closestPointXY=function(a,b,c,d){if(d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b))return d;var e=this.geometries_,f;var g=0;for(f=e.length;g<f;++g)d=e[g].closestPointXY(a,b,c,d);return d};
ol.geom.GeometryCollection.prototype.containsXY=function(a,b){var c=this.geometries_,d;var e=0;for(d=c.length;e<d;++e)if(c[e].containsXY(a,b))return!0;return!1};ol.geom.GeometryCollection.prototype.computeExtent=function(a){ol.extent.createOrUpdateEmpty(a);for(var b=this.geometries_,c=0,d=b.length;c<d;++c)ol.extent.extend(a,b[c].getExtent());return a};ol.geom.GeometryCollection.prototype.getGeometries=function(){return ol.geom.GeometryCollection.cloneGeometries_(this.geometries_)};
ol.geom.GeometryCollection.prototype.getGeometriesArray=function(){return this.geometries_};
ol.geom.GeometryCollection.prototype.getSimplifiedGeometry=function(a){this.simplifiedGeometryRevision!=this.getRevision()&&(ol.obj.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>a||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&a<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var b=a.toString();if(this.simplifiedGeometryCache.hasOwnProperty(b))return this.simplifiedGeometryCache[b];var c=
[],d=this.geometries_,e=!1,f;var g=0;for(f=d.length;g<f;++g){var h=d[g],k=h.getSimplifiedGeometry(a);c.push(k);k!==h&&(e=!0)}if(e)return a=new ol.geom.GeometryCollection(null),a.setGeometriesArray(c),this.simplifiedGeometryCache[b]=a;this.simplifiedGeometryMaxMinSquaredTolerance=a;return this};ol.geom.GeometryCollection.prototype.getType=function(){return ol.geom.GeometryType.GEOMETRY_COLLECTION};
ol.geom.GeometryCollection.prototype.intersectsExtent=function(a){var b=this.geometries_,c;var d=0;for(c=b.length;d<c;++d)if(b[d].intersectsExtent(a))return!0;return!1};ol.geom.GeometryCollection.prototype.isEmpty=function(){return 0===this.geometries_.length};ol.geom.GeometryCollection.prototype.rotate=function(a,b){for(var c=this.geometries_,d=0,e=c.length;d<e;++d)c[d].rotate(a,b);this.changed()};
ol.geom.GeometryCollection.prototype.scale=function(a,b,c){c||(c=ol.extent.getCenter(this.getExtent()));for(var d=this.geometries_,e=0,f=d.length;e<f;++e)d[e].scale(a,b,c);this.changed()};ol.geom.GeometryCollection.prototype.setGeometries=function(a){this.setGeometriesArray(ol.geom.GeometryCollection.cloneGeometries_(a))};ol.geom.GeometryCollection.prototype.setGeometriesArray=function(a){this.unlistenGeometriesChange_();this.geometries_=a;this.listenGeometriesChange_();this.changed()};
ol.geom.GeometryCollection.prototype.applyTransform=function(a){var b=this.geometries_,c;var d=0;for(c=b.length;d<c;++d)b[d].applyTransform(a);this.changed()};ol.geom.GeometryCollection.prototype.translate=function(a,b){var c=this.geometries_,d;var e=0;for(d=c.length;e<d;++e)c[e].translate(a,b);this.changed()};ol.geom.GeometryCollection.prototype.disposeInternal=function(){this.unlistenGeometriesChange_();ol.geom.Geometry.prototype.disposeInternal.call(this)};ol.geom.MultiPoint=function(a,b){ol.geom.SimpleGeometry.call(this);this.setCoordinates(a,b)};ol.inherits(ol.geom.MultiPoint,ol.geom.SimpleGeometry);ol.geom.MultiPoint.prototype.appendPoint=function(a){this.flatCoordinates?ol.array.extend(this.flatCoordinates,a.getFlatCoordinates()):this.flatCoordinates=a.getFlatCoordinates().slice();this.changed()};ol.geom.MultiPoint.prototype.clone=function(){var a=new ol.geom.MultiPoint(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return a};
ol.geom.MultiPoint.prototype.closestPointXY=function(a,b,c,d){if(d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b))return d;var e=this.flatCoordinates,f=this.stride,g;var h=0;for(g=e.length;h<g;h+=f){var k=ol.math.squaredDistance(a,b,e[h],e[h+1]);if(k<d){d=k;for(k=0;k<f;++k)c[k]=e[h+k];c.length=f}}return d};ol.geom.MultiPoint.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};
ol.geom.MultiPoint.prototype.getPoint=function(a){var b=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;if(0>a||b<=a)return null;b=new ol.geom.Point(null);b.setFlatCoordinates(this.layout,this.flatCoordinates.slice(a*this.stride,(a+1)*this.stride));return b};ol.geom.MultiPoint.prototype.getPoints=function(){var a=this.flatCoordinates,b=this.layout,c=this.stride,d=[],e;var f=0;for(e=a.length;f<e;f+=c){var g=new ol.geom.Point(null);g.setFlatCoordinates(b,a.slice(f,f+c));d.push(g)}return d};
ol.geom.MultiPoint.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POINT};ol.geom.MultiPoint.prototype.intersectsExtent=function(a){var b=this.flatCoordinates,c=this.stride,d;var e=0;for(d=b.length;e<d;e+=c){var f=b[e];var g=b[e+1];if(ol.extent.containsXY(a,f,g))return!0}return!1};
ol.geom.MultiPoint.prototype.setCoordinates=function(a,b){a?(this.setLayout(b,a,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,a,this.stride),this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)};ol.geom.MultiPoint.prototype.setFlatCoordinates=function(a,b){this.setFlatCoordinatesInternal(a,b);this.changed()};ol.geom.flat.center={};ol.geom.flat.center.linearRingss=function(a,b,c,d){var e=[],f;ol.extent.createEmpty();var g=0;for(f=c.length;g<f;++g){var h=c[g];b=ol.extent.createOrUpdateFromFlatCoordinates(a,b,h[0],d);e.push((b[0]+b[2])/2,(b[1]+b[3])/2);b=h[h.length-1]}return e};ol.geom.MultiPolygon=function(a,b){ol.geom.SimpleGeometry.call(this);this.endss_=[];this.flatInteriorPointsRevision_=-1;this.flatInteriorPoints_=null;this.orientedRevision_=this.maxDeltaRevision_=this.maxDelta_=-1;this.orientedFlatCoordinates_=null;this.setCoordinates(a,b)};ol.inherits(ol.geom.MultiPolygon,ol.geom.SimpleGeometry);
ol.geom.MultiPolygon.prototype.appendPolygon=function(a){if(this.flatCoordinates){var b=this.flatCoordinates.length;ol.array.extend(this.flatCoordinates,a.getFlatCoordinates());a=a.getEnds().slice();var c;var d=0;for(c=a.length;d<c;++d)a[d]+=b}else this.flatCoordinates=a.getFlatCoordinates().slice(),a=a.getEnds().slice(),this.endss_.push();this.endss_.push(a);this.changed()};
ol.geom.MultiPolygon.prototype.clone=function(){for(var a=new ol.geom.MultiPolygon(null),b=this.endss_.length,c=Array(b),d=0;d<b;++d)c[d]=this.endss_[d].slice();a.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),c);return a};
ol.geom.MultiPolygon.prototype.closestPointXY=function(a,b,c,d){if(d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b))return d;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getssMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return ol.geom.flat.closest.getssClosestPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,a,b,c,d)};
ol.geom.MultiPolygon.prototype.containsXY=function(a,b){return ol.geom.flat.contains.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,a,b)};ol.geom.MultiPolygon.prototype.getArea=function(){return ol.geom.flat.area.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)};
ol.geom.MultiPolygon.prototype.getCoordinates=function(a){if(void 0!==a){var b=this.getOrientedFlatCoordinates().slice();ol.geom.flat.orient.orientLinearRingss(b,0,this.endss_,this.stride,a)}else b=this.flatCoordinates;return ol.geom.flat.inflate.coordinatesss(b,0,this.endss_,this.stride)};ol.geom.MultiPolygon.prototype.getEndss=function(){return this.endss_};
ol.geom.MultiPolygon.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var a=ol.geom.flat.center.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,a);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_};
ol.geom.MultiPolygon.prototype.getInteriorPoints=function(){var a=new ol.geom.MultiPoint(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XYM,this.getFlatInteriorPoints().slice());return a};
ol.geom.MultiPolygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var a=this.flatCoordinates;ol.geom.flat.orient.linearRingssAreOriented(a,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=a:(this.orientedFlatCoordinates_=a.slice(),this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRingss(this.orientedFlatCoordinates_,0,this.endss_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};
ol.geom.MultiPolygon.prototype.getSimplifiedGeometryInternal=function(a){var b=[],c=[];b.length=ol.geom.flat.simplify.quantizess(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(a),b,0,c);a=new ol.geom.MultiPolygon(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XY,b,c);return a};
ol.geom.MultiPolygon.prototype.getPolygon=function(a){if(0>a||this.endss_.length<=a)return null;if(0===a)var b=0;else b=this.endss_[a-1],b=b[b.length-1];a=this.endss_[a].slice();var c=a[a.length-1];if(0!==b){var d;var e=0;for(d=a.length;e<d;++e)a[e]-=b}e=new ol.geom.Polygon(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(b,c),a);return e};
ol.geom.MultiPolygon.prototype.getPolygons=function(){var a=this.layout,b=this.flatCoordinates,c=this.endss_,d=[],e=0,f,g;var h=0;for(f=c.length;h<f;++h){var k=c[h].slice(),l=k[k.length-1];if(0!==e){var m=0;for(g=k.length;m<g;++m)k[m]-=e}m=new ol.geom.Polygon(null);m.setFlatCoordinates(a,b.slice(e,l),k);d.push(m);e=l}return d};ol.geom.MultiPolygon.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POLYGON};
ol.geom.MultiPolygon.prototype.intersectsExtent=function(a){return ol.geom.flat.intersectsextent.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,a)};
ol.geom.MultiPolygon.prototype.setCoordinates=function(a,b){a?(this.setLayout(b,a,3),this.flatCoordinates||(this.flatCoordinates=[]),a=ol.geom.flat.deflate.coordinatesss(this.flatCoordinates,0,a,this.stride,this.endss_),0===a.length?this.flatCoordinates.length=0:(a=a[a.length-1],this.flatCoordinates.length=0===a.length?0:a[a.length-1]),this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.endss_)};
ol.geom.MultiPolygon.prototype.setFlatCoordinates=function(a,b,c){this.setFlatCoordinatesInternal(a,b);this.endss_=c;this.changed()};ol.geom.MultiPolygon.prototype.setPolygons=function(a){var b=this.getLayout(),c=[],d=[],e;var f=0;for(e=a.length;f<e;++f){var g=a[f];0===f&&(b=g.getLayout());var h=c.length;var k=g.getEnds();var l;var m=0;for(l=k.length;m<l;++m)k[m]+=h;ol.array.extend(c,g.getFlatCoordinates());d.push(k)}this.setFlatCoordinates(b,c,d)};os.ol.mixin={};os.ol.mixin.Disposable={};ol.Disposable.prototype.isDisposed=function(){return this.disposed_};os.ol.mixin.render={};os.ol.mixin.render.EMPTY_FILL="rgba(0,0,0,0)";
ol.render.canvas.PolygonReplay.prototype.drawPolygon=function(a,b){var c=this.state_;this.setFillStrokeStyles_(a);this.beginGeometry(a,b);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,c.fillStyle?c.fillStyle:os.ol.mixin.render.EMPTY_FILL]);void 0!==c.strokeStyle&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,!0,1]);c=a.getEnds();var d=a.getOrientedFlatCoordinates(),
e=a.getStride();this.drawFlatCoordinatess_(d,0,c,e);this.endGeometry(a,b)};
ol.render.canvas.PolygonReplay.prototype.drawMultiPolygon=function(a,b){var c=this.state_,d=c.fillStyle,e=c.strokeStyle;if(void 0!==d||void 0!==e){this.setFillStrokeStyles_(a);this.beginGeometry(a,b);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,d?d:os.ol.mixin.render.EMPTY_FILL]);void 0!==c.strokeStyle&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,
!0,1]);c=a.getEndss();d=a.getOrientedFlatCoordinates();e=a.getStride();var f=0,g;var h=0;for(g=c.length;h<g;++h)f=this.drawFlatCoordinatess_(d,f,c[h],e);this.endGeometry(a,b)}};
ol.render.canvas.PolygonReplay.prototype.drawCircle=function(a,b){var c=this.state_,d=c.fillStyle,e=c.strokeStyle;if(void 0!==d||void 0!==e){this.setFillStrokeStyles_(a);this.beginGeometry(a,b);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,d?d:os.ol.mixin.render.EMPTY_FILL]);void 0!==c.strokeStyle&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset,
!0,1]);e=a.getFlatCoordinates();var f=a.getStride();d=this.coordinates.length;this.appendFlatCoordinates(e,0,e.length,f,!1,!1);e=[ol.render.canvas.Instruction.BEGIN_PATH];d=[ol.render.canvas.Instruction.CIRCLE,d];this.instructions.push(e,d);this.hitDetectionInstructions.push(e,d);d=[ol.render.canvas.Instruction.FILL];this.hitDetectionInstructions.push(d);void 0!==c.fillStyle&&this.instructions.push(d);void 0!==c.strokeStyle&&(c=[ol.render.canvas.Instruction.STROKE],this.instructions.push(c),this.hitDetectionInstructions.push(c));
this.endGeometry(a,b)}};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
goog.async.Deferred=function(a,b){this.sequence_=[];this.onCancelFunction_=a;this.defaultScope_=b||null;this.hadError_=this.fired_=!1;this.result_=void 0;this.silentlyCanceled_=this.blocking_=this.blocked_=!1;this.unhandledErrorId_=0;this.parent_=null;this.branches_=0;goog.async.Deferred.LONG_STACK_TRACES&&(this.constructorStack_=null,Error.captureStackTrace&&(a={stack:""},Error.captureStackTrace(a,goog.async.Deferred),"string"==typeof a.stack&&(this.constructorStack_=a.stack.replace(/^[^\n]*\n/,
""))))};goog.async.Deferred.STRICT_ERRORS=!1;goog.async.Deferred.LONG_STACK_TRACES=!1;goog.async.Deferred.prototype.cancel=function(a){if(this.hasFired())this.result_ instanceof goog.async.Deferred&&this.result_.cancel();else{if(this.parent_){var b=this.parent_;delete this.parent_;a?b.cancel(a):b.branchCancel_()}this.onCancelFunction_?this.onCancelFunction_.call(this.defaultScope_,this):this.silentlyCanceled_=!0;this.hasFired()||this.errback(new goog.async.Deferred.CanceledError(this))}};
goog.async.Deferred.prototype.branchCancel_=function(){this.branches_--;0>=this.branches_&&this.cancel()};goog.async.Deferred.prototype.continue_=function(a,b){this.blocked_=!1;this.updateResult_(a,b)};goog.async.Deferred.prototype.updateResult_=function(a,b){this.fired_=!0;this.result_=b;this.hadError_=!a;this.fire_()};goog.async.Deferred.prototype.check_=function(){if(this.hasFired()){if(!this.silentlyCanceled_)throw new goog.async.Deferred.AlreadyCalledError(this);this.silentlyCanceled_=!1}};
goog.async.Deferred.prototype.callback=function(a){this.check_();this.assertNotDeferred_(a);this.updateResult_(!0,a)};goog.async.Deferred.prototype.errback=function(a){this.check_();this.assertNotDeferred_(a);this.makeStackTraceLong_(a);this.updateResult_(!1,a)};goog.async.Deferred.prototype.makeStackTraceLong_=function(a){goog.async.Deferred.LONG_STACK_TRACES&&this.constructorStack_&&goog.isObject(a)&&a.stack&&/^[^\n]+(\n   [^\n]+)+/.test(a.stack)&&(a.stack=a.stack+"\nDEFERRED OPERATION:\n"+this.constructorStack_)};
goog.async.Deferred.prototype.assertNotDeferred_=function(a){goog.asserts.assert(!(a instanceof goog.async.Deferred),"An execution sequence may not be initiated with a blocking Deferred.")};goog.async.Deferred.prototype.addCallback=function(a,b){return this.addCallbacks(a,null,b)};goog.async.Deferred.prototype.addErrback=function(a,b){return this.addCallbacks(null,a,b)};goog.async.Deferred.prototype.addBoth=function(a,b){return this.addCallbacks(a,a,b)};
goog.async.Deferred.prototype.addFinally=function(a,b){return this.addCallbacks(a,function(b){var c=a.call(this,b);if(!goog.isDef(c))throw b;return c},b)};goog.async.Deferred.prototype.addCallbacks=function(a,b,c){goog.asserts.assert(!this.blocking_,"Blocking Deferreds can not be re-used");this.sequence_.push([a,b,c]);this.hasFired()&&this.fire_();return this};
goog.async.Deferred.prototype.then=function(a,b,c){var d,e,f=new goog.Promise(function(a,b){d=a;e=b});this.addCallbacks(d,function(a){a instanceof goog.async.Deferred.CanceledError?f.cancel():e(a)});return f.then(a,b,c)};goog.Thenable.addImplementation(goog.async.Deferred);goog.async.Deferred.prototype.chainDeferred=function(a){this.addCallbacks(a.callback,a.errback,a);return this};
goog.async.Deferred.prototype.awaitDeferred=function(a){return a instanceof goog.async.Deferred?this.addCallback(goog.bind(a.branch,a)):this.addCallback(function(){return a})};goog.async.Deferred.prototype.branch=function(a){var b=new goog.async.Deferred;this.chainDeferred(b);a&&(b.parent_=this,this.branches_++);return b};goog.async.Deferred.prototype.hasFired=function(){return this.fired_};goog.async.Deferred.prototype.isError=function(a){return a instanceof Error};
goog.async.Deferred.prototype.hasErrback_=function(){return goog.array.some(this.sequence_,function(a){return goog.isFunction(a[1])})};
goog.async.Deferred.prototype.fire_=function(){this.unhandledErrorId_&&this.hasFired()&&this.hasErrback_()&&(goog.async.Deferred.unscheduleError_(this.unhandledErrorId_),this.unhandledErrorId_=0);this.parent_&&(this.parent_.branches_--,delete this.parent_);for(var a=this.result_,b=!1,c=!1;this.sequence_.length&&!this.blocked_;){var d=this.sequence_.shift(),e=d[0],f=d[1];d=d[2];if(e=this.hadError_?f:e)try{var g=e.call(d||this.defaultScope_,a);goog.isDef(g)&&(this.hadError_=this.hadError_&&(g==a||this.isError(g)),
this.result_=a=g);if(goog.Thenable.isImplementedBy(a)||"function"===typeof goog.global.Promise&&a instanceof goog.global.Promise)this.blocked_=c=!0}catch(h){a=h,this.hadError_=!0,this.makeStackTraceLong_(a),this.hasErrback_()||(b=!0)}}this.result_=a;c?(c=goog.bind(this.continue_,this,!0),g=goog.bind(this.continue_,this,!1),a instanceof goog.async.Deferred?(a.addCallbacks(c,g),a.blocking_=!0):a.then(c,g)):!goog.async.Deferred.STRICT_ERRORS||!this.isError(a)||a instanceof goog.async.Deferred.CanceledError||
(b=this.hadError_=!0);b&&(this.unhandledErrorId_=goog.async.Deferred.scheduleError_(a))};goog.async.Deferred.succeed=function(a){var b=new goog.async.Deferred;b.callback(a);return b};goog.async.Deferred.fromPromise=function(a){var b=new goog.async.Deferred;b.callback();b.addCallback(function(){return a});return b};goog.async.Deferred.fail=function(a){var b=new goog.async.Deferred;b.errback(a);return b};goog.async.Deferred.canceled=function(){var a=new goog.async.Deferred;a.cancel();return a};
goog.async.Deferred.when=function(a,b,c){return a instanceof goog.async.Deferred?a.branch(!0).addCallback(b,c):goog.async.Deferred.succeed(a).addCallback(b,c)};goog.async.Deferred.AlreadyCalledError=function(a){goog.debug.Error.call(this);this.deferred=a};goog.inherits(goog.async.Deferred.AlreadyCalledError,goog.debug.Error);goog.async.Deferred.AlreadyCalledError.prototype.message="Deferred has already fired";goog.async.Deferred.AlreadyCalledError.prototype.name="AlreadyCalledError";
goog.async.Deferred.CanceledError=function(a){goog.debug.Error.call(this);this.deferred=a};goog.inherits(goog.async.Deferred.CanceledError,goog.debug.Error);goog.async.Deferred.CanceledError.prototype.message="Deferred was canceled";goog.async.Deferred.CanceledError.prototype.name="CanceledError";goog.async.Deferred.Error_=function(a){this.id_=goog.global.setTimeout(goog.bind(this.throwError,this),0);this.error_=a};
goog.async.Deferred.Error_.prototype.throwError=function(){goog.asserts.assert(goog.async.Deferred.errorMap_[this.id_],"Cannot throw an error that is not scheduled.");delete goog.async.Deferred.errorMap_[this.id_];throw this.error_;};goog.async.Deferred.Error_.prototype.resetTimer=function(){goog.global.clearTimeout(this.id_)};goog.async.Deferred.errorMap_={};goog.async.Deferred.scheduleError_=function(a){a=new goog.async.Deferred.Error_(a);goog.async.Deferred.errorMap_[a.id_]=a;return a.id_};
goog.async.Deferred.unscheduleError_=function(a){var b=goog.async.Deferred.errorMap_[a];b&&(b.resetTimer(),delete goog.async.Deferred.errorMap_[a])};goog.async.Deferred.assertNoErrors=function(){var a=goog.async.Deferred.errorMap_,b;for(b in a){var c=a[b];c.resetTimer();c.throwError()}};goog.async.DeferredList=function(a,b,c,d,e,f){goog.async.Deferred.call(this,e,f);this.list_=a;this.deferredResults_=[];this.fireOnOneCallback_=!!b;this.fireOnOneErrback_=!!c;this.consumeErrors_=!!d;for(b=this.numFinished_=0;b<a.length;b++)a[b].addCallbacks(goog.bind(this.handleCallback_,this,b,!0),goog.bind(this.handleCallback_,this,b,!1));0!=a.length||this.fireOnOneCallback_||this.callback(this.deferredResults_)};goog.inherits(goog.async.DeferredList,goog.async.Deferred);
goog.async.DeferredList.prototype.handleCallback_=function(a,b,c){this.numFinished_++;this.deferredResults_[a]=[b,c];this.hasFired()||(this.fireOnOneCallback_&&b?this.callback([a,c]):this.fireOnOneErrback_&&!b?this.errback(c):this.numFinished_==this.list_.length&&this.callback(this.deferredResults_));this.consumeErrors_&&!b&&(c=null);return c};goog.async.DeferredList.prototype.errback=function(a){goog.async.DeferredList.superClass_.errback.call(this,a);for(a=0;a<this.list_.length;a++)this.list_[a].cancel()};
goog.async.DeferredList.gatherResults=function(a){return(new goog.async.DeferredList(a,!1,!0)).addCallback(function(a){for(var b=[],d=0;d<a.length;d++)b[d]=a[d][1];return b})};goog.net={};goog.net.EventType={COMPLETE:"complete",SUCCESS:"success",ERROR:"error",ABORT:"abort",READY:"ready",READY_STATE_CHANGE:"readystatechange",TIMEOUT:"timeout",INCREMENTAL_DATA:"incrementaldata",PROGRESS:"progress",DOWNLOAD_PROGRESS:"downloadprogress",UPLOAD_PROGRESS:"uploadprogress"};goog.json={};goog.json.USE_NATIVE_JSON=!1;goog.json.TRY_NATIVE_JSON=!1;goog.json.isValid=function(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))};goog.json.errorLogger_=goog.nullFunction;goog.json.setErrorLogger=function(a){goog.json.errorLogger_=a};
goog.json.parse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(a){if(goog.json.TRY_NATIVE_JSON)try{return goog.global.JSON.parse(a)}catch(d){var b=d}a=String(a);if(goog.json.isValid(a))try{var c=eval("("+a+")");b&&goog.json.errorLogger_("Invalid JSON: "+a,b);return c}catch(d){}throw Error("Invalid JSON string: "+a);};goog.json.serialize=goog.json.USE_NATIVE_JSON?goog.global.JSON.stringify:function(a,b){return(new goog.json.Serializer(b)).serialize(a)};
goog.json.Serializer=function(a){this.replacer_=a};goog.json.Serializer.prototype.serialize=function(a){var b=[];this.serializeInternal(a,b);return b.join("")};
goog.json.Serializer.prototype.serializeInternal=function(a,b){if(null==a)b.push("null");else{if("object"==typeof a){if(goog.isArray(a)){this.serializeArray(a,b);return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{this.serializeObject_(a,b);return}}switch(typeof a){case "string":this.serializeString_(a,b);break;case "number":this.serializeNumber_(a,b);break;case "boolean":b.push(String(a));break;case "function":b.push("null");break;default:throw Error("Unknown type: "+
typeof a);}}};goog.json.Serializer.charToJsonCharCache_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"};goog.json.Serializer.charsToReplace_=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;
goog.json.Serializer.prototype.serializeString_=function(a,b){b.push('"',a.replace(goog.json.Serializer.charsToReplace_,function(a){var b=goog.json.Serializer.charToJsonCharCache_[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),goog.json.Serializer.charToJsonCharCache_[a]=b);return b}),'"')};goog.json.Serializer.prototype.serializeNumber_=function(a,b){b.push(isFinite(a)&&!isNaN(a)?String(a):"null")};
goog.json.Serializer.prototype.serializeArray=function(a,b){var c=a.length;b.push("[");for(var d="",e=0;e<c;e++)b.push(d),d=a[e],this.serializeInternal(this.replacer_?this.replacer_.call(a,String(e),d):d,b),d=",";b.push("]")};
goog.json.Serializer.prototype.serializeObject_=function(a,b){b.push("{");var c="",d;for(d in a)if(Object.prototype.hasOwnProperty.call(a,d)){var e=a[d];"function"!=typeof e&&(b.push(c),this.serializeString_(d,b),b.push(":"),this.serializeInternal(this.replacer_?this.replacer_.call(a,d,e):e,b),c=",")}b.push("}")};goog.storage={};goog.storage.ErrorCode={INVALID_VALUE:"Storage: Invalid value was encountered",DECRYPTION_ERROR:"Storage: The value could not be decrypted"};goog.storage.Storage=function(a){this.mechanism=a};goog.storage.Storage.prototype.set=function(a,b){goog.isDef(b)?this.mechanism.set(a,goog.json.serialize(b)):this.mechanism.remove(a)};goog.storage.Storage.prototype.get=function(a){try{var b=this.mechanism.get(a)}catch(c){return}if(!goog.isNull(b))try{return JSON.parse(b)}catch(c){throw goog.storage.ErrorCode.INVALID_VALUE;}};goog.storage.Storage.prototype.remove=function(a){this.mechanism.remove(a)};goog.storage.mechanism={};goog.storage.mechanism.Mechanism=function(){};goog.storage.mechanism.Mechanism.prototype.set=goog.abstractMethod;goog.storage.mechanism.Mechanism.prototype.get=goog.abstractMethod;goog.storage.mechanism.Mechanism.prototype.remove=goog.abstractMethod;goog.storage.mechanism.IterableMechanism=function(){goog.storage.mechanism.Mechanism.call(this)};goog.inherits(goog.storage.mechanism.IterableMechanism,goog.storage.mechanism.Mechanism);goog.storage.mechanism.IterableMechanism.prototype.getCount=function(){var a=0;goog.iter.forEach(this.__iterator__(!0),function(b){goog.asserts.assertString(b);a++});return a};goog.storage.mechanism.IterableMechanism.prototype.__iterator__=goog.abstractMethod;
goog.storage.mechanism.IterableMechanism.prototype.clear=function(){var a=goog.iter.toArray(this.__iterator__(!0)),b=this;goog.array.forEach(a,function(a){b.remove(a)})};goog.storage.mechanism.ErrorCode={INVALID_VALUE:"Storage mechanism: Invalid value was encountered",QUOTA_EXCEEDED:"Storage mechanism: Quota exceeded",STORAGE_DISABLED:"Storage mechanism: Storage disabled"};goog.storage.mechanism.HTML5WebStorage=function(a){goog.storage.mechanism.IterableMechanism.call(this);this.storage_=a};goog.inherits(goog.storage.mechanism.HTML5WebStorage,goog.storage.mechanism.IterableMechanism);goog.storage.mechanism.HTML5WebStorage.STORAGE_AVAILABLE_KEY_="__sak";
goog.storage.mechanism.HTML5WebStorage.prototype.isAvailable=function(){if(!this.storage_)return!1;try{return this.storage_.setItem(goog.storage.mechanism.HTML5WebStorage.STORAGE_AVAILABLE_KEY_,"1"),this.storage_.removeItem(goog.storage.mechanism.HTML5WebStorage.STORAGE_AVAILABLE_KEY_),!0}catch(a){return!1}};
goog.storage.mechanism.HTML5WebStorage.prototype.set=function(a,b){try{this.storage_.setItem(a,b)}catch(c){if(0==this.storage_.length)throw goog.storage.mechanism.ErrorCode.STORAGE_DISABLED;throw goog.storage.mechanism.ErrorCode.QUOTA_EXCEEDED;}};goog.storage.mechanism.HTML5WebStorage.prototype.get=function(a){a=this.storage_.getItem(a);if(!goog.isString(a)&&!goog.isNull(a))throw goog.storage.mechanism.ErrorCode.INVALID_VALUE;return a};goog.storage.mechanism.HTML5WebStorage.prototype.remove=function(a){this.storage_.removeItem(a)};
goog.storage.mechanism.HTML5WebStorage.prototype.getCount=function(){return this.storage_.length};goog.storage.mechanism.HTML5WebStorage.prototype.__iterator__=function(a){var b=0,c=this.storage_,d=new goog.iter.Iterator;d.next=function(){if(b>=c.length)throw goog.iter.StopIteration;var d=goog.asserts.assertString(c.key(b++));if(a)return d;d=c.getItem(d);if(!goog.isString(d))throw goog.storage.mechanism.ErrorCode.INVALID_VALUE;return d};return d};
goog.storage.mechanism.HTML5WebStorage.prototype.clear=function(){this.storage_.clear()};goog.storage.mechanism.HTML5WebStorage.prototype.key=function(a){return this.storage_.key(a)};goog.storage.mechanism.HTML5LocalStorage=function(){var a=null;try{a=window.localStorage||null}catch(b){}goog.storage.mechanism.HTML5WebStorage.call(this,a)};goog.inherits(goog.storage.mechanism.HTML5LocalStorage,goog.storage.mechanism.HTML5WebStorage);goog.storage.mechanism.HTML5SessionStorage=function(){var a=null;try{a=window.sessionStorage||null}catch(b){}goog.storage.mechanism.HTML5WebStorage.call(this,a)};goog.inherits(goog.storage.mechanism.HTML5SessionStorage,goog.storage.mechanism.HTML5WebStorage);goog.storage.mechanism.IEUserData=function(a,b){this.storageKey_=a;this.storageNode_=null;goog.storage.mechanism.IterableMechanism.call(this);if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){goog.storage.mechanism.IEUserData.storageMap_||(goog.storage.mechanism.IEUserData.storageMap_=new goog.structs.Map);this.storageNode_=goog.storage.mechanism.IEUserData.storageMap_.get(a);this.storageNode_||(b?this.storageNode_=document.getElementById(b):(this.storageNode_=document.createElement("userdata"),
this.storageNode_.addBehavior("#default#userData"),document.body.appendChild(this.storageNode_)),goog.storage.mechanism.IEUserData.storageMap_.set(a,this.storageNode_));try{this.loadNode_()}catch(c){this.storageNode_=null}}};goog.inherits(goog.storage.mechanism.IEUserData,goog.storage.mechanism.IterableMechanism);goog.storage.mechanism.IEUserData.ENCODE_MAP={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."};goog.storage.mechanism.IEUserData.storageMap_=null;
goog.storage.mechanism.IEUserData.encodeKey_=function(a){return"_"+encodeURIComponent(a).replace(/[.!~*'()%]/g,function(a){return goog.storage.mechanism.IEUserData.ENCODE_MAP[a]})};goog.storage.mechanism.IEUserData.decodeKey_=function(a){return decodeURIComponent(a.replace(/\./g,"%")).substr(1)};goog.storage.mechanism.IEUserData.prototype.isAvailable=function(){return!!this.storageNode_};
goog.storage.mechanism.IEUserData.prototype.set=function(a,b){this.storageNode_.setAttribute(goog.storage.mechanism.IEUserData.encodeKey_(a),b);this.saveNode_()};goog.storage.mechanism.IEUserData.prototype.get=function(a){a=this.storageNode_.getAttribute(goog.storage.mechanism.IEUserData.encodeKey_(a));if(!goog.isString(a)&&!goog.isNull(a))throw goog.storage.mechanism.ErrorCode.INVALID_VALUE;return a};
goog.storage.mechanism.IEUserData.prototype.remove=function(a){this.storageNode_.removeAttribute(goog.storage.mechanism.IEUserData.encodeKey_(a));this.saveNode_()};goog.storage.mechanism.IEUserData.prototype.getCount=function(){return this.getNode_().attributes.length};
goog.storage.mechanism.IEUserData.prototype.__iterator__=function(a){var b=0,c=this.getNode_().attributes,d=new goog.iter.Iterator;d.next=function(){if(b>=c.length)throw goog.iter.StopIteration;var d=goog.asserts.assert(c[b++]);if(a)return goog.storage.mechanism.IEUserData.decodeKey_(d.nodeName);d=d.nodeValue;if(!goog.isString(d))throw goog.storage.mechanism.ErrorCode.INVALID_VALUE;return d};return d};
goog.storage.mechanism.IEUserData.prototype.clear=function(){for(var a=this.getNode_(),b=a.attributes.length;0<b;b--)a.removeAttribute(a.attributes[b-1].nodeName);this.saveNode_()};goog.storage.mechanism.IEUserData.prototype.loadNode_=function(){this.storageNode_.load(this.storageKey_)};goog.storage.mechanism.IEUserData.prototype.saveNode_=function(){try{this.storageNode_.save(this.storageKey_)}catch(a){throw goog.storage.mechanism.ErrorCode.QUOTA_EXCEEDED;}};
goog.storage.mechanism.IEUserData.prototype.getNode_=function(){return this.storageNode_.XMLDocument.documentElement};goog.storage.mechanism.PrefixedMechanism=function(a,b){goog.storage.mechanism.IterableMechanism.call(this);this.mechanism_=a;this.prefix_=b+"::"};goog.inherits(goog.storage.mechanism.PrefixedMechanism,goog.storage.mechanism.IterableMechanism);goog.storage.mechanism.PrefixedMechanism.prototype.set=function(a,b){this.mechanism_.set(this.prefix_+a,b)};goog.storage.mechanism.PrefixedMechanism.prototype.get=function(a){return this.mechanism_.get(this.prefix_+a)};
goog.storage.mechanism.PrefixedMechanism.prototype.remove=function(a){this.mechanism_.remove(this.prefix_+a)};goog.storage.mechanism.PrefixedMechanism.prototype.__iterator__=function(a){var b=this.mechanism_.__iterator__(!0),c=this,d=new goog.iter.Iterator;d.next=function(){for(var d=b.next();d.substr(0,c.prefix_.length)!=c.prefix_;)d=b.next();return a?d.substr(c.prefix_.length):c.mechanism_.get(d)};return d};goog.storage.mechanism.mechanismfactory={};goog.storage.mechanism.mechanismfactory.USER_DATA_SHARED_KEY="UserDataSharedStore";goog.storage.mechanism.mechanismfactory.create=function(a){return goog.storage.mechanism.mechanismfactory.createHTML5LocalStorage(a)||goog.storage.mechanism.mechanismfactory.createIEUserData(a)};
goog.storage.mechanism.mechanismfactory.createHTML5LocalStorage=function(a){var b=new goog.storage.mechanism.HTML5LocalStorage;return b.isAvailable()?a?new goog.storage.mechanism.PrefixedMechanism(b,a):b:null};goog.storage.mechanism.mechanismfactory.createHTML5SessionStorage=function(a){var b=new goog.storage.mechanism.HTML5SessionStorage;return b.isAvailable()?a?new goog.storage.mechanism.PrefixedMechanism(b,a):b:null};
goog.storage.mechanism.mechanismfactory.createIEUserData=function(a){a=new goog.storage.mechanism.IEUserData(a||goog.storage.mechanism.mechanismfactory.USER_DATA_SHARED_KEY);return a.isAvailable()?a:null};goog.date={};goog.i18n.DateTimeSymbols_en_ISO={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, y MMMM dd",
"y MMMM d","y MMM d","yyyy-MM-dd"],TIMEFORMATS:["HH:mm:ss v","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],AVAILABLEFORMATS:{Md:"M/d",MMMMd:"MMMM d",MMMd:"MMM d"},FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_af={ERAS:["v.C.","n.C."],ERANAMES:["voor Christus","na Christus"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"Januarie Februarie Maart April Mei Junie Julie Augustus September Oktober November Desember".split(" "),STANDALONEMONTHS:"Januarie Februarie Maart April Mei Junie Julie Augustus September Oktober November Desember".split(" "),SHORTMONTHS:"Jan. Feb. Mrt. Apr. Mei Jun. Jul. Aug. Sep. Okt. Nov. Des.".split(" "),STANDALONESHORTMONTHS:"Jan. Feb. Mrt. Apr. Mei Jun. Jul. Aug. Sep. Okt. Nov. Des.".split(" "),
WEEKDAYS:"Sondag Maandag Dinsdag Woensdag Donderdag Vrydag Saterdag".split(" "),STANDALONEWEEKDAYS:"Sondag Maandag Dinsdag Woensdag Donderdag Vrydag Saterdag".split(" "),SHORTWEEKDAYS:"So. Ma. Di. Wo. Do. Vr. Sa.".split(" "),STANDALONESHORTWEEKDAYS:"So. Ma. Di. Wo. Do. Vr. Sa.".split(" "),NARROWWEEKDAYS:"SMDWDVS".split(""),STANDALONENARROWWEEKDAYS:"SMDWDVS".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["1ste kwartaal","2de kwartaal","3de kwartaal","4de kwartaal"],AMPMS:["vm.","nm."],DATEFORMATS:["EEEE, dd MMMM y",
"dd MMMM y","dd MMM y","y-MM-dd"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_am={ERAS:["\u12d3/\u12d3","\u12d3/\u121d"],ERANAMES:["\u12d3\u1218\u1270 \u12d3\u1208\u121d","\u12d3\u1218\u1270 \u121d\u1215\u1228\u1275"],NARROWMONTHS:"\u1303\u134c\u121b\u12a4\u121c\u1301\u1301\u12a6\u1234\u12a6\u1296\u12f2".split(""),STANDALONENARROWMONTHS:"\u1303\u134c\u121b\u12a4\u121c\u1301\u1301\u12a6\u1234\u12a6\u1296\u12f2".split(""),MONTHS:"\u1303\u1295\u12e9\u12c8\u122a \u134c\u1265\u1229\u12c8\u122a \u121b\u122d\u127d \u12a4\u1355\u122a\u120d \u121c\u12ed \u1301\u1295 \u1301\u120b\u12ed \u12a6\u1308\u1235\u1275 \u1234\u1355\u1274\u121d\u1260\u122d \u12a6\u12ad\u1276\u1260\u122d \u1296\u126c\u121d\u1260\u122d \u12f2\u1234\u121d\u1260\u122d".split(" "),
STANDALONEMONTHS:"\u1303\u1295\u12e9\u12c8\u122a \u134c\u1265\u1229\u12c8\u122a \u121b\u122d\u127d \u12a4\u1355\u122a\u120d \u121c\u12ed \u1301\u1295 \u1301\u120b\u12ed \u12a6\u1308\u1235\u1275 \u1234\u1355\u1274\u121d\u1260\u122d \u12a6\u12ad\u1276\u1260\u122d \u1296\u126c\u121d\u1260\u122d \u12f2\u1234\u121d\u1260\u122d".split(" "),SHORTMONTHS:"\u1303\u1295\u12e9 \u134c\u1265\u1229 \u121b\u122d\u127d \u12a4\u1355\u122a \u121c\u12ed \u1301\u1295 \u1301\u120b\u12ed \u12a6\u1308\u1235 \u1234\u1355\u1274 \u12a6\u12ad\u1276 \u1296\u126c\u121d \u12f2\u1234\u121d".split(" "),
STANDALONESHORTMONTHS:"\u1303\u1295\u12e9 \u134c\u1265\u1229 \u121b\u122d\u127d \u12a4\u1355\u122a \u121c\u12ed \u1301\u1295 \u1301\u120b\u12ed \u12a6\u1308\u1235 \u1234\u1355\u1274 \u12a6\u12ad\u1276 \u1296\u126c\u121d \u12f2\u1234\u121d".split(" "),WEEKDAYS:"\u12a5\u1211\u12f5 \u1230\u129e \u121b\u12ad\u1230\u129e \u1228\u1261\u12d5 \u1210\u1219\u1235 \u12d3\u122d\u1265 \u1245\u12f3\u121c".split(" "),STANDALONEWEEKDAYS:"\u12a5\u1211\u12f5 \u1230\u129e \u121b\u12ad\u1230\u129e \u1228\u1261\u12d5 \u1210\u1219\u1235 \u12d3\u122d\u1265 \u1245\u12f3\u121c".split(" "),
SHORTWEEKDAYS:"\u12a5\u1211\u12f5 \u1230\u129e \u121b\u12ad\u1230 \u1228\u1261\u12d5 \u1210\u1219\u1235 \u12d3\u122d\u1265 \u1245\u12f3\u121c".split(" "),STANDALONESHORTWEEKDAYS:"\u12a5\u1211\u12f5 \u1230\u129e \u121b\u12ad\u1230 \u1228\u1261\u12d5 \u1210\u1219\u1235 \u12d3\u122d\u1265 \u1245\u12f3\u121c".split(" "),NARROWWEEKDAYS:"\u12a5\u1230\u121b\u1228\u1210\u12d3\u1245".split(""),STANDALONENARROWWEEKDAYS:"\u12a5\u1230\u121b\u1228\u1210\u12d3\u1245".split(""),SHORTQUARTERS:["\u1229\u12651","\u1229\u12652",
"\u1229\u12653","\u1229\u12654"],QUARTERS:["1\u129b\u12cd \u1229\u1265","2\u129b\u12cd \u1229\u1265","3\u129b\u12cd \u1229\u1265","4\u129b\u12cd \u1229\u1265"],AMPMS:["\u1325\u12cb\u1275","\u12a8\u1230\u12d3\u1275"],DATEFORMATS:["EEEE \u1363d MMMM y","d MMMM y","d MMM y","dd/MM/y"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_ar={ZERODIGIT:1632,ERAS:["\u0642.\u0645","\u0645"],ERANAMES:["\u0642\u0628\u0644 \u0627\u0644\u0645\u064a\u0644\u0627\u062f","\u0645\u064a\u0644\u0627\u062f\u064a"],NARROWMONTHS:"\u064a\u0641\u0645\u0623\u0648\u0646\u0644\u063a\u0633\u0643\u0628\u062f".split(""),STANDALONENARROWMONTHS:"\u064a\u0641\u0645\u0623\u0648\u0646\u0644\u063a\u0633\u0643\u0628\u062f".split(""),MONTHS:"\u064a\u0646\u0627\u064a\u0631 \u0641\u0628\u0631\u0627\u064a\u0631 \u0645\u0627\u0631\u0633 \u0623\u0628\u0631\u064a\u0644 \u0645\u0627\u064a\u0648 \u064a\u0648\u0646\u064a\u0648 \u064a\u0648\u0644\u064a\u0648 \u0623\u063a\u0633\u0637\u0633 \u0633\u0628\u062a\u0645\u0628\u0631 \u0623\u0643\u062a\u0648\u0628\u0631 \u0646\u0648\u0641\u0645\u0628\u0631 \u062f\u064a\u0633\u0645\u0628\u0631".split(" "),
STANDALONEMONTHS:"\u064a\u0646\u0627\u064a\u0631 \u0641\u0628\u0631\u0627\u064a\u0631 \u0645\u0627\u0631\u0633 \u0623\u0628\u0631\u064a\u0644 \u0645\u0627\u064a\u0648 \u064a\u0648\u0646\u064a\u0648 \u064a\u0648\u0644\u064a\u0648 \u0623\u063a\u0633\u0637\u0633 \u0633\u0628\u062a\u0645\u0628\u0631 \u0623\u0643\u062a\u0648\u0628\u0631 \u0646\u0648\u0641\u0645\u0628\u0631 \u062f\u064a\u0633\u0645\u0628\u0631".split(" "),SHORTMONTHS:"\u064a\u0646\u0627\u064a\u0631 \u0641\u0628\u0631\u0627\u064a\u0631 \u0645\u0627\u0631\u0633 \u0623\u0628\u0631\u064a\u0644 \u0645\u0627\u064a\u0648 \u064a\u0648\u0646\u064a\u0648 \u064a\u0648\u0644\u064a\u0648 \u0623\u063a\u0633\u0637\u0633 \u0633\u0628\u062a\u0645\u0628\u0631 \u0623\u0643\u062a\u0648\u0628\u0631 \u0646\u0648\u0641\u0645\u0628\u0631 \u062f\u064a\u0633\u0645\u0628\u0631".split(" "),
STANDALONESHORTMONTHS:"\u064a\u0646\u0627\u064a\u0631 \u0641\u0628\u0631\u0627\u064a\u0631 \u0645\u0627\u0631\u0633 \u0623\u0628\u0631\u064a\u0644 \u0645\u0627\u064a\u0648 \u064a\u0648\u0646\u064a\u0648 \u064a\u0648\u0644\u064a\u0648 \u0623\u063a\u0633\u0637\u0633 \u0633\u0628\u062a\u0645\u0628\u0631 \u0623\u0643\u062a\u0648\u0628\u0631 \u0646\u0648\u0641\u0645\u0628\u0631 \u062f\u064a\u0633\u0645\u0628\u0631".split(" "),WEEKDAYS:"\u0627\u0644\u0623\u062d\u062f \u0627\u0644\u0627\u062b\u0646\u064a\u0646 \u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621 \u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621 \u0627\u0644\u062e\u0645\u064a\u0633 \u0627\u0644\u062c\u0645\u0639\u0629 \u0627\u0644\u0633\u0628\u062a".split(" "),
STANDALONEWEEKDAYS:"\u0627\u0644\u0623\u062d\u062f \u0627\u0644\u0627\u062b\u0646\u064a\u0646 \u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621 \u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621 \u0627\u0644\u062e\u0645\u064a\u0633 \u0627\u0644\u062c\u0645\u0639\u0629 \u0627\u0644\u0633\u0628\u062a".split(" "),SHORTWEEKDAYS:"\u0627\u0644\u0623\u062d\u062f \u0627\u0644\u0627\u062b\u0646\u064a\u0646 \u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621 \u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621 \u0627\u0644\u062e\u0645\u064a\u0633 \u0627\u0644\u062c\u0645\u0639\u0629 \u0627\u0644\u0633\u0628\u062a".split(" "),
STANDALONESHORTWEEKDAYS:"\u0627\u0644\u0623\u062d\u062f \u0627\u0644\u0627\u062b\u0646\u064a\u0646 \u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621 \u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621 \u0627\u0644\u062e\u0645\u064a\u0633 \u0627\u0644\u062c\u0645\u0639\u0629 \u0627\u0644\u0633\u0628\u062a".split(" "),NARROWWEEKDAYS:"\u062d\u0646\u062b\u0631\u062e\u062c\u0633".split(""),STANDALONENARROWWEEKDAYS:"\u062d\u0646\u062b\u0631\u062e\u062c\u0633".split(""),SHORTQUARTERS:["\u0627\u0644\u0631\u0628\u0639 \u0627\u0644\u0623\u0648\u0644",
"\u0627\u0644\u0631\u0628\u0639 \u0627\u0644\u062b\u0627\u0646\u064a","\u0627\u0644\u0631\u0628\u0639 \u0627\u0644\u062b\u0627\u0644\u062b","\u0627\u0644\u0631\u0628\u0639 \u0627\u0644\u0631\u0627\u0628\u0639"],QUARTERS:["\u0627\u0644\u0631\u0628\u0639 \u0627\u0644\u0623\u0648\u0644","\u0627\u0644\u0631\u0628\u0639 \u0627\u0644\u062b\u0627\u0646\u064a","\u0627\u0644\u0631\u0628\u0639 \u0627\u0644\u062b\u0627\u0644\u062b","\u0627\u0644\u0631\u0628\u0639 \u0627\u0644\u0631\u0627\u0628\u0639"],AMPMS:["\u0635",
"\u0645"],DATEFORMATS:["EEEE\u060c d MMMM\u060c y","d MMMM\u060c y","dd\u200f/MM\u200f/y","d\u200f/M\u200f/y"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:5,WEEKENDRANGE:[4,5],FIRSTWEEKCUTOFFDAY:4};
goog.i18n.DateTimeSymbols_ar_DZ={ERAS:["\u0642.\u0645","\u0645"],ERANAMES:["\u0642\u0628\u0644 \u0627\u0644\u0645\u064a\u0644\u0627\u062f","\u0645\u064a\u0644\u0627\u062f\u064a"],NARROWMONTHS:"\u062c\u0641\u0645\u0623\u0645\u062c\u062c\u0623\u0633\u0623\u0646\u062f".split(""),STANDALONENARROWMONTHS:"\u062c\u0641\u0645\u0623\u0645\u062c\u062c\u0623\u0633\u0623\u0646\u062f".split(""),MONTHS:"\u062c\u0627\u0646\u0641\u064a \u0641\u064a\u0641\u0631\u064a \u0645\u0627\u0631\u0633 \u0623\u0641\u0631\u064a\u0644 \u0645\u0627\u064a \u062c\u0648\u0627\u0646 \u062c\u0648\u064a\u0644\u064a\u0629 \u0623\u0648\u062a \u0633\u0628\u062a\u0645\u0628\u0631 \u0623\u0643\u062a\u0648\u0628\u0631 \u0646\u0648\u0641\u0645\u0628\u0631 \u062f\u064a\u0633\u0645\u0628\u0631".split(" "),
STANDALONEMONTHS:"\u062c\u0627\u0646\u0641\u064a \u0641\u064a\u0641\u0631\u064a \u0645\u0627\u0631\u0633 \u0623\u0641\u0631\u064a\u0644 \u0645\u0627\u064a \u062c\u0648\u0627\u0646 \u062c\u0648\u064a\u0644\u064a\u0629 \u0623\u0648\u062a \u0633\u0628\u062a\u0645\u0628\u0631 \u0623\u0643\u062a\u0648\u0628\u0631 \u0646\u0648\u0641\u0645\u0628\u0631 \u062f\u064a\u0633\u0645\u0628\u0631".split(" "),SHORTMONTHS:"\u062c\u0627\u0646\u0641\u064a \u0641\u064a\u0641\u0631\u064a \u0645\u0627\u0631\u0633 \u0623\u0641\u0631\u064a\u0644 \u0645\u0627\u064a \u062c\u0648\u0627\u0646 \u062c\u0648\u064a\u0644\u064a\u0629 \u0623\u0648\u062a \u0633\u0628\u062a\u0645\u0628\u0631 \u0623\u0643\u062a\u0648\u0628\u0631 \u0646\u0648\u0641\u0645\u0628\u0631 \u062f\u064a\u0633\u0645\u0628\u0631".split(" "),
STANDALONESHORTMONTHS:"\u062c\u0627\u0646\u0641\u064a \u0641\u064a\u0641\u0631\u064a \u0645\u0627\u0631\u0633 \u0623\u0641\u0631\u064a\u0644 \u0645\u0627\u064a \u062c\u0648\u0627\u0646 \u062c\u0648\u064a\u0644\u064a\u0629 \u0623\u0648\u062a \u0633\u0628\u062a\u0645\u0628\u0631 \u0623\u0643\u062a\u0648\u0628\u0631 \u0646\u0648\u0641\u0645\u0628\u0631 \u062f\u064a\u0633\u0645\u0628\u0631".split(" "),WEEKDAYS:"\u0627\u0644\u0623\u062d\u062f \u0627\u0644\u0627\u062b\u0646\u064a\u0646 \u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621 \u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621 \u0627\u0644\u062e\u0645\u064a\u0633 \u0627\u0644\u062c\u0645\u0639\u0629 \u0627\u0644\u0633\u0628\u062a".split(" "),
STANDALONEWEEKDAYS:"\u0627\u0644\u0623\u062d\u062f \u0627\u0644\u0627\u062b\u0646\u064a\u0646 \u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621 \u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621 \u0627\u0644\u062e\u0645\u064a\u0633 \u0627\u0644\u062c\u0645\u0639\u0629 \u0627\u0644\u0633\u0628\u062a".split(" "),SHORTWEEKDAYS:"\u0627\u0644\u0623\u062d\u062f \u0627\u0644\u0627\u062b\u0646\u064a\u0646 \u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621 \u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621 \u0627\u0644\u062e\u0645\u064a\u0633 \u0627\u0644\u062c\u0645\u0639\u0629 \u0627\u0644\u0633\u0628\u062a".split(" "),
STANDALONESHORTWEEKDAYS:"\u0627\u0644\u0623\u062d\u062f \u0627\u0644\u0627\u062b\u0646\u064a\u0646 \u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621 \u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621 \u0627\u0644\u062e\u0645\u064a\u0633 \u0627\u0644\u062c\u0645\u0639\u0629 \u0627\u0644\u0633\u0628\u062a".split(" "),NARROWWEEKDAYS:"\u062d\u0646\u062b\u0631\u062e\u062c\u0633".split(""),STANDALONENARROWWEEKDAYS:"\u062d\u0646\u062b\u0631\u062e\u062c\u0633".split(""),SHORTQUARTERS:["\u0627\u0644\u0631\u0628\u0639 \u0627\u0644\u0623\u0648\u0644",
"\u0627\u0644\u0631\u0628\u0639 \u0627\u0644\u062b\u0627\u0646\u064a","\u0627\u0644\u0631\u0628\u0639 \u0627\u0644\u062b\u0627\u0644\u062b","\u0627\u0644\u0631\u0628\u0639 \u0627\u0644\u0631\u0627\u0628\u0639"],QUARTERS:["\u0627\u0644\u0631\u0628\u0639 \u0627\u0644\u0623\u0648\u0644","\u0627\u0644\u0631\u0628\u0639 \u0627\u0644\u062b\u0627\u0646\u064a","\u0627\u0644\u0631\u0628\u0639 \u0627\u0644\u062b\u0627\u0644\u062b","\u0627\u0644\u0631\u0628\u0639 \u0627\u0644\u0631\u0627\u0628\u0639"],AMPMS:["\u0635",
"\u0645"],DATEFORMATS:["EEEE\u060c d MMMM\u060c y","d MMMM\u060c y","dd\u200f/MM\u200f/y","d\u200f/M\u200f/y"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:5,WEEKENDRANGE:[4,5],FIRSTWEEKCUTOFFDAY:4};
goog.i18n.DateTimeSymbols_az={ERAS:["e.\u0259.","y.e."],ERANAMES:["eram\u0131zdan \u0259vv\u0259l","yeni era"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"yanvar fevral mart aprel may iyun iyul avqust sentyabr oktyabr noyabr dekabr".split(" "),STANDALONEMONTHS:"Yanvar Fevral Mart Aprel May \u0130yun \u0130yul Avqust Sentyabr Oktyabr Noyabr Dekabr".split(" "),SHORTMONTHS:"yan fev mar apr may iyn iyl avq sen okt noy dek".split(" "),
STANDALONESHORTMONTHS:"yan fev mar apr may iyn iyl avq sen okt noy dek".split(" "),WEEKDAYS:"bazar;bazar ert\u0259si;\u00e7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131;\u00e7\u0259r\u015f\u0259nb\u0259;c\u00fcm\u0259 ax\u015fam\u0131;c\u00fcm\u0259;\u015f\u0259nb\u0259".split(";"),STANDALONEWEEKDAYS:"bazar;bazar ert\u0259si;\u00e7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131;\u00e7\u0259r\u015f\u0259nb\u0259;c\u00fcm\u0259 ax\u015fam\u0131;c\u00fcm\u0259;\u015f\u0259nb\u0259".split(";"),SHORTWEEKDAYS:"B. B.E. \u00c7.A. \u00c7. C.A. C. \u015e.".split(" "),
STANDALONESHORTWEEKDAYS:"B. B.E. \u00c7.A. \u00c7. C.A. C. \u015e.".split(" "),NARROWWEEKDAYS:"7123456".split(""),STANDALONENARROWWEEKDAYS:"7123456".split(""),SHORTQUARTERS:["1-ci kv.","2-ci kv.","3-c\u00fc kv.","4-c\u00fc kv."],QUARTERS:["1-ci kvartal","2-ci kvartal","3-c\u00fc kvartal","4-c\u00fc kvartal"],AMPMS:["AM","PM"],DATEFORMATS:["d MMMM y, EEEE","d MMMM y","d MMM y","dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],
FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_be={ERAS:["\u0434\u0430 \u043d.\u044d.","\u043d.\u044d."],ERANAMES:["\u0434\u0430 \u043d\u0430\u0440\u0430\u0434\u0436\u044d\u043d\u043d\u044f \u0425\u0440\u044b\u0441\u0442\u043e\u0432\u0430","\u0430\u0434 \u043d\u0430\u0440\u0430\u0434\u0436\u044d\u043d\u043d\u044f \u0425\u0440\u044b\u0441\u0442\u043e\u0432\u0430"],NARROWMONTHS:"\u0441\u043b\u0441\u043a\u043c\u0447\u043b\u0436\u0432\u043a\u043b\u0441".split(""),STANDALONENARROWMONTHS:"\u0441\u043b\u0441\u043a\u043c\u0447\u043b\u0436\u0432\u043a\u043b\u0441".split(""),
MONTHS:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f \u043b\u044e\u0442\u0430\u0433\u0430 \u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430 \u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430 \u043c\u0430\u044f \u0447\u044d\u0440\u0432\u0435\u043d\u044f \u043b\u0456\u043f\u0435\u043d\u044f \u0436\u043d\u0456\u045e\u043d\u044f \u0432\u0435\u0440\u0430\u0441\u043d\u044f \u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430 \u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430 \u0441\u043d\u0435\u0436\u043d\u044f".split(" "),
STANDALONEMONTHS:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c \u043b\u044e\u0442\u044b \u0441\u0430\u043a\u0430\u0432\u0456\u043a \u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a \u043c\u0430\u0439 \u0447\u044d\u0440\u0432\u0435\u043d\u044c \u043b\u0456\u043f\u0435\u043d\u044c \u0436\u043d\u0456\u0432\u0435\u043d\u044c \u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c \u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a \u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434 \u0441\u043d\u0435\u0436\u0430\u043d\u044c".split(" "),
SHORTMONTHS:"\u0441\u0442\u0443 \u043b\u044e\u0442 \u0441\u0430\u043a \u043a\u0440\u0430 \u043c\u0430\u044f \u0447\u044d\u0440 \u043b\u0456\u043f \u0436\u043d\u0456 \u0432\u0435\u0440 \u043a\u0430\u0441 \u043b\u0456\u0441 \u0441\u043d\u0435".split(" "),STANDALONESHORTMONTHS:"\u0441\u0442\u0443 \u043b\u044e\u0442 \u0441\u0430\u043a \u043a\u0440\u0430 \u043c\u0430\u0439 \u0447\u044d\u0440 \u043b\u0456\u043f \u0436\u043d\u0456 \u0432\u0435\u0440 \u043a\u0430\u0441 \u043b\u0456\u0441 \u0441\u043d\u0435".split(" "),
WEEKDAYS:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f \u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a \u0430\u045e\u0442\u043e\u0440\u0430\u043a \u0441\u0435\u0440\u0430\u0434\u0430 \u0447\u0430\u0446\u0432\u0435\u0440 \u043f\u044f\u0442\u043d\u0456\u0446\u0430 \u0441\u0443\u0431\u043e\u0442\u0430".split(" "),STANDALONEWEEKDAYS:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f \u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a \u0430\u045e\u0442\u043e\u0440\u0430\u043a \u0441\u0435\u0440\u0430\u0434\u0430 \u0447\u0430\u0446\u0432\u0435\u0440 \u043f\u044f\u0442\u043d\u0456\u0446\u0430 \u0441\u0443\u0431\u043e\u0442\u0430".split(" "),
SHORTWEEKDAYS:"\u043d\u0434 \u043f\u043d \u0430\u045e \u0441\u0440 \u0447\u0446 \u043f\u0442 \u0441\u0431".split(" "),STANDALONESHORTWEEKDAYS:"\u043d\u0434 \u043f\u043d \u0430\u045e \u0441\u0440 \u0447\u0446 \u043f\u0442 \u0441\u0431".split(" "),NARROWWEEKDAYS:"\u043d\u043f\u0430\u0441\u0447\u043f\u0441".split(""),STANDALONENARROWWEEKDAYS:"\u043d\u043f\u0430\u0441\u0447\u043f\u0441".split(""),SHORTQUARTERS:["1-\u0448\u044b \u043a\u0432.","2-\u0433\u0456 \u043a\u0432.","3-\u0446\u0456 \u043a\u0432.",
"4-\u0442\u044b \u043a\u0432."],QUARTERS:["1-\u0448\u044b \u043a\u0432\u0430\u0440\u0442\u0430\u043b","2-\u0433\u0456 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","3-\u0446\u0456 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","4-\u0442\u044b \u043a\u0432\u0430\u0440\u0442\u0430\u043b"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d MMMM y '\u0433'.","d MMMM y '\u0433'.","d.MM.y","d.MM.yy"],TIMEFORMATS:["HH:mm:ss, zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} '\u0443' {0}","{1} '\u0443' {0}","{1}, {0}",
"{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_bg={ERAS:["\u043f\u0440.\u0425\u0440.","\u0441\u043b.\u0425\u0440."],ERANAMES:["\u043f\u0440\u0435\u0434\u0438 \u0425\u0440\u0438\u0441\u0442\u0430","\u0441\u043b\u0435\u0434 \u0425\u0440\u0438\u0441\u0442\u0430"],NARROWMONTHS:"\u044f\u0444\u043c\u0430\u043c\u044e\u044e\u0430\u0441\u043e\u043d\u0434".split(""),STANDALONENARROWMONTHS:"\u044f\u0444\u043c\u0430\u043c\u044e\u044e\u0430\u0441\u043e\u043d\u0434".split(""),MONTHS:"\u044f\u043d\u0443\u0430\u0440\u0438 \u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438 \u043c\u0430\u0440\u0442 \u0430\u043f\u0440\u0438\u043b \u043c\u0430\u0439 \u044e\u043d\u0438 \u044e\u043b\u0438 \u0430\u0432\u0433\u0443\u0441\u0442 \u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438 \u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438 \u043d\u043e\u0435\u043c\u0432\u0440\u0438 \u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split(" "),
STANDALONEMONTHS:"\u044f\u043d\u0443\u0430\u0440\u0438 \u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438 \u043c\u0430\u0440\u0442 \u0430\u043f\u0440\u0438\u043b \u043c\u0430\u0439 \u044e\u043d\u0438 \u044e\u043b\u0438 \u0430\u0432\u0433\u0443\u0441\u0442 \u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438 \u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438 \u043d\u043e\u0435\u043c\u0432\u0440\u0438 \u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split(" "),SHORTMONTHS:"\u044f\u043d\u0443 \u0444\u0435\u0432 \u043c\u0430\u0440\u0442 \u0430\u043f\u0440 \u043c\u0430\u0439 \u044e\u043d\u0438 \u044e\u043b\u0438 \u0430\u0432\u0433 \u0441\u0435\u043f \u043e\u043a\u0442 \u043d\u043e\u0435 \u0434\u0435\u043a".split(" "),
STANDALONESHORTMONTHS:"\u044f\u043d\u0443 \u0444\u0435\u0432 \u043c\u0430\u0440\u0442 \u0430\u043f\u0440 \u043c\u0430\u0439 \u044e\u043d\u0438 \u044e\u043b\u0438 \u0430\u0432\u0433 \u0441\u0435\u043f \u043e\u043a\u0442 \u043d\u043e\u0435 \u0434\u0435\u043a".split(" "),WEEKDAYS:"\u043d\u0435\u0434\u0435\u043b\u044f \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u044f\u0434\u0430 \u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a \u043f\u0435\u0442\u044a\u043a \u0441\u044a\u0431\u043e\u0442\u0430".split(" "),
STANDALONEWEEKDAYS:"\u043d\u0435\u0434\u0435\u043b\u044f \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u044f\u0434\u0430 \u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a \u043f\u0435\u0442\u044a\u043a \u0441\u044a\u0431\u043e\u0442\u0430".split(" "),SHORTWEEKDAYS:"\u043d\u0434 \u043f\u043d \u0432\u0442 \u0441\u0440 \u0447\u0442 \u043f\u0442 \u0441\u0431".split(" "),STANDALONESHORTWEEKDAYS:"\u043d\u0434 \u043f\u043d \u0432\u0442 \u0441\u0440 \u0447\u0442 \u043f\u0442 \u0441\u0431".split(" "),
NARROWWEEKDAYS:"\u043d\u043f\u0432\u0441\u0447\u043f\u0441".split(""),STANDALONENARROWWEEKDAYS:"\u043d\u043f\u0432\u0441\u0447\u043f\u0441".split(""),SHORTQUARTERS:["1. \u0442\u0440\u0438\u043c.","2. \u0442\u0440\u0438\u043c.","3. \u0442\u0440\u0438\u043c.","4. \u0442\u0440\u0438\u043c."],QUARTERS:["1. \u0442\u0440\u0438\u043c\u0435\u0441\u0435\u0447\u0438\u0435","2. \u0442\u0440\u0438\u043c\u0435\u0441\u0435\u0447\u0438\u0435","3. \u0442\u0440\u0438\u043c\u0435\u0441\u0435\u0447\u0438\u0435","4. \u0442\u0440\u0438\u043c\u0435\u0441\u0435\u0447\u0438\u0435"],
AMPMS:["\u043f\u0440.\u043e\u0431.","\u0441\u043b.\u043e\u0431."],DATEFORMATS:["EEEE, d MMMM y '\u0433'.","d MMMM y '\u0433'.","d.MM.y '\u0433'.","d.MM.yy '\u0433'."],TIMEFORMATS:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_bn={ZERODIGIT:2534,ERAS:["\u0996\u09cd\u09b0\u09bf\u09b8\u09cd\u099f\u09aa\u09c2\u09b0\u09cd\u09ac","\u0996\u09c3\u09b7\u09cd\u099f\u09be\u09ac\u09cd\u09a6"],ERANAMES:["\u0996\u09cd\u09b0\u09bf\u09b8\u09cd\u099f\u09aa\u09c2\u09b0\u09cd\u09ac","\u0996\u09c3\u09b7\u09cd\u099f\u09be\u09ac\u09cd\u09a6"],NARROWMONTHS:"\u099c\u09be \u09ab\u09c7 \u09ae\u09be \u098f \u09ae\u09c7 \u099c\u09c1\u09a8 \u099c\u09c1 \u0986 \u09b8\u09c7 \u0985 \u09a8 \u09a1\u09bf".split(" "),STANDALONENARROWMONTHS:"\u099c\u09be \u09ab\u09c7 \u09ae\u09be \u098f \u09ae\u09c7 \u099c\u09c1\u09a8 \u099c\u09c1 \u0986 \u09b8\u09c7 \u0985 \u09a8 \u09a1\u09bf".split(" "),
MONTHS:"\u099c\u09be\u09a8\u09c1\u09af\u09bc\u09be\u09b0\u09c0 \u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09af\u09bc\u09be\u09b0\u09c0 \u09ae\u09be\u09b0\u09cd\u099a \u098f\u09aa\u09cd\u09b0\u09bf\u09b2 \u09ae\u09c7 \u099c\u09c1\u09a8 \u099c\u09c1\u09b2\u09be\u0987 \u0986\u0997\u09b8\u09cd\u099f \u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0 \u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0 \u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0 \u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split(" "),STANDALONEMONTHS:"\u099c\u09be\u09a8\u09c1\u09af\u09bc\u09be\u09b0\u09c0 \u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09af\u09bc\u09be\u09b0\u09c0 \u09ae\u09be\u09b0\u09cd\u099a \u098f\u09aa\u09cd\u09b0\u09bf\u09b2 \u09ae\u09c7 \u099c\u09c1\u09a8 \u099c\u09c1\u09b2\u09be\u0987 \u0986\u0997\u09b8\u09cd\u099f \u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0 \u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0 \u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0 \u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split(" "),
SHORTMONTHS:"\u099c\u09be\u09a8\u09c1 \u09ab\u09c7\u09ac \u09ae\u09be\u09b0\u09cd\u099a \u098f\u09aa\u09cd\u09b0\u09bf\u09b2 \u09ae\u09c7 \u099c\u09c1\u09a8 \u099c\u09c1\u09b2\u09be\u0987 \u0986\u0997\u09b8\u09cd\u099f \u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0 \u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0 \u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0 \u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split(" "),STANDALONESHORTMONTHS:"\u099c\u09be\u09a8\u09c1\u09af\u09bc\u09be\u09b0\u09c0 \u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09af\u09bc\u09be\u09b0\u09c0 \u09ae\u09be\u09b0\u09cd\u099a \u098f\u09aa\u09cd\u09b0\u09bf\u09b2 \u09ae\u09c7 \u099c\u09c1\u09a8 \u099c\u09c1\u09b2\u09be\u0987 \u0986\u0997\u09b8\u09cd\u099f \u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0 \u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0 \u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0 \u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split(" "),
WEEKDAYS:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0 \u09b8\u09cb\u09ae\u09ac\u09be\u09b0 \u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0 \u09ac\u09c1\u09a7\u09ac\u09be\u09b0 \u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0 \u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0 \u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split(" "),STANDALONEWEEKDAYS:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0 \u09b8\u09cb\u09ae\u09ac\u09be\u09b0 \u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0 \u09ac\u09c1\u09a7\u09ac\u09be\u09b0 \u09ac\u09c3\u09b9\u09b7\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0 \u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0 \u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split(" "),
SHORTWEEKDAYS:"\u09b0\u09ac\u09bf \u09b8\u09cb\u09ae \u09ae\u0999\u09cd\u0997\u09b2 \u09ac\u09c1\u09a7 \u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf \u09b6\u09c1\u0995\u09cd\u09b0 \u09b6\u09a8\u09bf".split(" "),STANDALONESHORTWEEKDAYS:"\u09b0\u09ac\u09bf \u09b8\u09cb\u09ae \u09ae\u0999\u09cd\u0997\u09b2 \u09ac\u09c1\u09a7 \u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf \u09b6\u09c1\u0995\u09cd\u09b0 \u09b6\u09a8\u09bf".split(" "),NARROWWEEKDAYS:"\u09b0 \u09b8\u09cb \u09ae \u09ac\u09c1 \u09ac\u09c3 \u09b6\u09c1 \u09b6".split(" "),
STANDALONENARROWWEEKDAYS:"\u09b0 \u09b8\u09cb \u09ae \u09ac\u09c1 \u09ac\u09c3 \u09b6\u09c1 \u09b6".split(" "),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["\u09a4\u09cd\u09b0\u09c8\u09ae\u09be\u09b8\u09bf\u0995","\u09a6\u09cd\u09ac\u09bf\u09a4\u09c0\u09af\u09bc \u09a4\u09cd\u09b0\u09c8\u09ae\u09be\u09b8\u09bf\u0995","\u09a4\u09c3\u09a4\u09c0\u09af\u09bc \u09a4\u09cd\u09b0\u09c8\u09ae\u09be\u09b8\u09bf\u0995","\u099a\u09a4\u09c1\u09b0\u09cd\u09a5 \u09a4\u09cd\u09b0\u09c8\u09ae\u09be\u09b8\u09bf\u0995"],
AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d MMMM, y","d MMMM, y","d MMM, y","d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:4,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_br={ERAS:["a-raok J.K.","goude J.K."],ERANAMES:["a-raok Jezuz-Krist","goude Jezuz-Krist"],NARROWMONTHS:"01 02 03 04 05 06 07 08 09 10 11 12".split(" "),STANDALONENARROWMONTHS:"01 02 03 04 05 06 07 08 09 10 11 12".split(" "),MONTHS:"Genver C\u02bchwevrer Meurzh Ebrel Mae Mezheven Gouere Eost Gwengolo Here Du Kerzu".split(" "),STANDALONEMONTHS:"Genver C\u02bchwevrer Meurzh Ebrel Mae Mezheven Gouere Eost Gwengolo Here Du Kerzu".split(" "),SHORTMONTHS:"Gen. C\u02bchwe. Meur. Ebr. Mae Mezh. Goue. Eost Gwen. Here Du Kzu.".split(" "),
STANDALONESHORTMONTHS:"Gen. C\u02bchwe. Meur. Ebr. Mae Mezh. Goue. Eost Gwen. Here Du Ker.".split(" "),WEEKDAYS:"Sul Lun Meurzh Merc\u02bcher Yaou Gwener Sadorn".split(" "),STANDALONEWEEKDAYS:"Sul Lun Meurzh Merc\u02bcher Yaou Gwener Sadorn".split(" "),SHORTWEEKDAYS:"Sul Lun Meu. Mer. Yaou Gwe. Sad.".split(" "),STANDALONESHORTWEEKDAYS:"Sul Lun Meu. Mer. Yaou Gwe. Sad.".split(" "),NARROWWEEKDAYS:"Su L Mz Mc Y G Sa".split(" "),STANDALONENARROWWEEKDAYS:"Su L Mz Mc Y G Sa".split(" "),SHORTQUARTERS:["1a\u00f1 trim.",
"2l trim.","3e trim.","4e trim."],QUARTERS:["1a\u00f1 trimiziad","2l trimiziad","3e trimiziad","4e trimiziad"],AMPMS:["A.M.","G.M."],DATEFORMATS:["y MMMM d, EEEE","y MMMM d","y MMM d","y-MM-dd"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'da' {0}","{1} 'da' {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_bs={ERAS:["p. n. e.","n. e."],ERANAMES:["prije nove ere","nove ere"],NARROWMONTHS:"jfmamjjasond".split(""),STANDALONENARROWMONTHS:"jfmamjjasond".split(""),MONTHS:"januar februar mart april maj juni juli avgust septembar oktobar novembar decembar".split(" "),STANDALONEMONTHS:"januar februar mart april maj juni juli avgust septembar oktobar novembar decembar".split(" "),SHORTMONTHS:"jan feb mar apr maj jun jul avg sep okt nov dec".split(" "),STANDALONESHORTMONTHS:"jan feb mar apr maj jun jul avg sep okt nov dec".split(" "),
WEEKDAYS:"nedjelja ponedjeljak utorak srijeda \u010detvrtak petak subota".split(" "),STANDALONEWEEKDAYS:"nedjelja ponedjeljak utorak srijeda \u010detvrtak petak subota".split(" "),SHORTWEEKDAYS:"ned pon uto sri \u010det pet sub".split(" "),STANDALONESHORTWEEKDAYS:"ned pon uto sri \u010det pet sub".split(" "),NARROWWEEKDAYS:"NPUS\u010cPS".split(""),STANDALONENARROWWEEKDAYS:"npus\u010dps".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["Prvi kvartal","Drugi kvartal","Tre\u0107i kvartal","\u010cetvrti kvartal"],
AMPMS:["prijepodne","popodne"],DATEFORMATS:["EEEE, d. MMMM y.","d. MMMM y.","d. MMM. y.","d.M.yy."],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'u' {0}","{1} 'u' {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_ca={ERAS:["aC","dC"],ERANAMES:["abans de Crist","despr\u00e9s de Crist"],NARROWMONTHS:"GN FB M\u00c7 AB MG JN JL AG ST OC NV DS".split(" "),STANDALONENARROWMONTHS:"GN FB M\u00c7 AB MG JN JL AG ST OC NV DS".split(" "),MONTHS:"de gener;de febrer;de mar\u00e7;d\u2019abril;de maig;de juny;de juliol;d\u2019agost;de setembre;d\u2019octubre;de novembre;de desembre".split(";"),STANDALONEMONTHS:"gener febrer mar\u00e7 abril maig juny juliol agost setembre octubre novembre desembre".split(" "),
SHORTMONTHS:"de gen.;de febr.;de mar\u00e7;d\u2019abr.;de maig;de juny;de jul.;d\u2019ag.;de set.;d\u2019oct.;de nov.;de des.".split(";"),STANDALONESHORTMONTHS:"gen. febr. mar\u00e7 abr. maig juny jul. ag. set. oct. nov. des.".split(" "),WEEKDAYS:"diumenge dilluns dimarts dimecres dijous divendres dissabte".split(" "),STANDALONEWEEKDAYS:"diumenge dilluns dimarts dimecres dijous divendres dissabte".split(" "),SHORTWEEKDAYS:"dg. dl. dt. dc. dj. dv. ds.".split(" "),STANDALONESHORTWEEKDAYS:"dg. dl. dt. dc. dj. dv. ds.".split(" "),
NARROWWEEKDAYS:"dg dl dt dc dj dv ds".split(" "),STANDALONENARROWWEEKDAYS:"dg dl dt dc dj dv ds".split(" "),SHORTQUARTERS:["1T","2T","3T","4T"],QUARTERS:["1r trimestre","2n trimestre","3r trimestre","4t trimestre"],AMPMS:["a. m.","p. m."],DATEFORMATS:["EEEE, d MMMM 'de' y","d MMMM 'de' y","d MMM y","d/M/yy"],TIMEFORMATS:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1} 'a' 'les' {0}","{1} 'a' 'les' {0}","{1}, {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_chr={ERAS:["BC","AD"],ERANAMES:["\u13e7\u13d3\u13b7\u13b8 \u13a4\u13b7\u13af\u13cd\u13d7 \u13a6\u13b6\u13c1\u13db","\u13a0\u13c3 \u13d9\u13bb\u13c2"],NARROWMONTHS:"\u13a4\u13a7\u13a0\u13a7\u13a0\u13d5\u13ab\u13a6\u13da\u13da\u13c5\u13a5".split(""),STANDALONENARROWMONTHS:"\u13a4\u13a7\u13a0\u13a7\u13a0\u13d5\u13ab\u13a6\u13da\u13da\u13c5\u13a5".split(""),MONTHS:"\u13a4\u13c3\u13b8\u13d4\u13c5 \u13a7\u13a6\u13b5 \u13a0\u13c5\u13f1 \u13a7\u13ec\u13c2 \u13a0\u13c2\u13cd\u13ac\u13d8 \u13d5\u13ad\u13b7\u13f1 \u13ab\u13f0\u13c9\u13c2 \u13a6\u13b6\u13c2 \u13da\u13b5\u13cd\u13d7 \u13da\u13c2\u13c5\u13d7 \u13c5\u13d3\u13d5\u13c6 \u13a5\u13cd\u13a9\u13f1".split(" "),
STANDALONEMONTHS:"\u13a4\u13c3\u13b8\u13d4\u13c5 \u13a7\u13a6\u13b5 \u13a0\u13c5\u13f1 \u13a7\u13ec\u13c2 \u13a0\u13c2\u13cd\u13ac\u13d8 \u13d5\u13ad\u13b7\u13f1 \u13ab\u13f0\u13c9\u13c2 \u13a6\u13b6\u13c2 \u13da\u13b5\u13cd\u13d7 \u13da\u13c2\u13c5\u13d7 \u13c5\u13d3\u13d5\u13c6 \u13a5\u13cd\u13a9\u13f1".split(" "),SHORTMONTHS:"\u13a4\u13c3 \u13a7\u13a6 \u13a0\u13c5 \u13a7\u13ec \u13a0\u13c2 \u13d5\u13ad \u13ab\u13f0 \u13a6\u13b6 \u13da\u13b5 \u13da\u13c2 \u13c5\u13d3 \u13a5\u13cd".split(" "),STANDALONESHORTMONTHS:"\u13a4\u13c3 \u13a7\u13a6 \u13a0\u13c5 \u13a7\u13ec \u13a0\u13c2 \u13d5\u13ad \u13ab\u13f0 \u13a6\u13b6 \u13da\u13b5 \u13da\u13c2 \u13c5\u13d3 \u13a5\u13cd".split(" "),
WEEKDAYS:"\u13a4\u13be\u13d9\u13d3\u13c6\u13cd\u13ac \u13a4\u13be\u13d9\u13d3\u13c9\u13c5\u13af \u13d4\u13b5\u13c1\u13a2\u13a6 \u13e6\u13a2\u13c1\u13a2\u13a6 \u13c5\u13a9\u13c1\u13a2\u13a6 \u13e7\u13be\u13a9\u13b6\u13cd\u13d7 \u13a4\u13be\u13d9\u13d3\u13c8\u13d5\u13be".split(" "),STANDALONEWEEKDAYS:"\u13a4\u13be\u13d9\u13d3\u13c6\u13cd\u13ac \u13a4\u13be\u13d9\u13d3\u13c9\u13c5\u13af \u13d4\u13b5\u13c1\u13a2\u13a6 \u13e6\u13a2\u13c1\u13a2\u13a6 \u13c5\u13a9\u13c1\u13a2\u13a6 \u13e7\u13be\u13a9\u13b6\u13cd\u13d7 \u13a4\u13be\u13d9\u13d3\u13c8\u13d5\u13be".split(" "),
SHORTWEEKDAYS:"\u13c6\u13cd\u13ac \u13c9\u13c5\u13af \u13d4\u13b5\u13c1 \u13e6\u13a2\u13c1 \u13c5\u13a9\u13c1 \u13e7\u13be\u13a9 \u13c8\u13d5\u13be".split(" "),STANDALONESHORTWEEKDAYS:"\u13c6\u13cd\u13ac \u13c9\u13c5\u13af \u13d4\u13b5\u13c1 \u13e6\u13a2\u13c1 \u13c5\u13a9\u13c1 \u13e7\u13be\u13a9 \u13c8\u13d5\u13be".split(" "),NARROWWEEKDAYS:"\u13c6\u13c9\u13d4\u13e6\u13c5\u13e7\u13a4".split(""),STANDALONENARROWWEEKDAYS:"\u13c6\u13c9\u13d4\u13e6\u13c5\u13e7\u13a4".split(""),SHORTQUARTERS:["Q1","Q2",
"Q3","Q4"],QUARTERS:["1st \u13a9\u13c4\u13d9\u13d7","2nd \u13a9\u13c4\u13d9\u13d7","3rd \u13a9\u13c4\u13d9\u13d7","4th \u13a9\u13c4\u13d9\u13d7"],AMPMS:["\u13cc\u13be\u13b4","\u13d2\u13af\u13f1\u13a2\u13d7\u13e2"],DATEFORMATS:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} \u13a4\u13be\u13a2 {0}","{1} \u13a4\u13be\u13a2 {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_cs={ERAS:["p\u0159. n. l.","n. l."],ERANAMES:["p\u0159. n. l.","n. l."],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"ledna \u00fanora b\u0159ezna dubna kv\u011btna \u010dervna \u010dervence srpna z\u00e1\u0159\u00ed \u0159\u00edjna listopadu prosince".split(" "),STANDALONEMONTHS:"leden \u00fanor b\u0159ezen duben kv\u011bten \u010derven \u010dervenec srpen z\u00e1\u0159\u00ed \u0159\u00edjen listopad prosinec".split(" "),
SHORTMONTHS:"led \u00fano b\u0159e dub kv\u011b \u010dvn \u010dvc srp z\u00e1\u0159 \u0159\u00edj lis pro".split(" "),STANDALONESHORTMONTHS:"led \u00fano b\u0159e dub kv\u011b \u010dvn \u010dvc srp z\u00e1\u0159 \u0159\u00edj lis pro".split(" "),WEEKDAYS:"ned\u011ble pond\u011bl\u00ed \u00fater\u00fd st\u0159eda \u010dtvrtek p\u00e1tek sobota".split(" "),STANDALONEWEEKDAYS:"ned\u011ble pond\u011bl\u00ed \u00fater\u00fd st\u0159eda \u010dtvrtek p\u00e1tek sobota".split(" "),SHORTWEEKDAYS:"ne po \u00fat st \u010dt p\u00e1 so".split(" "),
STANDALONESHORTWEEKDAYS:"ne po \u00fat st \u010dt p\u00e1 so".split(" "),NARROWWEEKDAYS:"NP\u00daS\u010cPS".split(""),STANDALONENARROWWEEKDAYS:"NP\u00daS\u010cPS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1. \u010dtvrtlet\u00ed","2. \u010dtvrtlet\u00ed","3. \u010dtvrtlet\u00ed","4. \u010dtvrtlet\u00ed"],AMPMS:["dop.","odp."],DATEFORMATS:["EEEE d. MMMM y","d. MMMM y","d. M. y","dd.MM.yy"],TIMEFORMATS:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}",
"{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_cy={ERAS:["CC","OC"],ERANAMES:["Cyn Crist","Oed Crist"],NARROWMONTHS:"I Ch M E M M G A M H T Rh".split(" "),STANDALONENARROWMONTHS:"I Ch M E M M G A M H T Rh".split(" "),MONTHS:"Ionawr Chwefror Mawrth Ebrill Mai Mehefin Gorffennaf Awst Medi Hydref Tachwedd Rhagfyr".split(" "),STANDALONEMONTHS:"Ionawr Chwefror Mawrth Ebrill Mai Mehefin Gorffennaf Awst Medi Hydref Tachwedd Rhagfyr".split(" "),SHORTMONTHS:"Ion Chwef Maw Ebrill Mai Meh Gorff Awst Medi Hyd Tach Rhag".split(" "),STANDALONESHORTMONTHS:"Ion Chw Maw Ebr Mai Meh Gor Awst Medi Hyd Tach Rhag".split(" "),
WEEKDAYS:"Dydd Sul;Dydd Llun;Dydd Mawrth;Dydd Mercher;Dydd Iau;Dydd Gwener;Dydd Sadwrn".split(";"),STANDALONEWEEKDAYS:"Dydd Sul;Dydd Llun;Dydd Mawrth;Dydd Mercher;Dydd Iau;Dydd Gwener;Dydd Sadwrn".split(";"),SHORTWEEKDAYS:"Sul Llun Maw Mer Iau Gwen Sad".split(" "),STANDALONESHORTWEEKDAYS:"Sul Llun Maw Mer Iau Gwe Sad".split(" "),NARROWWEEKDAYS:"S Ll M M I G S".split(" "),STANDALONENARROWWEEKDAYS:"S Ll M M I G S".split(" "),SHORTQUARTERS:["Ch1","Ch2","Ch3","Ch4"],QUARTERS:["chwarter 1af","2il chwarter",
"3ydd chwarter","4ydd chwarter"],AMPMS:["yb","yh"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","dd/MM/yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'am' {0}","{1} 'am' {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_da={ERAS:["f.Kr.","e.Kr."],ERANAMES:["f.Kr.","e.Kr."],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"januar februar marts april maj juni juli august september oktober november december".split(" "),STANDALONEMONTHS:"januar februar marts april maj juni juli august september oktober november december".split(" "),SHORTMONTHS:"jan. feb. mar. apr. maj jun. jul. aug. sep. okt. nov. dec.".split(" "),STANDALONESHORTMONTHS:"jan. feb. mar. apr. maj jun. jul. aug. sep. okt. nov. dec.".split(" "),
WEEKDAYS:"s\u00f8ndag mandag tirsdag onsdag torsdag fredag l\u00f8rdag".split(" "),STANDALONEWEEKDAYS:"s\u00f8ndag mandag tirsdag onsdag torsdag fredag l\u00f8rdag".split(" "),SHORTWEEKDAYS:"s\u00f8n. man. tir. ons. tor. fre. l\u00f8r.".split(" "),STANDALONESHORTWEEKDAYS:"s\u00f8n man tir ons tor fre l\u00f8r".split(" "),NARROWWEEKDAYS:"SMTOTFL".split(""),STANDALONENARROWWEEKDAYS:"SMTOTFL".split(""),SHORTQUARTERS:["1. kvt.","2. kvt.","3. kvt.","4. kvt."],QUARTERS:["1. kvartal","2. kvartal","3. kvartal",
"4. kvartal"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE 'den' d. MMMM y","d. MMMM y","d. MMM y","dd/MM/y"],TIMEFORMATS:["HH.mm.ss zzzz","HH.mm.ss z","HH.mm.ss","HH.mm"],DATETIMEFORMATS:["{1} 'kl'. {0}","{1} 'kl'. {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_de={ERAS:["v. Chr.","n. Chr."],ERANAMES:["v. Chr.","n. Chr."],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"Januar Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" "),STANDALONEMONTHS:"Januar Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" "),SHORTMONTHS:"Jan. Feb. M\u00e4rz Apr. Mai Juni Juli Aug. Sep. Okt. Nov. Dez.".split(" "),STANDALONESHORTMONTHS:"Jan Feb M\u00e4r Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),
WEEKDAYS:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag".split(" "),STANDALONEWEEKDAYS:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag".split(" "),SHORTWEEKDAYS:"So. Mo. Di. Mi. Do. Fr. Sa.".split(" "),STANDALONESHORTWEEKDAYS:"So Mo Di Mi Do Fr Sa".split(" "),NARROWWEEKDAYS:"SMDMDFS".split(""),STANDALONENARROWWEEKDAYS:"SMDMDFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"],AMPMS:["vorm.","nachm."],DATEFORMATS:["EEEE, d. MMMM y",
"d. MMMM y","dd.MM.y","dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'um' {0}","{1} 'um' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_de_AT={ERAS:["v. Chr.","n. Chr."],ERANAMES:["v. Chr.","n. Chr."],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"J\u00e4nner Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" "),STANDALONEMONTHS:"J\u00e4nner Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" "),SHORTMONTHS:"J\u00e4n. Feb. M\u00e4rz Apr. Mai Juni Juli Aug. Sep. Okt. Nov. Dez.".split(" "),
STANDALONESHORTMONTHS:"J\u00e4n Feb M\u00e4r Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),WEEKDAYS:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag".split(" "),STANDALONEWEEKDAYS:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag".split(" "),SHORTWEEKDAYS:"So. Mo. Di. Mi. Do. Fr. Sa.".split(" "),STANDALONESHORTWEEKDAYS:"So Mo Di Mi Do Fr Sa".split(" "),NARROWWEEKDAYS:"SMDMDFS".split(""),STANDALONENARROWWEEKDAYS:"SMDMDFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1. Quartal",
"2. Quartal","3. Quartal","4. Quartal"],AMPMS:["vorm.","nachm."],DATEFORMATS:["EEEE, d. MMMM y","d. MMMM y","dd.MM.y","dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'um' {0}","{1} 'um' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};goog.i18n.DateTimeSymbols_de_CH=goog.i18n.DateTimeSymbols_de;
goog.i18n.DateTimeSymbols_el={ERAS:["\u03c0.\u03a7.","\u03bc.\u03a7."],ERANAMES:["\u03c0\u03c1\u03bf \u03a7\u03c1\u03b9\u03c3\u03c4\u03bf\u03cd","\u03bc\u03b5\u03c4\u03ac \u03a7\u03c1\u03b9\u03c3\u03c4\u03cc\u03bd"],NARROWMONTHS:"\u0399\u03a6\u039c\u0391\u039c\u0399\u0399\u0391\u03a3\u039f\u039d\u0394".split(""),STANDALONENARROWMONTHS:"\u0399\u03a6\u039c\u0391\u039c\u0399\u0399\u0391\u03a3\u039f\u039d\u0394".split(""),MONTHS:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5 \u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5 \u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5 \u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5 \u039c\u03b1\u0390\u03bf\u03c5 \u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5 \u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5 \u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5 \u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5 \u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5 \u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5 \u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split(" "),
STANDALONEMONTHS:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2 \u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2 \u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2 \u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2 \u039c\u03ac\u03b9\u03bf\u03c2 \u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2 \u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2 \u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2 \u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2 \u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2 \u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2 \u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split(" "),
SHORTMONTHS:"\u0399\u03b1\u03bd \u03a6\u03b5\u03b2 \u039c\u03b1\u03c1 \u0391\u03c0\u03c1 \u039c\u03b1\u0390 \u0399\u03bf\u03c5\u03bd \u0399\u03bf\u03c5\u03bb \u0391\u03c5\u03b3 \u03a3\u03b5\u03c0 \u039f\u03ba\u03c4 \u039d\u03bf\u03b5 \u0394\u03b5\u03ba".split(" "),STANDALONESHORTMONTHS:"\u0399\u03b1\u03bd \u03a6\u03b5\u03b2 \u039c\u03ac\u03c1 \u0391\u03c0\u03c1 \u039c\u03ac\u03b9 \u0399\u03bf\u03cd\u03bd \u0399\u03bf\u03cd\u03bb \u0391\u03cd\u03b3 \u03a3\u03b5\u03c0 \u039f\u03ba\u03c4 \u039d\u03bf\u03ad \u0394\u03b5\u03ba".split(" "),
WEEKDAYS:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae \u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1 \u03a4\u03c1\u03af\u03c4\u03b7 \u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7 \u03a0\u03ad\u03bc\u03c0\u03c4\u03b7 \u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae \u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split(" "),STANDALONEWEEKDAYS:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae \u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1 \u03a4\u03c1\u03af\u03c4\u03b7 \u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7 \u03a0\u03ad\u03bc\u03c0\u03c4\u03b7 \u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae \u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split(" "),
SHORTWEEKDAYS:"\u039a\u03c5\u03c1 \u0394\u03b5\u03c5 \u03a4\u03c1\u03af \u03a4\u03b5\u03c4 \u03a0\u03ad\u03bc \u03a0\u03b1\u03c1 \u03a3\u03ac\u03b2".split(" "),STANDALONESHORTWEEKDAYS:"\u039a\u03c5\u03c1 \u0394\u03b5\u03c5 \u03a4\u03c1\u03af \u03a4\u03b5\u03c4 \u03a0\u03ad\u03bc \u03a0\u03b1\u03c1 \u03a3\u03ac\u03b2".split(" "),NARROWWEEKDAYS:"\u039a\u0394\u03a4\u03a4\u03a0\u03a0\u03a3".split(""),STANDALONENARROWWEEKDAYS:"\u039a\u0394\u03a4\u03a4\u03a0\u03a0\u03a3".split(""),SHORTQUARTERS:["\u03a41",
"\u03a42","\u03a43","\u03a44"],QUARTERS:["1\u03bf \u03c4\u03c1\u03af\u03bc\u03b7\u03bd\u03bf","2\u03bf \u03c4\u03c1\u03af\u03bc\u03b7\u03bd\u03bf","3\u03bf \u03c4\u03c1\u03af\u03bc\u03b7\u03bd\u03bf","4\u03bf \u03c4\u03c1\u03af\u03bc\u03b7\u03bd\u03bf"],AMPMS:["\u03c0.\u03bc.","\u03bc.\u03bc."],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} - {0}","{1} - {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,
WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_en={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_en_AU={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan. Feb. Mar. Apr. May Jun. Jul. Aug. Sep. Oct. Nov. Dec.".split(" "),STANDALONESHORTMONTHS:"Jan. Feb. Mar. Apr. May Jun. Jul. Aug. Sep. Oct. Nov. Dec.".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun. Mon. Tue. Wed. Thu. Fri. Sat.".split(" "),STANDALONESHORTWEEKDAYS:"Sun. Mon. Tue. Wed. Thu. Fri. Sat.".split(" "),NARROWWEEKDAYS:"Su. M. Tu. W. Th. F. Sa.".split(" "),STANDALONENARROWWEEKDAYS:"Su. M. Tu. W. Th. F. Sa.".split(" "),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter",
"4th quarter"],AMPMS:["am","pm"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_en_CA={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","y-MM-dd"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_en_GB={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["am","pm"],DATEFORMATS:["EEEE, d MMMM y",
"d MMMM y","d MMM y","dd/MM/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_en_IE={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE d MMMM y",
"d MMMM y","d MMM y","dd/MM/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:2};
goog.i18n.DateTimeSymbols_en_IN={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE d MMMM y",
"d MMMM y","dd-MMM-y","dd/MM/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_en_SG={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d MMMM y",
"d MMMM y","d MMM y","d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};goog.i18n.DateTimeSymbols_en_US=goog.i18n.DateTimeSymbols_en;
goog.i18n.DateTimeSymbols_en_ZA={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, dd MMMM y",
"dd MMMM y","dd MMM y","y/MM/dd"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_es={ERAS:["a. C.","d. C."],ERANAMES:["antes de Cristo","despu\u00e9s de Cristo"],NARROWMONTHS:"EFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"EFMAMJJASOND".split(""),MONTHS:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),STANDALONEMONTHS:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),SHORTMONTHS:"ene. feb. mar. abr. may. jun. jul. ago. sept. oct. nov. dic.".split(" "),
STANDALONESHORTMONTHS:"ene. feb. mar. abr. may. jun. jul. ago. sept. oct. nov. dic.".split(" "),WEEKDAYS:"domingo lunes martes mi\u00e9rcoles jueves viernes s\u00e1bado".split(" "),STANDALONEWEEKDAYS:"domingo lunes martes mi\u00e9rcoles jueves viernes s\u00e1bado".split(" "),SHORTWEEKDAYS:"dom. lun. mar. mi\u00e9. jue. vie. s\u00e1b.".split(" "),STANDALONESHORTWEEKDAYS:"dom. lun. mar. mi\u00e9. jue. vie. s\u00e1b.".split(" "),NARROWWEEKDAYS:"DLMXJVS".split(""),STANDALONENARROWWEEKDAYS:"DLMXJVS".split(""),
SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["1.er trimestre","2.\u00ba trimestre","3.er trimestre","4.\u00ba trimestre"],AMPMS:["a. m.","p. m."],DATEFORMATS:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","d MMM y","d/M/yy"],TIMEFORMATS:["H:mm:ss (zzzz)","H:mm:ss z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_es_419={ERAS:["a. C.","d. C."],ERANAMES:["antes de Cristo","despu\u00e9s de Cristo"],NARROWMONTHS:"efmamjjasond".split(""),STANDALONENARROWMONTHS:"EFMAMJJASOND".split(""),MONTHS:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),STANDALONEMONTHS:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),SHORTMONTHS:"ene. feb. mar. abr. may. jun. jul. ago. sep. oct. nov. dic.".split(" "),
STANDALONESHORTMONTHS:"ene. feb. mar. abr. may. jun. jul. ago. sep. oct. nov. dic.".split(" "),WEEKDAYS:"domingo lunes martes mi\u00e9rcoles jueves viernes s\u00e1bado".split(" "),STANDALONEWEEKDAYS:"domingo lunes martes mi\u00e9rcoles jueves viernes s\u00e1bado".split(" "),SHORTWEEKDAYS:"dom. lun. mar. mi\u00e9. jue. vie. s\u00e1b.".split(" "),STANDALONESHORTWEEKDAYS:"dom. lun. mar. mi\u00e9. jue. vie. s\u00e1b.".split(" "),NARROWWEEKDAYS:"dlmmjvs".split(""),STANDALONENARROWWEEKDAYS:"DLMMJVS".split(""),
SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["1.er trimestre","2.\u00ba trimestre","3.er trimestre","4.\u00ba trimestre"],AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","d MMM y","d/M/yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};goog.i18n.DateTimeSymbols_es_ES=goog.i18n.DateTimeSymbols_es;
goog.i18n.DateTimeSymbols_es_MX={ERAS:["a. C.","d. C."],ERANAMES:["antes de Cristo","despu\u00e9s de Cristo"],NARROWMONTHS:"efmamjjasond".split(""),STANDALONENARROWMONTHS:"EFMAMJJASOND".split(""),MONTHS:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),STANDALONEMONTHS:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),SHORTMONTHS:"ene feb mar abr may jun jul ago sep oct nov dic".split(" "),STANDALONESHORTMONTHS:"ene. feb. mar. abr. may. jun. jul. ago. sep. oct. nov. dic.".split(" "),
WEEKDAYS:"domingo lunes martes mi\u00e9rcoles jueves viernes s\u00e1bado".split(" "),STANDALONEWEEKDAYS:"domingo lunes martes mi\u00e9rcoles jueves viernes s\u00e1bado".split(" "),SHORTWEEKDAYS:"dom. lun. mar. mi\u00e9. jue. vie. s\u00e1b.".split(" "),STANDALONESHORTWEEKDAYS:"dom. lun. mar. mi\u00e9. jue. vie. s\u00e1b.".split(" "),NARROWWEEKDAYS:"DLMMJVS".split(""),STANDALONENARROWWEEKDAYS:"DLMMJVS".split(""),SHORTQUARTERS:["1er. trim.","2\u00ba. trim.","3er. trim.","4\u00ba trim."],QUARTERS:["1er. trimestre",
"2\u00ba. trimestre","3er. trimestre","4o. trimestre"],AMPMS:["a. m.","p. m."],DATEFORMATS:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","dd/MM/y","dd/MM/yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_es_US={ERAS:["a. C.","d. C."],ERANAMES:["antes de Cristo","despu\u00e9s de Cristo"],NARROWMONTHS:"efmamjjasond".split(""),STANDALONENARROWMONTHS:"EFMAMJJASOND".split(""),MONTHS:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),STANDALONEMONTHS:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),SHORTMONTHS:"ene. feb. mar. abr. may. jun. jul. ago. sep. oct. nov. dic.".split(" "),
STANDALONESHORTMONTHS:"ene. feb. mar. abr. may. jun. jul. ago. sep. oct. nov. dic.".split(" "),WEEKDAYS:"domingo lunes martes mi\u00e9rcoles jueves viernes s\u00e1bado".split(" "),STANDALONEWEEKDAYS:"domingo lunes martes mi\u00e9rcoles jueves viernes s\u00e1bado".split(" "),SHORTWEEKDAYS:"dom. lun. mar. mi\u00e9. jue. vie. s\u00e1b.".split(" "),STANDALONESHORTWEEKDAYS:"dom. lun. mar. mi\u00e9. jue. vie. s\u00e1b.".split(" "),NARROWWEEKDAYS:"dlmmjvs".split(""),STANDALONENARROWWEEKDAYS:"DLMMJVS".split(""),
SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["1.er trimestre","2.\u00ba trimestre","3.er trimestre","4.\u00ba trimestre"],AMPMS:["a. m.","p. m."],DATEFORMATS:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","d MMM y","d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_et={ERAS:["eKr","pKr"],ERANAMES:["enne Kristust","p\u00e4rast Kristust"],NARROWMONTHS:"JVMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JVMAMJJASOND".split(""),MONTHS:"jaanuar veebruar m\u00e4rts aprill mai juuni juuli august september oktoober november detsember".split(" "),STANDALONEMONTHS:"jaanuar veebruar m\u00e4rts aprill mai juuni juuli august september oktoober november detsember".split(" "),SHORTMONTHS:"jaan veebr m\u00e4rts apr mai juuni juuli aug sept okt nov dets".split(" "),
STANDALONESHORTMONTHS:"jaan veebr m\u00e4rts apr mai juuni juuli aug sept okt nov dets".split(" "),WEEKDAYS:"p\u00fchap\u00e4ev esmasp\u00e4ev teisip\u00e4ev kolmap\u00e4ev neljap\u00e4ev reede laup\u00e4ev".split(" "),STANDALONEWEEKDAYS:"p\u00fchap\u00e4ev esmasp\u00e4ev teisip\u00e4ev kolmap\u00e4ev neljap\u00e4ev reede laup\u00e4ev".split(" "),SHORTWEEKDAYS:"PETKNRL".split(""),STANDALONESHORTWEEKDAYS:"PETKNRL".split(""),NARROWWEEKDAYS:"PETKNRL".split(""),STANDALONENARROWWEEKDAYS:"PETKNRL".split(""),
SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d. MMMM y","d. MMMM y","d. MMM y","dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_eu={ERAS:["K.a.","K.o."],ERANAMES:["K.a.","Kristo ondoren"],NARROWMONTHS:"UOMAMEUAIUAA".split(""),STANDALONENARROWMONTHS:"UOMAMEUAIUAA".split(""),MONTHS:"urtarrila otsaila martxoa apirila maiatza ekaina uztaila abuztua iraila urria azaroa abendua".split(" "),STANDALONEMONTHS:"urtarrila Otsaila Martxoa Apirila Maiatza Ekaina Uztaila Abuztua Iraila Urria Azaroa Abendua".split(" "),SHORTMONTHS:"urt. ots. mar. api. mai. eka. uzt. abu. ira. urr. aza. abe.".split(" "),STANDALONESHORTMONTHS:"urt. ots. mar. api. mai. eka. uzt. abu. ira. urr. aza. abe.".split(" "),
WEEKDAYS:"igandea astelehena asteartea asteazkena osteguna ostirala larunbata".split(" "),STANDALONEWEEKDAYS:"Igandea Astelehena Asteartea Asteazkena Osteguna Ostirala Larunbata".split(" "),SHORTWEEKDAYS:"ig. al. ar. az. og. or. lr.".split(" "),STANDALONESHORTWEEKDAYS:"ig. al. ar. az. og. or. lr.".split(" "),NARROWWEEKDAYS:"IAAAOOL".split(""),STANDALONENARROWWEEKDAYS:"IAAAOOL".split(""),SHORTQUARTERS:["1Hh","2Hh","3Hh","4Hh"],QUARTERS:["1. hiruhilekoa","2. hiruhilekoa","3. hiruhilekoa","4. hiruhilekoa"],
AMPMS:["AM","PM"],DATEFORMATS:["y('e')'ko' MMMM d, EEEE","y('e')'ko' MMMM d","y MMM d","yy/M/d"],TIMEFORMATS:["HH:mm:ss (zzzz)","HH:mm:ss (z)","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_fa={ZERODIGIT:1776,ERAS:["\u0642.\u0645.","\u0645."],ERANAMES:["\u0642\u0628\u0644 \u0627\u0632 \u0645\u06cc\u0644\u0627\u062f","\u0645\u06cc\u0644\u0627\u062f\u06cc"],NARROWMONTHS:"\u0698\u0641\u0645\u0622\u0645\u0698\u0698\u0627\u0633\u0627\u0646\u062f".split(""),STANDALONENARROWMONTHS:"\u0698\u0641\u0645\u0622\u0645\u0698\u0698\u0627\u0633\u0627\u0646\u062f".split(""),MONTHS:"\u0698\u0627\u0646\u0648\u06cc\u0647\u0654 \u0641\u0648\u0631\u06cc\u0647\u0654 \u0645\u0627\u0631\u0633 \u0622\u0648\u0631\u06cc\u0644 \u0645\u0647\u0654 \u0698\u0648\u0626\u0646 \u0698\u0648\u0626\u06cc\u0647\u0654 \u0627\u0648\u062a \u0633\u067e\u062a\u0627\u0645\u0628\u0631 \u0627\u06a9\u062a\u0628\u0631 \u0646\u0648\u0627\u0645\u0628\u0631 \u062f\u0633\u0627\u0645\u0628\u0631".split(" "),
STANDALONEMONTHS:"\u0698\u0627\u0646\u0648\u06cc\u0647 \u0641\u0648\u0631\u06cc\u0647 \u0645\u0627\u0631\u0633 \u0622\u0648\u0631\u06cc\u0644 \u0645\u0647 \u0698\u0648\u0626\u0646 \u0698\u0648\u0626\u06cc\u0647 \u0627\u0648\u062a \u0633\u067e\u062a\u0627\u0645\u0628\u0631 \u0627\u06a9\u062a\u0628\u0631 \u0646\u0648\u0627\u0645\u0628\u0631 \u062f\u0633\u0627\u0645\u0628\u0631".split(" "),SHORTMONTHS:"\u0698\u0627\u0646\u0648\u06cc\u0647\u0654 \u0641\u0648\u0631\u06cc\u0647\u0654 \u0645\u0627\u0631\u0633 \u0622\u0648\u0631\u06cc\u0644 \u0645\u0647\u0654 \u0698\u0648\u0626\u0646 \u0698\u0648\u0626\u06cc\u0647\u0654 \u0627\u0648\u062a \u0633\u067e\u062a\u0627\u0645\u0628\u0631 \u0627\u06a9\u062a\u0628\u0631 \u0646\u0648\u0627\u0645\u0628\u0631 \u062f\u0633\u0627\u0645\u0628\u0631".split(" "),
STANDALONESHORTMONTHS:"\u0698\u0627\u0646\u0648\u06cc\u0647 \u0641\u0648\u0631\u06cc\u0647 \u0645\u0627\u0631\u0633 \u0622\u0648\u0631\u06cc\u0644 \u0645\u0647 \u0698\u0648\u0626\u0646 \u0698\u0648\u0626\u06cc\u0647 \u0627\u0648\u062a \u0633\u067e\u062a\u0627\u0645\u0628\u0631 \u0627\u06a9\u062a\u0628\u0631 \u0646\u0648\u0627\u0645\u0628\u0631 \u062f\u0633\u0627\u0645\u0628\u0631".split(" "),WEEKDAYS:"\u06cc\u06a9\u0634\u0646\u0628\u0647 \u062f\u0648\u0634\u0646\u0628\u0647 \u0633\u0647\u200c\u0634\u0646\u0628\u0647 \u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647 \u067e\u0646\u062c\u0634\u0646\u0628\u0647 \u062c\u0645\u0639\u0647 \u0634\u0646\u0628\u0647".split(" "),
STANDALONEWEEKDAYS:"\u06cc\u06a9\u0634\u0646\u0628\u0647 \u062f\u0648\u0634\u0646\u0628\u0647 \u0633\u0647\u200c\u0634\u0646\u0628\u0647 \u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647 \u067e\u0646\u062c\u0634\u0646\u0628\u0647 \u062c\u0645\u0639\u0647 \u0634\u0646\u0628\u0647".split(" "),SHORTWEEKDAYS:"\u06cc\u06a9\u0634\u0646\u0628\u0647 \u062f\u0648\u0634\u0646\u0628\u0647 \u0633\u0647\u200c\u0634\u0646\u0628\u0647 \u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647 \u067e\u0646\u062c\u0634\u0646\u0628\u0647 \u062c\u0645\u0639\u0647 \u0634\u0646\u0628\u0647".split(" "),
STANDALONESHORTWEEKDAYS:"\u06cc\u06a9\u0634\u0646\u0628\u0647 \u062f\u0648\u0634\u0646\u0628\u0647 \u0633\u0647\u200c\u0634\u0646\u0628\u0647 \u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647 \u067e\u0646\u062c\u0634\u0646\u0628\u0647 \u062c\u0645\u0639\u0647 \u0634\u0646\u0628\u0647".split(" "),NARROWWEEKDAYS:"\u06cc\u062f\u0633\u0686\u067e\u062c\u0634".split(""),STANDALONENARROWWEEKDAYS:"\u06cc\u062f\u0633\u0686\u067e\u062c\u0634".split(""),SHORTQUARTERS:["\u0633\u200c\u0645\u06f1","\u0633\u200c\u0645\u06f2",
"\u0633\u200c\u0645\u06f3","\u0633\u200c\u0645\u06f4"],QUARTERS:["\u0633\u0647\u200c\u0645\u0627\u0647\u0647\u0654 \u0627\u0648\u0644","\u0633\u0647\u200c\u0645\u0627\u0647\u0647\u0654 \u062f\u0648\u0645","\u0633\u0647\u200c\u0645\u0627\u0647\u0647\u0654 \u0633\u0648\u0645","\u0633\u0647\u200c\u0645\u0627\u0647\u0647\u0654 \u0686\u0647\u0627\u0631\u0645"],AMPMS:["\u0642\u0628\u0644\u200c\u0627\u0632\u0638\u0647\u0631","\u0628\u0639\u062f\u0627\u0632\u0638\u0647\u0631"],DATEFORMATS:["EEEE d MMMM y",
"d MMMM y","d MMM y","y/M/d"],TIMEFORMATS:["H:mm:ss (zzzz)","H:mm:ss (z)","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1}\u060c \u0633\u0627\u0639\u062a {0}","{1}\u060c \u0633\u0627\u0639\u062a {0}","{1}\u060c\u200f {0}","{1}\u060c\u200f {0}"],FIRSTDAYOFWEEK:5,WEEKENDRANGE:[4,4],FIRSTWEEKCUTOFFDAY:4};
goog.i18n.DateTimeSymbols_fi={ERAS:["eKr.","jKr."],ERANAMES:["ennen Kristuksen syntym\u00e4\u00e4","j\u00e4lkeen Kristuksen syntym\u00e4n"],NARROWMONTHS:"THMHTKHESLMJ".split(""),STANDALONENARROWMONTHS:"THMHTKHESLMJ".split(""),MONTHS:"tammikuuta helmikuuta maaliskuuta huhtikuuta toukokuuta kes\u00e4kuuta hein\u00e4kuuta elokuuta syyskuuta lokakuuta marraskuuta joulukuuta".split(" "),STANDALONEMONTHS:"tammikuu helmikuu maaliskuu huhtikuu toukokuu kes\u00e4kuu hein\u00e4kuu elokuu syyskuu lokakuu marraskuu joulukuu".split(" "),
SHORTMONTHS:"tammik. helmik. maalisk. huhtik. toukok. kes\u00e4k. hein\u00e4k. elok. syysk. lokak. marrask. jouluk.".split(" "),STANDALONESHORTMONTHS:"tammi helmi maalis huhti touko kes\u00e4 hein\u00e4 elo syys loka marras joulu".split(" "),WEEKDAYS:"sunnuntaina maanantaina tiistaina keskiviikkona torstaina perjantaina lauantaina".split(" "),STANDALONEWEEKDAYS:"sunnuntai maanantai tiistai keskiviikko torstai perjantai lauantai".split(" "),SHORTWEEKDAYS:"su ma ti ke to pe la".split(" "),STANDALONESHORTWEEKDAYS:"su ma ti ke to pe la".split(" "),
NARROWWEEKDAYS:"SMTKTPL".split(""),STANDALONENARROWWEEKDAYS:"SMTKTPL".split(""),SHORTQUARTERS:["1. nelj.","2. nelj.","3. nelj.","4. nelj."],QUARTERS:["1. nelj\u00e4nnes","2. nelj\u00e4nnes","3. nelj\u00e4nnes","4. nelj\u00e4nnes"],AMPMS:["ap.","ip."],DATEFORMATS:["cccc d. MMMM y","d. MMMM y","d.M.y","d.M.y"],TIMEFORMATS:["H.mm.ss zzzz","H.mm.ss z","H.mm.ss","H.mm"],DATETIMEFORMATS:["{1} 'klo' {0}","{1} 'klo' {0}","{1} 'klo' {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_fil={ERAS:["BC","AD"],ERANAMES:["BC","AD"],NARROWMONTHS:"Ene Peb Mar Abr May Hun Hul Ago Set Okt Nob Dis".split(" "),STANDALONENARROWMONTHS:"E P M A M Hun Hul Ago Set Okt Nob Dis".split(" "),MONTHS:"Enero Pebrero Marso Abril Mayo Hunyo Hulyo Agosto Setyembre Oktubre Nobyembre Disyembre".split(" "),STANDALONEMONTHS:"Enero Pebrero Marso Abril Mayo Hunyo Hulyo Agosto Setyembre Oktubre Nobyembre Disyembre".split(" "),SHORTMONTHS:"Ene Peb Mar Abr May Hun Hul Ago Set Okt Nob Dis".split(" "),
STANDALONESHORTMONTHS:"Ene Peb Mar Abr May Hun Hul Ago Set Okt Nob Dis".split(" "),WEEKDAYS:"Linggo Lunes Martes Miyerkules Huwebes Biyernes Sabado".split(" "),STANDALONEWEEKDAYS:"Linggo Lunes Martes Miyerkules Huwebes Biyernes Sabado".split(" "),SHORTWEEKDAYS:"Lin Lun Mar Miy Huw Biy Sab".split(" "),STANDALONESHORTWEEKDAYS:"Lin Lun Mar Miy Huw Biy Sab".split(" "),NARROWWEEKDAYS:"Lin Lun Mar Miy Huw Biy Sab".split(" "),STANDALONENARROWWEEKDAYS:"Lin Lun Mar Miy Huw Biy Sab".split(" "),SHORTQUARTERS:["Q1",
"Q2","Q3","Q4"],QUARTERS:["ika-1 quarter","ika-2 quarter","ika-3 quarter","ika-4 na quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'nang' {0}","{1} 'nang' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_fr={ERAS:["av. J.-C.","ap. J.-C."],ERANAMES:["avant J\u00e9sus-Christ","apr\u00e8s J\u00e9sus-Christ"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"janvier f\u00e9vrier mars avril mai juin juillet ao\u00fbt septembre octobre novembre d\u00e9cembre".split(" "),STANDALONEMONTHS:"janvier f\u00e9vrier mars avril mai juin juillet ao\u00fbt septembre octobre novembre d\u00e9cembre".split(" "),SHORTMONTHS:"janv. f\u00e9vr. mars avr. mai juin juil. ao\u00fbt sept. oct. nov. d\u00e9c.".split(" "),
STANDALONESHORTMONTHS:"janv. f\u00e9vr. mars avr. mai juin juil. ao\u00fbt sept. oct. nov. d\u00e9c.".split(" "),WEEKDAYS:"dimanche lundi mardi mercredi jeudi vendredi samedi".split(" "),STANDALONEWEEKDAYS:"dimanche lundi mardi mercredi jeudi vendredi samedi".split(" "),SHORTWEEKDAYS:"dim. lun. mar. mer. jeu. ven. sam.".split(" "),STANDALONESHORTWEEKDAYS:"dim. lun. mar. mer. jeu. ven. sam.".split(" "),NARROWWEEKDAYS:"DLMMJVS".split(""),STANDALONENARROWWEEKDAYS:"DLMMJVS".split(""),SHORTQUARTERS:["T1",
"T2","T3","T4"],QUARTERS:["1er trimestre","2e trimestre","3e trimestre","4e trimestre"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE d MMMM y","d MMMM y","d MMM y","dd/MM/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} '\u00e0' {0}","{1} '\u00e0' {0}","{1} '\u00e0' {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_fr_CA={ERAS:["av. J.-C.","ap. J.-C."],ERANAMES:["avant J\u00e9sus-Christ","apr\u00e8s J\u00e9sus-Christ"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"janvier f\u00e9vrier mars avril mai juin juillet ao\u00fbt septembre octobre novembre d\u00e9cembre".split(" "),STANDALONEMONTHS:"janvier f\u00e9vrier mars avril mai juin juillet ao\u00fbt septembre octobre novembre d\u00e9cembre".split(" "),SHORTMONTHS:"janv. f\u00e9vr. mars avr. mai juin juill. ao\u00fbt sept. oct. nov. d\u00e9c.".split(" "),
STANDALONESHORTMONTHS:"janv. f\u00e9vr. mars avr. mai juin juill. ao\u00fbt sept. oct. nov. d\u00e9c.".split(" "),WEEKDAYS:"dimanche lundi mardi mercredi jeudi vendredi samedi".split(" "),STANDALONEWEEKDAYS:"dimanche lundi mardi mercredi jeudi vendredi samedi".split(" "),SHORTWEEKDAYS:"dim. lun. mar. mer. jeu. ven. sam.".split(" "),STANDALONESHORTWEEKDAYS:"dim. lun. mar. mer. jeu. ven. sam.".split(" "),NARROWWEEKDAYS:"DLMMJVS".split(""),STANDALONENARROWWEEKDAYS:"DLMMJVS".split(""),SHORTQUARTERS:["T1",
"T2","T3","T4"],QUARTERS:["1er trimestre","2e trimestre","3e trimestre","4e trimestre"],AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE d MMMM y","d MMMM y","d MMM y","yy-MM-dd"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH 'h' mm"],DATETIMEFORMATS:["{1} '\u00e0' {0}","{1} '\u00e0' {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_ga={ERAS:["RC","AD"],ERANAMES:["Roimh Chr\u00edost","Anno Domini"],NARROWMONTHS:"EFMABMILMDSN".split(""),STANDALONENARROWMONTHS:"EFMABMILMDSN".split(""),MONTHS:"Ean\u00e1ir;Feabhra;M\u00e1rta;Aibre\u00e1n;Bealtaine;Meitheamh;I\u00fail;L\u00fanasa;Me\u00e1n F\u00f3mhair;Deireadh F\u00f3mhair;Samhain;Nollaig".split(";"),STANDALONEMONTHS:"Ean\u00e1ir;Feabhra;M\u00e1rta;Aibre\u00e1n;Bealtaine;Meitheamh;I\u00fail;L\u00fanasa;Me\u00e1n F\u00f3mhair;Deireadh F\u00f3mhair;Samhain;Nollaig".split(";"),
SHORTMONTHS:"Ean Feabh M\u00e1rta Aib Beal Meith I\u00fail L\u00fan MF\u00f3mh DF\u00f3mh Samh Noll".split(" "),STANDALONESHORTMONTHS:"Ean Feabh M\u00e1rta Aib Beal Meith I\u00fail L\u00fan MF\u00f3mh DF\u00f3mh Samh Noll".split(" "),WEEKDAYS:"D\u00e9 Domhnaigh;D\u00e9 Luain;D\u00e9 M\u00e1irt;D\u00e9 C\u00e9adaoin;D\u00e9ardaoin;D\u00e9 hAoine;D\u00e9 Sathairn".split(";"),STANDALONEWEEKDAYS:"D\u00e9 Domhnaigh;D\u00e9 Luain;D\u00e9 M\u00e1irt;D\u00e9 C\u00e9adaoin;D\u00e9ardaoin;D\u00e9 hAoine;D\u00e9 Sathairn".split(";"),
SHORTWEEKDAYS:"Domh Luan M\u00e1irt C\u00e9ad D\u00e9ar Aoine Sath".split(" "),STANDALONESHORTWEEKDAYS:"Domh Luan M\u00e1irt C\u00e9ad D\u00e9ar Aoine Sath".split(" "),NARROWWEEKDAYS:"DLMCDAS".split(""),STANDALONENARROWWEEKDAYS:"DLMCDAS".split(""),SHORTQUARTERS:["R1","R2","R3","R4"],QUARTERS:["1\u00fa r\u00e1ithe","2\u00fa r\u00e1ithe","3\u00fa r\u00e1ithe","4\u00fa r\u00e1ithe"],AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE d MMMM y","d MMMM y","d MMM y","dd/MM/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z",
"HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:2};
goog.i18n.DateTimeSymbols_gl={ERAS:["a.C.","d.C."],ERANAMES:["antes de Cristo","despois de Cristo"],NARROWMONTHS:"x. f. m. a. m. x. x. a. s. o. n. d.".split(" "),STANDALONENARROWMONTHS:"XFMAMXXASOND".split(""),MONTHS:"xaneiro febreiro marzo abril maio xu\u00f1o xullo agosto setembro outubro novembro decembro".split(" "),STANDALONEMONTHS:"Xaneiro Febreiro Marzo Abril Maio Xu\u00f1o Xullo Agosto Setembro Outubro Novembro Decembro".split(" "),SHORTMONTHS:"xan. feb. mar. abr. maio xu\u00f1o xul. ago. set. out. nov. dec.".split(" "),
STANDALONESHORTMONTHS:"Xan. Feb. Mar. Abr. Maio Xu\u00f1o Xul. Ago. Set. Out. Nov. Dec.".split(" "),WEEKDAYS:"domingo luns martes m\u00e9rcores xoves venres s\u00e1bado".split(" "),STANDALONEWEEKDAYS:"Domingo Luns Martes M\u00e9rcores Xoves Venres S\u00e1bado".split(" "),SHORTWEEKDAYS:"dom. luns mar. m\u00e9r. xov. ven. s\u00e1b.".split(" "),STANDALONESHORTWEEKDAYS:"Dom. Luns Mar. M\u00e9r. Xov. Ven. S\u00e1b.".split(" "),NARROWWEEKDAYS:"d. l. m. m. x. v. s.".split(" "),STANDALONENARROWWEEKDAYS:"DLMMXVS".split(""),
SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["1.\u00ba trimestre","2.\u00ba trimestre","3.\u00ba trimestre","4.\u00ba trimestre"],AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","d 'de' MMM 'de' y","dd/MM/yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{0} 'do' {1}","{0} 'do' {1}","{0}, {1}","{0}, {1}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_gsw={ERAS:["v. Chr.","n. Chr."],ERANAMES:["v. Chr.","n. Chr."],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"Januar Februar M\u00e4rz April Mai Juni Juli Auguscht Sept\u00e4mber Oktoober Nov\u00e4mber Dez\u00e4mber".split(" "),STANDALONEMONTHS:"Januar Februar M\u00e4rz April Mai Juni Juli Auguscht Sept\u00e4mber Oktoober Nov\u00e4mber Dez\u00e4mber".split(" "),SHORTMONTHS:"Jan Feb M\u00e4r Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),
STANDALONESHORTMONTHS:"Jan Feb M\u00e4r Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),WEEKDAYS:"Sunntig M\u00e4\u00e4ntig Ziischtig Mittwuch Dunschtig Friitig Samschtig".split(" "),STANDALONEWEEKDAYS:"Sunntig M\u00e4\u00e4ntig Ziischtig Mittwuch Dunschtig Friitig Samschtig".split(" "),SHORTWEEKDAYS:"Su. M\u00e4. Zi. Mi. Du. Fr. Sa.".split(" "),STANDALONESHORTWEEKDAYS:"Su. M\u00e4. Zi. Mi. Du. Fr. Sa.".split(" "),NARROWWEEKDAYS:"SMDMDFS".split(""),STANDALONENARROWWEEKDAYS:"SMDMDFS".split(""),SHORTQUARTERS:["Q1",
"Q2","Q3","Q4"],QUARTERS:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"],AMPMS:["am Vormittag","am Namittag"],DATEFORMATS:["EEEE, d. MMMM y","d. MMMM y","dd.MM.y","dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_gu={ERAS:["\u0a88.\u0ab8.\u0aaa\u0ac2\u0ab0\u0acd\u0ab5\u0ac7","\u0a88.\u0ab8."],ERANAMES:["\u0a88\u0ab8\u0ab5\u0ac0\u0ab8\u0aa8 \u0aaa\u0ac2\u0ab0\u0acd\u0ab5\u0ac7","\u0a87\u0ab8\u0ab5\u0ac0\u0ab8\u0aa8"],NARROWMONTHS:"\u0a9c\u0abe \u0aab\u0ac7 \u0aae\u0abe \u0a8f \u0aae\u0ac7 \u0a9c\u0ac2 \u0a9c\u0ac1 \u0a91 \u0ab8 \u0a91 \u0aa8 \u0aa1\u0abf".split(" "),STANDALONENARROWMONTHS:"\u0a9c\u0abe \u0aab\u0ac7 \u0aae\u0abe \u0a8f \u0aae\u0ac7 \u0a9c\u0ac2 \u0a9c\u0ac1 \u0a91 \u0ab8 \u0a91 \u0aa8 \u0aa1\u0abf".split(" "),
MONTHS:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0 \u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0 \u0aae\u0abe\u0ab0\u0acd\u0a9a \u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2 \u0aae\u0ac7 \u0a9c\u0ac2\u0aa8 \u0a9c\u0ac1\u0ab2\u0abe\u0a88 \u0a91\u0a97\u0ab8\u0acd\u0a9f \u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0 \u0a91\u0a95\u0acd\u0a9f\u0acb\u0aac\u0ab0 \u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0 \u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split(" "),STANDALONEMONTHS:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0 \u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0 \u0aae\u0abe\u0ab0\u0acd\u0a9a \u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2 \u0aae\u0ac7 \u0a9c\u0ac2\u0aa8 \u0a9c\u0ac1\u0ab2\u0abe\u0a88 \u0a91\u0a97\u0ab8\u0acd\u0a9f \u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0 \u0a91\u0a95\u0acd\u0a9f\u0acb\u0aac\u0ab0 \u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0 \u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split(" "),
SHORTMONTHS:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1 \u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1 \u0aae\u0abe\u0ab0\u0acd\u0a9a \u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2 \u0aae\u0ac7 \u0a9c\u0ac2\u0aa8 \u0a9c\u0ac1\u0ab2\u0abe\u0a88 \u0a91\u0a97\u0ab8\u0acd\u0a9f \u0ab8\u0aaa\u0acd\u0a9f\u0ac7 \u0a91\u0a95\u0acd\u0a9f\u0acb \u0aa8\u0ab5\u0ac7 \u0aa1\u0abf\u0ab8\u0ac7".split(" "),STANDALONESHORTMONTHS:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1 \u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1 \u0aae\u0abe\u0ab0\u0acd\u0a9a \u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2 \u0aae\u0ac7 \u0a9c\u0ac2\u0aa8 \u0a9c\u0ac1\u0ab2\u0abe\u0a88 \u0a91\u0a97\u0ab8\u0acd\u0a9f \u0ab8\u0aaa\u0acd\u0a9f\u0ac7 \u0a91\u0a95\u0acd\u0a9f\u0acb \u0aa8\u0ab5\u0ac7 \u0aa1\u0abf\u0ab8\u0ac7".split(" "),
WEEKDAYS:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0 \u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0 \u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0 \u0aac\u0ac1\u0aa7\u0ab5\u0abe\u0ab0 \u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0 \u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0 \u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split(" "),STANDALONEWEEKDAYS:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0 \u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0 \u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0 \u0aac\u0ac1\u0aa7\u0ab5\u0abe\u0ab0 \u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0 \u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0 \u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split(" "),
SHORTWEEKDAYS:"\u0ab0\u0ab5\u0abf \u0ab8\u0acb\u0aae \u0aae\u0a82\u0a97\u0ab3 \u0aac\u0ac1\u0aa7 \u0a97\u0ac1\u0ab0\u0ac1 \u0ab6\u0ac1\u0a95\u0acd\u0ab0 \u0ab6\u0aa8\u0abf".split(" "),STANDALONESHORTWEEKDAYS:"\u0ab0\u0ab5\u0abf \u0ab8\u0acb\u0aae \u0aae\u0a82\u0a97\u0ab3 \u0aac\u0ac1\u0aa7 \u0a97\u0ac1\u0ab0\u0ac1 \u0ab6\u0ac1\u0a95\u0acd\u0ab0 \u0ab6\u0aa8\u0abf".split(" "),NARROWWEEKDAYS:"\u0ab0 \u0ab8\u0acb \u0aae\u0a82 \u0aac\u0ac1 \u0a97\u0ac1 \u0ab6\u0ac1 \u0ab6".split(" "),STANDALONENARROWWEEKDAYS:"\u0ab0 \u0ab8\u0acb \u0aae\u0a82 \u0aac\u0ac1 \u0a97\u0ac1 \u0ab6\u0ac1 \u0ab6".split(" "),
SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["\u0aaa\u0ab9\u0ac7\u0ab2\u0acb \u0aa4\u0acd\u0ab0\u0abf\u0aae\u0abe\u0ab8","\u0aac\u0ac0\u0a9c\u0acb \u0aa4\u0acd\u0ab0\u0abf\u0aae\u0abe\u0ab8","\u0aa4\u0acd\u0ab0\u0ac0\u0a9c\u0acb \u0aa4\u0acd\u0ab0\u0abf\u0aae\u0abe\u0ab8","\u0a9a\u0acb\u0aa5\u0acb \u0aa4\u0acd\u0ab0\u0abf\u0aae\u0abe\u0ab8"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d MMMM, y","d MMMM, y","d MMM, y","d/M/yy"],TIMEFORMATS:["hh:mm:ss a zzzz","hh:mm:ss a z","hh:mm:ss a","hh:mm a"],DATETIMEFORMATS:["{1} {0}",
"{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_haw={ERAS:["BCE","CE"],ERANAMES:["BCE","CE"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"Ianuali Pepeluali Malaki \u02bbApelila Mei Iune Iulai \u02bbAukake Kepakemapa \u02bbOkakopa Nowemapa Kekemapa".split(" "),STANDALONEMONTHS:"Ianuali Pepeluali Malaki \u02bbApelila Mei Iune Iulai \u02bbAukake Kepakemapa \u02bbOkakopa Nowemapa Kekemapa".split(" "),SHORTMONTHS:"Ian. Pep. Mal. \u02bbAp. Mei Iun. Iul. \u02bbAu. Kep. \u02bbOk. Now. Kek.".split(" "),
STANDALONESHORTMONTHS:"Ian. Pep. Mal. \u02bbAp. Mei Iun. Iul. \u02bbAu. Kep. \u02bbOk. Now. Kek.".split(" "),WEEKDAYS:"L\u0101pule Po\u02bbakahi Po\u02bbalua Po\u02bbakolu Po\u02bbah\u0101 Po\u02bbalima Po\u02bbaono".split(" "),STANDALONEWEEKDAYS:"L\u0101pule Po\u02bbakahi Po\u02bbalua Po\u02bbakolu Po\u02bbah\u0101 Po\u02bbalima Po\u02bbaono".split(" "),SHORTWEEKDAYS:"LP P1 P2 P3 P4 P5 P6".split(" "),STANDALONESHORTWEEKDAYS:"LP P1 P2 P3 P4 P5 P6".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),
SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["Q1","Q2","Q3","Q4"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_he={ERAS:["\u05dc\u05e4\u05e0\u05d4\u05f4\u05e1","\u05dc\u05e1\u05e4\u05d9\u05e8\u05d4"],ERANAMES:["\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e1\u05e4\u05d9\u05e8\u05d4","\u05dc\u05e1\u05e4\u05d9\u05e8\u05d4"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"\u05d9\u05e0\u05d5\u05d0\u05e8 \u05e4\u05d1\u05e8\u05d5\u05d0\u05e8 \u05de\u05e8\u05e5 \u05d0\u05e4\u05e8\u05d9\u05dc \u05de\u05d0\u05d9 \u05d9\u05d5\u05e0\u05d9 \u05d9\u05d5\u05dc\u05d9 \u05d0\u05d5\u05d2\u05d5\u05e1\u05d8 \u05e1\u05e4\u05d8\u05de\u05d1\u05e8 \u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8 \u05e0\u05d5\u05d1\u05de\u05d1\u05e8 \u05d3\u05e6\u05de\u05d1\u05e8".split(" "),
STANDALONEMONTHS:"\u05d9\u05e0\u05d5\u05d0\u05e8 \u05e4\u05d1\u05e8\u05d5\u05d0\u05e8 \u05de\u05e8\u05e5 \u05d0\u05e4\u05e8\u05d9\u05dc \u05de\u05d0\u05d9 \u05d9\u05d5\u05e0\u05d9 \u05d9\u05d5\u05dc\u05d9 \u05d0\u05d5\u05d2\u05d5\u05e1\u05d8 \u05e1\u05e4\u05d8\u05de\u05d1\u05e8 \u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8 \u05e0\u05d5\u05d1\u05de\u05d1\u05e8 \u05d3\u05e6\u05de\u05d1\u05e8".split(" "),SHORTMONTHS:"\u05d9\u05e0\u05d5\u05f3 \u05e4\u05d1\u05e8\u05f3 \u05de\u05e8\u05e5 \u05d0\u05e4\u05e8\u05f3 \u05de\u05d0\u05d9 \u05d9\u05d5\u05e0\u05d9 \u05d9\u05d5\u05dc\u05d9 \u05d0\u05d5\u05d2\u05f3 \u05e1\u05e4\u05d8\u05f3 \u05d0\u05d5\u05e7\u05f3 \u05e0\u05d5\u05d1\u05f3 \u05d3\u05e6\u05de\u05f3".split(" "),
STANDALONESHORTMONTHS:"\u05d9\u05e0\u05d5\u05f3 \u05e4\u05d1\u05e8\u05f3 \u05de\u05e8\u05e5 \u05d0\u05e4\u05e8\u05f3 \u05de\u05d0\u05d9 \u05d9\u05d5\u05e0\u05d9 \u05d9\u05d5\u05dc\u05d9 \u05d0\u05d5\u05d2\u05f3 \u05e1\u05e4\u05d8\u05f3 \u05d0\u05d5\u05e7\u05f3 \u05e0\u05d5\u05d1\u05f3 \u05d3\u05e6\u05de\u05f3".split(" "),WEEKDAYS:"\u05d9\u05d5\u05dd \u05e8\u05d0\u05e9\u05d5\u05df;\u05d9\u05d5\u05dd \u05e9\u05e0\u05d9;\u05d9\u05d5\u05dd \u05e9\u05dc\u05d9\u05e9\u05d9;\u05d9\u05d5\u05dd \u05e8\u05d1\u05d9\u05e2\u05d9;\u05d9\u05d5\u05dd \u05d7\u05de\u05d9\u05e9\u05d9;\u05d9\u05d5\u05dd \u05e9\u05d9\u05e9\u05d9;\u05d9\u05d5\u05dd \u05e9\u05d1\u05ea".split(";"),
STANDALONEWEEKDAYS:"\u05d9\u05d5\u05dd \u05e8\u05d0\u05e9\u05d5\u05df;\u05d9\u05d5\u05dd \u05e9\u05e0\u05d9;\u05d9\u05d5\u05dd \u05e9\u05dc\u05d9\u05e9\u05d9;\u05d9\u05d5\u05dd \u05e8\u05d1\u05d9\u05e2\u05d9;\u05d9\u05d5\u05dd \u05d7\u05de\u05d9\u05e9\u05d9;\u05d9\u05d5\u05dd \u05e9\u05d9\u05e9\u05d9;\u05d9\u05d5\u05dd \u05e9\u05d1\u05ea".split(";"),SHORTWEEKDAYS:"\u05d9\u05d5\u05dd \u05d0\u05f3;\u05d9\u05d5\u05dd \u05d1\u05f3;\u05d9\u05d5\u05dd \u05d2\u05f3;\u05d9\u05d5\u05dd \u05d3\u05f3;\u05d9\u05d5\u05dd \u05d4\u05f3;\u05d9\u05d5\u05dd \u05d5\u05f3;\u05e9\u05d1\u05ea".split(";"),
STANDALONESHORTWEEKDAYS:"\u05d9\u05d5\u05dd \u05d0\u05f3;\u05d9\u05d5\u05dd \u05d1\u05f3;\u05d9\u05d5\u05dd \u05d2\u05f3;\u05d9\u05d5\u05dd \u05d3\u05f3;\u05d9\u05d5\u05dd \u05d4\u05f3;\u05d9\u05d5\u05dd \u05d5\u05f3;\u05e9\u05d1\u05ea".split(";"),NARROWWEEKDAYS:"\u05d0\u05f3 \u05d1\u05f3 \u05d2\u05f3 \u05d3\u05f3 \u05d4\u05f3 \u05d5\u05f3 \u05e9\u05f3".split(" "),STANDALONENARROWWEEKDAYS:"\u05d0\u05f3 \u05d1\u05f3 \u05d2\u05f3 \u05d3\u05f3 \u05d4\u05f3 \u05d5\u05f3 \u05e9\u05f3".split(" "),SHORTQUARTERS:["Q1",
"Q2","Q3","Q4"],QUARTERS:["\u05e8\u05d1\u05e2\u05d5\u05df 1","\u05e8\u05d1\u05e2\u05d5\u05df 2","\u05e8\u05d1\u05e2\u05d5\u05df 3","\u05e8\u05d1\u05e2\u05d5\u05df 4"],AMPMS:["\u05dc\u05e4\u05e0\u05d4\u05f4\u05e6","\u05d0\u05d7\u05d4\u05f4\u05e6"],DATEFORMATS:["EEEE, d \u05d1MMMM y","d \u05d1MMMM y","d \u05d1MMM y","d.M.y"],TIMEFORMATS:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1} \u05d1\u05e9\u05e2\u05d4 {0}","{1} \u05d1\u05e9\u05e2\u05d4 {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,
WEEKENDRANGE:[4,5],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_hi={ERAS:["\u0908\u0938\u093e-\u092a\u0942\u0930\u094d\u0935","\u0908\u0938\u094d\u0935\u0940"],ERANAMES:["\u0908\u0938\u093e-\u092a\u0942\u0930\u094d\u0935","\u0908\u0938\u0935\u0940 \u0938\u0928"],NARROWMONTHS:"\u091c \u092b\u093c \u092e\u093e \u0905 \u092e \u091c\u0942 \u091c\u0941 \u0905 \u0938\u093f \u0905 \u0928 \u0926\u093f".split(" "),STANDALONENARROWMONTHS:"\u091c \u092b\u093c \u092e\u093e \u0905 \u092e \u091c\u0942 \u091c\u0941 \u0905 \u0938\u093f \u0905 \u0928 \u0926\u093f".split(" "),MONTHS:"\u091c\u0928\u0935\u0930\u0940 \u092b\u093c\u0930\u0935\u0930\u0940 \u092e\u093e\u0930\u094d\u091a \u0905\u092a\u094d\u0930\u0948\u0932 \u092e\u0908 \u091c\u0942\u0928 \u091c\u0941\u0932\u093e\u0908 \u0905\u0917\u0938\u094d\u0924 \u0938\u093f\u0924\u0902\u092c\u0930 \u0905\u0915\u094d\u0924\u0942\u092c\u0930 \u0928\u0935\u0902\u092c\u0930 \u0926\u093f\u0938\u0902\u092c\u0930".split(" "),
STANDALONEMONTHS:"\u091c\u0928\u0935\u0930\u0940 \u092b\u093c\u0930\u0935\u0930\u0940 \u092e\u093e\u0930\u094d\u091a \u0905\u092a\u094d\u0930\u0948\u0932 \u092e\u0908 \u091c\u0942\u0928 \u091c\u0941\u0932\u093e\u0908 \u0905\u0917\u0938\u094d\u0924 \u0938\u093f\u0924\u0902\u092c\u0930 \u0905\u0915\u094d\u0924\u0942\u092c\u0930 \u0928\u0935\u0902\u092c\u0930 \u0926\u093f\u0938\u0902\u092c\u0930".split(" "),SHORTMONTHS:"\u091c\u0928\u0970 \u092b\u093c\u0930\u0970 \u092e\u093e\u0930\u094d\u091a \u0905\u092a\u094d\u0930\u0948\u0932 \u092e\u0908 \u091c\u0942\u0928 \u091c\u0941\u0932\u0970 \u0905\u0917\u0970 \u0938\u093f\u0924\u0970 \u0905\u0915\u094d\u0924\u0942\u0970 \u0928\u0935\u0970 \u0926\u093f\u0938\u0970".split(" "),
STANDALONESHORTMONTHS:"\u091c\u0928\u0970 \u092b\u093c\u0930\u0970 \u092e\u093e\u0930\u094d\u091a \u0905\u092a\u094d\u0930\u0948\u0932 \u092e\u0908 \u091c\u0942\u0928 \u091c\u0941\u0932\u0970 \u0905\u0917\u0970 \u0938\u093f\u0924\u0970 \u0905\u0915\u094d\u0924\u0942\u0970 \u0928\u0935\u0970 \u0926\u093f\u0938\u0970".split(" "),WEEKDAYS:"\u0930\u0935\u093f\u0935\u093e\u0930 \u0938\u094b\u092e\u0935\u093e\u0930 \u092e\u0902\u0917\u0932\u0935\u093e\u0930 \u092c\u0941\u0927\u0935\u093e\u0930 \u0917\u0941\u0930\u0941\u0935\u093e\u0930 \u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930 \u0936\u0928\u093f\u0935\u093e\u0930".split(" "),
STANDALONEWEEKDAYS:"\u0930\u0935\u093f\u0935\u093e\u0930 \u0938\u094b\u092e\u0935\u093e\u0930 \u092e\u0902\u0917\u0932\u0935\u093e\u0930 \u092c\u0941\u0927\u0935\u093e\u0930 \u0917\u0941\u0930\u0941\u0935\u093e\u0930 \u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930 \u0936\u0928\u093f\u0935\u093e\u0930".split(" "),SHORTWEEKDAYS:"\u0930\u0935\u093f \u0938\u094b\u092e \u092e\u0902\u0917\u0932 \u092c\u0941\u0927 \u0917\u0941\u0930\u0941 \u0936\u0941\u0915\u094d\u0930 \u0936\u0928\u093f".split(" "),STANDALONESHORTWEEKDAYS:"\u0930\u0935\u093f \u0938\u094b\u092e \u092e\u0902\u0917\u0932 \u092c\u0941\u0927 \u0917\u0941\u0930\u0941 \u0936\u0941\u0915\u094d\u0930 \u0936\u0928\u093f".split(" "),
NARROWWEEKDAYS:"\u0930 \u0938\u094b \u092e\u0902 \u092c\u0941 \u0917\u0941 \u0936\u0941 \u0936".split(" "),STANDALONENARROWWEEKDAYS:"\u0930 \u0938\u094b \u092e\u0902 \u092c\u0941 \u0917\u0941 \u0936\u0941 \u0936".split(" "),SHORTQUARTERS:["\u0924\u093f1","\u0924\u093f2","\u0924\u093f3","\u0924\u093f4"],QUARTERS:["\u092a\u0939\u0932\u0940 \u0924\u093f\u092e\u093e\u0939\u0940","\u0926\u0942\u0938\u0930\u0940 \u0924\u093f\u092e\u093e\u0939\u0940","\u0924\u0940\u0938\u0930\u0940 \u0924\u093f\u092e\u093e\u0939\u0940",
"\u091a\u094c\u0925\u0940 \u0924\u093f\u092e\u093e\u0939\u0940"],AMPMS:["am","pm"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","dd/MM/y","d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} \u0915\u094b {0}","{1} \u0915\u094b {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_hr={ERAS:["pr. Kr.","po. Kr."],ERANAMES:["prije Krista","poslije Krista"],NARROWMONTHS:"1. 2. 3. 4. 5. 6. 7. 8. 9. 10. 11. 12.".split(" "),STANDALONENARROWMONTHS:"1. 2. 3. 4. 5. 6. 7. 8. 9. 10. 11. 12.".split(" "),MONTHS:"sije\u010dnja velja\u010de o\u017eujka travnja svibnja lipnja srpnja kolovoza rujna listopada studenoga prosinca".split(" "),STANDALONEMONTHS:"sije\u010danj velja\u010da o\u017eujak travanj svibanj lipanj srpanj kolovoz rujan listopad studeni prosinac".split(" "),
SHORTMONTHS:"sij velj o\u017eu tra svi lip srp kol ruj lis stu pro".split(" "),STANDALONESHORTMONTHS:"sij velj o\u017eu tra svi lip srp kol ruj lis stu pro".split(" "),WEEKDAYS:"nedjelja ponedjeljak utorak srijeda \u010detvrtak petak subota".split(" "),STANDALONEWEEKDAYS:"nedjelja ponedjeljak utorak srijeda \u010detvrtak petak subota".split(" "),SHORTWEEKDAYS:"ned pon uto sri \u010det pet sub".split(" "),STANDALONESHORTWEEKDAYS:"ned pon uto sri \u010det pet sub".split(" "),NARROWWEEKDAYS:"NPUS\u010cPS".split(""),
STANDALONENARROWWEEKDAYS:"npus\u010dps".split(""),SHORTQUARTERS:["1kv","2kv","3kv","4kv"],QUARTERS:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d. MMMM y.","d. MMMM y.","d. MMM y.","dd. MM. y."],TIMEFORMATS:["HH:mm:ss (zzzz)","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'u' {0}","{1} 'u' {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_hu={ERAS:["i. e.","i. sz."],ERANAMES:["id\u0151sz\u00e1m\u00edt\u00e1sunk el\u0151tt","id\u0151sz\u00e1m\u00edt\u00e1sunk szerint"],NARROWMONTHS:"J F M \u00c1 M J J A Sz O N D".split(" "),STANDALONENARROWMONTHS:"J F M \u00c1 M J J A Sz O N D".split(" "),MONTHS:"janu\u00e1r febru\u00e1r m\u00e1rcius \u00e1prilis m\u00e1jus j\u00fanius j\u00falius augusztus szeptember okt\u00f3ber november december".split(" "),STANDALONEMONTHS:"janu\u00e1r febru\u00e1r m\u00e1rcius \u00e1prilis m\u00e1jus j\u00fanius j\u00falius augusztus szeptember okt\u00f3ber november december".split(" "),
SHORTMONTHS:"jan. febr. m\u00e1rc. \u00e1pr. m\u00e1j. j\u00fan. j\u00fal. aug. szept. okt. nov. dec.".split(" "),STANDALONESHORTMONTHS:"jan. febr. m\u00e1rc. \u00e1pr. m\u00e1j. j\u00fan. j\u00fal. aug. szept. okt. nov. dec.".split(" "),WEEKDAYS:"vas\u00e1rnap h\u00e9tf\u0151 kedd szerda cs\u00fct\u00f6rt\u00f6k p\u00e9ntek szombat".split(" "),STANDALONEWEEKDAYS:"vas\u00e1rnap h\u00e9tf\u0151 kedd szerda cs\u00fct\u00f6rt\u00f6k p\u00e9ntek szombat".split(" "),SHORTWEEKDAYS:"V H K Sze Cs P Szo".split(" "),
STANDALONESHORTWEEKDAYS:"V H K Sze Cs P Szo".split(" "),NARROWWEEKDAYS:"V H K Sz Cs P Sz".split(" "),STANDALONENARROWWEEKDAYS:"V H K Sz Cs P Sz".split(" "),SHORTQUARTERS:["N1","N2","N3","N4"],QUARTERS:["I. negyed\u00e9v","II. negyed\u00e9v","III. negyed\u00e9v","IV. negyed\u00e9v"],AMPMS:["de.","du."],DATEFORMATS:["y. MMMM d., EEEE","y. MMMM d.","y. MMM d.","y. MM. dd."],TIMEFORMATS:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,
WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_hy={ERAS:["\u0574.\u0569.\u0561.","\u0574.\u0569."],ERANAMES:["\u0554\u0580\u056b\u057d\u057f\u0578\u057d\u056b\u0581 \u0561\u057c\u0561\u057b","\u0554\u0580\u056b\u057d\u057f\u0578\u057d\u056b\u0581 \u0570\u0565\u057f\u0578"],NARROWMONTHS:"\u0540\u0553\u0544\u0531\u0544\u0540\u0540\u0555\u054d\u0540\u0546\u0534".split(""),STANDALONENARROWMONTHS:"\u0540\u0553\u0544\u0531\u0544\u0540\u0540\u0555\u054d\u0540\u0546\u0534".split(""),MONTHS:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b \u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b \u0574\u0561\u0580\u057f\u056b \u0561\u057a\u0580\u056b\u056c\u056b \u0574\u0561\u0575\u056b\u057d\u056b \u0570\u0578\u0582\u0576\u056b\u057d\u056b \u0570\u0578\u0582\u056c\u056b\u057d\u056b \u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b \u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b \u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b \u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b \u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split(" "),STANDALONEMONTHS:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580 \u0583\u0565\u057f\u0580\u057e\u0561\u0580 \u0574\u0561\u0580\u057f \u0561\u057a\u0580\u056b\u056c \u0574\u0561\u0575\u056b\u057d \u0570\u0578\u0582\u0576\u056b\u057d \u0570\u0578\u0582\u056c\u056b\u057d \u0585\u0563\u0578\u057d\u057f\u0578\u057d \u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580 \u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580 \u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580 \u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split(" "),
SHORTMONTHS:"\u0570\u0576\u057e \u0583\u057f\u057e \u0574\u0580\u057f \u0561\u057a\u0580 \u0574\u0575\u057d \u0570\u0576\u057d \u0570\u056c\u057d \u0585\u0563\u057d \u057d\u0565\u057a \u0570\u0578\u056f \u0576\u0578\u0575 \u0564\u0565\u056f".split(" "),STANDALONESHORTMONTHS:"\u0570\u0576\u057e \u0583\u057f\u057e \u0574\u0580\u057f \u0561\u057a\u0580 \u0574\u0575\u057d \u0570\u0576\u057d \u0570\u056c\u057d \u0585\u0563\u057d \u057d\u0565\u057a \u0570\u0578\u056f \u0576\u0578\u0575 \u0564\u0565\u056f".split(" "),
WEEKDAYS:"\u056f\u056b\u0580\u0561\u056f\u056b \u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b \u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b \u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b \u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b \u0578\u0582\u0580\u0562\u0561\u0569 \u0577\u0561\u0562\u0561\u0569".split(" "),STANDALONEWEEKDAYS:"\u056f\u056b\u0580\u0561\u056f\u056b \u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b \u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b \u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b \u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b \u0578\u0582\u0580\u0562\u0561\u0569 \u0577\u0561\u0562\u0561\u0569".split(" "),
SHORTWEEKDAYS:"\u056f\u056b\u0580 \u0565\u0580\u056f \u0565\u0580\u0584 \u0579\u0580\u0584 \u0570\u0576\u0563 \u0578\u0582\u0580 \u0577\u0562\u0569".split(" "),STANDALONESHORTWEEKDAYS:"\u056f\u056b\u0580 \u0565\u0580\u056f \u0565\u0580\u0584 \u0579\u0580\u0584 \u0570\u0576\u0563 \u0578\u0582\u0580 \u0577\u0562\u0569".split(" "),NARROWWEEKDAYS:"\u053f\u0535\u0535\u0549\u0540\u0548\u0547".split(""),STANDALONENARROWWEEKDAYS:"\u053f\u0535\u0535\u0549\u0540\u0548\u0547".split(""),SHORTQUARTERS:["1-\u056b\u0576 \u0565\u057c\u0574\u057d.",
"2-\u0580\u0564 \u0565\u057c\u0574\u057d.","3-\u0580\u0564 \u0565\u057c\u0574\u057d.","4-\u0580\u0564 \u0565\u057c\u0574\u057d."],QUARTERS:["1-\u056b\u0576 \u0565\u057c\u0561\u0574\u057d\u0575\u0561\u056f","2-\u0580\u0564 \u0565\u057c\u0561\u0574\u057d\u0575\u0561\u056f","3-\u0580\u0564 \u0565\u057c\u0561\u0574\u057d\u0575\u0561\u056f","4-\u0580\u0564 \u0565\u057c\u0561\u0574\u057d\u0575\u0561\u056f"],AMPMS:["AM","PM"],DATEFORMATS:["y \u0569. MMMM d, EEEE","dd MMMM, y \u0569.","dd MMM, y \u0569.",
"dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_id={ERAS:["SM","M"],ERANAMES:["Sebelum Masehi","Masehi"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"Januari Februari Maret April Mei Juni Juli Agustus September Oktober November Desember".split(" "),STANDALONEMONTHS:"Januari Februari Maret April Mei Juni Juli Agustus September Oktober November Desember".split(" "),SHORTMONTHS:"Jan Feb Mar Apr Mei Jun Jul Agt Sep Okt Nov Des".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr Mei Jun Jul Agt Sep Okt Nov Des".split(" "),
WEEKDAYS:"Minggu Senin Selasa Rabu Kamis Jumat Sabtu".split(" "),STANDALONEWEEKDAYS:"Minggu Senin Selasa Rabu Kamis Jumat Sabtu".split(" "),SHORTWEEKDAYS:"Min Sen Sel Rab Kam Jum Sab".split(" "),STANDALONESHORTWEEKDAYS:"Min Sen Sel Rab Kam Jum Sab".split(" "),NARROWWEEKDAYS:"MSSRKJS".split(""),STANDALONENARROWWEEKDAYS:"MSSRKJS".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, dd MMMM y","d MMMM y",
"d MMM y","dd/MM/yy"],TIMEFORMATS:["HH.mm.ss zzzz","HH.mm.ss z","HH.mm.ss","HH.mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_in={ERAS:["SM","M"],ERANAMES:["Sebelum Masehi","Masehi"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"Januari Februari Maret April Mei Juni Juli Agustus September Oktober November Desember".split(" "),STANDALONEMONTHS:"Januari Februari Maret April Mei Juni Juli Agustus September Oktober November Desember".split(" "),SHORTMONTHS:"Jan Feb Mar Apr Mei Jun Jul Agt Sep Okt Nov Des".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr Mei Jun Jul Agt Sep Okt Nov Des".split(" "),
WEEKDAYS:"Minggu Senin Selasa Rabu Kamis Jumat Sabtu".split(" "),STANDALONEWEEKDAYS:"Minggu Senin Selasa Rabu Kamis Jumat Sabtu".split(" "),SHORTWEEKDAYS:"Min Sen Sel Rab Kam Jum Sab".split(" "),STANDALONESHORTWEEKDAYS:"Min Sen Sel Rab Kam Jum Sab".split(" "),NARROWWEEKDAYS:"MSSRKJS".split(""),STANDALONENARROWWEEKDAYS:"MSSRKJS".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, dd MMMM y","d MMMM y",
"d MMM y","dd/MM/yy"],TIMEFORMATS:["HH.mm.ss zzzz","HH.mm.ss z","HH.mm.ss","HH.mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_is={ERAS:["f.Kr.","e.Kr."],ERANAMES:["fyrir Krist","eftir Krist"],NARROWMONTHS:"JFMAMJJ\u00c1SOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJ\u00c1SOND".split(""),MONTHS:"jan\u00faar febr\u00faar mars apr\u00edl ma\u00ed j\u00fan\u00ed j\u00fal\u00ed \u00e1g\u00fast september okt\u00f3ber n\u00f3vember desember".split(" "),STANDALONEMONTHS:"jan\u00faar febr\u00faar mars apr\u00edl ma\u00ed j\u00fan\u00ed j\u00fal\u00ed \u00e1g\u00fast september okt\u00f3ber n\u00f3vember desember".split(" "),
SHORTMONTHS:"jan. feb. mar. apr. ma\u00ed j\u00fan. j\u00fal. \u00e1g\u00fa. sep. okt. n\u00f3v. des.".split(" "),STANDALONESHORTMONTHS:"jan. feb. mar. apr. ma\u00ed j\u00fan. j\u00fal. \u00e1g\u00fa. sep. okt. n\u00f3v. des.".split(" "),WEEKDAYS:"sunnudagur m\u00e1nudagur \u00feri\u00f0judagur mi\u00f0vikudagur fimmtudagur f\u00f6studagur laugardagur".split(" "),STANDALONEWEEKDAYS:"sunnudagur m\u00e1nudagur \u00feri\u00f0judagur mi\u00f0vikudagur fimmtudagur f\u00f6studagur laugardagur".split(" "),
SHORTWEEKDAYS:"sun. m\u00e1n. \u00feri. mi\u00f0. fim. f\u00f6s. lau.".split(" "),STANDALONESHORTWEEKDAYS:"sun. m\u00e1n. \u00feri. mi\u00f0. fim. f\u00f6s. lau.".split(" "),NARROWWEEKDAYS:"SM\u00deMFFL".split(""),STANDALONENARROWWEEKDAYS:"SM\u00deMFFL".split(""),SHORTQUARTERS:["F1","F2","F3","F4"],QUARTERS:["1. fj\u00f3r\u00f0ungur","2. fj\u00f3r\u00f0ungur","3. fj\u00f3r\u00f0ungur","4. fj\u00f3r\u00f0ungur"],AMPMS:["f.h.","e.h."],DATEFORMATS:["EEEE, d. MMMM y","d. MMMM y","d. MMM y","d.M.y"],TIMEFORMATS:["HH:mm:ss zzzz",
"HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'kl'. {0}","{1} 'kl'. {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_it={ERAS:["a.C.","d.C."],ERANAMES:["avanti Cristo","dopo Cristo"],NARROWMONTHS:"GFMAMGLASOND".split(""),STANDALONENARROWMONTHS:"GFMAMGLASOND".split(""),MONTHS:"gennaio febbraio marzo aprile maggio giugno luglio agosto settembre ottobre novembre dicembre".split(" "),STANDALONEMONTHS:"gennaio febbraio marzo aprile maggio giugno luglio agosto settembre ottobre novembre dicembre".split(" "),SHORTMONTHS:"gen feb mar apr mag giu lug ago set ott nov dic".split(" "),STANDALONESHORTMONTHS:"gen feb mar apr mag giu lug ago set ott nov dic".split(" "),
WEEKDAYS:"domenica luned\u00ec marted\u00ec mercoled\u00ec gioved\u00ec venerd\u00ec sabato".split(" "),STANDALONEWEEKDAYS:"domenica luned\u00ec marted\u00ec mercoled\u00ec gioved\u00ec venerd\u00ec sabato".split(" "),SHORTWEEKDAYS:"dom lun mar mer gio ven sab".split(" "),STANDALONESHORTWEEKDAYS:"dom lun mar mer gio ven sab".split(" "),NARROWWEEKDAYS:"DLMMGVS".split(""),STANDALONENARROWWEEKDAYS:"DLMMGVS".split(""),SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["1\u00ba trimestre","2\u00ba trimestre",
"3\u00ba trimestre","4\u00ba trimestre"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE d MMMM y","d MMMM y","dd MMM y","dd/MM/yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_iw={ERAS:["\u05dc\u05e4\u05e0\u05d4\u05f4\u05e1","\u05dc\u05e1\u05e4\u05d9\u05e8\u05d4"],ERANAMES:["\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e1\u05e4\u05d9\u05e8\u05d4","\u05dc\u05e1\u05e4\u05d9\u05e8\u05d4"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"\u05d9\u05e0\u05d5\u05d0\u05e8 \u05e4\u05d1\u05e8\u05d5\u05d0\u05e8 \u05de\u05e8\u05e5 \u05d0\u05e4\u05e8\u05d9\u05dc \u05de\u05d0\u05d9 \u05d9\u05d5\u05e0\u05d9 \u05d9\u05d5\u05dc\u05d9 \u05d0\u05d5\u05d2\u05d5\u05e1\u05d8 \u05e1\u05e4\u05d8\u05de\u05d1\u05e8 \u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8 \u05e0\u05d5\u05d1\u05de\u05d1\u05e8 \u05d3\u05e6\u05de\u05d1\u05e8".split(" "),
STANDALONEMONTHS:"\u05d9\u05e0\u05d5\u05d0\u05e8 \u05e4\u05d1\u05e8\u05d5\u05d0\u05e8 \u05de\u05e8\u05e5 \u05d0\u05e4\u05e8\u05d9\u05dc \u05de\u05d0\u05d9 \u05d9\u05d5\u05e0\u05d9 \u05d9\u05d5\u05dc\u05d9 \u05d0\u05d5\u05d2\u05d5\u05e1\u05d8 \u05e1\u05e4\u05d8\u05de\u05d1\u05e8 \u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8 \u05e0\u05d5\u05d1\u05de\u05d1\u05e8 \u05d3\u05e6\u05de\u05d1\u05e8".split(" "),SHORTMONTHS:"\u05d9\u05e0\u05d5\u05f3 \u05e4\u05d1\u05e8\u05f3 \u05de\u05e8\u05e5 \u05d0\u05e4\u05e8\u05f3 \u05de\u05d0\u05d9 \u05d9\u05d5\u05e0\u05d9 \u05d9\u05d5\u05dc\u05d9 \u05d0\u05d5\u05d2\u05f3 \u05e1\u05e4\u05d8\u05f3 \u05d0\u05d5\u05e7\u05f3 \u05e0\u05d5\u05d1\u05f3 \u05d3\u05e6\u05de\u05f3".split(" "),
STANDALONESHORTMONTHS:"\u05d9\u05e0\u05d5\u05f3 \u05e4\u05d1\u05e8\u05f3 \u05de\u05e8\u05e5 \u05d0\u05e4\u05e8\u05f3 \u05de\u05d0\u05d9 \u05d9\u05d5\u05e0\u05d9 \u05d9\u05d5\u05dc\u05d9 \u05d0\u05d5\u05d2\u05f3 \u05e1\u05e4\u05d8\u05f3 \u05d0\u05d5\u05e7\u05f3 \u05e0\u05d5\u05d1\u05f3 \u05d3\u05e6\u05de\u05f3".split(" "),WEEKDAYS:"\u05d9\u05d5\u05dd \u05e8\u05d0\u05e9\u05d5\u05df;\u05d9\u05d5\u05dd \u05e9\u05e0\u05d9;\u05d9\u05d5\u05dd \u05e9\u05dc\u05d9\u05e9\u05d9;\u05d9\u05d5\u05dd \u05e8\u05d1\u05d9\u05e2\u05d9;\u05d9\u05d5\u05dd \u05d7\u05de\u05d9\u05e9\u05d9;\u05d9\u05d5\u05dd \u05e9\u05d9\u05e9\u05d9;\u05d9\u05d5\u05dd \u05e9\u05d1\u05ea".split(";"),
STANDALONEWEEKDAYS:"\u05d9\u05d5\u05dd \u05e8\u05d0\u05e9\u05d5\u05df;\u05d9\u05d5\u05dd \u05e9\u05e0\u05d9;\u05d9\u05d5\u05dd \u05e9\u05dc\u05d9\u05e9\u05d9;\u05d9\u05d5\u05dd \u05e8\u05d1\u05d9\u05e2\u05d9;\u05d9\u05d5\u05dd \u05d7\u05de\u05d9\u05e9\u05d9;\u05d9\u05d5\u05dd \u05e9\u05d9\u05e9\u05d9;\u05d9\u05d5\u05dd \u05e9\u05d1\u05ea".split(";"),SHORTWEEKDAYS:"\u05d9\u05d5\u05dd \u05d0\u05f3;\u05d9\u05d5\u05dd \u05d1\u05f3;\u05d9\u05d5\u05dd \u05d2\u05f3;\u05d9\u05d5\u05dd \u05d3\u05f3;\u05d9\u05d5\u05dd \u05d4\u05f3;\u05d9\u05d5\u05dd \u05d5\u05f3;\u05e9\u05d1\u05ea".split(";"),
STANDALONESHORTWEEKDAYS:"\u05d9\u05d5\u05dd \u05d0\u05f3;\u05d9\u05d5\u05dd \u05d1\u05f3;\u05d9\u05d5\u05dd \u05d2\u05f3;\u05d9\u05d5\u05dd \u05d3\u05f3;\u05d9\u05d5\u05dd \u05d4\u05f3;\u05d9\u05d5\u05dd \u05d5\u05f3;\u05e9\u05d1\u05ea".split(";"),NARROWWEEKDAYS:"\u05d0\u05f3 \u05d1\u05f3 \u05d2\u05f3 \u05d3\u05f3 \u05d4\u05f3 \u05d5\u05f3 \u05e9\u05f3".split(" "),STANDALONENARROWWEEKDAYS:"\u05d0\u05f3 \u05d1\u05f3 \u05d2\u05f3 \u05d3\u05f3 \u05d4\u05f3 \u05d5\u05f3 \u05e9\u05f3".split(" "),SHORTQUARTERS:["Q1",
"Q2","Q3","Q4"],QUARTERS:["\u05e8\u05d1\u05e2\u05d5\u05df 1","\u05e8\u05d1\u05e2\u05d5\u05df 2","\u05e8\u05d1\u05e2\u05d5\u05df 3","\u05e8\u05d1\u05e2\u05d5\u05df 4"],AMPMS:["\u05dc\u05e4\u05e0\u05d4\u05f4\u05e6","\u05d0\u05d7\u05d4\u05f4\u05e6"],DATEFORMATS:["EEEE, d \u05d1MMMM y","d \u05d1MMMM y","d \u05d1MMM y","d.M.y"],TIMEFORMATS:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1} \u05d1\u05e9\u05e2\u05d4 {0}","{1} \u05d1\u05e9\u05e2\u05d4 {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,
WEEKENDRANGE:[4,5],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_ja={ERAS:["\u7d00\u5143\u524d","\u897f\u66a6"],ERANAMES:["\u7d00\u5143\u524d","\u897f\u66a6"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),STANDALONEMONTHS:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),SHORTMONTHS:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),
STANDALONESHORTMONTHS:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),WEEKDAYS:"\u65e5\u66dc\u65e5 \u6708\u66dc\u65e5 \u706b\u66dc\u65e5 \u6c34\u66dc\u65e5 \u6728\u66dc\u65e5 \u91d1\u66dc\u65e5 \u571f\u66dc\u65e5".split(" "),STANDALONEWEEKDAYS:"\u65e5\u66dc\u65e5 \u6708\u66dc\u65e5 \u706b\u66dc\u65e5 \u6c34\u66dc\u65e5 \u6728\u66dc\u65e5 \u91d1\u66dc\u65e5 \u571f\u66dc\u65e5".split(" "),SHORTWEEKDAYS:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),
STANDALONESHORTWEEKDAYS:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),NARROWWEEKDAYS:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),STANDALONENARROWWEEKDAYS:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["\u7b2c1\u56db\u534a\u671f","\u7b2c2\u56db\u534a\u671f","\u7b2c3\u56db\u534a\u671f","\u7b2c4\u56db\u534a\u671f"],AMPMS:["\u5348\u524d","\u5348\u5f8c"],DATEFORMATS:["y\u5e74M\u6708d\u65e5EEEE","y\u5e74M\u6708d\u65e5","y/MM/dd",
"y/MM/dd"],TIMEFORMATS:["H\u6642mm\u5206ss\u79d2 zzzz","H:mm:ss z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_ka={ERAS:["\u10eb\u10d5. \u10ec.","\u10d0\u10ee. \u10ec."],ERANAMES:["\u10eb\u10d5\u10d4\u10da\u10d8 \u10ec\u10d4\u10da\u10d7\u10d0\u10e6\u10e0\u10d8\u10ea\u10ee\u10d5\u10d8\u10d7","\u10d0\u10ee\u10d0\u10da\u10d8 \u10ec\u10d4\u10da\u10d7\u10d0\u10e6\u10e0\u10d8\u10ea\u10ee\u10d5\u10d8\u10d7"],NARROWMONTHS:"\u10d8\u10d7\u10db\u10d0\u10db\u10d8\u10d8\u10d0\u10e1\u10dd\u10dc\u10d3".split(""),STANDALONENARROWMONTHS:"\u10d8\u10d7\u10db\u10d0\u10db\u10d8\u10d8\u10d0\u10e1\u10dd\u10dc\u10d3".split(""),
MONTHS:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8 \u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8 \u10db\u10d0\u10e0\u10e2\u10d8 \u10d0\u10de\u10e0\u10d8\u10da\u10d8 \u10db\u10d0\u10d8\u10e1\u10d8 \u10d8\u10d5\u10dc\u10d8\u10e1\u10d8 \u10d8\u10d5\u10da\u10d8\u10e1\u10d8 \u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd \u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8 \u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8 \u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8 \u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split(" "),
STANDALONEMONTHS:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8 \u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8 \u10db\u10d0\u10e0\u10e2\u10d8 \u10d0\u10de\u10e0\u10d8\u10da\u10d8 \u10db\u10d0\u10d8\u10e1\u10d8 \u10d8\u10d5\u10dc\u10d8\u10e1\u10d8 \u10d8\u10d5\u10da\u10d8\u10e1\u10d8 \u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd \u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8 \u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8 \u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8 \u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split(" "),
SHORTMONTHS:"\u10d8\u10d0\u10dc \u10d7\u10d4\u10d1 \u10db\u10d0\u10e0 \u10d0\u10de\u10e0 \u10db\u10d0\u10d8 \u10d8\u10d5\u10dc \u10d8\u10d5\u10da \u10d0\u10d2\u10d5 \u10e1\u10d4\u10e5 \u10dd\u10e5\u10e2 \u10dc\u10dd\u10d4 \u10d3\u10d4\u10d9".split(" "),STANDALONESHORTMONTHS:"\u10d8\u10d0\u10dc \u10d7\u10d4\u10d1 \u10db\u10d0\u10e0 \u10d0\u10de\u10e0 \u10db\u10d0\u10d8 \u10d8\u10d5\u10dc \u10d8\u10d5\u10da \u10d0\u10d2\u10d5 \u10e1\u10d4\u10e5 \u10dd\u10e5\u10e2 \u10dc\u10dd\u10d4 \u10d3\u10d4\u10d9".split(" "),
WEEKDAYS:"\u10d9\u10d5\u10d8\u10e0\u10d0 \u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8 \u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8 \u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8 \u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8 \u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8 \u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split(" "),STANDALONEWEEKDAYS:"\u10d9\u10d5\u10d8\u10e0\u10d0 \u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8 \u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8 \u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8 \u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8 \u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8 \u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split(" "),
SHORTWEEKDAYS:"\u10d9\u10d5\u10d8 \u10dd\u10e0\u10e8 \u10e1\u10d0\u10db \u10dd\u10d7\u10ee \u10ee\u10e3\u10d7 \u10de\u10d0\u10e0 \u10e8\u10d0\u10d1".split(" "),STANDALONESHORTWEEKDAYS:"\u10d9\u10d5\u10d8 \u10dd\u10e0\u10e8 \u10e1\u10d0\u10db \u10dd\u10d7\u10ee \u10ee\u10e3\u10d7 \u10de\u10d0\u10e0 \u10e8\u10d0\u10d1".split(" "),NARROWWEEKDAYS:"\u10d9\u10dd\u10e1\u10dd\u10ee\u10de\u10e8".split(""),STANDALONENARROWWEEKDAYS:"\u10d9\u10dd\u10e1\u10dd\u10ee\u10de\u10e8".split(""),SHORTQUARTERS:["I \u10d9\u10d5.",
"II \u10d9\u10d5.","III \u10d9\u10d5.","IV \u10d9\u10d5."],QUARTERS:["I \u10d9\u10d5\u10d0\u10e0\u10e2\u10d0\u10da\u10d8","II \u10d9\u10d5\u10d0\u10e0\u10e2\u10d0\u10da\u10d8","III \u10d9\u10d5\u10d0\u10e0\u10e2\u10d0\u10da\u10d8","IV \u10d9\u10d5\u10d0\u10e0\u10e2\u10d0\u10da\u10d8"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, dd MMMM, y","d MMMM, y","d MMM. y","dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,
WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_kk={ERAS:["\u0431.\u0437.\u0434.","\u0431.\u0437."],ERANAMES:["\u0411\u0456\u0437\u0434\u0456\u04a3 \u0437\u0430\u043c\u0430\u043d\u044b\u043c\u044b\u0437\u0493\u0430 \u0434\u0435\u0439\u0456\u043d","\u0411\u0456\u0437\u0434\u0456\u04a3 \u0437\u0430\u043c\u0430\u043d\u044b\u043c\u044b\u0437"],NARROWMONTHS:"\u049a\u0410\u041d\u0421\u041c\u041c\u0428\u0422\u049a\u049a\u049a\u0416".split(""),STANDALONENARROWMONTHS:"\u049a\u0410\u041d\u0421\u041c\u041c\u0428\u0422\u049a\u049a\u049a\u0416".split(""),MONTHS:"\u049b\u0430\u04a3\u0442\u0430\u0440 \u0430\u049b\u043f\u0430\u043d \u043d\u0430\u0443\u0440\u044b\u0437 \u0441\u04d9\u0443\u0456\u0440 \u043c\u0430\u043c\u044b\u0440 \u043c\u0430\u0443\u0441\u044b\u043c \u0448\u0456\u043b\u0434\u0435 \u0442\u0430\u043c\u044b\u0437 \u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a \u049b\u0430\u0437\u0430\u043d \u049b\u0430\u0440\u0430\u0448\u0430 \u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split(" "),
STANDALONEMONTHS:"\u049a\u0430\u04a3\u0442\u0430\u0440 \u0410\u049b\u043f\u0430\u043d \u041d\u0430\u0443\u0440\u044b\u0437 \u0421\u04d9\u0443\u0456\u0440 \u041c\u0430\u043c\u044b\u0440 \u041c\u0430\u0443\u0441\u044b\u043c \u0428\u0456\u043b\u0434\u0435 \u0422\u0430\u043c\u044b\u0437 \u049a\u044b\u0440\u043a\u04af\u0439\u0435\u043a \u049a\u0430\u0437\u0430\u043d \u049a\u0430\u0440\u0430\u0448\u0430 \u0416\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split(" "),SHORTMONTHS:"\u049b\u0430\u04a3. \u0430\u049b\u043f. \u043d\u0430\u0443. \u0441\u04d9\u0443. \u043c\u0430\u043c. \u043c\u0430\u0443. \u0448\u0456\u043b. \u0442\u0430\u043c. \u049b\u044b\u0440. \u049b\u0430\u0437. \u049b\u0430\u0440. \u0436\u0435\u043b.".split(" "),
STANDALONESHORTMONTHS:"\u049a\u0430\u04a3. \u0410\u049b\u043f. \u041d\u0430\u0443. \u0421\u04d9\u0443. \u041c\u0430\u043c. \u041c\u0430\u0443. \u0428\u0456\u043b. \u0422\u0430\u043c. \u049a\u044b\u0440. \u049a\u0430\u0437. \u049a\u0430\u0440. \u0416\u0435\u043b.".split(" "),WEEKDAYS:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456 \u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456 \u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456 \u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456 \u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456 \u0436\u04b1\u043c\u0430 \u0441\u0435\u043d\u0431\u0456".split(" "),
STANDALONEWEEKDAYS:"\u0416\u0435\u043a\u0441\u0435\u043d\u0431\u0456 \u0414\u04af\u0439\u0441\u0435\u043d\u0431\u0456 \u0421\u0435\u0439\u0441\u0435\u043d\u0431\u0456 \u0421\u04d9\u0440\u0441\u0435\u043d\u0431\u0456 \u0411\u0435\u0439\u0441\u0435\u043d\u0431\u0456 \u0416\u04b1\u043c\u0430 \u0421\u0435\u043d\u0431\u0456".split(" "),SHORTWEEKDAYS:"\u0416\u0441 \u0414\u0441 \u0421\u0441 \u0421\u0440 \u0411\u0441 \u0416\u043c \u0421\u0431".split(" "),STANDALONESHORTWEEKDAYS:"\u0416\u0441 \u0414\u0441 \u0421\u0441 \u0421\u0440 \u0411\u0441 \u0416\u043c \u0421\u0431".split(" "),
NARROWWEEKDAYS:"\u0416\u0414\u0421\u0421\u0411\u0416\u0421".split(""),STANDALONENARROWWEEKDAYS:"\u0416\u0414\u0421\u0421\u0411\u0416\u0421".split(""),SHORTQUARTERS:["\u0406 \u0448.","\u0406\u0406 \u0448.","\u0406\u0406\u0406 \u0448.","IV \u0448."],QUARTERS:["\u0406 \u0448\u0438\u0440\u0435\u043a","\u0406\u0406 \u0448\u0438\u0440\u0435\u043a","\u0406\u0406\u0406 \u0448\u0438\u0440\u0435\u043a","IV \u0448\u0438\u0440\u0435\u043a"],AMPMS:["AM","PM"],DATEFORMATS:["y '\u0436'. d MMMM, EEEE","y '\u0436'. d MMMM",
"y '\u0436'. dd MMM","dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_km={ERAS:["\u1798\u17bb\u1793 \u1782.\u179f.","\u1782.\u179f."],ERANAMES:["\u1798\u17bb\u1793\u200b\u1782\u17d2\u179a\u17b7\u179f\u17d2\u178f\u179f\u1780\u179a\u17b6\u1787","\u1782\u17d2\u179a\u17b7\u179f\u17d2\u178f\u179f\u1780\u179a\u17b6\u1787"],NARROWMONTHS:"\u1798\u1780\u1798\u1798\u17a7\u1798\u1780\u179f\u1780\u178f\u179c\u1792".split(""),STANDALONENARROWMONTHS:"\u1798\u1780\u1798\u1798\u17a7\u1798\u1780\u179f\u1780\u178f\u179c\u1792".split(""),MONTHS:"\u1798\u1780\u179a\u17b6 \u1780\u17bb\u1798\u17d2\u1797\u17c8 \u1798\u17b8\u1793\u17b6 \u1798\u17c1\u179f\u17b6 \u17a7\u179f\u1797\u17b6 \u1798\u17b7\u1790\u17bb\u1793\u17b6 \u1780\u1780\u17d2\u1780\u178a\u17b6 \u179f\u17b8\u17a0\u17b6 \u1780\u1789\u17d2\u1789\u17b6 \u178f\u17bb\u179b\u17b6 \u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6 \u1792\u17d2\u1793\u17bc".split(" "),
STANDALONEMONTHS:"\u1798\u1780\u179a\u17b6 \u1780\u17bb\u1798\u17d2\u1797\u17c8 \u1798\u17b8\u1793\u17b6 \u1798\u17c1\u179f\u17b6 \u17a7\u179f\u1797\u17b6 \u1798\u17b7\u1790\u17bb\u1793\u17b6 \u1780\u1780\u17d2\u1780\u178a\u17b6 \u179f\u17b8\u17a0\u17b6 \u1780\u1789\u17d2\u1789\u17b6 \u178f\u17bb\u179b\u17b6 \u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6 \u1792\u17d2\u1793\u17bc".split(" "),SHORTMONTHS:"\u1798\u1780\u179a\u17b6 \u1780\u17bb\u1798\u17d2\u1797\u17c8 \u1798\u17b8\u1793\u17b6 \u1798\u17c1\u179f\u17b6 \u17a7\u179f\u1797\u17b6 \u1798\u17b7\u1790\u17bb\u1793\u17b6 \u1780\u1780\u17d2\u1780\u178a\u17b6 \u179f\u17b8\u17a0\u17b6 \u1780\u1789\u17d2\u1789\u17b6 \u178f\u17bb\u179b\u17b6 \u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6 \u1792\u17d2\u1793\u17bc".split(" "),
STANDALONESHORTMONTHS:"\u1798\u1780\u179a\u17b6 \u1780\u17bb\u1798\u17d2\u1797\u17c8 \u1798\u17b8\u1793\u17b6 \u1798\u17c1\u179f\u17b6 \u17a7\u179f\u1797\u17b6 \u1798\u17b7\u1790\u17bb\u1793\u17b6 \u1780\u1780\u17d2\u1780\u178a\u17b6 \u179f\u17b8\u17a0\u17b6 \u1780\u1789\u17d2\u1789\u17b6 \u178f\u17bb\u179b\u17b6 \u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6 \u1792\u17d2\u1793\u17bc".split(" "),WEEKDAYS:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799 \u1785\u17d0\u1793\u17d2\u1791 \u17a2\u1784\u17d2\u1782\u17b6\u179a \u1796\u17bb\u1792 \u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd \u179f\u17bb\u1780\u17d2\u179a \u179f\u17c5\u179a\u17cd".split(" "),
STANDALONEWEEKDAYS:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799 \u1785\u17d0\u1793\u17d2\u1791 \u17a2\u1784\u17d2\u1782\u17b6\u179a \u1796\u17bb\u1792 \u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd \u179f\u17bb\u1780\u17d2\u179a \u179f\u17c5\u179a\u17cd".split(" "),SHORTWEEKDAYS:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799 \u1785\u17d0\u1793\u17d2\u1791 \u17a2\u1784\u17d2\u1782\u17b6\u179a \u1796\u17bb\u1792 \u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd \u179f\u17bb\u1780\u17d2\u179a \u179f\u17c5\u179a\u17cd".split(" "),
STANDALONESHORTWEEKDAYS:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799 \u1785\u17d0\u1793\u17d2\u1791 \u17a2\u1784\u17d2\u1782\u17b6\u179a \u1796\u17bb\u1792 \u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd \u179f\u17bb\u1780\u17d2\u179a \u179f\u17c5\u179a\u17cd".split(" "),NARROWWEEKDAYS:"\u17a2\u1785\u17a2\u1796\u1796\u179f\u179f".split(""),STANDALONENARROWWEEKDAYS:"\u17a2\u1785\u17a2\u1796\u1796\u179f\u179f".split(""),SHORTQUARTERS:["\u178f\u17d2\u179a\u17b8\u1798\u17b6\u179f\u1791\u17b8 1",
"\u178f\u17d2\u179a\u17b8\u1798\u17b6\u179f\u1791\u17b8 2","\u178f\u17d2\u179a\u17b8\u1798\u17b6\u179f\u1791\u17b8 3","\u178f\u17d2\u179a\u17b8\u1798\u17b6\u179f\u1791\u17b8 4"],QUARTERS:["\u178f\u17d2\u179a\u17b8\u1798\u17b6\u179f\u1791\u17b8 1","\u178f\u17d2\u179a\u17b8\u1798\u17b6\u179f\u1791\u17b8 2","\u178f\u17d2\u179a\u17b8\u1798\u17b6\u179f\u1791\u17b8 3","\u178f\u17d2\u179a\u17b8\u1798\u17b6\u179f\u1791\u17b8 4"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE d MMMM y","d MMMM y","d MMM y","d/M/yy"],
TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} \u1793\u17c5\u200b\u1798\u17c9\u17c4\u1784 {0}","{1} \u1793\u17c5\u200b\u1798\u17c9\u17c4\u1784 {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_kn={ERAS:["\u0c95\u0ccd\u0cb0\u0cbf.\u0caa\u0cc2","\u0c95\u0ccd\u0cb0\u0cbf.\u0cb6"],ERANAMES:["\u0c95\u0ccd\u0cb0\u0cbf\u0cb8\u0ccd\u0ca4 \u0caa\u0cc2\u0cb0\u0ccd\u0cb5","\u0c95\u0ccd\u0cb0\u0cbf\u0cb8\u0ccd\u0ca4 \u0cb6\u0c95"],NARROWMONTHS:"\u0c9c \u0cab\u0cc6 \u0cae\u0cbe \u0c8f \u0cae\u0cc7 \u0c9c\u0cc2 \u0c9c\u0cc1 \u0c86 \u0cb8\u0cc6 \u0c85 \u0ca8 \u0ca1\u0cbf".split(" "),STANDALONENARROWMONTHS:"\u0c9c \u0cab\u0cc6 \u0cae\u0cbe \u0c8f \u0cae\u0cc7 \u0c9c\u0cc2 \u0c9c\u0cc1 \u0c86 \u0cb8\u0cc6 \u0c85 \u0ca8 \u0ca1\u0cbf".split(" "),
MONTHS:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf \u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf \u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd \u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd \u0cae\u0cc7 \u0c9c\u0cc2\u0ca8\u0ccd \u0c9c\u0cc1\u0cb2\u0cc8 \u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd \u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd \u0c85\u0c95\u0ccd\u0c9f\u0ccb\u0cac\u0cb0\u0ccd \u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd \u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split(" "),STANDALONEMONTHS:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf \u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf \u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd \u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd \u0cae\u0cc7 \u0c9c\u0cc2\u0ca8\u0ccd \u0c9c\u0cc1\u0cb2\u0cc8 \u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd \u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd \u0c85\u0c95\u0ccd\u0c9f\u0ccb\u0cac\u0cb0\u0ccd \u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd \u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split(" "),
SHORTMONTHS:"\u0c9c\u0ca8 \u0cab\u0cc6\u0cac\u0ccd\u0cb0 \u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd \u0c8f\u0caa\u0ccd\u0cb0\u0cbf \u0cae\u0cc7 \u0c9c\u0cc2\u0ca8\u0ccd \u0c9c\u0cc1\u0cb2\u0cc8 \u0c86\u0c97 \u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82 \u0c85\u0c95\u0ccd\u0c9f\u0ccb \u0ca8\u0cb5\u0cc6\u0c82 \u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split(" "),STANDALONESHORTMONTHS:"\u0c9c\u0ca8 \u0cab\u0cc6\u0cac\u0ccd\u0cb0 \u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd \u0c8f\u0caa\u0ccd\u0cb0\u0cbf \u0cae\u0cc7 \u0c9c\u0cc2\u0ca8\u0ccd \u0c9c\u0cc1\u0cb2\u0cc8 \u0c86\u0c97 \u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82 \u0c85\u0c95\u0ccd\u0c9f\u0ccb \u0ca8\u0cb5\u0cc6\u0c82 \u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split(" "),
WEEKDAYS:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0 \u0cb8\u0ccb\u0cae\u0cb5\u0cbe\u0cb0 \u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0 \u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0 \u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0 \u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0 \u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split(" "),STANDALONEWEEKDAYS:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0 \u0cb8\u0ccb\u0cae\u0cb5\u0cbe\u0cb0 \u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0 \u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0 \u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0 \u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0 \u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split(" "),
SHORTWEEKDAYS:"\u0cad\u0cbe\u0ca8\u0cc1 \u0cb8\u0ccb\u0cae \u0cae\u0c82\u0c97\u0cb3 \u0cac\u0cc1\u0ca7 \u0c97\u0cc1\u0cb0\u0cc1 \u0cb6\u0cc1\u0c95\u0ccd\u0cb0 \u0cb6\u0ca8\u0cbf".split(" "),STANDALONESHORTWEEKDAYS:"\u0cad\u0cbe\u0ca8\u0cc1 \u0cb8\u0ccb\u0cae \u0cae\u0c82\u0c97\u0cb3 \u0cac\u0cc1\u0ca7 \u0c97\u0cc1\u0cb0\u0cc1 \u0cb6\u0cc1\u0c95\u0ccd\u0cb0 \u0cb6\u0ca8\u0cbf".split(" "),NARROWWEEKDAYS:"\u0cad\u0cbe \u0cb8\u0ccb \u0cae\u0c82 \u0cac\u0cc1 \u0c97\u0cc1 \u0cb6\u0cc1 \u0cb6".split(" "),
STANDALONENARROWWEEKDAYS:"\u0cad\u0cbe \u0cb8\u0ccb \u0cae\u0c82 \u0cac\u0cc1 \u0c97\u0cc1 \u0cb6\u0cc1 \u0cb6".split(" "),SHORTQUARTERS:["\u0ca4\u0ccd\u0cb0\u0cc8 1","\u0ca4\u0ccd\u0cb0\u0cc8 2","\u0ca4\u0ccd\u0cb0\u0cc8 3","\u0ca4\u0ccd\u0cb0\u0cc8 4"],QUARTERS:["1\u0ca8\u0cc7 \u0ca4\u0ccd\u0cb0\u0cc8\u0cae\u0cbe\u0cb8\u0cbf\u0c95","2\u0ca8\u0cc7 \u0ca4\u0ccd\u0cb0\u0cc8\u0cae\u0cbe\u0cb8\u0cbf\u0c95","3\u0ca8\u0cc7 \u0ca4\u0ccd\u0cb0\u0cc8\u0cae\u0cbe\u0cb8\u0cbf\u0c95","4\u0ca8\u0cc7 \u0ca4\u0ccd\u0cb0\u0cc8\u0cae\u0cbe\u0cb8\u0cbf\u0c95"],
AMPMS:["\u0caa\u0cc2\u0cb0\u0ccd\u0cb5\u0cbe\u0cb9\u0ccd\u0ca8","\u0c85\u0caa\u0cb0\u0cbe\u0cb9\u0ccd\u0ca8"],DATEFORMATS:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","d/M/yy"],TIMEFORMATS:["hh:mm:ss a zzzz","hh:mm:ss a z","hh:mm:ss a","hh:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_ko={ERAS:["BC","AD"],ERANAMES:["\uae30\uc6d0\uc804","\uc11c\uae30"],NARROWMONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),STANDALONENARROWMONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),MONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),STANDALONEMONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),
SHORTMONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),STANDALONESHORTMONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),WEEKDAYS:"\uc77c\uc694\uc77c \uc6d4\uc694\uc77c \ud654\uc694\uc77c \uc218\uc694\uc77c \ubaa9\uc694\uc77c \uae08\uc694\uc77c \ud1a0\uc694\uc77c".split(" "),STANDALONEWEEKDAYS:"\uc77c\uc694\uc77c \uc6d4\uc694\uc77c \ud654\uc694\uc77c \uc218\uc694\uc77c \ubaa9\uc694\uc77c \uae08\uc694\uc77c \ud1a0\uc694\uc77c".split(" "),
SHORTWEEKDAYS:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),STANDALONESHORTWEEKDAYS:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),NARROWWEEKDAYS:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),STANDALONENARROWWEEKDAYS:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),SHORTQUARTERS:["1\ubd84\uae30","2\ubd84\uae30","3\ubd84\uae30","4\ubd84\uae30"],QUARTERS:["\uc81c 1/4\ubd84\uae30","\uc81c 2/4\ubd84\uae30","\uc81c 3/4\ubd84\uae30","\uc81c 4/4\ubd84\uae30"],AMPMS:["\uc624\uc804",
"\uc624\ud6c4"],DATEFORMATS:["y\ub144 M\uc6d4 d\uc77c EEEE","y\ub144 M\uc6d4 d\uc77c","y. M. d.","yy. M. d."],TIMEFORMATS:["a h\uc2dc m\ubd84 s\ucd08 zzzz","a h\uc2dc m\ubd84 s\ucd08 z","a h:mm:ss","a h:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_ky={ERAS:["\u0431.\u0437.\u0447.","\u0431.\u0437."],ERANAMES:["\u0431\u0438\u0437\u0434\u0438\u043d \u0437\u0430\u043c\u0430\u043d\u0433\u0430 \u0447\u0435\u0439\u0438\u043d","\u0431\u0438\u0437\u0434\u0438\u043d \u0437\u0430\u043c\u0430\u043d"],NARROWMONTHS:"\u042f\u0424\u041c\u0410\u041c\u0418\u0418\u0410\u0421\u041e\u041d\u0414".split(""),STANDALONENARROWMONTHS:"\u042f\u0424\u041c\u0410\u041c\u0418\u0418\u0410\u0421\u041e\u041d\u0414".split(""),MONTHS:"\u044f\u043d\u0432\u0430\u0440\u044c \u0444\u0435\u0432\u0440\u0430\u043b\u044c \u043c\u0430\u0440\u0442 \u0430\u043f\u0440\u0435\u043b\u044c \u043c\u0430\u0439 \u0438\u044e\u043d\u044c \u0438\u044e\u043b\u044c \u0430\u0432\u0433\u0443\u0441\u0442 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u043e\u043a\u0442\u044f\u0431\u0440\u044c \u043d\u043e\u044f\u0431\u0440\u044c \u0434\u0435\u043a\u0430\u0431\u0440\u044c".split(" "),
STANDALONEMONTHS:"\u042f\u043d\u0432\u0430\u0440\u044c \u0424\u0435\u0432\u0440\u0430\u043b\u044c \u041c\u0430\u0440\u0442 \u0410\u043f\u0440\u0435\u043b\u044c \u041c\u0430\u0439 \u0418\u044e\u043d\u044c \u0418\u044e\u043b\u044c \u0410\u0432\u0433\u0443\u0441\u0442 \u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u041e\u043a\u0442\u044f\u0431\u0440\u044c \u041d\u043e\u044f\u0431\u0440\u044c \u0414\u0435\u043a\u0430\u0431\u0440\u044c".split(" "),SHORTMONTHS:"\u044f\u043d\u0432. \u0444\u0435\u0432. \u043c\u0430\u0440. \u0430\u043f\u0440. \u043c\u0430\u0439 \u0438\u044e\u043d. \u0438\u044e\u043b. \u0430\u0432\u0433. \u0441\u0435\u043d. \u043e\u043a\u0442. \u043d\u043e\u044f. \u0434\u0435\u043a.".split(" "),
STANDALONESHORTMONTHS:"\u042f\u043d\u0432 \u0424\u0435\u0432 \u041c\u0430\u0440 \u0410\u043f\u0440 \u041c\u0430\u0439 \u0418\u044e\u043d \u0418\u044e\u043b \u0410\u0432\u0433 \u0421\u0435\u043d \u041e\u043a\u0442 \u041d\u043e\u044f \u0414\u0435\u043a".split(" "),WEEKDAYS:"\u0436\u0435\u043a\u0448\u0435\u043c\u0431\u0438 \u0434\u04af\u0439\u0448\u04e9\u043c\u0431\u04af \u0448\u0435\u0439\u0448\u0435\u043c\u0431\u0438 \u0448\u0430\u0440\u0448\u0435\u043c\u0431\u0438 \u0431\u0435\u0439\u0448\u0435\u043c\u0431\u0438 \u0436\u0443\u043c\u0430 \u0438\u0448\u0435\u043c\u0431\u0438".split(" "),
STANDALONEWEEKDAYS:"\u0436\u0435\u043a\u0448\u0435\u043c\u0431\u0438 \u0434\u04af\u0439\u0448\u04e9\u043c\u0431\u04af \u0448\u0435\u0439\u0448\u0435\u043c\u0431\u0438 \u0448\u0430\u0440\u0448\u0435\u043c\u0431\u0438 \u0431\u0435\u0439\u0448\u0435\u043c\u0431\u0438 \u0436\u0443\u043c\u0430 \u0438\u0448\u0435\u043c\u0431\u0438".split(" "),SHORTWEEKDAYS:"\u0436\u0435\u043a. \u0434\u04af\u0439. \u0448\u0435\u0439\u0448. \u0448\u0430\u0440\u0448. \u0431\u0435\u0439\u0448. \u0436\u0443\u043c\u0430 \u0438\u0448\u043c.".split(" "),
STANDALONESHORTWEEKDAYS:"\u0436\u0435\u043a. \u0434\u04af\u0439. \u0448\u0435\u0439\u0448. \u0448\u0430\u0440\u0448. \u0431\u0435\u0439\u0448. \u0436\u0443\u043c\u0430 \u0438\u0448\u043c.".split(" "),NARROWWEEKDAYS:"\u0416\u0414\u0428\u0428\u0411\u0416\u0418".split(""),STANDALONENARROWWEEKDAYS:"\u0416\u0414\u0428\u0428\u0411\u0416\u0418".split(""),SHORTQUARTERS:["1-\u0447\u0435\u0439.","2-\u0447\u0435\u0439.","3-\u0447\u0435\u0439.","4-\u0447\u0435\u0439."],QUARTERS:["1-\u0447\u0435\u0439\u0440\u0435\u043a",
"2-\u0447\u0435\u0439\u0440\u0435\u043a","3-\u0447\u0435\u0439\u0440\u0435\u043a","4-\u0447\u0435\u0439\u0440\u0435\u043a"],AMPMS:["\u0442\u0430\u04a3\u043a\u044b","\u0442\u04af\u0448\u0442\u04e9\u043d \u043a\u0438\u0439\u0438\u043d\u043a\u0438"],DATEFORMATS:["y-'\u0436'., d-MMMM, EEEE","y-'\u0436'., d-MMMM","y-'\u0436'., d-MMM","d/M/yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_ln={ERAS:["lib\u00f3so ya","nsima ya Y"],ERANAMES:["Yambo ya Y\u00e9zu Kr\u00eds","Nsima ya Y\u00e9zu Kr\u00eds"],NARROWMONTHS:"yfmamyyas\u0254nd".split(""),STANDALONENARROWMONTHS:"yfmamyyas\u0254nd".split(""),MONTHS:"s\u00e1nz\u00e1 ya yambo;s\u00e1nz\u00e1 ya m\u00edbal\u00e9;s\u00e1nz\u00e1 ya m\u00eds\u00e1to;s\u00e1nz\u00e1 ya m\u00ednei;s\u00e1nz\u00e1 ya m\u00edt\u00e1no;s\u00e1nz\u00e1 ya mot\u00f3b\u00e1;s\u00e1nz\u00e1 ya nsambo;s\u00e1nz\u00e1 ya mwambe;s\u00e1nz\u00e1 ya libwa;s\u00e1nz\u00e1 ya z\u00f3mi;s\u00e1nz\u00e1 ya z\u00f3mi na m\u0254\u030ck\u0254\u0301;s\u00e1nz\u00e1 ya z\u00f3mi na m\u00edbal\u00e9".split(";"),
STANDALONEMONTHS:"s\u00e1nz\u00e1 ya yambo;s\u00e1nz\u00e1 ya m\u00edbal\u00e9;s\u00e1nz\u00e1 ya m\u00eds\u00e1to;s\u00e1nz\u00e1 ya m\u00ednei;s\u00e1nz\u00e1 ya m\u00edt\u00e1no;s\u00e1nz\u00e1 ya mot\u00f3b\u00e1;s\u00e1nz\u00e1 ya nsambo;s\u00e1nz\u00e1 ya mwambe;s\u00e1nz\u00e1 ya libwa;s\u00e1nz\u00e1 ya z\u00f3mi;s\u00e1nz\u00e1 ya z\u00f3mi na m\u0254\u030ck\u0254\u0301;s\u00e1nz\u00e1 ya z\u00f3mi na m\u00edbal\u00e9".split(";"),SHORTMONTHS:"yan fbl msi apl mai yun yul agt stb \u0254tb nvb dsb".split(" "),
STANDALONESHORTMONTHS:"yan fbl msi apl mai yun yul agt stb \u0254tb nvb dsb".split(" "),WEEKDAYS:"eyenga;mok\u0254l\u0254 mwa yambo;mok\u0254l\u0254 mwa m\u00edbal\u00e9;mok\u0254l\u0254 mwa m\u00eds\u00e1to;mok\u0254l\u0254 ya m\u00edn\u00e9i;mok\u0254l\u0254 ya m\u00edt\u00e1no;mp\u0254\u0301s\u0254".split(";"),STANDALONEWEEKDAYS:"eyenga;mok\u0254l\u0254 mwa yambo;mok\u0254l\u0254 mwa m\u00edbal\u00e9;mok\u0254l\u0254 mwa m\u00eds\u00e1to;mok\u0254l\u0254 ya m\u00edn\u00e9i;mok\u0254l\u0254 ya m\u00edt\u00e1no;mp\u0254\u0301s\u0254".split(";"),
SHORTWEEKDAYS:"eye ybo mbl mst min mtn mps".split(" "),STANDALONESHORTWEEKDAYS:"eye ybo mbl mst min mtn mps".split(" "),NARROWWEEKDAYS:"eymmmmp".split(""),STANDALONENARROWWEEKDAYS:"eymmmmp".split(""),SHORTQUARTERS:["SM1","SM2","SM3","SM4"],QUARTERS:["s\u00e1nz\u00e1 m\u00eds\u00e1to ya yambo","s\u00e1nz\u00e1 m\u00eds\u00e1to ya m\u00edbal\u00e9","s\u00e1nz\u00e1 m\u00eds\u00e1to ya m\u00eds\u00e1to","s\u00e1nz\u00e1 m\u00eds\u00e1to ya m\u00ednei"],AMPMS:["nt\u0254\u0301ng\u0254\u0301","mp\u00f3kwa"],
DATEFORMATS:["EEEE d MMMM y","d MMMM y","d MMM y","d/M/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_lo={ERAS:["\u0e81\u0ec8\u0ead\u0e99 \u0e84.\u0eaa.","\u0e84.\u0eaa."],ERANAMES:["\u0e81\u0ec8\u0ead\u0e99\u0e84\u0ea3\u0eb4\u0e94\u0eaa\u0eb1\u0e81\u0e81\u0eb0\u0ea5\u0eb2\u0e94","\u0e84\u0ea3\u0eb4\u0e94\u0eaa\u0eb1\u0e81\u0e81\u0eb0\u0ea5\u0eb2\u0e94"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99 \u0e81\u0eb8\u0ea1\u0e9e\u0eb2 \u0ea1\u0eb5\u0e99\u0eb2 \u0ec0\u0ea1\u0eaa\u0eb2 \u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2 \u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2 \u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94 \u0eaa\u0eb4\u0e87\u0eab\u0eb2 \u0e81\u0eb1\u0e99\u0e8d\u0eb2 \u0e95\u0eb8\u0ea5\u0eb2 \u0e9e\u0eb0\u0e88\u0eb4\u0e81 \u0e97\u0eb1\u0e99\u0ea7\u0eb2".split(" "),
STANDALONEMONTHS:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99 \u0e81\u0eb8\u0ea1\u0e9e\u0eb2 \u0ea1\u0eb5\u0e99\u0eb2 \u0ec0\u0ea1\u0eaa\u0eb2 \u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2 \u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2 \u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94 \u0eaa\u0eb4\u0e87\u0eab\u0eb2 \u0e81\u0eb1\u0e99\u0e8d\u0eb2 \u0e95\u0eb8\u0ea5\u0eb2 \u0e9e\u0eb0\u0e88\u0eb4\u0e81 \u0e97\u0eb1\u0e99\u0ea7\u0eb2".split(" "),SHORTMONTHS:"\u0ea1.\u0e81. \u0e81.\u0e9e. \u0ea1.\u0e99. \u0ea1.\u0eaa. \u0e9e.\u0e9e. \u0ea1\u0eb4.\u0e96. \u0e81.\u0ea5. \u0eaa.\u0eab. \u0e81.\u0e8d. \u0e95.\u0ea5. \u0e9e.\u0e88. \u0e97.\u0ea7.".split(" "),
STANDALONESHORTMONTHS:"\u0ea1.\u0e81. \u0e81.\u0e9e. \u0ea1.\u0e99. \u0ea1.\u0eaa. \u0e9e.\u0e9e. \u0ea1\u0eb4.\u0e96. \u0e81.\u0ea5. \u0eaa.\u0eab. \u0e81.\u0e8d. \u0e95.\u0ea5. \u0e9e.\u0e88. \u0e97.\u0ea7.".split(" "),WEEKDAYS:"\u0ea7\u0eb1\u0e99\u0ead\u0eb2\u0e97\u0eb4\u0e94 \u0ea7\u0eb1\u0e99\u0e88\u0eb1\u0e99 \u0ea7\u0eb1\u0e99\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99 \u0ea7\u0eb1\u0e99\u0e9e\u0eb8\u0e94 \u0ea7\u0eb1\u0e99\u0e9e\u0eb0\u0eab\u0eb1\u0e94 \u0ea7\u0eb1\u0e99\u0eaa\u0eb8\u0e81 \u0ea7\u0eb1\u0e99\u0ec0\u0eaa\u0ebb\u0eb2".split(" "),
STANDALONEWEEKDAYS:"\u0ea7\u0eb1\u0e99\u0ead\u0eb2\u0e97\u0eb4\u0e94 \u0ea7\u0eb1\u0e99\u0e88\u0eb1\u0e99 \u0ea7\u0eb1\u0e99\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99 \u0ea7\u0eb1\u0e99\u0e9e\u0eb8\u0e94 \u0ea7\u0eb1\u0e99\u0e9e\u0eb0\u0eab\u0eb1\u0e94 \u0ea7\u0eb1\u0e99\u0eaa\u0eb8\u0e81 \u0ea7\u0eb1\u0e99\u0ec0\u0eaa\u0ebb\u0eb2".split(" "),SHORTWEEKDAYS:"\u0ead\u0eb2\u0e97\u0eb4\u0e94 \u0e88\u0eb1\u0e99 \u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99 \u0e9e\u0eb8\u0e94 \u0e9e\u0eb0\u0eab\u0eb1\u0e94 \u0eaa\u0eb8\u0e81 \u0ec0\u0eaa\u0ebb\u0eb2".split(" "),
STANDALONESHORTWEEKDAYS:"\u0ead\u0eb2\u0e97\u0eb4\u0e94 \u0e88\u0eb1\u0e99 \u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99 \u0e9e\u0eb8\u0e94 \u0e9e\u0eb0\u0eab\u0eb1\u0e94 \u0eaa\u0eb8\u0e81 \u0ec0\u0eaa\u0ebb\u0eb2".split(" "),NARROWWEEKDAYS:"\u0ead\u0eb2 \u0e88 \u0ead \u0e9e \u0e9e\u0eab \u0eaa\u0eb8 \u0eaa".split(" "),STANDALONENARROWWEEKDAYS:"\u0ead\u0eb2 \u0e88 \u0ead \u0e9e \u0e9e\u0eab \u0eaa\u0eb8 \u0eaa".split(" "),SHORTQUARTERS:["\u0e95\u0ea11","\u0e95\u0ea12","\u0e95\u0ea13","\u0e95\u0ea14"],QUARTERS:["\u0ec4\u0e95\u0ea3\u0ea1\u0eb2\u0e94 1",
"\u0ec4\u0e95\u0ea3\u0ea1\u0eb2\u0e94 2","\u0ec4\u0e95\u0ea3\u0ea1\u0eb2\u0e94 3","\u0ec4\u0e95\u0ea3\u0ea1\u0eb2\u0e94 4"],AMPMS:["\u0e81\u0ec8\u0ead\u0e99\u0e97\u0ec8\u0ebd\u0e87","\u0eab\u0ebc\u0eb1\u0e87\u0e97\u0ec8\u0ebd\u0e87"],DATEFORMATS:["EEEE \u0e97\u0eb5 d MMMM G y","d MMMM y","d MMM y","d/M/y"],TIMEFORMATS:["H \u0ec2\u0ea1\u0e87 m \u0e99\u0eb2\u0e97\u0eb5 ss \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5 zzzz","H \u0ec2\u0ea1\u0e87 m \u0e99\u0eb2\u0e97\u0eb5 ss \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5 z",
"H:mm:ss","H:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_lt={ERAS:["pr. Kr.","po Kr."],ERANAMES:["prie\u0161 Krist\u0173","po Kristaus"],NARROWMONTHS:"SVKBGBLRRSLG".split(""),STANDALONENARROWMONTHS:"SVKBGBLRRSLG".split(""),MONTHS:"sausio vasario kovo baland\u017eio gegu\u017e\u0117s bir\u017eelio liepos rugpj\u016b\u010dio rugs\u0117jo spalio lapkri\u010dio gruod\u017eio".split(" "),STANDALONEMONTHS:"sausis vasaris kovas balandis gegu\u017e\u0117 bir\u017eelis liepa rugpj\u016btis rugs\u0117jis spalis lapkritis gruodis".split(" "),SHORTMONTHS:"saus. vas. kov. bal. geg. bir\u017e. liep. rugp. rugs. spal. lapkr. gruod.".split(" "),
STANDALONESHORTMONTHS:"saus. vas. kov. bal. geg. bir\u017e. liep. rugp. rugs. spal. lapkr. gruod.".split(" "),WEEKDAYS:"sekmadienis pirmadienis antradienis tre\u010diadienis ketvirtadienis penktadienis \u0161e\u0161tadienis".split(" "),STANDALONEWEEKDAYS:"sekmadienis pirmadienis antradienis tre\u010diadienis ketvirtadienis penktadienis \u0161e\u0161tadienis".split(" "),SHORTWEEKDAYS:"sk pr an tr kt pn \u0161t".split(" "),STANDALONESHORTWEEKDAYS:"sk pr an tr kt pn \u0161t".split(" "),NARROWWEEKDAYS:"SPATKP\u0160".split(""),
STANDALONENARROWWEEKDAYS:"SPATKP\u0160".split(""),SHORTQUARTERS:["I k.","II k.","III k.","IV k."],QUARTERS:["I ketvirtis","II ketvirtis","III ketvirtis","IV ketvirtis"],AMPMS:["prie\u0161piet","popiet"],DATEFORMATS:["y 'm'. MMMM d 'd'., EEEE","y 'm'. MMMM d 'd'.","y-MM-dd","y-MM-dd"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_lv={ERAS:["p.m.\u0113.","m.\u0113."],ERANAMES:["pirms m\u016bsu \u0113ras","m\u016bsu \u0113r\u0101"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"janv\u0101ris febru\u0101ris marts apr\u012blis maijs j\u016bnijs j\u016blijs augusts septembris oktobris novembris decembris".split(" "),STANDALONEMONTHS:"janv\u0101ris febru\u0101ris marts apr\u012blis maijs j\u016bnijs j\u016blijs augusts septembris oktobris novembris decembris".split(" "),
SHORTMONTHS:"janv. febr. marts apr. maijs j\u016bn. j\u016bl. aug. sept. okt. nov. dec.".split(" "),STANDALONESHORTMONTHS:"janv. febr. marts apr. maijs j\u016bn. j\u016bl. aug. sept. okt. nov. dec.".split(" "),WEEKDAYS:"sv\u0113tdiena pirmdiena otrdiena tre\u0161diena ceturtdiena piektdiena sestdiena".split(" "),STANDALONEWEEKDAYS:"Sv\u0113tdiena Pirmdiena Otrdiena Tre\u0161diena Ceturtdiena Piektdiena Sestdiena".split(" "),SHORTWEEKDAYS:"sv\u0113td. pirmd. otrd. tre\u0161d. ceturtd. piektd. sestd.".split(" "),
STANDALONESHORTWEEKDAYS:"Sv\u0113td. Pirmd. Otrd. Tre\u0161d. Ceturtd. Piektd. Sestd.".split(" "),NARROWWEEKDAYS:"SPOTCPS".split(""),STANDALONENARROWWEEKDAYS:"SPOTCPS".split(""),SHORTQUARTERS:["1.\u00a0cet.","2.\u00a0cet.","3.\u00a0cet.","4.\u00a0cet."],QUARTERS:["1. ceturksnis","2. ceturksnis","3. ceturksnis","4. ceturksnis"],AMPMS:["priek\u0161pusdien\u0101","p\u0113cpusdien\u0101"],DATEFORMATS:["EEEE, y. 'gada' d. MMMM","y. 'gada' d. MMMM","y. 'gada' d. MMM","dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz",
"HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_mk={ERAS:["\u043f\u0440.\u043d.\u0435.","\u043d.\u0435."],ERANAMES:["\u043f\u0440\u0435\u0434 \u043d\u0430\u0448\u0430\u0442\u0430 \u0435\u0440\u0430","\u043e\u0434 \u043d\u0430\u0448\u0430\u0442\u0430 \u0435\u0440\u0430"],NARROWMONTHS:"\u0458\u0444\u043c\u0430\u043c\u0458\u0458\u0430\u0441\u043e\u043d\u0434".split(""),STANDALONENARROWMONTHS:"\u0458\u0444\u043c\u0430\u043c\u0458\u0458\u0430\u0441\u043e\u043d\u0434".split(""),MONTHS:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438 \u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438 \u043c\u0430\u0440\u0442 \u0430\u043f\u0440\u0438\u043b \u043c\u0430\u0458 \u0458\u0443\u043d\u0438 \u0458\u0443\u043b\u0438 \u0430\u0432\u0433\u0443\u0441\u0442 \u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438 \u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438 \u043d\u043e\u0435\u043c\u0432\u0440\u0438 \u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split(" "),
STANDALONEMONTHS:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438 \u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438 \u043c\u0430\u0440\u0442 \u0430\u043f\u0440\u0438\u043b \u043c\u0430\u0458 \u0458\u0443\u043d\u0438 \u0458\u0443\u043b\u0438 \u0430\u0432\u0433\u0443\u0441\u0442 \u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438 \u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438 \u043d\u043e\u0435\u043c\u0432\u0440\u0438 \u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split(" "),SHORTMONTHS:"\u0458\u0430\u043d. \u0444\u0435\u0432. \u043c\u0430\u0440. \u0430\u043f\u0440. \u043c\u0430\u0458 \u0458\u0443\u043d. \u0458\u0443\u043b. \u0430\u0432\u0433. \u0441\u0435\u043f\u0442. \u043e\u043a\u0442. \u043d\u043e\u0435\u043c. \u0434\u0435\u043a.".split(" "),
STANDALONESHORTMONTHS:"\u0458\u0430\u043d. \u0444\u0435\u0432. \u043c\u0430\u0440. \u0430\u043f\u0440. \u043c\u0430\u0458 \u0458\u0443\u043d. \u0458\u0443\u043b. \u0430\u0432\u0433. \u0441\u0435\u043f\u0442. \u043e\u043a\u0442. \u043d\u043e\u0435\u043c. \u0434\u0435\u043a.".split(" "),WEEKDAYS:"\u043d\u0435\u0434\u0435\u043b\u0430 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a \u043f\u0435\u0442\u043e\u043a \u0441\u0430\u0431\u043e\u0442\u0430".split(" "),
STANDALONEWEEKDAYS:"\u043d\u0435\u0434\u0435\u043b\u0430 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a \u043f\u0435\u0442\u043e\u043a \u0441\u0430\u0431\u043e\u0442\u0430".split(" "),SHORTWEEKDAYS:"\u043d\u0435\u0434. \u043f\u043e\u043d. \u0432\u0442. \u0441\u0440\u0435. \u0447\u0435\u0442. \u043f\u0435\u0442. \u0441\u0430\u0431.".split(" "),STANDALONESHORTWEEKDAYS:"\u043d\u0435\u0434. \u043f\u043e\u043d. \u0432\u0442\u043e. \u0441\u0440\u0435. \u0447\u0435\u0442. \u043f\u0435\u0442. \u0441\u0430\u0431.".split(" "),
NARROWWEEKDAYS:"\u043d\u043f\u0432\u0441\u0447\u043f\u0441".split(""),STANDALONENARROWWEEKDAYS:"\u043d\u043f\u0432\u0441\u0447\u043f\u0441".split(""),SHORTQUARTERS:["\u0458\u0430\u043d-\u043c\u0430\u0440","\u0430\u043f\u0440-\u0458\u0443\u043d","\u0458\u0443\u043b-\u0441\u0435\u043f","\u043e\u043a\u0442-\u0434\u0435\u043a"],QUARTERS:["\u043f\u0440\u0432\u043e \u0442\u0440\u043e\u043c\u0435\u0441\u0435\u0447\u0458\u0435","\u0432\u0442\u043e\u0440\u043e \u0442\u0440\u043e\u043c\u0435\u0441\u0435\u0447\u0458\u0435",
"\u0442\u0440\u0435\u0442\u043e \u0442\u0440\u043e\u043c\u0435\u0441\u0435\u0447\u0458\u0435","\u0447\u0435\u0442\u0432\u0440\u0442\u043e \u0442\u0440\u043e\u043c\u0435\u0441\u0435\u0447\u0458\u0435"],AMPMS:["\u043f\u0440\u0435\u0442\u043f\u043b\u0430\u0434\u043d\u0435","\u043f\u043e\u043f\u043b\u0430\u0434\u043d\u0435"],DATEFORMATS:["EEEE, dd MMMM y","dd MMMM y","dd.M.y","dd.M.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],
FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_ml={ERAS:["\u0d15\u0d4d\u0d30\u0d3f.\u0d2e\u0d41.","\u0d0e\u0d21\u0d3f"],ERANAMES:["\u0d15\u0d4d\u0d30\u0d3f\u0d38\u0d4d\u200c\u0d24\u0d41\u0d35\u0d3f\u0d28\u0d4d \u0d2e\u0d41\u0d2e\u0d4d\u0d2a\u0d4d","\u0d06\u0d28\u0d4d\u0d28\u0d4b \u0d21\u0d4a\u0d2e\u0d3f\u0d28\u0d3f"],NARROWMONTHS:"\u0d1c \u0d2b \u0d2e\u0d3e \u0d0f \u0d2e\u0d46 \u0d1c\u0d42\u0d7a \u0d1c\u0d42 \u0d13 \u0d38\u0d46 \u0d12 \u0d28 \u0d21\u0d3f".split(" "),STANDALONENARROWMONTHS:"\u0d1c \u0d2b\u0d46 \u0d2e\u0d3e \u0d0f \u0d2e\u0d46 \u0d1c\u0d42\u0d7a \u0d1c\u0d42 \u0d13 \u0d38\u0d46 \u0d12 \u0d28 \u0d21\u0d3f".split(" "),
MONTHS:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f \u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f \u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d \u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d \u0d2e\u0d47\u0d2f\u0d4d \u0d1c\u0d42\u0d7a \u0d1c\u0d42\u0d32\u0d48 \u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d \u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c \u0d12\u0d15\u0d4d\u200c\u0d1f\u0d4b\u0d2c\u0d7c \u0d28\u0d35\u0d02\u0d2c\u0d7c \u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split(" "),STANDALONEMONTHS:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f \u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f \u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d \u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d \u0d2e\u0d47\u0d2f\u0d4d \u0d1c\u0d42\u0d7a \u0d1c\u0d42\u0d32\u0d48 \u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d \u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c \u0d12\u0d15\u0d4d\u200c\u0d1f\u0d4b\u0d2c\u0d7c \u0d28\u0d35\u0d02\u0d2c\u0d7c \u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split(" "),
SHORTMONTHS:"\u0d1c\u0d28\u0d41 \u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41 \u0d2e\u0d3e\u0d7c \u0d0f\u0d2a\u0d4d\u0d30\u0d3f \u0d2e\u0d47\u0d2f\u0d4d \u0d1c\u0d42\u0d7a \u0d1c\u0d42\u0d32\u0d48 \u0d13\u0d17 \u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02 \u0d12\u0d15\u0d4d\u0d1f\u0d4b \u0d28\u0d35\u0d02 \u0d21\u0d3f\u0d38\u0d02".split(" "),STANDALONESHORTMONTHS:"\u0d1c\u0d28\u0d41 \u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41 \u0d2e\u0d3e\u0d7c \u0d0f\u0d2a\u0d4d\u0d30\u0d3f \u0d2e\u0d47\u0d2f\u0d4d \u0d1c\u0d42\u0d7a \u0d1c\u0d42\u0d32\u0d48 \u0d13\u0d17 \u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02 \u0d12\u0d15\u0d4d\u0d1f\u0d4b \u0d28\u0d35\u0d02 \u0d21\u0d3f\u0d38\u0d02".split(" "),
WEEKDAYS:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u200c\u0d1a \u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u200c\u0d1a \u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a \u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u200c\u0d1a \u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u200c\u0d1a \u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u200c\u0d1a \u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u200c\u0d1a".split(" "),STANDALONEWEEKDAYS:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u200c\u0d1a \u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u200c\u0d1a \u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u200c\u0d1a \u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u200c\u0d1a \u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u200c\u0d1a \u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u200c\u0d1a \u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u200c\u0d1a".split(" "),
SHORTWEEKDAYS:"\u0d1e\u0d3e\u0d2f\u0d7c \u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e \u0d1a\u0d4a\u0d35\u0d4d\u0d35 \u0d2c\u0d41\u0d27\u0d7b \u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02 \u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f \u0d36\u0d28\u0d3f".split(" "),STANDALONESHORTWEEKDAYS:"\u0d1e\u0d3e\u0d2f\u0d7c \u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e \u0d1a\u0d4a\u0d35\u0d4d\u0d35 \u0d2c\u0d41\u0d27\u0d7b \u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02 \u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f \u0d36\u0d28\u0d3f".split(" "),NARROWWEEKDAYS:"\u0d1e \u0d24\u0d3f \u0d1a\u0d4a \u0d2c\u0d41 \u0d35\u0d4d\u0d2f\u0d3e \u0d35\u0d46 \u0d36".split(" "),
STANDALONENARROWWEEKDAYS:"\u0d1e\u0d3e \u0d24\u0d3f \u0d1a\u0d4a \u0d2c\u0d41 \u0d35\u0d4d\u0d2f\u0d3e \u0d35\u0d46 \u0d36".split(" "),SHORTQUARTERS:["\u0d12\u0d28\u0d4d\u0d28\u0d3e\u0d02 \u0d2a\u0d3e\u0d26\u0d02","\u0d30\u0d23\u0d4d\u0d1f\u0d3e\u0d02 \u0d2a\u0d3e\u0d26\u0d02","\u0d2e\u0d42\u0d28\u0d4d\u0d28\u0d3e\u0d02 \u0d2a\u0d3e\u0d26\u0d02","\u0d28\u0d3e\u0d32\u0d3e\u0d02 \u0d2a\u0d3e\u0d26\u0d02"],QUARTERS:["\u0d12\u0d28\u0d4d\u0d28\u0d3e\u0d02 \u0d2a\u0d3e\u0d26\u0d02","\u0d30\u0d23\u0d4d\u0d1f\u0d3e\u0d02 \u0d2a\u0d3e\u0d26\u0d02",
"\u0d2e\u0d42\u0d28\u0d4d\u0d28\u0d3e\u0d02 \u0d2a\u0d3e\u0d26\u0d02","\u0d28\u0d3e\u0d32\u0d3e\u0d02 \u0d2a\u0d3e\u0d26\u0d02"],AMPMS:["AM","PM"],DATEFORMATS:["y, MMMM d, EEEE","y, MMMM d","y, MMM d","d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_mn={ERAS:["\u043c.\u044d.\u04e9","\u043c.\u044d."],ERANAMES:["\u043c\u0430\u043d\u0430\u0439 \u044d\u0440\u0438\u043d\u0438\u0439 \u04e9\u043c\u043d\u04e9\u0445","\u043c\u0430\u043d\u0430\u0439 \u044d\u0440\u0438\u043d\u0438\u0439"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440;\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440;\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440;\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440;\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440;\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440;\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440;\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440;\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440;\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440;\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440;\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split(";"),
STANDALONEMONTHS:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440;\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440;\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440;\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440;\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440;\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440;\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440;\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440;\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440;\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440;\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440;\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split(";"),
SHORTMONTHS:"1-\u0440 \u0441\u0430\u0440;2-\u0440 \u0441\u0430\u0440;3-\u0440 \u0441\u0430\u0440;4-\u0440 \u0441\u0430\u0440;5-\u0440 \u0441\u0430\u0440;6-\u0440 \u0441\u0430\u0440;7-\u0440 \u0441\u0430\u0440;8-\u0440 \u0441\u0430\u0440;9-\u0440 \u0441\u0430\u0440;10-\u0440 \u0441\u0430\u0440;11-\u0440 \u0441\u0430\u0440;12-\u0440 \u0441\u0430\u0440".split(";"),STANDALONESHORTMONTHS:"1-\u0440 \u0441\u0430\u0440;2-\u0440 \u0441\u0430\u0440;3-\u0440 \u0441\u0430\u0440;4-\u0440 \u0441\u0430\u0440;5-\u0440 \u0441\u0430\u0440;6-\u0440 \u0441\u0430\u0440;7-\u0440 \u0441\u0430\u0440;8-\u0440 \u0441\u0430\u0440;9-\u0440 \u0441\u0430\u0440;10-\u0440 \u0441\u0430\u0440;11-\u0440 \u0441\u0430\u0440;12-\u0440 \u0441\u0430\u0440".split(";"),
WEEKDAYS:"\u043d\u044f\u043c \u0434\u0430\u0432\u0430\u0430 \u043c\u044f\u0433\u043c\u0430\u0440 \u043b\u0445\u0430\u0433\u0432\u0430 \u043f\u04af\u0440\u044d\u0432 \u0431\u0430\u0430\u0441\u0430\u043d \u0431\u044f\u043c\u0431\u0430".split(" "),STANDALONEWEEKDAYS:"\u043d\u044f\u043c \u0434\u0430\u0432\u0430\u0430 \u043c\u044f\u0433\u043c\u0430\u0440 \u043b\u0445\u0430\u0433\u0432\u0430 \u043f\u04af\u0440\u044d\u0432 \u0431\u0430\u0430\u0441\u0430\u043d \u0431\u044f\u043c\u0431\u0430".split(" "),SHORTWEEKDAYS:"\u041d\u044f \u0414\u0430 \u041c\u044f \u041b\u0445 \u041f\u04af \u0411\u0430 \u0411\u044f".split(" "),
STANDALONESHORTWEEKDAYS:"\u041d\u044f \u0414\u0430 \u041c\u044f \u041b\u0445 \u041f\u04af \u0411\u0430 \u0411\u044f".split(" "),NARROWWEEKDAYS:"\u041d\u044f \u0414\u0430 \u041c\u044f \u041b\u0445 \u041f\u04af \u0411\u0430 \u0411\u044f".split(" "),STANDALONENARROWWEEKDAYS:"\u041d\u044f \u0414\u0430 \u041c\u044f \u041b\u0445 \u041f\u04af \u0411\u0430 \u0411\u044f".split(" "),SHORTQUARTERS:["\u04231","\u04232","\u04233","\u04234"],QUARTERS:["1-\u0440 \u0443\u043b\u0438\u0440\u0430\u043b","2-\u0440 \u0443\u043b\u0438\u0440\u0430\u043b",
"3-\u0440 \u0443\u043b\u0438\u0440\u0430\u043b","4-\u0440 \u0443\u043b\u0438\u0440\u0430\u043b"],AMPMS:["\u04af.\u04e9","\u04af.\u0445"],DATEFORMATS:["EEEE, y '\u043e\u043d\u044b' MM '\u0441\u0430\u0440\u044b\u043d' d","y'\u043e\u043d\u044b' MMMM'\u0441\u0430\u0440\u044b\u043d' d'\u04e9\u0434\u04e9\u0440'","y MMM d","y-MM-dd"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_mo={ERAS:["\u00ee.Hr.","d.Hr."],ERANAMES:["\u00eenainte de Hristos","dup\u0103 Hristos"],NARROWMONTHS:"IFMAMIIASOND".split(""),STANDALONENARROWMONTHS:"IFMAMIIASOND".split(""),MONTHS:"ianuarie februarie martie aprilie mai iunie iulie august septembrie octombrie noiembrie decembrie".split(" "),STANDALONEMONTHS:"ianuarie februarie martie aprilie mai iunie iulie august septembrie octombrie noiembrie decembrie".split(" "),SHORTMONTHS:"ian. feb. mar. apr. mai iun. iul. aug. sept. oct. nov. dec.".split(" "),
STANDALONESHORTMONTHS:"ian. feb. mar. apr. mai iun. iul. aug. sept. oct. nov. dec.".split(" "),WEEKDAYS:"duminic\u0103 luni mar\u021bi miercuri joi vineri s\u00e2mb\u0103t\u0103".split(" "),STANDALONEWEEKDAYS:"duminic\u0103 luni mar\u021bi miercuri joi vineri s\u00e2mb\u0103t\u0103".split(" "),SHORTWEEKDAYS:"Dum Lun Mar Mie Joi Vin S\u00e2m".split(" "),STANDALONESHORTWEEKDAYS:"Dum Lun Mar Mie Joi Vin S\u00e2m".split(" "),NARROWWEEKDAYS:"D L Ma Mi J V S".split(" "),STANDALONENARROWWEEKDAYS:"D L Ma Mi J V S".split(" "),
SHORTQUARTERS:["trim. 1","trim. 2","trim. 3","trim. 4"],QUARTERS:["trimestrul 1","trimestrul 2","trimestrul 3","trimestrul 4"],AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","dd.MM.y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_mr={ZERODIGIT:2406,ERAS:["\u0907. \u0938. \u092a\u0942.","\u0907. \u0938."],ERANAMES:["\u0908\u0938\u0935\u0940\u0938\u0928\u092a\u0942\u0930\u094d\u0935","\u0908\u0938\u0935\u0940\u0938\u0928"],NARROWMONTHS:"\u091c\u093e \u092b\u0947 \u092e\u093e \u090f \u092e\u0947 \u091c\u0942 \u091c\u0941 \u0911 \u0938 \u0911 \u0928\u094b \u0921\u093f".split(" "),STANDALONENARROWMONTHS:"\u091c\u093e \u092b\u0947 \u092e\u093e \u090f \u092e\u0947 \u091c\u0942 \u091c\u0941 \u0911 \u0938 \u0911 \u0928\u094b \u0921\u093f".split(" "),
MONTHS:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940 \u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940 \u092e\u093e\u0930\u094d\u091a \u090f\u092a\u094d\u0930\u093f\u0932 \u092e\u0947 \u091c\u0942\u0928 \u091c\u0941\u0932\u0948 \u0911\u0917\u0938\u094d\u091f \u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930 \u0911\u0915\u094d\u091f\u094b\u092c\u0930 \u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930 \u0921\u093f\u0938\u0947\u0902\u092c\u0930".split(" "),STANDALONEMONTHS:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940 \u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940 \u092e\u093e\u0930\u094d\u091a \u090f\u092a\u094d\u0930\u093f\u0932 \u092e\u0947 \u091c\u0942\u0928 \u091c\u0941\u0932\u0948 \u0911\u0917\u0938\u094d\u091f \u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930 \u0911\u0915\u094d\u091f\u094b\u092c\u0930 \u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930 \u0921\u093f\u0938\u0947\u0902\u092c\u0930".split(" "),
SHORTMONTHS:"\u091c\u093e\u0928\u0947 \u092b\u0947\u092c\u094d\u0930\u0941 \u092e\u093e\u0930\u094d\u091a \u090f\u092a\u094d\u0930\u093f \u092e\u0947 \u091c\u0942\u0928 \u091c\u0941\u0932\u0948 \u0911\u0917 \u0938\u092a\u094d\u091f\u0947\u0902 \u0911\u0915\u094d\u091f\u094b \u0928\u094b\u0935\u094d\u0939\u0947\u0902 \u0921\u093f\u0938\u0947\u0902".split(" "),STANDALONESHORTMONTHS:"\u091c\u093e\u0928\u0947 \u092b\u0947\u092c\u094d\u0930\u0941 \u092e\u093e\u0930\u094d\u091a \u090f\u092a\u094d\u0930\u093f \u092e\u0947 \u091c\u0942\u0928 \u091c\u0941\u0932\u0948 \u0911\u0917 \u0938\u092a\u094d\u091f\u0947\u0902 \u0911\u0915\u094d\u091f\u094b \u0928\u094b\u0935\u094d\u0939\u0947\u0902 \u0921\u093f\u0938\u0947\u0902".split(" "),
WEEKDAYS:"\u0930\u0935\u093f\u0935\u093e\u0930 \u0938\u094b\u092e\u0935\u093e\u0930 \u092e\u0902\u0917\u0933\u0935\u093e\u0930 \u092c\u0941\u0927\u0935\u093e\u0930 \u0917\u0941\u0930\u0941\u0935\u093e\u0930 \u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930 \u0936\u0928\u093f\u0935\u093e\u0930".split(" "),STANDALONEWEEKDAYS:"\u0930\u0935\u093f\u0935\u093e\u0930 \u0938\u094b\u092e\u0935\u093e\u0930 \u092e\u0902\u0917\u0933\u0935\u093e\u0930 \u092c\u0941\u0927\u0935\u093e\u0930 \u0917\u0941\u0930\u0941\u0935\u093e\u0930 \u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930 \u0936\u0928\u093f\u0935\u093e\u0930".split(" "),
SHORTWEEKDAYS:"\u0930\u0935\u093f \u0938\u094b\u092e \u092e\u0902\u0917\u0933 \u092c\u0941\u0927 \u0917\u0941\u0930\u0941 \u0936\u0941\u0915\u094d\u0930 \u0936\u0928\u093f".split(" "),STANDALONESHORTWEEKDAYS:"\u0930\u0935\u093f \u0938\u094b\u092e \u092e\u0902\u0917\u0933 \u092c\u0941\u0927 \u0917\u0941\u0930\u0941 \u0936\u0941\u0915\u094d\u0930 \u0936\u0928\u093f".split(" "),NARROWWEEKDAYS:"\u0930 \u0938\u094b \u092e\u0902 \u092c\u0941 \u0917\u0941 \u0936\u0941 \u0936".split(" "),STANDALONENARROWWEEKDAYS:"\u0930 \u0938\u094b \u092e\u0902 \u092c\u0941 \u0917\u0941 \u0936\u0941 \u0936".split(" "),
SHORTQUARTERS:["\u0924\u093f\u0967","\u0924\u093f\u0968","\u0924\u093f\u0969","\u0924\u093f\u096a"],QUARTERS:["\u092a\u094d\u0930\u0925\u092e \u0924\u093f\u092e\u093e\u0939\u0940","\u0926\u094d\u0935\u093f\u0924\u0940\u092f \u0924\u093f\u092e\u093e\u0939\u0940","\u0924\u0943\u0924\u0940\u092f \u0924\u093f\u092e\u093e\u0939\u0940","\u091a\u0924\u0941\u0930\u094d\u0925 \u0924\u093f\u092e\u093e\u0939\u0940"],AMPMS:["\u092e.\u092a\u0942.","\u092e.\u0909."],DATEFORMATS:["EEEE, d MMMM, y","d MMMM, y","d MMM, y",
"d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} \u0930\u094b\u091c\u0940 {0}","{1} \u0930\u094b\u091c\u0940 {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_ms={ERAS:["S.M.","TM"],ERANAMES:["S.M.","TM"],NARROWMONTHS:"JFMAMJJOSOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJOSOND".split(""),MONTHS:"Januari Februari Mac April Mei Jun Julai Ogos September Oktober November Disember".split(" "),STANDALONEMONTHS:"Januari Februari Mac April Mei Jun Julai Ogos September Oktober November Disember".split(" "),SHORTMONTHS:"Jan Feb Mac Apr Mei Jun Jul Ogo Sep Okt Nov Dis".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mac Apr Mei Jun Jul Ogo Sep Okt Nov Dis".split(" "),
WEEKDAYS:"Ahad Isnin Selasa Rabu Khamis Jumaat Sabtu".split(" "),STANDALONEWEEKDAYS:"Ahad Isnin Selasa Rabu Khamis Jumaat Sabtu".split(" "),SHORTWEEKDAYS:"Ahd Isn Sel Rab Kha Jum Sab".split(" "),STANDALONESHORTWEEKDAYS:"Ahd Isn Sel Rab Kha Jum Sab".split(" "),NARROWWEEKDAYS:"AISRKJS".split(""),STANDALONENARROWWEEKDAYS:"AISRKJS".split(""),SHORTQUARTERS:["S1","S2","S3","S4"],QUARTERS:["Suku pertama","Suku Ke-2","Suku Ke-3","Suku Ke-4"],AMPMS:["PG","PTG"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y",
"d/MM/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_mt={ERAS:["QK","WK"],ERANAMES:["Qabel Kristu","Wara Kristu"],NARROWMONTHS:"JFMAM\u0120LASOND".split(""),STANDALONENARROWMONTHS:"Jn Fr Mz Ap Mj \u0120n Lj Aw St Ob Nv D\u010b".split(" "),MONTHS:"Jannar Frar Marzu April Mejju \u0120unju Lulju Awwissu Settembru Ottubru Novembru Di\u010bembru".split(" "),STANDALONEMONTHS:"Jannar Frar Marzu April Mejju \u0120unju Lulju Awwissu Settembru Ottubru Novembru Di\u010bembru".split(" "),SHORTMONTHS:"Jan Fra Mar Apr Mej \u0120un Lul Aww Set Ott Nov Di\u010b".split(" "),
STANDALONESHORTMONTHS:"Jan Fra Mar Apr Mej \u0120un Lul Aww Set Ott Nov Di\u010b".split(" "),WEEKDAYS:"Il-\u0126add It-Tnejn It-Tlieta L-Erbg\u0127a Il-\u0126amis Il-\u0120img\u0127a Is-Sibt".split(" "),STANDALONEWEEKDAYS:"Il-\u0126add It-Tnejn It-Tlieta L-Erbg\u0127a Il-\u0126amis Il-\u0120img\u0127a Is-Sibt".split(" "),SHORTWEEKDAYS:"\u0126ad Tne Tli Erb \u0126am \u0120im Sib".split(" "),STANDALONESHORTWEEKDAYS:"\u0126ad Tne Tli Erb \u0126am \u0120im Sib".split(" "),NARROWWEEKDAYS:"\u0126d T Tl Er \u0126m \u0120m Sb".split(" "),
STANDALONENARROWWEEKDAYS:"\u0126d Tn Tl Er \u0126m \u0120m Sb".split(" "),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["1el kwart","2ni kwart","3et kwart","4ba\u2019 kwart"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d 'ta'\u2019 MMMM y","d 'ta'\u2019 MMMM y","dd MMM y","dd/MM/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_my={ZERODIGIT:4160,ERAS:["\u1018\u102e\u1005\u102e","\u1021\u1031\u1012\u102e"],ERANAMES:["\u1001\u101b\u1005\u103a\u1010\u1031\u102c\u103a \u1019\u1015\u1031\u102b\u103a\u1019\u102e\u1014\u103e\u1005\u103a","\u1001\u101b\u1005\u103a\u1014\u103e\u1005\u103a"],NARROWMONTHS:"\u1007\u1016\u1019\u1027\u1019\u1007\u1007\u1029\u1005\u1021\u1014\u1012".split(""),STANDALONENARROWMONTHS:"\u1007\u1016\u1019\u1027\u1019\u1007\u1007\u1029\u1005\u1021\u1014\u1012".split(""),MONTHS:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e \u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e \u1019\u1010\u103a \u1027\u1015\u103c\u102e \u1019\u1031 \u1007\u103d\u1014\u103a \u1007\u1030\u101c\u102d\u102f\u1004\u103a \u1029\u1002\u102f\u1010\u103a \u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c \u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c \u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c \u1012\u102e\u1007\u1004\u103a\u1018\u102c".split(" "),
STANDALONEMONTHS:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e \u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e \u1019\u1010\u103a \u1027\u1015\u103c\u102e \u1019\u1031 \u1007\u103d\u1014\u103a \u1007\u1030\u101c\u102d\u102f\u1004\u103a \u1029\u1002\u102f\u1010\u103a \u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c \u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c \u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c \u1012\u102e\u1007\u1004\u103a\u1018\u102c".split(" "),SHORTMONTHS:"\u1007\u1014\u103a \u1016\u1031 \u1019\u1010\u103a \u1027 \u1019\u1031 \u1007\u103d\u1014\u103a \u1007\u1030 \u1029 \u1005\u1000\u103a \u1021\u1031\u102c\u1000\u103a \u1014\u102d\u102f \u1012\u102e".split(" "),
STANDALONESHORTMONTHS:"\u1007\u1014\u103a \u1016\u1031 \u1019\u1010\u103a \u1027 \u1019\u1031 \u1007\u103d\u1014\u103a \u1007\u1030 \u1029 \u1005\u1000\u103a \u1021\u1031\u102c\u1000\u103a \u1014\u102d\u102f \u1012\u102e".split(" "),WEEKDAYS:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031 \u1010\u1014\u1004\u103a\u1039\u101c\u102c \u1021\u1004\u103a\u1039\u1002\u102b \u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038 \u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038 \u101e\u1031\u102c\u1000\u103c\u102c \u1005\u1014\u1031".split(" "),
STANDALONEWEEKDAYS:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031 \u1010\u1014\u1004\u103a\u1039\u101c\u102c \u1021\u1004\u103a\u1039\u1002\u102b \u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038 \u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038 \u101e\u1031\u102c\u1000\u103c\u102c \u1005\u1014\u1031".split(" "),SHORTWEEKDAYS:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031 \u1010\u1014\u1004\u103a\u1039\u101c\u102c \u1021\u1004\u103a\u1039\u1002\u102b \u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038 \u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038 \u101e\u1031\u102c\u1000\u103c\u102c \u1005\u1014\u1031".split(" "),
STANDALONESHORTWEEKDAYS:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031 \u1010\u1014\u1004\u103a\u1039\u101c\u102c \u1021\u1004\u103a\u1039\u1002\u102b \u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038 \u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038 \u101e\u1031\u102c\u1000\u103c\u102c \u1005\u1014\u1031".split(" "),NARROWWEEKDAYS:"\u1010\u1010\u1021\u1017\u1000\u101e\u1005".split(""),STANDALONENARROWWEEKDAYS:"\u1010\u1010\u1021\u1017\u1000\u101e\u1005".split(""),SHORTQUARTERS:["\u1015\u1011\u1019 \u101e\u102f\u1036\u1038\u101c\u1015\u1010\u103a",
"\u1012\u102f\u1010\u102d\u101a \u101e\u102f\u1036\u1038\u101c\u1015\u1010\u103a","\u1010\u1010\u102d\u101a \u101e\u102f\u1036\u1038\u101c\u1015\u1010\u103a","\u1005\u1010\u102f\u1010\u1039\u1011 \u101e\u102f\u1036\u1038\u101c\u1015\u1010\u103a"],QUARTERS:["\u1015\u1011\u1019 \u101e\u102f\u1036\u1038\u101c\u1015\u1010\u103a","\u1012\u102f\u1010\u102d\u101a \u101e\u102f\u1036\u1038\u101c\u1015\u1010\u103a","\u1010\u1010\u102d\u101a \u101e\u102f\u1036\u1038\u101c\u1015\u1010\u103a","\u1005\u1010\u102f\u1010\u1039\u1011 \u101e\u102f\u1036\u1038\u101c\u1015\u1010\u103a"],
AMPMS:["\u1014\u1036\u1014\u1000\u103a","\u100a\u1014\u1031"],DATEFORMATS:["EEEE d MMMM y","d MMMM y","d MMM y","dd-MM-yy"],TIMEFORMATS:["zzzz HH:mm:ss","z HH:mm:ss","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_nb={ERAS:["f.Kr.","e.Kr."],ERANAMES:["f\u00f8r Kristus","etter Kristus"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"januar februar mars april mai juni juli august september oktober november desember".split(" "),STANDALONEMONTHS:"januar februar mars april mai juni juli august september oktober november desember".split(" "),SHORTMONTHS:"jan. feb. mar. apr. mai jun. jul. aug. sep. okt. nov. des.".split(" "),STANDALONESHORTMONTHS:"jan feb mar apr mai jun jul aug sep okt nov des".split(" "),
WEEKDAYS:"s\u00f8ndag mandag tirsdag onsdag torsdag fredag l\u00f8rdag".split(" "),STANDALONEWEEKDAYS:"s\u00f8ndag mandag tirsdag onsdag torsdag fredag l\u00f8rdag".split(" "),SHORTWEEKDAYS:"s\u00f8n. man. tir. ons. tor. fre. l\u00f8r.".split(" "),STANDALONESHORTWEEKDAYS:"s\u00f8n. man. tir. ons. tor. fre. l\u00f8r.".split(" "),NARROWWEEKDAYS:"SMTOTFL".split(""),STANDALONENARROWWEEKDAYS:"SMTOTFL".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"],
AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE d. MMMM y","d. MMMM y","d. MMM y","dd.MM.y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} 'kl'. {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_ne={ZERODIGIT:2406,ERAS:["\u0908\u0938\u093e \u092a\u0942\u0930\u094d\u0935","\u0938\u0928\u094d"],ERANAMES:["\u0908\u0938\u093e \u092a\u0942\u0930\u094d\u0935","\u0938\u0928\u094d"],NARROWMONTHS:"\u0967 \u0968 \u0969 \u096a \u096b \u096c \u096d \u096e \u096f \u0967\u0966 \u0967\u0967 \u0967\u0968".split(" "),STANDALONENARROWMONTHS:"\u0967 \u0968 \u0969 \u096a \u096b \u096c \u096d \u096e \u096f \u0967\u0966 \u0967\u0967 \u0967\u0968".split(" "),MONTHS:"\u091c\u0928\u0935\u0930\u0940 \u092b\u0947\u092c\u094d\u0930\u0941\u0905\u0930\u0940 \u092e\u093e\u0930\u094d\u091a \u0905\u092a\u094d\u0930\u093f\u0932 \u092e\u0908 \u091c\u0941\u0928 \u091c\u0941\u0932\u093e\u0908 \u0905\u0917\u0938\u094d\u091f \u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930 \u0905\u0915\u094d\u091f\u094b\u092c\u0930 \u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930 \u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split(" "),
STANDALONEMONTHS:"\u091c\u0928\u0935\u0930\u0940 \u092b\u0947\u092c\u094d\u0930\u0941\u0905\u0930\u0940 \u092e\u093e\u0930\u094d\u091a \u0905\u092a\u094d\u0930\u093f\u0932 \u092e\u0947 \u091c\u0941\u0928 \u091c\u0941\u0932\u093e\u0908 \u0905\u0917\u0938\u094d\u091f \u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930 \u0905\u0915\u094d\u091f\u094b\u092c\u0930 \u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930 \u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split(" "),SHORTMONTHS:"\u091c\u0928\u0935\u0930\u0940 \u092b\u0947\u092c\u094d\u0930\u0941\u0905\u0930\u0940 \u092e\u093e\u0930\u094d\u091a \u0905\u092a\u094d\u0930\u093f\u0932 \u092e\u0947 \u091c\u0941\u0928 \u091c\u0941\u0932\u093e\u0908 \u0905\u0917\u0938\u094d\u091f \u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930 \u0905\u0915\u094d\u091f\u094b\u092c\u0930 \u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930 \u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split(" "),
STANDALONESHORTMONTHS:"\u091c\u0928\u0935\u0930\u0940 \u092b\u0947\u092c\u094d\u0930\u0941\u0905\u0930\u0940 \u092e\u093e\u0930\u094d\u091a \u0905\u092a\u094d\u0930\u093f\u0932 \u092e\u0947 \u091c\u0941\u0928 \u091c\u0941\u0932\u093e\u0908 \u0905\u0917\u0938\u094d\u091f \u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930 \u0905\u0915\u094d\u091f\u094b\u092c\u0930 \u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930 \u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split(" "),WEEKDAYS:"\u0906\u0907\u0924\u092c\u093e\u0930 \u0938\u094b\u092e\u092c\u093e\u0930 \u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930 \u092c\u0941\u0927\u092c\u093e\u0930 \u092c\u093f\u0939\u093f\u092c\u093e\u0930 \u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930 \u0936\u0928\u093f\u092c\u093e\u0930".split(" "),
STANDALONEWEEKDAYS:"\u0906\u0907\u0924\u092c\u093e\u0930 \u0938\u094b\u092e\u092c\u093e\u0930 \u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930 \u092c\u0941\u0927\u092c\u093e\u0930 \u092c\u093f\u0939\u093f\u092c\u093e\u0930 \u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930 \u0936\u0928\u093f\u092c\u093e\u0930".split(" "),SHORTWEEKDAYS:"\u0906\u0907\u0924 \u0938\u094b\u092e \u092e\u0919\u094d\u0917\u0932 \u092c\u0941\u0927 \u092c\u093f\u0939\u093f \u0936\u0941\u0915\u094d\u0930 \u0936\u0928\u093f".split(" "),
STANDALONESHORTWEEKDAYS:"\u0906\u0907\u0924 \u0938\u094b\u092e \u092e\u0919\u094d\u0917\u0932 \u092c\u0941\u0927 \u092c\u093f\u0939\u093f \u0936\u0941\u0915\u094d\u0930 \u0936\u0928\u093f".split(" "),NARROWWEEKDAYS:"\u0906 \u0938\u094b \u092e \u092c\u0941 \u092c\u093f \u0936\u0941 \u0936".split(" "),STANDALONENARROWWEEKDAYS:"\u0906 \u0938\u094b \u092e \u092c\u0941 \u092c\u093f \u0936\u0941 \u0936".split(" "),SHORTQUARTERS:["\u092a\u0939\u093f\u0932\u094b \u0938\u0924\u094d\u0930","\u0926\u094b\u0938\u094d\u0930\u094b \u0938\u0924\u094d\u0930",
"\u0924\u0947\u0938\u094d\u0930\u094b \u0938\u0924\u094d\u0930","\u091a\u094c\u0925\u094b \u0938\u0924\u094d\u0930"],QUARTERS:["\u092a\u0939\u093f\u0932\u094b \u0938\u0924\u094d\u0930","\u0926\u094b\u0938\u094d\u0930\u094b \u0938\u0924\u094d\u0930","\u0924\u0947\u0938\u094d\u0930\u094b \u0938\u0924\u094d\u0930","\u091a\u094c\u0925\u094b \u0938\u0924\u094d\u0930"],AMPMS:["\u092a\u0942\u0930\u094d\u0935\u093e\u0939\u094d\u0928","\u0905\u092a\u0930\u093e\u0939\u094d\u0928"],DATEFORMATS:["y MMMM d, EEEE",
"y MMMM d","y MMM d","y-MM-dd"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_nl={ERAS:["v.Chr.","n.Chr."],ERANAMES:["voor Christus","na Christus"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"januari februari maart april mei juni juli augustus september oktober november december".split(" "),STANDALONEMONTHS:"januari februari maart april mei juni juli augustus september oktober november december".split(" "),SHORTMONTHS:"jan. feb. mrt. apr. mei jun. jul. aug. sep. okt. nov. dec.".split(" "),STANDALONESHORTMONTHS:"jan. feb. mrt. apr. mei jun. jul. aug. sep. okt. nov. dec.".split(" "),
WEEKDAYS:"zondag maandag dinsdag woensdag donderdag vrijdag zaterdag".split(" "),STANDALONEWEEKDAYS:"zondag maandag dinsdag woensdag donderdag vrijdag zaterdag".split(" "),SHORTWEEKDAYS:"zo ma di wo do vr za".split(" "),STANDALONESHORTWEEKDAYS:"zo ma di wo do vr za".split(" "),NARROWWEEKDAYS:"ZMDWDVZ".split(""),STANDALONENARROWWEEKDAYS:"ZMDWDVZ".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE d MMMM y",
"d MMMM y","d MMM y","dd-MM-yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'om' {0}","{1} 'om' {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_no={ERAS:["f.Kr.","e.Kr."],ERANAMES:["f\u00f8r Kristus","etter Kristus"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"januar februar mars april mai juni juli august september oktober november desember".split(" "),STANDALONEMONTHS:"januar februar mars april mai juni juli august september oktober november desember".split(" "),SHORTMONTHS:"jan. feb. mar. apr. mai jun. jul. aug. sep. okt. nov. des.".split(" "),STANDALONESHORTMONTHS:"jan feb mar apr mai jun jul aug sep okt nov des".split(" "),
WEEKDAYS:"s\u00f8ndag mandag tirsdag onsdag torsdag fredag l\u00f8rdag".split(" "),STANDALONEWEEKDAYS:"s\u00f8ndag mandag tirsdag onsdag torsdag fredag l\u00f8rdag".split(" "),SHORTWEEKDAYS:"s\u00f8n. man. tir. ons. tor. fre. l\u00f8r.".split(" "),STANDALONESHORTWEEKDAYS:"s\u00f8n. man. tir. ons. tor. fre. l\u00f8r.".split(" "),NARROWWEEKDAYS:"SMTOTFL".split(""),STANDALONENARROWWEEKDAYS:"SMTOTFL".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"],
AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE d. MMMM y","d. MMMM y","d. MMM y","dd.MM.y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} 'kl'. {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};goog.i18n.DateTimeSymbols_no_NO=goog.i18n.DateTimeSymbols_no;
goog.i18n.DateTimeSymbols_or={ERAS:["BCE","CE"],ERANAMES:["BCE","CE"],NARROWMONTHS:"\u0b1c\u0b3e \u0b2b\u0b47 \u0b2e\u0b3e \u0b05 \u0b2e\u0b07 \u0b1c\u0b41 \u0b1c\u0b41 \u0b05 \u0b38\u0b47 \u0b05 \u0b28 \u0b21\u0b3f".split(" "),STANDALONENARROWMONTHS:"\u0b1c\u0b3e \u0b2b\u0b47 \u0b2e\u0b3e \u0b05 \u0b2e\u0b07 \u0b1c\u0b41 \u0b1c\u0b41 \u0b05 \u0b38\u0b47 \u0b05 \u0b28 \u0b21\u0b3f".split(" "),MONTHS:"\u0b1c\u0b3e\u0b28\u0b41\u0b06\u0b30\u0b40 \u0b2b\u0b47\u0b2c\u0b43\u0b06\u0b30\u0b40 \u0b2e\u0b3e\u0b30\u0b4d\u0b1a\u0b4d\u0b1a \u0b05\u0b2a\u0b4d\u0b30\u0b47\u0b32 \u0b2e\u0b07 \u0b1c\u0b41\u0b28 \u0b1c\u0b41\u0b32\u0b3e\u0b07 \u0b05\u0b17\u0b37\u0b4d\u0b1f \u0b38\u0b47\u0b2a\u0b4d\u0b1f\u0b47\u0b2e\u0b4d\u0b2c\u0b30 \u0b05\u0b15\u0b4d\u0b1f\u0b4b\u0b2c\u0b30 \u0b28\u0b2d\u0b47\u0b2e\u0b4d\u0b2c\u0b30 \u0b21\u0b3f\u0b38\u0b47\u0b2e\u0b4d\u0b2c\u0b30".split(" "),
STANDALONEMONTHS:"\u0b1c\u0b3e\u0b28\u0b41\u0b06\u0b30\u0b40 \u0b2b\u0b47\u0b2c\u0b43\u0b06\u0b30\u0b40 \u0b2e\u0b3e\u0b30\u0b4d\u0b1a\u0b4d\u0b1a \u0b05\u0b2a\u0b4d\u0b30\u0b47\u0b32 \u0b2e\u0b07 \u0b1c\u0b41\u0b28 \u0b1c\u0b41\u0b32\u0b3e\u0b07 \u0b05\u0b17\u0b37\u0b4d\u0b1f \u0b38\u0b47\u0b2a\u0b4d\u0b1f\u0b47\u0b2e\u0b4d\u0b2c\u0b30 \u0b05\u0b15\u0b4d\u0b1f\u0b4b\u0b2c\u0b30 \u0b28\u0b2d\u0b47\u0b2e\u0b4d\u0b2c\u0b30 \u0b21\u0b3f\u0b38\u0b47\u0b2e\u0b4d\u0b2c\u0b30".split(" "),SHORTMONTHS:"\u0b1c\u0b3e\u0b28\u0b41\u0b06\u0b30\u0b40 \u0b2b\u0b47\u0b2c\u0b43\u0b06\u0b30\u0b40 \u0b2e\u0b3e\u0b30\u0b4d\u0b1a\u0b4d\u0b1a \u0b05\u0b2a\u0b4d\u0b30\u0b47\u0b32 \u0b2e\u0b07 \u0b1c\u0b41\u0b28 \u0b1c\u0b41\u0b32\u0b3e\u0b07 \u0b05\u0b17\u0b37\u0b4d\u0b1f \u0b38\u0b47\u0b2a\u0b4d\u0b1f\u0b47\u0b2e\u0b4d\u0b2c\u0b30 \u0b05\u0b15\u0b4d\u0b1f\u0b4b\u0b2c\u0b30 \u0b28\u0b2d\u0b47\u0b2e\u0b4d\u0b2c\u0b30 \u0b21\u0b3f\u0b38\u0b47\u0b2e\u0b4d\u0b2c\u0b30".split(" "),
STANDALONESHORTMONTHS:"\u0b1c\u0b3e\u0b28\u0b41\u0b06\u0b30\u0b40 \u0b2b\u0b47\u0b2c\u0b43\u0b06\u0b30\u0b40 \u0b2e\u0b3e\u0b30\u0b4d\u0b1a\u0b4d\u0b1a \u0b05\u0b2a\u0b4d\u0b30\u0b47\u0b32 \u0b2e\u0b07 \u0b1c\u0b41\u0b28 \u0b1c\u0b41\u0b32\u0b3e\u0b07 \u0b05\u0b17\u0b37\u0b4d\u0b1f \u0b38\u0b47\u0b2a\u0b4d\u0b1f\u0b47\u0b2e\u0b4d\u0b2c\u0b30 \u0b05\u0b15\u0b4d\u0b1f\u0b4b\u0b2c\u0b30 \u0b28\u0b2d\u0b47\u0b2e\u0b4d\u0b2c\u0b30 \u0b21\u0b3f\u0b38\u0b47\u0b2e\u0b4d\u0b2c\u0b30".split(" "),WEEKDAYS:"\u0b30\u0b2c\u0b3f\u0b2c\u0b3e\u0b30 \u0b38\u0b4b\u0b2e\u0b2c\u0b3e\u0b30 \u0b2e\u0b19\u0b4d\u0b17\u0b33\u0b2c\u0b3e\u0b30 \u0b2c\u0b41\u0b27\u0b2c\u0b3e\u0b30 \u0b17\u0b41\u0b30\u0b41\u0b2c\u0b3e\u0b30 \u0b36\u0b41\u0b15\u0b4d\u0b30\u0b2c\u0b3e\u0b30 \u0b36\u0b28\u0b3f\u0b2c\u0b3e\u0b30".split(" "),
STANDALONEWEEKDAYS:"\u0b30\u0b2c\u0b3f\u0b2c\u0b3e\u0b30 \u0b38\u0b4b\u0b2e\u0b2c\u0b3e\u0b30 \u0b2e\u0b19\u0b4d\u0b17\u0b33\u0b2c\u0b3e\u0b30 \u0b2c\u0b41\u0b27\u0b2c\u0b3e\u0b30 \u0b17\u0b41\u0b30\u0b41\u0b2c\u0b3e\u0b30 \u0b36\u0b41\u0b15\u0b4d\u0b30\u0b2c\u0b3e\u0b30 \u0b36\u0b28\u0b3f\u0b2c\u0b3e\u0b30".split(" "),SHORTWEEKDAYS:"\u0b30\u0b2c\u0b3f \u0b38\u0b4b\u0b2e \u0b2e\u0b19\u0b4d\u0b17\u0b33 \u0b2c\u0b41\u0b27 \u0b17\u0b41\u0b30\u0b41 \u0b36\u0b41\u0b15\u0b4d\u0b30 \u0b36\u0b28\u0b3f".split(" "),
STANDALONESHORTWEEKDAYS:"\u0b30\u0b2c\u0b3f \u0b38\u0b4b\u0b2e \u0b2e\u0b19\u0b4d\u0b17\u0b33 \u0b2c\u0b41\u0b27 \u0b17\u0b41\u0b30\u0b41 \u0b36\u0b41\u0b15\u0b4d\u0b30 \u0b36\u0b28\u0b3f".split(" "),NARROWWEEKDAYS:"\u0b30 \u0b38\u0b4b \u0b2e \u0b2c\u0b41 \u0b17\u0b41 \u0b36\u0b41 \u0b36".split(" "),STANDALONENARROWWEEKDAYS:"\u0b30 \u0b38\u0b4b \u0b2e \u0b2c\u0b41 \u0b17\u0b41 \u0b36\u0b41 \u0b36".split(" "),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["Q1","Q2","Q3","Q4"],AMPMS:["am","pm"],DATEFORMATS:["EEEE, d MMMM y",
"d MMMM y","d MMM y","d-M-yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_pa={ERAS:["\u0a08. \u0a2a\u0a42.","\u0a38\u0a70\u0a28"],ERANAMES:["\u0a08\u0a38\u0a35\u0a40 \u0a2a\u0a42\u0a30\u0a35","\u0a08\u0a38\u0a35\u0a40 \u0a38\u0a70\u0a28"],NARROWMONTHS:"\u0a1c \u0a2b\u0a3c \u0a2e\u0a3e \u0a05 \u0a2e \u0a1c\u0a42 \u0a1c\u0a41 \u0a05 \u0a38 \u0a05 \u0a28 \u0a26".split(" "),STANDALONENARROWMONTHS:"\u0a1c \u0a2b\u0a3c \u0a2e\u0a3e \u0a05 \u0a2e \u0a1c\u0a42 \u0a1c\u0a41 \u0a05 \u0a38 \u0a05 \u0a28 \u0a26".split(" "),MONTHS:"\u0a1c\u0a28\u0a35\u0a30\u0a40 \u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40 \u0a2e\u0a3e\u0a30\u0a1a \u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32 \u0a2e\u0a08 \u0a1c\u0a42\u0a28 \u0a1c\u0a41\u0a32\u0a3e\u0a08 \u0a05\u0a17\u0a38\u0a24 \u0a38\u0a24\u0a70\u0a2c\u0a30 \u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30 \u0a28\u0a35\u0a70\u0a2c\u0a30 \u0a26\u0a38\u0a70\u0a2c\u0a30".split(" "),
STANDALONEMONTHS:"\u0a1c\u0a28\u0a35\u0a30\u0a40 \u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40 \u0a2e\u0a3e\u0a30\u0a1a \u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32 \u0a2e\u0a08 \u0a1c\u0a42\u0a28 \u0a1c\u0a41\u0a32\u0a3e\u0a08 \u0a05\u0a17\u0a38\u0a24 \u0a38\u0a24\u0a70\u0a2c\u0a30 \u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30 \u0a28\u0a35\u0a70\u0a2c\u0a30 \u0a26\u0a38\u0a70\u0a2c\u0a30".split(" "),SHORTMONTHS:"\u0a1c\u0a28 \u0a2b\u0a3c\u0a30 \u0a2e\u0a3e\u0a30\u0a1a \u0a05\u0a2a\u0a4d\u0a30\u0a48 \u0a2e\u0a08 \u0a1c\u0a42\u0a28 \u0a1c\u0a41\u0a32\u0a3e \u0a05\u0a17 \u0a38\u0a24\u0a70 \u0a05\u0a15\u0a24\u0a42 \u0a28\u0a35\u0a70 \u0a26\u0a38\u0a70".split(" "),
STANDALONESHORTMONTHS:"\u0a1c\u0a28 \u0a2b\u0a3c\u0a30 \u0a2e\u0a3e\u0a30\u0a1a \u0a05\u0a2a\u0a4d\u0a30\u0a48 \u0a2e\u0a08 \u0a1c\u0a42\u0a28 \u0a1c\u0a41\u0a32\u0a3e \u0a05\u0a17 \u0a38\u0a24\u0a70 \u0a05\u0a15\u0a24\u0a42 \u0a28\u0a35\u0a70 \u0a26\u0a38\u0a70".split(" "),WEEKDAYS:"\u0a10\u0a24\u0a35\u0a3e\u0a30 \u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30 \u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30 \u0a2c\u0a41\u0a71\u0a27\u0a35\u0a3e\u0a30 \u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30 \u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30 \u0a38\u0a3c\u0a28\u0a3f\u0a71\u0a1a\u0a30\u0a35\u0a3e\u0a30".split(" "),
STANDALONEWEEKDAYS:"\u0a10\u0a24\u0a35\u0a3e\u0a30 \u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30 \u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30 \u0a2c\u0a41\u0a71\u0a27\u0a35\u0a3e\u0a30 \u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30 \u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30 \u0a38\u0a3c\u0a28\u0a3f\u0a71\u0a1a\u0a30\u0a35\u0a3e\u0a30".split(" "),SHORTWEEKDAYS:"\u0a10\u0a24 \u0a38\u0a4b\u0a2e \u0a2e\u0a70\u0a17\u0a32 \u0a2c\u0a41\u0a71\u0a27 \u0a35\u0a40\u0a30 \u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30 \u0a38\u0a3c\u0a28\u0a3f\u0a71\u0a1a\u0a30".split(" "),
STANDALONESHORTWEEKDAYS:"\u0a10\u0a24 \u0a38\u0a4b\u0a2e \u0a2e\u0a70\u0a17\u0a32 \u0a2c\u0a41\u0a71\u0a27 \u0a35\u0a40\u0a30 \u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30 \u0a38\u0a3c\u0a28\u0a3f\u0a71\u0a1a\u0a30".split(" "),NARROWWEEKDAYS:"\u0a10 \u0a38\u0a4b \u0a2e\u0a70 \u0a2c\u0a41\u0a71 \u0a35\u0a40 \u0a38\u0a3c\u0a41\u0a71 \u0a38\u0a3c".split(" "),STANDALONENARROWWEEKDAYS:"\u0a10 \u0a38\u0a4b \u0a2e\u0a70 \u0a2c\u0a41\u0a71 \u0a35\u0a40 \u0a38\u0a3c\u0a41\u0a71 \u0a38\u0a3c".split(" "),SHORTQUARTERS:["\u0a24\u0a3f\u0a2e\u0a3e\u0a39\u0a401",
"\u0a24\u0a3f\u0a2e\u0a3e\u0a39\u0a402","\u0a24\u0a3f\u0a2e\u0a3e\u0a39\u0a403","\u0a24\u0a3f\u0a2e\u0a3e\u0a39\u0a404"],QUARTERS:["\u0a2a\u0a39\u0a3f\u0a32\u0a40 \u0a24\u0a3f\u0a2e\u0a3e\u0a39\u0a40","\u0a26\u0a42\u0a1c\u0a40 \u0a24\u0a3f\u0a2e\u0a3e\u0a39\u0a40","\u0a24\u0a40\u0a1c\u0a40 \u0a24\u0a3f\u0a2e\u0a3e\u0a39\u0a40","\u0a1a\u0a4c\u0a25\u0a40 \u0a24\u0a3f\u0a2e\u0a3e\u0a39\u0a40"],AMPMS:["\u0a2a\u0a42.\u0a26\u0a41.","\u0a2c\u0a3e.\u0a26\u0a41."],DATEFORMATS:["EEEE, d MMMM y","d MMMM y",
"d MMM y","d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_pl={ERAS:["p.n.e.","n.e."],ERANAMES:["przed nasz\u0105 er\u0105","naszej ery"],NARROWMONTHS:"slmkmclswplg".split(""),STANDALONENARROWMONTHS:"SLMKMCLSWPLG".split(""),MONTHS:"stycznia lutego marca kwietnia maja czerwca lipca sierpnia wrze\u015bnia pa\u017adziernika listopada grudnia".split(" "),STANDALONEMONTHS:"stycze\u0144 luty marzec kwiecie\u0144 maj czerwiec lipiec sierpie\u0144 wrzesie\u0144 pa\u017adziernik listopad grudzie\u0144".split(" "),SHORTMONTHS:"sty lut mar kwi maj cze lip sie wrz pa\u017a lis gru".split(" "),
STANDALONESHORTMONTHS:"sty lut mar kwi maj cze lip sie wrz pa\u017a lis gru".split(" "),WEEKDAYS:"niedziela poniedzia\u0142ek wtorek \u015broda czwartek pi\u0105tek sobota".split(" "),STANDALONEWEEKDAYS:"niedziela poniedzia\u0142ek wtorek \u015broda czwartek pi\u0105tek sobota".split(" "),SHORTWEEKDAYS:"niedz. pon. wt. \u015br. czw. pt. sob.".split(" "),STANDALONESHORTWEEKDAYS:"niedz. pon. wt. \u015br. czw. pt. sob.".split(" "),NARROWWEEKDAYS:"npw\u015bcps".split(""),STANDALONENARROWWEEKDAYS:"NPW\u015aCPS".split(""),
SHORTQUARTERS:["I kw.","II kw.","III kw.","IV kw."],QUARTERS:["I kwarta\u0142","II kwarta\u0142","III kwarta\u0142","IV kwarta\u0142"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","dd.MM.y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_pt={ERAS:["a.C.","d.C."],ERANAMES:["antes de Cristo","depois de Cristo"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"janeiro fevereiro mar\u00e7o abril maio junho julho agosto setembro outubro novembro dezembro".split(" "),STANDALONEMONTHS:"janeiro fevereiro mar\u00e7o abril maio junho julho agosto setembro outubro novembro dezembro".split(" "),SHORTMONTHS:"jan fev mar abr mai jun jul ago set out nov dez".split(" "),STANDALONESHORTMONTHS:"jan fev mar abr mai jun jul ago set out nov dez".split(" "),
WEEKDAYS:"domingo segunda-feira ter\u00e7a-feira quarta-feira quinta-feira sexta-feira s\u00e1bado".split(" "),STANDALONEWEEKDAYS:"domingo segunda-feira ter\u00e7a-feira quarta-feira quinta-feira sexta-feira s\u00e1bado".split(" "),SHORTWEEKDAYS:"dom seg ter qua qui sex s\u00e1b".split(" "),STANDALONESHORTWEEKDAYS:"dom seg ter qua qui sex s\u00e1b".split(" "),NARROWWEEKDAYS:"DSTQQSS".split(""),STANDALONENARROWWEEKDAYS:"DSTQQSS".split(""),SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["1\u00ba trimestre",
"2\u00ba trimestre","3\u00ba trimestre","4\u00ba trimestre"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","d 'de' MMM 'de' y","dd/MM/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};goog.i18n.DateTimeSymbols_pt_BR=goog.i18n.DateTimeSymbols_pt;
goog.i18n.DateTimeSymbols_pt_PT={ERAS:["a.C.","d.C."],ERANAMES:["antes de Cristo","depois de Cristo"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"janeiro fevereiro mar\u00e7o abril maio junho julho agosto setembro outubro novembro dezembro".split(" "),STANDALONEMONTHS:"janeiro fevereiro mar\u00e7o abril maio junho julho agosto setembro outubro novembro dezembro".split(" "),SHORTMONTHS:"jan fev mar abr mai jun jul ago set out nov dez".split(" "),STANDALONESHORTMONTHS:"jan fev mar abr mai jun jul ago set out nov dez".split(" "),
WEEKDAYS:"domingo segunda-feira ter\u00e7a-feira quarta-feira quinta-feira sexta-feira s\u00e1bado".split(" "),STANDALONEWEEKDAYS:"domingo segunda-feira ter\u00e7a-feira quarta-feira quinta-feira sexta-feira s\u00e1bado".split(" "),SHORTWEEKDAYS:"domingo segunda ter\u00e7a quarta quinta sexta s\u00e1bado".split(" "),STANDALONESHORTWEEKDAYS:"domingo segunda ter\u00e7a quarta quinta sexta s\u00e1bado".split(" "),NARROWWEEKDAYS:"DSTQQSS".split(""),STANDALONENARROWWEEKDAYS:"DSTQQSS".split(""),SHORTQUARTERS:["T1",
"T2","T3","T4"],QUARTERS:["1.\u00ba trimestre","2.\u00ba trimestre","3.\u00ba trimestre","4.\u00ba trimestre"],AMPMS:["da manh\u00e3","da tarde"],DATEFORMATS:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","dd/MM/y","dd/MM/yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} '\u00e0s' {0}","{1} '\u00e0s' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_ro={ERAS:["\u00ee.Hr.","d.Hr."],ERANAMES:["\u00eenainte de Hristos","dup\u0103 Hristos"],NARROWMONTHS:"IFMAMIIASOND".split(""),STANDALONENARROWMONTHS:"IFMAMIIASOND".split(""),MONTHS:"ianuarie februarie martie aprilie mai iunie iulie august septembrie octombrie noiembrie decembrie".split(" "),STANDALONEMONTHS:"ianuarie februarie martie aprilie mai iunie iulie august septembrie octombrie noiembrie decembrie".split(" "),SHORTMONTHS:"ian. feb. mar. apr. mai iun. iul. aug. sept. oct. nov. dec.".split(" "),
STANDALONESHORTMONTHS:"ian. feb. mar. apr. mai iun. iul. aug. sept. oct. nov. dec.".split(" "),WEEKDAYS:"duminic\u0103 luni mar\u021bi miercuri joi vineri s\u00e2mb\u0103t\u0103".split(" "),STANDALONEWEEKDAYS:"duminic\u0103 luni mar\u021bi miercuri joi vineri s\u00e2mb\u0103t\u0103".split(" "),SHORTWEEKDAYS:"dum. lun. mar. mie. joi vin. s\u00e2m.".split(" "),STANDALONESHORTWEEKDAYS:"dum. lun. mar. mie. joi vin. s\u00e2m.".split(" "),NARROWWEEKDAYS:"DLMMJVS".split(""),STANDALONENARROWWEEKDAYS:"DLMMJVS".split(""),
SHORTQUARTERS:["trim. I","trim. II","trim. III","trim. IV"],QUARTERS:["trimestrul I","trimestrul al II-lea","trimestrul al III-lea","trimestrul al IV-lea"],AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","dd.MM.y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_ru={ERAS:["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],ERANAMES:["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"],NARROWMONTHS:"\u042f\u0424\u041c\u0410\u041c\u0418\u0418\u0410\u0421\u041e\u041d\u0414".split(""),STANDALONENARROWMONTHS:"\u042f\u0424\u041c\u0410\u041c\u0418\u0418\u0410\u0421\u041e\u041d\u0414".split(""),
MONTHS:"\u044f\u043d\u0432\u0430\u0440\u044f \u0444\u0435\u0432\u0440\u0430\u043b\u044f \u043c\u0430\u0440\u0442\u0430 \u0430\u043f\u0440\u0435\u043b\u044f \u043c\u0430\u044f \u0438\u044e\u043d\u044f \u0438\u044e\u043b\u044f \u0430\u0432\u0433\u0443\u0441\u0442\u0430 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f \u043e\u043a\u0442\u044f\u0431\u0440\u044f \u043d\u043e\u044f\u0431\u0440\u044f \u0434\u0435\u043a\u0430\u0431\u0440\u044f".split(" "),STANDALONEMONTHS:"\u044f\u043d\u0432\u0430\u0440\u044c \u0444\u0435\u0432\u0440\u0430\u043b\u044c \u043c\u0430\u0440\u0442 \u0430\u043f\u0440\u0435\u043b\u044c \u043c\u0430\u0439 \u0438\u044e\u043d\u044c \u0438\u044e\u043b\u044c \u0430\u0432\u0433\u0443\u0441\u0442 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u043e\u043a\u0442\u044f\u0431\u0440\u044c \u043d\u043e\u044f\u0431\u0440\u044c \u0434\u0435\u043a\u0430\u0431\u0440\u044c".split(" "),
SHORTMONTHS:"\u044f\u043d\u0432. \u0444\u0435\u0432\u0440. \u043c\u0430\u0440. \u0430\u043f\u0440. \u043c\u0430\u044f \u0438\u044e\u043d. \u0438\u044e\u043b. \u0430\u0432\u0433. \u0441\u0435\u043d\u0442. \u043e\u043a\u0442. \u043d\u043e\u044f\u0431. \u0434\u0435\u043a.".split(" "),STANDALONESHORTMONTHS:"\u044f\u043d\u0432. \u0444\u0435\u0432\u0440. \u043c\u0430\u0440\u0442 \u0430\u043f\u0440. \u043c\u0430\u0439 \u0438\u044e\u043d\u044c \u0438\u044e\u043b\u044c \u0430\u0432\u0433. \u0441\u0435\u043d\u0442. \u043e\u043a\u0442. \u043d\u043e\u044f\u0431. \u0434\u0435\u043a.".split(" "),
WEEKDAYS:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0435\u0440\u0433 \u043f\u044f\u0442\u043d\u0438\u0446\u0430 \u0441\u0443\u0431\u0431\u043e\u0442\u0430".split(" "),STANDALONEWEEKDAYS:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0435\u0440\u0433 \u043f\u044f\u0442\u043d\u0438\u0446\u0430 \u0441\u0443\u0431\u0431\u043e\u0442\u0430".split(" "),
SHORTWEEKDAYS:"\u0432\u0441 \u043f\u043d \u0432\u0442 \u0441\u0440 \u0447\u0442 \u043f\u0442 \u0441\u0431".split(" "),STANDALONESHORTWEEKDAYS:"\u0432\u0441 \u043f\u043d \u0432\u0442 \u0441\u0440 \u0447\u0442 \u043f\u0442 \u0441\u0431".split(" "),NARROWWEEKDAYS:"\u0432\u0441 \u043f\u043d \u0432\u0442 \u0441\u0440 \u0447\u0442 \u043f\u0442 \u0441\u0431".split(" "),STANDALONENARROWWEEKDAYS:"\u0412\u041f\u0412\u0421\u0427\u041f\u0421".split(""),SHORTQUARTERS:["1-\u0439 \u043a\u0432.","2-\u0439 \u043a\u0432.",
"3-\u0439 \u043a\u0432.","4-\u0439 \u043a\u0432."],QUARTERS:["1-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","2-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","3-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","4-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b"],AMPMS:["\u0414\u041f","\u041f\u041f"],DATEFORMATS:["EEEE, d MMMM y '\u0433'.","d MMMM y '\u0433'.","d MMM y '\u0433'.","dd.MM.y"],TIMEFORMATS:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}",
"{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_sh={ERAS:["p. n. e.","n. e."],ERANAMES:["pre nove ere","nove ere"],NARROWMONTHS:"jfmamjjasond".split(""),STANDALONENARROWMONTHS:"jfmamjjasond".split(""),MONTHS:"januar februar mart april maj jun jul avgust septembar oktobar novembar decembar".split(" "),STANDALONEMONTHS:"januar februar mart april maj jun jul avgust septembar oktobar novembar decembar".split(" "),SHORTMONTHS:"jan feb mar apr maj jun jul avg sep okt nov dec".split(" "),STANDALONESHORTMONTHS:"jan feb mar apr maj jun jul avg sep okt nov dec".split(" "),
WEEKDAYS:"nedelja ponedeljak utorak sreda \u010detvrtak petak subota".split(" "),STANDALONEWEEKDAYS:"nedelja ponedeljak utorak sreda \u010detvrtak petak subota".split(" "),SHORTWEEKDAYS:"ned pon uto sre \u010det pet sub".split(" "),STANDALONESHORTWEEKDAYS:"ned pon uto sre \u010det pet sub".split(" "),NARROWWEEKDAYS:"npus\u010dps".split(""),STANDALONENARROWWEEKDAYS:"npus\u010dps".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["prvi kvartal","drugi kvartal","tre\u0107i kvartal","\u010detvrti kvartal"],
AMPMS:["pre podne","po podne"],DATEFORMATS:["EEEE, dd. MMMM y.","dd. MMMM y.","dd.MM.y.","d.M.yy."],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_si={ERAS:["\u0d9a\u0dca\u200d\u0dbb\u0dd2.\u0db4\u0dd6.","\u0d9a\u0dca\u200d\u0dbb\u0dd2.\u0dc0."],ERANAMES:["\u0d9a\u0dca\u200d\u0dbb\u0dd2\u0dc3\u0dca\u0dad\u0dd4 \u0db4\u0dd6\u0dbb\u0dca\u0dc0","\u0d9a\u0dca\u200d\u0dbb\u0dd2\u0dc3\u0dca\u0dad\u0dd4 \u0dc0\u0dbb\u0dca\u0dc2"],NARROWMONTHS:"\u0da2 \u0db4\u0dd9 \u0db8\u0dcf \u0d85 \u0db8\u0dd0 \u0da2\u0dd6 \u0da2\u0dd6 \u0d85 \u0dc3\u0dd0 \u0d94 \u0db1\u0dd9 \u0daf\u0dd9".split(" "),STANDALONENARROWMONTHS:"\u0da2 \u0db4\u0dd9 \u0db8\u0dcf \u0d85 \u0db8\u0dd0 \u0da2\u0dd6 \u0da2\u0dd6 \u0d85 \u0dc3\u0dd0 \u0d94 \u0db1\u0dd9 \u0daf\u0dd9".split(" "),
MONTHS:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2 \u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2 \u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4 \u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca \u0db8\u0dd0\u0dba\u0dd2 \u0da2\u0dd6\u0db1\u0dd2 \u0da2\u0dd6\u0dbd\u0dd2 \u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4 \u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca \u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca \u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca \u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split(" "),
STANDALONEMONTHS:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2 \u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2 \u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4 \u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca \u0db8\u0dd0\u0dba\u0dd2 \u0da2\u0dd6\u0db1\u0dd2 \u0da2\u0dd6\u0dbd\u0dd2 \u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4 \u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca \u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca \u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca \u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split(" "),
SHORTMONTHS:"\u0da2\u0db1 \u0db4\u0dd9\u0db6 \u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4 \u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca \u0db8\u0dd0\u0dba\u0dd2 \u0da2\u0dd6\u0db1\u0dd2 \u0da2\u0dd6\u0dbd\u0dd2 \u0d85\u0d9c\u0ddd \u0dc3\u0dd0\u0db4\u0dca \u0d94\u0d9a\u0dca \u0db1\u0ddc\u0dc0\u0dd0 \u0daf\u0dd9\u0dc3\u0dd0".split(" "),STANDALONESHORTMONTHS:"\u0da2\u0db1 \u0db4\u0dd9\u0db6 \u0db8\u0dcf\u0dbb\u0dca \u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca \u0db8\u0dd0\u0dba\u0dd2 \u0da2\u0dd6\u0db1\u0dd2 \u0da2\u0dd6\u0dbd\u0dd2 \u0d85\u0d9c\u0ddd \u0dc3\u0dd0\u0db4\u0dca \u0d94\u0d9a\u0dca \u0db1\u0ddc\u0dc0\u0dd0 \u0daf\u0dd9\u0dc3\u0dd0".split(" "),
WEEKDAYS:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf \u0dc3\u0db3\u0dd4\u0daf\u0dcf \u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf \u0db6\u0daf\u0dcf\u0daf\u0dcf \u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf \u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf \u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split(" "),STANDALONEWEEKDAYS:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf \u0dc3\u0db3\u0dd4\u0daf\u0dcf \u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf \u0db6\u0daf\u0dcf\u0daf\u0dcf \u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf \u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf \u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split(" "),
SHORTWEEKDAYS:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf \u0dc3\u0db3\u0dd4\u0daf\u0dcf \u0d85\u0d9f\u0dc4 \u0db6\u0daf\u0dcf\u0daf\u0dcf \u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca \u0dc3\u0dd2\u0d9a\u0dd4 \u0dc3\u0dd9\u0db1".split(" "),STANDALONESHORTWEEKDAYS:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf \u0dc3\u0db3\u0dd4\u0daf\u0dcf \u0d85\u0d9f\u0dc4 \u0db6\u0daf\u0dcf\u0daf\u0dcf \u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca \u0dc3\u0dd2\u0d9a\u0dd4 \u0dc3\u0dd9\u0db1".split(" "),NARROWWEEKDAYS:"\u0d89 \u0dc3 \u0d85 \u0db6 \u0db6\u0dca\u200d\u0dbb \u0dc3\u0dd2 \u0dc3\u0dd9".split(" "),
STANDALONENARROWWEEKDAYS:"\u0d89 \u0dc3 \u0d85 \u0db6 \u0db6\u0dca\u200d\u0dbb \u0dc3\u0dd2 \u0dc3\u0dd9".split(" "),SHORTQUARTERS:["\u0d9a\u0dcf\u0dbb\u0dca:1","\u0d9a\u0dcf\u0dbb\u0dca:2","\u0d9a\u0dcf\u0dbb\u0dca:3","\u0d9a\u0dcf\u0dbb\u0dca:4"],QUARTERS:["1 \u0dc0\u0db1 \u0d9a\u0dcf\u0dbb\u0dca\u0dad\u0dd4\u0dc0","2 \u0dc0\u0db1 \u0d9a\u0dcf\u0dbb\u0dca\u0dad\u0dd4\u0dc0","3 \u0dc0\u0db1 \u0d9a\u0dcf\u0dbb\u0dca\u0dad\u0dd4\u0dc0","4 \u0dc0\u0db1 \u0d9a\u0dcf\u0dbb\u0dca\u0dad\u0dd4\u0dc0"],AMPMS:["\u0db4\u0dd9.\u0dc0.",
"\u0db4.\u0dc0."],DATEFORMATS:["y MMMM d, EEEE","y MMMM d","y MMM d","y-MM-dd"],TIMEFORMATS:["HH.mm.ss zzzz","HH.mm.ss z","HH.mm.ss","HH.mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_sk={ERAS:["pred Kr.","po Kr."],ERANAMES:["pred Kristom","po Kristovi"],NARROWMONTHS:"jfmamjjasond".split(""),STANDALONENARROWMONTHS:"jfmamjjasond".split(""),MONTHS:"janu\u00e1ra febru\u00e1ra marca apr\u00edla m\u00e1ja j\u00fana j\u00fala augusta septembra okt\u00f3bra novembra decembra".split(" "),STANDALONEMONTHS:"janu\u00e1r febru\u00e1r marec apr\u00edl m\u00e1j j\u00fan j\u00fal august september okt\u00f3ber november december".split(" "),SHORTMONTHS:"jan feb mar apr m\u00e1j j\u00fan j\u00fal aug sep okt nov dec".split(" "),
STANDALONESHORTMONTHS:"jan feb mar apr m\u00e1j j\u00fan j\u00fal aug sep okt nov dec".split(" "),WEEKDAYS:"nede\u013ea pondelok utorok streda \u0161tvrtok piatok sobota".split(" "),STANDALONEWEEKDAYS:"nede\u013ea pondelok utorok streda \u0161tvrtok piatok sobota".split(" "),SHORTWEEKDAYS:"ne po ut st \u0161t pi so".split(" "),STANDALONESHORTWEEKDAYS:"ne po ut st \u0161t pi so".split(" "),NARROWWEEKDAYS:"npus\u0161ps".split(""),STANDALONENARROWWEEKDAYS:"npus\u0161ps".split(""),SHORTQUARTERS:["Q1",
"Q2","Q3","Q4"],QUARTERS:["1. \u0161tvr\u0165rok","2. \u0161tvr\u0165rok","3. \u0161tvr\u0165rok","4. \u0161tvr\u0165rok"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d. MMMM y","d. MMMM y","d. M. y","d. M. y"],TIMEFORMATS:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1}, {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_sl={ERAS:["pr. Kr.","po Kr."],ERANAMES:["pred Kristusom","po Kristusu"],NARROWMONTHS:"jfmamjjasond".split(""),STANDALONENARROWMONTHS:"jfmamjjasond".split(""),MONTHS:"januar februar marec april maj junij julij avgust september oktober november december".split(" "),STANDALONEMONTHS:"januar februar marec april maj junij julij avgust september oktober november december".split(" "),SHORTMONTHS:"jan. feb. mar. apr. maj jun. jul. avg. sep. okt. nov. dec.".split(" "),STANDALONESHORTMONTHS:"jan. feb. mar. apr. maj jun. jul. avg. sep. okt. nov. dec.".split(" "),
WEEKDAYS:"nedelja ponedeljek torek sreda \u010detrtek petek sobota".split(" "),STANDALONEWEEKDAYS:"nedelja ponedeljek torek sreda \u010detrtek petek sobota".split(" "),SHORTWEEKDAYS:"ned. pon. tor. sre. \u010det. pet. sob.".split(" "),STANDALONESHORTWEEKDAYS:"ned. pon. tor. sre. \u010det. pet. sob.".split(" "),NARROWWEEKDAYS:"npts\u010dps".split(""),STANDALONENARROWWEEKDAYS:"npts\u010dps".split(""),SHORTQUARTERS:["1. \u010det.","2. \u010det.","3. \u010det.","4. \u010det."],QUARTERS:["1. \u010detrtletje",
"2. \u010detrtletje","3. \u010detrtletje","4. \u010detrtletje"],AMPMS:["dop.","pop."],DATEFORMATS:["EEEE, dd. MMMM y","dd. MMMM y","d. MMM y","d. MM. yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_sq={ERAS:["p.K.","mb.K."],ERANAMES:["para Krishtit","mbas Krishtit"],NARROWMONTHS:"jsmpmqkgstnd".split(""),STANDALONENARROWMONTHS:"JSMPMQKGSTND".split(""),MONTHS:"janar shkurt mars prill maj qershor korrik gusht shtator tetor n\u00ebntor dhjetor".split(" "),STANDALONEMONTHS:"Janar Shkurt Mars Prill Maj Qershor Korrik Gusht Shtator Tetor N\u00ebntor Dhjetor".split(" "),SHORTMONTHS:"jan shk mar pri maj qer kor gsh sht tet n\u00ebn dhj".split(" "),STANDALONESHORTMONTHS:"Jan Shk Mar Pri Maj Qer Kor Gsh Sht Tet N\u00ebn Dhj".split(" "),
WEEKDAYS:"e diel;e h\u00ebn\u00eb;e mart\u00eb;e m\u00ebrkur\u00eb;e enjte;e premte;e shtun\u00eb".split(";"),STANDALONEWEEKDAYS:"E diel;E h\u00ebn\u00eb;E mart\u00eb;E m\u00ebrkur\u00eb;E enjte;E premte;E shtun\u00eb".split(";"),SHORTWEEKDAYS:"Die H\u00ebn Mar M\u00ebr Enj Pre Sht".split(" "),STANDALONESHORTWEEKDAYS:"Die H\u00ebn Mar M\u00ebr Enj Pre Sht".split(" "),NARROWWEEKDAYS:"DHMMEPS".split(""),STANDALONENARROWWEEKDAYS:"DHMMEPS".split(""),SHORTQUARTERS:["tremujori I","tremujori II","tremujori III",
"tremujori IV"],QUARTERS:["tremujori i par\u00eb","tremujori i dyt\u00eb","tremujori i tret\u00eb","tremujori i kat\u00ebrt"],AMPMS:["e paradites","e pasdites"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","d.M.yy"],TIMEFORMATS:["h:mm:ss a, zzzz","h:mm:ss a, z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'n\u00eb' {0}","{1} 'n\u00eb' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_sr={ERAS:["\u043f. \u043d. \u0435.","\u043d. \u0435."],ERANAMES:["\u043f\u0440\u0435 \u043d\u043e\u0432\u0435 \u0435\u0440\u0435","\u043d\u043e\u0432\u0435 \u0435\u0440\u0435"],NARROWMONTHS:"\u0458\u0444\u043c\u0430\u043c\u0458\u0458\u0430\u0441\u043e\u043d\u0434".split(""),STANDALONENARROWMONTHS:"\u0458\u0444\u043c\u0430\u043c\u0458\u0458\u0430\u0441\u043e\u043d\u0434".split(""),MONTHS:"\u0458\u0430\u043d\u0443\u0430\u0440 \u0444\u0435\u0431\u0440\u0443\u0430\u0440 \u043c\u0430\u0440\u0442 \u0430\u043f\u0440\u0438\u043b \u043c\u0430\u0458 \u0458\u0443\u043d \u0458\u0443\u043b \u0430\u0432\u0433\u0443\u0441\u0442 \u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440 \u043e\u043a\u0442\u043e\u0431\u0430\u0440 \u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440 \u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split(" "),
STANDALONEMONTHS:"\u0458\u0430\u043d\u0443\u0430\u0440 \u0444\u0435\u0431\u0440\u0443\u0430\u0440 \u043c\u0430\u0440\u0442 \u0430\u043f\u0440\u0438\u043b \u043c\u0430\u0458 \u0458\u0443\u043d \u0458\u0443\u043b \u0430\u0432\u0433\u0443\u0441\u0442 \u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440 \u043e\u043a\u0442\u043e\u0431\u0430\u0440 \u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440 \u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split(" "),SHORTMONTHS:"\u0458\u0430\u043d \u0444\u0435\u0431 \u043c\u0430\u0440 \u0430\u043f\u0440 \u043c\u0430\u0458 \u0458\u0443\u043d \u0458\u0443\u043b \u0430\u0432\u0433 \u0441\u0435\u043f \u043e\u043a\u0442 \u043d\u043e\u0432 \u0434\u0435\u0446".split(" "),
STANDALONESHORTMONTHS:"\u0458\u0430\u043d \u0444\u0435\u0431 \u043c\u0430\u0440 \u0430\u043f\u0440 \u043c\u0430\u0458 \u0458\u0443\u043d \u0458\u0443\u043b \u0430\u0432\u0433 \u0441\u0435\u043f \u043e\u043a\u0442 \u043d\u043e\u0432 \u0434\u0435\u0446".split(" "),WEEKDAYS:"\u043d\u0435\u0434\u0435\u0459\u0430 \u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a \u0443\u0442\u043e\u0440\u0430\u043a \u0441\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a \u043f\u0435\u0442\u0430\u043a \u0441\u0443\u0431\u043e\u0442\u0430".split(" "),
STANDALONEWEEKDAYS:"\u043d\u0435\u0434\u0435\u0459\u0430 \u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a \u0443\u0442\u043e\u0440\u0430\u043a \u0441\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a \u043f\u0435\u0442\u0430\u043a \u0441\u0443\u0431\u043e\u0442\u0430".split(" "),SHORTWEEKDAYS:"\u043d\u0435\u0434 \u043f\u043e\u043d \u0443\u0442\u043e \u0441\u0440\u0435 \u0447\u0435\u0442 \u043f\u0435\u0442 \u0441\u0443\u0431".split(" "),STANDALONESHORTWEEKDAYS:"\u043d\u0435\u0434 \u043f\u043e\u043d \u0443\u0442\u043e \u0441\u0440\u0435 \u0447\u0435\u0442 \u043f\u0435\u0442 \u0441\u0443\u0431".split(" "),
NARROWWEEKDAYS:"\u043d\u043f\u0443\u0441\u0447\u043f\u0441".split(""),STANDALONENARROWWEEKDAYS:"\u043d\u043f\u0443\u0441\u0447\u043f\u0441".split(""),SHORTQUARTERS:["\u041a1","\u041a2","\u041a3","\u041a4"],QUARTERS:["\u043f\u0440\u0432\u0438 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","\u0434\u0440\u0443\u0433\u0438 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","\u0442\u0440\u0435\u045b\u0438 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","\u0447\u0435\u0442\u0432\u0440\u0442\u0438 \u043a\u0432\u0430\u0440\u0442\u0430\u043b"],
AMPMS:["\u043f\u0440\u0435 \u043f\u043e\u0434\u043d\u0435","\u043f\u043e \u043f\u043e\u0434\u043d\u0435"],DATEFORMATS:["EEEE, dd. MMMM y.","dd. MMMM y.","dd.MM.y.","d.M.yy."],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_sr_Latn={ERAS:["p. n. e.","n. e."],ERANAMES:["pre nove ere","nove ere"],NARROWMONTHS:"jfmamjjasond".split(""),STANDALONENARROWMONTHS:"jfmamjjasond".split(""),MONTHS:"januar februar mart april maj jun jul avgust septembar oktobar novembar decembar".split(" "),STANDALONEMONTHS:"januar februar mart april maj jun jul avgust septembar oktobar novembar decembar".split(" "),SHORTMONTHS:"jan feb mar apr maj jun jul avg sep okt nov dec".split(" "),STANDALONESHORTMONTHS:"jan feb mar apr maj jun jul avg sep okt nov dec".split(" "),
WEEKDAYS:"nedelja ponedeljak utorak sreda \u010detvrtak petak subota".split(" "),STANDALONEWEEKDAYS:"nedelja ponedeljak utorak sreda \u010detvrtak petak subota".split(" "),SHORTWEEKDAYS:"ned pon uto sre \u010det pet sub".split(" "),STANDALONESHORTWEEKDAYS:"ned pon uto sre \u010det pet sub".split(" "),NARROWWEEKDAYS:"npus\u010dps".split(""),STANDALONENARROWWEEKDAYS:"npus\u010dps".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["prvi kvartal","drugi kvartal","tre\u0107i kvartal","\u010detvrti kvartal"],
AMPMS:["pre podne","po podne"],DATEFORMATS:["EEEE, dd. MMMM y.","dd. MMMM y.","dd.MM.y.","d.M.yy."],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_sv={ERAS:["f.Kr.","e.Kr."],ERANAMES:["f\u00f6re Kristus","efter Kristus"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"januari februari mars april maj juni juli augusti september oktober november december".split(" "),STANDALONEMONTHS:"januari februari mars april maj juni juli augusti september oktober november december".split(" "),SHORTMONTHS:"jan. feb. mars apr. maj juni juli aug. sep. okt. nov. dec.".split(" "),STANDALONESHORTMONTHS:"jan. feb. mars apr. maj juni juli aug. sep. okt. nov. dec.".split(" "),
WEEKDAYS:"s\u00f6ndag m\u00e5ndag tisdag onsdag torsdag fredag l\u00f6rdag".split(" "),STANDALONEWEEKDAYS:"s\u00f6ndag m\u00e5ndag tisdag onsdag torsdag fredag l\u00f6rdag".split(" "),SHORTWEEKDAYS:"s\u00f6n m\u00e5n tis ons tors fre l\u00f6r".split(" "),STANDALONESHORTWEEKDAYS:"s\u00f6n m\u00e5n tis ons tors fre l\u00f6r".split(" "),NARROWWEEKDAYS:"SMTOTFL".split(""),STANDALONENARROWWEEKDAYS:"SMTOTFL".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["1:a kvartalet","2:a kvartalet","3:e kvartalet",
"4:e kvartalet"],AMPMS:["fm","em"],DATEFORMATS:["EEEE d MMMM y","d MMMM y","d MMM y","y-MM-dd"],TIMEFORMATS:["'kl'. HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
goog.i18n.DateTimeSymbols_sw={ERAS:["KK","BK"],ERANAMES:["Kabla ya Kristo","Baada ya Kristo"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"Januari Februari Machi Aprili Mei Juni Julai Agosti Septemba Oktoba Novemba Desemba".split(" "),STANDALONEMONTHS:"Januari Februari Machi Aprili Mei Juni Julai Agosti Septemba Oktoba Novemba Desemba".split(" "),SHORTMONTHS:"Jan Feb Mac Apr Mei Jun Jul Ago Sep Okt Nov Des".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mac Apr Mei Jun Jul Ago Sep Okt Nov Des".split(" "),
WEEKDAYS:"Jumapili Jumatatu Jumanne Jumatano Alhamisi Ijumaa Jumamosi".split(" "),STANDALONEWEEKDAYS:"Jumapili Jumatatu Jumanne Jumatano Alhamisi Ijumaa Jumamosi".split(" "),SHORTWEEKDAYS:"Jumapili Jumatatu Jumanne Jumatano Alhamisi Ijumaa Jumamosi".split(" "),STANDALONESHORTWEEKDAYS:"Jumapili Jumatatu Jumanne Jumatano Alhamisi Ijumaa Jumamosi".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Robo ya 1","Robo ya 2","Robo ya 3","Robo ya 4"],
QUARTERS:["Robo ya 1","Robo ya 2","Robo ya 3","Robo ya 4"],AMPMS:["Asubuhi","Mchana"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","dd/MM/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_ta={ERAS:["\u0b95\u0bbf.\u0bae\u0bc1.","\u0b95\u0bbf.\u0baa\u0bbf."],ERANAMES:["\u0b95\u0bbf\u0bb1\u0bbf\u0bb8\u0bcd\u0ba4\u0bc1\u0bb5\u0bc1\u0b95\u0bcd\u0b95\u0bc1 \u0bae\u0bc1\u0ba9\u0bcd","\u0b85\u0ba9\u0bcd\u0ba9\u0bcb \u0b9f\u0bcb\u0bae\u0bbf\u0ba9\u0bbf"],NARROWMONTHS:"\u0b9c \u0baa\u0bbf \u0bae\u0bbe \u0b8f \u0bae\u0bc7 \u0b9c\u0bc2 \u0b9c\u0bc2 \u0b86 \u0b9a\u0bc6 \u0b85 \u0ba8 \u0b9f\u0bbf".split(" "),STANDALONENARROWMONTHS:"\u0b9c \u0baa\u0bbf \u0bae\u0bbe \u0b8f \u0bae\u0bc7 \u0b9c\u0bc2 \u0b9c\u0bc2 \u0b86 \u0b9a\u0bc6 \u0b85 \u0ba8 \u0b9f\u0bbf".split(" "),
MONTHS:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf \u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf \u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd \u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd \u0bae\u0bc7 \u0b9c\u0bc2\u0ba9\u0bcd \u0b9c\u0bc2\u0bb2\u0bc8 \u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd \u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bae\u0bcd\u0baa\u0bb0\u0bcd \u0b85\u0b95\u0bcd\u0b9f\u0bcb\u0baa\u0bb0\u0bcd \u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd \u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split(" "),STANDALONEMONTHS:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf \u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf \u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd \u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd \u0bae\u0bc7 \u0b9c\u0bc2\u0ba9\u0bcd \u0b9c\u0bc2\u0bb2\u0bc8 \u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd \u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bae\u0bcd\u0baa\u0bb0\u0bcd \u0b85\u0b95\u0bcd\u0b9f\u0bcb\u0baa\u0bb0\u0bcd \u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd \u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split(" "),
SHORTMONTHS:"\u0b9c\u0ba9. \u0baa\u0bbf\u0baa\u0bcd. \u0bae\u0bbe\u0bb0\u0bcd. \u0b8f\u0baa\u0bcd. \u0bae\u0bc7 \u0b9c\u0bc2\u0ba9\u0bcd \u0b9c\u0bc2\u0bb2\u0bc8 \u0b86\u0b95. \u0b9a\u0bc6\u0baa\u0bcd. \u0b85\u0b95\u0bcd. \u0ba8\u0bb5. \u0b9f\u0bbf\u0b9a.".split(" "),STANDALONESHORTMONTHS:"\u0b9c\u0ba9. \u0baa\u0bbf\u0baa\u0bcd. \u0bae\u0bbe\u0bb0\u0bcd. \u0b8f\u0baa\u0bcd. \u0bae\u0bc7 \u0b9c\u0bc2\u0ba9\u0bcd \u0b9c\u0bc2\u0bb2\u0bc8 \u0b86\u0b95. \u0b9a\u0bc6\u0baa\u0bcd. \u0b85\u0b95\u0bcd. \u0ba8\u0bb5. \u0b9f\u0bbf\u0b9a.".split(" "),
WEEKDAYS:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1 \u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd \u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd \u0baa\u0bc1\u0ba4\u0ba9\u0bcd \u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd \u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf \u0b9a\u0ba9\u0bbf".split(" "),STANDALONEWEEKDAYS:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1 \u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd \u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd \u0baa\u0bc1\u0ba4\u0ba9\u0bcd \u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd \u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf \u0b9a\u0ba9\u0bbf".split(" "),
SHORTWEEKDAYS:"\u0b9e\u0bbe\u0baf\u0bbf. \u0ba4\u0bbf\u0b99\u0bcd. \u0b9a\u0bc6\u0bb5\u0bcd. \u0baa\u0bc1\u0ba4. \u0bb5\u0bbf\u0baf\u0bbe. \u0bb5\u0bc6\u0bb3\u0bcd. \u0b9a\u0ba9\u0bbf".split(" "),STANDALONESHORTWEEKDAYS:"\u0b9e\u0bbe\u0baf\u0bbf. \u0ba4\u0bbf\u0b99\u0bcd. \u0b9a\u0bc6\u0bb5\u0bcd. \u0baa\u0bc1\u0ba4. \u0bb5\u0bbf\u0baf\u0bbe. \u0bb5\u0bc6\u0bb3\u0bcd. \u0b9a\u0ba9\u0bbf".split(" "),NARROWWEEKDAYS:"\u0b9e\u0bbe \u0ba4\u0bbf \u0b9a\u0bc6 \u0baa\u0bc1 \u0bb5\u0bbf \u0bb5\u0bc6 \u0b9a".split(" "),
STANDALONENARROWWEEKDAYS:"\u0b9e\u0bbe \u0ba4\u0bbf \u0b9a\u0bc6 \u0baa\u0bc1 \u0bb5\u0bbf \u0bb5\u0bc6 \u0b9a".split(" "),SHORTQUARTERS:["\u0b95\u0bbe\u0bb2\u0bbe.1","\u0b95\u0bbe\u0bb2\u0bbe.2","\u0b95\u0bbe\u0bb2\u0bbe.3","\u0b95\u0bbe\u0bb2\u0bbe.4"],QUARTERS:["\u0b92\u0ba9\u0bcd\u0bb1\u0bbe\u0bae\u0bcd \u0b95\u0bbe\u0bb2\u0bbe\u0ba3\u0bcd\u0b9f\u0bc1","\u0b87\u0bb0\u0ba3\u0bcd\u0b9f\u0bbe\u0bae\u0bcd \u0b95\u0bbe\u0bb2\u0bbe\u0ba3\u0bcd\u0b9f\u0bc1","\u0bae\u0bc2\u0ba9\u0bcd\u0bb1\u0bbe\u0bae\u0bcd \u0b95\u0bbe\u0bb2\u0bbe\u0ba3\u0bcd\u0b9f\u0bc1",
"\u0ba8\u0bbe\u0ba9\u0bcd\u0b95\u0bbe\u0bae\u0bcd \u0b95\u0bbe\u0bb2\u0bbe\u0ba3\u0bcd\u0b9f\u0bc1"],AMPMS:["\u0bae\u0bc1\u0bb1\u0bcd\u0baa\u0b95\u0bb2\u0bcd","\u0baa\u0bbf\u0bb1\u0bcd\u0baa\u0b95\u0bb2\u0bcd"],DATEFORMATS:["EEEE, d MMMM, y","d MMMM, y","d MMM, y","d/M/yy"],TIMEFORMATS:["a h:mm:ss zzzz","a h:mm:ss z","a h:mm:ss","a h:mm"],DATETIMEFORMATS:["{1} \u2019\u0b85\u0ba9\u0bcd\u0bb1\u0bc1\u2019 {0}","{1} \u2019\u0b85\u0ba9\u0bcd\u0bb1\u0bc1\u2019 {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,
WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_te={ERAS:["\u0c15\u0c4d\u0c30\u0c40\u0c2a\u0c42","\u0c15\u0c4d\u0c30\u0c40\u0c36"],ERANAMES:["\u0c15\u0c4d\u0c30\u0c40\u0c38\u0c4d\u0c24\u0c41 \u0c2a\u0c42\u0c30\u0c4d\u0c35\u0c02","\u0c15\u0c4d\u0c30\u0c40\u0c38\u0c4d\u0c24\u0c41 \u0c36\u0c15\u0c02"],NARROWMONTHS:"\u0c1c \u0c2b\u0c3f \u0c2e\u0c3e \u0c0f \u0c2e\u0c47 \u0c1c\u0c42 \u0c1c\u0c41 \u0c06 \u0c38\u0c46 \u0c05 \u0c28 \u0c21\u0c3f".split(" "),STANDALONENARROWMONTHS:"\u0c1c \u0c2b\u0c3f \u0c2e\u0c3e \u0c0f \u0c2e\u0c47 \u0c1c\u0c42 \u0c1c\u0c41 \u0c06 \u0c38\u0c46 \u0c05 \u0c28 \u0c21\u0c3f".split(" "),MONTHS:"\u0c1c\u0c28\u0c35\u0c30\u0c3f \u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f \u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f \u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d \u0c2e\u0c47 \u0c1c\u0c42\u0c28\u0c4d \u0c1c\u0c41\u0c32\u0c48 \u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41 \u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d \u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d \u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d \u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split(" "),
STANDALONEMONTHS:"\u0c1c\u0c28\u0c35\u0c30\u0c3f \u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f \u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f \u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d \u0c2e\u0c47 \u0c1c\u0c42\u0c28\u0c4d \u0c1c\u0c41\u0c32\u0c48 \u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41 \u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d \u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d \u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d \u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split(" "),SHORTMONTHS:"\u0c1c\u0c28 \u0c2b\u0c3f\u0c2c\u0c4d\u0c30 \u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f \u0c0f\u0c2a\u0c4d\u0c30\u0c3f \u0c2e\u0c47 \u0c1c\u0c42\u0c28\u0c4d \u0c1c\u0c41\u0c32\u0c48 \u0c06\u0c17 \u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02 \u0c05\u0c15\u0c4d\u0c1f\u0c4b \u0c28\u0c35\u0c02 \u0c21\u0c3f\u0c38\u0c46\u0c02".split(" "),
STANDALONESHORTMONTHS:"\u0c1c\u0c28 \u0c2b\u0c3f\u0c2c\u0c4d\u0c30 \u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f \u0c0f\u0c2a\u0c4d\u0c30\u0c3f \u0c2e\u0c47 \u0c1c\u0c42\u0c28\u0c4d \u0c1c\u0c41\u0c32\u0c48 \u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41 \u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02 \u0c05\u0c15\u0c4d\u0c1f\u0c4b \u0c28\u0c35\u0c02 \u0c21\u0c3f\u0c38\u0c46\u0c02".split(" "),WEEKDAYS:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02 \u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02 \u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02 \u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02 \u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02 \u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02 \u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split(" "),
STANDALONEWEEKDAYS:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02 \u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02 \u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02 \u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02 \u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02 \u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02 \u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split(" "),SHORTWEEKDAYS:"\u0c06\u0c26\u0c3f \u0c38\u0c4b\u0c2e \u0c2e\u0c02\u0c17\u0c33 \u0c2c\u0c41\u0c27 \u0c17\u0c41\u0c30\u0c41 \u0c36\u0c41\u0c15\u0c4d\u0c30 \u0c36\u0c28\u0c3f".split(" "),
STANDALONESHORTWEEKDAYS:"\u0c06\u0c26\u0c3f \u0c38\u0c4b\u0c2e \u0c2e\u0c02\u0c17\u0c33 \u0c2c\u0c41\u0c27 \u0c17\u0c41\u0c30\u0c41 \u0c36\u0c41\u0c15\u0c4d\u0c30 \u0c36\u0c28\u0c3f".split(" "),NARROWWEEKDAYS:"\u0c06 \u0c38\u0c4b \u0c2e \u0c2c\u0c41 \u0c17\u0c41 \u0c36\u0c41 \u0c36".split(" "),STANDALONENARROWWEEKDAYS:"\u0c06 \u0c38\u0c4b \u0c2e \u0c2c\u0c41 \u0c17\u0c41 \u0c36\u0c41 \u0c36".split(" "),SHORTQUARTERS:["\u0c24\u0c4d\u0c30\u0c481","\u0c24\u0c4d\u0c30\u0c482","\u0c24\u0c4d\u0c30\u0c483",
"\u0c24\u0c4d\u0c30\u0c484"],QUARTERS:["1\u0c35 \u0c24\u0c4d\u0c30\u0c48\u0c2e\u0c3e\u0c38\u0c02","2\u0c35 \u0c24\u0c4d\u0c30\u0c48\u0c2e\u0c3e\u0c38\u0c02","3\u0c35 \u0c24\u0c4d\u0c30\u0c48\u0c2e\u0c3e\u0c38\u0c02","4\u0c35 \u0c24\u0c4d\u0c30\u0c48\u0c2e\u0c3e\u0c38\u0c02"],AMPMS:["AM","PM"],DATEFORMATS:["d, MMMM y, EEEE","d MMMM, y","d MMM, y","dd-MM-yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,
WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_th={ERAS:["\u0e1b\u0e35\u0e01\u0e48\u0e2d\u0e19 \u0e04.\u0e28.","\u0e04.\u0e28."],ERANAMES:["\u0e1b\u0e35\u0e01\u0e48\u0e2d\u0e19\u0e04\u0e23\u0e34\u0e2a\u0e15\u0e4c\u0e28\u0e31\u0e01\u0e23\u0e32\u0e0a","\u0e04\u0e23\u0e34\u0e2a\u0e15\u0e4c\u0e28\u0e31\u0e01\u0e23\u0e32\u0e0a"],NARROWMONTHS:"\u0e21.\u0e04. \u0e01.\u0e1e. \u0e21\u0e35.\u0e04. \u0e40\u0e21.\u0e22. \u0e1e.\u0e04. \u0e21\u0e34.\u0e22. \u0e01.\u0e04. \u0e2a.\u0e04. \u0e01.\u0e22. \u0e15.\u0e04. \u0e1e.\u0e22. \u0e18.\u0e04.".split(" "),STANDALONENARROWMONTHS:"\u0e21.\u0e04. \u0e01.\u0e1e. \u0e21\u0e35.\u0e04. \u0e40\u0e21.\u0e22. \u0e1e.\u0e04. \u0e21\u0e34.\u0e22. \u0e01.\u0e04. \u0e2a.\u0e04. \u0e01.\u0e22. \u0e15.\u0e04. \u0e1e.\u0e22. \u0e18.\u0e04.".split(" "),
MONTHS:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21 \u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c \u0e21\u0e35\u0e19\u0e32\u0e04\u0e21 \u0e40\u0e21\u0e29\u0e32\u0e22\u0e19 \u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21 \u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19 \u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21 \u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21 \u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19 \u0e15\u0e38\u0e25\u0e32\u0e04\u0e21 \u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19 \u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split(" "),
STANDALONEMONTHS:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21 \u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c \u0e21\u0e35\u0e19\u0e32\u0e04\u0e21 \u0e40\u0e21\u0e29\u0e32\u0e22\u0e19 \u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21 \u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19 \u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21 \u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21 \u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19 \u0e15\u0e38\u0e25\u0e32\u0e04\u0e21 \u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19 \u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split(" "),
SHORTMONTHS:"\u0e21.\u0e04. \u0e01.\u0e1e. \u0e21\u0e35.\u0e04. \u0e40\u0e21.\u0e22. \u0e1e.\u0e04. \u0e21\u0e34.\u0e22. \u0e01.\u0e04. \u0e2a.\u0e04. \u0e01.\u0e22. \u0e15.\u0e04. \u0e1e.\u0e22. \u0e18.\u0e04.".split(" "),STANDALONESHORTMONTHS:"\u0e21.\u0e04. \u0e01.\u0e1e. \u0e21\u0e35.\u0e04. \u0e40\u0e21.\u0e22. \u0e1e.\u0e04. \u0e21\u0e34.\u0e22. \u0e01.\u0e04. \u0e2a.\u0e04. \u0e01.\u0e22. \u0e15.\u0e04. \u0e1e.\u0e22. \u0e18.\u0e04.".split(" "),WEEKDAYS:"\u0e27\u0e31\u0e19\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c \u0e27\u0e31\u0e19\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c \u0e27\u0e31\u0e19\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23 \u0e27\u0e31\u0e19\u0e1e\u0e38\u0e18 \u0e27\u0e31\u0e19\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35 \u0e27\u0e31\u0e19\u0e28\u0e38\u0e01\u0e23\u0e4c \u0e27\u0e31\u0e19\u0e40\u0e2a\u0e32\u0e23\u0e4c".split(" "),
STANDALONEWEEKDAYS:"\u0e27\u0e31\u0e19\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c \u0e27\u0e31\u0e19\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c \u0e27\u0e31\u0e19\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23 \u0e27\u0e31\u0e19\u0e1e\u0e38\u0e18 \u0e27\u0e31\u0e19\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35 \u0e27\u0e31\u0e19\u0e28\u0e38\u0e01\u0e23\u0e4c \u0e27\u0e31\u0e19\u0e40\u0e2a\u0e32\u0e23\u0e4c".split(" "),SHORTWEEKDAYS:"\u0e2d\u0e32. \u0e08. \u0e2d. \u0e1e. \u0e1e\u0e24. \u0e28. \u0e2a.".split(" "),STANDALONESHORTWEEKDAYS:"\u0e2d\u0e32. \u0e08. \u0e2d. \u0e1e. \u0e1e\u0e24. \u0e28. \u0e2a.".split(" "),
NARROWWEEKDAYS:"\u0e2d\u0e32 \u0e08 \u0e2d \u0e1e \u0e1e\u0e24 \u0e28 \u0e2a".split(" "),STANDALONENARROWWEEKDAYS:"\u0e2d\u0e32 \u0e08 \u0e2d \u0e1e \u0e1e\u0e24 \u0e28 \u0e2a".split(" "),SHORTQUARTERS:["\u0e44\u0e15\u0e23\u0e21\u0e32\u0e2a 1","\u0e44\u0e15\u0e23\u0e21\u0e32\u0e2a 2","\u0e44\u0e15\u0e23\u0e21\u0e32\u0e2a 3","\u0e44\u0e15\u0e23\u0e21\u0e32\u0e2a 4"],QUARTERS:["\u0e44\u0e15\u0e23\u0e21\u0e32\u0e2a 1","\u0e44\u0e15\u0e23\u0e21\u0e32\u0e2a 2","\u0e44\u0e15\u0e23\u0e21\u0e32\u0e2a 3",
"\u0e44\u0e15\u0e23\u0e21\u0e32\u0e2a 4"],AMPMS:["\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07","\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"],DATEFORMATS:["EEEE\u0e17\u0e35\u0e48 d MMMM G y","d MMMM G y","d MMM y","d/M/yy"],TIMEFORMATS:["H \u0e19\u0e32\u0e2c\u0e34\u0e01\u0e32 mm \u0e19\u0e32\u0e17\u0e35 ss \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35 zzzz","H \u0e19\u0e32\u0e2c\u0e34\u0e01\u0e32 mm \u0e19\u0e32\u0e17\u0e35 ss \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35 z","HH:mm:ss",
"HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_tl={ERAS:["BC","AD"],ERANAMES:["BC","AD"],NARROWMONTHS:"Ene Peb Mar Abr May Hun Hul Ago Set Okt Nob Dis".split(" "),STANDALONENARROWMONTHS:"E P M A M Hun Hul Ago Set Okt Nob Dis".split(" "),MONTHS:"Enero Pebrero Marso Abril Mayo Hunyo Hulyo Agosto Setyembre Oktubre Nobyembre Disyembre".split(" "),STANDALONEMONTHS:"Enero Pebrero Marso Abril Mayo Hunyo Hulyo Agosto Setyembre Oktubre Nobyembre Disyembre".split(" "),SHORTMONTHS:"Ene Peb Mar Abr May Hun Hul Ago Set Okt Nob Dis".split(" "),
STANDALONESHORTMONTHS:"Ene Peb Mar Abr May Hun Hul Ago Set Okt Nob Dis".split(" "),WEEKDAYS:"Linggo Lunes Martes Miyerkules Huwebes Biyernes Sabado".split(" "),STANDALONEWEEKDAYS:"Linggo Lunes Martes Miyerkules Huwebes Biyernes Sabado".split(" "),SHORTWEEKDAYS:"Lin Lun Mar Miy Huw Biy Sab".split(" "),STANDALONESHORTWEEKDAYS:"Lin Lun Mar Miy Huw Biy Sab".split(" "),NARROWWEEKDAYS:"Lin Lun Mar Miy Huw Biy Sab".split(" "),STANDALONENARROWWEEKDAYS:"Lin Lun Mar Miy Huw Biy Sab".split(" "),SHORTQUARTERS:["Q1",
"Q2","Q3","Q4"],QUARTERS:["ika-1 quarter","ika-2 quarter","ika-3 quarter","ika-4 na quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'nang' {0}","{1} 'nang' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_tr={ERAS:["M\u00d6","MS"],ERANAMES:["Milattan \u00d6nce","Milattan Sonra"],NARROWMONTHS:"O\u015eMNMHTAEEKA".split(""),STANDALONENARROWMONTHS:"O\u015eMNMHTAEEKA".split(""),MONTHS:"Ocak \u015eubat Mart Nisan May\u0131s Haziran Temmuz A\u011fustos Eyl\u00fcl Ekim Kas\u0131m Aral\u0131k".split(" "),STANDALONEMONTHS:"Ocak \u015eubat Mart Nisan May\u0131s Haziran Temmuz A\u011fustos Eyl\u00fcl Ekim Kas\u0131m Aral\u0131k".split(" "),SHORTMONTHS:"Oca \u015eub Mar Nis May Haz Tem A\u011fu Eyl Eki Kas Ara".split(" "),
STANDALONESHORTMONTHS:"Oca \u015eub Mar Nis May Haz Tem A\u011fu Eyl Eki Kas Ara".split(" "),WEEKDAYS:"Pazar Pazartesi Sal\u0131 \u00c7ar\u015famba Per\u015fembe Cuma Cumartesi".split(" "),STANDALONEWEEKDAYS:"Pazar Pazartesi Sal\u0131 \u00c7ar\u015famba Per\u015fembe Cuma Cumartesi".split(" "),SHORTWEEKDAYS:"Paz Pzt Sal \u00c7ar Per Cum Cmt".split(" "),STANDALONESHORTWEEKDAYS:"Paz Pzt Sal \u00c7ar Per Cum Cmt".split(" "),NARROWWEEKDAYS:"PPS\u00c7PCC".split(""),STANDALONENARROWWEEKDAYS:"PPS\u00c7PCC".split(""),
SHORTQUARTERS:["\u00c71","\u00c72","\u00c73","\u00c74"],QUARTERS:["1. \u00e7eyrek","2. \u00e7eyrek","3. \u00e7eyrek","4. \u00e7eyrek"],AMPMS:["\u00d6\u00d6","\u00d6S"],DATEFORMATS:["d MMMM y EEEE","d MMMM y","d MMM y","d.MM.y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_uk={ERAS:["\u0434\u043e \u043d. \u0435.","\u043d. \u0435."],ERANAMES:["\u0434\u043e \u043d\u0430\u0448\u043e\u0457 \u0435\u0440\u0438","\u043d\u0430\u0448\u043e\u0457 \u0435\u0440\u0438"],NARROWMONTHS:"\u0441\u043b\u0431\u043a\u0442\u0447\u043b\u0441\u0432\u0436\u043b\u0433".split(""),STANDALONENARROWMONTHS:"\u0421\u041b\u0411\u041a\u0422\u0427\u041b\u0421\u0412\u0416\u041b\u0413".split(""),MONTHS:"\u0441\u0456\u0447\u043d\u044f \u043b\u044e\u0442\u043e\u0433\u043e \u0431\u0435\u0440\u0435\u0437\u043d\u044f \u043a\u0432\u0456\u0442\u043d\u044f \u0442\u0440\u0430\u0432\u043d\u044f \u0447\u0435\u0440\u0432\u043d\u044f \u043b\u0438\u043f\u043d\u044f \u0441\u0435\u0440\u043f\u043d\u044f \u0432\u0435\u0440\u0435\u0441\u043d\u044f \u0436\u043e\u0432\u0442\u043d\u044f \u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430 \u0433\u0440\u0443\u0434\u043d\u044f".split(" "),
STANDALONEMONTHS:"\u0441\u0456\u0447\u0435\u043d\u044c \u043b\u044e\u0442\u0438\u0439 \u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c \u043a\u0432\u0456\u0442\u0435\u043d\u044c \u0442\u0440\u0430\u0432\u0435\u043d\u044c \u0447\u0435\u0440\u0432\u0435\u043d\u044c \u043b\u0438\u043f\u0435\u043d\u044c \u0441\u0435\u0440\u043f\u0435\u043d\u044c \u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c \u0436\u043e\u0432\u0442\u0435\u043d\u044c \u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434 \u0433\u0440\u0443\u0434\u0435\u043d\u044c".split(" "),
SHORTMONTHS:"\u0441\u0456\u0447. \u043b\u044e\u0442. \u0431\u0435\u0440. \u043a\u0432\u0456\u0442. \u0442\u0440\u0430\u0432. \u0447\u0435\u0440\u0432. \u043b\u0438\u043f. \u0441\u0435\u0440\u043f. \u0432\u0435\u0440. \u0436\u043e\u0432\u0442. \u043b\u0438\u0441\u0442. \u0433\u0440\u0443\u0434.".split(" "),STANDALONESHORTMONTHS:"\u0441\u0456\u0447 \u043b\u044e\u0442 \u0431\u0435\u0440 \u043a\u0432\u0456 \u0442\u0440\u0430 \u0447\u0435\u0440 \u043b\u0438\u043f \u0441\u0435\u0440 \u0432\u0435\u0440 \u0436\u043e\u0432 \u043b\u0438\u0441 \u0433\u0440\u0443".split(" "),
WEEKDAYS:"\u043d\u0435\u0434\u0456\u043b\u044f \u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a \u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a \u0441\u0435\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0435\u0440 \u043f\u02bc\u044f\u0442\u043d\u0438\u0446\u044f \u0441\u0443\u0431\u043e\u0442\u0430".split(" "),STANDALONEWEEKDAYS:"\u043d\u0435\u0434\u0456\u043b\u044f \u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a \u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a \u0441\u0435\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0435\u0440 \u043f\u02bc\u044f\u0442\u043d\u0438\u0446\u044f \u0441\u0443\u0431\u043e\u0442\u0430".split(" "),
SHORTWEEKDAYS:"\u043d\u0434 \u043f\u043d \u0432\u0442 \u0441\u0440 \u0447\u0442 \u043f\u0442 \u0441\u0431".split(" "),STANDALONESHORTWEEKDAYS:"\u043d\u0434 \u043f\u043d \u0432\u0442 \u0441\u0440 \u0447\u0442 \u043f\u0442 \u0441\u0431".split(" "),NARROWWEEKDAYS:"\u041d\u041f\u0412\u0421\u0427\u041f\u0421".split(""),STANDALONENARROWWEEKDAYS:"\u041d\u041f\u0412\u0421\u0427\u041f\u0421".split(""),SHORTQUARTERS:["1-\u0439 \u043a\u0432.","2-\u0439 \u043a\u0432.","3-\u0439 \u043a\u0432.","4-\u0439 \u043a\u0432."],
QUARTERS:["1-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","2-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","3-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","4-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b"],AMPMS:["\u0434\u043f","\u043f\u043f"],DATEFORMATS:["EEEE, d MMMM y '\u0440'.","d MMMM y '\u0440'.","d MMM y '\u0440'.","dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} '\u043e' {0}","{1} '\u043e' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,
WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_ur={ERAS:["\u0642\u0628\u0644 \u0645\u0633\u06cc\u062d","\u0639\u06cc\u0633\u0648\u06cc"],ERANAMES:["\u0642\u0628\u0644 \u0645\u0633\u06cc\u062d","\u0639\u06cc\u0633\u0648\u06cc"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"\u062c\u0646\u0648\u0631\u06cc \u0641\u0631\u0648\u0631\u06cc \u0645\u0627\u0631\u0686 \u0627\u067e\u0631\u06cc\u0644 \u0645\u0626\u06cc \u062c\u0648\u0646 \u062c\u0648\u0644\u0627\u0626\u06cc \u0627\u06af\u0633\u062a \u0633\u062a\u0645\u0628\u0631 \u0627\u06a9\u062a\u0648\u0628\u0631 \u0646\u0648\u0645\u0628\u0631 \u062f\u0633\u0645\u0628\u0631".split(" "),STANDALONEMONTHS:"\u062c\u0646\u0648\u0631\u06cc \u0641\u0631\u0648\u0631\u06cc \u0645\u0627\u0631\u0686 \u0627\u067e\u0631\u06cc\u0644 \u0645\u0626\u06cc \u062c\u0648\u0646 \u062c\u0648\u0644\u0627\u0626\u06cc \u0627\u06af\u0633\u062a \u0633\u062a\u0645\u0628\u0631 \u0627\u06a9\u062a\u0648\u0628\u0631 \u0646\u0648\u0645\u0628\u0631 \u062f\u0633\u0645\u0628\u0631".split(" "),
SHORTMONTHS:"\u062c\u0646\u0648\u0631\u06cc \u0641\u0631\u0648\u0631\u06cc \u0645\u0627\u0631\u0686 \u0627\u067e\u0631\u06cc\u0644 \u0645\u0626\u06cc \u062c\u0648\u0646 \u062c\u0648\u0644\u0627\u0626\u06cc \u0627\u06af\u0633\u062a \u0633\u062a\u0645\u0628\u0631 \u0627\u06a9\u062a\u0648\u0628\u0631 \u0646\u0648\u0645\u0628\u0631 \u062f\u0633\u0645\u0628\u0631".split(" "),STANDALONESHORTMONTHS:"\u062c\u0646\u0648\u0631\u06cc \u0641\u0631\u0648\u0631\u06cc \u0645\u0627\u0631\u0686 \u0627\u067e\u0631\u06cc\u0644 \u0645\u0626\u06cc \u062c\u0648\u0646 \u062c\u0648\u0644\u0627\u0626\u06cc \u0627\u06af\u0633\u062a \u0633\u062a\u0645\u0628\u0631 \u0627\u06a9\u062a\u0648\u0628\u0631 \u0646\u0648\u0645\u0628\u0631 \u062f\u0633\u0645\u0628\u0631".split(" "),
WEEKDAYS:"\u0627\u062a\u0648\u0627\u0631 \u0633\u0648\u0645\u0648\u0627\u0631 \u0645\u0646\u06af\u0644 \u0628\u062f\u06be \u062c\u0645\u0639\u0631\u0627\u062a \u062c\u0645\u0639\u06c1 \u06c1\u0641\u062a\u06c1".split(" "),STANDALONEWEEKDAYS:"\u0627\u062a\u0648\u0627\u0631 \u0633\u0648\u0645\u0648\u0627\u0631 \u0645\u0646\u06af\u0644 \u0628\u062f\u06be \u062c\u0645\u0639\u0631\u0627\u062a \u062c\u0645\u0639\u06c1 \u06c1\u0641\u062a\u06c1".split(" "),SHORTWEEKDAYS:"\u0627\u062a\u0648\u0627\u0631 \u0633\u0648\u0645\u0648\u0627\u0631 \u0645\u0646\u06af\u0644 \u0628\u062f\u06be \u062c\u0645\u0639\u0631\u0627\u062a \u062c\u0645\u0639\u06c1 \u06c1\u0641\u062a\u06c1".split(" "),
STANDALONESHORTWEEKDAYS:"\u0627\u062a\u0648\u0627\u0631 \u0633\u0648\u0645\u0648\u0627\u0631 \u0645\u0646\u06af\u0644 \u0628\u062f\u06be \u062c\u0645\u0639\u0631\u0627\u062a \u062c\u0645\u0639\u06c1 \u06c1\u0641\u062a\u06c1".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["\u067e\u06c1\u0644\u06cc \u0633\u06c1 \u0645\u0627\u06c1\u06cc","\u062f\u0648\u0633\u0631\u06cc \u0633\u06c1 \u0645\u0627\u06c1\u06cc","\u062a\u06cc\u0633\u0631\u06cc \u0633\u06c1 \u0645\u0627\u06c1\u06cc",
"\u0686\u0648\u062a\u0647\u06cc \u0633\u06c1 \u0645\u0627\u06c1\u06cc"],QUARTERS:["\u067e\u06c1\u0644\u06cc \u0633\u06c1 \u0645\u0627\u06c1\u06cc","\u062f\u0648\u0633\u0631\u06cc \u0633\u06c1 \u0645\u0627\u06c1\u06cc","\u062a\u06cc\u0633\u0631\u06cc \u0633\u06c1 \u0645\u0627\u06c1\u06cc","\u0686\u0648\u062a\u0647\u06cc \u0633\u06c1 \u0645\u0627\u06c1\u06cc"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE\u060c d MMMM\u060c y","d MMMM\u060c y","y MMM d","d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z",
"h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_uz={ERAS:["m.a.","milodiy"],ERANAMES:["miloddan avvalgi","milodiy"],NARROWMONTHS:"YFMAMIIASOND".split(""),STANDALONENARROWMONTHS:"YFMAMIIASOND".split(""),MONTHS:"yanvar fevral mart aprel may iyun iyul avgust sentabr oktabr noyabr dekabr".split(" "),STANDALONEMONTHS:"Yanvar Fevral Mart Aprel May Iyun Iyul Avgust Sentabr Oktabr Noyabr Dekabr".split(" "),SHORTMONTHS:"yan fev mar apr may iyn iyl avg sen okt noy dek".split(" "),STANDALONESHORTMONTHS:"Yan Fev Mar Apr May Iyn Iyl Avg Sen Okt Noy Dek".split(" "),
WEEKDAYS:"yakshanba dushanba seshanba chorshanba payshanba juma shanba".split(" "),STANDALONEWEEKDAYS:"yakshanba dushanba seshanba chorshanba payshanba juma shanba".split(" "),SHORTWEEKDAYS:"Yak Dush Sesh Chor Pay Jum Shan".split(" "),STANDALONESHORTWEEKDAYS:"Yak Dush Sesh Chor Pay Jum Shan".split(" "),NARROWWEEKDAYS:"YDSCPJS".split(""),STANDALONENARROWWEEKDAYS:"YDSCPJS".split(""),SHORTQUARTERS:["1-ch","2-ch","3-ch","4-ch"],QUARTERS:["1-chorak","2-chorak","3-chorak","4-chorak"],AMPMS:["TO","TK"],
DATEFORMATS:["EEEE, d-MMMM, y","d-MMMM, y","d-MMM, y","dd/MM/yy"],TIMEFORMATS:["H:mm:ss (zzzz)","H:mm:ss (z)","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_vi={ERAS:["Tr\u01b0\u1edbc CN","sau CN"],ERANAMES:["Tr\u01b0\u1edbc CN","sau CN"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"th\u00e1ng 1;th\u00e1ng 2;th\u00e1ng 3;th\u00e1ng 4;th\u00e1ng 5;th\u00e1ng 6;th\u00e1ng 7;th\u00e1ng 8;th\u00e1ng 9;th\u00e1ng 10;th\u00e1ng 11;th\u00e1ng 12".split(";"),STANDALONEMONTHS:"Th\u00e1ng 1;Th\u00e1ng 2;Th\u00e1ng 3;Th\u00e1ng 4;Th\u00e1ng 5;Th\u00e1ng 6;Th\u00e1ng 7;Th\u00e1ng 8;Th\u00e1ng 9;Th\u00e1ng 10;Th\u00e1ng 11;Th\u00e1ng 12".split(";"),
SHORTMONTHS:"thg 1;thg 2;thg 3;thg 4;thg 5;thg 6;thg 7;thg 8;thg 9;thg 10;thg 11;thg 12".split(";"),STANDALONESHORTMONTHS:"Thg 1;Thg 2;Thg 3;Thg 4;Thg 5;Thg 6;Thg 7;Thg 8;Thg 9;Thg 10;Thg 11;Thg 12".split(";"),WEEKDAYS:"Ch\u1ee7 Nh\u1eadt;Th\u1ee9 Hai;Th\u1ee9 Ba;Th\u1ee9 T\u01b0;Th\u1ee9 N\u0103m;Th\u1ee9 S\u00e1u;Th\u1ee9 B\u1ea3y".split(";"),STANDALONEWEEKDAYS:"Ch\u1ee7 Nh\u1eadt;Th\u1ee9 Hai;Th\u1ee9 Ba;Th\u1ee9 T\u01b0;Th\u1ee9 N\u0103m;Th\u1ee9 S\u00e1u;Th\u1ee9 B\u1ea3y".split(";"),SHORTWEEKDAYS:"CN;Th 2;Th 3;Th 4;Th 5;Th 6;Th 7".split(";"),
STANDALONESHORTWEEKDAYS:"CN;Th 2;Th 3;Th 4;Th 5;Th 6;Th 7".split(";"),NARROWWEEKDAYS:"CN T2 T3 T4 T5 T6 T7".split(" "),STANDALONENARROWWEEKDAYS:"CN T2 T3 T4 T5 T6 T7".split(" "),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["Qu\u00fd 1","Qu\u00fd 2","Qu\u00fd 3","Qu\u00fd 4"],AMPMS:["SA","CH"],DATEFORMATS:["EEEE, d MMMM, y","d MMMM, y","d MMM, y","dd/MM/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{0} {1}","{0} {1}","{0}, {1}","{0}, {1}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,
6],FIRSTWEEKCUTOFFDAY:6};
goog.i18n.DateTimeSymbols_zh={ERAS:["\u516c\u5143\u524d","\u516c\u5143"],ERANAMES:["\u516c\u5143\u524d","\u516c\u5143"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" "),STANDALONEMONTHS:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" "),SHORTMONTHS:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),
STANDALONESHORTMONTHS:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),WEEKDAYS:"\u661f\u671f\u65e5 \u661f\u671f\u4e00 \u661f\u671f\u4e8c \u661f\u671f\u4e09 \u661f\u671f\u56db \u661f\u671f\u4e94 \u661f\u671f\u516d".split(" "),STANDALONEWEEKDAYS:"\u661f\u671f\u65e5 \u661f\u671f\u4e00 \u661f\u671f\u4e8c \u661f\u671f\u4e09 \u661f\u671f\u56db \u661f\u671f\u4e94 \u661f\u671f\u516d".split(" "),SHORTWEEKDAYS:"\u5468\u65e5 \u5468\u4e00 \u5468\u4e8c \u5468\u4e09 \u5468\u56db \u5468\u4e94 \u5468\u516d".split(" "),
STANDALONESHORTWEEKDAYS:"\u5468\u65e5 \u5468\u4e00 \u5468\u4e8c \u5468\u4e09 \u5468\u56db \u5468\u4e94 \u5468\u516d".split(" "),NARROWWEEKDAYS:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),STANDALONENARROWWEEKDAYS:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),SHORTQUARTERS:["1\u5b63\u5ea6","2\u5b63\u5ea6","3\u5b63\u5ea6","4\u5b63\u5ea6"],QUARTERS:["\u7b2c\u4e00\u5b63\u5ea6","\u7b2c\u4e8c\u5b63\u5ea6","\u7b2c\u4e09\u5b63\u5ea6","\u7b2c\u56db\u5b63\u5ea6"],AMPMS:["\u4e0a\u5348","\u4e0b\u5348"],
DATEFORMATS:["y\u5e74M\u6708d\u65e5EEEE","y\u5e74M\u6708d\u65e5","y\u5e74M\u6708d\u65e5","y/M/d"],TIMEFORMATS:["zzzz ah:mm:ss","z ah:mm:ss","ah:mm:ss","ah:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};goog.i18n.DateTimeSymbols_zh_CN=goog.i18n.DateTimeSymbols_zh;
goog.i18n.DateTimeSymbols_zh_HK={ERAS:["\u516c\u5143\u524d","\u516c\u5143"],ERANAMES:["\u516c\u5143\u524d","\u516c\u5143"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),STANDALONEMONTHS:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),SHORTMONTHS:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),
STANDALONESHORTMONTHS:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),WEEKDAYS:"\u661f\u671f\u65e5 \u661f\u671f\u4e00 \u661f\u671f\u4e8c \u661f\u671f\u4e09 \u661f\u671f\u56db \u661f\u671f\u4e94 \u661f\u671f\u516d".split(" "),STANDALONEWEEKDAYS:"\u661f\u671f\u65e5 \u661f\u671f\u4e00 \u661f\u671f\u4e8c \u661f\u671f\u4e09 \u661f\u671f\u56db \u661f\u671f\u4e94 \u661f\u671f\u516d".split(" "),SHORTWEEKDAYS:"\u9031\u65e5 \u9031\u4e00 \u9031\u4e8c \u9031\u4e09 \u9031\u56db \u9031\u4e94 \u9031\u516d".split(" "),
STANDALONESHORTWEEKDAYS:"\u9031\u65e5 \u9031\u4e00 \u9031\u4e8c \u9031\u4e09 \u9031\u56db \u9031\u4e94 \u9031\u516d".split(" "),NARROWWEEKDAYS:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),STANDALONENARROWWEEKDAYS:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["\u7b2c1\u5b63\u5ea6","\u7b2c2\u5b63\u5ea6","\u7b2c3\u5b63\u5ea6","\u7b2c4\u5b63\u5ea6"],AMPMS:["\u4e0a\u5348","\u4e0b\u5348"],DATEFORMATS:["y\u5e74M\u6708d\u65e5EEEE","y\u5e74M\u6708d\u65e5",
"y\u5e74M\u6708d\u65e5","d/M/y"],TIMEFORMATS:["ah:mm:ss [zzzz]","ah:mm:ss [z]","ah:mm:ss","ah:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_zh_TW={ERAS:["\u897f\u5143\u524d","\u897f\u5143"],ERANAMES:["\u897f\u5143\u524d","\u897f\u5143"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),STANDALONEMONTHS:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),SHORTMONTHS:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),
STANDALONESHORTMONTHS:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),WEEKDAYS:"\u661f\u671f\u65e5 \u661f\u671f\u4e00 \u661f\u671f\u4e8c \u661f\u671f\u4e09 \u661f\u671f\u56db \u661f\u671f\u4e94 \u661f\u671f\u516d".split(" "),STANDALONEWEEKDAYS:"\u661f\u671f\u65e5 \u661f\u671f\u4e00 \u661f\u671f\u4e8c \u661f\u671f\u4e09 \u661f\u671f\u56db \u661f\u671f\u4e94 \u661f\u671f\u516d".split(" "),SHORTWEEKDAYS:"\u9031\u65e5 \u9031\u4e00 \u9031\u4e8c \u9031\u4e09 \u9031\u56db \u9031\u4e94 \u9031\u516d".split(" "),
STANDALONESHORTWEEKDAYS:"\u9031\u65e5 \u9031\u4e00 \u9031\u4e8c \u9031\u4e09 \u9031\u56db \u9031\u4e94 \u9031\u516d".split(" "),NARROWWEEKDAYS:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),STANDALONENARROWWEEKDAYS:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),SHORTQUARTERS:["1\u5b63","2\u5b63","3\u5b63","4\u5b63"],QUARTERS:["\u7b2c1\u5b63","\u7b2c2\u5b63","\u7b2c3\u5b63","\u7b2c4\u5b63"],AMPMS:["\u4e0a\u5348","\u4e0b\u5348"],DATEFORMATS:["y\u5e74M\u6708d\u65e5 EEEE","y\u5e74M\u6708d\u65e5",
"y\u5e74M\u6708d\u65e5","y/M/d"],TIMEFORMATS:["ah:mm:ss [zzzz]","ah:mm:ss [z]","ah:mm:ss","ah:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
goog.i18n.DateTimeSymbols_zu={ERAS:["BC","AD"],ERANAMES:["BC","AD"],NARROWMONTHS:"JFMEMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"UMasingana Februwari Mashi Ephreli Meyi Juni Julayi Agasti Septhemba Okthoba Novemba Disemba".split(" "),STANDALONEMONTHS:"Januwari Februwari Mashi Ephreli Meyi Juni Julayi Agasti Septhemba Okthoba Novemba Disemba".split(" "),SHORTMONTHS:"Jan Feb Mas Eph Mey Jun Jul Aga Sep Okt Nov Dis".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mas Eph Mey Jun Jul Aga Sep Okt Nov Dis".split(" "),
WEEKDAYS:"ISonto UMsombuluko ULwesibili ULwesithathu ULwesine ULwesihlanu UMgqibelo".split(" "),STANDALONEWEEKDAYS:"ISonto UMsombuluko ULwesibili ULwesithathu ULwesine ULwesihlanu UMgqibelo".split(" "),SHORTWEEKDAYS:"Son Mso Bil Tha Sin Hla Mgq".split(" "),STANDALONESHORTWEEKDAYS:"Son Mso Bil Tha Sin Hla Mgq".split(" "),NARROWWEEKDAYS:"SMBTSHM".split(""),STANDALONENARROWWEEKDAYS:"SMBTSHM".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["ikota yesi-1","ikota yesi-2","ikota yesi-3","ikota yesi-4"],
AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};goog.i18n.DateTimeSymbolsType=function(){};goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_en;
switch(goog.LOCALE){case "en_ISO":case "en-ISO":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_en_ISO;break;case "af":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_af;break;case "am":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_am;break;case "ar":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_ar;break;case "ar_DZ":case "ar-DZ":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_ar_DZ;break;case "az":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_az;break;case "be":goog.i18n.DateTimeSymbols=
goog.i18n.DateTimeSymbols_be;break;case "bg":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_bg;break;case "bn":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_bn;break;case "br":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_br;break;case "bs":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_bs;break;case "ca":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_ca;break;case "chr":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_chr;break;case "cs":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_cs;
break;case "cy":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_cy;break;case "da":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_da;break;case "de":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_de;break;case "de_AT":case "de-AT":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_de_AT;break;case "de_CH":case "de-CH":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_de_CH;break;case "el":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_el;break;case "en":goog.i18n.DateTimeSymbols=
goog.i18n.DateTimeSymbols_en;break;case "en_AU":case "en-AU":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_en_AU;break;case "en_CA":case "en-CA":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_en_CA;break;case "en_GB":case "en-GB":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_en_GB;break;case "en_IE":case "en-IE":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_en_IE;break;case "en_IN":case "en-IN":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_en_IN;break;case "en_SG":case "en-SG":goog.i18n.DateTimeSymbols=
goog.i18n.DateTimeSymbols_en_SG;break;case "en_US":case "en-US":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_en_US;break;case "en_ZA":case "en-ZA":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_en_ZA;break;case "es":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_es;break;case "es_419":case "es-419":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_es_419;break;case "es_ES":case "es-ES":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_es_ES;break;case "es_MX":case "es-MX":goog.i18n.DateTimeSymbols=
goog.i18n.DateTimeSymbols_es_MX;break;case "es_US":case "es-US":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_es_US;break;case "et":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_et;break;case "eu":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_eu;break;case "fa":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_fa;break;case "fi":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_fi;break;case "fil":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_fil;break;case "fr":goog.i18n.DateTimeSymbols=
goog.i18n.DateTimeSymbols_fr;break;case "fr_CA":case "fr-CA":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_fr_CA;break;case "ga":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_ga;break;case "gl":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_gl;break;case "gsw":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_gsw;break;case "gu":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_gu;break;case "haw":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_haw;break;case "he":goog.i18n.DateTimeSymbols=
goog.i18n.DateTimeSymbols_he;break;case "hi":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_hi;break;case "hr":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_hr;break;case "hu":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_hu;break;case "hy":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_hy;break;case "id":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_id;break;case "in":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_in;break;case "is":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_is;
break;case "it":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_it;break;case "iw":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_iw;break;case "ja":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_ja;break;case "ka":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_ka;break;case "kk":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_kk;break;case "km":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_km;break;case "kn":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_kn;break;
case "ko":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_ko;break;case "ky":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_ky;break;case "ln":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_ln;break;case "lo":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_lo;break;case "lt":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_lt;break;case "lv":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_lv;break;case "mk":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_mk;break;case "ml":goog.i18n.DateTimeSymbols=
goog.i18n.DateTimeSymbols_ml;break;case "mn":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_mn;break;case "mo":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_mo;break;case "mr":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_mr;break;case "ms":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_ms;break;case "mt":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_mt;break;case "my":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_my;break;case "nb":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_nb;
break;case "ne":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_ne;break;case "nl":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_nl;break;case "no":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_no;break;case "no_NO":case "no-NO":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_no_NO;break;case "or":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_or;break;case "pa":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_pa;break;case "pl":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_pl;
break;case "pt":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_pt;break;case "pt_BR":case "pt-BR":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_pt_BR;break;case "pt_PT":case "pt-PT":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_pt_PT;break;case "ro":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_ro;break;case "ru":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_ru;break;case "sh":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_sh;break;case "si":goog.i18n.DateTimeSymbols=
goog.i18n.DateTimeSymbols_si;break;case "sk":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_sk;break;case "sl":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_sl;break;case "sq":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_sq;break;case "sr":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_sr;break;case "sr_Latn":case "sr-Latn":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_sr_Latn;break;case "sv":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_sv;break;case "sw":goog.i18n.DateTimeSymbols=
goog.i18n.DateTimeSymbols_sw;break;case "ta":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_ta;break;case "te":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_te;break;case "th":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_th;break;case "tl":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_tl;break;case "tr":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_tr;break;case "uk":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_uk;break;case "ur":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_ur;
break;case "uz":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_uz;break;case "vi":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_vi;break;case "zh":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_zh;break;case "zh_CN":case "zh-CN":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_zh_CN;break;case "zh_HK":case "zh-HK":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_zh_HK;break;case "zh_TW":case "zh-TW":goog.i18n.DateTimeSymbols=goog.i18n.DateTimeSymbols_zh_TW;break;case "zu":goog.i18n.DateTimeSymbols=
goog.i18n.DateTimeSymbols_zu};goog.date.weekDay={MON:0,TUE:1,WED:2,THU:3,FRI:4,SAT:5,SUN:6};goog.date.month={JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11};goog.date.formatMonthAndYear=function(a,b){return goog.getMsg("{$monthName} {$yearNum}",{monthName:a,yearNum:String(b)})};goog.date.splitDateStringRegex_=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/;goog.date.splitTimeStringRegex_=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/;
goog.date.splitTimezoneStringRegex_=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/;goog.date.splitDurationRegex_=/^(-)?P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+(?:\.\d+)?)S)?)?$/;goog.date.MS_PER_DAY=864E5;goog.date.isLeapYear=function(a){return 0==a%4&&(0!=a%100||0==a%400)};goog.date.isLongIsoYear=function(a){var b=5*a+12-4*(Math.floor(a/100)-Math.floor(a/400));b+=Math.floor((a-100)/400)-Math.floor((a-102)/400);b+=Math.floor((a-200)/400)-Math.floor((a-199)/400);return 5>b%28};
goog.date.getNumberOfDaysInMonth=function(a,b){switch(b){case goog.date.month.FEB:return goog.date.isLeapYear(a)?29:28;case goog.date.month.JUN:case goog.date.month.SEP:case goog.date.month.NOV:case goog.date.month.APR:return 30}return 31};goog.date.isSameDay=function(a,b){b=b||new Date(goog.now());return a.getDate()==b.getDate()&&goog.date.isSameMonth(a,b)};goog.date.isSameMonth=function(a,b){b=b||new Date(goog.now());return a.getMonth()==b.getMonth()&&goog.date.isSameYear(a,b)};
goog.date.isSameYear=function(a,b){b=b||new Date(goog.now());return a.getFullYear()==b.getFullYear()};goog.date.getWeekNumber=function(a,b,c,d,e){a=new Date(a,b,c);d=goog.isDef(d)?d:goog.date.weekDay.THU;e=e||goog.date.weekDay.MON;b=(a.getDay()+6)%7;e=a.valueOf()+((d-e+7)%7-(b-e+7)%7)*goog.date.MS_PER_DAY;d=(new Date((new Date(e)).getFullYear(),0,1)).valueOf();return Math.floor(Math.round((e-d)/goog.date.MS_PER_DAY)/7)+1};goog.date.min=function(a,b){return a<b?a:b};
goog.date.max=function(a,b){return a>b?a:b};goog.date.fromIsoString=function(a){return goog.date.DateTime.fromIsoString(a)};goog.date.setIso8601DateTime=function(a,b){b=goog.string.trim(b);var c=-1==b.indexOf("T")?" ":"T";b=b.split(c);return goog.date.setIso8601DateOnly_(a,b[0])&&(2>b.length||goog.date.setIso8601TimeOnly_(a,b[1]))};
goog.date.setIso8601DateOnly_=function(a,b){b=b.match(goog.date.splitDateStringRegex_);if(!b)return!1;var c=Number(b[2]),d=Number(b[3]),e=Number(b[4]),f=Number(b[5]),g=Number(b[6])||1;a.setFullYear(Number(b[1]));e?(a.setDate(1),a.setMonth(0),a.add(new goog.date.Interval(goog.date.Interval.DAYS,e-1))):f?goog.date.setDateFromIso8601Week_(a,f,g):(c&&(a.setDate(1),a.setMonth(c-1)),d&&a.setDate(d));return!0};
goog.date.setDateFromIso8601Week_=function(a,b,c){a.setMonth(0);a.setDate(1);var d=a.getDay()||7;b=new goog.date.Interval(goog.date.Interval.DAYS,(4>=d?1-d:8-d)+(Number(c)+7*(Number(b)-1))-1);a.add(b)};
goog.date.setIso8601TimeOnly_=function(a,b){var c=b.match(goog.date.splitTimezoneStringRegex_),d=0;c&&("Z"!=c[0]&&(d=60*Number(c[2])+Number(c[3]),d*="-"==c[1]?1:-1),d-=a.getTimezoneOffset(),b=b.substr(0,b.length-c[0].length));c=b.match(goog.date.splitTimeStringRegex_);if(!c)return!1;a.setHours(Number(c[1]));a.setMinutes(Number(c[2])||0);a.setSeconds(Number(c[3])||0);a.setMilliseconds(c[4]?1E3*Number(c[4]):0);0!=d&&a.setTime(a.getTime()+6E4*d);return!0};
goog.date.Interval=function(a,b,c,d,e,f){goog.isString(a)?(this.years=a==goog.date.Interval.YEARS?b:0,this.months=a==goog.date.Interval.MONTHS?b:0,this.days=a==goog.date.Interval.DAYS?b:0,this.hours=a==goog.date.Interval.HOURS?b:0,this.minutes=a==goog.date.Interval.MINUTES?b:0,this.seconds=a==goog.date.Interval.SECONDS?b:0):(this.years=a||0,this.months=b||0,this.days=c||0,this.hours=d||0,this.minutes=e||0,this.seconds=f||0)};
goog.date.Interval.fromIsoString=function(a){a=a.match(goog.date.splitDurationRegex_);if(!a)return null;var b=!(a[6]||a[7]||a[8]);if(b&&!(a[2]||a[3]||a[4])||b&&a[5])return null;b=a[1];var c=parseInt(a[2],10)||0,d=parseInt(a[3],10)||0,e=parseInt(a[4],10)||0,f=parseInt(a[6],10)||0,g=parseInt(a[7],10)||0;a=parseFloat(a[8])||0;return b?new goog.date.Interval(-c,-d,-e,-f,-g,-a):new goog.date.Interval(c,d,e,f,g,a)};
goog.date.Interval.prototype.toIsoString=function(a){var b=Math.min(this.years,this.months,this.days,this.hours,this.minutes,this.seconds),c=Math.max(this.years,this.months,this.days,this.hours,this.minutes,this.seconds);if(0>b&&0<c)return null;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.years||a)&&c.push(Math.abs(this.years)+"Y");(this.months||a)&&c.push(Math.abs(this.months)+"M");(this.days||a)&&c.push(Math.abs(this.days)+"D");if(this.hours||this.minutes||this.seconds||
a)c.push("T"),(this.hours||a)&&c.push(Math.abs(this.hours)+"H"),(this.minutes||a)&&c.push(Math.abs(this.minutes)+"M"),(this.seconds||a)&&c.push(Math.abs(this.seconds)+"S");return c.join("")};goog.date.Interval.prototype.equals=function(a){return a.years==this.years&&a.months==this.months&&a.days==this.days&&a.hours==this.hours&&a.minutes==this.minutes&&a.seconds==this.seconds};
goog.date.Interval.prototype.clone=function(){return new goog.date.Interval(this.years,this.months,this.days,this.hours,this.minutes,this.seconds)};goog.date.Interval.YEARS="y";goog.date.Interval.MONTHS="m";goog.date.Interval.DAYS="d";goog.date.Interval.HOURS="h";goog.date.Interval.MINUTES="n";goog.date.Interval.SECONDS="s";goog.date.Interval.prototype.isZero=function(){return 0==this.years&&0==this.months&&0==this.days&&0==this.hours&&0==this.minutes&&0==this.seconds};
goog.date.Interval.prototype.getInverse=function(){return this.times(-1)};goog.date.Interval.prototype.times=function(a){return new goog.date.Interval(this.years*a,this.months*a,this.days*a,this.hours*a,this.minutes*a,this.seconds*a)};goog.date.Interval.prototype.getTotalSeconds=function(){goog.asserts.assert(0==this.years&&0==this.months);return 60*(60*(24*this.days+this.hours)+this.minutes)+this.seconds};
goog.date.Interval.prototype.add=function(a){this.years+=a.years;this.months+=a.months;this.days+=a.days;this.hours+=a.hours;this.minutes+=a.minutes;this.seconds+=a.seconds};
goog.date.Date=function(a,b,c){goog.isNumber(a)?(this.date=this.buildDate_(a,b||0,c||1),this.maybeFixDst_(c||1)):goog.isObject(a)?(this.date=this.buildDate_(a.getFullYear(),a.getMonth(),a.getDate()),this.maybeFixDst_(a.getDate())):(this.date=new Date(goog.now()),a=this.date.getDate(),this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),this.maybeFixDst_(a))};
goog.date.Date.prototype.buildDate_=function(a,b,c){b=new Date(a,b,c);0<=a&&100>a&&b.setFullYear(b.getFullYear()-1900);return b};goog.date.Date.prototype.firstDayOfWeek_=goog.i18n.DateTimeSymbols.FIRSTDAYOFWEEK;goog.date.Date.prototype.firstWeekCutOffDay_=goog.i18n.DateTimeSymbols.FIRSTWEEKCUTOFFDAY;goog.date.Date.prototype.clone=function(){var a=new goog.date.Date(this.date);a.firstDayOfWeek_=this.firstDayOfWeek_;a.firstWeekCutOffDay_=this.firstWeekCutOffDay_;return a};
goog.date.Date.prototype.getFullYear=function(){return this.date.getFullYear()};goog.date.Date.prototype.getYear=function(){return this.getFullYear()};goog.date.Date.prototype.getMonth=function(){return this.date.getMonth()};goog.date.Date.prototype.getDate=function(){return this.date.getDate()};goog.date.Date.prototype.getTime=function(){return this.date.getTime()};goog.date.Date.prototype.getDay=function(){return this.date.getDay()};
goog.date.Date.prototype.getIsoWeekday=function(){return(this.getDay()+6)%7};goog.date.Date.prototype.getWeekday=function(){return(this.getIsoWeekday()-this.firstDayOfWeek_+7)%7};goog.date.Date.prototype.getUTCFullYear=function(){return this.date.getUTCFullYear()};goog.date.Date.prototype.getUTCMonth=function(){return this.date.getUTCMonth()};goog.date.Date.prototype.getUTCDate=function(){return this.date.getUTCDate()};goog.date.Date.prototype.getUTCDay=function(){return this.date.getDay()};
goog.date.Date.prototype.getUTCHours=function(){return this.date.getUTCHours()};goog.date.Date.prototype.getUTCMinutes=function(){return this.date.getUTCMinutes()};goog.date.Date.prototype.getUTCIsoWeekday=function(){return(this.date.getUTCDay()+6)%7};goog.date.Date.prototype.getUTCWeekday=function(){return(this.getUTCIsoWeekday()-this.firstDayOfWeek_+7)%7};goog.date.Date.prototype.getFirstDayOfWeek=function(){return this.firstDayOfWeek_};goog.date.Date.prototype.getFirstWeekCutOffDay=function(){return this.firstWeekCutOffDay_};
goog.date.Date.prototype.getNumberOfDaysInMonth=function(){return goog.date.getNumberOfDaysInMonth(this.getFullYear(),this.getMonth())};goog.date.Date.prototype.getWeekNumber=function(){return goog.date.getWeekNumber(this.getFullYear(),this.getMonth(),this.getDate(),this.firstWeekCutOffDay_,this.firstDayOfWeek_)};goog.date.Date.prototype.getDayOfYear=function(){for(var a=this.getDate(),b=this.getFullYear(),c=this.getMonth()-1;0<=c;c--)a+=goog.date.getNumberOfDaysInMonth(b,c);return a};
goog.date.Date.prototype.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};goog.date.Date.prototype.getTimezoneOffsetString=function(){var a=this.getTimezoneOffset();if(0==a)a="Z";else{var b=Math.abs(a)/60,c=Math.floor(b);b=60*(b-c);a=(0<a?"-":"+")+goog.string.padNumber(c,2)+":"+goog.string.padNumber(b,2)}return a};goog.date.Date.prototype.set=function(a){this.date=new Date(a.getFullYear(),a.getMonth(),a.getDate())};goog.date.Date.prototype.setFullYear=function(a){this.date.setFullYear(a)};
goog.date.Date.prototype.setYear=function(a){this.setFullYear(a)};goog.date.Date.prototype.setMonth=function(a){this.date.setMonth(a)};goog.date.Date.prototype.setDate=function(a){this.date.setDate(a)};goog.date.Date.prototype.setTime=function(a){this.date.setTime(a)};goog.date.Date.prototype.setUTCFullYear=function(a){this.date.setUTCFullYear(a)};goog.date.Date.prototype.setUTCMonth=function(a){this.date.setUTCMonth(a)};goog.date.Date.prototype.setUTCDate=function(a){this.date.setUTCDate(a)};
goog.date.Date.prototype.setFirstDayOfWeek=function(a){this.firstDayOfWeek_=a};goog.date.Date.prototype.setFirstWeekCutOffDay=function(a){this.firstWeekCutOffDay_=a};
goog.date.Date.prototype.add=function(a){if(a.years||a.months){var b=this.getMonth()+a.months+12*a.years,c=this.getYear()+Math.floor(b/12);b%=12;0>b&&(b+=12);var d=goog.date.getNumberOfDaysInMonth(c,b);d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.days&&(b=new Date(this.getYear(),this.getMonth(),this.getDate(),12),a=new Date(b.getTime()+864E5*a.days),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),this.setDate(a.getDate()),
this.maybeFixDst_(a.getDate()))};goog.date.Date.prototype.toIsoString=function(a,b){return[this.getFullYear(),goog.string.padNumber(this.getMonth()+1,2),goog.string.padNumber(this.getDate(),2)].join(a?"-":"")+(b?this.getTimezoneOffsetString():"")};goog.date.Date.prototype.toUTCIsoString=function(a,b){return[this.getUTCFullYear(),goog.string.padNumber(this.getUTCMonth()+1,2),goog.string.padNumber(this.getUTCDate(),2)].join(a?"-":"")+(b?"Z":"")};
goog.date.Date.prototype.equals=function(a){return!(!a||this.getYear()!=a.getYear()||this.getMonth()!=a.getMonth()||this.getDate()!=a.getDate())};goog.date.Date.prototype.toString=function(){return this.toIsoString()};goog.date.Date.prototype.maybeFixDst_=function(a){this.getDate()!=a&&(a=this.getDate()<a?1:-1,this.date.setUTCHours(this.date.getUTCHours()+a))};goog.date.Date.prototype.valueOf=function(){return this.date.valueOf()};goog.date.Date.compare=function(a,b){return a.getTime()-b.getTime()};
goog.date.Date.fromIsoString=function(a){var b=new goog.date.Date(2E3);return goog.date.setIso8601DateOnly_(b,a)?b:null};goog.date.DateTime=function(a,b,c,d,e,f,g){goog.isNumber(a)?this.date=new Date(a,b||0,c||1,d||0,e||0,f||0,g||0):this.date=new Date(a&&a.getTime?a.getTime():goog.now())};goog.inherits(goog.date.DateTime,goog.date.Date);goog.date.DateTime.fromTimestamp=function(a){var b=new goog.date.DateTime;b.setTime(a);return b};
goog.date.DateTime.fromRfc822String=function(a){a=new Date(a);return isNaN(a.getTime())?null:new goog.date.DateTime(a)};goog.date.DateTime.prototype.getHours=function(){return this.date.getHours()};goog.date.DateTime.prototype.getMinutes=function(){return this.date.getMinutes()};goog.date.DateTime.prototype.getSeconds=function(){return this.date.getSeconds()};goog.date.DateTime.prototype.getMilliseconds=function(){return this.date.getMilliseconds()};goog.date.DateTime.prototype.getUTCDay=function(){return this.date.getUTCDay()};
goog.date.DateTime.prototype.getUTCHours=function(){return this.date.getUTCHours()};goog.date.DateTime.prototype.getUTCMinutes=function(){return this.date.getUTCMinutes()};goog.date.DateTime.prototype.getUTCSeconds=function(){return this.date.getUTCSeconds()};goog.date.DateTime.prototype.getUTCMilliseconds=function(){return this.date.getUTCMilliseconds()};goog.date.DateTime.prototype.setHours=function(a){this.date.setHours(a)};goog.date.DateTime.prototype.setMinutes=function(a){this.date.setMinutes(a)};
goog.date.DateTime.prototype.setSeconds=function(a){this.date.setSeconds(a)};goog.date.DateTime.prototype.setMilliseconds=function(a){this.date.setMilliseconds(a)};goog.date.DateTime.prototype.setUTCHours=function(a){this.date.setUTCHours(a)};goog.date.DateTime.prototype.setUTCMinutes=function(a){this.date.setUTCMinutes(a)};goog.date.DateTime.prototype.setUTCSeconds=function(a){this.date.setUTCSeconds(a)};goog.date.DateTime.prototype.setUTCMilliseconds=function(a){this.date.setUTCMilliseconds(a)};
goog.date.DateTime.prototype.isMidnight=function(){return 0==this.getHours()&&0==this.getMinutes()&&0==this.getSeconds()&&0==this.getMilliseconds()};goog.date.DateTime.prototype.add=function(a){goog.date.Date.prototype.add.call(this,a);a.hours&&this.setUTCHours(this.date.getUTCHours()+a.hours);a.minutes&&this.setUTCMinutes(this.date.getUTCMinutes()+a.minutes);a.seconds&&this.setUTCSeconds(this.date.getUTCSeconds()+a.seconds)};
goog.date.DateTime.prototype.toIsoString=function(a,b){var c=goog.date.Date.prototype.toIsoString.call(this,a);return a?c+" "+goog.string.padNumber(this.getHours(),2)+":"+goog.string.padNumber(this.getMinutes(),2)+":"+goog.string.padNumber(this.getSeconds(),2)+(b?this.getTimezoneOffsetString():""):c+"T"+goog.string.padNumber(this.getHours(),2)+goog.string.padNumber(this.getMinutes(),2)+goog.string.padNumber(this.getSeconds(),2)+(b?this.getTimezoneOffsetString():"")};
goog.date.DateTime.prototype.toXmlDateTime=function(a){return goog.date.Date.prototype.toIsoString.call(this,!0)+"T"+goog.string.padNumber(this.getHours(),2)+":"+goog.string.padNumber(this.getMinutes(),2)+":"+goog.string.padNumber(this.getSeconds(),2)+(a?this.getTimezoneOffsetString():"")};
goog.date.DateTime.prototype.toUTCIsoString=function(a,b){var c=goog.date.Date.prototype.toUTCIsoString.call(this,a);return a?c+" "+goog.string.padNumber(this.getUTCHours(),2)+":"+goog.string.padNumber(this.getUTCMinutes(),2)+":"+goog.string.padNumber(this.getUTCSeconds(),2)+(b?"Z":""):c+"T"+goog.string.padNumber(this.getUTCHours(),2)+goog.string.padNumber(this.getUTCMinutes(),2)+goog.string.padNumber(this.getUTCSeconds(),2)+(b?"Z":"")};
goog.date.DateTime.prototype.toUTCRfc3339String=function(){var a=this.toUTCIsoString(!0).replace(" ","T"),b=this.getUTCMilliseconds();return(b?a+"."+goog.string.padNumber(b,3):a)+"Z"};goog.date.DateTime.prototype.equals=function(a){return this.getTime()==a.getTime()};goog.date.DateTime.prototype.toString=function(){return this.toIsoString()};
goog.date.DateTime.prototype.toUsTimeString=function(a,b,c){var d=this.getHours();goog.isDef(b)||(b=!0);var e=12==d;12<d&&(d-=12,e=!0);0==d&&b&&(d=12);a=a?goog.string.padNumber(d,2):String(d);d=this.getMinutes();if(!c||0<d)a+=":"+goog.string.padNumber(d,2);b&&(a+=e?" PM":" AM");return a};
goog.date.DateTime.prototype.toIsoTimeString=function(a){var b=this.getHours();b=goog.string.padNumber(b,2)+":"+goog.string.padNumber(this.getMinutes(),2);if(!goog.isDef(a)||a)b+=":"+goog.string.padNumber(this.getSeconds(),2);return b};goog.date.DateTime.prototype.clone=function(){var a=new goog.date.DateTime(this.date);a.setFirstDayOfWeek(this.getFirstDayOfWeek());a.setFirstWeekCutOffDay(this.getFirstWeekCutOffDay());return a};
goog.date.DateTime.fromIsoString=function(a){var b=new goog.date.DateTime(2E3);return goog.date.setIso8601DateTime(b,a)?b:null};os.alert={};os.alert.EventType={ALERT:"alert",CLEAR_ALERTS:"clearAlerts"};os.alert.AlertEventLevel=function(a,b){this.name=a;this.value=b};os.alert.AlertEventLevel.prototype.toString=function(){return this.name};os.alert.AlertEventSeverity={ERROR:new os.alert.AlertEventLevel("Error",400),WARNING:new os.alert.AlertEventLevel("Warning",300),SUCCESS:new os.alert.AlertEventLevel("Success",200),INFO:new os.alert.AlertEventLevel("Info",100)};os.alert.AlertEventTypes={DISMISS_ALERT:"dismissAlert"};
os.alert.AlertEvent=function(a,b,c,d){goog.events.Event.call(this,os.alert.EventType.ALERT);this.message_=a;this.time_=new goog.date.DateTime;this.limit_=c||os.alert.AlertEvent.DEFAULT_LIMIT;this.dismissDispatcher_=d||null;this.severity_=b;this.id=os.alert.AlertEvent.id_++};goog.inherits(os.alert.AlertEvent,goog.events.Event);os.alert.AlertEvent.DEFAULT_LIMIT=5;os.alert.AlertEvent.id_=0;os.alert.AlertEvent.prototype.getLimit=function(){return this.limit_};
os.alert.AlertEvent.prototype.getMessage=function(){return this.message_};os.alert.AlertEvent.prototype.getTime=function(){return this.time_};os.alert.AlertEvent.prototype.getSeverity=function(){return this.severity_};os.alert.AlertEvent.prototype.getDismissDispatcher=function(){return this.dismissDispatcher_};os.defines={};os.worker={};os.NAMESPACE="opensphere";os.ROOT="../opensphere/";os.SETTINGS=".build/settings-debug.json";os.SETTINGS_DB_NAME=os.NAMESPACE+".settings";os.SHARED_FILE_DB_NAME="com.bitsys.db";os.worker.DIR="src/worker/";os.config={};os.config.appNs=os.NAMESPACE;os.config.coreNs="core";os.config.EventType={INITIALIZED:"initialized",LOADED:"loaded",WILL_CLEAR:"willClear",WILL_SAVE:"willSave",CLEARED:"cleared",SAVED:"saved",UPDATED:"updated"};os.config.ConfigType={CONFIG:"admin",PREFERENCE:"user",OVERRIDES:"overrides"};os.config.getAppName=function(a){return os.settings.get("about.application",a)};os.config.getAppVersion=function(a){return os.settings.get("about.version",a)};
os.config.getSupportContact=function(a){return os.settings.get("supportContact",a)};goog.structs.Collection=function(){};goog.structs.Set=function(a){this.map_=new goog.structs.Map;a&&this.addAll(a)};goog.structs.Set.getKey_=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+goog.getUid(a):b.substr(0,1)+a};goog.structs.Set.prototype.getCount=function(){return this.map_.getCount()};goog.structs.Set.prototype.add=function(a){this.map_.set(goog.structs.Set.getKey_(a),a)};goog.structs.Set.prototype.addAll=function(a){a=goog.structs.getValues(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};
goog.structs.Set.prototype.removeAll=function(a){a=goog.structs.getValues(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};goog.structs.Set.prototype.remove=function(a){return this.map_.remove(goog.structs.Set.getKey_(a))};goog.structs.Set.prototype.clear=function(){this.map_.clear()};goog.structs.Set.prototype.isEmpty=function(){return this.map_.isEmpty()};goog.structs.Set.prototype.contains=function(a){return this.map_.containsKey(goog.structs.Set.getKey_(a))};
goog.structs.Set.prototype.containsAll=function(a){return goog.structs.every(a,this.contains,this)};goog.structs.Set.prototype.intersection=function(a){var b=new goog.structs.Set;a=goog.structs.getValues(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};goog.structs.Set.prototype.difference=function(a){var b=this.clone();b.removeAll(a);return b};goog.structs.Set.prototype.getValues=function(){return this.map_.getValues()};goog.structs.Set.prototype.clone=function(){return new goog.structs.Set(this)};
goog.structs.Set.prototype.equals=function(a){return this.getCount()==goog.structs.getCount(a)&&this.isSubsetOf(a)};goog.structs.Set.prototype.isSubsetOf=function(a){var b=goog.structs.getCount(a);if(this.getCount()>b)return!1;!(a instanceof goog.structs.Set)&&5<b&&(a=new goog.structs.Set(a));return goog.structs.every(this,function(b){return goog.structs.contains(a,b)})};goog.structs.Set.prototype.__iterator__=function(a){return this.map_.__iterator__(!1)};os.object={};os.object.DELETE_VAL="__delete__";os.object.IGNORE_VAL="__ignore__";os.object.STRING_VAL=String({});os.object.prune=function(a){if(!a)return a;var b={},c;for(c in a)void 0!==a[c]&&(b[c]=a[c],a[c]=void 0);return b};
os.object.merge=function(a,b,c,d){goog.isDefAndNotNull(c)||(c=!0);goog.isDefAndNotNull(d)||(d=!0);for(var e in a){var f=a[e];if(e in b){var g=b[e];(null!==f&&void 0!==f||d)&&f!==os.object.IGNORE_VAL&&(f===os.object.DELETE_VAL?c&&delete b[e]:os.object.isPrimitive(f)||os.object.isPrimitive(g)?c&&(b[e]=a[e]):os.object.merge(f,g,c,d))}else os.object.isPrimitive(f)?b[e]=f:(b[e]={},os.object.merge(f,b[e],c,d))}};
os.object.isPrimitive=function(a,b){return a&&"object"==(b||goog.typeOf(a))?(a=Object.getPrototypeOf(a),null==a||null!=Object.getPrototypeOf(a)):!0};os.object.set=function(a,b,c){var d=a,e=b.length-1;goog.array.forEach(b,function(a,b){b===e?d[a]=c:(d[a]=goog.isObject(d[a])?d[a]:{},d=d[a])})};
os.object.reduce=function(a,b,c){b=null!=b?b:"";c=null!=c?c:".";var d={};if(void 0!==a)if(os.object.isPrimitive(a)||goog.isArray(a))d[b]=a;else if(goog.isObject(a))if(goog.object.isEmpty(a))d[b]=a;else for(var e in a){var f=os.object.reduce(a[e],b?b+c+e:e,c);goog.object.extend(d,f)}return d};os.object.expand=function(a,b){b=b||".";var c={},d;for(d in a)os.object.set(c,d.split(b),a[d]);return c};
os.object.delete=function(a,b){"string"===goog.typeOf(b)&&(b=b.split("."));if(0<b.length){var c=b[b.length-1];b=b.slice(0,b.length-1);var d=goog.object.getValueByKeys(a,b);"object"==goog.typeOf(d)&&(delete d[c],0===goog.object.getCount(d)&&os.object.delete(a,b))}};os.object.parseValues=function(a){for(var b in a)goog.isDef(a[b])&&goog.isString(a[b])&&(a[b]=JSON.parse(a[b]))};os.object.stringifyValues=function(a){for(var b in a)a[b]=JSON.stringify(a[b])};
os.object.getFirstValue=function(a,b){for(var c,d=1;d<arguments.length;d++){var e=arguments[d];if(e&&void 0!=e[a]){c=e[a];break}}return c};os.object.getValueExtractor=function(a){return function(b){return goog.isFunction(b[a])?b[a]():b[a]}};os.object.compareByField=function(a,b,c,d){b=os.object.getCompareFieldValue_(a,b);a=os.object.getCompareFieldValue_(a,c);return d?d(b,a):goog.array.defaultCompare(b,a)};
os.object.getCompareFieldValue_=function(a,b){if(goog.isDefAndNotNull(b))if(b[a])var c=goog.isFunction(b[a])?b[a]():b[a];else goog.string.startsWith(a,"get")||(a="get"+goog.string.toTitleCase(a),c=os.object.getCompareFieldValue_(a,b));return c||""};os.object.unsafeClone=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if(a.clone)return a.clone();b="array"==b?[]:{};for(var c in a)a.hasOwnProperty(c)&&(b[c]=os.object.unsafeClone(a[c]));return b}return a};os.config.namespace={};os.config.namespace.CORE_KEYS="consent areas filters favorite locationFormat mute search.recent storage.writeType storage.introLastSeen userSounds".split(" ");os.config.namespace.keysToDelete=new goog.structs.Set;os.config.namespace.obsoleteKeys_=null;os.config.namespace.getObsoleteKeys=function(){os.config.namespace.obsoleteKeys_||(os.config.namespace.obsoleteKeys_=[]);return os.config.namespace.obsoleteKeys_};os.config.namespace.clearObsoleteKeys=function(){goog.array.clear(os.config.namespace.getObsoleteKeys())};
os.config.namespace.removeObsoleteKeys=function(a){if(a){var b=os.config.namespace.getObsoleteKeys(),c=os.object.reduce(a);goog.array.forEach(b,function(a){goog.object.containsKey(c,a)&&(delete c[a],os.config.namespace.keysToDelete.add(a))});return os.object.expand(c)}return null};os.config.namespace.addNamespaces=function(a){a=os.object.reduce(a);var b={};goog.object.forEach(a,function(a,d){b[os.config.namespace.getPrefixedKey(d)]=a});return os.object.expand(b)};
os.config.namespace.removeNamespaces=function(a){a=os.object.reduce(a);var b=new RegExp("^("+os.config.coreNs+"|"+os.config.appNs+")\\."),c={};goog.object.forEach(a,function(a,e){c[e.replace(b,"")]=a});return os.object.expand(c)};os.config.namespace.getPrefixedKey=function(a){return[os.config.namespace.isCoreKey(a)?os.config.coreNs:os.config.appNs,a].join(".")};
os.config.namespace.getPrefixedKeys=function(a){if(a&&0<a.length){var b=a.join(".");var c=os.config.namespace.isCoreKey(b)?os.config.coreNs:os.config.appNs;b=goog.array.clone(a);b.unshift(c)}return b||[]};os.config.namespace.isCoreKey=function(a){return goog.array.some(os.config.namespace.CORE_KEYS,function(b){return goog.string.startsWith(a,b)})};os.config.storage={};os.config.storage.ISettingsStorage=function(){};os.config.storage.ISettingsStorage.ID="os.config.storage.ISettingsStorage";os.config.storage.ISettingsReadableStorage=function(){};os.config.storage.ISettingsReadableStorage.ID="os.config.storage.ISettingsReadableStorage";os.IMPLEMENTS_KEY="os_impls";os.implements=function(a,b){if(null!=a){var c=goog.typeOf(a);if("function"===c)return os.addImplements_(a,b),!0;if("object"===c)return os.getImplements_(a,b)}return!1};os.addImplements_=function(a,b){(a.prototype.hasOwnProperty(os.IMPLEMENTS_KEY)?a.prototype[os.IMPLEMENTS_KEY]:a.prototype[os.IMPLEMENTS_KEY]=[]).push(b)};
os.getImplements_=function(a,b){for(a=Object.getPrototypeOf(a);a;){if(a[os.IMPLEMENTS_KEY]&&a[os.IMPLEMENTS_KEY].length&&0<=a[os.IMPLEMENTS_KEY].indexOf(b))return!0;a=Object.getPrototypeOf(a)}return!1};os.net={};os.net.IDataFormatter=function(){};os.net.IModifier=function(){};os.net.IRequestHandler=function(){};os.net.IRequestHandler.prototype.execute=function(a,b,c,d,e,f){};os.net.RequestEventType={TRY_URL:"tryUrl",USER_URL:"userUrl"};os.net.RequestEvent=function(a,b){goog.events.Event.call(this,a);this.url=b};goog.inherits(os.net.RequestEvent,goog.events.Event);os.net.RequestHandlerFactory={};os.net.RequestHandlerFactory.list_=null;os.net.RequestHandlerFactory.addHandler=function(a){var b=os.net.RequestHandlerFactory.list_;b||(b=os.net.RequestHandlerFactory.list_=[]);-1==b.indexOf(a)&&b.push(a)};os.net.RequestHandlerFactory.removeHandler=function(a){goog.array.remove(os.net.RequestHandlerFactory.list_,a)};
os.net.RequestHandlerFactory.getHandlers=function(a,b){var c=os.net.RequestHandlerFactory.list_,d=null;if(c)for(var e=0,f=c.length;e<f;e++){var g=new c[e];g.handles(a,b)&&(d?d.push(g):d=[g])}d&&d.sort(function(a,b){return-1*goog.array.defaultCompare(a.getScore(),b.getScore())});return d};os.net.AbstractModifier=function(a,b){this.id_=a;this.priority_=goog.isDef(b)?b:0};os.net.AbstractModifier.prototype.getId=function(){return this.id_};os.net.AbstractModifier.prototype.setId=function(a){this.id_=a};os.net.AbstractModifier.prototype.getPriority=function(){return this.priority_};os.net.AbstractModifier.prototype.setPriority=function(a){this.priority_=a};os.net.AbstractModifier.prototype.modify=goog.abstractMethod;os.net.URLModifier=function(){os.net.AbstractModifier.call(this,"urlReplace",-110)};goog.inherits(os.net.URLModifier,os.net.AbstractModifier);os.net.URLModifier.replace_=[];os.net.URLModifier.configure=function(a){os.net.URLModifier.replace_.length=0;if(a)for(var b in a)os.net.URLModifier.replace_.push({search:new RegExp(b),replace:a[b]})};
os.net.URLModifier.prototype.modify=function(a){for(var b=a.toString(),c=os.net.URLModifier.replace_,d=0,e=c.length;d<e;d++)b=b.replace(c[d].search,c[d].replace);c=new goog.Uri(b);b!==a.toString()&&(a.setScheme(c.getScheme()),a.setDomain(c.getDomain()),a.setPort(c.getPort()),a.setPath(c.getPath()),a.setQuery(c.getQuery()),a.setFragment(c.getFragment()))};os.net.VariableReplacer=function(){os.net.AbstractModifier.call(this,"variables",-100)};goog.inherits(os.net.VariableReplacer,os.net.AbstractModifier);os.net.VariableReplacer.LOGGER_=goog.log.getLogger("os.net.VariableReplacer");os.net.VariableReplacer.REPLACERS_={};
os.net.VariableReplacer.add=function(a,b){a in os.net.VariableReplacer.REPLACERS_&&goog.log.warning(os.net.VariableReplacer.LOGGER_,'Overriding variable replacement function for "'+a+'"!');os.net.VariableReplacer.REPLACERS_[a]={replacer:b,regex:new RegExp("{"+a+":?([^}]+)?}","g")}};
os.net.VariableReplacer.prototype.modify=function(a){var b=a.getQueryData(),c=b.getKeys(),d=os.net.VariableReplacer.REPLACERS_,e;for(e in d){var f=d[e].replacer,g=d[e].regex;if(c)for(var h=0,k=c.length;h<k;h++){var l=c[h],m=b.get(l);if(m){var n=m.toString().replace(g,f);n!=m&&b.set(l,n)}}if(m=a.getPath())n=m.replace(g,f),n!=m&&a.setPath(n)}};os.net.VariableReplacer.getParts=function(a){return a?a.split(/\s*,\s*/):[]};os.net.Request=function(a,b){goog.events.EventTarget.call(this);this.statusCodes_=this.errors_=this.modUri_=this.handlers_=this.responseType_=this.responseHeaders_=this.response_=this.dataFormatter_=this.modifiers_=this.headers_=this.uri_=null;this.nocache_=!1;this.successfulHandlerType_=this.validator_=this.handler_=null;a&&this.setUri(a);b&&this.setMethod(b);this.addModifier(new os.net.VariableReplacer);this.addModifier(new os.net.URLModifier)};goog.inherits(os.net.Request,goog.events.EventTarget);
os.net.Request.LOGGER_=goog.log.getLogger("os.net.Request");os.net.Request.METHOD_GET="GET";os.net.Request.METHOD_POST="POST";os.net.Request.METHOD_PUT="PUT";os.net.Request.METHOD_DELETE="DELETE";os.net.Request.METHOD_HEAD="HEAD";os.net.Request.prototype.disposeInternal=function(){this.abort();this.clearResponse();os.net.Request.superClass_.disposeInternal.call(this)};os.net.Request.prototype.getUri=function(){return this.uri_};
os.net.Request.prototype.setUri=function(a){this.uri_="string"==typeof a?new goog.Uri(a):a};os.net.Request.prototype.getHeader=function(a){if(this.headers_){a=a.toLowerCase();for(var b in this.headers_)if(b.toLowerCase()==a)return this.headers_[b]}return null};os.net.Request.prototype.setHeader=function(a,b){this.headers_||(this.headers_={});this.headers_[a]=b};os.net.Request.prototype.getHeaders=function(){return this.headers_};os.net.Request.prototype.setHeaders=function(a){this.headers_=a};
os.net.Request.prototype.addModifier=function(a){if(null===this.modifiers_)this.modifiers_=[a];else{for(var b=0,c=this.modifiers_.length;b<c;b++)if(this.modifiers_[b].getId()==a.getId())throw Error('A modifier with the id "'+a.getId()+'" already exists in the set!');goog.array.binaryInsert(this.modifiers_,a,os.net.Request.modifierCompare_)}};
os.net.Request.prototype.removeModifier=function(a){if(this.modifiers_)if("string"==typeof a)for(var b=0,c=this.modifiers_.length;b<c;b++){if(this.modifiers_[b].getId()==a){this.modifiers_.splice(b,1);break}}else goog.array.binaryRemove(this.modifiers_,a,os.net.Request.modifierCompare_)};os.net.Request.modifierCompare_=function(a,b){var c=goog.array.defaultCompare(a.getPriority(),b.getPriority());return 0===c?goog.array.defaultCompare(a.getId(),b.getId()):-c};
os.net.Request.prototype.getDataFormatter=function(){return this.dataFormatter_};os.net.Request.prototype.setDataFormatter=function(a){this.dataFormatter_=a};os.net.Request.prototype.method_=os.net.Request.METHOD_GET;os.net.Request.prototype.getMethod=function(){return this.method_};os.net.Request.prototype.setMethod=function(a){this.method_=a};os.net.Request.prototype.getResponse=function(){return this.response_};os.net.Request.prototype.getResponseHeaders=function(){return this.responseHeaders_};
os.net.Request.prototype.clearResponse=function(){this.responseHeaders_=this.response_=null};os.net.Request.prototype.getResponseType=function(){return this.responseType_};os.net.Request.prototype.setResponseType=function(a){this.responseType_=a};os.net.Request.prototype.getValidator=function(){return this.validator_};os.net.Request.prototype.setValidator=function(a){this.validator_=a};os.net.Request.prototype.getErrors=function(){return this.errors_};os.net.Request.prototype.getStatusCodes=function(){return this.statusCodes_};
os.net.Request.prototype.getSuccessfulHandlerType=function(){return this.successfulHandlerType_};os.net.Request.prototype.abort=function(){this.handler_&&(this.removeHandlerListeners(this.handler_),this.handler_.abort(),this.handlerCleanup_());this.dispatchEvent(goog.net.EventType.ABORT)};
os.net.Request.prototype.getPromise=function(){var a=this,b=null;return(new goog.Promise(function(c,d){b=function(e){b&&(a.unlisten(goog.net.EventType.SUCCESS,b),a.unlisten(goog.net.EventType.ERROR,b),a.unlisten(goog.net.EventType.ABORT,b));e.type===goog.net.EventType.SUCCESS?c(a.getResponse()):d(a.getErrors())};a.listen(goog.net.EventType.SUCCESS,b);a.listen(goog.net.EventType.ERROR,b);a.listen(goog.net.EventType.ABORT,b);a.load()})).thenCatch(function(c){b&&c instanceof goog.Promise.CancellationError&&
(a.unlisten(goog.net.EventType.SUCCESS,b),a.unlisten(goog.net.EventType.ERROR,b),a.unlisten(goog.net.EventType.ABORT,b),a.abort(),c=a.getErrors());throw c;})};
os.net.Request.prototype.load=function(a){var b=this.getUri();this.errors_=this.responseHeaders_=this.response_=this.modUri_=null;this.nocache_=!!a;if(b){a=b.clone();if(this.modifiers_){b.enforceReadOnly();b=0;for(var c=this.modifiers_.length;b<c;b++)this.modifiers_[b].modify(a)}this.modUri_=a;os.dispatcher.dispatchEvent(new os.net.RequestEvent(os.net.RequestEventType.TRY_URL,this.modUri_.toString()));if((this.handlers_=os.net.RequestHandlerFactory.getHandlers(this.getMethod(),a))&&this.handlers_.length)goog.log.info(os.net.Request.LOGGER_,
(this.nocache_?"NOCACHE ":"")+this.getMethod()+" "+a),this.executeHandlers_();else throw a="No handlers were found for URI: "+a,goog.log.error(os.net.Request.LOGGER_,a),Error(a);}else throw a="No URI set for request!",goog.log.error(os.net.Request.LOGGER_,a),Error(a);};
os.net.Request.prototype.executeHandlers_=function(){this.handlers_&&this.handlers_.length&&(this.handler_&&this.removeHandlerListeners(this.handler_),this.handler_=this.handlers_.shift(),this.addHandlerListeners(this.handler_),this.handler_.execute(this.getMethod(),this.modUri_.clone(),this.headers_,this.getDataFormatter(),this.nocache_,this.responseType_))};
os.net.Request.prototype.addHandlerListeners=function(a){a.listen(goog.net.EventType.SUCCESS,this.onHandlerComplete_,!1,this);a.listen(goog.net.EventType.ERROR,this.onHandlerError_,!1,this)};os.net.Request.prototype.removeHandlerListeners=function(a){a.unlisten(goog.net.EventType.SUCCESS,this.onHandlerComplete_);a.unlisten(goog.net.EventType.ERROR,this.onHandlerError_)};
os.net.Request.prototype.onHandlerComplete_=function(a){this.response_=this.handler_.getResponse();this.responseHeaders_=this.handler_.getResponseHeaders();this.successfulHandlerType_=this.handler_.getHandlerType();this.statusCodes_||(this.statusCodes_=[]);this.statusCodes_.push(this.handler_.getStatusCode());if(this.response_&&this.validator_){var b=this.validator_(this.response_,this.responseHeaders_["Content-Type"]);this.addError_(b)}this.handlerCleanup_();b?(goog.log.error(os.net.Request.LOGGER_,
b),this.dispatchEvent(goog.net.EventType.ERROR)):this.dispatchEvent(goog.net.EventType.SUCCESS)};os.net.Request.prototype.addError_=function(a){a&&(this.errors_||(this.errors_=[]),this.errors_.push(a))};
os.net.Request.prototype.onHandlerError_=function(a){this.response_=this.handler_.getResponse();this.responseHeaders_=this.handler_.getResponseHeaders();this.statusCodes_||(this.statusCodes_=[]);(a=this.handler_.getErrors())&&a.forEach(this.addError_,this);this.statusCodes_.push(this.handler_.getStatusCode());this.handlers_&&this.handlers_.length&&!this.handler_.isHandled()?this.executeHandlers_():(goog.log.error(os.net.Request.LOGGER_,"Error! See fine log for more details. "+this.modUri_),this.handlerCleanup_(),
this.dispatchEvent(goog.net.EventType.ERROR))};os.net.Request.prototype.handlerCleanup_=function(){this.handler_&&(this.removeHandlerListeners(this.handler_),this.handler_.dispose());this.handlers_=this.handler_=null};os.config.storage.SettingsFile=function(a,b){this.uri_=a;this.name="file: "+a;this.suppressErrors_=!!b};os.implements(os.config.storage.SettingsFile,os.config.storage.ISettingsStorage.ID);os.implements(os.config.storage.SettingsFile,os.config.storage.ISettingsReadableStorage.ID);os.config.storage.SettingsFile.prototype.init=function(){return goog.async.Deferred.succeed()};
os.config.storage.SettingsFile.prototype.getSettings=function(){var a=new goog.async.Deferred,b=new os.net.Request;b.listen(goog.net.EventType.SUCCESS,goog.partial(this.onGetSuccess_,a),!1,this);b.listen(goog.net.EventType.ERROR,goog.partial(this.onGetFail_,a),!1,this);b.setUri(this.uri_);b.load();return a};
os.config.storage.SettingsFile.prototype.onGetSuccess_=function(a,b){b=b.target;var c=b.getResponse();b.dispose();c=c.replace(/\/\*[\s\S]*\*\//mg,"");b=JSON.parse(c);b[os.config.ConfigType.PREFERENCE]=os.config.namespace.addNamespaces(b[os.config.ConfigType.PREFERENCE]||{});a.callback(b)};os.config.storage.SettingsFile.prototype.onGetFail_=function(a,b){this.suppressErrors_?a.callback({}):a.errback(b)};os.config.storage.SettingsFile.prototype.name="file";
os.config.storage.SettingsFile.prototype.canAccess=!0;os.config.storage.SettingsStorageLoader=function(a){this.registry_=a;this.currentReadIndex_=0;this.loadConfig_={}};os.config.storage.SettingsStorageLoader.LOGGER_=goog.log.getLogger("os.config.storage.SettingsStorageLoader");os.config.storage.SettingsStorageLoader.prototype.init=function(){for(var a=[],b=0,c=this.registry_.getNumberOfStorages();b<c;b++)a.push(this.registry_.getStorageAt(b).init());return a.length?(new goog.async.DeferredList(a)).addCallback(this.onInit_,this):goog.async.Deferred.fail("No settings storages registered.")};
os.config.storage.SettingsStorageLoader.prototype.onInit_=function(a){goog.array.forEach(a,function(a,c){a[0]||(this.registry_.getStorageAt(c).canAccess=!1)},this)};os.config.storage.SettingsStorageLoader.prototype.loadAll=function(){this.currentReadIndex_=0;this.loadConfig_={};this.loadConfig_[os.config.ConfigType.PREFERENCE]={};this.loadConfig_[os.config.ConfigType.CONFIG]={};return this.getNext_()};
os.config.storage.SettingsStorageLoader.prototype.getNext_=function(){if(this.currentReadIndex_<this.registry_.getNumberOfStorages()){var a=this.registry_.getStorageAt(this.currentReadIndex_).getSettings();a.addCallback(this.onGet_,this).addErrback(this.onGetFail_,this);return a}return goog.async.Deferred.succeed(this.loadConfig_)};
os.config.storage.SettingsStorageLoader.prototype.onGet_=function(a){var b=os.object.unsafeClone(a);if(goog.object.containsKey(b,os.config.ConfigType.OVERRIDES)){var c=b[os.config.ConfigType.OVERRIDES];if(goog.isArray(c)){b=0;for(var d=c.length;b<d;b++)this.registry_.addStorage(new os.config.storage.SettingsFile(c[b],!0),this.currentReadIndex_+b+1)}}if(goog.object.containsKey(a,os.config.ConfigType.PREFERENCE)){c=os.object.unsafeClone(a[os.config.ConfigType.PREFERENCE]);var e=[os.config.coreNs,os.config.appNs];
b=0;for(d=e.length;b<d;b++){var f=e[b],g=os.object.reduce(c[f]),h={};goog.object.forEach(g,function(a,b){if(b){var c=goog.object.getValueByKeys(this.loadConfig_,(os.config.ConfigType.PREFERENCE+"."+f+"."+b).split("."));goog.isArray(c)&&goog.isArray(a)&&(goog.log.info(os.config.storage.SettingsStorageLoader.LOGGER_,"Merging settings arrays - existingVal: "+c+", value: "+a),goog.array.insertArrayAt(a,c,a.length),goog.log.info(os.config.storage.SettingsStorageLoader.LOGGER_,"Result of merge: "+a));h[b]=
a}},this);c[f]=os.object.expand(h)}os.object.merge(c,this.loadConfig_[os.config.ConfigType.PREFERENCE])}goog.object.containsKey(a,os.config.ConfigType.CONFIG)&&(a=os.object.unsafeClone(a[os.config.ConfigType.CONFIG]),os.object.merge(a,this.loadConfig_[os.config.ConfigType.CONFIG]));this.currentReadIndex_+=1;return this.getNext_()};os.config.storage.SettingsStorageLoader.prototype.onGetFail_=function(){this.registry_.getStorageAt(this.currentReadIndex_).canAccess=!1;this.currentReadIndex_+=1;return this.getNext_()};os.config.storage.SettingsWritableStorageType={LOCAL:"local",REMOTE:"remote"};os.config.storage.ISettingsWritableStorage=function(){};os.config.storage.ISettingsWritableStorage.ID="os.config.storage.ISettingsWritableStorage";os.config.storage.SettingsStorageRegistry=function(){this.availableReadStorages_=[];this.writeToType_=os.config.storage.SettingsWritableStorageType.LOCAL;this.writeToStorage_=null;this.hasRemoteStorage=!1};goog.addSingletonGetter(os.config.storage.SettingsStorageRegistry);
os.config.storage.SettingsStorageRegistry.prototype.addStorage=function(a,b){goog.array.insertAt(this.availableReadStorages_,a,goog.isDef(b)?b:this.availableReadStorages_.length);a.writeType===os.config.storage.SettingsWritableStorageType.REMOTE&&(this.hasRemoteStorage=!0)};os.config.storage.SettingsStorageRegistry.prototype.getNumberOfStorages=function(){return this.availableReadStorages_.length};
os.config.storage.SettingsStorageRegistry.prototype.getStorageAt=function(a){return this.availableReadStorages_[a]||null};os.config.storage.SettingsStorageRegistry.prototype.getWriteStorageType=function(){return this.writeToType_};os.config.storage.SettingsStorageRegistry.prototype.setWriteStorageType=function(a){this.writeToType_=a;this.updateWriteStorage_();return!!this.writeToStorage_};
os.config.storage.SettingsStorageRegistry.prototype.updateWriteStorage_=function(){for(var a=null,b=this.availableReadStorages_.length-1;0<=b;b--){var c=this.availableReadStorages_[b];if(os.implements(c,os.config.storage.ISettingsWritableStorage.ID)&&c.writeType===this.writeToType_&&c.canAccess){a=c;break}}if(this.writeToStorage_=a){for(b=this.availableReadStorages_.length-1;0<=b;b--)c=this.availableReadStorages_[b],os.implements(c,os.config.storage.ISettingsWritableStorage.ID)&&c!==this.writeToStorage_&&
(c.needsCleared=!0);this.writeToStorage_.needsCleared=!1}};os.config.storage.SettingsStorageRegistry.prototype.getWriteStorage=function(){this.writeToStorage_&&this.writeToStorage_.canAccess||this.updateWriteStorage_();return this.writeToStorage_};os.config.storage.SettingsStorageRegistry.prototype.getStoragesToClear=function(){return goog.array.filter(this.availableReadStorages_,function(a){return os.implements(a,os.config.storage.ISettingsWritableStorage.ID)&&a.needsCleared},this)};os.events={};os.events.SettingChangeEvent=function(a,b,c,d){goog.events.Event.call(this,a,d);this.newVal=void 0!=b?b:null;this.oldVal=void 0!=c?c:null};goog.inherits(os.events.SettingChangeEvent,goog.events.Event);os.events.EventType={CANCEL:"cancel",COMPLETE:"complete",ERROR:"error",RESET:"reset",MAP_MODE:"mapmode"};os.storage={};os.SHARED_STORE_NAME="shared";os.SHARED_DB_NAME=os.NAMESPACE+".shared";os.storage.clearStorage=function(a){os.settings.reset().then(goog.partial(os.storage.resetInternal_,a),os.storage.reloadPage_)};goog.exportProperty(window,"cls",os.storage.clearStorage);
os.storage.resetInternal_=function(a){window.localStorage.clear();localStorage.setItem("resetDate",os.config.appNs+" "+(new Date).toISOString());os.dispatcher.hasListener(os.events.EventType.RESET)?(os.dispatcher.dispatchEvent(os.events.EventType.RESET),a||(a=new goog.async.ConditionalDelay(os.storage.canReset_),a.onSuccess=os.storage.saveAndReload_,a.onFailure=os.storage.saveAndReload_,a.start(100,5E3))):a||os.storage.reloadPage_()};os.storage.incrementResetTasks=function(){os.storage.pendingResetTasks_++};
os.storage.decrementResetTasks=function(){os.storage.pendingResetTasks_--};os.storage.pendingResetTasks_=0;os.storage.canReset_=function(){return 0>=os.storage.pendingResetTasks_};os.storage.saveAndReload_=function(){os.settings.save().then(os.storage.reloadPage_,os.storage.reloadPage_)};os.storage.reloadPage_=function(){os.settings.setPersistenceEnabled(!1);window.location.reload(!0)};os.xt={};os.xt.IMessageHandler=function(){};goog.structs.CircularBuffer=function(a){this.nextPtr_=0;this.maxSize_=a||100;this.buff_=[]};goog.structs.CircularBuffer.prototype.add=function(a){var b=this.buff_[this.nextPtr_];this.buff_[this.nextPtr_]=a;this.nextPtr_=(this.nextPtr_+1)%this.maxSize_;return b};goog.structs.CircularBuffer.prototype.get=function(a){a=this.normalizeIndex_(a);return this.buff_[a]};goog.structs.CircularBuffer.prototype.set=function(a,b){a=this.normalizeIndex_(a);this.buff_[a]=b};
goog.structs.CircularBuffer.prototype.getCount=function(){return this.buff_.length};goog.structs.CircularBuffer.prototype.isEmpty=function(){return 0==this.buff_.length};goog.structs.CircularBuffer.prototype.clear=function(){this.nextPtr_=this.buff_.length=0};goog.structs.CircularBuffer.prototype.getValues=function(){return this.getNewestValues(this.getCount())};
goog.structs.CircularBuffer.prototype.getNewestValues=function(a){var b=this.getCount(),c=[];for(a=this.getCount()-a;a<b;a++)c.push(this.get(a));return c};goog.structs.CircularBuffer.prototype.getKeys=function(){for(var a=[],b=this.getCount(),c=0;c<b;c++)a[c]=c;return a};goog.structs.CircularBuffer.prototype.containsKey=function(a){return a<this.getCount()};goog.structs.CircularBuffer.prototype.containsValue=function(a){for(var b=this.getCount(),c=0;c<b;c++)if(this.get(c)==a)return!0;return!1};
goog.structs.CircularBuffer.prototype.getLast=function(){return 0==this.getCount()?null:this.get(this.getCount()-1)};goog.structs.CircularBuffer.prototype.normalizeIndex_=function(a){if(a>=this.buff_.length)throw Error("Out of bounds exception");return this.buff_.length<this.maxSize_?a:(this.nextPtr_+Number(a))%this.maxSize_};os.structs={};os.structs.EventType={DATA_CHANGED:"dataChanged",VIEW_DATA_CHANGED:"viewDataChanged",SOURCE_DATA_CHANGED:"sourceDataChanged"};os.alert.AlertManager=function(){goog.events.EventTarget.call(this);this.savedAlerts_=new goog.structs.CircularBuffer(os.alert.AlertManager.MAX_SAVED);this.processedByClientCount_={};this.missedAlertsProcessed_=!1};goog.inherits(os.alert.AlertManager,goog.events.EventTarget);goog.addSingletonGetter(os.alert.AlertManager);os.alert.AlertManager.MAX_SAVED=1E4;
os.alert.AlertManager.prototype.sendAlert=function(a,b,c,d,e){b=b||os.alert.AlertEventSeverity.ERROR;d=new os.alert.AlertEvent(a,b,d,e);this.savedAlerts_.add(d);this.dispatchEvent(d);if(goog.isDefAndNotNull(c))switch(b){case os.alert.AlertEventSeverity.ERROR:goog.log.error(c,a);break;case os.alert.AlertEventSeverity.WARNING:goog.log.warning(c,a);break;default:goog.log.info(c,a)}};os.alert.AlertManager.prototype.clearAlerts=function(){this.savedAlerts_.clear();this.dispatchEvent(os.alert.EventType.CLEAR_ALERTS)};
os.alert.AlertManager.prototype.getAlerts=function(){return this.savedAlerts_};os.alert.AlertManager.prototype.processMissedAlerts=function(a,b,c){if(!this.missedAlertsProcessed_){var d=this.processedByClientCount_[a]||0;d=goog.array.slice(this.savedAlerts_.getValues(),0,this.savedAlerts_.getCount()-d);goog.array.forEach(d,b,c);this.processedByClientCount_[a]=this.savedAlerts_.getCount();this.missedAlertsProcessed_=!0}};os.alertManager=os.alert.AlertManager.getInstance();os.xt.events={};os.xt.events.MasterChangedEvent={};os.xt.events.DISPATCHER=new goog.events.EventTarget;os.xt.events.EventType={MASTER_APPOINTED:"os.xt.events.masterAppointed"};os.xt.events.EventType.forGroup=function(a,b){return[a,b].join(".")};os.xt.Peer=function(a){if(!a){if(!("localStorage"in window&&window.localStorage))throw Error("This browser does not support localStorage!");a=window.localStorage}this.storage_=a;this.isInit_=!1;this.id_=goog.string.getRandomString();this.group_="default";this.title_=document.title;this.details_="";this.handlers_=[];this.pingTimer_=null;this.lastPing_=0;this.establishMasterDelay_=null;this.waitList_=[];this.crossOriginEnabled_=!1;this.allowedOrigins_=null;this.waitListDelay_=new goog.async.Delay(this.processWaitList_.bind(this));
this.errorShown_=!1;goog.events.listen(window,goog.events.EventType.MESSAGE,this.onWebMessage_,!1,this)};goog.addSingletonGetter(os.xt.Peer);os.xt.Peer.PING_INTERVAL=1E4;os.xt.Peer.LOGGER_=goog.log.getLogger("os.xt.Peer");os.xt.Peer.prototype.isCrossOrigin=function(){return this.crossOriginEnabled_};os.xt.Peer.prototype.setCrossOrigin=function(a){this.crossOriginEnabled_=a};os.xt.Peer.prototype.getAllowedOrigins=function(){return this.allowedOrigins_};
os.xt.Peer.prototype.setAllowedOrigins=function(a){this.allowedOrigins_=a};os.xt.Peer.prototype.onWebMessage_=function(a){if(this.isCrossOrigin()){var b=this.getAllowedOrigins();if(!b||-1<b.indexOf(a.origin))goog.isString(a.data)?os.xt.Peer.getInstance().handleMessage(a.data,a.origin):goog.log.error(os.xt.Peer.LOGGER_,"Only stringified JSON is allowed as message payload content")}};os.xt.Peer.prototype.disableCrossOriginMessages=function(){};
os.xt.Peer.isMaster=function(a,b,c){return c.getItem(os.xt.Peer.getMasterKey_(b))===a};os.xt.Peer.getMasterKey_=function(a){return"xt."+(a||"default")+".master"};os.xt.Peer.getPingKey_=function(a,b){return"xt."+a+"."+b+".ping"};os.xt.Peer.getLastPing_=function(a,b,c){return(a=c.getItem(os.xt.Peer.getPingKey_(a,b)))?parseInt(a,10):null};
os.xt.Peer.cleanupPeer_=function(a,b,c){for(var d=["xt",a,b].join("."),e=c.length-1;0<=e;e--){var f=c.key(e);0===f.indexOf(d)&&c.removeItem(f)}c.getItem("xt."+a+".master")===b&&c.removeItem("xt."+a+".master")};os.xt.Peer.prototype.getId=function(){return this.id_};os.xt.Peer.prototype.setId=function(a){this.id_=a;this.persist()};os.xt.Peer.prototype.getGroup=function(){return this.group_};os.xt.Peer.prototype.setGroup=function(a){this.group_=a;this.persist()};os.xt.Peer.prototype.getTitle=function(){return this.title_};
os.xt.Peer.prototype.setTitle=function(a){this.title_=a;this.persist()};os.xt.Peer.prototype.getDetails=function(){return this.details_};os.xt.Peer.prototype.setDetails=function(a){this.details_=a;this.persist()};os.xt.Peer.prototype.addHandler=function(a){-1==this.handlers_.indexOf(a)&&this.handlers_.push(a);this.persist()};
os.xt.Peer.prototype.getTypes=function(){for(var a=new goog.structs.Set,b=0,c=this.handlers_.length;b<c;b++)for(var d=this.handlers_[b].getTypes(),e=0,f=d.length;e<f;e++)a.add(d[e]);return goog.structs.getValues(a)};
os.xt.Peer.prototype.persist=function(){this.isInit_&&this.id_&&this.title_&&this.group_&&(this.storage_.setItem(["xt",this.group_,this.id_,"title"].join("."),this.title_),this.storage_.setItem(["xt",this.group_,this.id_,"details"].join("."),this.details_),this.storage_.setItem(["xt",this.group_,this.id_,"types"].join("."),JSON.stringify(this.getTypes())))};
os.xt.Peer.prototype.init=function(){this.isInit_=!0;this.persist();window.addEventListener("storage",this.onStorage_.bind(this));window.addEventListener("unload",this.cleanup_.bind(this));this.pingTimer_=new goog.Timer(os.xt.Peer.PING_INTERVAL);this.pingTimer_.listen(goog.Timer.TICK,this.onPing_,!1,this);this.onPing_();this.pingTimer_.start();goog.log.fine(os.xt.Peer.LOGGER_,"Initialized peer "+this.group_+"."+this.id_+' "'+this.title_+'"')};
os.xt.Peer.prepareSendData=function(a,b){return JSON.stringify({type:a,data:b,time:Date.now()})};
os.xt.Peer.prototype.send=function(a,b,c){if(this.isInit_){c||(c="public");try{this.storage_.setItem(["xt",this.group_,c,this.id_].join("."),os.xt.Peer.prepareSendData(a,b))}catch(d){goog.log.error(os.xt.Peer.LOGGER_,"A cross-app communication event was unable to be sent. This usually happens because the data was too large or because the storage is corrupted.",d),this.errorShown_||(this.errorShown_=!0,os.alert.AlertManager.getInstance().sendAlert("A cross-app communication event was unable to be sent. This usually happens because the data was too large or because the storage is corrupted. View the log for more details.",
os.alert.AlertEventSeverity.ERROR))}}else goog.log.warning(os.xt.Peer.LOGGER_,"Peer.send() was called but the peer has not been initialized")};os.xt.Peer.prototype.isAppOpen=function(a,b){return goog.array.contains(this.getPeers(b),a)};os.xt.Peer.prototype.getPingKey_=function(a){return os.xt.Peer.getPingKey_(this.group_,a||this.id_)};os.xt.Peer.prototype.getLastPing_=function(a){a=a||this.id_;return a===this.id_?this.pingTimer_?this.lastPing_:null:os.xt.Peer.getLastPing_(this.group_,a,this.storage_)};
os.xt.Peer.prototype.getMasterKey_=function(){return os.xt.Peer.getMasterKey_(this.group_)};os.xt.Peer.prototype.getMasterId_=function(){return this.storage_.getItem(this.getMasterKey_())};os.xt.Peer.prototype.isPeerAlive_=function(a){a=this.getLastPing_(a);var b=this.getLastPing_();return goog.isDefAndNotNull(a)&&b-a<1.5*os.xt.Peer.PING_INTERVAL};
os.xt.Peer.prototype.onPing_=function(a){goog.log.fine(os.xt.Peer.LOGGER_,"Updating ping for peer "+this.group_+"."+this.id_);this.lastPing_=Date.now();this.storage_.setItem(this.getPingKey_(),String(this.lastPing_));this.isMaster()?(this.buryDeadPeers_(),this.ageOffPublicMessages_()):(a=this.getMasterId_(),a&&this.isPeerAlive_(a)||(a&&os.xt.Peer.cleanupPeer_(this.group_,a,this.storage_),this.establishMaster_()))};
os.xt.Peer.prototype.buryDeadPeers_=function(){for(var a=this.getPeers(void 0,!0),b=0,c=a.length;b<c;b++)this.isPeerAlive_(a[b])||os.xt.Peer.cleanupPeer_(this.group_,a[b],this.storage_)};os.xt.Peer.prototype.ageOffPublicMessages_=function(){for(var a="xt."+this.group_+".public.",b=this.storage_.length-1;0<=b;b--){var c=this.storage_.key(b);if(0===c.indexOf(a)){var d=JSON.parse(this.storage_.getItem(c)||"");1E4<this.lastPing_-d.time&&this.storage_.removeItem(c)}}};
os.xt.Peer.prototype.establishMaster_=function(){this.establishMasterDelay_||(this.establishMasterDelay_=new goog.async.Delay(this.doEstablishMaster_,25,this),this.establishMasterDelay_.start())};os.xt.Peer.prototype.doEstablishMaster_=function(){if(this.isPeerAlive_(this.getId())){var a=this.getPeers();a.push(this.getId());goog.array.sort(a);a[0]===this.getId()&&this.becomeMaster_()}this.establishMasterDelay_.stop();this.establishMasterDelay_.dispose();this.establishMasterDelay_=null};
os.xt.Peer.prototype.isMaster=function(){return os.xt.Peer.isMaster(this.getId(),this.getGroup(),this.storage_)};os.xt.Peer.prototype.becomeMaster_=function(){var a=this.getMasterKey_();this.storage_.getItem(a)||(this.storage_.setItem(a,this.id_),os.xt.events.DISPATCHER.dispatchEvent(new goog.events.Event(os.xt.events.EventType.forGroup(os.xt.events.EventType.MASTER_APPOINTED,this.group_))))};
os.xt.Peer.prototype.getPeers=function(a,b){b=b||!1;for(var c="xt."+this.group_+".",d=[],e=this.storage_.length-1;0<=e;e--){var f=this.storage_.key(e);0===f.indexOf(c)&&(f=f.split("."),2<f.length&&"master"!==f[2]&&"public"!==f[2]&&f[2]!==this.id_&&-1===d.indexOf(f[2])&&(b||this.isPeerAlive_(f[2]))&&(a?-1<JSON.parse(this.storage_.getItem(f.slice(0,3).join(".")+".types")||"[]").indexOf(a)&&d.push(f[2]):d.push(f[2])))}return d};
os.xt.Peer.prototype.waitForPeer=function(a,b,c){var d=new goog.async.Deferred;this.waitList_.push({peerId:a,messageType:b,expiration:Date.now()+(c||3E4),deferred:d});this.processWaitList_();return d};os.xt.Peer.prototype.mapIdToInfo_=function(a,b,c){return os.xt.PeerInfo.load(this.group_,a,this.storage_)};os.xt.Peer.prototype.getPeerInfo=function(a){return this.getPeers(a).map(this.mapIdToInfo_,this)};os.xt.Peer.notThese_=["ping","title","details","types"];
os.xt.Peer.prototype.onStorage_=function(a){var b=[];a.key&&(b=a.key.split("."));4!==b.length||"xt"!==b[0]||b[1]!==this.group_||b[2]!==this.id_&&"public"!=b[2]||!a.newValue?4===b.length&&"xt"===b[0]&&b[1]===this.group_&&0<os.xt.Peer.notThese_.indexOf(b[3])&&this.processWaitList_():-1===os.xt.Peer.notThese_.indexOf(b[3])&&b[3]!==this.id_&&this.handleMessage(a.newValue,b[3])&&"public"!==b[2]&&this.storage_.removeItem(a.key);a.key!==this.getMasterKey_()||a.newValue||this.establishMaster_()};
os.xt.Peer.prototype.cleanup_=function(a){os.xt.Peer.cleanupPeer_(this.group_,this.id_,this.storage_);this.pingTimer_&&(this.pingTimer_.stop(),this.pingTimer_.unlisten(goog.Timer.TICK,this.onPing_,!1,this),this.pingTimer_.dispose(),this.pingTimer_=null);this.waitListDelay_&&(this.waitListDelay_.stop(),this.waitListDelay_.dispose(),this.waitListDelay_=null)};os.xt.Peer.prototype.destroy=function(){this.cleanup_()};
os.xt.Peer.prototype.handleMessage=function(a,b){a=JSON.parse(a);for(var c=0,d=this.handlers_.length;c<d;c++)if(-1<this.handlers_[c].getTypes().indexOf(a.type)){goog.log.fine(os.xt.Peer.LOGGER_,"Found handler for message with type "+a.type);try{return this.handlers_[c].process(a.data,a.type,b,a.time),!0}catch(e){goog.log.error(os.xt.Peer.LOGGER_,"Error while handling message!",e)}}else goog.log.fine(os.xt.Peer.LOGGER_,"Could not find handler for message with type "+a.type+" in "+this.getTypes());
return!1};
os.xt.Peer.prototype.processWaitList_=function(){var a=this.waitList_,b=Date.now();for(this.waitList_=[];0<a.length;){var c=a.shift(),d=c.messageType,e=os.xt.PeerInfo.load(this.group_,c.peerId,this.storage_);e&&d&&(goog.array.contains(e.types,d)||(e=null));e?c.deferred.callback(e):b>c.expiration?c.deferred.errback():this.waitList_.push(c)}this.waitList_.length&&(b=Date.now(),a=b+os.xt.Peer.PING_INTERVAL,a=goog.array.reduce(this.waitList_,function(a,b,c,d){return Math.min(a,b.expiration)},a),this.waitListDelay_.start(a-
b))};os.xt.PeerInfo=function(a,b,c,d,e){this.group=a||"default";this.id=b||"";this.title=c||"";this.details=d||"";this.types=e||[]};os.xt.PeerInfo.load=function(a,b,c){if(!a||!b||!os.xt.Peer.getLastPing_(a,b,c))return null;var d="xt."+a+"."+b+".",e=JSON.parse(c.getItem(d+"types")||"[]"),f=c.getItem(d+"title")||"";c=c.getItem(d+"details")||"";return new os.xt.PeerInfo(a,b,f,c,e)};os.config.Settings=function(){goog.events.EventTarget.call(this);this.storageRegistry_=new os.config.storage.SettingsStorageRegistry;this.storageLoader_=new os.config.storage.SettingsStorageLoader(this.storageRegistry_);this.mergedConfig_={};this.actualConfig_={};this.actualConfig_[os.config.ConfigType.PREFERENCE]={};this.actualConfig_[os.config.ConfigType.CONFIG]={};this.deltaConfig_={};this.loaded_=this.initialized_=!1;this.persistenceEnabled_=!0;this.writeStorageChanged_=!1;this.periodicSaveTimer_=
new goog.Timer(6E4);this.periodicSaveTimer_.listen(goog.Timer.TICK,function(){this.save()},!1,this);this.periodicSaveTimer_.start();this.changed_=!1;this.toNotifyExternal_=[];this.toNotifyInternal_=[];this.reloadDelay_=new goog.async.Delay(this.reload,500,this);this.maxStorageFails_=10;this.storageFails_={};this.saveDelay_=new goog.async.Delay(this.save,500,this);this.peer_=null};goog.inherits(os.config.Settings,goog.events.EventTarget);goog.addSingletonGetter(os.config.Settings);
os.config.Settings.LOGGER_=goog.log.getLogger("os.config.Settings");os.config.Settings.KEY_="settings";os.config.Settings.WRITE_STORAGE_BACKUP_KEY="opensphere.config.storage.writeType";os.config.Settings.prototype.getStorageRegistry=function(){return this.storageRegistry_};
os.config.Settings.prototype.init=function(){this.initialized_?goog.log.warning(os.config.Settings.LOGGER_,"Settings already initialized!"):(goog.log.fine(os.config.Settings.LOGGER_,"Initializing settings."),this.loaded_=!1,this.peer_=new os.xt.Peer,this.peer_.setTitle(os.config.appNs+"Settings"),this.peer_.setGroup(os.config.Settings.KEY_),this.peer_.addHandler(this),this.peer_.init(),this.storageLoader_.init().addBoth(this.onInit_,this))};
os.config.Settings.prototype.onInit_=function(){goog.log.fine(os.config.Settings.LOGGER_,"Settings initialized.");this.initialized_=!0;this.dispatchEvent(new goog.events.Event(os.config.EventType.INITIALIZED))};os.config.Settings.prototype.isInitialized=function(){return this.initialized_};os.config.Settings.prototype.isLoaded=function(){return this.loaded_};os.config.Settings.prototype.getPersistenceEnabled=function(){return this.persistenceEnabled_};
os.config.Settings.prototype.setPersistenceEnabled=function(a){this.persistenceEnabled_=a};os.config.Settings.prototype.load=function(){goog.log.fine(os.config.Settings.LOGGER_,"Loading settings");this.loaded_=!1;this.storageLoader_.loadAll().addBoth(this.onLoad_,this)};os.config.Settings.prototype.reload=function(){goog.log.fine(os.config.Settings.LOGGER_,"Reloading settings");this.storageLoader_.loadAll().addBoth(this.onReload_,this)};
os.config.Settings.prototype.onReload_=function(a){this.mergedConfig_={};this.actualConfig_={};this.onLoad_(a);a=0;for(var b=this.toNotifyInternal_.length;a<b;a++){var c=this.toNotifyInternal_[a];this.dispatchChange_(c.keys,this.get(c.keys),c.oldValue,!0)}this.toNotifyInternal_=[]};
os.config.Settings.prototype.onLoad_=function(a){goog.log.fine(os.config.Settings.LOGGER_,"Settings loaded");if(a){this.actualConfig_=a;if(goog.object.containsKey(a,os.config.ConfigType.PREFERENCE)){var b=os.config.namespace.removeNamespaces(a[os.config.ConfigType.PREFERENCE]);os.object.merge(b,this.mergedConfig_)}goog.object.containsKey(a,os.config.ConfigType.CONFIG)&&os.object.merge(a[os.config.ConfigType.CONFIG],this.mergedConfig_);this.actualConfig_[os.config.ConfigType.PREFERENCE]=os.config.namespace.removeObsoleteKeys(this.actualConfig_[os.config.ConfigType.PREFERENCE])}this.finalizeLoadSettings_()};
os.config.Settings.prototype.finalizeLoadSettings_=function(){for(var a=!0,b=0,c=this.storageRegistry_.getNumberOfStorages();b<c;b++){var d=this.storageRegistry_.getStorageAt(b),e=d.canAccess;a=a&&e;e||goog.log.error(os.config.Settings.LOGGER_,"Settings failed to load from "+d.name)}a||this.alertOneFailed_();a=goog.object.getValueByKeys(this.mergedConfig_,["storage","writeType"])||os.config.storage.SettingsWritableStorageType.LOCAL;this.loaded_=this.initialized_=!0;this.setWriteStorageType(a);goog.log.info(os.config.Settings.LOGGER_,
"Settings finished loading");this.dispatchEvent(new goog.events.Event(os.config.EventType.LOADED))};
os.config.Settings.prototype.setWriteStorageType=function(a,b){this.writeStorageChanged_=!0;this.storageRegistry_.setWriteStorageType(a)?(goog.log.fine(os.config.Settings.LOGGER_,"Updated setting write type to "+a),this.persistenceEnabled_=!0,b&&this.alertTypeChange_()):(goog.log.error(os.config.Settings.LOGGER_,"Updated setting write type to '"+a+"', but there was no accessible, registered storage to match.  Peristence will be disabled."),this.alertFailure_(10),this.fail_("Failed to save settings to the configured storage type"));
var c=this.getStorageRegistry().getWriteStorage();goog.log.info(os.config.Settings.LOGGER_,"Storage write location is now: "+(c?c.name:"not assigned"));this.set("storage.writeType",a,!b);window.localStorage.setItem(os.config.Settings.WRITE_STORAGE_BACKUP_KEY,a)};
os.config.Settings.prototype.save=function(){this.saveDelay_&&this.saveDelay_.stop();if(this.persistenceEnabled_&&this.loaded_&&this.changed_){this.changed_=!1;var a=this.storageRegistry_.getWriteStorage();if(a){this.dispatchEvent(new goog.events.Event(os.config.EventType.WILL_SAVE));var b=this.actualConfig_[os.config.ConfigType.PREFERENCE];os.config.namespace.removeObsoleteKeys(b);var c=!this.writeStorageChanged_&&a.canInsertDeltas?this.deltaConfig_:b;this.deltaConfig_={};goog.log.fine(os.config.Settings.LOGGER_,
"Saving settings...");var d=goog.array.clone(os.config.namespace.getObsoleteKeys());goog.array.insertArrayAt(d,goog.array.clone(os.config.namespace.keysToDelete.getValues()));return new goog.Promise(function(b,f){a.setSettings(c,d).addCallbacks(function(){this.onSaveSuccess_();b()},function(a){this.onSaveError_(a);f(a)},this)},this)}if(!this.persistenceEnabled_)return this.fail_(),goog.log.warning(os.config.Settings.LOGGER_,"Settings could not be saved, no accessible, writable storage was found in the registry."),
this.dispatchEvent(new goog.events.Event(os.config.EventType.SAVED)),goog.Promise.reject("Settings could not be saved, no accessible, writable storage was found in the registry.")}return goog.Promise.resolve()};
os.config.Settings.prototype.onSaveSuccess_=function(){goog.log.fine(os.config.Settings.LOGGER_,"Settings saved");this.writeStorageChanged_=!1;os.config.namespace.keysToDelete.clear();os.config.namespace.clearObsoleteKeys();var a=this.storageRegistry_.getWriteStorageType();a&&this.incrementStorageFail_(a,!0);a=0;for(var b=this.toNotifyExternal_.length;a<b;a++){var c=this.toNotifyExternal_[a];this.peer_.send(c.namespace,c)}this.toNotifyExternal_=[];this.clearOthers_()};
os.config.Settings.prototype.onSaveError_=function(a){a=this.storageRegistry_.getWriteStorage();var b=this.storageRegistry_.getWriteStorageType();goog.log.error(os.config.Settings.LOGGER_,"Failed to save settings to "+a.name+".  Attempting to find another suitable storage of type "+b);this.changed_=!0;this.incrementStorageFail_(b);a.canAccess=this.storageFails_[b]<this.maxStorageFails_;this.setWriteStorageType(b)};
os.config.Settings.prototype.incrementStorageFail_=function(a,b){this.storageFails_.hasOwnProperty(a)?this.storageFails_[a]=b?0:this.storageFails_[a]+1:this.storageFails_[a]=0};
os.config.Settings.prototype.clearOthers_=function(){var a=this.storageRegistry_.getStoragesToClear();if(a.length){var b=[];a.forEach(function(a){goog.log.fine(os.config.Settings.LOGGER_,"Clearing settings from "+a.name+" since it is not the designated write storage and all settings have been merged.");b.push(a.deleteSettings(os.config.coreNs));b.push(a.deleteSettings(os.config.appNs));a.needsCleared=!1},this);(new goog.async.DeferredList(b)).addBoth(this.onClearedOthers_,this)}};
os.config.Settings.prototype.onClearedOthers_=function(a){goog.array.every(a,function(a){return a[0]},this)||goog.log.warning(os.config.Settings.LOGGER_,"Failed to clear one or more of the setting storages after switching write location. If this storage becomes accessible in the future, the remnant settings may affect application preferences since they will be merged with the others upon session initialization.");this.dispatchEvent(new goog.events.Event(os.config.EventType.SAVED))};
os.config.Settings.prototype.update=function(){goog.log.fine(os.config.Settings.LOGGER_,"Settings updated");this.dispatchEvent(new goog.events.Event(os.config.EventType.UPDATED))};
os.config.Settings.prototype.reset=function(){goog.log.info(os.config.Settings.LOGGER_,"Resetting settings for the application namespace: "+os.config.appNs);return new goog.Promise(function(a,b){var c=this.get("storage.writeType",window.localStorage.getItem(os.config.Settings.WRITE_STORAGE_BACKUP_KEY)||os.config.storage.SettingsWritableStorageType.LOCAL),d=this.storageRegistry_.getWriteStorage();d?goog.Promise.all([d.deleteSettings(os.config.coreNs),d.deleteSettings(os.config.appNs)]).then(function(){goog.log.fine(os.config.Settings.LOGGER_,
"Reset settings success");this.actualConfig_[os.config.ConfigType.PREFERENCE]={};c!==os.config.storage.SettingsWritableStorageType.REMOTE||this.storageRegistry_.hasRemoteStorage?this.set("storage.writeType",c,!0):this.set("storage.writeType",os.config.storage.SettingsWritableStorageType.LOCAL,!0);os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Settings.RESET_SETTINGS,1);os.metrics.Metrics.getInstance().publish();localStorage.setItem("resetDate",os.config.appNs+" "+(new Date).toISOString());
this.set("reset.last",Date());this.save().then(a,b)},function(a){a="Reset settings failed"+(a?": "+a:"");goog.log.error(os.config.Settings.LOGGER_,a);b(a)},this):b("Write storage not available.")},this)};os.config.Settings.prototype.getLastReset=function(){try{var a=(new Date(this.actualConfig_.user[os.config.appNs].reset.last)).toISOString().replace(/T/," ").replace(/(.000)/," ")}catch(b){a="Never!"}return a};
os.config.Settings.prototype.get=function(a,b){"string"==typeof a&&(a=a.split("."));if(this.loaded_)return a=goog.object.getValueByKeys(this.mergedConfig_,a),goog.isArray(a)?a=goog.array.clone(a):goog.isObject(a)&&(a=goog.object.clone(a)),goog.isDef(a)?a:b;throw Error("Attempted to get a value before settings were loaded!");};
os.config.Settings.prototype.set=function(a,b,c){if(this.loaded_){"string"==typeof a&&(a=a.split("."));var d=this.get(a);this.isExternal_(b)&&(b=os.object.unsafeClone(b));os.object.set(this.mergedConfig_,a,b);var e=this.isAdmin_(a),f=[];e||(f=os.config.namespace.getPrefixedKeys(a),os.object.set(this.actualConfig_[os.config.ConfigType.PREFERENCE],f,b));d!=b&&(e||(os.object.set(this.deltaConfig_,f,b),this.markKeysForDelete_(a,b,d)),this.dispatchChange_(a,b,d,c))}else throw Error("Attempted to set a value before settings were loaded!");
};os.config.Settings.prototype.delete=function(a){"string"==typeof a&&(a=a.split("."));var b=this.get(a);os.object.delete(this.mergedConfig_,a);var c=os.config.namespace.getPrefixedKeys(a);os.object.delete(this.actualConfig_[os.config.ConfigType.PREFERENCE],c);"object"===goog.typeOf(b)?this.markKeysForDelete_(a,void 0,b):os.config.namespace.keysToDelete.add(os.config.namespace.getPrefixedKey(a.join(".")));this.dispatchChange_(a,void 0,b)};
os.config.Settings.prototype.dispatchChange_=function(a,b,c,d){var e=a.join(".");this.dispatchEvent(new os.events.SettingChangeEvent(e,b,c));d||(this.changed_=!0,c=os.config.namespace.getPrefixedKeys(a),"storage.writeType"==e?this.peer_.send(c[0],{keys:a,newValue:b}):goog.array.insert(this.toNotifyExternal_,{namespace:c[0],keys:a}),this.saveDelay_&&this.saveDelay_.start())};
os.config.Settings.prototype.isAdmin_=function(a){return goog.isDef(goog.object.getValueByKeys(this.actualConfig_[os.config.ConfigType.CONFIG],a))};
os.config.Settings.prototype.markKeysForDelete_=function(a,b,c){if("object"===goog.typeOf(c)){c=goog.object.getKeys(os.object.reduce(c));var d=goog.isDefAndNotNull(b)?goog.object.getKeys(os.object.reduce(b)):[],e=a.join(".");goog.array.forEach(c,function(a){goog.array.contains(d,a)||os.config.namespace.keysToDelete.add(os.config.namespace.getPrefixedKey(e+"."+a))})}};os.config.Settings.prototype.isExternal_=function(a){return"object"===typeof a&&!(a instanceof Object||a instanceof Array)};
os.config.Settings.prototype.fail_=function(a){goog.log.error(os.config.Settings.LOGGER_,a||"Failed to connect to user settings");this.persistenceEnabled_=!1};
os.config.Settings.prototype.alertFailure_=function(a){setTimeout(goog.bind(function(){var a=new goog.events.EventTarget;this.listenOnce("storage.writeType",function(){a.dispatchEvent(new goog.events.Event(os.alert.AlertEventTypes.DISMISS_ALERT))},!1,this);os.alert.AlertManager.getInstance().sendAlert("<strong>Settings are unavailable!</strong> This session will continue to run without any previously saved options, and any changes you make will not be remembered for the next session.",os.alert.AlertEventSeverity.ERROR,
void 0,1,a)},this),a||2500)};os.config.Settings.prototype.alertOneFailed_=function(a){os.alert.AlertManager.getInstance().sendAlert("Settings failed to load from one or more sources.  This session will continue to run, but you may notice some of your previously saved preferences are not available.",os.alert.AlertEventSeverity.WARNING)};
os.config.Settings.prototype.alertTypeChange_=function(){var a=this.storageRegistry_.getWriteStorageType(),b=os.alert.AlertManager.getInstance(),c="Success!  Your settings are now being saved ";switch(a){case os.config.storage.SettingsWritableStorageType.LOCAL:c+="locally.  Your preferences will remain tied to your current work station.";break;case os.config.storage.SettingsWritableStorageType.REMOTE:c+="to the server.  Your preferences will follow you as you move to different locations."}b.sendAlert(c,
os.alert.AlertEventSeverity.INFO)};os.config.Settings.prototype.getTypes=function(){return[os.config.coreNs,os.config.appNs]};os.config.Settings.prototype.process=function(a,b,c,d){a.keys&&"storage.writeType"===a.keys.join(".")?this.setWriteStorageType(a.newValue):(a.oldValue=this.get(a.keys),this.toNotifyInternal_.push(a),this.reloadDelay_.start())};os.settings=os.config.Settings.getInstance();os.proj={};os.proj.EPSG4326="EPSG:4326";os.proj.EPSG3857="EPSG:3857";os.proj.EPSG3031="EPSG:3031";os.proj.EPSG3413="EPSG:3413";os.proj.CRS84="CRS:84";os.proj.GOOGLE="EPSG:900913";
os.proj.getProjections=function(a){var b=os.settings.get("projections",[]);b=b.concat(os.settings.get("userProjections",[]));if(a){a=[ol.proj.get(os.proj.EPSG3857),ol.proj.get(os.proj.EPSG4326)];for(var c=0,d=a.length;c<d;c++){var e=a[c];b.unshift({code:e.getCode(),title:0===c?"Web Mercator / Spherical Mercator":"Geographic / Equirectangular",extent:e.getExtent(),worldExtent:e.getWorldExtent(),isGlobal:e.isGlobal()})}}return b};
os.proj.loadProjections=function(){for(var a=os.proj.getProjections(),b=0,c=a.length;b<c;b++){var d=a[b].code,e=a[b].proj4;if(d&&e&&(proj4.defs(d,e),e=ol.proj.get(d))){e.setGlobal(!!a[b].isGlobal);var f=a[b].extent;f&&e.setExtent(f);(f=a[b].worldExtent)&&e.setWorldExtent(f);ol.proj.addEquivalentTransforms(ol.proj.EPSG4326.PROJECTIONS,[e],ol.proj.getTransform(os.proj.EPSG4326,d),ol.proj.getTransform(d,os.proj.EPSG4326));ol.proj.addEquivalentTransforms(ol.proj.EPSG3857.PROJECTIONS,[e],ol.proj.getTransform(os.proj.EPSG3857,
d),ol.proj.getTransform(d,os.proj.EPSG3857));goog.asserts.assert(ol.proj.getTransform(os.proj.EPSG4326,d));goog.asserts.assert(ol.proj.getTransform(os.proj.EPSG3857,d));goog.asserts.assert(ol.proj.getTransform(os.proj.CRS84,d))}}};os.map={};os.MapChange={VIEW3D:"map:change:view3d",THROTTLE:"map:change:throttle"};os.MapEvent={MAP_READY:"map:ready",RENDER:"map:render",RENDER_SYNC:"map:renderSync",VIEW_CHANGE:"map:viewChange"};os.MapMode={AUTO:"auto",VIEW_2D:"2d",VIEW_3D:"3d"};os.CameraMode={DEFAULT:"default",FIXED:"fixed",LAST:"last"};os.map.DEFAULT_CENTER=[0,0];os.map.DEFAULT_ZOOM=3;os.map.MIN_ZOOM=2;os.map.MAX_ZOOM=25;os.map.MAX_AUTO_ZOOM=15;os.map.PROJECTION=ol.proj.get(os.proj.EPSG4326);os.map.PROJECTION_KEY="baseProjection";
os.map.TILEGRID=ol.tilegrid.createForProjection(os.map.PROJECTION,ol.DEFAULT_MAX_ZOOM,[512,512]);os.map.C=1.10841096471006E8;os.map.E=.9151598587;os.map.ZERO_EXTENT=[0,0,0,0];os.map.resolutionToZoom=function(a,b){b=b.getExtent();return Math.log((b[2]-b[0])/(256*a))/Math.LN2};os.map.zoomToResolution=function(a,b){b=b.getExtent();return(b[2]-b[0])/(256*Math.pow(2,a))};os.map.MIN_RESOLUTION=os.map.zoomToResolution(os.map.MAX_ZOOM,os.map.PROJECTION);
os.map.MAX_RESOLUTION=os.map.zoomToResolution(os.map.MIN_ZOOM,os.map.PROJECTION);os.map.getDegreesPerPixel_=function(a){return 90/(256*Math.pow(2,a-2))};os.map.getZoom_=function(a){return 2+Math.log(90/(256*a))/Math.LN2};
os.map.distanceForResolution=function(a,b,c){goog.asserts.assert(null!=a&&0<a.length,"size should be defined");var d=a[0]/a[1],e=ol.math.toRadians(45);d=1>=d?e:2*Math.atan(Math.tan(.5*e)/d);e=os.map.PROJECTION.getMetersPerUnit();return b*a[1]*e*Math.cos(Math.abs(c||0))/2/Math.tan(d/2)};
os.map.resolutionForDistance=function(a,b,c){goog.asserts.assert(null!=a,"map should be defined");a=a.getSize();if(!a||0>=a[0]||0>=a[1])return NaN;var d=a[0]/a[1],e=ol.math.toRadians(45);d=1>=d?e:2*Math.atan(Math.tan(.5*e)/d);e=os.map.PROJECTION.getMetersPerUnit();return 2*b*Math.tan(d/2)/e/Math.abs(Math.cos(c||0))/a[1]};os.mixin.geometry={};ol.geom.Geometry.LOGGER_=goog.log.getLogger("ol.geom.Geometry");ol.geom.Geometry.prototype.osTransform=function(a){a=a||os.proj.EPSG4326;var b=ol.proj.get(a),c=os.map.PROJECTION;if(!b)goog.log.warning(ol.geom.Geometry.LOGGER_,'"'+a+'" was not defined as a projection in the application!');else if(!ol.proj.equivalent(b,c))return this.transform(b,c);return this};
ol.geom.Geometry.prototype.toLonLat=function(){var a=os.map.PROJECTION,b=ol.proj.get(os.proj.EPSG4326);return ol.proj.equivalent(a,b)?this:this.transform(a,b)};
(function(){ol.geom.GeometryCollection.prototype.clone=function(){return new ol.geom.GeometryCollection(this.getGeometries())};[ol.geom.Circle,ol.geom.GeometryCollection,ol.geom.LinearRing,ol.geom.LineString,ol.geom.MultiLineString,ol.geom.MultiPoint,ol.geom.MultiPolygon,ol.geom.Point,ol.geom.Polygon].forEach(function(a){a&&a.prototype&&a.prototype.clone&&(a.prototype.cloneSuper_=a.prototype.clone,a.prototype.clone=function(){var a=this.cloneSuper_();os.object.merge(this.values_,a.values_);return a})})})();os.geo={};os.geo.VINCENTY_ELLIPSOIDS={WGS84:{a:6378137,b:6356752.3142,f:1/298.257223563}};os.geo.UNIT_MULTIPLIERS={ft:1/6076,yd:4.937458854509546E-4,mi:5280/6076,m:1/1852,km:1/1.852,nmi:1};os.geo.MGRS_REGEXP=/^(([\d]{1,2}[C-X][A-Z]{2}([0-9][0-9]){0,5})|([ABYZ][A-Z]{2}([0-9][0-9]){0,5}))$/;os.geo.EPSILON=1E-12;os.geo.MAX_LINE_LENGTH=3E6;os.geo.ALT_REGEXP=/(ele(v(a(t(i(o(n)?)?)?)?)?)|alt(i(t(u(d(e)?)?)?)?)?)\b/i;os.geo.ALT_UNITS_REGEXP=/((ele(v(a(t(i(o(n)?)?)?)?)?)|alt(i(t(u(d(e)?)?)?)?)?))_units\b/i;
os.geo.ALT_INVERSE_REGEXP=/(depth)\b/i;os.geo.ALT_INVERSE_UNITS_REGEXP=/(depth)_units\b/i;os.geo.MGRSRegExp=/^mgrs\s*(d(e(r(i(v(e(d?)?)?)?)?)?)?)?$/i;os.geo.COORD_CLEANER=/[^NEWSnews\d\s.-]/g;os.geo.ParseConf=function(a,b){this.regex=a;this.coords=b};os.geo.ParseConf.prototype.regex=null;os.geo.ParseConf.prototype.coords=null;os.geo.PREFER_LAT_FIRST=0;os.geo.PREFER_LON_FIRST=1;os.geo.START_="^\\s*";os.geo.MIDDLE_="[^\\w\\.+-]+";os.geo.END_="[^NSEW\\d]*$";os.geo.DMS_LON_="([NSEW]?)[\\s]*([-+]?\\d{1,3})(\\d{2})(\\d{2}(\\.\\d*|\\d{3})?)?[\\s]*([NSEW]?)";
os.geo.DMS_LAT_="([NSEW]?)[\\s]*([-+]?\\d{1,2})(\\d{2})(\\d{2}(\\.\\d*|\\d{3})?)?[\\s]*([NSEW]?)";os.geo.DMS_RELAXED_="([NSEW]?)[\\s]*([-+]?\\d{1,3}[\\.]?)(\\d{2}[\\.]?)(\\d{2}(\\.\\d*|\\d{3})?)?[\\s]*([NSEW]?)";os.geo.DMM_LON_="([NSEW]?)[\\s]*([-+]?\\d{1,3})(\\d{2}\\.\\d*)?[\\s]*([NSEW]?)";os.geo.DMM_LAT_="([NSEW]?)[\\s]*([-+]?\\d{1,2})(\\d{2}\\.\\d*)?[\\s]*([NSEW]?)";os.geo.DMM_RELAXED_="([NSEW]?)[\\s]*([-+]?\\d{1,3}[\\.]?)(\\d{2}\\.\\d*)?[\\s]*([NSEW]?)";os.geo.DMM_RELAXED_NO_DECIMAL_="([NSEW]?)[\\s]*([-+]?\\d{1,3}[\\.]?)(\\d{2})?[\\s]*([NSEW]?)";
os.geo.DMS_DELIMITED_LON_="([NSEW]?)[\\s]*([-+]?\\d{1,3})[\\s,:\u00b0]+(\\d{1,2})([\\s\\',:]+(\\d{1,2}(\\.\\d*|\\d{3})?))?[\\s\\\"\\']*([NSEW]?)";os.geo.DMS_DELIMITED_LAT_="([NSEW]?)[\\s]*([-+]?\\d{1,2})[\\s,:\u00b0]+(\\d{1,2})([\\s\\',:]+(\\d{1,2}(\\.\\d*|\\d{3})?))?[\\s\\\"\\']*([NSEW]?)";os.geo.DMS_DELIMITED_RELAXED_=os.geo.DMS_DELIMITED_LON_;os.geo.DMM_DELIMITED_LON_="([NSEW]?)[\\s]*([-+]?\\d{1,3})[\\s,:\u00b0]+(\\d{1,2}(\\.\\d*|\\d{3})?)?[\\s\\']*([NSEW]?)";os.geo.DMM_DELIMITED_LAT_="([NSEW]?)[\\s]*([-+]?\\d{1,2})[\\s,:\u00b0]+(\\d{1,2}(\\.\\d*|\\d{3})?)?[\\s\\']*([NSEW]?)";
os.geo.DMM_DELIMITED_RELAXED_=os.geo.DMM_DELIMITED_LON_;os.geo.DECIMAL_LON_="([NSEW]?)[\\s]*([-+]?\\d{1,3}(\\.\\d*)?)[\\s,:\u00b0]*([NSEW]?)";os.geo.DECIMAL_LAT_="([NSEW]?)[\\s]*([-+]?\\d{1,2}(\\.\\d*)?)[\\s,:\u00b0]*([NSEW]?)";os.geo.DECIMAL_RELAXED_=os.geo.DECIMAL_LON_;
os.geo.parseConfigsMixedDDdMS_=[[new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_LAT_+os.geo.MIDDLE_+os.geo.DECIMAL_LON_+os.geo.END_,"i"),[{deg:2,min:3,sec:4,dir:[1,6]},{deg:8,min:null,sec:null,dir:[7,10]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_DELIMITED_LAT_+os.geo.MIDDLE_+os.geo.DECIMAL_LON_+os.geo.END_,"i"),[{deg:2,min:3,sec:5,dir:[1,7]},{deg:9,min:null,sec:null,dir:[8,11]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DECIMAL_LAT_+os.geo.MIDDLE_+os.geo.DMS_LON_+
os.geo.END_,"i"),[{deg:2,min:null,sec:null,dir:[1,4]},{deg:6,min:7,sec:8,dir:[5,10]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DECIMAL_LAT_+os.geo.MIDDLE_+os.geo.DMS_DELIMITED_LON_+os.geo.END_,"i"),[{deg:2,min:null,sec:null,dir:[1,4]},{deg:6,min:7,sec:9,dir:[5,11]}])],[new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_LON_+os.geo.MIDDLE_+os.geo.DECIMAL_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:4,dir:[1,6]},{deg:8,min:null,sec:null,dir:[7,10]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+
os.geo.DMS_DELIMITED_LON_+os.geo.MIDDLE_+os.geo.DECIMAL_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:5,dir:[1,7]},{deg:9,min:null,sec:null,dir:[8,11]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DECIMAL_LON_+os.geo.MIDDLE_+os.geo.DMS_LAT_+os.geo.END_,"i"),[{deg:2,min:null,sec:null,dir:[1,4]},{deg:6,min:7,sec:8,dir:[5,10]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DECIMAL_LON_+os.geo.MIDDLE_+os.geo.DMS_DELIMITED_LAT_+os.geo.END_,"i"),[{deg:2,min:null,sec:null,dir:[1,4]},{deg:6,min:7,
sec:9,dir:[5,11]}])]];
os.geo.parseConfigsMixeDMM_=[[new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_LAT_+os.geo.MIDDLE_+os.geo.DECIMAL_LON_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,4]},{deg:6,min:null,sec:null,dir:[5,8]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_DELIMITED_LAT_+os.geo.MIDDLE_+os.geo.DECIMAL_LON_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,5]},{deg:7,min:null,sec:null,dir:[6,9]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DECIMAL_LAT_+os.geo.MIDDLE_+os.geo.DMM_LON_+
os.geo.END_,"i"),[{deg:2,min:null,sec:null,dir:[1,4]},{deg:6,min:7,sec:null,dir:[5,8]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DECIMAL_LAT_+os.geo.MIDDLE_+os.geo.DMS_DELIMITED_LON_+os.geo.END_,"i"),[{deg:2,min:null,sec:null,dir:[1,4]},{deg:6,min:7,sec:null,dir:[5,9]}])],[new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_LON_+os.geo.MIDDLE_+os.geo.DECIMAL_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,4]},{deg:6,min:null,sec:null,dir:[5,8]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+
os.geo.DMM_DELIMITED_LON_+os.geo.MIDDLE_+os.geo.DECIMAL_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,5]},{deg:7,min:null,sec:null,dir:[6,9]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DECIMAL_LON_+os.geo.MIDDLE_+os.geo.DMM_LAT_+os.geo.END_,"i"),[{deg:2,min:null,sec:null,dir:[1,4]},{deg:6,min:7,sec:null,dir:[5,8]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DECIMAL_LON_+os.geo.MIDDLE_+os.geo.DMS_DELIMITED_LAT_+os.geo.END_,"i"),[{deg:2,min:null,sec:null,dir:[1,4]},{deg:6,
min:7,sec:null,dir:[5,9]}])]];
os.geo.parseConfigsMixedDMSdMM_=[[new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_LAT_+os.geo.MIDDLE_+os.geo.DMM_LON_+os.geo.END_,"i"),[{deg:2,min:3,sec:4,dir:[1,6]},{deg:8,min:9,sec:null,dir:[7,10]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_DELIMITED_LAT_+os.geo.MIDDLE_+os.geo.DMM_LON_+os.geo.END_,"i"),[{deg:2,min:3,sec:5,dir:[1,7]},{deg:9,min:10,sec:null,dir:[8,11]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_LAT_+os.geo.MIDDLE_+os.geo.DMS_LON_+os.geo.END_,
"i"),[{deg:2,min:3,sec:null,dir:[1,4]},{deg:6,min:5,sec:8,dir:[5,10]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_LAT_+os.geo.MIDDLE_+os.geo.DMS_DELIMITED_LON_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,4]},{deg:6,min:7,sec:9,dir:[6,11]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_LAT_+os.geo.MIDDLE_+os.geo.DMM_DELIMITED_LON_+os.geo.END_,"i"),[{deg:2,min:3,sec:4,dir:[1,6]},{deg:8,min:9,sec:null,dir:[7,11]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_DELIMITED_LAT_+
os.geo.MIDDLE_+os.geo.DMM_DELIMITED_LON_+os.geo.END_,"i"),[{deg:2,min:3,sec:5,dir:[1,7]},{deg:9,min:10,sec:null,dir:[8,12]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_DELIMITED_LAT_+os.geo.MIDDLE_+os.geo.DMS_LON_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,5]},{deg:7,min:8,sec:9,dir:[6,11]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_DELIMITED_LAT_+os.geo.MIDDLE_+os.geo.DMS_DELIMITED_LON_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,5]},{deg:7,min:8,sec:10,dir:[6,
12]}])],[new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_LON_+os.geo.MIDDLE_+os.geo.DMM_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:4,dir:[1,6]},{deg:8,min:9,sec:null,dir:[7,10]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_DELIMITED_LON_+os.geo.MIDDLE_+os.geo.DMM_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:5,dir:[1,7]},{deg:9,min:10,sec:null,dir:[8,11]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_LON_+os.geo.MIDDLE_+os.geo.DMS_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,
dir:[1,4]},{deg:6,min:7,sec:8,dir:[5,10]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_LON_+os.geo.MIDDLE_+os.geo.DMS_DELIMITED_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,4]},{deg:6,min:7,sec:9,dir:[5,11]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_LON_+os.geo.MIDDLE_+os.geo.DMM_DELIMITED_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:4,dir:[1,6]},{deg:8,min:9,sec:null,dir:[7,11]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_DELIMITED_LON_+os.geo.MIDDLE_+
os.geo.DMM_DELIMITED_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:5,dir:[1,7]},{deg:9,min:10,sec:null,dir:[8,12]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_DELIMITED_LON_+os.geo.MIDDLE_+os.geo.DMS_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,5]},{deg:7,min:8,sec:9,dir:[6,11]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_DELIMITED_LON_+os.geo.MIDDLE_+os.geo.DMS_DELIMITED_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,5]},{deg:7,min:8,sec:10,dir:[6,12]}])]];
os.geo.parseConfigsDD_=[[new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DECIMAL_LAT_+os.geo.MIDDLE_+os.geo.DECIMAL_LON_+os.geo.END_,"i"),[{deg:2,min:null,sec:null,dir:[1,4]},{deg:6,min:null,sec:null,dir:[5,8]}])],[new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DECIMAL_LON_+os.geo.MIDDLE_+os.geo.DECIMAL_LAT_+os.geo.END_,"i"),[{deg:2,min:null,sec:null,dir:[1,4]},{deg:6,min:null,sec:null,dir:[5,8]}])]];
os.geo.parseConfigsDDRELAXED_=[new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DECIMAL_RELAXED_+os.geo.MIDDLE_+os.geo.DECIMAL_RELAXED_+os.geo.END_,"i"),[{deg:2,min:null,sec:null,dir:[1,4]},{deg:6,min:null,sec:null,dir:[5,8]}])];
os.geo.parseConfigsDMS_=[[new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_DELIMITED_LAT_+os.geo.MIDDLE_+os.geo.DMS_DELIMITED_LON_+os.geo.END_,"i"),[{deg:2,min:3,sec:5,dir:[1,7]},{deg:9,min:10,sec:12,dir:[8,14]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_LAT_+os.geo.MIDDLE_+os.geo.DMS_LON_+os.geo.END_,"i"),[{deg:2,min:3,sec:4,dir:[1,6]},{deg:8,min:9,sec:10,dir:[7,12]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_DELIMITED_LAT_+os.geo.MIDDLE_+os.geo.DMS_LON_+os.geo.END_,
"i"),[{deg:2,min:3,sec:5,dir:[1,7]},{deg:9,min:10,sec:11,dir:[8,13]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_LAT_+os.geo.MIDDLE_+os.geo.DMS_DELIMITED_LON_+os.geo.END_,"i"),[{deg:2,min:3,sec:4,dir:[1,6]},{deg:8,min:9,sec:11,dir:[7,13]}])],[new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_DELIMITED_LON_+os.geo.MIDDLE_+os.geo.DMS_DELIMITED_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:5,dir:[1,7]},{deg:9,min:10,sec:12,dir:[8,14]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_LON_+
os.geo.MIDDLE_+os.geo.DMS_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:4,dir:[1,6]},{deg:8,min:9,sec:10,dir:[7,12]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_DELIMITED_LON_+os.geo.MIDDLE_+os.geo.DMS_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:5,dir:[1,7]},{deg:9,min:10,sec:11,dir:[8,13]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_LON_+os.geo.MIDDLE_+os.geo.DMS_DELIMITED_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:4,dir:[1,6]},{deg:8,min:9,sec:11,dir:[7,13]}])]];
os.geo.parseConfigsDMSRELAXED_=[new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_DELIMITED_RELAXED_+os.geo.MIDDLE_+os.geo.DMS_DELIMITED_RELAXED_+os.geo.END_,"i"),[{deg:2,min:3,sec:4,dir:[1,6]},{deg:8,min:9,sec:11,dir:[7,13]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_RELAXED_+os.geo.MIDDLE_+os.geo.DMS_RELAXED_+os.geo.END_,"i"),[{deg:2,min:3,sec:4,dir:[1,6]},{deg:8,min:9,sec:10,dir:[7,12]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_DELIMITED_RELAXED_+os.geo.MIDDLE_+
os.geo.DMS_RELAXED_+os.geo.END_,"i"),[{deg:2,min:3,sec:5,dir:[1,7]},{deg:9,min:10,sec:11,dir:[8,13]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMS_RELAXED_+os.geo.MIDDLE_+os.geo.DMS_DELIMITED_RELAXED_+os.geo.END_,"i"),[{deg:2,min:3,sec:4,dir:[1,6]},{deg:8,min:9,sec:11,dir:[7,13]}])];
os.geo.parseConfigsDMM_=[[new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_DELIMITED_LAT_+os.geo.MIDDLE_+os.geo.DMM_DELIMITED_LON_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,5]},{deg:7,min:8,sec:null,dir:[6,10]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_LAT_+os.geo.MIDDLE_+os.geo.DMM_LON_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,4]},{deg:6,min:7,sec:null,dir:[5,8]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_DELIMITED_LAT_+os.geo.MIDDLE_+os.geo.DMS_LON_+
os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,5]},{deg:7,min:8,sec:null,dir:[6,10]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_LAT_+os.geo.MIDDLE_+os.geo.DMM_DELIMITED_LON_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,4]},{deg:6,min:7,sec:null,dir:[5,9]}])],[new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_DELIMITED_LON_+os.geo.MIDDLE_+os.geo.DMM_DELIMITED_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,5]},{deg:7,min:8,sec:null,dir:[6,10]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+
os.geo.DMM_LON_+os.geo.MIDDLE_+os.geo.DMM_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,4]},{deg:6,min:7,sec:null,dir:[5,8]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_DELIMITED_LON_+os.geo.MIDDLE_+os.geo.DMS_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,5]},{deg:7,min:8,sec:null,dir:[6,10]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_LON_+os.geo.MIDDLE_+os.geo.DMM_DELIMITED_LAT_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,4]},{deg:6,min:7,sec:null,dir:[5,
9]}])]];
os.geo.parseConfigsDMMRELAXED_=[new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_DELIMITED_RELAXED_+os.geo.MIDDLE_+os.geo.DMM_DELIMITED_RELAXED_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,5]},{deg:7,min:8,sec:null,dir:[6,10]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_RELAXED_+os.geo.MIDDLE_+os.geo.DMM_RELAXED_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,4]},{deg:6,min:7,sec:null,dir:[5,8]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_DELIMITED_RELAXED_+os.geo.MIDDLE_+
os.geo.DMM_RELAXED_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,5]},{deg:7,min:8,sec:null,dir:[6,9]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_RELAXED_+os.geo.MIDDLE_+os.geo.DMM_DELIMITED_RELAXED_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,4]},{deg:6,min:7,sec:null,dir:[5,9]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_RELAXED_NO_DECIMAL_+os.geo.MIDDLE_+os.geo.DMM_RELAXED_NO_DECIMAL_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,4]},{deg:6,min:7,sec:null,dir:[5,
8]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_DELIMITED_RELAXED_+os.geo.MIDDLE_+os.geo.DMM_RELAXED_NO_DECIMAL_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,5]},{deg:7,min:8,sec:null,dir:[6,9]}]),new os.geo.ParseConf(new RegExp(os.geo.START_+os.geo.DMM_RELAXED_NO_DECIMAL_+os.geo.MIDDLE_+os.geo.DMM_DELIMITED_RELAXED_+os.geo.END_,"i"),[{deg:2,min:3,sec:null,dir:[1,4]},{deg:6,min:7,sec:null,dir:[5,9]}])];
os.geo.parseConfigs_=[os.geo.parseConfigsDD_[os.geo.PREFER_LAT_FIRST].concat(os.geo.parseConfigsDMM_[os.geo.PREFER_LAT_FIRST],os.geo.parseConfigsDMS_[os.geo.PREFER_LAT_FIRST]),os.geo.parseConfigsDD_[os.geo.PREFER_LON_FIRST].concat(os.geo.parseConfigsDMM_[os.geo.PREFER_LON_FIRST],os.geo.parseConfigsDMS_[os.geo.PREFER_LON_FIRST])];
os.geo.parseLatLon=function(a,b,c){if(a){var d=NaN,e=NaN,f,g=os.geo.getLatLonFormatConfiguration(b?b:0,c);a=a.trim().toUpperCase();var h=null,k=null;var l=0;for(f=g.length;l<f&&!(k=g[l],h=k.regex.exec(a));l++);if(!h&&!goog.isDef(b))for(g=os.geo.getLatLonFormatConfiguration(1,c),l=0,f=g.length;l<f&&!(k=g[l],h=k.regex.exec(a));l++);if(h){d=h[k.coords[0].deg].indexOf(".");e=h[k.coords[0].deg].indexOf("-");var m=h[k.coords[0].dir[0]]||h[k.coords[0].dir[1]],n=h[k.coords[1].dir[0]]||h[k.coords[1].dir[1]];
"N"==n||"S"==n||"E"==m||"W"==m||""===m&&d>=(-1!=e?4:3)||b==os.geo.PREFER_LON_FIRST?(d=os.geo.parse_(h[k.coords[0].deg],h[k.coords[0].min],h[k.coords[0].sec],m),e=os.geo.parse_(h[k.coords[1].deg],h[k.coords[1].min],h[k.coords[1].sec],n)):(e=os.geo.parse_(h[k.coords[0].deg],h[k.coords[0].min],h[k.coords[0].sec],m),d=os.geo.parse_(h[k.coords[1].deg],h[k.coords[1].min],h[k.coords[1].sec],n))}if(!isNaN(e)&&!isNaN(d))return!(goog.isDef(b)||m||n)&&90<Math.abs(e)&&(b=e,e=d,d=b),{lat:e,lon:d}}return null};
os.geo.getLatLonFormatConfiguration=function(a,b){if(goog.isDef(b))switch(b){case "DD":return os.geo.parseConfigsDDRELAXED_;case "DMM":return os.geo.parseConfigsDMMRELAXED_;case "DMS":return os.geo.parseConfigsDMSRELAXED_}return os.geo.parseConfigs_[a]};
os.geo.parseLon=function(a,b){if(!a)return NaN;var c=Number(a);if(!isNaN(c))return c;var d=[];if(goog.isDefAndNotNull(b))switch(b){case "DD":d.push({regex:new RegExp(os.geo.START_+os.geo.DECIMAL_RELAXED_+os.geo.END_,"i"),coords:{deg:2,min:null,sec:null,dir:[1,4]}});break;case "DMM":d.push({regex:new RegExp(os.geo.START_+os.geo.DMM_DELIMITED_RELAXED_+os.geo.END_,"i"),coords:{deg:2,min:3,sec:null,dir:[1,5]}});d.push({regex:new RegExp(os.geo.START_+os.geo.DMM_RELAXED_+os.geo.END_,"i"),coords:{deg:2,
min:3,sec:null,dir:[1,4]}});d.push({regex:new RegExp(os.geo.START_+os.geo.DMM_RELAXED_NO_DECIMAL_+os.geo.END_,"i"),coords:{deg:2,min:3,sec:null,dir:[1,4]}});break;case "DMS":d.push({regex:new RegExp(os.geo.START_+os.geo.DMS_DELIMITED_RELAXED_+os.geo.END_,"i"),coords:{deg:2,min:3,sec:5,dir:[1,7]}}),d.push({regex:new RegExp(os.geo.START_+os.geo.DMS_RELAXED_+os.geo.END_,"i"),coords:{deg:2,min:3,sec:4,dir:[1,6]}})}else d=[{regex:new RegExp(os.geo.START_+os.geo.DECIMAL_LON_+os.geo.END_,"i"),coords:{deg:2,
min:null,sec:null,dir:[1,4]}},{regex:new RegExp(os.geo.START_+os.geo.DMM_DELIMITED_LON_+os.geo.END_,"i"),coords:{deg:2,min:3,sec:null,dir:[1,5]}},{regex:new RegExp(os.geo.START_+os.geo.DMM_LON_+os.geo.END_,"i"),coords:{deg:2,min:3,sec:null,dir:[1,4]}},{regex:new RegExp(os.geo.START_+os.geo.DMS_DELIMITED_LON_+os.geo.END_,"i"),coords:{deg:2,min:3,sec:5,dir:[1,7]}},{regex:new RegExp(os.geo.START_+os.geo.DMS_LON_+os.geo.END_,"i"),coords:{deg:2,min:3,sec:4,dir:[1,6]}}];b=void 0;for(var e=0,f=d.length;e<
f;e++){var g=d[e];if(b=g.regex.exec(a))break}b&&(c=os.geo.parse_(b[g.coords.deg],b[g.coords.min],b[g.coords.sec],b[g.coords.dir[0]]||b[g.coords.dir[1]]));return c};
os.geo.parseLat=function(a,b){if(!a)return NaN;var c=Number(a);if(!isNaN(c))return c;var d=[];if(goog.isDefAndNotNull(b))switch(b){case "DD":d.push({regex:new RegExp(os.geo.START_+os.geo.DECIMAL_RELAXED_+os.geo.END_,"i"),coords:{deg:2,min:null,sec:null,dir:[1,4]}});break;case "DMM":d.push({regex:new RegExp(os.geo.START_+os.geo.DMM_DELIMITED_RELAXED_+os.geo.END_,"i"),coords:{deg:2,min:3,sec:null,dir:[1,5]}});d.push({regex:new RegExp(os.geo.START_+os.geo.DMM_RELAXED_+os.geo.END_,"i"),coords:{deg:2,
min:3,sec:null,dir:[1,4]}});d.push({regex:new RegExp(os.geo.START_+os.geo.DMM_RELAXED_NO_DECIMAL_+os.geo.END_,"i"),coords:{deg:2,min:3,sec:null,dir:[1,4]}});break;case "DMS":d.push({regex:new RegExp(os.geo.START_+os.geo.DMS_DELIMITED_RELAXED_+os.geo.END_,"i"),coords:{deg:2,min:3,sec:5,dir:[1,7]}}),d.push({regex:new RegExp(os.geo.START_+os.geo.DMS_RELAXED_+os.geo.END_,"i"),coords:{deg:2,min:3,sec:4,dir:[1,6]}})}else d=[{regex:new RegExp(os.geo.START_+os.geo.DECIMAL_LAT_+os.geo.END_,"i"),coords:{deg:2,
min:null,sec:null,dir:[1,4]}},{regex:new RegExp(os.geo.START_+os.geo.DMM_DELIMITED_LAT_+os.geo.END_,"i"),coords:{deg:2,min:3,sec:null,dir:[1,5]}},{regex:new RegExp(os.geo.START_+os.geo.DMM_LAT_+os.geo.END_,"i"),coords:{deg:2,min:3,sec:null,dir:[1,4]}},{regex:new RegExp(os.geo.START_+os.geo.DMS_DELIMITED_LAT_+os.geo.END_,"i"),coords:{deg:2,min:3,sec:5,dir:[1,7]}},{regex:new RegExp(os.geo.START_+os.geo.DMS_LAT_+os.geo.END_,"i"),coords:{deg:2,min:3,sec:4,dir:[1,6]}}];b=void 0;for(var e=0,f=d.length;e<
f;e++){var g=d[e];if(b=g.regex.exec(a))break}b&&(c=os.geo.parse_(b[g.coords.deg],b[g.coords.min],b[g.coords.sec],b[g.coords.dir[0]]||b[g.coords.dir[1]]));return c};
os.geo.parse_=function(a,b,c,d){if(!b&&!c){a.indexOf(".");var e=a.indexOf("."),f=a.indexOf("-");if(-1==e||e>=(-1!=f?5:4))-1==e&&(e=a.length),f=a.substring(0,Math.min(-1==f?1===e%2?3:2:0===e%2?4:3,e)),a=a.substring(f.length),e-=f.length,c=b="00",2<=e&&(b=a.substring(0,2),a=a.substring(2),e-=2),2<=e&&(c=a),a=f}c&&2<c.length&&-1==c.indexOf(".")&&(c=c.substring(0,2)+"."+c.substring(2));a=parseFloat(a);b=parseFloat(b);c=parseFloat(c);e=Math.abs(a);isNaN(b)||(e+=b/60);isNaN(c)||(e+=c/60/60);0>a&&(e*=-1);
if("S"==d||"W"==d)e*=-1;return e};os.geo.interpolateArc=function(a,b,c,d,e){var f=2<a.length?a[2]:0;c=360<c?c%360:c;e=e||20;d=d||0;for(var g=c/e,h=[],k=0;k<=e;++k){var l=osasm.geodesicDirect(a,d-c/2+k*g,b);l.push(f);h.push(l)}return h};
os.geo.interpolateCircle=function(a,b,c){c=c||10;var d=Math.PI/c/2,e=[[1,0]];e[c]=[0,1];e[2*c]=[-1,0];e[3*c]=[0,-1];for(var f=1;f<c;++f){var g=f*d,h=Math.cos(g);g=Math.sin(g);e[f]=[h,g];e[f+c]=[-g,h];e[f+2*c]=[-h,-g];e[f+3*c]=[g,-h]}e.push(e[0]);var k=[];goog.array.forEach(e,function(c){k.push([a[0]+c[0]*b,a[1]+c[1]*b])});return k};
os.geo.interpolateEllipse=function(a,b,c,d,e){var f=2<a.length?a[2]:0,g=Math.PI,h=os.geo.getEllipseEasingFunction_(b,c),k=Math.PI/2;e=e||32;d=os.geo.D2R*(90-d);for(var l=[],m,n=void 0,p=0;2>p;p++){for(var q=0;q<e;q++)m=h(q,k,g,e),m=osasm.geodesicDirect(a,os.geo.R2D*(m-d),b*c/Math.sqrt(Math.pow(b*Math.cos(m),2)+Math.pow(c*Math.sin(m),2))),m.push(f),l.push(m),n||(n=m);k+=Math.PI}l.push(n);return l};os.geo.convertEllipseValue=function(a){250>a&&(a*=1852);return a};
os.geo.calculateEndLocation=function(a,b,c,d){d=d||os.geo.VINCENTY_ELLIPSOIDS.WGS84;var e=d.a,f=d.b;d=d.f;var g=a[0];b*=1E3;var h=os.geo.D2R*c;c=Math.sin(h);h=Math.cos(h);var k=(1-d)*Math.tan(os.geo.D2R*a[1]);a=1/Math.sqrt(1+k*k);var l=k*a,m=Math.atan2(k,h);k=a*c;var n=1-k*k;e=n*(e*e-f*f)/(f*f);var p=1+e/16384*(4096+e*(-768+e*(320-175*e))),q=e/1024*(256+e*(-128+e*(74-47*e)));e=b/(f*p);for(var r=2*Math.PI;1E-12<Math.abs(e-r);){var u=Math.cos(2*m+e),t=Math.sin(e),w=Math.cos(e),v=q*t*(u+q/4*(w*(-1+2*
u*u)-q/6*u*(-3+4*t*t)*(-3+4*u*u)));r=e;e=b/(f*p)+v}f=l*t-a*w*h;b=d/16*n*(4+d*(4-3*n));return[g+os.geo.R2D*(Math.atan2(t*c,a*w-l*t*h)-(1-b)*d*k*(e+b*t*(u+b*w*(-1+2*u*u)))),os.geo.R2D*Math.atan2(l*w+a*t*h,(1-d)*Math.sqrt(k*k+f*f))]};
os.geo.vincenty=function(a,b,c,d,e){c=c||os.geo.VINCENTY_ELLIPSOIDS.WGS84;var f=null!=d?d:1E-12,g=c.f,h=os.geo.D2R*(b[0]-a[0]);d=Math.atan((1-g)*Math.tan(os.geo.D2R*a[1]));a=Math.cos(d);d=Math.sin(d);var k=Math.atan((1-g)*Math.tan(os.geo.D2R*b[1]));b=Math.cos(k);k=Math.sin(k);var l=h;for(e=null!=e?e:100;0<e;--e){var m=Math.cos(l);var n=Math.sin(l);var p=b*n;var q=a*k-d*b*m;var r=Math.sqrt(p*p+q*q);if(0===r)return{distance:0,initialBearing:0,finalBearing:0};q=d*k+a*b*m;var u=Math.atan2(r,q);n=a*b*
n/r;m=1-n*n;p=q-2*d*k/m;isNaN(p)&&(p=0);var t=g/16*m*(4+g*(4-3*m));t=h+(1-t)*g*n*(u+t*r*(p+t*q*(2*p*p-1)));n=Math.abs(t-l);l=t;if(n<f)break}if(0===e)return{distance:NaN,finalBearing:NaN,initialBearing:NaN};f=c.b*c.b;f=m*(c.a*c.a-f)/f;g=f/1024*(256+f*(f*(74-47*f)-128));m=Math.cos(l);n=Math.sin(l);return{distance:c.b*(1+f/16384*(4096+f*(f*(320-175*f)-768)))*(u-g*r*(p+g/4*(q*(2*p*p-1)-g/6*p*(4*r*r-3)*(4*p*p-3)))),initialBearing:os.geo.R2D*Math.atan2(b*n,a*k-d*b*m),finalBearing:os.geo.R2D*Math.atan2(a*
n,a*k*m-d*b)}};os.geo.vincentyDistance=function(a,b,c,d,e){return os.geo.vincenty(a,b,c,d,e).distance};os.geo.vincentyFinalBearing=function(a,b,c,d,e){return os.geo.vincenty(a,b,c,d,e).finalBearing};os.geo.vincentyInitialBearing=function(a,b,c,d,e){return os.geo.vincenty(a,b,c,d,e).initialBearing};os.geo.getEllipseEasingFunction_=function(a,b){return 1.2>Math.max(a,b)/Math.min(a,b)?os.geo.easeLinear:os.geo.easeExpo};
os.geo.isClosed=function(a){if(a&&0<a.length){var b=a[0];a=a[a.length-1];if(b&&a)return os.geo.isSameCoordinate(b,a)}return!1};os.geo.isPolygon=function(a){var b=os.geo.isClosed(a);return goog.isDefAndNotNull(a)&&(b&&3<a.length||!b&&2<a.length)};os.geo.calculateCenter=function(a){if(os.geo.isPolygon(a)){for(var b=[0,0],c=os.geo.isClosed(a)?a.length-1:a.length,d=c;c--;)b[0]+=a[c][0],b[1]+=a[c][1];b[0]/=d;b[1]/=d;return b}return[]};
os.geo.isRectangular=function(a,b){var c=os.geo.isClosed(a),d=os.geo.isPolygon(a);if(a&&c&&d&&b){c=a.length;for(var e=d=!1,f=!1,g=!1;c--;)if(os.geo.isSameCoordinate(a[c],[b[0],b[1]]))f=!0;else if(os.geo.isSameCoordinate(a[c],[b[0],b[3]]))d=!0;else if(os.geo.isSameCoordinate(a[c],[b[2],b[1]]))g=!0;else if(os.geo.isSameCoordinate(a[c],[b[2],b[3]]))e=!0;else return!1;return e&&d&&g&&f}return!1};
os.geo.isGeometryRectangular=function(a){return a&&a.getType()==ol.geom.GeometryType.POLYGON&&(a=a.getLinearRings())&&1===a.length&&a[0]?os.geo.isRectangular(a[0].getCoordinates(),a[0].getExtent()):!1};os.geo.isGeometryPolygonal=function(a){return a?(a=a.getType(),a==ol.geom.GeometryType.POLYGON||a==ol.geom.GeometryType.MULTI_POLYGON):!1};os.geo.hasAltitude=function(a,b){var c;if(a&&0<a.length)for(var d=0;d<a.length;d+=1){if((c=a[d])&&2<c.length&&0!==c[2])return!0;if(b)break}return!1};
os.geo.hasAltitudeGeometry=function(a,b){var c=!1,d,e;switch(a.getType()){case "Point":(b=a.getCoordinates())&&(c=b&&2<b.length&&0!==b[2]);break;case "LineString":c=a.getCoordinates();c=os.geo.hasAltitude(c,b);break;case "MultiPoint":c=a.getCoordinates();c=os.geo.hasAltitude(c,b);break;case "MultiLineString":if(d=a.getCoordinates())for(a=0;a<d.length;a+=1){if(os.geo.hasAltitude(d[a],b)){c=!0;break}if(b)break}break;case "Polygon":if(e=a.getCoordinates())for(a=0;a<e.length;a+=1){if(os.geo.hasAltitude(e[a],
b)){c=!0;break}if(b)break}break;case "MultiPolygon":var f=a.getCoordinates();if(f)for(d=0;d<f.length;d+=1)for(e=f[d],a=0;a<e.length;a+=1){if(os.geo.hasAltitude(e[a],b)){c=!0;d=f.length;break}if(b){d=f.length;break}}break;case "GeometryCollection":if(d=a.getGeometries())for(a=0;a<d.length;a+=1){if(os.geo.hasAltitudeGeometry(d[a])){c=!0;break}if(b)break}break;case "Circle":b=a.getFirstCoordinate();a=a.getLastCoordinate();b&&a&&(c=b&&2<b.length&&0!==b[2]||a&&2<a.length&&0!==a[2]);break;default:c=!1}return null==
c?!1:c};os.geo.getAverageAltitude=function(a){var b,c=0,d=0;if(a&&0<a.length)for(var e=0;e<a.length;e+=1)(b=a[e])&&2<b.length&&0!==b[2]&&(d++,c+=b[2]);a=c/d;return isNaN(a)?0:a};os.geo.isSameCoordinate=function(a,b){return null==a||null==b||2==!a.length||2==!b.length?!1:Math.abs(a[0]-b[0])<=os.geo.EPSILON&&Math.abs(a[1]-b[1])<=os.geo.EPSILON};os.geo.padCoordinate=function(a,b,c){var d=goog.isDef(b)?b:!1;b=0>a;a=goog.string.padNumber(Math.abs(a),d?3:2,c);return(b?"-":"")+a};
os.geo.toSexagesimal=function(a,b,c){b=goog.isDef(b)?b:!0;c=goog.isDef(c)?c:!0;var d=0>a,e=0<a?Math.floor(a):Math.ceil(a),f=Math.abs(60*(e-a));a=Math.floor(f);f=60*(f-a);return goog.string.buildString(os.geo.padCoordinate(Math.abs(e),b),c?"\u00b0 ":"",os.geo.padCoordinate(a),c?"' ":"",os.geo.padCoordinate(f,!1,2),c?'"':"",c?" ":"",b?d?"W":"E":d?"S":"N")};
os.geo.normalizeLatitude=function(a,b,c){if(goog.isDef(b)&&goog.isDef(c)){for(;a<b;)a+=180;for(;a>c;)a-=180;return a}return 90<a?(a+90)%180-90:-90>a?(a-90)%180+90:a};os.geo.extentToCoordinates=function(a){var b=[a[0],a[3]];return[b,[a[2],a[3]],[a[2],a[1]],[a[0],a[1]],b]};os.geo.normalizeLongitude=function(a,b,c){if(goog.isDef(b)&&goog.isDef(c)){for(;a<b;)a+=360;for(;a>c;)a-=360;return a}return 180<a?(a+180)%360-180:-180>a?(a-180)%360+180:a};
os.geo.crossesDateLine=function(a){if(a){var b;a instanceof Array&&(b=a);if(a instanceof ol.geom.Geometry){if(a instanceof ol.geom.Point)return!1;if(a instanceof ol.geom.LineString){b=a.getFlatCoordinates();a=a.getStride();for(var c=os.geo.normalizeLongitude(b[0]),d=!1,e=0;e<b.length-a;e+=a){var f=os.geo.normalizeLongitude(b[e+a]);if(180!=Math.abs(c)&&180!=Math.abs(f)&&180<Math.abs(f-c)){d=!0;break}180!=Math.abs(f)&&(c=f)}return d}if(a instanceof ol.geom.MultiLineString)return a.getLineStrings().some(os.geo.crossesDateLine);
b=a.getExtent()}if(a instanceof ol.Feature)return(b=a.getGeometry())?os.geo.crossesDateLine(b):!1;if(b&&3<b.length)return a=Math.min(b[0],b[2]),b=Math.max(b[0],b[2]),!(-180>a&&-180>b||180<a&&180<b||-180<a&&180>b)}return!1};os.geo.normalizeCoordinates=function(a,b){if(a&&0<a.length){b=null!=b?b:os.geo.normalizeLongitude(a[0][0]);for(var c=0;c<a.length;c++)a[c][0]=os.geo.normalizeLongitude(a[c][0],b-180,b+180)}};
os.geo.normalizeRings=function(a,b){if(a)for(var c=0;c<a.length;c++)os.geo.normalizeCoordinates(a[c],b)};os.geo.normalizePolygons=function(a,b){if(a)for(var c=0;c<a.length;c++)os.geo.normalizeRings(a[c],b)};
os.geo.normalizeGeometryCoordinates=function(a,b){if(a){if(a.get(os.geom.GeometryField.NORMALIZED)||os.query.isWorldQuery(a))return!1;switch(a.getType()){case ol.geom.GeometryType.POINT:var c=a.getCoordinates();b=null!=b?b:0;c[0]=os.geo.normalizeLongitude(c[0],b-180,b+180);a.setCoordinates(c);return!0;case ol.geom.GeometryType.LINE_STRING:case ol.geom.GeometryType.MULTI_POINT:return c=a.getCoordinates(),os.geo.normalizeCoordinates(c,b),a.setCoordinates(c),!0;case ol.geom.GeometryType.POLYGON:case ol.geom.GeometryType.MULTI_LINE_STRING:return c=
a.getCoordinates(),os.geo.normalizeRings(c,b),a.setCoordinates(c),!0;case ol.geom.GeometryType.MULTI_POLYGON:return c=a.getCoordinates(),os.geo.normalizePolygons(c,b),a.setCoordinates(c),!0;case ol.geom.GeometryType.GEOMETRY_COLLECTION:a=a.getGeometriesArray();for(c=0;c<a.length;c++)os.geo.normalizeGeometryCoordinates(a[c],b);return!0}}return!1};os.geo.easeLinear=function(a,b,c,d){return a/d*c+b};os.geo.easeQuintic=function(a,b,c,d){a/=d;a--;return c*(a*a*a*a*a+1)+b};
os.geo.easeQuartic=function(a,b,c,d){a/=d/2;if(1>a)return c*a*a*a*a/2+b;a-=2;return-c*(a*a*a*a-2)/2+b};os.geo.easeExpo=function(a,b,c,d){a/=d/2;if(1>a)return c*Math.pow(2,10*(a-1))/2+b;a--;return c*(-Math.pow(2,-10*a)+2)/2+b};os.geo.easeCircular=function(a,b,c,d){a/=d;return-c*(Math.sqrt(1-a*a)-1)+b};os.geo.isCoordInArea=function(a,b,c,d,e){for(var f=!1,g=0,h=e-1;g<e;h=g++)d[g]>b!=d[h]>b&&a<(c[h]-c[g])*(b-d[g])/(d[h]-d[g])+c[g]&&(f=!f);return f};
os.geo.createPolarPolygon=function(a){for(var b=[a.length+4],c=0;c<a.length;c++)a[c][1]=os.geo.normalizeLongitude(a[c][1]);for(c=1;c<a.length;c++){var d=a[c][0]-a[c-1][0];if(180<Math.abs(d)){os.array.arrayCopy(a,0,b,0,c);os.array.arrayCopy(a,c,b,c+4,a.length-c);var e=90*Math.sign(b[c-1][1]);180>d?(b[c]=[180,b[c-1][1]],b[c+1]=[180,e],b[c+2]=[-180,e],b[c+3]=[-180,b[c+4][1]]):(b[c]=[-180,b[c-1][1]],b[c+1]=[-180,e],b[c+2]=[180,e],b[c+3]=[180,b[c+4][1]])}}return b};
os.geo.isPolarPolygon=function(a){var b=0;if(a)for(var c=1;c<a.length;c++){var d=a[c][0]-a[c-1][0];180<d?d-=360:-180>d&&(d+=360);b+=d}return 1<Math.abs(b)};os.geo.isValidExtent=function(a){var b=(b=(b=(b=a[0]==a[1]==a[2]==a[3])||a[1]!=os.geo.normalizeLatitude(a[1]))||a[2]!=os.geo.normalizeLongitude(a[2],a[0],a[0]+360))||a[3]!=os.geo.normalizeLatitude(a[3]);return!b};
os.geo.stringifyExtent=function(a,b){return goog.isDefAndNotNull(b)&&0<b?a[1].toFixed(b)+", "+a[0].toFixed(b)+", "+a[3].toFixed(b)+", "+a[2].toFixed(b):a[1]+", "+a[0]+", "+a[3]+", "+a[2]};os.geo.isCCW=function(a){var b=0;if(3<a.length&&os.geo.isClosed(a))for(var c=0;c<a.length;c++){var d=a[c],e=a[c+1==a.length?0:c+1];b+=(e[0]-d[0])*(e[1]+d[1])}return 0>b};
os.geo.shouldNormalize=function(a){if(a&&0<a.length){var b=void 0;return goog.array.every(a,function(a){a=a[0];if(180<=a||-180>=a){if(goog.isDef(b)&&!b)return!1;b=!0}else{if(goog.isDef(b)&&b)return!1;b=!1}return!0})}return!1};os.geo.R2D=180/Math.PI;os.geo.D2R=Math.PI/180;os.geo.flattenGeometry=function(a){if(a instanceof ol.geom.GeometryCollection){var b=a.getGeometriesArray();if(1===b.length)return os.geo.flattenGeometry(b[0])}return a};
os.geo.mergeLineGeometry=function(a){if(a instanceof ol.geom.LineString)return a;var b=a.getFlatCoordinates().slice(),c=a.getLayout(),d=a.getStride();a=a.getEnds();for(var e=a.length;e--;){var f=a[e];b[f-d]!==b[f]&&360!==Math.abs(b[f-d])+Math.abs(b[f])||b[f-d+1]!==b[f+1]||!(3>d||b[f-d+2]===b[f+2])||b.splice(f-d,d)}d=new ol.geom.LineString([],c);d.setFlatCoordinates(c,b);return d};
os.geo.splitOnDateLine=function(a){var b=a.getType();if(b!==ol.geom.GeometryType.LINE_STRING&&b!==ol.geom.GeometryType.MULTI_LINE_STRING||a.get(os.geom.GeometryField.NORMALIZED)||!os.geo.crossesDateLine(a))return a;if(a instanceof ol.geom.LineString){b=os.geo.splitLineOnDateLine_(a);var c=os.geo.createLineFromSegments_(b,a.getLayout())}else a instanceof ol.geom.MultiLineString&&(b=os.geo.splitMultiLineOnDateLine_(a),c=os.geo.createLineFromSegments_(b,a.getLayout()));c instanceof ol.geom.Geometry&&
os.extent.getFunctionalExtent(c);c.set(os.geom.GeometryField.NORMALIZED,!0);return c};os.geo.createLineFromSegments_=function(a,b){return 1<a.length?new ol.geom.MultiLineString(a,b):new ol.geom.LineString(a[0],b)};
os.geo.splitLineOnDateLine_=function(a){a=a.getCoordinates();a.forEach(function(a){a[0]=os.geo.normalizeLongitude(a[0])});for(var b=0,c=[],d=0;d<a.length-1;d++){var e=a[d+1],f=e[0]-a[d][0];180<Math.abs(f)&&(b=a.slice(b,d+1),e=e.slice(),e[0]=0<f?e[0]-360:e[0]+360,b.push(e),c.push(b),b=d+1)}b!==a.length-1&&c.push(a.slice(b));return c};os.geo.splitMultiLineOnDateLine_=function(a){return a.getLineStrings().reduce(function(a,c){c=c?os.geo.splitLineOnDateLine_(c):[];return a.concat(c)},[])};os.Map=function(a){ol.Map.call(this,a)};goog.inherits(os.Map,ol.Map);os.Map.prototype.getExtent=function(){var a=os.MapContainer.getInstance();if(a.is3DEnabled()&&(a=a.getOLCesium().getCamera(),a instanceof os.olcs.Camera&&(a=a.getExtent())))return ol.proj.transformExtent(a,os.proj.EPSG4326,os.map.PROJECTION);a=this.getSize();return this.getView().calculateExtent(a||[0,0])};
os.Map.prototype.get3DLonLat_=function(a){if(a&&2==a.length&&!isNaN(a[0])&&!isNaN(a[1])){var b=os.MapContainer.getInstance().getOLCesium();a=new Cesium.Cartesian2(a[0],a[1]);b=b.getCesiumScene();if(a=b.camera.pickEllipsoid(a))return b=b.globe.ellipsoid.cartesianToCartographic(a),[Cesium.Math.toDegrees(b.longitude),Cesium.Math.toDegrees(b.latitude)]}return null};
os.Map.prototype.getCoordinateFromPixel=function(a){if(os.MapContainer.getInstance().is3DEnabled())return(a=this.get3DLonLat_(a))?ol.proj.fromLonLat(a,os.map.PROJECTION):null;a=os.Map.superClass_.getCoordinateFromPixel.call(this,a);var b=this.getView().getProjection().getExtent();return a&&(a[1]<b[1]||a[1]>b[3])?null:a};
os.Map.prototype.getPixelFromCoordinate=function(a){if(os.MapContainer.getInstance().is3DEnabled()){if(!a)return null;a=ol.proj.toLonLat(a,os.map.PROJECTION);var b=os.MapContainer.getInstance().getOLCesium();a=olcs.core.ol4326CoordinateToCesiumCartesian(a);return(a=Cesium.SceneTransforms.wgs84ToWindowCoordinates(b.getCesiumScene(),a))?[a.x,a.y]:null}return os.Map.superClass_.getPixelFromCoordinate.call(this,a)};
os.Map.prototype.get2DPixelFromCoordinate=function(a){return os.Map.superClass_.getPixelFromCoordinate.call(this,a)};
os.Map.prototype.forEachFeatureAtPixel=function(a,b,c){var d=os.MapContainer.getInstance();if(d.is3DEnabled()){d=d.getOLCesium();var e=new Cesium.Cartesian2(a[0],a[1]);if((e=d.getCesiumScene().pick(e))&&e.primitive){if(d=e.primitive.olFeature,e=e.primitive.olLayer,d&&e){var f=c?c.layerFilter:void 0;if(!f||f(e))if(d=b(d,e))return d}}else return null}return this.getCoordinateFromPixel(a)?os.Map.superClass_.forEachFeatureAtPixel.call(this,a,b,c):null};
os.Map.prototype.toggleMovement=function(a){os.MapContainer.getInstance().is3DEnabled()&&(os.MapContainer.getInstance().getOLCesium().getCesiumScene().screenSpaceCameraController.enableInputs=a)};os.Map.prototype.handleBrowserEvent=function(a,b){if(!a.defaultPrevented){var c=a.target;c.tagName===goog.dom.TagName.INPUT.toString()||c.tagName===goog.dom.TagName.TEXTAREA.toString()||document.querySelector(".modal-backdrop")||os.Map.superClass_.handleBrowserEvent.call(this,a,b)}};
os.Map.prototype.updateSize=function(a){if(!a)if(a=this.getTargetElement()){var b=getComputedStyle(a);if(b)if(!goog.userAgent.IE||0!=a.offsetWidth&&0!=a.offsetHeight)this.setSize([a.offsetWidth-parseFloat(b.borderLeftWidth)-parseFloat(b.paddingLeft)-parseFloat(b.paddingRight)-parseFloat(b.borderRightWidth),a.offsetHeight-parseFloat(b.borderTopWidth)-parseFloat(b.paddingTop)-parseFloat(b.paddingBottom)-parseFloat(b.borderBottomWidth)]);else{a=document.getElementsByClassName("navbar");for(var c=b=0;c<
a.length;c++)b+=a[0].offsetHeight;a=document.documentElement.clientHeight-b;this.setSize([document.documentElement.clientWidth,0<a?a:0])}else this.setSize(void 0)}else this.setSize(void 0)};os.ui={};os.ui.DIRECTIVE_PRIORITY=100;os.ui.injector=null;os.ui.sanitize=function(a){if(a)try{return os.ui.sanitize_=os.ui.sanitize_||os.ui.injector.get("$sanitize"),os.ui.sanitize_(a)}catch(b){goog.isDef(os.ui.sanitize_)?goog.isDef(os.ui.injector)||console.error("os.ui.injector service never defined!"):console.error("$santize service unavailable!")}return a};os.ui.escapeHtmlOpenCloseTags=function(a){if(a){var b={"<":"&lt;",">":"&gt;"};return String(a).replace(/[<>]/g,function(a){return b[a]})}return a};
os.ui.unescapeHtmlOpenCloseTags=function(a){if(a){var b={"&lt;":"<","&gt;":">"},c;for(c in b)a=a.replace(RegExp(c,"g"),b[c])}return a};os.ui.sanitizeId=function(a){return a.replace(/\s/g,"").replace(/[^\w]/g,"-")};os.ui.Module=angular.module("os.ui",["ui.directives","ngAnimate","ngSanitize"]);
os.ui.measureText=function(a,b,c){var d=angular.element("#measureText");d&&0!==d.length||(d=$('<div id="measureText" style="position: fixed; top: -2000px; left: -2000px;"></div>').appendTo("body"));return d&&0<d.length?(d[0].setAttribute("class",b?b:""),d.css("font",c||""),d.html(a),new goog.math.Size(d.width(),d.height())):new goog.math.Size(0,0)};os.ui.apply=function(a,b){if(null!=b&&0<=b)setTimeout(function(){os.ui.apply(a)},b);else try{!a||a.$root&&a.$root.$$phase||a.$apply()}catch(c){}};
os.ui.waitForAngular=function(a){if(os.ui.injector){var b=os.ui.injector.get("$browser");b&&b.notifyWhenNoOutstandingRequests(a)}};os.ui.getPriorityDirective_=function(a){a.sort(os.ui.sortDirectives_);return[a[0]]};os.ui.sortDirectives_=function(a,b){return a.priority>b.priority?-1:a.priority<b.priority?1:0};os.ui.replaceDirective=function(a,b,c,d){var e=null!=d?d:os.ui.DIRECTIVE_PRIORITY;b.directive(a,[function(){var a=c();a.priority=e;return a}]);b.decorator(a+"Directive",os.ui.getPriorityDirective_)};
(function(){if(goog.isDef(window.jQuery)){var a=window.jQuery;if(a.fn&&a.fn.typeahead){a.extend(a.fn.typeahead.Constructor.prototype,{getSelectedValue:function(){return this.$menu.find(".active").attr("data-value")},setInputValue:function(a){if(!a)return null;this.$element.val(this.updater(a)).change();return this},expandInputValueToSelection:function(){var a=this.getSelectedValue();a||(this.next(),a=this.getSelectedValue());return this.setInputValue(a)},select:function(a){var b=this.getSelectedValue();
if(!b)return this;b=os.ui.unescapeHtmlOpenCloseTags(b);this.setInputValue(b);(a||void 0==a)&&this.hide();return this},render:function(b){var c=this;b=a(b).map(function(b,d){d=os.ui.escapeHtmlOpenCloseTags(d);b=a(c.options.item).attr("data-value",d);b.find("a").html(c.highlighter(d));return b[0]});this.$menu.html(b);return this},next:function(b){b=this.$menu.find(".active").removeClass("active").next();b.length||(b=a(this.$menu.find("li")[0]));b.addClass("active")},prev:function(a){a=this.$menu.find(".active").removeClass("active").prev();
a.length||(a=this.$menu.find("li").last());a.addClass("active")},move:function(a){if(this.shown){switch(a.keyCode){case 27:a.preventDefault();break;case 13:if(!this.shown)return;this.select();return;case 38:a.preventDefault();this.prev();break;case 40:"keypress"!=a.type&&(a.preventDefault(),this.next())}a.stopPropagation()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,39,13,27]);this.move(b)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;
case 39:if(!this.shown)return;this.expandInputValueToSelection().hide();break;case 13:case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation();a.preventDefault()},click:function(a){a.preventDefault();this.select()}});a.fn.typeahead.defaults.item='<li><a tabindex="-1" href=""></a></li>';goog.userAgent.IE&&(a.fn.modal.Constructor.prototype.enforceFocus=function(){});var b=a.fn.typeahead.Constructor.prototype.enforceFocus;a.extend(a.fn.typeahead.Constructor.prototype,
{enforceFocus:function(c){a(document).on("focusin.modal",goog.bind(function(c){a(c.target).hasClass("select2-input")||b.call(this)},this))}})}}})();os.ui.openFileDirective=function(){return{restrict:"E",scope:!0,transclude:!0,template:'<span class="link" ng-click="ctrl.open()" ng-transclude></span>',controller:os.ui.OpenFileCtrl,controllerAs:"ctrl"}};os.ui.Module.directive("openfile",[os.ui.openFileDirective]);os.ui.OpenFileCtrl=function(){};os.ui.OpenEventType="importFile";os.ui.OpenFileCtrl.open=function(){os.dispatcher.dispatchEvent(os.ui.OpenEventType)};goog.exportProperty(os.ui.OpenFileCtrl.prototype,"open",os.ui.OpenFileCtrl.open);os.action={};
os.action.EventType={IDENTIFY:"identify",GOTO:"goTo",MOST_RECENT:"mostRecent",REFRESH:"refresh",LOCK:"layer:lock",UNLOCK:"layer:unlock",REMOVE_LAYER:"layer:remove",RENAME:"rename",DISABLE_TIME:"layer:disableTime",ENABLE_TIME:"layer:enableTime",SHOW_DESCRIPTION:"showDescription",COPY:goog.events.EventType.COPY,RESET_VIEW:"resetView",RESET_ROTATION:"resetRotation",TOGGLE_VIEW:"toggleView",SHOW_LEGEND:"showLegend",CLEAR_SELECTION:"clearSelection",BUFFER:"bufferSelected",ENABLE:"enable",DISABLE:"disable",
REMOVE_AREA:"removeArea",SAVE:"save",EDIT:"edit",REMOVE_FROM_AREA:"area:removeFrom",INTERSECT_AREA:"area:intersect",ADD_TO_AREA:"area:addTo",MODIFY_AREA:"area:modify",MERGE_AREAS:"area:merge",COLOR_SELECTED:"colorSelected",AUTO_COLOR:"autoColor",AUTO_COLOR_BY_COUNT:"autoColorByCount",RESET_COLOR:"resetColor",CUSTOM:"custom",LOAD:"load",ADD:"add",SELECT:"select",SELECT_EXCLUSIVE:"selectExclusive",DESELECT:"deselect",REMOVE:"remove",REMOVE_FEATURE:"spatial:removeFeature",REMOVE_FEATURES:"spatial:removeFeatures",
EXCLUDE:"exclude",ADD_EXCLUDE:"add_exclude",FEATURE_INFO:"featureInfo",APPLY:"filter:apply",UNAPPLY:"filter:unapply",REMOVE_FILTER:"filter:remove",IMPORT_FILE:os.ui.OpenEventType,IMPORT_URL:"importUrl",EXPORT:"export"};os.command={};os.command.EventType={EXECUTED:"executed",REVERTED:"reverted",COMMAND_ADDED:"command_added",COMMAND_EXECUTING:"command_executing",COMMAND_EXECUTED:"command_executed",COMMAND_REVERTING:"command_reverting",COMMAND_REVERTED:"command_reverted",HISTORY_LIMIT_CHANGED:"history_limit_changed"};os.command.ICommand=function(){};os.command.State={READY:"ready",EXECUTING:"executing",SUCCESS:"success",ERROR:"error",REVERTING:"reverting"};os.command.AbstractSyncCommand=function(){goog.Disposable.call(this);this.details=null;this.isAsync=!1;this.state=os.command.State.READY;this.title=""};goog.inherits(os.command.AbstractSyncCommand,goog.Disposable);os.command.AbstractSyncCommand.prototype.execute=goog.abstractMethod;os.command.AbstractSyncCommand.prototype.finish=function(a){this.detail=a||null;this.state=os.command.State.SUCCESS;return!0};
os.command.AbstractSyncCommand.prototype.handleError=function(a){this.state=os.command.State.ERROR;this.details=a;return!1};os.command.AbstractSyncCommand.prototype.revert=function(){this.state=os.command.State.READY;this.details=null;return!0};os.command.FlyToExtent=function(a,b,c){os.command.AbstractSyncCommand.call(this);this.title="Fit Map to Extent";this.extent_=a;this.oldExtent_=void 0;this.buffer_=b||os.command.FlyToExtent.DEFAULT_BUFFER;a=os.map.MAX_AUTO_ZOOM;null!=c&&(a=0>c?os.map.MAX_ZOOM:goog.math.clamp(c,os.map.MIN_ZOOM,os.map.MAX_ZOOM));this.maxZoom_=a};goog.inherits(os.command.FlyToExtent,os.command.AbstractSyncCommand);os.command.FlyToExtent.DEFAULT_BUFFER=1.5;
os.command.FlyToExtent.prototype.execute=function(){this.state=os.command.State.EXECUTING;var a=os.MapContainer.getInstance();this.oldExtent_=a.getViewExtent().slice();a.flyToExtent(this.extent_,this.buffer_,this.maxZoom_);return this.finish()};os.command.FlyToExtent.prototype.revert=function(){this.state=os.command.State.REVERTING;this.oldExtent_&&os.MapContainer.getInstance().flyToExtent(this.oldExtent_);return os.command.FlyToExtent.superClass_.revert.call(this)};os.IPersistable=function(){};os.filter={};os.filter.IFilterable=function(){};os.filter.IFilterable.ID="os.filter.IFilterable";os.filter.IFilterable.prototype.getTitle=goog.abstractMethod;os.filter.IFilterable.prototype.isFilterable=goog.abstractMethod;os.filter.IFilterable.prototype.getFilterKey=goog.abstractMethod;os.filter.IFilterable.prototype.launchFilterManager=goog.abstractMethod;os.filter.IFilterable.prototype.getFilterColumns=goog.abstractMethod;os.filter.IFilterable.prototype.getFilterableTypes=goog.abstractMethod;os.ui.action={};os.ui.action.IActionTarget=function(){};os.layer={};os.layer.ILayer=function(){};os.layer.ILayer.ID="os.layer.ILayer";os.layer.ILayer.prototype.getNodeUI=goog.abstractMethod;os.layer.ILayer.prototype.getGroupUI=goog.abstractMethod;os.layer.ILayer.prototype.getLayerUI=goog.abstractMethod;os.layer.config={};os.layer.config.ILayerConfig=function(){};os.layer.config.LayerConfigManager=function(){this.defaultFns_={};this.layerConfigs_={}};goog.addSingletonGetter(os.layer.config.LayerConfigManager);os.layer.config.LayerConfigManager.LOGGER_=goog.log.getLogger("os.layer.config.LayerConfigManager");os.layer.config.LayerConfigManager.prototype.getDefaultLayerConfig=function(a){var b={};a=a.toLowerCase();a in this.defaultFns_&&(b=this.defaultFns_[a]());return b};
os.layer.config.LayerConfigManager.prototype.getLayerConfig=function(a){var b=null;a=a.toLowerCase();a in this.layerConfigs_&&(b=new this.layerConfigs_[a]);return b};os.layer.config.LayerConfigManager.prototype.registerDefaultLayerConfig=function(a,b){a=a.toLowerCase();a in this.defaultFns_&&goog.log.warning(os.layer.config.LayerConfigManager.LOGGER_,"Default layer config is being overridden for: "+a);this.defaultFns_[a]=b};
os.layer.config.LayerConfigManager.prototype.registerLayerConfig=function(a,b){a=a.toLowerCase();a in this.layerConfigs_&&goog.log.warning(os.layer.config.LayerConfigManager.LOGGER_,"Layer config is being overridden for: "+a);this.layerConfigs_[a]=b};os.events.PropertyChangeEvent=function(a,b,c,d){goog.events.Event.call(this,goog.events.EventType.PROPERTYCHANGE,d);this.property_=goog.isDef(a)?a:null;this.newVal_=goog.isDef(b)?b:null;this.oldVal_=goog.isDef(c)?c:null};goog.inherits(os.events.PropertyChangeEvent,goog.events.Event);os.events.PropertyChangeEvent.prototype.getProperty=function(){return this.property_};os.events.PropertyChangeEvent.prototype.getNewValue=function(){return this.newVal_};
os.events.PropertyChangeEvent.prototype.getOldValue=function(){return this.oldVal_};os.data={};os.data.xf={};os.data.xf.PropertyChange={DIMENSION:"xf:dimension"};os.data.xf.DataModel=function(){goog.events.EventTarget.call(this);this.xf=crossfilter();this.dimensions={};this.filterFunction=null;this.filterValues={}};goog.inherits(os.data.xf.DataModel,goog.events.EventTarget);os.data.xf.DataModel.LOGGER_=goog.log.getLogger("os.data.xf.DataModel");
os.data.xf.DataModel.prototype.add=function(a){if(!this.isDisposed()){var b=goog.now();goog.isArray(a)||(a=[a]);this.xf.add(a);goog.log.fine(os.data.xf.DataModel.LOGGER_,"Added "+a.length+" items to the model in "+(goog.now()-b)+"ms.")}};os.data.xf.DataModel.prototype.clear=function(){if(!this.isDisposed()){for(var a in this.dimensions)this.dimensions[a].filterAll();this.xf.remove();for(a in this.filterValues)void 0!=this.dimensions[a]&&void 0!=this.filterValues[a]&&this.dimensions[a].filter(this.filterValues[a])}};
os.data.xf.DataModel.prototype.disposeInternal=function(){goog.object.clear(this.filterValues);this.clear();for(var a in this.dimensions)this.dimensions[a].dispose(),delete this.dimensions[a];this.xf=null;os.data.xf.DataModel.superClass_.disposeInternal.call(this)};os.data.xf.DataModel.prototype.getFilterFunction=function(){return this.filterFunction};os.data.xf.DataModel.prototype.setFilterFunction=function(a){this.filterFunction=a};
os.data.xf.DataModel.prototype.addDimension=function(a,b){this.isDisposed()||(this.removeDimension(a),this.dimensions[a]=this.xf.dimension(b),this.dispatchEvent(new os.events.PropertyChangeEvent(os.data.xf.PropertyChange.DIMENSION,a)))};os.data.xf.DataModel.prototype.hasDimension=function(a){return null!=this.dimensions&&a in this.dimensions};
os.data.xf.DataModel.prototype.removeDimension=function(a){!this.isDisposed()&&a in this.dimensions&&(this.dimensions[a].dispose(),delete this.dimensions[a],delete this.filterValues[a],this.dispatchEvent(new os.events.PropertyChangeEvent(os.data.xf.PropertyChange.DIMENSION,a)))};os.data.xf.DataModel.prototype.filterDimension=function(a,b){this.isDisposed()||(a in this.dimensions&&this.dimensions[a].filter(b),void 0!=b?this.filterValues[a]=b:delete this.filterValues[a])};
os.data.xf.DataModel.prototype.groupData=function(a,b,c,d,e){var f;this.isDisposed()||(a=this.dimensions[a])&&(f=this.groupDataInternal(a,b,c,d,e));return f||[]};os.data.xf.DataModel.prototype.groupDataInternal=function(a,b,c,d,e){a=a.group(b);a.reduce(c,d,e);c=a.top(Infinity)||[];a.dispose();return c};
os.data.xf.DataModel.prototype.getResults=function(a){if(!this.isDisposed()){var b=goog.object.getAnyValue(this.dimensions);a=a||Infinity;if(b)return a=b.top(a),this.filterFunction&&(a=goog.array.filter(a,this.filterFunction,this)),a}goog.log.error(os.data.xf.DataModel.LOGGER_,"There are no dimensions for the model to filter on!");return[]};os.data.xf.DataModel.prototype.getSize=function(){return this.xf?this.xf.size():0};os.data.xf.DataModel.prototype.isEmpty=function(){return!this.xf||0>=this.xf.size()};
os.data.xf.DataModel.prototype.setData=function(a){this.clear();this.add(a)};os.IComparable=function(){};os.time={};os.time.ITime=function(){};os.time.ITime.ID="os.time.ITime";goog.date.UtcDateTime=function(a,b,c,d,e,f,g){a=goog.isNumber(a)?Date.UTC(a,b||0,c||1,d||0,e||0,f||0,g||0):a?a.getTime():goog.now();this.date=new Date(a)};goog.inherits(goog.date.UtcDateTime,goog.date.DateTime);goog.date.UtcDateTime.fromTimestamp=function(a){var b=new goog.date.UtcDateTime;b.setTime(a);return b};goog.date.UtcDateTime.fromIsoString=function(a){var b=new goog.date.UtcDateTime(2E3);return goog.date.setIso8601DateTime(b,a)?b:null};
goog.date.UtcDateTime.prototype.clone=function(){var a=new goog.date.UtcDateTime(this.date);a.setFirstDayOfWeek(this.getFirstDayOfWeek());a.setFirstWeekCutOffDay(this.getFirstWeekCutOffDay());return a};goog.date.UtcDateTime.prototype.add=function(a){if(a.years||a.months){var b=new goog.date.Interval(a.years,a.months);goog.date.Date.prototype.add.call(this,b)}a=1E3*(a.seconds+60*(a.minutes+60*(a.hours+24*a.days)));this.date=new Date(this.date.getTime()+a)};
goog.date.UtcDateTime.prototype.getTimezoneOffset=function(){return 0};goog.date.UtcDateTime.prototype.getFullYear=goog.date.DateTime.prototype.getUTCFullYear;goog.date.UtcDateTime.prototype.getMonth=goog.date.DateTime.prototype.getUTCMonth;goog.date.UtcDateTime.prototype.getDate=goog.date.DateTime.prototype.getUTCDate;goog.date.UtcDateTime.prototype.getHours=goog.date.DateTime.prototype.getUTCHours;goog.date.UtcDateTime.prototype.getMinutes=goog.date.DateTime.prototype.getUTCMinutes;
goog.date.UtcDateTime.prototype.getSeconds=goog.date.DateTime.prototype.getUTCSeconds;goog.date.UtcDateTime.prototype.getMilliseconds=goog.date.DateTime.prototype.getUTCMilliseconds;goog.date.UtcDateTime.prototype.getDay=goog.date.DateTime.prototype.getUTCDay;goog.date.UtcDateTime.prototype.setFullYear=goog.date.DateTime.prototype.setUTCFullYear;goog.date.UtcDateTime.prototype.setMonth=goog.date.DateTime.prototype.setUTCMonth;goog.date.UtcDateTime.prototype.setDate=goog.date.DateTime.prototype.setUTCDate;
goog.date.UtcDateTime.prototype.setHours=goog.date.DateTime.prototype.setUTCHours;goog.date.UtcDateTime.prototype.setMinutes=goog.date.DateTime.prototype.setUTCMinutes;goog.date.UtcDateTime.prototype.setSeconds=goog.date.DateTime.prototype.setUTCSeconds;goog.date.UtcDateTime.prototype.setMilliseconds=goog.date.DateTime.prototype.setUTCMilliseconds;os.classRegistry_={};os.registerClass=function(a,b){os.classRegistry_[a]=b};os.instanceOf=function(a,b){if(null==window||null==a)return!1;try{var c=os.getParentWindow();if(b&&os.classRegistry_[b]){if(c===window)return a instanceof os.classRegistry_[b];if(c){var d=c.os;return a instanceof os.classRegistry_[b]||null!=d&&null!=d.instanceOf&&d.instanceOf(a,b)}}}catch(e){}return!1};goog.exportSymbol("os.instanceOf",os.instanceOf);os.time.TimeInstant=function(a){this.start=0;void 0!=a&&this.setStart(a)};os.implements(os.time.TimeInstant,os.time.ITime.ID);os.time.TimeInstant.NAME="os.time.TimeInstant";os.registerClass(os.time.TimeInstant.NAME,os.time.TimeInstant);os.time.TimeInstant.MIN_TIME=moment.utc("1753-01-01T00:00:00Z").valueOf();os.time.TimeInstant.MAX_TIME=moment.utc("9999-12-31T23:59:59Z").valueOf();os.time.TimeInstant.prototype.getStart=function(){return this.start};
os.time.TimeInstant.prototype.setStart=function(a){this.start=os.time.TimeInstant.parseTime(a)};os.time.TimeInstant.prototype.getEnd=function(){return this.start};os.time.TimeInstant.prototype.setEnd=function(a){this.setStart(a)};os.time.TimeInstant.prototype.compare=function(a){if(a){if(!this.equals(a)){if(this.start<a.getStart())return-1;if(this.start>=a.getEnd())return 1}return 0}return 1};
os.time.TimeInstant.prototype.equals=function(a){return null!=a&&a.getStart()==this.getStart()&&a.getEnd()==this.getEnd()};os.time.TimeInstant.prototype.intersects=function(a){return 0===this.compare(a)};os.time.TimeInstant.prototype.toISOString=function(a){return isNaN(this.start)?"Unbounded":os.time.toOffsetString(this.start)};os.time.TimeInstant.prototype.toString=function(){return this.toISOString()};
os.time.TimeInstant.parseTime=function(a){var b=0;if(null!=a)switch(typeof a){case "number":b=a;break;case "string":b=(new Date(a)).getTime();break;case "object":"function"==typeof a.getFullYear?b=a.getTime():"function"==typeof a.getStart&&(b=a.getStart())}return isNaN(b)?0:Math.min(Math.max(b,os.time.TimeInstant.MIN_TIME),os.time.TimeInstant.MAX_TIME)};os.time.TimeRange=function(a,b){os.time.TimeInstant.call(this,a);this.end_=0;void 0!=b&&this.setEnd(b)};goog.inherits(os.time.TimeRange,os.time.TimeInstant);os.time.TimeRange.NAME="os.time.TimeRange";os.registerClass(os.time.TimeRange.NAME,os.time.TimeRange);os.time.TimeRange.prototype.getStart=function(){return this.start<this.end_?this.start:this.end_};os.time.TimeRange.prototype.getEnd=function(){return this.end_>this.start?this.end_:this.start};
os.time.TimeRange.prototype.setEnd=function(a){this.end_=os.time.TimeInstant.parseTime(a)};os.time.TimeRange.prototype.compare=function(a){if(a){if(!this.equals(a))if(a instanceof os.time.TimeRange){if(a.getEnd()<=this.getStart())return 1;if(a.getStart()>=this.getEnd())return-1}else return-1*a.compare(this);return 0}return 1};
os.time.TimeRange.prototype.toISOString=function(a){var b=[],c=new goog.date.UtcDateTime,d=this.getStart(),e=this.getEnd();isNaN(d)||d===os.time.TimeInstant.MIN_TIME?b.push("Unbounded"):b.push(os.time.toOffsetString(d,c));b.push(a||" to ");isNaN(e)||e===os.time.TimeInstant.MAX_TIME?b.push("Unbounded"):b.push(os.time.toOffsetString(e,c));return b.join("")};os.time.xf={};
os.time.xf.TimeModel=function(a,b){os.data.xf.DataModel.call(this);this.getTimeFn=a;this.startDimension=this.xf.dimension(this.startFilter_.bind(this,this.getTimeFn));this.endDimension=this.xf.dimension(this.endFilter_.bind(this,this.getTimeFn));this.timelessXf=crossfilter();this.holdsXf=crossfilter();this.holdStartDimension=(this.getHoldTimeFn=b||null)?this.holdsXf.dimension(this.startFilter_.bind(this,this.getHoldTimeFn)):null;this.holdEndDimension=this.getHoldTimeFn?this.holdsXf.dimension(this.endFilter_.bind(this,this.getHoldTimeFn)):
null;this.timelessDimensions={};this.defaultDimension=this.timelessXf.dimension(goog.functions.TRUE);this.lastRange=this.dataRange=null};goog.inherits(os.time.xf.TimeModel,os.data.xf.DataModel);os.time.xf.TimeModel.LOGGER_=goog.log.getLogger("os.time.xf.TimeModel");os.time.xf.TimeModel.EMPTY_RANGE_=new os.time.TimeRange(NaN,NaN);
os.time.xf.TimeModel.prototype.add=function(a){if(!this.isDisposed()){var b=goog.now();goog.isArray(a)||(a=[a]);for(var c=[],d=[],e=0,f=a.length;e<f;e++){var g=a[e],h=this.getTimeFn(g);h&&os.implements(h,os.time.ITime.ID)?c.push(g):d.push(g)}this.xf.add(c);this.timelessXf.add(d);this.getHoldTimeFn&&os.time.TimelineController.getInstance().hasHoldRanges()&&this.holdsXf.add(d);this.updateRange();goog.log.fine(os.time.xf.TimeModel.LOGGER_,"Added "+a.length+" items to the model in "+(goog.now()-b)+"ms.")}};
os.time.xf.TimeModel.prototype.clear=function(){if(!this.isDisposed()){this.startDimension.filterAll();this.endDimension.filterAll();this.holdStartDimension&&this.holdStartDimension.filterAll();this.holdEndDimension&&this.holdEndDimension.filterAll();for(var a in this.timelessDimensions)this.timelessDimensions[a].filterAll();os.time.xf.TimeModel.superClass_.clear.call(this);this.timelessXf.remove();this.holdsXf.remove();for(a in this.filterValues)void 0!=this.filterValues[a]&&(void 0!=this.dimensions[a]&&
this.dimensions[a].filter(this.filterValues[a]),void 0!=this.timelessDimensions[a]&&this.timelessDimensions[a].filter(this.filterValues[a]));this.updateRange()}};
os.time.xf.TimeModel.prototype.disposeInternal=function(){os.time.xf.TimeModel.superClass_.disposeInternal.call(this);this.startDimension.dispose();this.startDimension=null;this.endDimension.dispose();this.endDimension=null;this.holdStartDimension&&(this.holdStartDimension.dispose(),this.holdStartDimension=null);this.holdEndDimension&&(this.holdEndDimension.dispose(),this.holdEndDimension=null);for(var a in this.timelessDimensions)this.timelessDimensions[a].dispose(),delete this.timelessDimensions[a];
this.defaultDimension&&(this.defaultDimension.dispose(),this.defaultDimension=null);this.timelessXf=null};os.time.xf.TimeModel.prototype.addDimension=function(a,b){this.isDisposed()||(this.removeDimension(a,!0),this.defaultDimension&&(this.defaultDimension.dispose(),this.defaultDimension=null),this.dimensions[a]=this.xf.dimension(b),this.timelessDimensions[a]=this.timelessXf.dimension(b),this.dispatchEvent(new os.events.PropertyChangeEvent(os.data.xf.PropertyChange.DIMENSION,a)))};
os.time.xf.TimeModel.prototype.groupData=function(a,b,c,d,e){if(!this.isDisposed()){var f=os.time.xf.TimeModel.superClass_.groupData.call(this,a,b,c,d,e);if(a=this.timelessDimensions[a])for(b=this.groupDataInternal(a,b,c,d,e),e=0,a=b.length;e<a;e++){var g=b[e],h=goog.array.find(f,function(a){return a.key==g.key});if(h){h=h.value;for(var k=g.value,l=k.getItems().slice(),m=0;m<l.length;m++){var n=l[m];d(k,n);c(h,n)}}else f.push(g)}}return f||[]};
os.time.xf.TimeModel.prototype.hasDimension=function(a){return os.time.xf.TimeModel.superClass_.hasDimension.call(this,a)||null!=this.timelessDimensions&&a in this.timelessDimensions};
os.time.xf.TimeModel.prototype.removeDimension=function(a,b){this.isDisposed()||(a in this.timelessDimensions&&(this.timelessDimensions[a].dispose(),delete this.timelessDimensions[a]),b||!goog.object.isEmpty(this.timelessDimensions)||this.defaultDimension||(this.defaultDimension=this.timelessXf.dimension(goog.functions.TRUE)),os.time.xf.TimeModel.superClass_.removeDimension.call(this,a))};
os.time.xf.TimeModel.prototype.filterDimension=function(a,b){this.isDisposed()||(a in this.timelessDimensions&&this.timelessDimensions[a].filter(b),os.time.xf.TimeModel.superClass_.filterDimension.call(this,a,b))};os.time.xf.TimeModel.prototype.getRange=function(){return this.dataRange||os.time.xf.TimeModel.EMPTY_RANGE_};os.time.xf.TimeModel.prototype.getLastRange=function(){return this.lastRange};
os.time.xf.TimeModel.prototype.updateRange=function(){this.dataRange=null;if(!this.isDisposed()&&this.xf&&0<this.xf.size()){this.startDimension.filterAll();this.endDimension.filterAll();var a=this.startDimension.bottom(1);a=0<a.length?this.getTimeFn(a[0]).getStart():NaN;var b=this.endDimension.top(1);b=0<b.length?this.getTimeFn(b[0]).getEnd():NaN;this.dataRange=new os.time.TimeRange(a,b);this.lastRange&&this.intersection(this.lastRange,!1,!1)}};
os.time.xf.TimeModel.prototype.getSize=function(){return(this.xf?this.xf.size():0)+(this.timelessXf?this.timelessXf.size():0)};
os.time.xf.TimeModel.prototype.intersection=function(a,b,c){if(!this.isDisposed()){var d=a.getStart(),e=a.getEnd();d==e&&e++;this.startDimension.filter([-Infinity,e]);this.endDimension.filter([d,Infinity]);var f=this.startDimension.top(Infinity);if(b)if(this.defaultDimension)f=f.concat(this.defaultDimension.top(Infinity));else{var g=goog.object.getAnyValue(this.timelessDimensions);f=f.concat(g.top(Infinity))}!b&&c&&this.holdEndDimension&&this.holdStartDimension&&(this.holdStartDimension.filter([-Infinity,
e]),this.holdEndDimension.filter([d,Infinity]),f=f.concat(this.holdStartDimension.top(Infinity)));this.filterFunction&&(f=goog.array.filter(f,this.filterFunction,this));this.lastRange=a}return f||[]};os.time.xf.TimeModel.prototype.isEmpty=function(){return(!this.xf||0>=this.xf.size())&&(!this.timelessXf||0>=this.timelessXf.size())};os.time.xf.TimeModel.prototype.startFilter_=function(a,b){var c=os.time.TimeInstant.MIN_TIME;(a=a(b))&&(c=a.getStart());return c};
os.time.xf.TimeModel.prototype.endFilter_=function(a,b){var c=os.time.TimeInstant.MAX_TIME;(a=a(b))&&(c=a.getEnd());return c};os.source={};os.source.ISource=function(){};os.source.ISource.ID="os.source.ISource";os.layer.SynchronizerType={VECTOR:"vector",TILE:"tile",IMAGE:"image",DRAW:"draw"};os.layer.LayerOption={SHOW_FORCE_COLOR:"showForceColor"};os.layer.LOGGER_=goog.log.getLogger("os.layer");
os.layer.createFromOptions=function(a){var b=a.type;if(!b)return goog.log.error(os.layer.LOGGER_,"Layer type missing!"),null;var c=os.layer.config.LayerConfigManager.getInstance().getLayerConfig(b);if(!c)return goog.log.error(os.layer.LOGGER_,"Unknown layer config type: "+b),null;c=c.createLayer(a);if(!c)return goog.log.error(os.layer.LOGGER_,"Failed creating layer of type: "+b),null;c.setLayerOptions(a);return c};
os.layer.identifyLayer=function(a){var b=0,c=a.getOpacity()||0,d=a.getBaseVisible(),e=new goog.Timer(250);e.listen(goog.Timer.TICK,function(){if(5<b)a.setBaseVisible(d),a.setOpacity(c),e.dispose();else{var f=b%2?1:0;1==f?a.setBaseVisible(!0):a.setBaseVisible(!1);a.setOpacity(f);b++}});e.start()};os.layer.getTitle=function(a,b){var c="";a=os.MapContainer.getInstance().getLayer(a);os.implements(a,os.layer.ILayer.ID)&&(c=a.getTitle())&&b&&(b=a.getExplicitType())&&(c+=" "+b);return c};
os.layer.getUniqueTitle=function(a){for(var b=a=a.replace(/\s+\[\d+]$/,""),c=1;os.layer.hasLayer(b);)b=a+" ["+c++ +"]";return b};os.layer.hasLayer=function(a){return os.MapContainer.getInstance().getLayers().some(function(b){try{return b.getTitle()==a}catch(c){}return!1})};os.layer.getBrightness=function(a){return a.getBrightness()};os.layer.getContrast=function(a){return a.getContrast()};os.layer.getHue=function(a){return a.getHue()};os.layer.getOpacity=function(a){return a.getOpacity()};
os.layer.getSaturation=function(a){return a.getSaturation()};os.layer.setBrightness=function(a,b){a.setBrightness(b)};os.layer.setContrast=function(a,b){a.setContrast(b)};os.layer.setHue=function(a,b){a.setHue(b)};os.layer.setOpacity=function(a,b){a.setOpacity(b)};os.layer.setSaturation=function(a,b){a.setSaturation(b)};os.layer.mapLayersToIds=function(a,b,c){return a.getId()};goog.color={};
goog.color.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};goog.color.parse=function(a){var b={};a=String(a);var c=goog.color.prependHashIfNecessaryHelper(a);if(goog.color.isValidHexColor_(c))return b.hex=goog.color.normalizeHex(c),b.type="hex",b;c=goog.color.isValidRgbColor_(a);if(c.length)return b.hex=goog.color.rgbArrayToHex(c),b.type="rgb",b;if(goog.color.names&&(c=goog.color.names[a.toLowerCase()]))return b.hex=c,b.type="named",b;throw Error(a+" is not a valid color string");};
goog.color.isValidColor=function(a){var b=goog.color.prependHashIfNecessaryHelper(a);return!!(goog.color.isValidHexColor_(b)||goog.color.isValidRgbColor_(a).length||goog.color.names&&goog.color.names[a.toLowerCase()])};goog.color.parseRgb=function(a){var b=goog.color.isValidRgbColor_(a);if(!b.length)throw Error(a+" is not a valid RGB color");return b};goog.color.hexToRgbStyle=function(a){return goog.color.rgbStyle_(goog.color.hexToRgb(a))};goog.color.hexTripletRe_=/#(.)(.)(.)/;
goog.color.normalizeHex=function(a){if(!goog.color.isValidHexColor_(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(goog.color.hexTripletRe_,"#$1$1$2$2$3$3"));return a.toLowerCase()};goog.color.hexToRgb=function(a){a=goog.color.normalizeHex(a);var b=parseInt(a.substr(1,2),16),c=parseInt(a.substr(3,2),16);a=parseInt(a.substr(5,2),16);return[b,c,a]};
goog.color.rgbToHex=function(a,b,c){a=Number(a);b=Number(b);c=Number(c);if(a!=(a&255)||b!=(b&255)||c!=(c&255))throw Error('"('+a+","+b+","+c+'") is not a valid RGB color');a=goog.color.prependZeroIfNecessaryHelper(a.toString(16));b=goog.color.prependZeroIfNecessaryHelper(b.toString(16));c=goog.color.prependZeroIfNecessaryHelper(c.toString(16));return"#"+a+b+c};goog.color.rgbArrayToHex=function(a){return goog.color.rgbToHex(a[0],a[1],a[2])};
goog.color.rgbToHsl=function(a,b,c){a/=255;b/=255;c/=255;var d=Math.max(a,b,c),e=Math.min(a,b,c),f=0,g=0,h=.5*(d+e);d!=e&&(d==a?f=60*(b-c)/(d-e):d==b?f=60*(c-a)/(d-e)+120:d==c&&(f=60*(a-b)/(d-e)+240),g=0<h&&.5>=h?(d-e)/(2*h):(d-e)/(2-2*h));return[Math.round(f+360)%360,g,h]};goog.color.rgbArrayToHsl=function(a){return goog.color.rgbToHsl(a[0],a[1],a[2])};goog.color.hueToRgb_=function(a,b,c){0>c?c+=1:1<c&&--c;return 1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a};
goog.color.hslToRgb=function(a,b,c){a/=360;if(0==b)c=b=a=255*c;else{var d=.5>c?c*(1+b):c+b-b*c;var e=2*c-d;c=255*goog.color.hueToRgb_(e,d,a+1/3);b=255*goog.color.hueToRgb_(e,d,a);a=255*goog.color.hueToRgb_(e,d,a-1/3)}return[Math.round(c),Math.round(b),Math.round(a)]};goog.color.hslArrayToRgb=function(a){return goog.color.hslToRgb(a[0],a[1],a[2])};goog.color.validHexColorRe_=/^#(?:[0-9a-f]{3}){1,2}$/i;goog.color.isValidHexColor_=function(a){return goog.color.validHexColorRe_.test(a)};
goog.color.normalizedHexColorRe_=/^#[0-9a-f]{6}$/;goog.color.isNormalizedHexColor_=function(a){return goog.color.normalizedHexColorRe_.test(a)};goog.color.rgbColorRe_=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;goog.color.isValidRgbColor_=function(a){var b=a.match(goog.color.rgbColorRe_);if(b){a=Number(b[1]);var c=Number(b[2]);b=Number(b[3]);if(0<=a&&255>=a&&0<=c&&255>=c&&0<=b&&255>=b)return[a,c,b]}return[]};
goog.color.prependZeroIfNecessaryHelper=function(a){return 1==a.length?"0"+a:a};goog.color.prependHashIfNecessaryHelper=function(a){return"#"==a.charAt(0)?a:"#"+a};goog.color.rgbStyle_=function(a){return"rgb("+a.join(",")+")"};
goog.color.hsvToRgb=function(a,b,c){var d=0,e=0,f=0;if(0==b)f=e=d=c;else{var g=Math.floor(a/60),h=a/60-g;a=c*(1-b);var k=c*(1-b*h);b=c*(1-b*(1-h));switch(g){case 1:d=k;e=c;f=a;break;case 2:d=a;e=c;f=b;break;case 3:d=a;e=k;f=c;break;case 4:d=b;e=a;f=c;break;case 5:d=c;e=a;f=k;break;case 6:case 0:d=c,e=b,f=a}}return[Math.floor(d),Math.floor(e),Math.floor(f)]};
goog.color.rgbToHsv=function(a,b,c){var d=Math.max(Math.max(a,b),c),e=Math.min(Math.min(a,b),c);if(e==d)e=a=0;else{var f=d-e;e=f/d;a=60*(a==d?(b-c)/f:b==d?2+(c-a)/f:4+(a-b)/f);0>a&&(a+=360);360<a&&(a-=360)}return[a,e,d]};goog.color.rgbArrayToHsv=function(a){return goog.color.rgbToHsv(a[0],a[1],a[2])};goog.color.hsvArrayToRgb=function(a){return goog.color.hsvToRgb(a[0],a[1],a[2])};goog.color.hexToHsl=function(a){a=goog.color.hexToRgb(a);return goog.color.rgbToHsl(a[0],a[1],a[2])};
goog.color.hslToHex=function(a,b,c){return goog.color.rgbArrayToHex(goog.color.hslToRgb(a,b,c))};goog.color.hslArrayToHex=function(a){return goog.color.rgbArrayToHex(goog.color.hslToRgb(a[0],a[1],a[2]))};goog.color.hexToHsv=function(a){return goog.color.rgbArrayToHsv(goog.color.hexToRgb(a))};goog.color.hsvToHex=function(a,b,c){return goog.color.rgbArrayToHex(goog.color.hsvToRgb(a,b,c))};goog.color.hsvArrayToHex=function(a){return goog.color.hsvToHex(a[0],a[1],a[2])};
goog.color.hslDistance=function(a,b){var c=.5>=a[2]?a[1]*a[2]:a[1]*(1-a[2]);var d=.5>=b[2]?b[1]*b[2]:b[1]*(1-b[2]);return(a[2]-b[2])*(a[2]-b[2])+c*c+d*d-2*c*d*Math.cos(2*(a[0]/360-b[0]/360)*Math.PI)};goog.color.blend=function(a,b,c){c=goog.math.clamp(c,0,1);return[Math.round(c*a[0]+(1-c)*b[0]),Math.round(c*a[1]+(1-c)*b[1]),Math.round(c*a[2]+(1-c)*b[2])]};goog.color.darken=function(a,b){return goog.color.blend([0,0,0],a,b)};goog.color.lighten=function(a,b){return goog.color.blend([255,255,255],a,b)};
goog.color.highContrast=function(a,b){for(var c=[],d=0;d<b.length;d++)c.push({color:b[d],diff:goog.color.yiqBrightnessDiff_(b[d],a)+goog.color.colorDiff_(b[d],a)});c.sort(function(a,b){return b.diff-a.diff});return c[0].color};goog.color.yiqBrightness_=function(a){return Math.round((299*a[0]+587*a[1]+114*a[2])/1E3)};goog.color.yiqBrightnessDiff_=function(a,b){return Math.abs(goog.color.yiqBrightness_(a)-goog.color.yiqBrightness_(b))};
goog.color.colorDiff_=function(a,b){return Math.abs(a[0]-b[0])+Math.abs(a[1]-b[1])+Math.abs(a[2]-b[2])};goog.math.Matrix=function(a,b){if(a instanceof goog.math.Matrix)this.array_=a.toArray();else if(goog.isArrayLike(a)&&goog.math.Matrix.isValidArray(a))this.array_=goog.array.clone(a);else if(a instanceof goog.math.Size)this.array_=goog.math.Matrix.createZeroPaddedArray_(a.height,a.width);else if(goog.isNumber(a)&&goog.isNumber(b)&&0<a&&0<b)this.array_=goog.math.Matrix.createZeroPaddedArray_(a,b);else throw Error("Invalid argument(s) for Matrix contructor");this.size_=new goog.math.Size(this.array_[0].length,
this.array_.length)};goog.math.Matrix.createIdentityMatrix=function(a){for(var b=[],c=0;c<a;c++){b[c]=[];for(var d=0;d<a;d++)b[c][d]=c==d?1:0}return new goog.math.Matrix(b)};goog.math.Matrix.forEach=function(a,b,c){for(var d=0;d<a.getSize().height;d++)for(var e=0;e<a.getSize().width;e++)b.call(c,a.array_[d][e],d,e,a)};
goog.math.Matrix.isValidArray=function(a){for(var b=0,c=0;c<a.length;c++){if(!goog.isArrayLike(a[c])||0<b&&a[c].length!=b)return!1;for(var d=0;d<a[c].length;d++)if(!goog.isNumber(a[c][d]))return!1;0==b&&(b=a[c].length)}return 0!=b};goog.math.Matrix.map=function(a,b,c){var d=new goog.math.Matrix(a.getSize());goog.math.Matrix.forEach(a,function(e,f,g){d.array_[f][g]=b.call(c,e,f,g,a)});return d};
goog.math.Matrix.createZeroPaddedArray_=function(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var e=0;e<b;e++)c[d][e]=0}return c};goog.math.Matrix.prototype.add=function(a){if(!goog.math.Size.equals(this.size_,a.getSize()))throw Error("Matrix summation is only supported on arrays of equal size");return goog.math.Matrix.map(this,function(b,c,d){return b+a.array_[c][d]})};
goog.math.Matrix.prototype.appendColumns=function(a){if(this.size_.height!=a.getSize().height)throw Error("The given matrix has height "+a.size_.height+", but  needs to have height "+this.size_.height+".");var b=new goog.math.Matrix(this.size_.height,this.size_.width+a.size_.width);goog.math.Matrix.forEach(this,function(a,d,e){b.array_[d][e]=a});goog.math.Matrix.forEach(a,function(a,d,e){b.array_[d][this.size_.width+e]=a},this);return b};
goog.math.Matrix.prototype.appendRows=function(a){if(this.size_.width!=a.getSize().width)throw Error("The given matrix has width "+a.size_.width+", but  needs to have width "+this.size_.width+".");var b=new goog.math.Matrix(this.size_.height+a.size_.height,this.size_.width);goog.math.Matrix.forEach(this,function(a,d,e){b.array_[d][e]=a});goog.math.Matrix.forEach(a,function(a,d,e){b.array_[this.size_.height+d][e]=a},this);return b};
goog.math.Matrix.prototype.equals=function(a,b){if(this.size_.width!=a.size_.width||this.size_.height!=a.size_.height)return!1;b=b||0;for(var c=0;c<this.size_.height;c++)for(var d=0;d<this.size_.width;d++)if(!goog.math.nearlyEquals(this.array_[c][d],a.array_[c][d],b))return!1;return!0};goog.math.Matrix.prototype.getDeterminant=function(){if(!this.isSquare())throw Error("A determinant can only be take on a square matrix");return this.getDeterminant_()};
goog.math.Matrix.prototype.getInverse=function(){if(!this.isSquare())throw Error("An inverse can only be taken on a square matrix.");if(1==this.getSize().width){var a=this.getValueAt(0,0);return 0==a?null:new goog.math.Matrix([[1/Number(a)]])}a=goog.math.Matrix.createIdentityMatrix(this.size_.height);var b=this.appendColumns(a).getReducedRowEchelonForm();return b.getSubmatrixByCoordinates_(0,0,a.size_.width-1,a.size_.height-1).equals(a)?b.getSubmatrixByCoordinates_(0,a.size_.width):null};
goog.math.Matrix.prototype.getReducedRowEchelonForm=function(){for(var a=new goog.math.Matrix(this),b=0,c=0;c<a.size_.height&&!(b>=a.size_.width);c++){for(var d=c;0==a.array_[d][b];)if(d++,d==a.size_.height&&(d=c,b++,b==a.size_.width))return a;this.swapRows_(d,c);d=a.array_[c][b];for(var e=b;e<a.size_.width;e++)a.array_[c][e]/=d;for(d=0;d<a.size_.height;d++)if(d!=c){var f=a.array_[d][b];for(e=b;e<a.size_.width;e++)a.array_[d][e]-=f*a.array_[c][e]}b++}return a};goog.math.Matrix.prototype.getSize=function(){return this.size_};
goog.math.Matrix.prototype.getTranspose=function(){var a=new goog.math.Matrix(this.size_.width,this.size_.height);goog.math.Matrix.forEach(this,function(b,c,d){a.array_[d][c]=b});return a};goog.math.Matrix.prototype.getValueAt=function(a,b){return this.isInBounds_(a,b)?this.array_[a][b]:null};goog.math.Matrix.prototype.isSquare=function(){return this.size_.width==this.size_.height};
goog.math.Matrix.prototype.setValueAt=function(a,b,c){if(!this.isInBounds_(a,b))throw Error("Index out of bounds when setting matrix value, ("+a+","+b+") in size ("+this.size_.height+","+this.size_.width+")");this.array_[a][b]=c};
goog.math.Matrix.prototype.multiply=function(a){if(a instanceof goog.math.Matrix){if(this.size_.width!=a.getSize().height)throw Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.");return this.matrixMultiply_(a)}if(goog.isNumber(a))return this.scalarMultiply_(a);throw Error("A matrix can only be multiplied by a number or another matrix.");};
goog.math.Matrix.prototype.subtract=function(a){if(!goog.math.Size.equals(this.size_,a.getSize()))throw Error("Matrix subtraction is only supported on arrays of equal size.");return goog.math.Matrix.map(this,function(b,c,d){return b-a.array_[c][d]})};goog.math.Matrix.prototype.toArray=function(){return this.array_};
goog.DEBUG&&(goog.math.Matrix.prototype.toString=function(){var a=0;goog.math.Matrix.forEach(this,function(b){b=String(b).length;b>a&&(a=b)});var b=[];goog.array.forEach(this.array_,function(c,d){b.push("[ ");goog.array.forEach(c,function(c,d){c=String(c);b.push(goog.string.repeat(" ",a-c.length)+c+" ")});b.push("]\n")});return b.join("")});goog.math.Matrix.prototype.getCofactor_=function(a,b){return(0==a+b%2?1:-1)*this.getMinor_(a,b)};
goog.math.Matrix.prototype.getDeterminant_=function(){if(1==this.getSize().area())return this.array_[0][0];for(var a=0,b=0;b<this.size_.width;b++)a+=this.array_[0][b]*this.getCofactor_(0,b);return a};goog.math.Matrix.prototype.getMinor_=function(a,b){return this.getSubmatrixByDeletion_(a,b).getDeterminant_()};
goog.math.Matrix.prototype.getSubmatrixByCoordinates_=function(a,b,c,d){var e=new goog.math.Matrix((c?c:this.size_.height-1)-a+1,(d?d:this.size_.width-1)-b+1);goog.math.Matrix.forEach(e,function(c,d,h){e.array_[d][h]=this.array_[a+d][b+h]},this);return e};goog.math.Matrix.prototype.getSubmatrixByDeletion_=function(a,b){var c=new goog.math.Matrix(this.size_.width-1,this.size_.height-1);goog.math.Matrix.forEach(c,function(d,e,f){c.setValueAt(e,f,this.array_[e>=a?e+1:e][f>=b?f+1:f])},this);return c};
goog.math.Matrix.prototype.isInBounds_=function(a,b){return 0<=a&&a<this.size_.height&&0<=b&&b<this.size_.width};goog.math.Matrix.prototype.matrixMultiply_=function(a){var b=new goog.math.Matrix(this.size_.height,a.getSize().width);goog.math.Matrix.forEach(b,function(c,d,e){for(var f=c=0;f<this.size_.width;f++)c+=goog.asserts.assertNumber(this.getValueAt(d,f))*goog.asserts.assertNumber(a.getValueAt(f,e));b.setValueAt(d,e,c)},this);return b};
goog.math.Matrix.prototype.scalarMultiply_=function(a){return goog.math.Matrix.map(this,function(b,c,d){return b*a})};goog.math.Matrix.prototype.swapRows_=function(a,b){var c=this.array_[a];this.array_[a]=this.array_[b];this.array_[b]=c};os.color={};os.color.HEX_REGEX=/^\s*(0x|#)?[0-9a-f]{2,6}\s*$/i;os.color.RGBA_REGEX=/rgba\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*(,\s*\d?(\.\d+)?)?\s*\)/i;os.color.COLOR_WHEEL=[{alpha:1,color:[255,0,255],ratio:0},{alpha:1,color:[0,0,255],ratio:51},{alpha:1,color:[0,255,255],ratio:102},{alpha:1,color:[0,255,0],ratio:153},{alpha:1,color:[255,255,0],ratio:204},{alpha:1,color:[255,0,0],ratio:255}];
os.color.DEFAULT_GRADIENT=[{alpha:1,color:[255,136,0],ratio:0},{alpha:1,color:[255,255,0],ratio:43},{alpha:1,color:[0,255,0],ratio:85},{alpha:1,color:[0,255,255],ratio:128},{alpha:1,color:[0,0,255],ratio:170},{alpha:1,color:[136,0,255],ratio:213},{alpha:1,color:[255,0,255],ratio:255}];os.color.HEATMAP_GRADIENT=[{alpha:1,color:[0,0,255],ratio:0},{alpha:1,color:[0,255,255],ratio:64},{alpha:1,color:[0,255,0],ratio:128},{alpha:1,color:[255,255,0],ratio:196},{alpha:1,color:[255,0,0],ratio:255}];
os.color.HEATMAP_GRADIENT_HEX=["#0000ff","#00ffff","#00ff00","#ffff00","#ff0000"];os.color.THERMAL_HEATMAP_GRADIENT="#00000000 #0a000066 #140d0073 #1e110077 #28190073 #331e0578 #3d1d0479 #4724047a #5126037b #5b2a037e #662d057f #7032057f #7a340482 #84380685 #8e3b0586 #993f0587 #a3420589 #ad45068c #b74a068c #c14d058f #cc500591 #d6530693 #e0560694 #ea5a0595 #f45d0597 #ff62079a #ff640699 #ff660699 #ff680699 #ff6a0699 #ff6d0599 #ff6f0599 #ff710599 #ff730599 #ff760499 #ff780499 #ff7a0499 #ff7c0499 #ff7f0399 #ff810399 #ff830399 #ff850399 #ff880299 #ff8a0299 #ff8c0299 #ff8e0299 #ff910199 #ff930199 #ff950199 #ff970199 #ff9a0199 #ff9b0198 #ff9c0197 #ff9e0297 #ff9f0296 #ffa10395 #ffa20395 #ffa40394 #ffa50493 #ffa70493 #ffa80592 #ffaa0591 #ffab0591 #ffad0690 #ffae0690 #ffb0078f #ffb1078e #ffb3078e #ffb4088d #ffb6088c #ffb7098c #ffb9098b #ffba098a #ffbc0a8a #ffbd0a89 #ffbf0b89 #ffc00c86 #ffc10d83 #ffc20e81 #ffc3107e #ffc4117c #ffc51279 #ffc61477 #ffc71574 #ffc81672 #ffc9186f #ffca196d #ffcb1a6a #ffcc1c68 #ffcd1d65 #ffce1e63 #ffcf2060 #ffd0215e #ffd1225b #ffd22459 #ffd32556 #ffd42654 #ffd52851 #ffd6294f #ffd72a4c #ffd92c4a #ffd92d47 #ffda2f45 #ffda3042 #ffdb3240 #ffdc333e #ffdc353b #ffdd3639 #ffde3836 #ffde3a34 #ffdf3b32 #ffe03d2f #ffe03e2d #ffe1402a #ffe14128 #ffe24326 #ffe34423 #ffe34621 #ffe4481e #ffe5491c #ffe54b1a #ffe64c17 #ffe74e15 #ffe74f12 #ffe85110 #ffe9530e #ffe9540d #ffe9560c #ffea570c #ffea590b #ffeb5a0b #ffeb5c0a #ffeb5d0a #ffec5f09 #ffec6108 #ffed6208 #ffed6407 #ffed6507 #ffee6706 #ffee6806 #ffef6a05 #ffef6b05 #ffef6d04 #fff06f03 #fff07003 #fff17202 #fff17302 #fff17501 #fff27601 #fff27800 #fff37a00 #fff37b00 #fff37d00 #fff47f00 #fff48000 #fff48200 #fff58400 #fff58600 #fff58700 #fff68900 #fff68b00 #fff68c00 #fff78e00 #fff79000 #fff89200 #fff89300 #fff89500 #fff99700 #fff99800 #fff99a00 #fffa9c00 #fffa9e00 #fffa9f00 #fffba100 #fffba300 #fffca500 #fffca600 #fffca700 #fffca900 #fffcaa00 #fffcac00 #fffcad00 #fffcaf00 #fffcb000 #fffcb100 #fffcb300 #fffcb400 #fffcb600 #fffcb700 #fffcb900 #fffcba00 #fffcbc00 #fffcbd00 #fffcbe00 #fffcc000 #fffcc100 #fffcc300 #fffcc400 #fffcc600 #fffcc700 #fffcc900 #fffcca05 #fffccb0a #fffccc0f #fffccd14 #fffcce19 #fffccf1e #fffcd023 #fffcd128 #fffcd22d #fffcd333 #fffcd438 #fffcd53d #fffcd742 #fffcd847 #fffcd94c #fffcda51 #fffddb56 #fffddc5b #fffddd60 #fffdde66 #fffddf6b #fffde070 #fffde175 #fffde27a #fffde47f #fffde584 #fffde689 #fffde78e #fffde893 #fffde999 #fffdea9e #fffdeba3 #fffdeca8 #fffeedad #fffeeeb2 #fffeefb7 #fffef0bc #fffef2c1 #fffef3c6 #fffef4cc #fffef5d1 #fffef6d6 #fffef7db #fffef8e0 #fffef9e5 #fffefaea #fffefbef #fffefcf4 #fffefdf9 #ffffffff".split(" ");
os.color.THERMAL_HEATMAP_GRADIENT_HEX="#000000 #000066 #0d0073 #110077 #190073 #1e0578 #1d0479 #24047a #26037b #2a037e #2d057f #32057f #340482 #380685 #3b0586 #3f0587 #420589 #45068c #4a068c #4d058f #500591 #530693 #560694 #5a0595 #5d0597 #62079a #640699 #660699 #680699 #6a0699 #6d0599 #6f0599 #710599 #730599 #760499 #780499 #7a0499 #7c0499 #7f0399 #810399 #830399 #850399 #880299 #8a0299 #8c0299 #8e0299 #910199 #930199 #950199 #970199 #9a0199 #9b0198 #9c0197 #9e0297 #9f0296 #a10395 #a20395 #a40394 #a50493 #a70493 #a80592 #aa0591 #ab0591 #ad0690 #ae0690 #b0078f #b1078e #b3078e #b4088d #b6088c #b7098c #b9098b #ba098a #bc0a8a #bd0a89 #bf0b89 #c00c86 #c10d83 #c20e81 #c3107e #c4117c #c51279 #c61477 #c71574 #c81672 #c9186f #ca196d #cb1a6a #cc1c68 #cd1d65 #ce1e63 #cf2060 #d0215e #d1225b #d22459 #d32556 #d42654 #d52851 #d6294f #d72a4c #d92c4a #d92d47 #da2f45 #da3042 #db3240 #dc333e #dc353b #dd3639 #de3836 #de3a34 #df3b32 #e03d2f #e03e2d #e1402a #e14128 #e24326 #e34423 #e34621 #e4481e #e5491c #e54b1a #e64c17 #e74e15 #e74f12 #e85110 #e9530e #e9540d #e9560c #ea570c #ea590b #eb5a0b #eb5c0a #eb5d0a #ec5f09 #ec6108 #ed6208 #ed6407 #ed6507 #ee6706 #ee6806 #ef6a05 #ef6b05 #ef6d04 #f06f03 #f07003 #f17202 #f17302 #f17501 #f27601 #f27800 #f37a00 #f37b00 #f37d00 #f47f00 #f48000 #f48200 #f58400 #f58600 #f58700 #f68900 #f68b00 #f68c00 #f78e00 #f79000 #f89200 #f89300 #f89500 #f99700 #f99800 #f99a00 #fa9c00 #fa9e00 #fa9f00 #fba100 #fba300 #fca500 #fca600 #fca700 #fca900 #fcaa00 #fcac00 #fcad00 #fcaf00 #fcb000 #fcb100 #fcb300 #fcb400 #fcb600 #fcb700 #fcb900 #fcba00 #fcbc00 #fcbd00 #fcbe00 #fcc000 #fcc100 #fcc300 #fcc400 #fcc600 #fcc700 #fcc900 #fcca05 #fccb0a #fccc0f #fccd14 #fcce19 #fccf1e #fcd023 #fcd128 #fcd22d #fcd333 #fcd438 #fcd53d #fcd742 #fcd847 #fcd94c #fcda51 #fddb56 #fddc5b #fddd60 #fdde66 #fddf6b #fde070 #fde175 #fde27a #fde47f #fde584 #fde689 #fde78e #fde893 #fde999 #fdea9e #fdeba3 #fdeca8 #feedad #feeeb2 #feefb7 #fef0bc #fef2c1 #fef3c6 #fef4cc #fef5d1 #fef6d6 #fef7db #fef8e0 #fef9e5 #fefaea #fefbef #fefcf4 #fefdf9 #ffffff".split(" ");
os.color.RAINBOW_HEATMAP_GRADIENT="#00000000 #0a0000ff #140000ff #1e0000f6 #280000f9 #330000f5 #3d0000f7 #470000f8 #510000f5 #5b0000f6 #660000f5 #700000f6 #7a0000f7 #840000f5 #8e0000f6 #990000f5 #a30000f5 #ad0000f6 #b70000f5 #c10000f6 #cc0000f5 #d60000f5 #e00000f6 #ea0000f4 #f40000f5 #ff0000f6 #ff0006f6 #ff000cf6 #ff0013f6 #ff0019f6 #ff0020f6 #ff0026f6 #ff002cf6 #ff0033f6 #ff0039f6 #ff0040f6 #ff0046f6 #ff004cf6 #ff0053f6 #ff0059f6 #ff0060f6 #ff0066f6 #ff006cf6 #ff0073f6 #ff0079f6 #ff0080f6 #ff0086f6 #ff008cf6 #ff0093f6 #ff0099f6 #ff01a0f6 #ff00a3f5 #ff00a6f5 #ff00a9f4 #ff00acf4 #ff00aff4 #ff00b2f3 #ff00b5f3 #ff00b8f2 #ff00bbf2 #ff00bef2 #ff00c1f1 #ff00c4f1 #ff00c7f0 #ff00caf0 #ff00cdf0 #ff00d0ef #ff00d3ef #ff00d6ee #ff00d9ee #ff00dcee #ff00dfed #ff00e2ed #ff00e5ec #ff00e8ec #ff00ecec #ff00ece2 #ff00edd9 #ff00eecf #ff00efc6 #ff00efbc #ff00f0b3 #ff00f1a9 #ff00f2a0 #ff00f297 #ff00f38d #ff00f484 #ff00f57a #ff00f571 #ff00f667 #ff00f75e #ff00f854 #ff00f84b #ff00f942 #ff00fa38 #ff00fb2f #ff00fb25 #ff00fc1c #ff00fd12 #ff00fe09 #ff00ff00 #ff0aff00 #ff14ff00 #ff1eff00 #ff28ff00 #ff33ff00 #ff3dff00 #ff47ff00 #ff51ff00 #ff5bff00 #ff66ff00 #ff70ff00 #ff7aff00 #ff84ff00 #ff8eff00 #ff99ff00 #ffa3ff00 #ffadff00 #ffb7ff00 #ffc1ff00 #ffccff00 #ffd6ff00 #ffe0ff00 #ffeaff00 #fff4ff00 #ffffff00 #fffefc00 #fffdf900 #fffcf700 #fffbf400 #fffaf200 #fff9ef00 #fff8ed00 #fff7ea00 #fff6e800 #fff5e500 #fff4e300 #fff3e000 #fff2de00 #fff1db00 #fff0d900 #ffefd600 #ffeed400 #ffedd100 #ffeccf00 #ffebcc00 #ffeaca00 #ffe9c700 #ffe8c500 #ffe7c200 #ffe7c000 #ffe7be00 #ffe8bc00 #ffe9ba00 #ffeab800 #ffebb600 #ffecb400 #ffedb200 #ffeeb000 #ffefae00 #fff0ac00 #fff1aa00 #fff2a800 #fff3a700 #fff4a500 #fff5a300 #fff6a100 #fff79f00 #fff89d00 #fff99b00 #fffa9900 #fffb9700 #fffc9500 #fffd9300 #fffe9100 #ffff9000 #ffff8a00 #ffff8400 #ffff7e00 #ffff7800 #ffff7300 #ffff6d00 #ffff6700 #ffff6100 #ffff5c00 #ffff5600 #ffff5000 #ffff4a00 #ffff4500 #ffff3f00 #ffff3900 #ffff3300 #ffff2e00 #ffff2800 #ffff2200 #ffff1c00 #ffff1700 #ffff1100 #ffff0b00 #ffff0500 #ffff0000 #ffff0505 #ffff0a0a #ffff0f0f #ffff1414 #ffff1919 #ffff1e1e #ffff2323 #ffff2828 #ffff2d2d #ffff3333 #ffff3838 #ffff3d3d #ffff4242 #ffff4747 #ffff4c4c #ffff5151 #ffff5656 #ffff5b5b #ffff6060 #ffff6666 #ffff6b6b #ffff7070 #ffff7575 #ffff7a7a #ffff7f7f #ffff8484 #ffff8989 #ffff8e8e #ffff9393 #ffff9999 #ffff9e9e #ffffa3a3 #ffffa8a8 #ffffadad #ffffb2b2 #ffffb7b7 #ffffbcbc #ffffc1c1 #ffffc6c6 #ffffcccc #ffffd1d1 #ffffd6d6 #ffffdbdb #ffffe0e0 #ffffe5e5 #ffffeaea #ffffefef #fffff4f4 #fffff9f9 #ffffffff".split(" ");
os.color.RAINBOW_HEATMAP_GRADIENT_HEX="#000000 #0000ff #0000ff #0000f6 #0000f9 #0000f5 #0000f7 #0000f8 #0000f5 #0000f6 #0000f5 #0000f6 #0000f7 #0000f5 #0000f6 #0000f5 #0000f5 #0000f6 #0000f5 #0000f6 #0000f5 #0000f5 #0000f6 #0000f4 #0000f5 #0000f6 #0006f6 #000cf6 #0013f6 #0019f6 #0020f6 #0026f6 #002cf6 #0033f6 #0039f6 #0040f6 #0046f6 #004cf6 #0053f6 #0059f6 #0060f6 #0066f6 #006cf6 #0073f6 #0079f6 #0080f6 #0086f6 #008cf6 #0093f6 #0099f6 #01a0f6 #00a3f5 #00a6f5 #00a9f4 #00acf4 #00aff4 #00b2f3 #00b5f3 #00b8f2 #00bbf2 #00bef2 #00c1f1 #00c4f1 #00c7f0 #00caf0 #00cdf0 #00d0ef #00d3ef #00d6ee #00d9ee #00dcee #00dfed #00e2ed #00e5ec #00e8ec #00ecec #00ece2 #00edd9 #00eecf #00efc6 #00efbc #00f0b3 #00f1a9 #00f2a0 #00f297 #00f38d #00f484 #00f57a #00f571 #00f667 #00f75e #00f854 #00f84b #00f942 #00fa38 #00fb2f #00fb25 #00fc1c #00fd12 #00fe09 #00ff00 #0aff00 #14ff00 #1eff00 #28ff00 #33ff00 #3dff00 #47ff00 #51ff00 #5bff00 #66ff00 #70ff00 #7aff00 #84ff00 #8eff00 #99ff00 #a3ff00 #adff00 #b7ff00 #c1ff00 #ccff00 #d6ff00 #e0ff00 #eaff00 #f4ff00 #ffff00 #fefc00 #fdf900 #fcf700 #fbf400 #faf200 #f9ef00 #f8ed00 #f7ea00 #f6e800 #f5e500 #f4e300 #f3e000 #f2de00 #f1db00 #f0d900 #efd600 #eed400 #edd100 #eccf00 #ebcc00 #eaca00 #e9c700 #e8c500 #e7c200 #e7c000 #e7be00 #e8bc00 #e9ba00 #eab800 #ebb600 #ecb400 #edb200 #eeb000 #efae00 #f0ac00 #f1aa00 #f2a800 #f3a700 #f4a500 #f5a300 #f6a100 #f79f00 #f89d00 #f99b00 #fa9900 #fb9700 #fc9500 #fd9300 #fe9100 #ff9000 #ff8a00 #ff8400 #ff7e00 #ff7800 #ff7300 #ff6d00 #ff6700 #ff6100 #ff5c00 #ff5600 #ff5000 #ff4a00 #ff4500 #ff3f00 #ff3900 #ff3300 #ff2e00 #ff2800 #ff2200 #ff1c00 #ff1700 #ff1100 #ff0b00 #ff0500 #ff0000 #ff0505 #ff0a0a #ff0f0f #ff1414 #ff1919 #ff1e1e #ff2323 #ff2828 #ff2d2d #ff3333 #ff3838 #ff3d3d #ff4242 #ff4747 #ff4c4c #ff5151 #ff5656 #ff5b5b #ff6060 #ff6666 #ff6b6b #ff7070 #ff7575 #ff7a7a #ff7f7f #ff8484 #ff8989 #ff8e8e #ff9393 #ff9999 #ff9e9e #ffa3a3 #ffa8a8 #ffadad #ffb2b2 #ffb7b7 #ffbcbc #ffc1c1 #ffc6c6 #ffcccc #ffd1d1 #ffd6d6 #ffdbdb #ffe0e0 #ffe5e5 #ffeaea #ffefef #fff4f4 #fff9f9 #ffffff".split(" ");
os.color.RGB_TO_YIQ=new goog.math.Matrix([[.299,.587,.114],[.595716,-.274453,-.321263],[.211456,-.522591,.311135]]);os.color.YIQ_TO_RGB=new goog.math.Matrix([[1,.9563,.621],[1,-.2721,-.6474],[1,-1.107,1.7046]]);
os.color.getGradientColor=function(a,b){var c=b||os.color.DEFAULT_GRADIENT;if(a<=c[0].ratio)return c[0].color;if(a>=c[c.length-1].ratio)return c[c.length-1].color;var d=0;for(b=c.length-1;d<b;d++)if(a>=c[d].ratio&&a<c[d+1].ratio){var e=c[d].color,f=c[d+1].color,g=e[1];b=e[2];var h=f[1],k=f[2];a-=c[d].ratio;c=c[d+1].ratio-c[d].ratio;d=os.color.interpolate(e[0],f[0],a,c);g=os.color.interpolate(g,h,a,c);b=os.color.interpolate(b,k,a,c);return[d,g,b]}return[0,0,0]};
os.color.getHslGradient=function(a,b,c,d){var e=[];b=goog.isDef(b)?goog.math.clamp(b,0,360):0;c=(goog.isDef(c)?goog.math.clamp(c,b,360):360)-b;for(var f=0,g=0;g<a;g++){var h=Math.round(g/a*c)+b,k=.5;d&&(70<=h&&50>=f?h=60:100<=h&&160>=h&&(k+=(h-130)/240));e.push(goog.color.hslArrayToHex([h,1,k]));f=h}return e};os.color.getRandomColor=function(){return os.color.getGradientColor(Math.floor(255*Math.random()),os.color.COLOR_WHEEL)};
os.color.getRandomColorString=function(a){var b=os.color.getRandomColor();return a?"rgba("+b[0]+","+b[1]+","+b[2]+",1)":goog.color.rgbArrayToHex(b)};os.color.interpolate=function(a,b,c,d){return a<b?Math.floor(c/d*(b-a)+a):Math.floor((a-b)*(1-c/d)+b)};os.color.darken=function(a,b){a=goog.color.hexToRgb(a);b=goog.color.darken(a,b);return goog.color.rgbArrayToHex(b)};os.color.lighten=function(a,b){a=goog.color.hexToRgb(a);b=goog.color.lighten(a,b);return goog.color.rgbArrayToHex(b)};
os.color.changeColor=function(a,b){var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0];if(0===b[0]&&0===b[1]&&0===b[2])return c;var d=Math.max(a[0],a[1],a[2]);a=d==a[0]?0:d==a[1]?1:2;var e=Math.max(b[0],b[1],b[2]);b=[b[0]/e,b[1]/e,b[2]/e];for(var f=0;3>f;f++)c[5*f+a]=b[f]*e/d;return c};os.color.padHexColor=function(a,b,c){b=b||"";a=a.trim().replace(/^(0x|#)/,"");if(!a||isNaN(Number("0x"+a)))return c||b+"ffffff";for(;6>a.length;)a="0"+a;return b+a};
os.color.isColorString=function(a){return"string"==typeof a&&os.color.HEX_REGEX.test(a)||os.color.RGBA_REGEX.test(a)};os.color.toHexString=function(a){return goog.color.rgbArrayToHex("string"===typeof a?os.color.toRgbArray(a):a)};os.color.toServerString=function(a){return os.color.toHexString(a).toUpperCase().replace(/^#/,"0x")};
os.color.toRgbArray=function(a){if("string"==typeof a){var b=a.indexOf(","),c;if(-1==b)a=a.replace(/0x/ig,""),a="#"+a.replace(/[^a-f0-9]/ig,""),a=goog.color.hexToRgb(a);else{a=a.replace(/[^.,0-9]/g,"");var d=a.split(",");a=[];b=0;for(c=d.length;b<c;b++)a[b]=3==b?parseFloat(d[b]):parseInt(d[b],10)}}a&&3==a.length&&a.push(1);return a};
os.color.colorSort=function(a,b){a=goog.color.hexToHsl(a);b=goog.color.hexToHsl(b);return goog.array.defaultCompare(Math.round(100*b[0])+Math.round(100*b[1])/100+Math.round(100*b[2])/1E4,Math.round(100*a[0])+Math.round(100*a[1])/100+Math.round(100*a[2])/1E4)};os.color.equals=function(a,b){if(a==b)return!0;goog.isArray(a)||(a=os.color.toRgbArray(a));goog.isArray(b)||(b=os.color.toRgbArray(b));return goog.array.equals(a,b)};
os.color.normalizeOpacity=function(a){return Math.round(100*goog.math.clamp(a,0,1))/100};os.color.rgbToYiq=function(a,b){a=new goog.math.Matrix([a]);return os.color.RGB_TO_YIQ.multiply(a).toArray()[0]};os.color.yiqToRgb=function(a,b){a=new goog.math.Matrix([a]);return os.color.YIQ_TO_RGB.multiply(a).toArray()[0]};
os.color.transformHue=function(a,b){a=os.color.rgbToYiq(a);b=Math.atan2(a[2],a[1])+goog.math.toRadians(b);var c=Math.sqrt(a[2]*a[2]+a[1]*a[1]);return os.color.yiqToRgb([a[0],c*Math.cos(b),c*Math.sin(b)])};
os.color.calculateHueTransform=function(a,b,c){c&&(a=goog.color.rgbArrayToHsl(a),a=0==a[0]&&0==a[1]?240:a[0],b=goog.color.rgbArrayToHsl(b),a=goog.color.hslArrayToRgb([a,1,.5]),b=goog.color.hslArrayToRgb([b[0],1,.5]));a=os.color.rgbToYiq(a);b=os.color.rgbToYiq(b);return Math.atan2(b[2],b[1])-Math.atan2(a[2],a[1])};os.color.colorize=function(a,b){b=goog.isArray(b)?b:os.color.toRgbArray(b);for(var c=0,d=a.length;c<d;c+=4)a[c]=b[0],a[c+1]=b[1],a[c+2]=b[2]};
os.color.transformColor=function(a,b,c){b=goog.isArray(b)?b:os.color.toRgbArray(b);c=goog.isArray(c)?c:os.color.toRgbArray(c);var d=Math.max(b[0],b[1],b[2]);b=d==b[0]?0:d==b[1]?1:2;var e=Math.max(c[0],c[1],c[2]);c=[c[0]/e,c[1]/e,c[2]/e];var f=e/d;d=c[0]*f;e=c[1]*f;c=c[2]*f;b=[0==b?d:0,1==b?d:0,2==b?d:0,0,0,0==b?e:0,1==b?e:0,2==b?e:0,0,0,0==b?c:0,1==b?c:0,2==b?c:0,0,0,0,0,0,1,0];c=0;for(d=a.length;c<d;c+=4){e=a[c];f=a[c+1];var g=a[c+2],h=a[c+3];if(0!==e||0!==f||0!==g||0!==h)a[c]=e*b[0]+f*b[1]+g*b[2]+
h*b[3]+b[4],a[c+1]=e*b[5]+f*b[6]+g*b[7]+h*b[8]+b[9],a[c+2]=e*b[10]+f*b[11]+g*b[12]+h*b[13]+b[14]}};os.metrics={};os.metrics.IMetricServiceProvider=function(){};os.plugin={};os.plugin.IPlugin=function(){};os.metrics.GraphiteMetricsProvider=function(){this.log_=os.metrics.GraphiteMetricsProvider.LOGGER_;this.metrics_=[];this.metricUrl_=os.settings.get(["metrics","baseUrl"]);this.interval_=os.settings.get(["metrics","interval"],6E4);this.failures_=0;this.timer_=new goog.Timer(this.interval_);this.timer_.listen(goog.Timer.TICK,this.onTimer_,!1,this);this.timer_.start()};os.metrics.GraphiteMetricsProvider.LOGGER_=goog.log.getLogger("os.metrics.GraphiteMetricsProvider");
os.metrics.GraphiteMetricsProvider.prototype.recordMetric=function(a,b){this.timer_.enabled&&this.metrics_.push({name:a,value:b})};os.metrics.GraphiteMetricsProvider.prototype.getContentType=function(){return"application/json"};os.metrics.GraphiteMetricsProvider.prototype.format=function(a){return JSON.stringify(this.metrics_)};
os.metrics.GraphiteMetricsProvider.prototype.onTimer_=function(){if(this.metricUrl_&&0<this.metrics_.length){var a=new os.net.Request;a.setUri(this.metricUrl_);a.setMethod(os.net.Request.METHOD_POST);a.setDataFormatter(this);a.setHeader("Accept","application/json, text/plain, */*");a.listen(goog.net.EventType.SUCCESS,this.onSuccess_,!1,this);a.listen(goog.net.EventType.ERROR,this.onError_,!1,this);a.load()}};os.metrics.GraphiteMetricsProvider.prototype.publish=function(){this.onTimer_()};
os.metrics.GraphiteMetricsProvider.prototype.onSuccess_=function(a){this.metrics_=[];this.failures_=0};os.metrics.GraphiteMetricsProvider.prototype.onError_=function(a){goog.log.error(this.log_,"Failed to send metrics to server - "+this.metricUrl_);this.failures_+=1;3<=this.failures_&&(goog.log.error(this.log_,"Metrics will not be sent to server, too many failures."),this.timer_.stop(),this.metrics_=[])};os.metrics.keys={};
os.metrics.keys.Timeline={OPEN:"timeline.features.open",TOGGLE_PLAY:"timeline.features.controls-playToggle",NEXT_FRAME:"timeline.features.controls-nextFrame",PREV_FRAME:"timeline.features.controls-prevFrame",FIRST_FRAME:"timeline.features.controls-firstFrame",LAST_FRAME:"timeline.features.controls-lastFrame",ZOOM_IN:"timeline.features.controls-zoomIn",ZOOM_OUT:"timeline.features.controls-zoomOut",PAN_LEFT:"timeline.features.controls-panLeft",PAN_RIGHT:"timeline.features.controls-panRight",MOUSE_ZOOM:"timeline.features.controls-mouseZoom",
RECORD:"timeline.features.controls-record",RESET:"timeline.features.controls-reset",CHART_TYPE:"timeline.features.controls-chartType",FPS:"timeline.features.controls-changeFps",LOAD:"timeline.features.controls-load",RANGE:"timeline.features.controls-range",RANGE_ANIMATE:"timeline.features.timeRange-animate",RANGE_SKIP:"timeline.features.timeRange-skip",RANGE_HOLD:"timeline.features.timeRange-hold",RANGE_LOAD:"timeline.features.timeRange-load",RANGE_ADD:"timeline.features.timeRange-add",RANGE_SLICE:"timeline.features.timeRange-slice",
RANGE_ZOOM:"timeline.features.timeRange-zoom",RANGE_SELECT:"timeline.features.timeRange-select",RANGE_SELECTEX:"timeline.features.timeRange-selectExclusive",RANGE_DESELECT:"timeline.features.timeRange-deselect",FADE:"timeline.features.settings-fade",TIME_RANGE:"timeline.features.settings-timeRange",MAX_PLAY:"timeline.stats.max-play",MIN_PLAY:"timeline.stats.min-play"};
os.metrics.keys.AddData={OPEN:"addData.open",SEARCH:"addData.search",GROUP_BY:"addData.groupBy",IMPORT:"addData.import",GET_INFO:"addData.getInfo",ADD_TILE:"addData.add-tile",ADD_VECTOR:"addData.add-vector",REMOVE_TILE:"addData.remove-tile",REMOVE_VECTOR:"addData.remove-vector",ADD_LAYER_COMMAND:"addData.add-layer-command",REMOVE_LAYER_COMMAND:"addData.remove-layer-command"};
os.metrics.keys.Filters={ADVANCED:"filters.advancedOpen",SEARCH:"filters.search",GROUP_BY:"filters.groupBy",COPY:"filters.copy",EDIT:"filters.edit",NEW:"filters.new",REMOVE:"filters.remove",IMPORT:"filters.import",EXPORT:"filters.export",ADVANCED_APPLY:"filters.advanced.apply",ADVANCED_CLOSE:"filters.advanced.close",ADVANCED_RESET:"filters.advanced.reset",ADVANCED_ADD_FILTER:"filters.advanced.addFilter",ADVANCED_EXPAND_ALL:"filters.advanced.expandAll",ADVANCED_COLLAPSE_ALL:"filters.advanced.collapseAll",
ADVANCED_TOGGLE:"filters.advanced.advancedToggle",ADVANCED_SELECT_LAYER:"filters.advanced.selectLayer",ADVANCED_AREA_INCLUDE_TOGGLE:"filters.advanced.areaIncludeToggle",ADVANCED_AREA_EDIT:"filters.advanced.areaEdit",ADVANCED_AREA_REMOVE:"filters.advanced.areaRemove",ADVANCED_AREA_COPY:"filters.advanced.areaCopy"};
os.metrics.keys.Map={ADD_FEATURE:"map.features.addFeature",ADD_FEATURES:"map.features.addFeatures",ADD_LABEL:"map.features.addLabel",ADD_LAYER:"map.features.addLayer",BACKGROUND_COLOR:"map.features.setBackGroundColor",CLEAR_SELECTION:"map.features.clearSelection",CLEAR_STATE:"map.features.clearState",COPY_COORDINATES:"map.features.copyCoordinates",COPY_COORDINATES_CONTEXT_MENU:"map.contextMenu.copyCoordinates",COPY_COORDINATES_KB:"map.keyboard.copyCoordinates",DRAW:"map.feature.draw",FLY_TO:"map.features.flyTo",
FLY_TO_EXTENT:"map.features.flyToExtent",GENERAL_IMPORT_KB:"map.keyboard.generalImport",IMPORT_STATE:"map.features.importState",LAYER_COUNT:"map.features.layerCount",LOAD_FROM_AREA:"map.features.loadFromArea",LOAD_FROM_COORDINATES:"map.features.loadFromCoordinates",LOAD_FROM_COUNTRY:"map.features.loadFromCountry",MEASURE_TOGGLE:"map.feature.measureToolToggle",MODE_2D:"map.features.mapMode-2d",MODE_3D:"map.features.mapMode-3d",OPEN_LAYERS:"map.feature.openLayers",OPEN_LAYERS_KB:"map.keyboard.openLayers",
QUERY_WORLD:"map.features.queryWorld",REDO:"map.redo",REMOVE_FEATURE:"map.features.removeFeature",REMOVE_FEATURES:"map.features.removeFeatures",REMOVE_LAYER:"map.features.removeLayer",RESET_ROLL:"map.features.resetRoll",RESET_ROLL_KB:"map.keyboard.resetRoll",RESET_ROTATION:"map.features.resetRotation",RESET_ROTATION_CONTEXT_MENU:"map.contextMenu.resetRotation",RESET_ROTATION_KB:"map.keyboard.resetRotation",RESET_TILT:"map.features.resetTilt",RESET_TILT_KB:"map.keyboard.resetTilt",RESET_VIEW:"map.features.resetView",
RESET_VIEW_CONTEXT_MENU:"map.contextMenu.resetView",RESET_VIEW_KB:"map.keyboard.resetView",SAVE_STATE:"map.features.saveState",SAVE_STATE_KB:"map.keyboard.saveState",SHARE:"map.features.share",SCREEN_CAPTURE:"map.features.screenCapture",SCREEN_RECORD:"map.features.screenCapture",SEARCH_KB:"map.keyboard.search",SHOW_LAYER_WINDOW:"map.features.layers",SHOW_LAYER_WINDOW_KB:"map.keyboard.layers",SHOW_LEGEND:"map.features.showLedgend",SHOW_LEGEND_CONTEXT:"map.features.showLedgendContext",TOGGLE_MODE:"map.features.toggleMode",
UNDO:"map.undo",UNITS_FEET:"map.units.feet",UNITS_IMPERIAL:"map.units.imperial",UNITS_METRIC:"map.units.metric",UNITS_MILE:"map.units.mile",UNITS_NAUTICAL:"map.units.nautical",UNITS_NAUTICALMILE:"map.units.nauticalmile",UNITS_YARD:"map.units.yard",WEBGL_FAILED:"map.stats.error-webglInitFailed",WEBGL_UNSUPPORTED:"map.stats.error-webglUnsupported"};os.metrics.keys.Descriptor={ACTIVATE:"descriptor.activate",DEACTIVATE:"descriptor.de-activate"};
os.metrics.keys.Settings={RESET_SETTINGS:"settings.reset",STORAGE_REMOTE:"settings.storage.remote",STORAGE_LOCAL:"settings.storage.local"};os.metrics.keys.Search={SEARCH_TYPE:"type"};os.metrics.keys.BROWSER="browser";
os.metrics.Layer={FORCE_LAYER_COLOR:"layers.features.forceLayerColor",VECTOR_COLOR:"layers.features.changeVectorColor",VECTOR_ICON:"layers.features.changeVectorIcon",VECTOR_SHAPE:"layers.features.changeVectorShape",VECTOR_CENTER_SHAPE:"layers.features.changeVectorCenterShape",VECTOR_SIZE:"layers.features.changeVectorSize",VECTOR_AUTO_REFRESH:"layers.features.changeVectorAutoRefresh",VECTOR_ELLIPSOID:"layers.features.changeVectorEllipsoid",VECTOR_GROUND_REF:"layers.features.changeVectorGroundReference",
VECTOR_SHOW_ARROW:"layers.features.changeVectorShowArrow",VECTOR_SHOW_ERROR:"layers.features.changeVectorShowError",VECTOR_SHOW_ELLIPSE:"layers.features.changeVectorShowEllipse",VECTOR_ARROW_SIZE:"layers.features.changeVectorArrowSize",VECTOR_LOB_LENGTH:"layers.features.changeVectorLineOfBearingLength",VECTOR_LOB_LENGTH_COLUMN:"layers.features.changeVectorLineOfBearingLengthColumn",VECTOR_LOB_LENGTH_ERROR:"layers.features.changeVectorLineOfBearingLengthError",VECTOR_LOB_LENGTH_ERROR_COLUMN:"layers.features.changeVectorLineOfBearingLengthErrorColumn",
VECTOR_LOB_BEARING_COLUMN:"layers.features.changeVectorLineOfBearingBearingColumn",VECTOR_LOB_BEARING_ERROR:"layers.features.changeVectorLineOfBearingBearingError",VECTOR_LOB_BEARING_ERROR_COLUMN:"layers.features.changeVectorLineOfBearingBearingErrorColumn",LABEL_COLOR:"layers.features.changeLabelColor",LABEL_SIZE:"layers.features.changeLabelSize",LABEL_TOGGLE:"layers.features.changeLabelToggle",LABEL_COLUMN_SELECT:"layers.features.labelColumnSelect",LABEL_COLUMN_ADD:"layers.features.labelColumnAdd",
LABEL_COLUMN_REMOVE:"layers.features.labelColumnRemove",GO_TO:"layers.contextMenu.featureLayer.goTo",CLEAR_SELECTION:"layers.contextMenu.featureLayer.clearSelection",HEATMAP:"layers.contextMenu.featureLayer.heatMap",MOST_RECENT:"layers.contextMenu.mostRecent",IDENTIFY:"layers.contextMenu.identify",REFRESH:"layers.contextMenu.refresh",RESET_COLOR:"layers.contextMenu.resetColor",LOCK:"layers.contextMenu.lock",UNLOCK:"layers.contextMenu.unlock",REMOVE:"layers.contextMenu.remove",RENAME:"layers.contextMenu.rename",
EXPORT:"layers.contextMenu.export",CREATE_BUFFER:"layers.contextMenu.createBuffer",CONVOLVE:"layers.contextMenu.convolve",SHOW_DESCRIPTION:"layers.contextMenu.showDescription"};os.metrics.Places={ADD_FOLDER:"places.addFolder",ADD_PLACE:"places.addPlace",EXPORT:"places.export",IMPORT:"places.import",EXPAND_ALL:"places.expandAll",COLLAPSE_ALL:"places.collapseAll",EDIT_FOLDER:"places.contextMenu.editFolder",EDIT_PLACEMARK:"places.contextMenu.editPlacemark",SAVE_TO:"places.contextMenu.saveTo",EXPORT_CONTEXT:"places.contextMenu.export"};
os.metrics.Servers={ADD_SERVER:"servers.addServer",VIEW:"servers.view",REFRESH:"servers.refresh",EDIT:"servers.edit",REMOVE:"servers.delete"};goog.crypt={};goog.crypt.stringToByteArray=function(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);255<e&&(b[c++]=e&255,e>>=8);b[c++]=e}return b};goog.crypt.byteArrayToString=function(a){if(8192>=a.length)return String.fromCharCode.apply(null,a);for(var b="",c=0;c<a.length;c+=8192){var d=goog.array.slice(a,c,c+8192);b+=String.fromCharCode.apply(null,d)}return b};goog.crypt.byteArrayToHex=function(a){return goog.array.map(a,function(a){a=a.toString(16);return 1<a.length?a:"0"+a}).join("")};
goog.crypt.hexToByteArray=function(a){goog.asserts.assert(0==a.length%2,"Key string length must be multiple of 2");for(var b=[],c=0;c<a.length;c+=2)b.push(parseInt(a.substring(c,c+2),16));return b};
goog.crypt.stringToUtf8ByteArray=function(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(55296==(e&64512)&&d+1<a.length&&56320==(a.charCodeAt(d+1)&64512)?(e=65536+((e&1023)<<10)+(a.charCodeAt(++d)&1023),b[c++]=e>>18|240,b[c++]=e>>12&63|128):b[c++]=e>>12|224,b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b};
goog.crypt.utf8ByteArrayToString=function(a){for(var b=[],c=0,d=0;c<a.length;){var e=a[c++];if(128>e)b[d++]=String.fromCharCode(e);else if(191<e&&224>e){var f=a[c++];b[d++]=String.fromCharCode((e&31)<<6|f&63)}else if(239<e&&365>e){f=a[c++];var g=a[c++],h=a[c++];e=((e&7)<<18|(f&63)<<12|(g&63)<<6|h&63)-65536;b[d++]=String.fromCharCode(55296+(e>>10));b[d++]=String.fromCharCode(56320+(e&1023))}else f=a[c++],g=a[c++],b[d++]=String.fromCharCode((e&15)<<12|(f&63)<<6|g&63)}return b.join("")};
goog.crypt.xorByteArray=function(a,b){goog.asserts.assert(a.length==b.length,"XOR array lengths must match");for(var c=[],d=0;d<a.length;d++)c.push(a[d]^b[d]);return c};goog.crypt.base64={};goog.crypt.base64.byteToCharMap_=null;goog.crypt.base64.charToByteMap_=null;goog.crypt.base64.byteToCharMapWebSafe_=null;goog.crypt.base64.ENCODED_VALS_BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.ENCODED_VALS_BASE+"+/=";goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.ENCODED_VALS_BASE+"-_.";
goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA;goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa;goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob;
goog.crypt.base64.encodeByteArray=function(a,b){goog.asserts.assert(goog.isArrayLike(a),"encodeByteArray takes an array as a parameter");goog.crypt.base64.init_();b=b?goog.crypt.base64.byteToCharMapWebSafe_:goog.crypt.base64.byteToCharMap_;for(var c=[],d=0;d<a.length;d+=3){var e=a[d],f=d+1<a.length,g=f?a[d+1]:0,h=d+2<a.length,k=h?a[d+2]:0,l=e>>2;e=(e&3)<<4|g>>4;g=(g&15)<<2|k>>6;k&=63;h||(k=64,f||(g=64));c.push(b[l],b[e],b[g],b[k])}return c.join("")};
goog.crypt.base64.encodeString=function(a,b){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!b?goog.global.btoa(a):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(a),b)};goog.crypt.base64.decodeString=function(a,b){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!b)return goog.global.atob(a);var c="";goog.crypt.base64.decodeStringInternal_(a,function(a){c+=String.fromCharCode(a)});return c};
goog.crypt.base64.decodeStringToByteArray=function(a,b){var c=[];goog.crypt.base64.decodeStringInternal_(a,function(a){c.push(a)});return c};
goog.crypt.base64.decodeStringToUint8Array=function(a){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var b=a.length,c=0;"="===a[b-2]?c=2:"="===a[b-1]&&(c=1);var d=new Uint8Array(Math.ceil(3*b/4)-c),e=0;goog.crypt.base64.decodeStringInternal_(a,function(a){d[e++]=a});return d.subarray(0,e)};
goog.crypt.base64.decodeStringInternal_=function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=goog.crypt.base64.charToByteMap_[c];if(null!=e)return e;if(!goog.string.isEmptyOrWhitespace(c))throw Error("Unknown base64 encoding at char: "+c);}return b}goog.crypt.base64.init_();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=h&&b(g<<6&192|h))}};
goog.crypt.base64.init_=function(){if(!goog.crypt.base64.byteToCharMap_){goog.crypt.base64.byteToCharMap_={};goog.crypt.base64.charToByteMap_={};goog.crypt.base64.byteToCharMapWebSafe_={};for(var a=0;a<goog.crypt.base64.ENCODED_VALS.length;a++)goog.crypt.base64.byteToCharMap_[a]=goog.crypt.base64.ENCODED_VALS.charAt(a),goog.crypt.base64.charToByteMap_[goog.crypt.base64.byteToCharMap_[a]]=a,goog.crypt.base64.byteToCharMapWebSafe_[a]=goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(a),a>=goog.crypt.base64.ENCODED_VALS_BASE.length&&
(goog.crypt.base64.charToByteMap_[goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(a)]=a)}};goog.fs.DOMErrorLike=function(){};goog.fs.Error=function(a,b){goog.isDef(a.name)?(this.name=a.name,this.code=goog.fs.Error.getCodeFromName_(a.name)):(this.code=goog.asserts.assertNumber(a.code),this.name=goog.fs.Error.getNameFromCode_(a.code));goog.debug.Error.call(this,goog.string.subs("%s %s",this.name,b))};goog.inherits(goog.fs.Error,goog.debug.Error);
goog.fs.Error.ErrorName={ABORT:"AbortError",ENCODING:"EncodingError",INVALID_MODIFICATION:"InvalidModificationError",INVALID_STATE:"InvalidStateError",NOT_FOUND:"NotFoundError",NOT_READABLE:"NotReadableError",NO_MODIFICATION_ALLOWED:"NoModificationAllowedError",PATH_EXISTS:"PathExistsError",QUOTA_EXCEEDED:"QuotaExceededError",SECURITY:"SecurityError",SYNTAX:"SyntaxError",TYPE_MISMATCH:"TypeMismatchError"};
goog.fs.Error.ErrorCode={NOT_FOUND:1,SECURITY:2,ABORT:3,NOT_READABLE:4,ENCODING:5,NO_MODIFICATION_ALLOWED:6,INVALID_STATE:7,SYNTAX:8,INVALID_MODIFICATION:9,QUOTA_EXCEEDED:10,TYPE_MISMATCH:11,PATH_EXISTS:12};goog.fs.Error.getNameFromCode_=function(a){var b=goog.object.findKey(goog.fs.Error.NameToCodeMap_,function(b){return a==b});if(!goog.isDef(b))throw Error("Invalid code: "+a);return b};goog.fs.Error.getCodeFromName_=function(a){return goog.fs.Error.NameToCodeMap_[a]};
goog.fs.Error.NameToCodeMap_=goog.object.create(goog.fs.Error.ErrorName.ABORT,goog.fs.Error.ErrorCode.ABORT,goog.fs.Error.ErrorName.ENCODING,goog.fs.Error.ErrorCode.ENCODING,goog.fs.Error.ErrorName.INVALID_MODIFICATION,goog.fs.Error.ErrorCode.INVALID_MODIFICATION,goog.fs.Error.ErrorName.INVALID_STATE,goog.fs.Error.ErrorCode.INVALID_STATE,goog.fs.Error.ErrorName.NOT_FOUND,goog.fs.Error.ErrorCode.NOT_FOUND,goog.fs.Error.ErrorName.NOT_READABLE,goog.fs.Error.ErrorCode.NOT_READABLE,goog.fs.Error.ErrorName.NO_MODIFICATION_ALLOWED,
goog.fs.Error.ErrorCode.NO_MODIFICATION_ALLOWED,goog.fs.Error.ErrorName.PATH_EXISTS,goog.fs.Error.ErrorCode.PATH_EXISTS,goog.fs.Error.ErrorName.QUOTA_EXCEEDED,goog.fs.Error.ErrorCode.QUOTA_EXCEEDED,goog.fs.Error.ErrorName.SECURITY,goog.fs.Error.ErrorCode.SECURITY,goog.fs.Error.ErrorName.SYNTAX,goog.fs.Error.ErrorCode.SYNTAX,goog.fs.Error.ErrorName.TYPE_MISMATCH,goog.fs.Error.ErrorCode.TYPE_MISMATCH);goog.fs.ProgressEvent=function(a,b){goog.events.Event.call(this,a.type,b);this.event_=a};goog.inherits(goog.fs.ProgressEvent,goog.events.Event);goog.fs.ProgressEvent.prototype.isLengthComputable=function(){return this.event_.lengthComputable};goog.fs.ProgressEvent.prototype.getLoaded=function(){return this.event_.loaded};goog.fs.ProgressEvent.prototype.getTotal=function(){return this.event_.total};goog.fs.FileReader=function(){goog.events.EventTarget.call(this);this.reader_=new FileReader;this.reader_.onloadstart=goog.bind(this.dispatchProgressEvent_,this);this.reader_.onprogress=goog.bind(this.dispatchProgressEvent_,this);this.reader_.onload=goog.bind(this.dispatchProgressEvent_,this);this.reader_.onabort=goog.bind(this.dispatchProgressEvent_,this);this.reader_.onerror=goog.bind(this.dispatchProgressEvent_,this);this.reader_.onloadend=goog.bind(this.dispatchProgressEvent_,this)};
goog.inherits(goog.fs.FileReader,goog.events.EventTarget);goog.fs.FileReader.ReadyState={INIT:0,LOADING:1,DONE:2};goog.fs.FileReader.EventType={LOAD_START:"loadstart",PROGRESS:"progress",LOAD:"load",ABORT:"abort",ERROR:"error",LOAD_END:"loadend"};goog.fs.FileReader.prototype.abort=function(){try{this.reader_.abort()}catch(a){throw new goog.fs.Error(a,"aborting read");}};goog.fs.FileReader.prototype.getReadyState=function(){return this.reader_.readyState};goog.fs.FileReader.prototype.getResult=function(){return this.reader_.result};
goog.fs.FileReader.prototype.getError=function(){return this.reader_.error&&new goog.fs.Error(this.reader_.error,"reading file")};goog.fs.FileReader.prototype.dispatchProgressEvent_=function(a){this.dispatchEvent(new goog.fs.ProgressEvent(a,this))};goog.fs.FileReader.prototype.disposeInternal=function(){goog.fs.FileReader.superClass_.disposeInternal.call(this);delete this.reader_};goog.fs.FileReader.prototype.readAsBinaryString=function(a){this.reader_.readAsBinaryString(a)};
goog.fs.FileReader.readAsBinaryString=function(a){var b=new goog.fs.FileReader,c=goog.fs.FileReader.createDeferred_(b);b.readAsBinaryString(a);return c};goog.fs.FileReader.prototype.readAsArrayBuffer=function(a){this.reader_.readAsArrayBuffer(a)};goog.fs.FileReader.readAsArrayBuffer=function(a){var b=new goog.fs.FileReader,c=goog.fs.FileReader.createDeferred_(b);b.readAsArrayBuffer(a);return c};goog.fs.FileReader.prototype.readAsText=function(a,b){this.reader_.readAsText(a,b)};
goog.fs.FileReader.readAsText=function(a,b){var c=new goog.fs.FileReader,d=goog.fs.FileReader.createDeferred_(c);c.readAsText(a,b);return d};goog.fs.FileReader.prototype.readAsDataUrl=function(a){this.reader_.readAsDataURL(a)};goog.fs.FileReader.readAsDataUrl=function(a){var b=new goog.fs.FileReader,c=goog.fs.FileReader.createDeferred_(b);b.readAsDataUrl(a);return c};
goog.fs.FileReader.createDeferred_=function(a){var b=new goog.async.Deferred;a.listen(goog.fs.FileReader.EventType.LOAD_END,goog.partial(function(a,b,e){e=b.getResult();var c=b.getError();null==e||c?a.errback(c):a.callback(e);b.dispose()},b,a));return b};goog.net.jsloader={};goog.net.jsloader.GLOBAL_VERIFY_OBJS_="closure_verification";goog.net.jsloader.DEFAULT_TIMEOUT=5E3;goog.net.jsloader.scriptsToLoad_=[];
goog.net.jsloader.safeLoadMany=function(a,b){if(!a.length)return goog.async.Deferred.succeed(null);var c=goog.net.jsloader.scriptsToLoad_.length;goog.array.extend(goog.net.jsloader.scriptsToLoad_,a);if(c)return goog.net.jsloader.scriptLoadingDeferred_;a=goog.net.jsloader.scriptsToLoad_;var d=function(){var c=a.shift();c=goog.net.jsloader.safeLoad(c,b);a.length&&c.addBoth(d);return c};goog.net.jsloader.scriptLoadingDeferred_=d();return goog.net.jsloader.scriptLoadingDeferred_};
goog.net.jsloader.safeLoad=function(a,b){var c=b||{};b=c.document||document;var d=goog.html.TrustedResourceUrl.unwrap(a),e=goog.dom.createElement("SCRIPT"),f={script_:e,timeout_:void 0},g=new goog.async.Deferred(goog.net.jsloader.cancel_,f),h=null,k=goog.isDefAndNotNull(c.timeout)?c.timeout:goog.net.jsloader.DEFAULT_TIMEOUT;0<k&&(h=window.setTimeout(function(){goog.net.jsloader.cleanup_(e,!0);g.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.TIMEOUT,"Timeout reached for loading script "+
d))},k),f.timeout_=h);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(goog.net.jsloader.cleanup_(e,c.cleanupWhenDone||!1,h),g.callback(null))};e.onerror=function(){goog.net.jsloader.cleanup_(e,!0,h);g.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.LOAD_ERROR,"Error while loading script "+d))};f=c.attributes||{};goog.object.extend(f,{type:"text/javascript",charset:"UTF-8"});goog.dom.setProperties(e,f);goog.dom.safe.setScriptSrc(e,
a);goog.net.jsloader.getScriptParentElement_(b).appendChild(e);return g};
goog.net.jsloader.safeLoadAndVerify=function(a,b,c){goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_]||(goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_]={});var d=goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_],e=goog.html.TrustedResourceUrl.unwrap(a);if(goog.isDef(d[b]))return goog.async.Deferred.fail(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_OBJECT_ALREADY_EXISTS,"Verification object "+b+" already defined."));a=goog.net.jsloader.safeLoad(a,c);var f=new goog.async.Deferred(goog.bind(a.cancel,
a));a.addCallback(function(){var a=d[b];goog.isDef(a)?(f.callback(a),delete d[b]):f.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_ERROR,"Script "+e+" loaded, but verification object "+b+" was not defined."))});a.addErrback(function(a){goog.isDef(d[b])&&delete d[b];f.errback(a)});return f};goog.net.jsloader.getScriptParentElement_=function(a){var b=goog.dom.getElementsByTagName("HEAD",a);return!b||goog.array.isEmpty(b)?a.documentElement:b[0]};
goog.net.jsloader.cancel_=function(){if(this&&this.script_){var a=this.script_;a&&"SCRIPT"==a.tagName&&goog.net.jsloader.cleanup_(a,!0,this.timeout_)}};goog.net.jsloader.cleanup_=function(a,b,c){goog.isDefAndNotNull(c)&&goog.global.clearTimeout(c);a.onload=goog.nullFunction;a.onerror=goog.nullFunction;a.onreadystatechange=goog.nullFunction;b&&window.setTimeout(function(){goog.dom.removeNode(a)},0)};goog.net.jsloader.ErrorCode={LOAD_ERROR:0,TIMEOUT:1,VERIFY_ERROR:2,VERIFY_OBJECT_ALREADY_EXISTS:3};
goog.net.jsloader.Error=function(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);goog.debug.Error.call(this,c);this.code=a};goog.inherits(goog.net.jsloader.Error,goog.debug.Error);os.arraybuf={};os.arraybuf.MAX_STRING_CHUNK_=65536;os.arraybuf.BYTE_ORDER_MARKER=[239,187,191];os.arraybuf.MagicNumber={ZIP:1347093252,PDF:626017350};
os.arraybuf.isText=function(a){if(goog.array.equals(new Uint8Array(a.slice(0,3)),os.arraybuf.BYTE_ORDER_MARKER))return!0;a=new DataView(a);var b=Math.min(64E3,a.byteLength),c=4<=b;if(0==b)return!0;if(c&&a.getUint32(0)==os.arraybuf.MagicNumber.ZIP)return!1;for(var d=0,e=Math.min(1021,b-3),f=0;f<b;f++){if(c&&f<e&&a.getUint32(f)===os.arraybuf.MagicNumber.PDF)return!1;var g=a.getUint8(f);if(0==g)return!1;os.arraybuf.isTextCharacter(g)||d++}return.3<d/b?!1:!0};
os.arraybuf.isTextCharacter=function(a){return 10==a||13==a||9==a||8==a||32<=a&&127>=a};os.arraybuf.toString=function(a){var b="";goog.array.equals(new Uint8Array(a.slice(0,3)),os.arraybuf.BYTE_ORDER_MARKER)&&(a=a.slice(3));a=new DataView(a);for(var c="utf-8 latin2 latin3 latin4 cyrillic utf-16".split(" "),d=0,e=c.length;d<e;d++){var f=new TextDecoder(c[d],{fatal:!0});try{b=f.decode(a);break}catch(g){}}return b.replace(/(^\x00+)|(\x00+$)/g,"")};os.file={};os.file.File=function(){this.url_=this.type_=this.file_=this.fileName_=this.contentType_=this.content_=null};os.file.File.MAX_CONTENT_LEN=104857600;os.file.File.URL_SCHEME="local";os.file.File.prototype.getContent=function(){return this.content_};os.file.File.prototype.setContent=function(a){if(a instanceof ArrayBuffer)if(os.arraybuf.isText(a)){if(a=os.arraybuf.toString(a))this.content_=a}else this.content_=a;else this.content_=a};os.file.File.prototype.getContentType=function(){return this.contentType_};
os.file.File.prototype.setContentType=function(a){this.contentType_=a};os.file.File.prototype.getFileName=function(){return this.fileName_};os.file.File.prototype.setFileName=function(a){this.fileName_=a};os.file.File.prototype.getFile=function(){return this.file_};os.file.File.prototype.setFile=function(a){this.file_=a};os.file.File.prototype.getType=function(){return this.type_};os.file.File.prototype.setType=function(a){this.type_=a};os.file.File.prototype.getUrl=function(){return this.url_};
os.file.File.prototype.setUrl=function(a){this.url_=a};os.file.File.prototype.persist=function(a){a=a||{};a.content=this.content_;a.contentType=this.contentType_;a.fileName=this.fileName_;a.type=this.type_;a.url=this.url_;return a};os.file.File.prototype.restore=function(a){this.content_=a.content||null;this.contentType_=a.contentType||null;this.fileName_=a.fileName||null;this.type_=a.type||null;this.url_=a.url||null};
(function(){if(window.zip){var a=os.ROOT+"vendor/zip/";Modernizr.webworkers?zip.workerScriptsPath=a:(zip.useWebWorkers=!1,goog.net.jsloader.safeLoad(a+"inflate.js"),goog.net.jsloader.safeLoad(a+"deflate.js"))}})();os.file.ZIP_MAGIC_BYTES_BIG_ENDIAN=1347093252;os.file.isZipFile=function(a){if(!a)return!1;a=new DataView(a.slice(0,4));return os.file.ZIP_MAGIC_BYTES_BIG_ENDIAN==a.getUint32(0)};os.file.canImport=function(){return!("undefined"===typeof FileReader||"undefined"===typeof ArrayBuffer)};
os.file.createFromFile=function(a,b){var c=new goog.async.Deferred;if(a.size<os.file.File.MAX_CONTENT_LEN){var d=os.file.getLocalUrl(a.name);goog.fs.FileReader.readAsArrayBuffer(a).addCallback(os.file.createFromContent.bind(void 0,a.name,d,b?a:void 0)).chainDeferred(c)}else c.errback('File "'+a.name+'" exceeds the size limit ('+(Math.floor(os.file.File.MAX_CONTENT_LEN/1E6)+"MB")+") and cannot be imported.");return c};
os.file.createFromContent=function(a,b,c,d){var e=new os.file.File;e.setContent(d);e.setFileName(a);e.setUrl(b);c&&(e.setContentType(c.type),e.setFile(c));return e};os.file.getLocalUrl=function(a){return os.file.File.URL_SCHEME+"://"+goog.crypt.base64.encodeString(a)};os.file.isLocal=function(a){if(!a)return!1;a=goog.isString(a)?a:a.getUrl();return!!a&&goog.string.startsWith(a,os.file.File.URL_SCHEME+"://")};
os.file.deserializeFile=function(a){var b=null;a&&goog.isObject(a)&&(b=new os.file.File,b.restore(a));return b};os.file.serializeFile=function(a){return a?a.persist():void 0};os.net.HandlerType={LOCAL:"local",SAME_DOMAIN:"sameDomain",EXT_DOMAIN:"extDomain",PROXY:"proxy",CREDENTIALS:"credentials"};goog.json.hybrid={};goog.json.hybrid.stringify=goog.json.USE_NATIVE_JSON?goog.global.JSON.stringify:function(a){if(goog.global.JSON)try{return goog.global.JSON.stringify(a)}catch(b){}return goog.json.serialize(a)};goog.json.hybrid.parse_=function(a,b){if(goog.global.JSON)try{var c=goog.global.JSON.parse(a);goog.asserts.assert("object"==typeof c);return c}catch(d){}return b(a)};goog.json.hybrid.parse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(a){return goog.json.hybrid.parse_(a,goog.json.parse)};goog.net.ErrorCode={NO_ERROR:0,ACCESS_DENIED:1,FILE_NOT_FOUND:2,FF_SILENT_ERROR:3,CUSTOM_ERROR:4,EXCEPTION:5,HTTP_ERROR:6,ABORT:7,TIMEOUT:8,OFFLINE:9};
goog.net.ErrorCode.getDebugMessage=function(a){switch(a){case goog.net.ErrorCode.NO_ERROR:return"No Error";case goog.net.ErrorCode.ACCESS_DENIED:return"Access denied to content document";case goog.net.ErrorCode.FILE_NOT_FOUND:return"File not found";case goog.net.ErrorCode.FF_SILENT_ERROR:return"Firefox silently errored";case goog.net.ErrorCode.CUSTOM_ERROR:return"Application custom error";case goog.net.ErrorCode.EXCEPTION:return"An exception occurred";case goog.net.ErrorCode.HTTP_ERROR:return"Http response at 400 or 500 level";
case goog.net.ErrorCode.ABORT:return"Request was aborted";case goog.net.ErrorCode.TIMEOUT:return"Request timed out";case goog.net.ErrorCode.OFFLINE:return"The resource is not available offline";default:return"Unrecognized error code"}};goog.net.HttpStatus={CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,
PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUEST_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,NETWORK_AUTHENTICATION_REQUIRED:511,QUIRK_IE_NO_CONTENT:1223};
goog.net.HttpStatus.isSuccess=function(a){switch(a){case goog.net.HttpStatus.OK:case goog.net.HttpStatus.CREATED:case goog.net.HttpStatus.ACCEPTED:case goog.net.HttpStatus.NO_CONTENT:case goog.net.HttpStatus.PARTIAL_CONTENT:case goog.net.HttpStatus.NOT_MODIFIED:case goog.net.HttpStatus.QUIRK_IE_NO_CONTENT:return!0;default:return!1}};goog.net.XhrLike=function(){};goog.net.XhrLike.prototype.open=function(a,b,c,d,e){};goog.net.XhrLike.prototype.send=function(a){};goog.net.XhrLike.prototype.abort=function(){};goog.net.XhrLike.prototype.setRequestHeader=function(a,b){};goog.net.XhrLike.prototype.getResponseHeader=function(a){};goog.net.XhrLike.prototype.getAllResponseHeaders=function(){};goog.net.XmlHttpFactory=function(){};goog.net.XmlHttpFactory.prototype.cachedOptions_=null;goog.net.XmlHttpFactory.prototype.createInstance=goog.abstractMethod;goog.net.XmlHttpFactory.prototype.getOptions=function(){return this.cachedOptions_||(this.cachedOptions_=this.internalGetOptions())};goog.net.XmlHttpFactory.prototype.internalGetOptions=goog.abstractMethod;goog.net.WrapperXmlHttpFactory=function(a,b){goog.net.XmlHttpFactory.call(this);this.xhrFactory_=a;this.optionsFactory_=b};goog.inherits(goog.net.WrapperXmlHttpFactory,goog.net.XmlHttpFactory);goog.net.WrapperXmlHttpFactory.prototype.createInstance=function(){return this.xhrFactory_()};goog.net.WrapperXmlHttpFactory.prototype.getOptions=function(){return this.optionsFactory_()};goog.net.XmlHttp=function(){return goog.net.XmlHttp.factory_.createInstance()};goog.net.XmlHttp.ASSUME_NATIVE_XHR=!1;goog.net.XmlHttpDefines={};goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR=!1;goog.net.XmlHttp.getOptions=function(){return goog.net.XmlHttp.factory_.getOptions()};goog.net.XmlHttp.OptionType={USE_NULL_FUNCTION:0,LOCAL_REQUEST_ERROR:1};goog.net.XmlHttp.ReadyState={UNINITIALIZED:0,LOADING:1,LOADED:2,INTERACTIVE:3,COMPLETE:4};
goog.net.XmlHttp.setFactory=function(a,b){goog.net.XmlHttp.setGlobalFactory(new goog.net.WrapperXmlHttpFactory(goog.asserts.assert(a),goog.asserts.assert(b)))};goog.net.XmlHttp.setGlobalFactory=function(a){goog.net.XmlHttp.factory_=a};goog.net.DefaultXmlHttpFactory=function(){goog.net.XmlHttpFactory.call(this)};goog.inherits(goog.net.DefaultXmlHttpFactory,goog.net.XmlHttpFactory);
goog.net.DefaultXmlHttpFactory.prototype.createInstance=function(){var a=this.getProgId_();return a?new ActiveXObject(a):new XMLHttpRequest};goog.net.DefaultXmlHttpFactory.prototype.internalGetOptions=function(){var a={};this.getProgId_()&&(a[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION]=!0,a[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR]=!0);return a};
goog.net.DefaultXmlHttpFactory.prototype.getProgId_=function(){if(goog.net.XmlHttp.ASSUME_NATIVE_XHR||goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR)return"";if(!this.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],b=0;b<a.length;b++){var c=a[b];try{return new ActiveXObject(c),this.ieProgId_=c}catch(d){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");
}return this.ieProgId_};goog.net.XmlHttp.setGlobalFactory(new goog.net.DefaultXmlHttpFactory);goog.net.XhrIo=function(a){goog.events.EventTarget.call(this);this.headers=new goog.structs.Map;this.xmlHttpFactory_=a||null;this.active_=!1;this.xhrOptions_=this.xhr_=null;this.lastMethod_=this.lastUri_="";this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR;this.lastError_="";this.inAbort_=this.inOpen_=this.inSend_=this.errorDispatched_=!1;this.timeoutInterval_=0;this.timeoutId_=null;this.responseType_=goog.net.XhrIo.ResponseType.DEFAULT;this.useXhr2Timeout_=this.progressEventsEnabled_=this.withCredentials_=
!1};goog.inherits(goog.net.XhrIo,goog.events.EventTarget);goog.net.XhrIo.ResponseType={DEFAULT:"",TEXT:"text",DOCUMENT:"document",BLOB:"blob",ARRAY_BUFFER:"arraybuffer"};goog.net.XhrIo.prototype.logger_=goog.log.getLogger("goog.net.XhrIo");goog.net.XhrIo.CONTENT_TYPE_HEADER="Content-Type";goog.net.XhrIo.CONTENT_TRANSFER_ENCODING="Content-Transfer-Encoding";goog.net.XhrIo.HTTP_SCHEME_PATTERN=/^https?$/i;goog.net.XhrIo.METHODS_WITH_FORM_DATA=["POST","PUT"];goog.net.XhrIo.FORM_CONTENT_TYPE="application/x-www-form-urlencoded;charset=utf-8";
goog.net.XhrIo.XHR2_TIMEOUT_="timeout";goog.net.XhrIo.XHR2_ON_TIMEOUT_="ontimeout";goog.net.XhrIo.sendInstances_=[];goog.net.XhrIo.send=function(a,b,c,d,e,f,g){var h=new goog.net.XhrIo;goog.net.XhrIo.sendInstances_.push(h);b&&h.listen(goog.net.EventType.COMPLETE,b);h.listenOnce(goog.net.EventType.READY,h.cleanupSend_);f&&h.setTimeoutInterval(f);g&&h.setWithCredentials(g);h.send(a,c,d,e);return h};goog.net.XhrIo.cleanup=function(){for(var a=goog.net.XhrIo.sendInstances_;a.length;)a.pop().dispose()};
goog.net.XhrIo.protectEntryPoints=function(a){goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=a.protectEntryPoint(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)};goog.net.XhrIo.prototype.cleanupSend_=function(){this.dispose();goog.array.remove(goog.net.XhrIo.sendInstances_,this)};goog.net.XhrIo.prototype.getTimeoutInterval=function(){return this.timeoutInterval_};goog.net.XhrIo.prototype.setTimeoutInterval=function(a){this.timeoutInterval_=Math.max(0,a)};
goog.net.XhrIo.prototype.setResponseType=function(a){this.responseType_=a};goog.net.XhrIo.prototype.getResponseType=function(){return this.responseType_};goog.net.XhrIo.prototype.setWithCredentials=function(a){this.withCredentials_=a};goog.net.XhrIo.prototype.getWithCredentials=function(){return this.withCredentials_};goog.net.XhrIo.prototype.setProgressEventsEnabled=function(a){this.progressEventsEnabled_=a};goog.net.XhrIo.prototype.getProgressEventsEnabled=function(){return this.progressEventsEnabled_};
goog.net.XhrIo.prototype.send=function(a,b,c,d){if(this.xhr_)throw Error("[goog.net.XhrIo] Object is active with another request="+this.lastUri_+"; newUri="+a);b=b?b.toUpperCase():"GET";this.lastUri_=a;this.lastError_="";this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR;this.lastMethod_=b;this.errorDispatched_=!1;this.active_=!0;this.xhr_=this.createXhr();this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():goog.net.XmlHttp.getOptions();this.xhr_.onreadystatechange=goog.bind(this.onReadyStateChange_,
this);this.getProgressEventsEnabled()&&"onprogress"in this.xhr_&&(this.xhr_.onprogress=goog.bind(function(a){this.onProgressHandler_(a,!0)},this),this.xhr_.upload&&(this.xhr_.upload.onprogress=goog.bind(this.onProgressHandler_,this)));try{goog.log.fine(this.logger_,this.formatMsg_("Opening Xhr")),this.inOpen_=!0,this.xhr_.open(b,String(a),!0),this.inOpen_=!1}catch(f){goog.log.fine(this.logger_,this.formatMsg_("Error opening Xhr: "+f.message));this.error_(goog.net.ErrorCode.EXCEPTION,f);return}a=c||
"";var e=this.headers.clone();d&&goog.structs.forEach(d,function(a,b){e.set(b,a)});d=goog.array.find(e.getKeys(),goog.net.XhrIo.isContentTypeHeader_);c=goog.global.FormData&&a instanceof goog.global.FormData;!goog.array.contains(goog.net.XhrIo.METHODS_WITH_FORM_DATA,b)||d||c||e.set(goog.net.XhrIo.CONTENT_TYPE_HEADER,goog.net.XhrIo.FORM_CONTENT_TYPE);e.forEach(function(a,b){this.xhr_.setRequestHeader(b,a)},this);this.responseType_&&(this.xhr_.responseType=this.responseType_);"withCredentials"in this.xhr_&&
this.xhr_.withCredentials!==this.withCredentials_&&(this.xhr_.withCredentials=this.withCredentials_);try{this.cleanUpTimeoutTimer_(),0<this.timeoutInterval_&&(this.useXhr2Timeout_=goog.net.XhrIo.shouldUseXhr2Timeout_(this.xhr_),goog.log.fine(this.logger_,this.formatMsg_("Will abort after "+this.timeoutInterval_+"ms if incomplete, xhr2 "+this.useXhr2Timeout_)),this.useXhr2Timeout_?(this.xhr_[goog.net.XhrIo.XHR2_TIMEOUT_]=this.timeoutInterval_,this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_]=goog.bind(this.timeout_,
this)):this.timeoutId_=goog.Timer.callOnce(this.timeout_,this.timeoutInterval_,this)),goog.log.fine(this.logger_,this.formatMsg_("Sending request")),this.inSend_=!0,this.xhr_.send(a),this.inSend_=!1}catch(f){goog.log.fine(this.logger_,this.formatMsg_("Send error: "+f.message)),this.error_(goog.net.ErrorCode.EXCEPTION,f)}};goog.net.XhrIo.shouldUseXhr2Timeout_=function(a){return goog.userAgent.IE&&goog.userAgent.isVersionOrHigher(9)&&goog.isNumber(a[goog.net.XhrIo.XHR2_TIMEOUT_])&&goog.isDef(a[goog.net.XhrIo.XHR2_ON_TIMEOUT_])};
goog.net.XhrIo.isContentTypeHeader_=function(a){return goog.string.caseInsensitiveEquals(goog.net.XhrIo.CONTENT_TYPE_HEADER,a)};goog.net.XhrIo.prototype.createXhr=function(){return this.xmlHttpFactory_?this.xmlHttpFactory_.createInstance():goog.net.XmlHttp()};
goog.net.XhrIo.prototype.timeout_=function(){"undefined"!=typeof goog&&this.xhr_&&(this.lastError_="Timed out after "+this.timeoutInterval_+"ms, aborting",this.lastErrorCode_=goog.net.ErrorCode.TIMEOUT,goog.log.fine(this.logger_,this.formatMsg_(this.lastError_)),this.dispatchEvent(goog.net.EventType.TIMEOUT),this.abort(goog.net.ErrorCode.TIMEOUT))};
goog.net.XhrIo.prototype.error_=function(a,b){this.active_=!1;this.xhr_&&(this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1);this.lastError_=b;this.lastErrorCode_=a;this.dispatchErrors_();this.cleanUpXhr_()};goog.net.XhrIo.prototype.dispatchErrors_=function(){this.errorDispatched_||(this.errorDispatched_=!0,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ERROR))};
goog.net.XhrIo.prototype.abort=function(a){this.xhr_&&this.active_&&(goog.log.fine(this.logger_,this.formatMsg_("Aborting")),this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1,this.lastErrorCode_=a||goog.net.ErrorCode.ABORT,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ABORT),this.cleanUpXhr_())};
goog.net.XhrIo.prototype.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),this.cleanUpXhr_(!0));goog.net.XhrIo.superClass_.disposeInternal.call(this)};goog.net.XhrIo.prototype.onReadyStateChange_=function(){if(!this.isDisposed())if(this.inOpen_||this.inSend_||this.inAbort_)this.onReadyStateChangeHelper_();else this.onReadyStateChangeEntryPoint_()};goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=function(){this.onReadyStateChangeHelper_()};
goog.net.XhrIo.prototype.onReadyStateChangeHelper_=function(){if(this.active_&&"undefined"!=typeof goog)if(this.xhrOptions_[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR]&&this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE&&2==this.getStatus())goog.log.fine(this.logger_,this.formatMsg_("Local request error detected and ignored"));else if(this.inSend_&&this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE)goog.Timer.callOnce(this.onReadyStateChange_,0,this);else if(this.dispatchEvent(goog.net.EventType.READY_STATE_CHANGE),
this.isComplete()){goog.log.fine(this.logger_,this.formatMsg_("Request complete"));this.active_=!1;try{this.isSuccess()?(this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.SUCCESS)):(this.lastErrorCode_=goog.net.ErrorCode.HTTP_ERROR,this.lastError_=this.getStatusText()+" ["+this.getStatus()+"]",this.dispatchErrors_())}finally{this.cleanUpXhr_()}}};
goog.net.XhrIo.prototype.onProgressHandler_=function(a,b){goog.asserts.assert(a.type===goog.net.EventType.PROGRESS,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress.");this.dispatchEvent(goog.net.XhrIo.buildProgressEvent_(a,goog.net.EventType.PROGRESS));this.dispatchEvent(goog.net.XhrIo.buildProgressEvent_(a,b?goog.net.EventType.DOWNLOAD_PROGRESS:goog.net.EventType.UPLOAD_PROGRESS))};
goog.net.XhrIo.buildProgressEvent_=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}};
goog.net.XhrIo.prototype.cleanUpXhr_=function(a){if(this.xhr_){this.cleanUpTimeoutTimer_();var b=this.xhr_,c=this.xhrOptions_[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION]?goog.nullFunction:null;this.xhrOptions_=this.xhr_=null;a||this.dispatchEvent(goog.net.EventType.READY);try{b.onreadystatechange=c}catch(d){goog.log.error(this.logger_,"Problem encountered resetting onreadystatechange: "+d.message)}}};
goog.net.XhrIo.prototype.cleanUpTimeoutTimer_=function(){this.xhr_&&this.useXhr2Timeout_&&(this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_]=null);this.timeoutId_&&(goog.Timer.clear(this.timeoutId_),this.timeoutId_=null)};goog.net.XhrIo.prototype.isActive=function(){return!!this.xhr_};goog.net.XhrIo.prototype.isComplete=function(){return this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE};
goog.net.XhrIo.prototype.isSuccess=function(){var a=this.getStatus();return goog.net.HttpStatus.isSuccess(a)||0===a&&!this.isLastUriEffectiveSchemeHttp_()};goog.net.XhrIo.prototype.isLastUriEffectiveSchemeHttp_=function(){var a=goog.uri.utils.getEffectiveScheme(String(this.lastUri_));return goog.net.XhrIo.HTTP_SCHEME_PATTERN.test(a)};goog.net.XhrIo.prototype.getReadyState=function(){return this.xhr_?this.xhr_.readyState:goog.net.XmlHttp.ReadyState.UNINITIALIZED};
goog.net.XhrIo.prototype.getStatus=function(){try{return this.getReadyState()>goog.net.XmlHttp.ReadyState.LOADED?this.xhr_.status:-1}catch(a){return-1}};goog.net.XhrIo.prototype.getStatusText=function(){try{return this.getReadyState()>goog.net.XmlHttp.ReadyState.LOADED?this.xhr_.statusText:""}catch(a){return goog.log.fine(this.logger_,"Can not get status: "+a.message),""}};goog.net.XhrIo.prototype.getLastUri=function(){return String(this.lastUri_)};
goog.net.XhrIo.prototype.getResponseText=function(){try{return this.xhr_?this.xhr_.responseText:""}catch(a){return goog.log.fine(this.logger_,"Can not get responseText: "+a.message),""}};goog.net.XhrIo.prototype.getResponseBody=function(){try{if(this.xhr_&&"responseBody"in this.xhr_)return this.xhr_.responseBody}catch(a){goog.log.fine(this.logger_,"Can not get responseBody: "+a.message)}return null};
goog.net.XhrIo.prototype.getResponseXml=function(){try{return this.xhr_?this.xhr_.responseXML:null}catch(a){return goog.log.fine(this.logger_,"Can not get responseXML: "+a.message),null}};goog.net.XhrIo.prototype.getResponseJson=function(a){if(this.xhr_){var b=this.xhr_.responseText;a&&0==b.indexOf(a)&&(b=b.substring(a.length));return goog.json.hybrid.parse(b)}};
goog.net.XhrIo.prototype.getResponse=function(){try{if(!this.xhr_)return null;if("response"in this.xhr_)return this.xhr_.response;switch(this.responseType_){case goog.net.XhrIo.ResponseType.DEFAULT:case goog.net.XhrIo.ResponseType.TEXT:return this.xhr_.responseText;case goog.net.XhrIo.ResponseType.ARRAY_BUFFER:if("mozResponseArrayBuffer"in this.xhr_)return this.xhr_.mozResponseArrayBuffer}goog.log.error(this.logger_,"Response type "+this.responseType_+" is not supported on this browser");return null}catch(a){return goog.log.fine(this.logger_,
"Can not get response: "+a.message),null}};goog.net.XhrIo.prototype.getResponseHeader=function(a){if(this.xhr_&&this.isComplete())return a=this.xhr_.getResponseHeader(a),goog.isNull(a)?void 0:a};goog.net.XhrIo.prototype.getAllResponseHeaders=function(){return this.xhr_&&this.isComplete()?this.xhr_.getAllResponseHeaders():""};
goog.net.XhrIo.prototype.getResponseHeaders=function(){for(var a={},b=this.getAllResponseHeaders().split("\r\n"),c=0;c<b.length;c++)if(!goog.string.isEmptyOrWhitespace(b[c])){var d=goog.string.splitLimit(b[c],": ",2);a[d[0]]=a[d[0]]?a[d[0]]+(", "+d[1]):d[1]}return a};goog.net.XhrIo.prototype.getStreamingResponseHeader=function(a){return this.xhr_?this.xhr_.getResponseHeader(a):null};
goog.net.XhrIo.prototype.getAllStreamingResponseHeaders=function(){return this.xhr_?this.xhr_.getAllResponseHeaders():""};goog.net.XhrIo.prototype.getLastErrorCode=function(){return this.lastErrorCode_};goog.net.XhrIo.prototype.getLastError=function(){return goog.isString(this.lastError_)?this.lastError_:String(this.lastError_)};goog.net.XhrIo.prototype.formatMsg_=function(a){return a+" ["+this.lastMethod_+" "+this.lastUri_+" "+this.getStatus()+"]"};
goog.debug.entryPointRegistry.register(function(a){goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=a(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)});os.net.AbstractRequestHandler=function(){goog.events.EventTarget.call(this);this.log=os.net.AbstractRequestHandler.LOGGER_;this.score=0;this.statusCode=-1};goog.inherits(os.net.AbstractRequestHandler,goog.events.EventTarget);os.net.AbstractRequestHandler.LOGGER_=goog.log.getLogger("os.net.AbstractRequestHandler");os.net.AbstractRequestHandler.prototype.getScore=function(){return this.score};os.net.AbstractRequestHandler.prototype.errors=null;
os.net.AbstractRequestHandler.prototype.handles=function(a,b){return!1};os.net.AbstractRequestHandler.prototype.getErrors=function(){return this.errors};os.net.AbstractRequestHandler.prototype.getStatusCode=function(){return this.statusCode};os.net.AbstractRequestHandler.prototype.buildRequest=goog.abstractMethod;os.net.AbstractRequestHandler.prototype.getResponse=goog.abstractMethod;os.net.AbstractRequestHandler.prototype.getResponseHeaders=goog.abstractMethod;
os.net.AbstractRequestHandler.prototype.abort=goog.abstractMethod;os.net.AbstractRequestHandler.prototype.execute=goog.abstractMethod;
os.net.AbstractRequestHandler.prototype.getErrorMessage=function(a){var b=a.getLastErrorCode();if(goog.net.ErrorCode.HTTP_ERROR===b){this.statusCode=a=a.getStatus();switch(!0){case 502===a:b="Bad gateway.";break;case 503===a:b="Service unavailable.";break;case 500<=a:b="The remote server experienced an error ("+a+").";break;case 400===a:b="Bad request.";break;case 401===a:b="You do not have proper authorization to perform this action.";break;case 403===a:b="You do not have proper authorization to perform this action.";
break;case 404===a:b="The requested resource was not found.";break;case 400<=a:b="There was an issue accessing the resource ("+a+").";break;default:b=goog.net.ErrorCode.getDebugMessage(b)+"."}goog.log.error(this.log,b+" Http Status code: "+a)}else b=goog.net.ErrorCode.getDebugMessage(b),goog.log.error(this.log,b);return b};os.net.AbstractRequestHandler.prototype.getHandlerType=function(){return""};os.net.AbstractRequestHandler.prototype.isHandled=function(){return!!this.statusCode};os.net.FormEncFormatter=function(){};os.net.FormEncFormatter.prototype.getContentType=function(){return goog.net.XhrIo.FORM_CONTENT_TYPE};os.net.FormEncFormatter.prototype.format=function(a){var b=a.getQuery();a.getQueryData().clear();return b};os.net.SameDomainHandler=function(){os.net.AbstractRequestHandler.call(this);this.log=os.net.SameDomainHandler.LOGGER_;this.handled=!1};goog.inherits(os.net.SameDomainHandler,os.net.AbstractRequestHandler);os.net.SameDomainHandler.LOGGER_=goog.log.getLogger("os.net.SameDomainHandler");os.net.SameDomainHandler.prototype.disposeInternal=function(){this.req&&this.req.dispose();os.net.SameDomainHandler.superClass_.disposeInternal.call(this)};
os.net.SameDomainHandler.prototype.handles=function(a,b){if(window){if(!b.getDomain())return!0;if(b.getScheme()!=os.file.File.URL_SCHEME)return(new goog.Uri(window.location)).hasSameDomainAs(b)}return!1};os.net.SameDomainHandler.prototype.req=null;os.net.SameDomainHandler.prototype.getResponse=function(){return this.req?this.req.getResponse():null};os.net.SameDomainHandler.prototype.getResponseHeaders=function(){return this.req?this.req.getResponseHeaders():null};
os.net.SameDomainHandler.prototype.buildRequest=function(){this.req=new goog.net.XhrIo;this.req.listen(goog.net.EventType.SUCCESS,this.onXhrComplete,!1,this);this.req.listen(goog.net.EventType.ERROR,this.onXhrError,!1,this);this.req.listen(goog.net.EventType.TIMEOUT,this.onXhrError,!1,this)};os.net.SameDomainHandler.prototype.abort=function(){this.req&&this.req.abort()};
os.net.SameDomainHandler.prototype.execute=function(a,b,c,d,e,f){this.errors=null;this.req||this.buildRequest();var g=null;a!=os.net.Request.METHOD_GET&&a!=os.net.Request.METHOD_HEAD&&a!=os.net.Request.METHOD_DELETE&&(d||(d=new os.net.FormEncFormatter),g=d.format(b),c||(c={}),d.getContentType()&&(c["Content-Type"]=d.getContentType()));e&&b.setParameterValue("_cd",goog.now());this.req.setResponseType(f||goog.net.XhrIo.ResponseType.DEFAULT);this.req.send(this.modUri(b),a,g,c)};
os.net.SameDomainHandler.prototype.modUri=function(a){return a};os.net.SameDomainHandler.prototype.onXhrComplete=function(a){this.statusCode=this.req.getStatus();this.dispatchEvent(goog.net.EventType.SUCCESS)};os.net.SameDomainHandler.prototype.onXhrError=function(a){if(a=this.getErrorMessage(this.req))this.errors=[a];this.dispatchEvent(goog.net.EventType.ERROR)};os.net.SameDomainHandler.prototype.getHandlerType=function(){return os.net.HandlerType.SAME_DOMAIN};os.net.ExtDomainHandler=function(){os.net.SameDomainHandler.call(this);this.log=os.net.ExtDomainHandler.LOGGER_};goog.inherits(os.net.ExtDomainHandler,os.net.SameDomainHandler);os.net.ExtDomainHandler.LOGGER_=goog.log.getLogger("os.net.ExtDomainHandler");os.net.ExtDomainHandler.MIXED_CONTENT_ENABLED=!1;
os.net.ExtDomainHandler.prototype.handles=function(a,b){if(window&&b.getDomain()&&b.getScheme()!=os.file.File.URL_SCHEME){a=new goog.Uri(window.location);var c=a.getScheme().toLowerCase(),d=b.getScheme().toLowerCase();return os.net.ExtDomainHandler.MIXED_CONTENT_ENABLED||c==d||"http"!=d?!a.hasSameDomainAs(b):(goog.log.warning(this.log,"Mixed content is not allowed: "+b.toString()),!1)}return!1};
os.net.ExtDomainHandler.prototype.modUri=function(a){this.req&&this.req.setWithCredentials(os.net.getCrossOrigin(a)===os.net.CrossOrigin.USE_CREDENTIALS);return a};os.net.ExtDomainHandler.prototype.getHandlerType=function(){return os.net.HandlerType.EXT_DOMAIN};os.net.CredentialsHandler=function(){os.net.ExtDomainHandler.call(this);this.score=-20};goog.inherits(os.net.CredentialsHandler,os.net.ExtDomainHandler);os.net.CredentialsHandler.prototype.modUri=function(a){this.req&&this.req.setWithCredentials(os.net.getCrossOrigin(a)!==os.net.CrossOrigin.USE_CREDENTIALS);return a};os.net.CredentialsHandler.prototype.getHandlerType=function(){return os.net.HandlerType.CREDENTIALS};
os.net.CredentialsHandler.prototype.onXhrComplete=function(a){var b=this.req.getLastUri();b=new goog.Uri(b);b="^"+b.getScheme()+"://"+b.getDomain();var c=this.req.getWithCredentials()?os.net.CrossOrigin.USE_CREDENTIALS:os.net.CrossOrigin.NONE;os.net.saveCrossOrigin(b,c);os.net.CredentialsHandler.superClass_.onXhrComplete.call(this,a)};goog.db={};goog.db.DomErrorLike={};goog.db.DOMErrorLike=function(){};goog.db.Error=function(a,b,c){if(goog.isNumber(a))var d={name:goog.db.Error.getName(a)};else d=a,a=goog.db.Error.getCode(a.name);this.code=a;this.error_=d;b="Error "+b+": "+this.getName();c&&(b+=", "+c);goog.debug.Error.call(this,b)};goog.inherits(goog.db.Error,goog.debug.Error);goog.db.Error.prototype.getName=function(){return this.error_.name||""};goog.db.Error.VersionChangeBlockedError=function(){goog.debug.Error.call(this,"Version change blocked")};
goog.inherits(goog.db.Error.VersionChangeBlockedError,goog.debug.Error);goog.db.Error.DatabaseErrorCode_={UNKNOWN_ERR:1,NON_TRANSIENT_ERR:2,NOT_FOUND_ERR:3,CONSTRAINT_ERR:4,DATA_ERR:5,NOT_ALLOWED_ERR:6,TRANSACTION_INACTIVE_ERR:7,ABORT_ERR:8,READ_ONLY_ERR:9,TRANSIENT_ERR:10,TIMEOUT_ERR:11,QUOTA_ERR:12,INVALID_ACCESS_ERR:13,INVALID_STATE_ERR:14};
goog.db.Error.ErrorCode={UNKNOWN_ERR:(goog.global.IDBDatabaseException||goog.global.webkitIDBDatabaseException||goog.db.Error.DatabaseErrorCode_).UNKNOWN_ERR,NON_TRANSIENT_ERR:(goog.global.IDBDatabaseException||goog.global.webkitIDBDatabaseException||goog.db.Error.DatabaseErrorCode_).NON_TRANSIENT_ERR,NOT_FOUND_ERR:(goog.global.IDBDatabaseException||goog.global.webkitIDBDatabaseException||goog.db.Error.DatabaseErrorCode_).NOT_FOUND_ERR,CONSTRAINT_ERR:(goog.global.IDBDatabaseException||goog.global.webkitIDBDatabaseException||
goog.db.Error.DatabaseErrorCode_).CONSTRAINT_ERR,DATA_ERR:(goog.global.IDBDatabaseException||goog.global.webkitIDBDatabaseException||goog.db.Error.DatabaseErrorCode_).DATA_ERR,NOT_ALLOWED_ERR:(goog.global.IDBDatabaseException||goog.global.webkitIDBDatabaseException||goog.db.Error.DatabaseErrorCode_).NOT_ALLOWED_ERR,TRANSACTION_INACTIVE_ERR:(goog.global.IDBDatabaseException||goog.global.webkitIDBDatabaseException||goog.db.Error.DatabaseErrorCode_).TRANSACTION_INACTIVE_ERR,ABORT_ERR:(goog.global.IDBDatabaseException||
goog.global.webkitIDBDatabaseException||goog.db.Error.DatabaseErrorCode_).ABORT_ERR,READ_ONLY_ERR:(goog.global.IDBDatabaseException||goog.global.webkitIDBDatabaseException||goog.db.Error.DatabaseErrorCode_).READ_ONLY_ERR,TIMEOUT_ERR:(goog.global.IDBDatabaseException||goog.global.webkitIDBDatabaseException||goog.db.Error.DatabaseErrorCode_).TIMEOUT_ERR,QUOTA_ERR:(goog.global.IDBDatabaseException||goog.global.webkitIDBDatabaseException||goog.db.Error.DatabaseErrorCode_).QUOTA_ERR,INVALID_ACCESS_ERR:(goog.global.DOMException||
goog.db.Error.DatabaseErrorCode_).INVALID_ACCESS_ERR,INVALID_STATE_ERR:(goog.global.DOMException||goog.db.Error.DatabaseErrorCode_).INVALID_STATE_ERR};
goog.db.Error.getMessage=function(a){switch(a){case goog.db.Error.ErrorCode.UNKNOWN_ERR:return"Unknown error";case goog.db.Error.ErrorCode.NON_TRANSIENT_ERR:return"Invalid operation";case goog.db.Error.ErrorCode.NOT_FOUND_ERR:return"Required database object not found";case goog.db.Error.ErrorCode.CONSTRAINT_ERR:return"Constraint unsatisfied";case goog.db.Error.ErrorCode.DATA_ERR:return"Invalid data";case goog.db.Error.ErrorCode.NOT_ALLOWED_ERR:return"Operation disallowed";case goog.db.Error.ErrorCode.TRANSACTION_INACTIVE_ERR:return"Transaction not active";
case goog.db.Error.ErrorCode.ABORT_ERR:return"Request aborted";case goog.db.Error.ErrorCode.READ_ONLY_ERR:return"Modifying operation not allowed in a read-only transaction";case goog.db.Error.ErrorCode.TIMEOUT_ERR:return"Transaction timed out";case goog.db.Error.ErrorCode.QUOTA_ERR:return"Database storage space quota exceeded";case goog.db.Error.ErrorCode.INVALID_ACCESS_ERR:return"Invalid operation";case goog.db.Error.ErrorCode.INVALID_STATE_ERR:return"Invalid state";default:return"Unrecognized exception with code "+
a}};goog.db.Error.ErrorName={ABORT_ERR:"AbortError",CONSTRAINT_ERR:"ConstraintError",DATA_CLONE_ERR:"DataCloneError",DATA_ERR:"DataError",INVALID_ACCESS_ERR:"InvalidAccessError",INVALID_STATE_ERR:"InvalidStateError",NOT_FOUND_ERR:"NotFoundError",QUOTA_EXCEEDED_ERR:"QuotaExceededError",READ_ONLY_ERR:"ReadOnlyError",SYNTAX_ERROR:"SyntaxError",TIMEOUT_ERR:"TimeoutError",TRANSACTION_INACTIVE_ERR:"TransactionInactiveError",UNKNOWN_ERR:"UnknownError",VERSION_ERR:"VersionError"};
goog.db.Error.getCode=function(a){switch(a){case goog.db.Error.ErrorName.UNKNOWN_ERR:return goog.db.Error.ErrorCode.UNKNOWN_ERR;case goog.db.Error.ErrorName.NOT_FOUND_ERR:return goog.db.Error.ErrorCode.NOT_FOUND_ERR;case goog.db.Error.ErrorName.CONSTRAINT_ERR:return goog.db.Error.ErrorCode.CONSTRAINT_ERR;case goog.db.Error.ErrorName.DATA_ERR:return goog.db.Error.ErrorCode.DATA_ERR;case goog.db.Error.ErrorName.TRANSACTION_INACTIVE_ERR:return goog.db.Error.ErrorCode.TRANSACTION_INACTIVE_ERR;case goog.db.Error.ErrorName.ABORT_ERR:return goog.db.Error.ErrorCode.ABORT_ERR;
case goog.db.Error.ErrorName.READ_ONLY_ERR:return goog.db.Error.ErrorCode.READ_ONLY_ERR;case goog.db.Error.ErrorName.TIMEOUT_ERR:return goog.db.Error.ErrorCode.TIMEOUT_ERR;case goog.db.Error.ErrorName.QUOTA_EXCEEDED_ERR:return goog.db.Error.ErrorCode.QUOTA_ERR;case goog.db.Error.ErrorName.INVALID_ACCESS_ERR:return goog.db.Error.ErrorCode.INVALID_ACCESS_ERR;case goog.db.Error.ErrorName.INVALID_STATE_ERR:return goog.db.Error.ErrorCode.INVALID_STATE_ERR;default:return goog.db.Error.ErrorCode.UNKNOWN_ERR}};
goog.db.Error.getName=function(a){switch(a){case goog.db.Error.ErrorCode.UNKNOWN_ERR:return goog.db.Error.ErrorName.UNKNOWN_ERR;case goog.db.Error.ErrorCode.NOT_FOUND_ERR:return goog.db.Error.ErrorName.NOT_FOUND_ERR;case goog.db.Error.ErrorCode.CONSTRAINT_ERR:return goog.db.Error.ErrorName.CONSTRAINT_ERR;case goog.db.Error.ErrorCode.DATA_ERR:return goog.db.Error.ErrorName.DATA_ERR;case goog.db.Error.ErrorCode.TRANSACTION_INACTIVE_ERR:return goog.db.Error.ErrorName.TRANSACTION_INACTIVE_ERR;case goog.db.Error.ErrorCode.ABORT_ERR:return goog.db.Error.ErrorName.ABORT_ERR;
case goog.db.Error.ErrorCode.READ_ONLY_ERR:return goog.db.Error.ErrorName.READ_ONLY_ERR;case goog.db.Error.ErrorCode.TIMEOUT_ERR:return goog.db.Error.ErrorName.TIMEOUT_ERR;case goog.db.Error.ErrorCode.QUOTA_ERR:return goog.db.Error.ErrorName.QUOTA_EXCEEDED_ERR;case goog.db.Error.ErrorCode.INVALID_ACCESS_ERR:return goog.db.Error.ErrorName.INVALID_ACCESS_ERR;case goog.db.Error.ErrorCode.INVALID_STATE_ERR:return goog.db.Error.ErrorName.INVALID_STATE_ERR;default:return goog.db.Error.ErrorName.UNKNOWN_ERR}};
goog.db.Error.fromRequest=function(a,b){return"error"in a?new goog.db.Error(goog.asserts.assert(a.error),b):new goog.db.Error({name:goog.db.Error.ErrorName.UNKNOWN_ERR},b)};goog.db.Error.fromException=function(a,b){if("name"in a)return b=b+": "+a.message,new goog.db.Error(a,b);if("code"in a){var c=goog.db.Error.getName(a.code);b=b+": "+a.message;return new goog.db.Error({name:c},b)}return new goog.db.Error({name:goog.db.Error.ErrorName.UNKNOWN_ERR},b)};goog.string.path={};goog.string.path.baseName=function(a){var b=a.lastIndexOf("/")+1;return a.slice(b)};goog.string.path.basename=goog.string.path.baseName;goog.string.path.dirname=function(a){var b=a.lastIndexOf("/")+1;a=a.slice(0,b);/^\/+$/.test(a)||(a=a.replace(/\/+$/,""));return a};goog.string.path.extension=function(a){a=goog.string.path.baseName(a).replace(/\.+/g,".");var b=a.lastIndexOf(".");return 0>=b?"":a.substr(b+1)};
goog.string.path.join=function(a){for(var b=arguments[0],c=1;c<arguments.length;c++){var d=arguments[c];b=goog.string.startsWith(d,"/")?d:""==b||goog.string.endsWith(b,"/")?b+d:b+("/"+d)}return b};
goog.string.path.normalizePath=function(a){if(""==a)return".";var b="";goog.string.startsWith(a,"/")&&(b="/",goog.string.startsWith(a,"//")&&!goog.string.startsWith(a,"///")&&(b="//"));a=a.split("/");for(var c=[],d=0;d<a.length;d++){var e=a[d];""!=e&&"."!=e&&(".."!=e||!b&&!c.length||".."==goog.array.peek(c)?c.push(e):c.pop())}return b+c.join("/")||"."};goog.string.path.split=function(a){var b=goog.string.path.dirname(a);a=goog.string.path.baseName(a);return[b,a]};os.storage.IAsyncStorage=function(){};os.storage.AsyncStorage=function(){goog.Disposable.call(this)};goog.inherits(os.storage.AsyncStorage,goog.Disposable);os.storage.AsyncStorage.prototype.init=goog.abstractMethod;os.storage.AsyncStorage.prototype.get=goog.abstractMethod;os.storage.AsyncStorage.prototype.getAll=goog.abstractMethod;os.storage.AsyncStorage.prototype.set=goog.abstractMethod;os.storage.AsyncStorage.prototype.remove=goog.abstractMethod;os.storage.AsyncStorage.prototype.clear=goog.abstractMethod;os.storage.IMechanism=function(){};os.storage.IMechanism.ID="os.storage.IMechanism";os.storage.IMechanism.prototype.get=goog.abstractMethod;os.storage.IMechanism.prototype.set=goog.abstractMethod;os.storage.IMechanism.prototype.remove=goog.abstractMethod;os.storage.AsyncStorageWrapper=function(a,b,c){if(!os.implements(a,os.storage.IMechanism.ID))throw Error("mechanism must implement os.storage.IMechanism");os.storage.AsyncStorage.call(this);this.mechanism=a;this.deserialize=b||JSON.parse;this.serialize=c||JSON.stringify};goog.inherits(os.storage.AsyncStorageWrapper,os.storage.AsyncStorage);os.storage.AsyncStorageWrapper.LOGGER_=goog.log.getLogger("os.storage.AsyncStorageWrapper");os.storage.AsyncStorageWrapper.prototype.init=function(){return goog.async.Deferred.succeed()};
os.storage.AsyncStorageWrapper.prototype.get=function(a){var b;try{(b=this.mechanism.get(a))&&(b=this.deserialize(b))}catch(c){b=void 0}return this.getDeferredResult(null!=b?b:void 0)};os.storage.AsyncStorageWrapper.prototype.getAll=function(){var a=[];try{a=this.mechanism.getAll();for(var b=0;b<a.length;b++){var c=a[b];c&&(a[b]=this.deserialize(c))}}catch(d){a=[]}return this.getDeferredResult(a)};
os.storage.AsyncStorageWrapper.prototype.set=function(a,b,c){if(c||null==this.mechanism.get(a)){try{b=this.serialize(b)}catch(d){b=void 0}if(b)try{this.mechanism.set(a,b)}catch(d){a=os.config.getAppName("the application");b=os.config.getSupportContact("your system administrator");switch("string"==typeof d?d:""){case goog.storage.mechanism.ErrorCode.INVALID_VALUE:c="Failed saving data to application storage due to an invalid value.";break;case goog.storage.mechanism.ErrorCode.QUOTA_EXCEEDED:c="Application storage is full and data was not saved to the application.";
break;case goog.storage.mechanism.ErrorCode.STORAGE_DISABLED:c="Application storage is disabled and data was not saved to the application.";break;default:c="Failed saving data to application storage: "+d.message+"."}c+=" Your work may be lost if you close/refresh "+a+". Please contact "+b+" for support.";os.alert.AlertManager.getInstance().sendAlert(c,os.alert.AlertEventSeverity.ERROR,os.storage.AsyncStorageWrapper.LOGGER_)}else this.mechanism.remove(a)}return this.getDeferredResult()};
os.storage.AsyncStorageWrapper.prototype.remove=function(a){this.mechanism.remove(a);return this.getDeferredResult()};os.storage.AsyncStorageWrapper.prototype.clear=function(){this.mechanism instanceof goog.storage.mechanism.IterableMechanism?this.mechanism.clear():goog.log.warning(os.storage.AsyncStorageWrapper.LOGGER_,"Clear is unsupported by storage mechanism");return this.getDeferredResult()};os.storage.AsyncStorageWrapper.prototype.getDeferredResult=function(a){return goog.async.Deferred.succeed(a)};goog.db.KeyRange=function(a){this.range_=a};goog.db.KeyRange.IDB_KEY_RANGE_=goog.global.IDBKeyRange||goog.global.webkitIDBKeyRange;goog.db.KeyRange.only=function(a){return new goog.db.KeyRange(goog.db.KeyRange.IDB_KEY_RANGE_.only(a))};goog.db.KeyRange.bound=function(a,b,c,d){return new goog.db.KeyRange(goog.db.KeyRange.IDB_KEY_RANGE_.bound(a,b,c,d))};goog.db.KeyRange.lowerBound=function(a,b){return new goog.db.KeyRange(goog.db.KeyRange.IDB_KEY_RANGE_.lowerBound(a,b))};
goog.db.KeyRange.upperBound=function(a,b){return new goog.db.KeyRange(goog.db.KeyRange.IDB_KEY_RANGE_.upperBound(a,b))};goog.db.KeyRange.prototype.range=function(){return this.range_};goog.db.Cursor=function(){goog.events.EventTarget.call(this)};goog.inherits(goog.db.Cursor,goog.events.EventTarget);goog.db.Cursor.prototype.cursor_=null;goog.db.Cursor.prototype.next=function(a){if(a)this.cursor_["continue"](a);else this.cursor_["continue"]()};
goog.db.Cursor.prototype.update=function(a){var b="updating via cursor with value ",c=new goog.async.Deferred;try{var d=this.cursor_.update(a)}catch(e){return b+=goog.debug.deepExpose(a),c.errback(goog.db.Error.fromException(e,b)),c}d.onsuccess=function(a){c.callback()};d.onerror=function(d){b+=goog.debug.deepExpose(a);c.errback(goog.db.Error.fromRequest(d.target,b))};return c};
goog.db.Cursor.prototype.remove=function(){var a=new goog.async.Deferred;try{var b=this.cursor_["delete"]()}catch(c){return a.errback(goog.db.Error.fromException(c,"deleting via cursor")),a}b.onsuccess=function(b){a.callback()};b.onerror=function(b){a.errback(goog.db.Error.fromRequest(b.target,"deleting via cursor"))};return a};goog.db.Cursor.prototype.getValue=function(){return this.cursor_.value};goog.db.Cursor.prototype.getKey=function(){return this.cursor_.key};
goog.db.Cursor.openCursor=function(a,b,c){var d=new goog.db.Cursor;try{var e=b?b.range():null;var f=c?a.openCursor(e,c):a.openCursor(e)}catch(g){throw d.dispose(),goog.db.Error.fromException(g,a.name);}f.onsuccess=function(a){d.cursor_=a.target.result||null;d.cursor_?d.dispatchEvent(goog.db.Cursor.EventType.NEW_DATA):d.dispatchEvent(goog.db.Cursor.EventType.COMPLETE)};f.onerror=function(a){d.dispatchEvent(goog.db.Cursor.EventType.ERROR)};return d};
goog.db.Cursor.Direction={NEXT:"next",NEXT_NO_DUPLICATE:"nextunique",PREV:"prev",PREV_NO_DUPLICATE:"prevunique"};goog.db.Cursor.EventType={COMPLETE:"c",ERROR:"e",NEW_DATA:"n"};goog.db.Index=function(a){this.index_=a};goog.db.Index.prototype.getName=function(){return this.index_.name};goog.db.Index.prototype.getKeyPath=function(){return this.index_.keyPath};goog.db.Index.prototype.isUnique=function(){return this.index_.unique};
goog.db.Index.prototype.get_=function(a,b,c){var d=new goog.async.Deferred;try{var e=this.index_[a](c)}catch(f){return b+=" with key "+goog.debug.deepExpose(c),d.errback(goog.db.Error.fromException(f,b)),d}e.onsuccess=function(a){d.callback(a.target.result)};e.onerror=function(a){b+=" with key "+goog.debug.deepExpose(c);d.errback(goog.db.Error.fromRequest(a.target,b))};return d};goog.db.Index.prototype.get=function(a){return this.get_("get","getting from index "+this.getName(),a)};
goog.db.Index.prototype.getKey=function(a){return this.get_("getKey","getting key from index "+this.getName(),a)};
goog.db.Index.prototype.getAll_=function(a,b,c){var d=goog.global.IDBKeyRange||goog.global.webkitIDBKeyRange,e=new goog.async.Deferred;try{var f=c?this.index_[a](d.only(c)):this.index_[a]()}catch(h){return c&&(b+=" for key "+goog.debug.deepExpose(c)),e.errback(goog.db.Error.fromException(h,b)),e}var g=[];f.onsuccess=function(b){(b=b.target.result)?("openKeyCursor"==a?g.push(b.primaryKey):g.push(b.value),b["continue"]()):e.callback(g)};f.onerror=function(a){c&&(b+=" for key "+goog.debug.deepExpose(c));
e.errback(goog.db.Error.fromRequest(a.target,b))};return e};goog.db.Index.prototype.getAll=function(a){return this.getAll_("openCursor","getting all from index "+this.getName(),a)};goog.db.Index.prototype.getAllKeys=function(a){return this.getAll_("openKeyCursor","getting all keys from index "+this.getName(),a)};goog.db.Index.prototype.openCursor=function(a,b){return goog.db.Cursor.openCursor(this.index_,a,b)};goog.db.ObjectStore=function(a){this.store_=a};goog.db.ObjectStore.prototype.getName=function(){return this.store_.name};
goog.db.ObjectStore.prototype.insert_=function(a,b,c,d){var e=new goog.async.Deferred;try{var f=d?this.store_[a](c,d):this.store_[a](c)}catch(g){return b+=goog.debug.deepExpose(c),d&&(b+=", with key "+goog.debug.deepExpose(d)),e.errback(goog.db.Error.fromException(g,b)),e}f.onsuccess=function(a){e.callback(a.target.result)};f.onerror=function(a){b+=goog.debug.deepExpose(c);d&&(b+=", with key "+goog.debug.deepExpose(d));e.errback(goog.db.Error.fromRequest(a.target,b))};return e};
goog.db.ObjectStore.prototype.put=function(a,b){return this.insert_("put","putting into "+this.getName()+" with value",a,b)};goog.db.ObjectStore.prototype.add=function(a,b){return this.insert_("add","adding into "+this.getName()+" with value ",a,b)};
goog.db.ObjectStore.prototype.remove=function(a){var b=new goog.async.Deferred;try{var c=this.store_["delete"](a instanceof goog.db.KeyRange?a.range():a)}catch(e){return c="removing from "+this.getName()+" with key "+goog.debug.deepExpose(a),b.errback(goog.db.Error.fromException(e,c)),b}c.onsuccess=function(a){b.callback()};var d=this;c.onerror=function(c){var e="removing from "+d.getName()+" with key "+goog.debug.deepExpose(a);b.errback(goog.db.Error.fromRequest(c.target,e))};return b};
goog.db.ObjectStore.prototype.get=function(a){var b=new goog.async.Deferred;try{var c=this.store_.get(a)}catch(e){return c="getting from "+this.getName()+" with key "+goog.debug.deepExpose(a),b.errback(goog.db.Error.fromException(e,c)),b}c.onsuccess=function(a){b.callback(a.target.result)};var d=this;c.onerror=function(c){var e="getting from "+d.getName()+" with key "+goog.debug.deepExpose(a);b.errback(goog.db.Error.fromRequest(c.target,e))};return b};
goog.db.ObjectStore.prototype.getAll=function(a,b){var c=new goog.async.Deferred;try{var d=this.openCursor(a,b)}catch(f){return c.errback(f),c}var e=[];goog.events.listen(d,goog.db.Cursor.EventType.NEW_DATA,function(){e.push(d.getValue());d.next()});goog.events.listenOnce(d,[goog.db.Cursor.EventType.ERROR,goog.db.Cursor.EventType.COMPLETE],function(a){d.dispose();a.type==goog.db.Cursor.EventType.COMPLETE?c.callback(e):c.errback()});return c};
goog.db.ObjectStore.prototype.getAllKeys=function(){var a=new goog.async.Deferred;try{var b=this.store_.getAllKeys()}catch(d){return b="getting all keys from "+this.getName(),a.errback(goog.db.Error.fromException(d,b)),a}b.onsuccess=function(b){a.callback(b.target.result)};var c=this;b.onerror=function(b){var d="getting all keys from "+c.getName();a.errback(goog.db.Error.fromRequest(b.target,d))};return a};
goog.db.ObjectStore.prototype.openCursor=function(a,b){return goog.db.Cursor.openCursor(this.store_,a,b)};goog.db.ObjectStore.prototype.clear=function(){var a="clearing store "+this.getName(),b=new goog.async.Deferred;try{var c=this.store_.clear()}catch(d){return b.errback(goog.db.Error.fromException(d,a)),b}c.onsuccess=function(a){b.callback()};c.onerror=function(c){b.errback(goog.db.Error.fromRequest(c.target,a))};return b};
goog.db.ObjectStore.prototype.createIndex=function(a,b,c){try{return new goog.db.Index(this.store_.createIndex(a,b,c))}catch(d){throw goog.db.Error.fromException(d,"creating new index "+a+" with key path "+b);}};goog.db.ObjectStore.prototype.getIndex=function(a){try{return new goog.db.Index(this.store_.index(a))}catch(b){throw goog.db.Error.fromException(b,"getting index "+a);}};
goog.db.ObjectStore.prototype.deleteIndex=function(a){try{this.store_.deleteIndex(a)}catch(b){throw goog.db.Error.fromException(b,"deleting index "+a);}};goog.db.ObjectStore.prototype.count=function(a){var b=new goog.async.Deferred;try{var c=a?a.range():null,d=this.store_.count(c);d.onsuccess=function(a){b.callback(a.target.result)};var e=this;d.onerror=function(a){b.errback(goog.db.Error.fromRequest(a.target,e.getName()))}}catch(f){b.errback(goog.db.Error.fromException(f,this.getName()))}return b};goog.events.EventHandler=function(a){goog.Disposable.call(this);this.handler_=a;this.keys_={}};goog.inherits(goog.events.EventHandler,goog.Disposable);goog.events.EventHandler.typeArray_=[];goog.events.EventHandler.prototype.listen=function(a,b,c,d){return this.listen_(a,b,c,d)};goog.events.EventHandler.prototype.listenWithScope=function(a,b,c,d,e){return this.listen_(a,b,c,d,e)};
goog.events.EventHandler.prototype.listen_=function(a,b,c,d,e){goog.isArray(b)||(b&&(goog.events.EventHandler.typeArray_[0]=b.toString()),b=goog.events.EventHandler.typeArray_);for(var f=0;f<b.length;f++){var g=goog.events.listen(a,b[f],c||this.handleEvent,d||!1,e||this.handler_||this);if(!g)break;this.keys_[g.key]=g}return this};goog.events.EventHandler.prototype.listenOnce=function(a,b,c,d){return this.listenOnce_(a,b,c,d)};
goog.events.EventHandler.prototype.listenOnceWithScope=function(a,b,c,d,e){return this.listenOnce_(a,b,c,d,e)};goog.events.EventHandler.prototype.listenOnce_=function(a,b,c,d,e){if(goog.isArray(b))for(var f=0;f<b.length;f++)this.listenOnce_(a,b[f],c,d,e);else{a=goog.events.listenOnce(a,b,c||this.handleEvent,d,e||this.handler_||this);if(!a)return this;this.keys_[a.key]=a}return this};goog.events.EventHandler.prototype.listenWithWrapper=function(a,b,c,d){return this.listenWithWrapper_(a,b,c,d)};
goog.events.EventHandler.prototype.listenWithWrapperAndScope=function(a,b,c,d,e){return this.listenWithWrapper_(a,b,c,d,e)};goog.events.EventHandler.prototype.listenWithWrapper_=function(a,b,c,d,e){b.listen(a,c,d,e||this.handler_||this,this);return this};goog.events.EventHandler.prototype.getListenerCount=function(){var a=0,b;for(b in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,b)&&a++;return a};
goog.events.EventHandler.prototype.unlisten=function(a,b,c,d,e){if(goog.isArray(b))for(var f=0;f<b.length;f++)this.unlisten(a,b[f],c,d,e);else if(d=goog.isObject(d)?!!d.capture:!!d,a=goog.events.getListener(a,b,c||this.handleEvent,d,e||this.handler_||this))goog.events.unlistenByKey(a),delete this.keys_[a.key];return this};goog.events.EventHandler.prototype.unlistenWithWrapper=function(a,b,c,d,e){b.unlisten(a,c,d,e||this.handler_||this,this);return this};
goog.events.EventHandler.prototype.removeAll=function(){goog.object.forEach(this.keys_,function(a,b){this.keys_.hasOwnProperty(b)&&goog.events.unlistenByKey(a)},this);this.keys_={}};goog.events.EventHandler.prototype.disposeInternal=function(){goog.events.EventHandler.superClass_.disposeInternal.call(this);this.removeAll()};goog.events.EventHandler.prototype.handleEvent=function(a){throw Error("EventHandler.handleEvent not implemented");};goog.db.Transaction=function(a,b){goog.events.EventTarget.call(this);this.tx_=a;this.db_=b;this.eventHandler_=new goog.events.EventHandler(this);this.eventHandler_.listen(this.tx_,"complete",goog.bind(this.dispatchEvent,this,goog.db.Transaction.EventTypes.COMPLETE));this.eventHandler_.listen(this.tx_,"abort",goog.bind(this.dispatchEvent,this,goog.db.Transaction.EventTypes.ABORT));this.eventHandler_.listen(this.tx_,"error",this.dispatchError_)};goog.inherits(goog.db.Transaction,goog.events.EventTarget);
goog.db.Transaction.prototype.dispatchError_=function(a){a.target instanceof goog.db.Error?this.dispatchEvent({type:goog.db.Transaction.EventTypes.ERROR,target:a.target}):this.dispatchEvent({type:goog.db.Transaction.EventTypes.ERROR,target:goog.db.Error.fromRequest(a.target,"in transaction")})};goog.db.Transaction.EventTypes={COMPLETE:"complete",ABORT:"abort",ERROR:"error"};goog.db.Transaction.prototype.getMode=function(){return this.tx_.mode};goog.db.Transaction.prototype.getDatabase=function(){return this.db_};
goog.db.Transaction.prototype.objectStore=function(a){try{return new goog.db.ObjectStore(this.tx_.objectStore(a))}catch(b){throw goog.db.Error.fromException(b,"getting object store "+a);}};
goog.db.Transaction.prototype.wait=function(){var a=new goog.async.Deferred;goog.events.listenOnce(this,goog.db.Transaction.EventTypes.COMPLETE,goog.bind(a.callback,a));var b=goog.events.listenOnce(this,goog.db.Transaction.EventTypes.ABORT,function(){goog.events.unlistenByKey(c);a.errback(new goog.db.Error(goog.db.Error.ErrorCode.ABORT_ERR,"waiting for transaction to complete"))});var c=goog.events.listenOnce(this,goog.db.Transaction.EventTypes.ERROR,function(c){goog.events.unlistenByKey(b);a.errback(c.target)});
var d=this.getDatabase();return a.addCallback(function(){return d})};goog.db.Transaction.prototype.abort=function(){this.tx_.abort()};goog.db.Transaction.prototype.disposeInternal=function(){goog.db.Transaction.superClass_.disposeInternal.call(this);this.eventHandler_.dispose()};goog.db.Transaction.TransactionMode={READ_ONLY:"readonly",READ_WRITE:"readwrite",VERSION_CHANGE:"versionchange"};goog.db.IndexedDb=function(a){goog.events.EventTarget.call(this);this.db_=a;this.eventHandler_=new goog.events.EventHandler(this);this.eventHandler_.listen(this.db_,goog.db.IndexedDb.EventType.ABORT,goog.bind(this.dispatchEvent,this,goog.db.IndexedDb.EventType.ABORT));this.eventHandler_.listen(this.db_,goog.db.IndexedDb.EventType.ERROR,this.dispatchError_);this.eventHandler_.listen(this.db_,goog.db.IndexedDb.EventType.VERSION_CHANGE,this.dispatchVersionChange_);this.eventHandler_.listen(this.db_,
goog.db.IndexedDb.EventType.CLOSE,goog.bind(this.dispatchEvent,this,goog.db.IndexedDb.EventType.CLOSE))};goog.inherits(goog.db.IndexedDb,goog.events.EventTarget);goog.db.IndexedDb.prototype.open_=!0;goog.db.IndexedDb.prototype.dispatchError_=function(a){this.dispatchEvent({type:goog.db.IndexedDb.EventType.ERROR,errorCode:a.target.error.severity})};goog.db.IndexedDb.prototype.dispatchVersionChange_=function(a){this.dispatchEvent(new goog.db.IndexedDb.VersionChangeEvent(a.oldVersion,a.newVersion))};
goog.db.IndexedDb.prototype.close=function(){this.open_&&(this.db_.close(),this.open_=!1)};goog.db.IndexedDb.prototype.isOpen=function(){return this.open_};goog.db.IndexedDb.prototype.getName=function(){return this.db_.name};goog.db.IndexedDb.prototype.getVersion=function(){return Number(this.db_.version)};goog.db.IndexedDb.prototype.getObjectStoreNames=function(){return this.db_.objectStoreNames};
goog.db.IndexedDb.prototype.createObjectStore=function(a,b){try{return new goog.db.ObjectStore(this.db_.createObjectStore(a,b))}catch(c){throw goog.db.Error.fromException(c,"creating object store "+a);}};goog.db.IndexedDb.prototype.deleteObjectStore=function(a){try{this.db_.deleteObjectStore(a)}catch(b){throw goog.db.Error.fromException(b,"deleting object store "+a);}};
goog.db.IndexedDb.prototype.createTransaction=function(a,b){try{var c=b?this.db_.transaction(a,b):this.db_.transaction(a);return new goog.db.Transaction(c,this)}catch(d){throw goog.db.Error.fromException(d,"creating transaction");}};goog.db.IndexedDb.prototype.disposeInternal=function(){goog.db.IndexedDb.superClass_.disposeInternal.call(this);this.eventHandler_.dispose()};goog.db.IndexedDb.EventType={ABORT:"abort",CLOSE:"close",ERROR:"error",VERSION_CHANGE:"versionchange"};
goog.db.IndexedDb.VersionChangeEvent=function(a,b){goog.events.Event.call(this,goog.db.IndexedDb.EventType.VERSION_CHANGE);this.oldVersion=a;this.newVersion=b};goog.inherits(goog.db.IndexedDb.VersionChangeEvent,goog.events.Event);goog.db.indexedDb_=goog.global.indexedDB||goog.global.mozIndexedDB||goog.global.webkitIndexedDB||goog.global.moz_indexedDB;
goog.db.openDatabase=function(a,b,c,d){goog.asserts.assert(goog.isDef(b)==goog.isDef(c),"opt_version must be passed to goog.db.openDatabase if and only if opt_onUpgradeNeeded is also passed");var e=new goog.async.Deferred;b=b?goog.db.indexedDb_.open(a,b):goog.db.indexedDb_.open(a);b.onsuccess=function(a){a=new goog.db.IndexedDb(a.target.result);e.callback(a)};b.onerror=function(b){e.errback(goog.db.Error.fromRequest(b.target,"opening database "+a))};b.onupgradeneeded=function(a){if(c){var b=new goog.db.IndexedDb(a.target.result);
c(new goog.db.IndexedDb.VersionChangeEvent(a.oldVersion,a.newVersion),b,new goog.db.Transaction(a.target.transaction,b))}};b.onblocked=function(a){d&&d(new goog.db.IndexedDb.VersionChangeEvent(a.oldVersion,a.newVersion))};return e};
goog.db.deleteDatabase=function(a,b){var c=new goog.async.Deferred,d=goog.db.indexedDb_.deleteDatabase(a);d.onsuccess=function(a){c.callback()};d.onerror=function(b){c.errback(goog.db.Error.fromRequest(b.target,"deleting database "+a))};d.onblocked=function(a){b&&b(new goog.db.IndexedDb.VersionChangeEvent(a.oldVersion,a.newVersion))};return c};os.storage.IDBStorage=function(a,b,c){os.storage.AsyncStorage.call(this);this.db_=null;this.dbName_=b||os.SHARED_DB_NAME;this.dbVersion_=null!=c?c:os.storage.IDBStorage.DEFAULT_VERSION_;this.storeName_=a;this.initDeferred=null;this.errors_={};this.log=os.storage.IDBStorage.LOGGER_};goog.inherits(os.storage.IDBStorage,os.storage.AsyncStorage);os.storage.IDBStorage.ErrorType={UNSUPPORTED:"idb:unsupported",UNKNOWN:"idb:unknown"};os.storage.IDBStorage.LOGGER_=goog.log.getLogger("os.storage.IDBStorage");
os.storage.IDBStorage.DEFAULT_VERSION_=1;os.storage.IDBStorage.NOT_SUPPORTED="Uh oh! Your browser does not support storing data with an in-browser database. To use this feature, please upgrade to a modern browser (we recommend Chrome 28+, FF24+, or IE10+).";os.storage.IDBStorage.UNKNOWN_ERROR='There has been an error accessing the in-browser database. For assistance, use the "Help" menu to contact support.';
os.storage.IDBStorage.prototype.disposeInternal=function(){os.storage.IDBStorage.superClass_.disposeInternal.call(this);this.initDeferred&&this.initDeferred.cancel();this.db_&&this.db_.isOpen()&&this.db_.close();this.db_=null};
os.storage.IDBStorage.prototype.init=function(){if(Modernizr.indexeddb)var a=this.initDeferred=goog.db.openDatabase(this.dbName_,this.dbVersion_,this.onUpgradeNeeded_.bind(this),this.onBlocked_.bind(this)).addCallbacks(this.onDbReady_,this.onDbOpenError_,this);else a=new goog.async.Deferred,a.errback(this.getErrorMessage(os.storage.IDBStorage.ErrorType.UNSUPPORTED));return a};
os.storage.IDBStorage.prototype.onDbReady_=function(a){goog.log.fine(this.log,"Successfully opened database "+a.getName());this.db_=a;this.initDeferred=null};os.storage.IDBStorage.prototype.onDbOpenError_=function(a){goog.log.error(this.log,"Error opening database:",a);return a};os.storage.IDBStorage.prototype.onBlocked_=function(a){goog.log.error(this.log,"IDB store blocked from upgrading to version "+this.dbVersion_+"!")};
os.storage.IDBStorage.prototype.onUpgradeNeeded_=function(a,b,c){goog.log.fine(this.log,"Upgrading database from "+a.oldVersion+" to "+a.newVersion);b.createObjectStore(this.storeName_)};os.storage.IDBStorage.prototype.get=function(a){return this.initDeferred?this.initDeferred.addCallback(goog.partial(this.getInternal_,a),this):Modernizr.indexeddb?this.getInternal_(a):this.getErrorDeferred(os.storage.IDBStorage.ErrorType.UNSUPPORTED)};
os.storage.IDBStorage.prototype.getInternal_=function(a){return this.db_?this.db_.createTransaction([this.storeName_],goog.db.Transaction.TransactionMode.READ_ONLY).objectStore(this.storeName_).get(a).addCallback(this.deserializeItem,this):this.getErrorDeferred(os.storage.IDBStorage.ErrorType.UNSUPPORTED)};os.storage.IDBStorage.prototype.getAll=function(){return this.initDeferred?this.initDeferred.addCallback(this.getAllInternal_,this):Modernizr.indexeddb?this.getAllInternal_():this.getErrorDeferred(os.storage.IDBStorage.ErrorType.UNSUPPORTED)};
os.storage.IDBStorage.prototype.getAllInternal_=function(){return this.db_?this.db_.createTransaction([this.storeName_],goog.db.Transaction.TransactionMode.READ_ONLY).objectStore(this.storeName_).getAll().addCallback(this.deserializeItems,this):this.getErrorDeferred(os.storage.IDBStorage.ErrorType.UNSUPPORTED)};
os.storage.IDBStorage.prototype.set=function(a,b,c){return this.initDeferred?this.initDeferred.addCallback(goog.partial(this.setInternal_,a,b,c),this):Modernizr.indexeddb?this.setInternal_(a,b,c):this.getErrorDeferred(os.storage.IDBStorage.ErrorType.UNSUPPORTED)};
os.storage.IDBStorage.prototype.setInternal_=function(a,b,c){if(this.isError())return this.getErrorDeferred(os.storage.IDBStorage.ErrorType.UNSUPPORTED);var d=this.db_.createTransaction([this.storeName_],goog.db.Transaction.TransactionMode.READ_WRITE),e=d.objectStore(this.storeName_),f=e.openCursor(goog.db.KeyRange.bound(a,a)),g=null,h=goog.events.listen(f,goog.db.Cursor.EventType.NEW_DATA,function(){g||(g=this.deserializeItem(f.getValue()));f.next()},!1,this);goog.events.listenOnce(f,goog.db.Cursor.EventType.COMPLETE,
function(){goog.events.unlistenByKey(h);g?c&&e.put(this.serializeItem(b),a):e.add(this.serializeItem(b),a).addCallback(goog.partial(this.onItemAdded,a),this)},!1,this);return d.wait()};os.storage.IDBStorage.prototype.remove=function(a){return this.initDeferred?this.initDeferred.addCallback(goog.partial(this.removeInternal_,a),this):Modernizr.indexeddb?this.removeInternal_(a):this.getErrorDeferred(os.storage.IDBStorage.ErrorType.UNSUPPORTED)};
os.storage.IDBStorage.prototype.removeInternal_=function(a){if(this.isError())return this.getErrorDeferred(os.storage.IDBStorage.ErrorType.UNKNOWN);var b=this.db_.createTransaction([this.storeName_],goog.db.Transaction.TransactionMode.READ_WRITE);b.objectStore(this.storeName_).remove(a).addCallback(goog.partial(this.onItemRemoved,a),this);return b.wait()};os.storage.IDBStorage.prototype.deserializeItem=function(a){return a};
os.storage.IDBStorage.prototype.deserializeItems=function(a){var b=[];if(a&&0<a.length)for(var c=0,d=a.length;c<d;c++){var e=this.deserializeItem(a[c]);null!=e&&b.push(e)}return b};os.storage.IDBStorage.prototype.serializeItem=function(a){return a};os.storage.IDBStorage.prototype.onObjectStoreCleared=function(){goog.log.info(this.log,'Cleared object store "'+this.storeName_+'".')};os.storage.IDBStorage.prototype.onItemAdded=function(a){goog.log.info(this.log,'Added item "'+a+'" to the database.')};
os.storage.IDBStorage.prototype.onItemRemoved=function(a){goog.log.info(this.log,'Removed item "'+a+'" from the database.')};os.storage.IDBStorage.prototype.clear=function(){return this.initDeferred?this.initDeferred.addCallback(this.clearInternal_,this):Modernizr.indexeddb?this.clearInternal_():this.getErrorDeferred(os.storage.IDBStorage.ErrorType.UNSUPPORTED)};
os.storage.IDBStorage.prototype.clearInternal_=function(){return this.db_.createTransaction([this.storeName_],goog.db.Transaction.TransactionMode.READ_WRITE).objectStore(this.storeName_).clear().addCallback(this.onObjectStoreCleared,this)};os.storage.IDBStorage.prototype.deleteDatabase=function(){Modernizr.indexeddb&&(this.db_&&this.db_.isOpen()&&this.db_.close(),goog.db.deleteDatabase(this.dbName_,this.onDeleteDbBlocked_).addCallbacks(this.onDeleteDb_,this.onDeleteDbFail_))};
os.storage.IDBStorage.prototype.onDeleteDb_=function(){goog.log.fine(this.log,"Successfully deleted database "+this.dbName_)};os.storage.IDBStorage.prototype.onDeleteDbFail_=function(a){goog.log.error(this.log,"Error deleting database "+this.dbName_,a)};os.storage.IDBStorage.prototype.onDeleteDbBlocked_=function(){goog.log.error(this.log,"Can not delete database "+this.dbName_+" with open connections.")};os.storage.IDBStorage.prototype.isError=function(){return!this.db_&&(!this.initDeferred||this.initDeferred.hasFired())};
os.storage.IDBStorage.prototype.alertError=function(a){os.alert.AlertManager.getInstance().sendAlert(a,os.alert.AlertEventSeverity.ERROR)};os.storage.IDBStorage.prototype.getErrorDeferred=function(a){var b=this.getErrorMessage(a);a in this.errors_||(this.errors_[a]=new goog.async.Deferred,this.errors_[a].errback(b));this.alertError(b);return this.errors_[a]};
os.storage.IDBStorage.prototype.getErrorMessage=function(a){switch(a){case os.storage.IDBStorage.ErrorType.UNSUPPORTED:return os.storage.IDBStorage.NOT_SUPPORTED;default:return os.storage.IDBStorage.UNKNOWN_ERROR}};os.storage.ObjectMechanism=function(){goog.storage.mechanism.IterableMechanism.call(this);this.storage_={}};goog.inherits(os.storage.ObjectMechanism,goog.storage.mechanism.IterableMechanism);os.implements(os.storage.ObjectMechanism,os.storage.IMechanism.ID);os.storage.ObjectMechanism.prototype.set=function(a,b){this.storage_[a]=b};os.storage.ObjectMechanism.prototype.get=function(a){return this.storage_[a]};os.storage.ObjectMechanism.prototype.getAll=function(){return goog.object.getValues(this.storage_)};
os.storage.ObjectMechanism.prototype.remove=function(a){delete this.storage_[a]};os.storage.ObjectMechanism.prototype.getCount=function(){return goog.object.getCount(this.storage_)};os.storage.ObjectMechanism.prototype.clear=function(){goog.object.clear(this.storage_)};
os.storage.ObjectMechanism.prototype.__iterator__=function(a){var b=0,c=a?goog.object.getKeys(this.storage_):goog.object.getValues(this.storage_);a=new goog.iter.Iterator;a.next=function(){if(b>=c.length)throw goog.iter.StopIteration;return c[b++]};return a};os.file.FileStorage=function(a){goog.Disposable.call(this);this.log=os.file.FileStorage.LOGGER_;this.files_={};this.storage=new os.storage.IDBStorage(os.FILE_STORE_NAME,a||os.FILE_DB_NAME,os.FILE_DB_VERSION);this.storage.deserializeItem=os.file.deserializeFile;this.storage.serializeItem=os.file.serializeFile;this.storage.init().addCallbacks(this.onStorageReady_,this.onStorageError_,this)};goog.inherits(os.file.FileStorage,goog.Disposable);goog.addSingletonGetter(os.file.FileStorage);
os.file.FileStorage.LOGGER_=goog.log.getLogger("os.file.FileStorage");os.FILE_DB_NAME=os.NAMESPACE+".files";os.FILE_DB_VERSION=1;os.FILE_STORE_NAME="files";os.file.FileStorage.BASE_KEY=os.FILE_STORE_NAME;os.file.FileStorageSetting={ASK_TO_UPLOAD:os.file.FileStorage.BASE_KEY+".askToUpload",UPLOAD_LOCAL:os.file.FileStorage.BASE_KEY+".uploadLocal"};
os.file.FileStorage.prototype.disposeInternal=function(){os.file.FileStorage.superClass_.disposeInternal.call(this);goog.dispose(this.storage);this.storage=null};os.file.FileStorage.prototype.onStorageReady_=function(){this.storage.getAll().addCallbacks(this.onFilesReady_,this.onStorageError_,this)};os.file.FileStorage.prototype.onStorageError_=function(a){goog.dispose(this.storage);this.storage=new os.storage.AsyncStorageWrapper(new os.storage.ObjectMechanism,os.file.deserializeFile,os.file.serializeFile)};
os.file.FileStorage.prototype.onFilesReady_=function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b].getUrl();d&&(this.files_[d]=!0)}};os.file.FileStorage.prototype.clear=function(){return this.storage.clear().addCallback(this.onFilesCleared_,this)};
os.file.FileStorage.prototype.deleteFile=function(a){var b="string"==typeof a?a:a.getUrl();return b?this.storage.remove(b).addCallback(goog.partial(this.onFileRemoved_,b),this):(a="string"==typeof a?"undefined":a.getFileName(),b=new goog.async.Deferred,b.errback("Unable delete a file ("+a+") with a null/empty url!"),b)};os.file.FileStorage.prototype.fileExists=function(a){a="string"==typeof a?a:a.getUrl();return!!a&&null!=this.files_[a]};os.file.FileStorage.prototype.getFile=function(a){return this.storage.get(a)};
os.file.FileStorage.prototype.getFiles=function(){return this.storage.getAll()};os.file.FileStorage.prototype.isPersistent=function(){return this.storage instanceof os.storage.IDBStorage};os.file.FileStorage.prototype.setUniqueFileName=function(a){var b=a.getFileName();if(b&&this.fileExists(a)){var c=goog.string.path.extension(b);b=b.replace(new RegExp("."+c+"$"),"");var d=1;do{var e=b+"-"+d++ +"."+c;a.setFileName(e);a.setUrl(os.file.getLocalUrl(e))}while(this.fileExists(a))}};
os.file.FileStorage.prototype.storeFile=function(a,b){var c=a.getUrl();return c?this.storage.set(c,a,b).addCallback(goog.partial(this.onFileStored_,c),this):(b=new goog.async.Deferred,b.errback("Unable store a file ("+a.getFileName()+") with a null/empty url!"),b)};os.file.FileStorage.prototype.onFileStored_=function(a){a&&(this.files_[a]=!0)};os.file.FileStorage.prototype.onFileRemoved_=function(a){a&&delete this.files_[a]};os.file.FileStorage.prototype.onFilesCleared_=function(){this.files_={}};os.net.LocalFileHandler=function(){goog.events.EventTarget.call(this);this.file_=this.deferred_=null;this.statusCode=-1};goog.inherits(os.net.LocalFileHandler,goog.events.EventTarget);os.net.LocalFileHandler.prototype.errors=null;os.net.LocalFileHandler.prototype.score=0;os.net.LocalFileHandler.prototype.getErrors=function(){return this.errors};os.net.LocalFileHandler.prototype.getScore=function(){return this.score};os.net.LocalFileHandler.prototype.handles=function(a,b){return b.getScheme()==os.file.File.URL_SCHEME};
os.net.LocalFileHandler.prototype.buildRequest=function(){};os.net.LocalFileHandler.prototype.getResponse=function(){return this.file_?this.file_.getContent():null};os.net.LocalFileHandler.prototype.getResponseHeaders=function(){return null};os.net.LocalFileHandler.prototype.abort=function(){this.deferred_&&this.deferred_.cancel()};
os.net.LocalFileHandler.prototype.execute=function(a,b,c,d,e,f){this.file_=this.errors=null;a=os.file.FileStorage.getInstance();b=decodeURIComponent(b.toString());this.deferred_=a.getFile(b).addCallbacks(this.onFileReady_,this.onFileError_,this)};
os.net.LocalFileHandler.prototype.onFileReady_=function(a){this.deferred_=null;a?(this.statusCode=200,this.file_=a,this.dispatchEvent(new goog.events.Event(goog.net.EventType.SUCCESS))):(this.statusCode=404,this.errors=["File not found in local storage!"],this.dispatchEvent(new goog.events.Event(goog.net.EventType.ERROR)))};
os.net.LocalFileHandler.prototype.onFileError_=function(a){this.deferred_=null;this.errors=[];goog.isString(a)?(this.statusCode=400,this.errors.push(a)):(this.statusCode=404,this.errors.push("File not found in local storage!"));this.dispatchEvent(new goog.events.Event(goog.net.EventType.ERROR))};os.net.LocalFileHandler.prototype.getStatusCode=function(){return this.statusCode};os.net.LocalFileHandler.prototype.getHandlerType=function(){return os.net.HandlerType.LOCAL};
os.net.LocalFileHandler.prototype.isHandled=function(){return this.statusCode&&0<=this.statusCode?!0:!1};os.net.ProxyHandler=function(){os.net.SameDomainHandler.call(this);this.score=-10};goog.inherits(os.net.ProxyHandler,os.net.SameDomainHandler);os.net.ProxyHandler.LOGGER_=goog.log.getLogger("os.net.ProxyHandler");os.net.ProxyHandler.PROXY_URL="/proxy/{url}";os.net.ProxyHandler.SCHEMES=["http"];os.net.ProxyHandler.METHODS=["GET"];os.net.ProxyHandler.ENCODE=!0;
os.net.ProxyHandler.configure=function(a){a&&(goog.isDef(a.schemes)&&(os.net.ProxyHandler.SCHEMES=a.schemes),goog.isDef(a.methods)&&(os.net.ProxyHandler.METHODS=a.methods),goog.isDef(a.encode)&&(os.net.ProxyHandler.ENCODE=a.encode),goog.isDef(a.url)&&(os.net.ProxyHandler.PROXY_URL=a.url))};
os.net.ProxyHandler.prototype.handles=function(a,b){var c=os.net.ProxyHandler.PROXY_URL;if(!c||-1==c.indexOf("{url}"))return goog.log.warning(os.net.ProxyHandler.LOGGER_,"The proxy url is not set properly"),!1;c=os.net.ProxyHandler.METHODS;if(!c||-1==c.indexOf(a))return goog.log.fine(os.net.ProxyHandler.LOGGER_,"The "+a+" method is not supported by the proxy."),!1;c=os.net.ProxyHandler.SCHEMES;return c&&-1!=c.indexOf(b.getScheme())?!os.net.ProxyHandler.superClass_.handles.call(this,a,b):(goog.log.fine(os.net.ProxyHandler.LOGGER_,
"The "+b.getScheme()+" scheme is not supported by the proxy"),!1)};os.net.ProxyHandler.prototype.modUri=function(a){return os.net.ProxyHandler.getProxyUri(a)};os.net.ProxyHandler.getProxyUri=function(a){a=os.net.ProxyHandler.ENCODE?encodeURIComponent(a.toString()):a.toString();return os.net.ProxyHandler.PROXY_URL.replace("{url}",a)};os.net.ProxyHandler.prototype.getHandlerType=function(){return os.net.HandlerType.PROXY};os.net.CrossOrigin={ANONYMOUS:"anonymous",USE_CREDENTIALS:"use-credentials",NONE:"none"};os.net.crossOriginCache_=[];os.net.trustedURICache_=[];os.net.LOCAL_URI=new goog.Uri(window.location);os.net.addDefaultHandlers=function(){os.net.RequestHandlerFactory.addHandler(os.net.LocalFileHandler);os.net.RequestHandlerFactory.addHandler(os.net.SameDomainHandler);os.net.RequestHandlerFactory.addHandler(os.net.ExtDomainHandler);os.net.RequestHandlerFactory.addHandler(os.net.ProxyHandler);os.net.RequestHandlerFactory.addHandler(os.net.CredentialsHandler)};
os.net.isValidCrossOrigin=function(a){for(var b in os.net.CrossOrigin)if(a===os.net.CrossOrigin[b])return!0;return!1};os.net.loadCrossOriginCache=function(){os.net.crossOriginCache_.length=0;var a=os.settings.get("crossOrigin",{}),b=os.settings.get("userCrossOrigin",{});os.object.merge(b,a,!0);for(var c in a)b=a[c],os.net.registerCrossOrigin(b.pattern,b.value,b.priority,!0);os.net.crossOriginCache_.sort(os.net.sortCache_)};
os.net.sortCache_=function(a,b){return goog.array.defaultCompare(b.priority,a.priority)};os.net.getCrossOrigin=function(a){if(a){a=goog.isString(a)?new goog.Uri(a):a;var b=os.net.getCrossOriginInternal_(a.toString());if(b)return b;if(a.getDomain()&&!a.hasSameDomainAs(os.net.LOCAL_URI))return os.net.CrossOrigin.ANONYMOUS}return os.net.CrossOrigin.NONE};
os.net.registerCrossOrigin=function(a,b,c,d){c=c||0;os.net.crossOriginCache_.push({pattern:goog.isString(a)?new RegExp(a):a,crossOrigin:b,priority:c});d||os.net.crossOriginCache_.sort(os.net.sortCache_)};os.net.saveCrossOrigin=function(a,b,c,d){os.net.registerCrossOrigin(a,b,c,d);d=os.settings.get("userCrossOrigin",{});d[goog.string.hashCode(a)]={pattern:a,crossOrigin:b,priority:c||0};os.settings.set("userCrossOrigin",d)};
os.net.getCrossOriginInternal_=function(a){var b=os.net.crossOriginCache_;if(b)for(var c=0,d=b.length;c<d;c++)if(b[c].pattern.test(a))return b[c].crossOrigin};os.net.loadTrustedUris=function(){var a=os.settings.get("trustedUris",{}),b=os.settings.get("userTrustedUris",{});os.object.merge(b,a,!0);os.net.trustedURICache_.length=0;for(var c in a)os.net.addTrustedUri(c)};os.net.isTrustedUri=function(a){if(a){var b=os.net.trustedURICache_;if(b){var c=goog.isString(a)?a:a.toString();return b.some(function(a){return a.test(c)})}}return!1};
os.net.addTrustedUri=function(a){os.net.trustedURICache_.push(new RegExp(a))};os.net.registerTrustedUri=function(a){if(a&&(a=goog.isString(a)?a:a.toString())){os.net.addTrustedUri(a);var b=os.settings.get("userTrustedUris",{});b[a]=!0;os.settings.set("userTrustedUris",b)}};os.net.supportsBeacon=function(){return"function"==typeof navigator.sendBeacon};
os.net.sendBeacon=function(a,b,c){if(os.net.supportsBeacon())try{c&&(b=new Blob([b],{type:c})),navigator.sendBeacon(a,b)}catch(d){console.log("failed sending beacon",d)}};os.net.JsonEncFormatter=function(a,b){this.content_=a;this.replacer_=b||null};os.net.JsonEncFormatter.prototype.getContent=function(){return this.content_};os.net.JsonEncFormatter.prototype.setContent=function(a){this.content_=a};os.net.JsonEncFormatter.prototype.getContentType=function(){return"application/json;charset=UTF-8"};os.net.JsonEncFormatter.prototype.setReplacer=function(a){this.replacer_=a};os.net.JsonEncFormatter.prototype.format=function(a){return JSON.stringify(this.content_,this.replacer_)};os.metrics.MetricsEventType={RESET:"metrics:reset"};
os.metrics.Metrics=function(){goog.events.EventTarget.call(this);this.allMetrics_={};this.appName_=os.config.appNs;this.enabled_=os.settings.get("metrics.enabled",!1);this.timer_=this.metricServiceProvider_=null;this.enabled_&&(window.addEventListener(goog.events.EventType.BEFOREUNLOAD,this.onBeforeUnload_.bind(this)),this.metricServiceProvider_=this.getMetricProvider_(),this.allMetrics_=os.settings.get(os.metrics.Metrics.STORAGE_KEY)||{},this.save(),goog.events.listen(goog.dom.getDocument().body,
goog.events.EventType.CLICK,this.recordClickEvent))};goog.inherits(os.metrics.Metrics,goog.events.EventTarget);goog.addSingletonGetter(os.metrics.Metrics);os.metrics.Metrics.LOGGER_=goog.log.getLogger("os.metrics.Metrics");os.metrics.Metrics.STORAGE_KEY="metrics.values";os.metrics.Metrics.prototype.disposeInternal=function(){goog.dispose(this.storage_);this.storage_=null;goog.dispose(this.timer_);this.timer_=null};os.metrics.Metrics.prototype.isEnabled=function(){return this.enabled_};
os.metrics.Metrics.prototype.getMetricProvider_=function(){return this.metricServiceProvider_?this.metricServiceProvider_:new os.metrics.GraphiteMetricsProvider};os.metrics.Metrics.prototype.setMetricProvider=function(a){this.metricServiceProvider_=a};os.metrics.Metrics.prototype.onBeforeUnload_=function(){this.enabled_&&this.save()};
os.metrics.Metrics.prototype.save=function(a){this.enabled_?(os.settings.set(os.metrics.Metrics.STORAGE_KEY,this.allMetrics_),goog.log.info(os.metrics.Metrics.LOGGER_,"Metrics locally saved")):goog.log.warning(os.metrics.Metrics.LOGGER_,"Metrics were not saved: "+(this.enabled_?"storage not available":"not enabled"))};
os.metrics.Metrics.prototype.publish=function(){this.enabled_?(this.save(),this.getMetricProvider_().publish()):goog.log.warning(os.metrics.Metrics.LOGGER_,"Metrics were not published: "+(this.enabled_?"storage not available":"not enabled"))};
os.metrics.Metrics.prototype.reset=function(){this.enabled_?(this.allMetrics_={},this.save(),this.dispatchEvent(os.metrics.MetricsEventType.RESET),goog.log.info(os.metrics.Metrics.LOGGER_,"Metrics reset")):goog.log.warning(os.metrics.Metrics.LOGGER_,"Metrics were not reset: "+(this.enabled_?"storage not available":"not enabled"))};
os.metrics.Metrics.prototype.getMetric=function(a){var b=0;this.enabled_?(a=a.split("."),a=goog.object.getValueByKeys(this.allMetrics_,a),b=void 0===a?0:a):goog.log.fine(os.metrics.Metrics.LOGGER_,"Metrics disabled - skipped get");return b};os.metrics.Metrics.prototype.hasMetric=function(a){return this.enabled_?this.hasMetric_(a,this.allMetrics_):!1};
os.metrics.Metrics.prototype.hasMetric_=function(a,b){a=a.split(".");for(var c=a.pop().replace(os.metrics.SUB_REGEX,""),d=0;d<a.length&&(b=b[a[d]],null!=b);d++);if(b)for(var e in b)if(b.hasOwnProperty(e)&&c==e.replace(os.metrics.SUB_REGEX,""))return!0;return!1};
os.metrics.Metrics.prototype.updateMetric=function(a,b){try{if(this.enabled_&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(a))){this.metricServiceProvider_&&this.metricServiceProvider_.recordMetric(this.appName_+"."+a,b);var c=a.split("."),d=c[c.length-1],e=goog.object.getValueByKeys(this.allMetrics_,c);null!=e&&(b=os.metrics.MAX_REGEXP.test(d)?Math.max(e,b):os.metrics.MIN_REGEXP.test(d)?Math.min(e,b):e+b);if(b!=e){os.object.set(this.allMetrics_,c,b);var f=c.join(".").replace(os.metrics.SUB_REGEX,
"");this.dispatchEvent(new os.events.SettingChangeEvent(f,b))}}else goog.log.fine(os.metrics.Metrics.LOGGER_,"Metrics disabled or no key provided - skipped update")}catch(g){goog.log.error(os.metrics.Metrics.LOGGER_,"updateMetric caused un-expected exception.",g)}};
os.metrics.Metrics.prototype.recordClickEvent=function(a){try{var b=a.target,c=b.attributes.getNamedItem("metric"),d=c?c.value:null;goog.string.isEmptyOrWhitespace(goog.string.makeSafe(d))&&b.parentElement&&(d=(c=b.parentElement.attributes.getNamedItem("metric"))?c.value:null);os.metrics.Metrics.getInstance().updateMetric(d,1)}catch(e){goog.log.error(os.metrics.Metrics.LOGGER_,"recordClickEvent caused un-expected exception.",e)}};
os.metrics.METRIC_GRADIENT=[{alpha:1,color:[187,187,187],ratio:0},{alpha:1,color:[220,150,75],ratio:38.25},{alpha:1,color:[255,150,0],ratio:63.75},{alpha:1,color:[255,255,0],ratio:127.5},{alpha:1,color:[0,255,0],ratio:255}];os.metrics.SUB_DELIMITER="#";os.metrics.SUB_REGEX=new RegExp(os.metrics.SUB_DELIMITER+"(.*)");os.metrics.LOGGER_=goog.log.getLogger("os.metrics");os.metrics.MAX_REGEXP=/^max-/;os.metrics.MIN_REGEXP=/^min-/;
os.metrics.mergeMetrics=function(a,b){for(var c in a)if(c in b){var d=a[c],e=b[c],f=typeof d;if(f===typeof e)switch(f){case "object":os.metrics.mergeMetrics(d,e);break;case "number":os.metrics.MAX_REGEXP.test(c)?b[c]=Math.max(b[c]):os.metrics.MIN_REGEXP.test(c)?b[c]=Math.min(b[c]):b[c]+=a[c];break;default:goog.log.error(os.metrics.LOGGER_,'Unsupported type "'+f+'" for key "'+c+'"')}else goog.log.error(os.metrics.LOGGER_,'Incompatible types on metric merge for key "'+c+'"')}else b[c]=a[c]};os.command.AbstractLayer=function(a){goog.Disposable.call(this);this.details=null;this.isAsync=!1;this.state=os.command.State.READY;this.title="Add/Remove Layer";this.layerOptions=a||null};goog.inherits(os.command.AbstractLayer,goog.Disposable);os.command.AbstractLayer.prototype.disposeInternal=function(){os.command.AbstractLayer.superClass_.disposeInternal.call(this);this.layerOptions=null};os.command.AbstractLayer.prototype.execute=goog.abstractMethod;os.command.AbstractLayer.prototype.revert=goog.abstractMethod;
os.command.AbstractLayer.prototype.canExecute=function(){return this.state!==os.command.State.READY?(this.details="Command not in ready state.",!1):!this.layerOptions||goog.object.isEmpty(this.layerOptions)?(this.state=os.command.State.ERROR,this.details="Layer configuration not provided.",!1):"id"in this.layerOptions?"type"in this.layerOptions?!0:(this.state=os.command.State.ERROR,this.details='Field "type" must be provided in layer configuration.',!1):(this.state=os.command.State.ERROR,this.details=
'Field "id" must be provided in layer configuration.',!1)};
os.command.AbstractLayer.prototype.add=function(a){if(!a)return this.state=os.command.State.ERROR,this.details="Layer configuration not provided.",!1;a=os.layer.createFromOptions(a);if(a instanceof ol.layer.Layer){if(!os.MapContainer.getInstance().getLayer(a.getId()))return os.MapContainer.getInstance().addLayer(a),os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.AddData.ADD_LAYER_COMMAND,1),!0;this.state=os.command.State.ERROR;this.details="Layer already on the map: "+a.getTitle();return!1}this.state=
os.command.State.ERROR;this.details="Unable to create layer.";return!1};os.command.AbstractLayer.prototype.remove=function(a){if(!a||!a.id)return this.state=os.command.State.ERROR,this.details="Layer configuration not provided.",!1;os.MapContainer.getInstance().removeLayer(a.id);os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.AddData.REMOVE_LAYER_COMMAND,1);return!0};os.command.LayerRemove=function(a){os.command.AbstractLayer.call(this,a);this.title="Remove Layer"};goog.inherits(os.command.LayerRemove,os.command.AbstractLayer);os.command.LayerRemove.prototype.execute=function(){return this.canExecute()&&(this.state=os.command.State.EXECUTING,this.remove(this.layerOptions))?(this.state=os.command.State.SUCCESS,!0):!1};
os.command.LayerRemove.prototype.revert=function(){this.state=os.command.State.REVERTING;return this.add(this.layerOptions)?(this.state=os.command.State.READY,!0):!1};os.command.AbstractAsyncCommand=function(){goog.events.EventTarget.call(this);this.details=null;this.isAsync=!0;this.state=os.command.State.READY;this.title=""};goog.inherits(os.command.AbstractAsyncCommand,goog.events.EventTarget);os.command.AbstractAsyncCommand.prototype.execute=goog.abstractMethod;os.command.AbstractAsyncCommand.prototype.finish=function(a){this.detail=a||null;this.state=os.command.State.SUCCESS;this.dispatchEvent(os.command.EventType.EXECUTED);return!0};
os.command.AbstractAsyncCommand.prototype.handleError=function(a){var b=this.state==os.command.State.REVERTING?os.command.EventType.REVERTED:os.command.EventType.EXECUTED;this.state=os.command.State.ERROR;this.details=a;this.dispatchEvent(b);return!1};os.command.AbstractAsyncCommand.prototype.revert=function(){this.state=os.command.State.READY;this.details=null;this.dispatchEvent(os.command.EventType.REVERTED);return!0};os.command.ToggleCesium=function(a,b){os.command.AbstractAsyncCommand.call(this);this.state=os.command.State.READY;this.isAsync=!0;this.title="Toggle Cesium";this.details=null;this.useCesium=a;this.silent=null!=b?b:!1;this.title="Switch to "+(a?"3D":"2D")+" mode"};goog.inherits(os.command.ToggleCesium,os.command.AbstractAsyncCommand);
os.command.ToggleCesium.prototype.canSwitch=function(a){if(!a&&!this.silent){a=os.dataManager.getTotalFeatureCount();var b=os.ogc.getMaxFeatures(os.MapMode.VIEW_2D);if(a>b)return!1}return!0};
os.command.ToggleCesium.prototype.execute=function(){this.state=os.command.State.EXECUTING;var a=this.useCesium;if(this.canSwitch(a))return os.MapContainer.getInstance().setCesiumEnabled(a,this.silent),this.finish();os.MapContainer.launch2DPerformanceDialog().then(function(){os.MapContainer.getInstance().setCesiumEnabled(a,this.silent);this.finish()},function(){this.handleError(this.title+" cancelled by user.")},this);return!0};
os.command.ToggleCesium.prototype.revert=function(){this.state=os.command.State.REVERTING;var a=!this.useCesium;if(this.canSwitch(a))return os.MapContainer.getInstance().setCesiumEnabled(a,this.silent),os.command.ToggleCesium.superClass_.revert.call(this);os.MapContainer.launch2DPerformanceDialog().then(function(){os.MapContainer.getInstance().setCesiumEnabled(a,this.silent);this.state=os.command.State.READY;this.details=null;this.dispatchEvent(os.command.EventType.REVERTED)},function(){this.handleError(this.title+
" cancelled by user.")},this);return!0};os.data.ISearchable=function(){};os.structs.TriState={ON:"on",OFF:"off",BOTH:"both"};os.ui.config={};os.ui.config.settingDefaultTreeUIDirective=function(){return{restrict:"AE",replace:!0,templateUrl:os.ROOT+"views/config/defaultconfigview.html",controller:os.ui.config.SettingDefaultUICtrl,controllerAs:"settingUi"}};os.ui.Module.directive("defaultsettingui",[os.ui.config.settingDefaultTreeUIDirective]);os.ui.config.SettingDefaultUICtrl=function(){};os.structs.ITreeNode=function(){};os.structs.IStateTreeNode=function(){};os.structs.TreeNode=function(){goog.events.EventTarget.call(this);this.id_="";this.setId(os.structs.TreeNode.nodeId_.toString());os.structs.TreeNode.nodeId_++;this.children_=this.parent_=this.label_=null;this.childIdMap={}};goog.inherits(os.structs.TreeNode,goog.events.EventTarget);os.structs.TreeNode.nodeId_=0;
os.structs.TreeNode.prototype.disposeInternal=function(){os.structs.TreeNode.superClass_.disposeInternal.call(this);if(this.children_){for(var a=0,b=this.children_.length;a<b;a++){var c=this.children_[a];this.destroyChild(c);c.dispose()}this.children_=null}};os.structs.TreeNode.prototype.getId=function(){return this.id_};os.structs.TreeNode.prototype.setId=function(a){this.id_=a};os.structs.TreeNode.prototype.getLabel=function(){return this.label_};
os.structs.TreeNode.prototype.setLabel=function(a){if(a!==this.label_){var b=this.label_;this.label_=a;this.dispatchEvent(new os.events.PropertyChangeEvent("label",a,b))}};os.structs.TreeNode.prototype.getChildren=function(){return this.children_};
os.structs.TreeNode.prototype.setChildren=function(a,b){if(a!==this.children_){if(this.children_)for(var c=this.children_.length;c--;)this.removeChild(this.children_[c]);if(a){c=0;for(var d=a.length;c<d;c++)this.addChild(a[c],b)}this.dispatchEvent(new os.events.PropertyChangeEvent("children",a,null))}};os.structs.TreeNode.prototype.getParent=function(){return this.parent_};os.structs.TreeNode.prototype.setParent=function(a,b){this.parent_!==a&&(this.parent_=a)&&!b&&this.parent_.addChild(this,!0,0)};
os.structs.TreeNode.prototype.getRoot=function(){for(var a=this;a.getParent();)a=a.getParent();return a};os.structs.TreeNode.prototype.addChild=function(a,b,c){this.children_||(this.children_=[]);return this.hasChild(a)?null:(goog.array.insertAt(this.children_,a,null!=c?c:this.children_.length),this.initChild(a),b||a.setParent(this,!0),this.dispatchEvent(new os.events.PropertyChangeEvent("children",this.children_)),a)};
os.structs.TreeNode.prototype.addChildren=function(a,b){if(a){for(var c=!1,d=0,e=a.length;d<e;d++)this.addChild(a[d],b)&&(c=!0);c&&this.dispatchEvent(new os.events.PropertyChangeEvent("children",this.children_))}return[]};os.structs.TreeNode.prototype.hasChild=function(a){return a.getId()in this.childIdMap};os.structs.TreeNode.prototype.hasChildren=function(){return null!=this.children_&&0<this.children_.length};os.structs.TreeNode.prototype.index=function(a){this.childIdMap[a.getId()]=a};
os.structs.TreeNode.prototype.unindex=function(a){delete this.childIdMap[a.getId()]};os.structs.TreeNode.prototype.removeChild=function(a){return this.children_&&(a=this.children_.indexOf(a),-1<a)?this.removeChildInternal(a):null};os.structs.TreeNode.prototype.removeChildAt=function(a){return this.children_&&this.children_.length>a?this.removeChildInternal(a):null};
os.structs.TreeNode.prototype.removeChildInternal=function(a){var b=this.children_[a];b.getParent()===this&&b.setParent(null);this.children_.splice(a,1);this.destroyChild(b);0===this.children_.length&&(this.children_=null);this.dispatchEvent(new os.events.PropertyChangeEvent("children",this.children_));return b};
os.structs.TreeNode.prototype.find=function(a,b){if(a in this&&this[a]==b)return this;var c;if(this.children_)for(var d=0,e=this.children_.length;d<e;d++)if(c=this.children_[d].find(a,b))return c;return null};os.structs.TreeNode.prototype.initChild=function(a){this.index(a);a.listen(goog.events.EventType.PROPERTYCHANGE,this.onChildChange,!1,this)};os.structs.TreeNode.prototype.destroyChild=function(a){this.unindex(a);a.unlisten(goog.events.EventType.PROPERTYCHANGE,this.onChildChange,!1,this)};
os.structs.TreeNode.prototype.onChildChange=function(a){a=a.getProperty();"children"!=a&&"label"!=a||this.dispatchEvent(new os.events.PropertyChangeEvent(a))};os.structs.TreeNode.prototype.clone=function(){var a=new this.constructor;a.updateFrom(this);return a};os.structs.TreeNode.prototype.updateFrom=function(a){this.setId(a.getId());this.setLabel(a.getLabel())};os.structs.TreeNode.prototype.hasElder=function(a){var b=this.getParent();return b&&b==a?!0:b?b.hasElder(a):!1};
os.structs.getLeafNodes=function(a){var b=a.getChildren();if(b&&0<b.length){a=[];for(var c=0;c<b.length;c++){var d=b[c];d&&a.push(os.structs.getLeafNodes(d))}return goog.array.flatten(a)}return a};os.structs.TriStateTreeNode=function(){os.structs.TreeNode.call(this);this.state_=os.structs.TriState.OFF;this.setState(os.structs.TriState.OFF);this.counts_={};this.counts_[os.structs.TriState.ON]=0;this.counts_[os.structs.TriState.OFF]=0;this.counts_[os.structs.TriState.BOTH]=0;this.updating_=!1;this.bubbleState=!0;this.disabled_=!1};goog.inherits(os.structs.TriStateTreeNode,os.structs.TreeNode);os.structs.TriStateTreeNode.prototype.getBubbleState=function(){return this.bubbleState};
os.structs.TriStateTreeNode.prototype.setBubbleState=function(a){this.bubbleState=a};os.structs.TriStateTreeNode.prototype.getState=function(){return this.state_};os.structs.TriStateTreeNode.prototype.setState=function(a){if(a!==this.state_){var b=this.state_;switch(a){case os.structs.TriState.OFF:case os.structs.TriState.ON:case os.structs.TriState.BOTH:this.state_=a,this.bubbleState&&!this.updating_&&this.updateChildren(),this.dispatchEvent(new os.events.PropertyChangeEvent("state",a,b))}}};
os.structs.TriStateTreeNode.prototype.initChild=function(a){this.bubbleState&&(this.counts_[a.getState()]++,this.updateFromCounts_());os.structs.TriStateTreeNode.superClass_.initChild.call(this,a)};os.structs.TriStateTreeNode.prototype.destroyChild=function(a){this.bubbleState&&(this.counts_[a.getState()]--,this.updateFromCounts_());os.structs.TriStateTreeNode.superClass_.destroyChild.call(this,a)};
os.structs.TriStateTreeNode.prototype.onChildChange=function(a){this.bubbleState&&"state"==a.getProperty()&&!this.updating_&&(this.counts_[a.getOldValue()]--,this.counts_[a.getNewValue()]++,this.updateFromCounts_());os.structs.TriStateTreeNode.superClass_.onChildChange.call(this,a)};
os.structs.TriStateTreeNode.prototype.updateFromCounts_=function(){var a=(this.getChildren()||[]).length;this.updating_=!0;0<a?this.counts_[os.structs.TriState.ON]>=a?this.setState(os.structs.TriState.ON):this.counts_[os.structs.TriState.OFF]>=a?this.setState(os.structs.TriState.OFF):this.setState(os.structs.TriState.BOTH):this.setState(os.structs.TriState.OFF);this.updating_=!1};
os.structs.TriStateTreeNode.prototype.updateChildren=function(){this.updating_=!0;if(this.getState()!==os.structs.TriState.BOTH){var a=this.getChildren(),b=this.getState();this.counts_[os.structs.TriState.OFF]=0;this.counts_[os.structs.TriState.ON]=0;this.counts_[os.structs.TriState.BOTH]=0;if(a){for(var c=a.length;c--;)this.updateChild(a[c],b);this.counts_[b]=a.length}}this.updating_=!1};os.structs.TriStateTreeNode.prototype.updateChild=function(a,b){a.setState(b)};
os.structs.TriStateTreeNode.prototype.getCheckboxDisabled=function(){return this.disabled_};os.structs.TriStateTreeNode.prototype.setCheckboxDisabled=function(a){this.disabled_=a};os.structs.TriStateTreeNode.prototype.updateFrom=function(a){this.setState(a.getState());os.structs.TriStateTreeNode.superClass_.updateFrom.call(this,a)};os.ui.nodeIconsDirective=function(){return{restrict:"E",template:'<span class="tree-icons"></span>',controller:os.ui.NodeIconsCtrl,controllerAs:"nodeicons"}};os.ui.Module.directive("nodeicons",[os.ui.nodeIconsDirective]);os.ui.NodeIconsCtrl=function(a,b,c){this.scope_=a;this.element_=b;this.compile_=c;"item"in this.scope_&&(b=this.scope_.item,"getIcons"in this.scope_.item&&(b.listen(goog.events.EventType.PROPERTYCHANGE,this.onPropertyChange_,!1,this),this.updateIcons_()));a.$on("$destroy",this.destroy_.bind(this))};
os.ui.NodeIconsCtrl.DEFAULT_CONTENT_="&nbsp;";os.ui.NodeIconsCtrl.prototype.destroy_=function(){this.scope_&&(this.scope_.item.unlisten(goog.events.EventType.PROPERTYCHANGE,this.onPropertyChange_,!1,this),this.compile_=this.element_=this.scope_=null)};os.ui.NodeIconsCtrl.prototype.onPropertyChange_=function(a){"icons"==a.getProperty()&&this.updateIcons_()};
os.ui.NodeIconsCtrl.prototype.updateIcons_=function(){if(this.scope_&&this.element_){var a=this.element_.find(".tree-icons"),b=this.scope_.item.getIcons()||os.ui.NodeIconsCtrl.DEFAULT_CONTENT_;a.html(b);this.compile_(a.contents())(this.scope_)}};os.ui.nodeSpinnerDirective=function(){return{restrict:"AE",replace:!0,template:'<span ng-show="item.isLoading()" class="middle ng-hide"><i class="fa fa-fw" ng-class="spinClass" title="Loading..."></i></span>',controller:os.ui.NodeSpinnerCtrl,controllerAs:"spin"}};os.ui.Module.directive("nodespinner",[os.ui.nodeSpinnerDirective]);
os.ui.NodeSpinnerCtrl=function(a,b){this.scope_=a;a.spinClass||(a.spinClass=os.ui.NodeSpinnerCtrl.DEFAULT_CLASS);"item"in this.scope_&&(a=this.scope_.item,"isLoading"in this.scope_.item&&a.listen(goog.events.EventType.PROPERTYCHANGE,this.onPropertyChange_,!1,this));this.scope_.$on("$destroy",this.onDestroy_.bind(this))};os.ui.NodeSpinnerCtrl.DEFAULT_CLASS="fa-spin fa-spinner";
os.ui.NodeSpinnerCtrl.prototype.onDestroy_=function(){this.scope_&&(this.scope_.item.unlisten(goog.events.EventType.PROPERTYCHANGE,this.onPropertyChange_,!1,this),this.scope_=null)};os.ui.NodeSpinnerCtrl.prototype.onPropertyChange_=function(a){"loading"==a.getProperty()&&os.ui.apply(this.scope_)};os.ui.nodeToggleDirective=function(){return{restrict:"AE",replace:!0,template:"<i class=\"tree-expand-collapse fa fa-fw action\" ng-class=\"{'fa-caret-right': item.collapsed, 'fa-caret-down': !item.collapsed}\"></i>",controller:os.ui.NodeToggleCtrl,controllerAs:"toggle"}};os.ui.Module.directive("nodetoggle",[os.ui.nodeToggleDirective]);
os.ui.NodeToggleCtrl=function(a,b){this.scope_=a;this.element_=b;this.scope_.item instanceof os.ui.slick.SlickTreeNode&&(this.scope_.item.listen(goog.events.EventType.PROPERTYCHANGE,this.onPropertyChange,!1,this),this.updateOpacity());this.scope_.$on("$destroy",this.onDestroy_.bind(this))};os.ui.NodeToggleCtrl.prototype.onDestroy_=function(){this.scope_&&this.scope_.item.unlisten(goog.events.EventType.PROPERTYCHANGE,this.onPropertyChange,!1,this);this.element_=this.scope_=null};
os.ui.NodeToggleCtrl.prototype.onPropertyChange=function(a){"children"==a.getProperty()&&this.updateOpacity()};os.ui.NodeToggleCtrl.prototype.updateOpacity=function(){var a=this.scope_.item.getChildren();this.element_.css("opacity",a&&0<a.length?"1":"0")};os.ui.triStateCheckboxDirective=function(){return{restrict:"AE",replace:!0,template:'<span ng-class="chkClass + \' \' + chkClass + \'-\' + item.state"ng-click="checkCtrl.toggle($event)" ng-dblclick="checkCtrl.onDblClick($event)" title="{{chkTooltip}}"><label></label></span>',controller:os.ui.TriStateCheckboxCtrl,controllerAs:"checkCtrl"}};os.ui.Module.directive("tristatecheckbox",[os.ui.triStateCheckboxDirective]);
os.ui.TriStateCheckboxCtrl=function(a,b){this.scope_=a;this.element_=b;this.getDisabled_(this.scope_.item)&&b.addClass("disabled");a.$on("$destroy",this.destroy_.bind(this))};os.ui.TriStateCheckboxCtrl.prototype.destroy_=function(){this.element_=this.scope_=null};os.ui.TriStateCheckboxCtrl.prototype.toggle=function(a){if(this.scope_){var b=this.scope_.item;this.getDisabled_(b)||(b.setState(b.getState()==os.structs.TriState.OFF?os.structs.TriState.ON:os.structs.TriState.OFF),this.notifyDirty_());a.stopPropagation()}};
goog.exportProperty(os.ui.TriStateCheckboxCtrl.prototype,"toggle",os.ui.TriStateCheckboxCtrl.prototype.toggle);os.ui.TriStateCheckboxCtrl.prototype.onDblClick=function(a){this.element_.hasClass("disabled")||a.stopPropagation()};goog.exportProperty(os.ui.TriStateCheckboxCtrl.prototype,"onDblClick",os.ui.TriStateCheckboxCtrl.prototype.onDblClick);os.ui.TriStateCheckboxCtrl.prototype.getDisabled_=function(a){return!!a&&(a.getCheckboxDisabled()||this.scope_.disableFolders&&a.hasChildren())};
os.ui.TriStateCheckboxCtrl.prototype.notifyDirty_=function(){this.scope_&&(this.scope_.$emit("dirty"),os.ui.apply(this.scope_))};os.ui.WINDOW_LAUNCHER_TEMPLATE='<button ng-click="launchCtrl.click($event)" title="{{chkTooltip}}" class="btn btn-mini window-launch"><i ng-class="winLauncherClass"></i></button>';os.ui.windowLauncherDirective=function(){return{restrict:"AE",replace:!0,template:os.ui.WINDOW_LAUNCHER_TEMPLATE,controller:os.ui.WindowLauncherCtrl,controllerAs:"launchCtrl"}};os.ui.Module.directive("windowlauncher",[os.ui.windowLauncherDirective]);os.ui.WindowLauncherCtrl=function(a){this.scope_=a;a.$on("$destroy",this.destroy_.bind(this))};
os.ui.WindowLauncherCtrl.prototype.destroy_=function(){this.scope_=null};os.ui.WindowLauncherCtrl.prototype.click=function(a){this.scope_&&this.scope_.item.getDescriptor().setActive(!0)};goog.exportProperty(os.ui.WindowLauncherCtrl.prototype,"click",os.ui.WindowLauncherCtrl.prototype.click);os.ui.slick={};os.ui.slick.SlickTreeNode=function(){os.structs.TriStateTreeNode.call(this);this.saveCollapsed=this.collapsed=!0;this.parentIndex=-1;this.depth=0;this.internalDrag=!1;this.nodeUI=this.tooltip_="";this.childrenAllowed=this.nodetoggleVisible_=this.checkboxVisible_=!0;this.checkboxTooltip=this.checkboxClass=null;this.winLauncherVisible=!1;this.winLauncherClass=null;this.bold=!0;this.disableFolder_=!1};goog.inherits(os.ui.slick.SlickTreeNode,os.structs.TriStateTreeNode);
os.ui.slick.SlickTreeNode.MOVE_MODE={SIBLING:"sibling",REPARENT:"reparent",REPARENT_TO_ROOT:"reparentToRoot",REPARENT_LOOKUP_PARENT:"reparentLookupParent"};os.ui.slick.SlickTreeNode.prototype.setLabel=function(a){os.ui.slick.SlickTreeNode.superClass_.setLabel.call(this,a);this.label=this.getLabel()};os.ui.slick.SlickTreeNode.prototype.setState=function(a){this.setStateInternal(a)};
os.ui.slick.SlickTreeNode.prototype.setStateInternal=function(a){os.ui.slick.SlickTreeNode.superClass_.setState.call(this,a);this.state=this.getState()};os.ui.slick.SlickTreeNode.prototype.getToolTip=function(){return this.tooltip_};os.ui.slick.SlickTreeNode.prototype.setToolTip=function(a){this.tooltip_=a||""};os.ui.slick.SlickTreeNode.prototype.getCheckboxVisible=function(){return this.checkboxVisible_};os.ui.slick.SlickTreeNode.prototype.getNodetoggleVisible=function(){return this.nodetoggleVisible_};
os.ui.slick.SlickTreeNode.prototype.getNodeUI=function(){return this.nodeUI};os.ui.slick.SlickTreeNode.prototype.setNodeUI=function(a){this.nodeUI=a};os.ui.slick.SlickTreeNode.prototype.setCheckboxVisible=function(a){if(a!==this.checkboxVisible_){var b=this.checkboxVisible_;this.checkboxVisible_=a;this.dispatchEvent(new os.events.PropertyChangeEvent("checkboxVisible",a,b))}};
os.ui.slick.SlickTreeNode.prototype.setNodetoggleVisible=function(a){if(a!==this.nodetoggleVisible_){var b=this.nodetoggleVisible_;this.nodetoggleVisible_=a;this.dispatchEvent(new os.events.PropertyChangeEvent("nodetoggleVisible",a,b))}};
os.ui.slick.SlickTreeNode.prototype.format=function(a,b,c){if(!goog.isDefAndNotNull(c))return"";a=this.formatNodeUI();a+=this.getSpacer(15*this.depth);this.nodetoggleVisible_&&(a+="<nodetoggle></nodetoggle>");this.checkboxVisible_&&(a+=this.formatCheckbox(),a+=this.getSpacer());this.winLauncherVisible&&(a+=this.formatWinLauncher(),a+=this.getSpacer());return a=a+"<nodespinner></nodespinner><nodeicons></nodeicons>"+this.formatValue(c)};os.ui.slick.SlickTreeNode.prototype.formatCheckbox=function(){return"<tristatecheckbox></tristatecheckbox>"};
os.ui.slick.SlickTreeNode.prototype.formatWinLauncher=function(){return"<windowlauncher></windowlauncher>"};os.ui.slick.SlickTreeNode.prototype.getSpacer=function(a,b){goog.isDefAndNotNull(a)||(a=2);goog.isDefAndNotNull(b)||(b="px");return'<span class="tree-spacer" style="width:'+a+b+'"></span>'};
os.ui.slick.SlickTreeNode.prototype.formatValue=function(a){var b='<span title="'+os.ui.sanitize(this.getToolTip()).replace(/<.*?>/g,"").replace(/"/g,"'")+'">';this.bold&&-1==this.parentIndex&&(b+="<b>");b+=os.ui.sanitize(a);this.bold&&-1==this.parentIndex&&(b+="</b>");return b+"</span>"};os.ui.slick.SlickTreeNode.prototype.getIcons=function(){return this.formatIcons()};goog.exportProperty(os.ui.slick.SlickTreeNode.prototype,"getIcons",os.ui.slick.SlickTreeNode.prototype.getIcons);
os.ui.slick.SlickTreeNode.prototype.formatIcons=function(){return"&nbsp;"};os.ui.slick.SlickTreeNode.prototype.formatNodeUI=function(){return this.nodeUI};os.ui.slick.SlickTreeNode.prototype.onMouseEnter=function(){};os.ui.slick.SlickTreeNode.prototype.onMouseLeave=function(){};os.ui.slick.SlickTreeNode.prototype.performAction=function(a){};
os.ui.slick.SlickTreeNode.prototype.updateFrom=function(a){this.collapsed=a.collapsed;this.setToolTip(a.getToolTip());this.setCheckboxVisible(a.getCheckboxVisible());this.winLauncherVisible=a.winLauncherVisible;this.winLauncherClass=a.winLauncherClass;this.checkboxTooltip=a.checkboxTooltip;os.ui.slick.SlickTreeNode.superClass_.updateFrom.call(this,a)};os.ui.slick.SlickTreeNode.prototype.isChildAllowed=function(){return this.childrenAllowed};os.ui.slick.SlickTreeNode.prototype.getDepth=function(){return this.depth};
os.ui.slick.SlickTreeNode.prototype.supportsInternalDrag=function(){return this.internalDrag};os.ui.slick.SlickTreeNode.prototype.canDropInternal=function(a,b){return!1};os.ui.slick.SlickTreeNode.prototype.isCollapsed=function(){return this.collapsed};os.ui.slick.SlickTreeNode.prototype.setCollapsed=function(a,b){this.collapsed=a;this.dispatchEvent(new os.events.PropertyChangeEvent("collapsed",a,!a));if(b&&(b=this.getChildren()))for(var c=0;c<b.length;c++)b[c].setCollapsed(a,!0)};
os.ui.slick.SlickTreeNode.prototype.getParentIndex=function(){return this.parentIndex};os.ui.slick.SlickTreeNode.prototype.getDisableFolder=function(){return this.disableFolder_};os.ui.slick.SlickTreeNode.prototype.setDisableFolder=function(a){this.disableFolder_=a};os.ui.config.SettingNode=function(){os.ui.slick.SlickTreeNode.call(this);this.settingPlugin_=null};goog.inherits(os.ui.config.SettingNode,os.ui.slick.SlickTreeNode);os.ui.config.SettingNode.prototype.disposeInternal=function(){os.ui.config.SettingNode.superClass_.disposeInternal.call(this);this.settingPlugin_=null};
os.ui.config.SettingNode.prototype.getSearchText=function(){var a="";this.settingPlugin_&&(a+=this.settingPlugin_.getLabel(),a+=this.getTags()?" "+this.getTags().join(" "):"",a+=" "+this.settingPlugin_.getCategories().join(" "));return a};os.ui.config.SettingNode.prototype.getTags=function(){return this.settingPlugin_&&this.settingPlugin_.getTags()||null};os.ui.config.SettingNode.prototype.getCheckboxVisible=function(){return!1};os.ui.config.SettingNode.prototype.getModel=function(){return this.settingPlugin_};
os.ui.config.SettingNode.prototype.setModel=function(a){if(this.settingPlugin_=a)this.setId(this.settingPlugin_.getId()),this.setLabel(this.settingPlugin_.getLabel()),this.setState(os.structs.TriState.ON),this.setCheckboxVisible(!1),this.setToolTip(this.settingPlugin_.getDescription())};os.ui.config.SettingNode.prototype.formatIcons=function(){var a=null;this.settingPlugin_&&(a=this.settingPlugin_.getIcon());return a?a:os.ui.config.SettingNode.superClass_.formatIcons.call(this)};os.ui.config.SettingPlugin=function(){this.treeLeaf=null;this.label="Change Me!";this.categories=[];this.description="";this.tags=[];this.icon="";this.ui=null};goog.inherits(os.ui.config.SettingPlugin,goog.Disposable);os.ui.config.SettingPlugin.DEFAULT_ICON='<i class="fa fa-gear"></i>';os.ui.config.SettingPlugin.prototype.disposeInternal=function(){os.ui.config.SettingPlugin.superClass_.disposeInternal.call(this);goog.dispose(this.treeLeaf);this.treeLeaf=null};
os.ui.config.SettingPlugin.prototype.getId=function(){return((0<this.categories.length?this.categories.join(".")+".":"")+this.label).replace(" ","_").toLowerCase()};os.ui.config.SettingPlugin.prototype.getLeafNode=function(){this.treeLeaf||(this.treeLeaf=new os.ui.config.SettingNode,this.treeLeaf.setModel(this),this.treeLeaf.collapsed=!1);return this.treeLeaf};os.ui.config.SettingPlugin.prototype.getCategories=function(){return this.categories};
os.ui.config.SettingPlugin.prototype.setCategories=function(a){this.categories=a};os.ui.config.SettingPlugin.prototype.getDescription=function(){return this.description};os.ui.config.SettingPlugin.prototype.setDescription=function(a){this.description=a};os.ui.config.SettingPlugin.prototype.getIcon=function(){return this.icon||os.ui.config.SettingPlugin.DEFAULT_ICON};os.ui.config.SettingPlugin.prototype.setIcon=function(a,b){this.icon=b?a:goog.string.buildString('<i class="',a,'"></i> ')};
os.ui.config.SettingPlugin.prototype.getLabel=function(){return this.label};os.ui.config.SettingPlugin.prototype.setLabel=function(a){this.label=a};os.ui.config.SettingPlugin.prototype.getTags=function(){return this.tags};os.ui.config.SettingPlugin.prototype.setTags=function(a){this.tags=a};os.ui.config.SettingPlugin.prototype.getUI=function(){return this.ui};os.ui.config.SettingPlugin.prototype.setUI=function(a){this.ui=a};os.ui.location={};os.ui.location.LOGGER_=goog.log.getLogger("os.ui.location");os.ui.location.Format={DEG:"deg",DMS:"dms",MGRS:"mgrs"};os.ui.location.LocationSetting={POSITION:"locationFormat",POSITIONOLD:"os.map.mousePosition"};os.ui.location.getCurrentFormat=function(){return os.settings.get(os.ui.location.LocationSetting.POSITION,os.ui.location.Format.DEG)};
os.ui.location.formatAsCurrent=function(a,b){a=parseFloat(a);b=parseFloat(b);var c=os.ui.location.getCurrentFormat();try{var d=os.ui.injector.get("$filter");return d(c)(a,b)}catch(e){goog.isDef(d)?goog.isDef(os.ui.injector)?goog.log.warning(os.ui.location.LOGGER_,"Unknown error trying to use formatter!"):goog.log.warning(os.ui.location.LOGGER_,"os.ui.injector service never defined!"):goog.log.warning(os.ui.location.LOGGER_,"$filter service unavailable!")}return a+"\u00b0  "+b+"\u00b0"};os.ui.location.degFilter=function(){return os.ui.location.degFilter.Filter};os.ui.location.degFilter.Filter=function(a,b){return a.toFixed(5)+"\u00b0  "+b.toFixed(5)+"\u00b0"};os.ui.Module.filter("deg",[os.ui.location.degFilter]);os.ui.location.degLatFilter=function(){return os.ui.location.degLatFilter.Filter};os.ui.location.degLatFilter.Filter=function(a){return a+"\u00b0"};os.ui.Module.filter("deglat",[os.ui.location.degLatFilter]);os.ui.location.degLonFilter=function(){return os.ui.location.degLonFilter.Filter};
os.ui.location.degLonFilter.Filter=function(a){return a+"\u00b0"};os.ui.Module.filter("deglon",[os.ui.location.degLonFilter]);os.ui.location.dmsFilter=function(){return os.ui.location.dmsFilter.Filter};os.ui.location.dmsFilter.Filter=function(a,b){return os.geo.toSexagesimal(a,!1,!1)+" "+os.geo.toSexagesimal(b,!0,!1)};os.ui.Module.filter("dms",[os.ui.location.dmsFilter]);os.ui.location.dmsLatFilter=function(){return os.ui.location.dmsLatFilter.Filter};
os.ui.location.dmsLatFilter.Filter=function(a){return os.geo.toSexagesimal(a,!1,!1)};os.ui.Module.filter("dmslat",[os.ui.location.dmsLatFilter]);os.ui.location.dmsLonFilter=function(){return os.ui.location.dmsLonFilter.Filter};os.ui.location.dmsLonFilter.Filter=function(a){return os.geo.toSexagesimal(a,!0,!1)};os.ui.Module.filter("dmslon",[os.ui.location.dmsLonFilter]);os.ui.location.mgrsFilter=function(){return os.ui.location.mgrsFilter.Filter};
os.ui.location.mgrsFilter.Filter=function(a,b){return osasm.toMGRS([b,a])};os.ui.Module.filter("mgrs",[os.ui.location.mgrsFilter]);os.ui.location.SimpleLocationCtrl=function(a,b){this.scope_=a;this.filter_=b;this.location="";this.currentFormat=os.ui.location.getCurrentFormat();this.updateDelay_=new goog.async.Delay(this.format,25,this);this.scope_.$on("$destroy",this.destroy_.bind(this));this.scope_.$watch("latdeg",this.onLatLonChange_.bind(this));this.scope_.$watch("londeg",this.onLatLonChange_.bind(this));os.settings.listen(os.ui.location.LocationSetting.POSITION,this.locationChanged,!1,this)};
os.ui.location.SimpleLocationCtrl.prototype.destroy_=function(){goog.dispose(this.updateDelay_);this.filter_=this.scope_=this.updateDelay_=null};os.ui.location.SimpleLocationCtrl.prototype.onLatLonChange_=function(){this.updateDelay_&&this.updateDelay_.start()};
os.ui.location.SimpleLocationCtrl.prototype.format=function(a){if(this.scope_&&void 0!=this.scope_.latdeg&&void 0!=this.scope_.londeg){this.currentFormat=a||os.ui.location.getCurrentFormat();a=this.filter_(this.currentFormat);var b=this.scope_.latdeg,c=this.scope_.londeg;(goog.isNumber(b)||goog.isString(b))&&(goog.isNumber(c)||goog.isString(c))?this.location=a(this.scope_.latdeg,this.scope_.londeg).replace(/\u00b0/g,"&deg;"):this.location="";if(this.scope_.onchange)this.scope_.onchange();os.ui.apply(this.scope_)}};
goog.exportProperty(os.ui.location.SimpleLocationCtrl.prototype,"format",os.ui.location.SimpleLocationCtrl.prototype.format);os.ui.location.SimpleLocationCtrl.prototype.locationChanged=function(a){a.newVal&&this.format(a.newVal)};goog.exportProperty(os.ui.location.SimpleLocationCtrl.prototype,"locationChanged",os.ui.location.SimpleLocationCtrl.prototype.locationChanged);
os.ui.location.SimpleLocationDirective=function(){return{restrict:"EA",template:os.ui.location.SimpleLocationDirective.template_,controller:os.ui.location.SimpleLocationCtrl,controllerAs:"simpleLocationCtrl",scope:{latdeg:"=",londeg:"=",onchange:"&"}}};os.ui.location.SimpleLocationDirective.ID="simpleLocation";os.ui.Module.directive(os.ui.location.SimpleLocationDirective.ID,[os.ui.location.SimpleLocationDirective]);os.ui.location.SimpleLocationDirective.template_='<div class="simple-loc"><simple-location-controls format-default="simpleLocationCtrl.currentFormat" on-change="simpleLocationCtrl.format(opt_format)"></simple-location-controls><span class="simple-loc-location selectable" ng-bind-html="simpleLocationCtrl.location"></span></div>';
os.ui.location.SimpleLocationControlsCtrl=function(a){this.scope_=a;this.change_=this.scope_.change;this.format=os.ui.location.getCurrentFormat();this.scope_.$on("$destroy",this.destroy_.bind(this));this.scope_.$watch("formatDefault",goog.bind(function(a){this.format=a},this));this.scope_.$watch("simpleLocationControlsCtrl.format",goog.bind(function(a){this.formatChanged(a)},this));os.settings.listen(os.ui.location.LocationSetting.POSITION,this.locationControlChanged,!1,this)};
os.ui.location.SimpleLocationControlsCtrl.prototype.formatChanged=function(a){this.change_({opt_format:a});os.ui.apply(this.scope_)};os.ui.location.SimpleLocationControlsCtrl.prototype.locationControlChanged=function(a){a.newVal&&this.formatChanged(a.newVal)};goog.exportProperty(os.ui.location.SimpleLocationControlsCtrl.prototype,"locationControlChanged",os.ui.location.SimpleLocationControlsCtrl.prototype.locationControlChanged);
os.ui.location.SimpleLocationControlsCtrl.prototype.destroy_=function(){this.scope_=null};os.ui.location.SimpleLocationControlsDirective=function(){return{restrict:"E",replace:!0,templateUrl:os.ROOT+"views/location/simplelocation.html",controller:os.ui.location.SimpleLocationControlsCtrl,controllerAs:"simpleLocationControlsCtrl",scope:{formatDefault:"=",change:"&onChange",formatGroup:"&"}}};os.ui.location.SimpleLocationControlsDirective.ID="simpleLocationControls";
os.ui.Module.directive(os.ui.location.SimpleLocationControlsDirective.ID,os.ui.location.SimpleLocationControlsDirective);os.url={};os.url.MAILTO_REGEXP=/^mailto:/;os.url.URL_REGEXP=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/;os.url.URL_REGEXP_LINKY=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,{}<>]/;os.url.queryDataToObject=function(a,b){var c=b||{};a&&a.toString().split("&").forEach(function(a){a=a.split("=");2==a.length&&(c[a[0]]=decodeURIComponent(a[1]))});return c};os.string={};os.string.BOOLEAN=/^(true|false)$/i;os.string.HEX=/^(0x)?[0-9A-Fa-f]+$/;os.string.FLOAT=/^[+-]?\d+(\.\d*)?(E[+-]\d+)?$/;os.string.EMAIL=/^\s*[^@,; ]+@[^@,; ]+\.[^@,; ]+\s*(\s*,\s*[^@,; ]+@[^@,; ]+\.[^@,; ]+)*\s*$/;os.string.isBoolean=function(a){return os.string.BOOLEAN.test(a)};os.string.isFloat=function(a){return os.string.FLOAT.test(a)};os.string.isHex=function(a){return os.string.HEX.test(a)};
os.string.linkify=function(a,b,c,d,e){var f=function(a){a&&k.push(a)},g=function(a,g){k.push("<a ");c&&(k.push('class="'),k.push(c),k.push('" '));d&&(k.push('title="'),k.push(d),k.push('" '));b&&(k.push('target="'),k.push(b),k.push('" '));k.push('href="');k.push(a);k.push('">');f(e?e:g);k.push("</a>")};if(!a)return a;for(var h=a,k=[],l,m;a=h.match(os.url.URL_REGEXP_LINKY);)l=a[0],a[2]==a[3]&&(l="mailto:"+l),m=a.index,f(h.substr(0,m)),g(l,a[0].replace(os.url.MAILTO_REGEXP,"")),h=h.substring(m+a[0].length);
f(h);return k.join("")};os.string.split=function(a,b,c){c=c||[",",";","\t","\n"," "];b=!!b;if(a){a=goog.string.trim(a);var d=0;for(var e=c.length;d<e;d++)if(goog.string.contains(a,c[d])){var f=c[d];break}b&&" "!==f&&(a=goog.string.removeAll(a," "));d=f?a.split(f):[a];d=goog.array.filter(d,function(a){return!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(a))})}return d||[]};os.ui.util={};os.ui.util.LinkyFilter={};os.ui.util.linkyFilter=function(a){return function(b,c){return a(os.string.linkify(b,c))}};os.ui.Module.filter("osLinky",["$sanitize",os.ui.util.linkyFilter]);os.config.DisplaySettings=function(){os.ui.config.SettingPlugin.call(this);this.setLabel("Display");this.setCategories(["Map"]);this.setDescription("Start application in 2D or 3D mode");this.setTags(["2D","3D","Dimension"]);this.setIcon("fa fa-dashboard");this.setUI("displaysettings")};goog.inherits(os.config.DisplaySettings,os.ui.config.SettingPlugin);os.config.DisplaySettings.BASE_KEY="os.map.";
os.config.DisplaySetting={CAMERA_STATE:os.config.DisplaySettings.BASE_KEY+"cameraState",CAMERA_MODE:os.config.DisplaySettings.BASE_KEY+"cameraMode",MAP_MODE:os.config.DisplaySettings.BASE_KEY+"mapMode",FOG_ENABLED:os.config.DisplaySettings.BASE_KEY+"fogEnabled",FOG_DENSITY:os.config.DisplaySettings.BASE_KEY+"fogDensity",ENABLE_LIGHTING:os.config.DisplaySettings.BASE_KEY+"enableLighting"};
os.config.displaySettingsDirective=function(){return{restrict:"AE",replace:!0,templateUrl:os.ROOT+"views/config/displaysettings.html",controller:os.config.DisplaySettingsCtrl,controllerAs:"display"}};os.ui.Module.directive("displaysettings",[os.config.displaySettingsDirective]);
os.config.DisplaySettingsCtrl=function(a){this.scope_=a;a.appName=os.config.getAppName("the application");this.help={fog:"Fog is displayed when tilting the globe to reduce rendered tiles and terrain near the horizon. Disabling fog or reducing density may degrade application performance.",sunlight:"Light the 3D scene with the Sun."};os.settings.listen(os.config.DisplaySetting.CAMERA_STATE,this.onCameraStateChange_,!1,this);os.settings.listen(os.config.DisplaySetting.MAP_MODE,this.onMapModeChange_,
!1,this);os.settings.listen(os.config.DisplaySetting.ENABLE_LIGHTING,this.onSunlightChange_,!1,this);this.ignoreSettingsEvents_=!1;this.mapMode=os.settings.get(os.config.DisplaySetting.MAP_MODE,os.MapMode.VIEW_3D);this.scope_.$watch("display.mapMode",this.updateMapMode_.bind(this));var b=os.settings.get(os.config.DisplaySetting.CAMERA_STATE);if(b)try{var c=JSON.parse(b)}catch(d){c=void 0}this.cameraMode=os.settings.get(os.config.DisplaySetting.CAMERA_MODE,os.CameraMode.DEFAULT);this.scope_.$watch("display.cameraMode",
this.updateCameraMode_.bind(this));this.cameraState=c||this.getDefaultCameraState_();this.fogEnabled=os.settings.get(os.config.DisplaySetting.FOG_ENABLED,!0);this.fogDensity=os.settings.get(os.config.DisplaySetting.FOG_DENSITY,os.olcs.DEFAULT_FOG_DENSITY)/os.olcs.MAX_FOG_DENSITY;this.sunlightEnabled=os.settings.get(os.config.DisplaySetting.ENABLE_LIGHTING,!1);a.$watch("display.fogEnabled",this.updateFog.bind(this));a.$watch("display.fogDensity",this.updateFog.bind(this));this.update3DSupport_();a.$on("$destroy",
this.destroy_.bind(this))};os.config.DisplaySettingsCtrl.prototype.destroy_=function(){os.settings.unlisten(os.config.DisplaySetting.CAMERA_STATE,this.onCameraStateChange_,!1,this);os.settings.unlisten(os.config.DisplaySetting.MAP_MODE,this.onMapModeChange_,!1,this);this.scope_=null};os.config.DisplaySettingsCtrl.prototype.updateSetting_=function(a,b){os.settings&&(this.ignoreSettingsEvents_=!0,os.settings.set(a,b),this.ignoreSettingsEvents_=!1)};
os.config.DisplaySettingsCtrl.prototype.getDefaultCameraState_=function(){var a=os.MapContainer.getInstance(),b=a.zoomToResolution(os.map.DEFAULT_ZOOM);a=a.getMap().getSize();b=os.map.distanceForResolution([a[0],a[1]],b);return{mode:this.mapMode,center:[0,0],altitude:b,heading:0,roll:0,tilt:0}};
os.config.DisplaySettingsCtrl.prototype.update3DSupport_=function(){(this.show3DSettings=os.MapContainer.getInstance().is3DSupported())?(this.scope_.showIEHelp=!1,this.scope_.showFFHelp=!1,this.scope_.showGCHelp=!1):goog.userAgent.IE&&11==goog.userAgent.VERSION?this.scope_.showIEHelp=!0:goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher(10)?this.scope_.showFFHelp=!0:goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher(28)&&(this.scope_.showGCHelp=!0)};
os.config.DisplaySettingsCtrl.prototype.onCameraStateChange_=function(a){if(!this.ignoreSettingsEvents_&&a.newVal&&"string"==typeof a.newVal)try{this.cameraState=JSON.parse(a.newVal),os.ui.apply(this.scope_)}catch(b){}};os.config.DisplaySettingsCtrl.prototype.onMapModeChange_=function(a){!this.ignoreSettingsEvents_&&a.newVal&&a.newVal!==this.mapMode&&(this.mapMode=a.newVal,this.update3DSupport_(),os.ui.apply(this.scope_))};
os.config.DisplaySettingsCtrl.prototype.updateMapMode_=function(a,b){a&&b&&a!==b&&this.updateSetting_(os.config.DisplaySetting.MAP_MODE,a)};os.config.DisplaySettingsCtrl.prototype.updateCameraMode_=function(a,b){if(a&&b&&a!==b)switch(this.updateSetting_(os.config.DisplaySetting.CAMERA_MODE,a),a){case os.CameraMode.DEFAULT:this.useDefaultPosition_();break;case os.CameraMode.LAST:this.useCurrentPosition()}};
os.config.DisplaySettingsCtrl.prototype.useCurrentPosition=function(){this.cameraState=os.MapContainer.getInstance().persistCameraState();os.settings&&this.updateSetting_(os.config.DisplaySetting.CAMERA_STATE,JSON.stringify(this.cameraState))};goog.exportProperty(os.config.DisplaySettingsCtrl.prototype,"useCurrentPosition",os.config.DisplaySettingsCtrl.prototype.useCurrentPosition);
os.config.DisplaySettingsCtrl.prototype.useDefaultPosition_=function(){this.cameraState=this.getDefaultCameraState_();os.settings&&this.updateSetting_(os.config.DisplaySetting.CAMERA_STATE,"")};os.config.DisplaySettingsCtrl.prototype.getZoom=function(){if(this.cameraState&&0<this.cameraState.altitude){var a=os.MapContainer.getInstance();a=os.map.resolutionForDistance(a.getMap(),this.cameraState.altitude);return os.MapContainer.getInstance().resolutionToZoom(a).toFixed(1)}return os.map.DEFAULT_ZOOM.toFixed(1)};
goog.exportProperty(os.config.DisplaySettingsCtrl.prototype,"getZoom",os.config.DisplaySettingsCtrl.prototype.getZoom);os.config.DisplaySettingsCtrl.prototype.updateFog=function(){var a=os.MapContainer.getInstance().getCesiumScene();if(a){var b=this.fogDensity*os.olcs.MAX_FOG_DENSITY;os.settings.set(os.config.DisplaySetting.FOG_ENABLED,this.fogEnabled);os.settings.set(os.config.DisplaySetting.FOG_DENSITY,b);a.fog.enabled=this.fogEnabled;a.fog.density=b;os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT)}};
goog.exportProperty(os.config.DisplaySettingsCtrl.prototype,"updateFog",os.config.DisplaySettingsCtrl.prototype.updateFog);os.config.DisplaySettingsCtrl.prototype.onSunlightChange_=function(a){this.ignoreSettingsEvents_||a.newVal===this.sunlightEnabled||(this.sunlightEnabled=a.newVal,os.ui.apply(this.scope_))};
os.config.DisplaySettingsCtrl.prototype.updateSunlight=function(){var a=os.MapContainer.getInstance().getCesiumScene();a&&(this.updateSetting_(os.config.DisplaySetting.ENABLE_LIGHTING,this.sunlightEnabled),a.globe.enableLighting=this.sunlightEnabled,os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT))};goog.exportProperty(os.config.DisplaySettingsCtrl.prototype,"updateSunlight",os.config.DisplaySettingsCtrl.prototype.updateSunlight);goog.dom.classes={};goog.dom.classes.set=function(a,b){a.className=b};goog.dom.classes.get=function(a){a=a.className;return goog.isString(a)&&a.match(/\S+/g)||[]};goog.dom.classes.add=function(a,b){var c=goog.dom.classes.get(a),d=goog.array.slice(arguments,1),e=c.length+d.length;goog.dom.classes.add_(c,d);goog.dom.classes.set(a,c.join(" "));return c.length==e};
goog.dom.classes.remove=function(a,b){var c=goog.dom.classes.get(a),d=goog.array.slice(arguments,1),e=goog.dom.classes.getDifference_(c,d);goog.dom.classes.set(a,e.join(" "));return e.length==c.length-d.length};goog.dom.classes.add_=function(a,b){for(var c=0;c<b.length;c++)goog.array.contains(a,b[c])||a.push(b[c])};goog.dom.classes.getDifference_=function(a,b){return goog.array.filter(a,function(a){return!goog.array.contains(b,a)})};
goog.dom.classes.swap=function(a,b,c){for(var d=goog.dom.classes.get(a),e=!1,f=0;f<d.length;f++)d[f]==b&&(goog.array.splice(d,f--,1),e=!0);e&&(d.push(c),goog.dom.classes.set(a,d.join(" ")));return e};goog.dom.classes.addRemove=function(a,b,c){var d=goog.dom.classes.get(a);goog.isString(b)?goog.array.remove(d,b):goog.isArray(b)&&(d=goog.dom.classes.getDifference_(d,b));goog.isString(c)&&!goog.array.contains(d,c)?d.push(c):goog.isArray(c)&&goog.dom.classes.add_(d,c);goog.dom.classes.set(a,d.join(" "))};
goog.dom.classes.has=function(a,b){return goog.array.contains(goog.dom.classes.get(a),b)};goog.dom.classes.enable=function(a,b,c){c?goog.dom.classes.add(a,b):goog.dom.classes.remove(a,b)};goog.dom.classes.toggle=function(a,b){var c=!goog.dom.classes.has(a,b);goog.dom.classes.enable(a,b,c);return c};ol.control.ScaleLineUnits={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};os.unit={};os.unit.IMultiplier=function(){};os.unit.IUnit=function(){};os.unit.BaseUnit=function(){this.multipliers=[];this.multipliersByKey={};this.bestFitCandidates=[];this.initMultipliers();this.initMultipliersByKey();this.initBestFitCandidates()};os.unit.BaseUnit.prototype.getTitle=function(){return null};os.unit.BaseUnit.prototype.getUnitType=function(){return null};os.unit.BaseUnit.prototype.getSystem=function(){return null};os.unit.BaseUnit.prototype.getDefaultMultiplier=function(){return null};os.unit.BaseUnit.prototype.getConversionFactor=function(){return-1};
os.unit.BaseUnit.prototype.getSuffix=function(){return""};os.unit.BaseUnit.prototype.getMultipliers=function(){return this.multipliers};os.unit.BaseUnit.prototype.getMultiplier=function(a){return this.multipliersByKey[a]};os.unit.BaseUnit.prototype.getLabel=function(a){return a.getName().concat(this.getSuffix())};os.unit.BaseUnit.prototype.format=function(a,b,c){c=c?c:-1;return(0<=c?a.toFixed(c):a.toString())+" "+this.getLabel(b)};
os.unit.BaseUnit.prototype.getBestFitMultiplier=function(a){var b=os.unit.UnitManager.getInstance(),c=b.getBaseUnits(this.getUnitType()),d=this.bestFitCandidates.length;if(c){c=c.getDefaultMultiplier().getName();for(var e=0;e<d;e++)if(Math.abs(b.convert(this.getUnitType(),a,c,b.getBaseSystem(),this.bestFitCandidates[e].getName(),this.getSystem()))>=this.bestFitCandidates[e].getThreshold()){var f=this.bestFitCandidates[e];break}}return null!=f?f:0<d?this.bestFitCandidates[d-1]:null};
os.unit.BaseUnit.prototype.getIsBestFitCandidate=function(a,b,c){return a.getIsBestFitCandidate()};os.unit.BaseUnit.prototype.initMultipliers=function(){};os.unit.BaseUnit.prototype.initMultipliersByKey=function(){for(var a=0;a<this.multipliers.length;a++)this.multipliersByKey[this.multipliers[a].getName()]=this.multipliers[a],this.multipliersByKey[this.multipliers[a].getLongName()]=this.multipliers[a]};
os.unit.BaseUnit.prototype.initBestFitCandidates=function(){this.bestFitCandidates=this.multipliers.filter(this.getIsBestFitCandidate);goog.array.sort(this.bestFitCandidates,function(a,b){return a.getMultiplier()<b.getMultiplier()?1:-1})};os.unit.Multiplier=function(a,b,c,d,e){this.name_=a;this.multiplier_=b;this.isBestFitCandidate_=c?c:!1;this.longName_=d?d:null;this.threshold_=e?e:1};os.unit.Multiplier.prototype.getName=function(){return this.name_};os.unit.Multiplier.prototype.getMultiplier=function(){return this.multiplier_};os.unit.Multiplier.prototype.getIsBestFitCandidate=function(){return this.isBestFitCandidate_};os.unit.Multiplier.prototype.getLongName=function(){return this.longName_?this.longName_:this.name_};
os.unit.Multiplier.prototype.getThreshold=function(){return this.threshold_};os.unit.EnglishDistanceUnits=function(){os.unit.BaseUnit.call(this)};goog.inherits(os.unit.EnglishDistanceUnits,os.unit.BaseUnit);os.unit.EnglishDistanceUnits.prototype.getTitle=function(){return"Imperial"};os.unit.EnglishDistanceUnits.prototype.getUnitType=function(){return"distance"};os.unit.EnglishDistanceUnits.prototype.getSystem=function(){return"imperial"};os.unit.EnglishDistanceUnits.prototype.getDefaultMultiplier=function(){return this.getMultiplier("mi")};
os.unit.EnglishDistanceUnits.prototype.getConversionFactor=function(){return 1/1609.344};os.unit.EnglishDistanceUnits.prototype.initMultipliers=function(){this.multipliers.push(new os.unit.Multiplier("in",1/63360,!1,"inches"));this.multipliers.push(new os.unit.Multiplier("ft",1/5280,!0,"feet"));this.multipliers.push(new os.unit.Multiplier("yd",1/1760,!0,"yards"));this.multipliers.push(new os.unit.Multiplier("mi",1,!0,"miles",.1))};os.unit.FeetUnits=function(){os.unit.BaseUnit.call(this)};goog.inherits(os.unit.FeetUnits,os.unit.BaseUnit);os.unit.FeetUnits.prototype.getTitle=function(){return"Feet Only"};os.unit.FeetUnits.prototype.getUnitType=function(){return"distance"};os.unit.FeetUnits.prototype.getSystem=function(){return"feet"};os.unit.FeetUnits.prototype.getDefaultMultiplier=function(){return this.getMultiplier("ft")};os.unit.FeetUnits.prototype.getConversionFactor=function(){return 3.28084};
os.unit.FeetUnits.prototype.initMultipliers=function(){this.multipliers.push(new os.unit.Multiplier("ft",1,!0,"feet"))};os.unit.MetricUnits=function(){os.unit.BaseUnit.call(this)};goog.inherits(os.unit.MetricUnits,os.unit.BaseUnit);os.unit.MetricUnits.prototype.getTitle=function(){return"Metric"};os.unit.MetricUnits.prototype.getUnitType=function(){return"distance"};os.unit.MetricUnits.prototype.getSystem=function(){return"metric"};os.unit.MetricUnits.prototype.getDefaultMultiplier=function(){return this.getMultiplier("m")};os.unit.MetricUnits.prototype.getConversionFactor=function(){return 1};
os.unit.MetricUnits.prototype.initMultipliers=function(){this.multipliers.push(new os.unit.Multiplier("fm",1E-9,!1,"femtometers"));this.multipliers.push(new os.unit.Multiplier("nm",1E-6,!1,"nanometers"));this.multipliers.push(new os.unit.Multiplier("mm",.001,!1,"millimeters"));this.multipliers.push(new os.unit.Multiplier("cm",.01,!0,"centimeters"));this.multipliers.push(new os.unit.Multiplier("dm",.1,!1,"decimeters"));this.multipliers.push(new os.unit.Multiplier("m",1,!0,"meters"));this.multipliers.push(new os.unit.Multiplier("dam",
10,!1,"Decameters"));this.multipliers.push(new os.unit.Multiplier("hm",100,!1,"Hectometers"));this.multipliers.push(new os.unit.Multiplier("km",1E3,!0,"Kilometers"));this.multipliers.push(new os.unit.Multiplier("Mm",1E6,!1,"Megameters"));this.multipliers.push(new os.unit.Multiplier("Gm",1E9,!1,"Gigameters"));this.multipliers.push(new os.unit.Multiplier("Tm",1E12,!1,"Terameters"))};os.unit.MileUnits=function(){os.unit.BaseUnit.call(this)};goog.inherits(os.unit.MileUnits,os.unit.BaseUnit);os.unit.MileUnits.prototype.getTitle=function(){return"Miles Only"};os.unit.MileUnits.prototype.getUnitType=function(){return"distance"};os.unit.MileUnits.prototype.getSystem=function(){return"mile"};os.unit.MileUnits.prototype.getDefaultMultiplier=function(){return this.getMultiplier("mi")};os.unit.MileUnits.prototype.getConversionFactor=function(){return 1/1609.344};
os.unit.MileUnits.prototype.initMultipliers=function(){this.multipliers.push(new os.unit.Multiplier("mi",1,!0,"miles",.1))};os.unit.NauticalMileUnits=function(){os.unit.BaseUnit.call(this)};goog.inherits(os.unit.NauticalMileUnits,os.unit.BaseUnit);os.unit.NauticalMileUnits.prototype.getTitle=function(){return"Nautical Miles Only"};os.unit.NauticalMileUnits.prototype.getUnitType=function(){return"distance"};os.unit.NauticalMileUnits.prototype.getSystem=function(){return"nauticalmile"};os.unit.NauticalMileUnits.prototype.getDefaultMultiplier=function(){return this.getMultiplier("nmi")};
os.unit.NauticalMileUnits.prototype.getConversionFactor=function(){return 1/1852};os.unit.NauticalMileUnits.prototype.initMultipliers=function(){this.multipliers.push(new os.unit.Multiplier("nmi",1,!0,"nautical miles"))};os.unit.NauticalUnits=function(){os.unit.BaseUnit.call(this)};goog.inherits(os.unit.NauticalUnits,os.unit.BaseUnit);os.unit.NauticalUnits.prototype.getTitle=function(){return"Nautical"};os.unit.NauticalUnits.prototype.getUnitType=function(){return"distance"};os.unit.NauticalUnits.prototype.getSystem=function(){return"nautical"};os.unit.NauticalUnits.prototype.getDefaultMultiplier=function(){return this.getMultiplier("nmi")};os.unit.NauticalUnits.prototype.getConversionFactor=function(){return 1/1852};
os.unit.NauticalUnits.prototype.initMultipliers=function(){this.multipliers.push(new os.unit.Multiplier("ft",1/6076,!0,"feet"));this.multipliers.push(new os.unit.Multiplier("nmi",1,!0,"nautical miles"))};os.unit.YardUnits=function(){os.unit.BaseUnit.call(this)};goog.inherits(os.unit.YardUnits,os.unit.BaseUnit);os.unit.YardUnits.prototype.getTitle=function(){return"Yards Only"};os.unit.YardUnits.prototype.getUnitType=function(){return"distance"};os.unit.YardUnits.prototype.getSystem=function(){return"yard"};os.unit.YardUnits.prototype.getDefaultMultiplier=function(){return this.getMultiplier("yd")};os.unit.YardUnits.prototype.getConversionFactor=function(){return 1.09361};
os.unit.YardUnits.prototype.initMultipliers=function(){this.multipliers.push(new os.unit.Multiplier("yd",1,!0,"yards"))};os.unit.unitSystem={METRIC:"metric",ENGLISH:"imperial",NAUTICAL:"nautical",NAUTICALMILE:"nauticalmile",MILE:"mile",YARD:"yard",FEET:"feet"};os.unit.UNIT_TYPE_DISTANCE="distance";os.unit.UnitFactory=function(){this.systems_={};this.initialize_()};
os.unit.UnitFactory.prototype.initialize_=function(){var a={};a[os.unit.UNIT_TYPE_DISTANCE]=new os.unit.EnglishDistanceUnits;this.systems_[os.unit.unitSystem.ENGLISH]=a;a={};a[os.unit.UNIT_TYPE_DISTANCE]=new os.unit.MetricUnits;this.systems_[os.unit.unitSystem.METRIC]=a;a={};a[os.unit.UNIT_TYPE_DISTANCE]=new os.unit.NauticalUnits;this.systems_[os.unit.unitSystem.NAUTICAL]=a;a={};a[os.unit.UNIT_TYPE_DISTANCE]=new os.unit.NauticalMileUnits;this.systems_[os.unit.unitSystem.NAUTICALMILE]=a;a={};a[os.unit.UNIT_TYPE_DISTANCE]=
new os.unit.MileUnits;this.systems_[os.unit.unitSystem.MILE]=a;a={};a[os.unit.UNIT_TYPE_DISTANCE]=new os.unit.YardUnits;this.systems_[os.unit.unitSystem.YARD]=a;a={};a[os.unit.UNIT_TYPE_DISTANCE]=new os.unit.FeetUnits;this.systems_[os.unit.unitSystem.FEET]=a};os.unit.UnitFactory.prototype.getUnit=function(a,b){return(a=this.systems_[a])?a[b]:null};os.unit.UnitFactory.prototype.getSystems=function(){return Object.keys(this.systems_?this.systems_:{})};os.unit.UnitFactory.prototype.getFullSystems=function(){return this.systems_};os.unit.UnitChange="unit:change";os.unit.UNITS="os.map.units";os.unit.UnitManager=function(){goog.events.EventTarget.call(this);this.unitFactory_=new os.unit.UnitFactory;this.baseSystem_=os.unit.unitSystem.METRIC;this.selectedSystem_=os.settings.get(os.unit.UNITS,this.baseSystem_);this.fullSystems_=this.unitFactory_.getFullSystems();this.systems_=this.unitFactory_.getSystems();goog.array.sort(this.systems_);os.settings.listen(os.unit.UNITS,this.onUnitsChange_,!1,this)};
goog.inherits(os.unit.UnitManager,goog.events.EventTarget);goog.addSingletonGetter(os.unit.UnitManager);os.unit.UnitManager.LOGGER_=goog.log.getLogger("os.unit.UnitManager");os.unit.UnitManager.prototype.getSystems=function(){return this.systems_};os.unit.UnitManager.prototype.getFullSystems=function(){return this.fullSystems_};os.unit.UnitManager.prototype.getSelectedSystem=function(){return this.selectedSystem_};
os.unit.UnitManager.prototype.setSelectedSystem=function(a){var b=this.selectedSystem_;this.selectedSystem_=a;os.settings.set(os.unit.UNITS,a);this.dispatchEvent(new os.events.PropertyChangeEvent(os.unit.UnitChange,a,b))};os.unit.UnitManager.prototype.getBaseSystem=function(){return this.baseSystem_};
os.unit.UnitManager.prototype.convert=function(a,b,c,d,e,f){d=this.unitFactory_.getUnit(d,a);c=d.getMultiplier(c);var g=d.getDefaultMultiplier();c!==g&&(b*=c.getMultiplier());c=this.getBaseUnits(a);c!==d&&(b/=d.getConversionFactor());a=this.unitFactory_.getUnit(f,a);a!==c&&(b*=a.getConversionFactor());e=a.getMultiplier(e);a=a.getDefaultMultiplier();e!==a&&(b/=e.getMultiplier());return b};os.unit.UnitManager.prototype.getBaseUnits=function(a){return this.unitFactory_.getUnit(this.baseSystem_,a)};
os.unit.UnitManager.prototype.formatToBestFit=function(a,b,c,d,e){var f=this.getBaseUnits(a).getDefaultMultiplier().getName();d=this.convert(a,b,c,d,f,this.baseSystem_);b=this.unitFactory_.getUnit(this.selectedSystem_,a);c=b.getBestFitMultiplier(d);a=this.convert(a,d,f,this.baseSystem_,c.getName(),this.selectedSystem_);return b.format(a,c,e?e:-1)};
os.unit.UnitManager.prototype.onUnitsChange_=function(a){"string"===typeof a.newVal?this.setSelectedSystem(a.newVal):goog.log.warning(os.unit.UnitManager.LOGGER_,"Unrecognized units change value: "+a.newVal)};os.control={};
os.control.ZoomLevel=function(a){a=a||{};var b=goog.isDef(a.className)?a.className:"ol-zoom-level";this.element_=goog.dom.createDom("DIV",{"class":b+" "+ol.css.CLASS_UNSELECTABLE});this.altElement_=goog.dom.createDom("SPAN",{"class":"altitude-text"});this.element_.appendChild(this.altElement_);this.zoomElement_=goog.dom.createDom("SPAN",{"class":"zoom-text"});this.element_.appendChild(this.zoomElement_);this.lastZoomVal_=this.lastAltitudeVal_=void 0;this.viewState_=null;ol.control.Control.call(this,{element:this.element_,
render:os.control.ZoomLevel.render_,target:a.target});a=os.unit.UnitManager.getInstance();b=a.getSelectedSystem();this.setAltitudeUnits(b);a.listen(goog.events.EventType.PROPERTYCHANGE,this.onUnitsChange,!1,this)};goog.inherits(os.control.ZoomLevel,ol.control.Control);os.control.ZoomLevel.prototype.disposeInternal=function(){os.control.ZoomLevel.superClass_.disposeInternal.call(this);os.unit.UnitManager.getInstance().unlisten(goog.events.EventType.PROPERTYCHANGE,this.onUnitsChange,!1,this)};
os.control.ZoomLevel.prototype.reset=function(){this.lastZoomVal_=this.lastAltitudeVal_=void 0;this.updateElement()};os.control.ZoomLevel.prototype.getAltitudeUnits=function(){return this.get(os.control.ZoomLevel.Property_.UNITS)};os.control.ZoomLevel.prototype.setAltitudeUnits=function(a){this.set(os.control.ZoomLevel.Property_.UNITS,a)};os.control.ZoomLevel.prototype.onUnitsChange=function(a){a=a.getNewValue();"string"===typeof a&&a!=this.getAltitudeUnits()&&(this.setAltitudeUnits(a),this.reset())};
os.control.ZoomLevel.render_=function(a){a=a.frameState;goog.isNull(a)?this.viewState_=null:this.viewState_=a.viewState;this.updateElement()};os.control.ZoomLevel.prototype.hideAltitude=function(){goog.style.setElementShown(this.altElement_,!1);this.lastAltitudeVal_=void 0};os.control.ZoomLevel.prototype.hideZoom=function(){goog.style.setElementShown(this.zoomElement_,!1);this.lastZoomVal_=void 0};os.control.ZoomLevel.prototype.updateElement=function(){this.updateAltitudeText();this.updateZoomText()};
os.control.ZoomLevel.prototype.updateAltitudeText=function(){var a,b=os.MapContainer.getInstance();if(b.is3DEnabled()){var c=b.getCesiumCamera();if(!c){this.hideAltitude();return}c=c.getAltitude();c!=this.lastAltitudeVal_&&(this.lastAltitudeVal_=a=c)}else{c=this.viewState_;if(!c){this.hideAltitude();return}c.resolution!=this.lastAltitudeVal_&&(this.lastAltitudeVal_=c.resolution,a=b.getMap().getSize(),a=os.map.distanceForResolution([a[0],a[1]],c.resolution))}null!=a&&(isNaN(a)&&this.hideAltitude(),
c=os.unit.UnitManager.getInstance(),this.altElement_.innerHTML="Altitude: "+c.formatToBestFit("distance",a,"m",c.getBaseSystem(),3),goog.style.setElementShown(this.altElement_,!0))};
os.control.ZoomLevel.prototype.updateZoomText=function(){var a=this.viewState_;if(a){var b=os.MapContainer.getInstance();if(b.is3DEnabled()){b=b.getCesiumCamera();if(!b){this.hideZoom();return}var c=b.getAltitude();if(this.lastZoomVal_!=c){this.lastZoomVal_=c;var d=b.calcResolutionForDistance(c,0)}}else a.resolution!=this.lastZoomVal_&&(d=this.lastZoomVal_=a.resolution);null!=d&&(a=os.map.resolutionToZoom(d,a.projection),null==a||Infinity==a||isNaN(a)?this.hideZoom():(this.zoomElement_.innerHTML=
"Zoom: "+a.toFixed(1),goog.style.setElementShown(this.zoomElement_,!0)))}else this.hideZoom()};os.control.ZoomLevel.Property_={UNITS:"units"};os.data.DescriptorEventType={ADD_DESCRIPTOR:"addDescriptor",REMOVE_DESCRIPTOR:"removeDescriptor",UPDATE_DESCRIPTOR:"updateDescriptor",USER_TOGGLED:"userToggledDescriptor",ACTIVATED:"descriptorActivated",DEACTIVATED:"descriptorDeactivated"};os.data.DescriptorEvent=function(a,b,c){goog.events.Event.call(this,a);this.descriptor=b||null;this.descriptor2=c||null};goog.inherits(os.data.DescriptorEvent,goog.events.Event);os.data.IDataDescriptor=function(){};os.data.IDataDescriptor.ID="os.data.IDataDescriptor";os.data.AbstractDescriptor=function(a){goog.events.EventTarget.call(this);this.isAsync=!0;this.title="Activate/Deactivate Descriptor";this.details=null;this.state=os.command.State.READY;this.id=a.getId();this.log=os.data.AbstractDescriptor.LOGGER_};goog.inherits(os.data.AbstractDescriptor,goog.events.EventTarget);os.data.AbstractDescriptor.LOGGER_=goog.log.getLogger("os.data.AbstractDescriptor");os.data.AbstractDescriptor.prototype.execute=goog.abstractMethod;
os.data.AbstractDescriptor.prototype.revert=goog.abstractMethod;os.data.AbstractDescriptor.prototype.disposeInternal=function(){os.data.AbstractDescriptor.superClass_.disposeInternal.call(this);this.removeListeners()};os.data.AbstractDescriptor.prototype.getDescriptor=function(){return this.id?os.dataManager.getDescriptor(this.id):null};
os.data.AbstractDescriptor.prototype.canExecute=function(){return this.state!==os.command.State.READY?(this.details="Command not in ready state.",!1):this.getDescriptor()?!0:(this.state=os.command.State.ERROR,this.details="Descriptor unavailable.",!1)};
os.data.AbstractDescriptor.prototype.activateDescriptor=function(){try{var a=this.getDescriptor();if(a&&!a.isActive())a.listenOnce(os.data.DescriptorEventType.ACTIVATED,this.onActivated,!1,this),a.listenOnce(os.data.DescriptorEventType.DEACTIVATED,this.onActivationError,!1,this),a.setActive(!0),os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.AddData.ADD_LAYER_COMMAND,1);else this.onActivated()}catch(b){return goog.log.error(this.log,"Unable to activate descriptor: "+b.message,b),this.removeListeners(),
this.state=os.command.State.ERROR,!1}return!0};os.data.AbstractDescriptor.prototype.deactivateDescriptor=function(){var a=this.getDescriptor();if(a&&a.isActive())a.listenOnce(os.data.DescriptorEventType.DEACTIVATED,this.onDeactivated,!1,this),a.setActive(!1),os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.AddData.REMOVE_LAYER_COMMAND,1);else this.onDeactivated();return!0};os.data.AbstractDescriptor.prototype.onActivated=goog.abstractMethod;
os.data.AbstractDescriptor.prototype.onDeactivated=goog.abstractMethod;os.data.AbstractDescriptor.prototype.removeListeners=function(){var a=this.getDescriptor();a&&(a.unlisten(os.data.DescriptorEventType.ACTIVATED,this.onActivated,!1,this),a.unlisten(os.data.DescriptorEventType.DEACTIVATED,this.onDeactivated,!1,this),a.unlisten(os.data.DescriptorEventType.DEACTIVATED,this.onActivationError,!1,this))};
os.data.AbstractDescriptor.prototype.onActivationError=function(){this.removeListeners();this.state=os.command.State.ERROR;this.dispatchEvent(new goog.events.Event(os.command.EventType.EXECUTED))};os.data.DeactivateDescriptor=function(a){os.data.AbstractDescriptor.call(this,a);this.log=os.data.DeactivateDescriptor.LOGGER_;var b=a.getType();this.title="Remove "+(b?b+" ":"")+'"'+a.getTitle()+'"'};goog.inherits(os.data.DeactivateDescriptor,os.data.AbstractDescriptor);os.data.DeactivateDescriptor.LOGGER_=goog.log.getLogger("os.data.DeactivateDescriptor");
os.data.DeactivateDescriptor.prototype.execute=function(){return this.canExecute()?(this.state=os.command.State.EXECUTING,this.deactivateDescriptor()):!1};os.data.DeactivateDescriptor.prototype.revert=function(){this.state=os.command.State.REVERTING;return this.activateDescriptor()};os.data.DeactivateDescriptor.prototype.onActivated=function(a){this.removeListeners();this.state=os.command.State.READY;this.dispatchEvent(new goog.events.Event(os.command.EventType.REVERTED))};
os.data.DeactivateDescriptor.prototype.onDeactivated=function(a){this.removeListeners();this.state=os.command.State.SUCCESS;this.dispatchEvent(new goog.events.Event(os.command.EventType.EXECUTED))};os.data.ZOrderEventType={UPDATE:"zOrderUpdate"};os.data.ZOrder=function(){this.groups_=this.map_=null};goog.addSingletonGetter(os.data.ZOrder);os.data.ZOrder.MAX_AGE_=2592E6;os.data.ZOrder.prototype.getMap=function(){return this.map_?this.map_:os.MapContainer.getInstance().getMap()};os.data.ZOrder.prototype.clear=function(){this.groups_=null;os.settings.set(["map","z-order"],this.groups_)};
os.data.ZOrder.prototype.init_=function(){this.groups_||(this.groups_=os.settings.get(["map","z-order"])||{},this.expire_())};os.data.ZOrder.prototype.getZType=function(a){if(!this.groups_||!a)return null;for(var b in this.groups_)for(var c=this.groups_[b]||[],d=0,e=c.length;d<e;d++)if(c[d].id==a)return b;return null};
os.data.ZOrder.prototype.mergeFromMap_=function(){for(var a=this.getMap().getLayers().getArray(),b=0,c=a.length;b<c;b++){var d=a[b],e=d.getOSType()||"",f=this.groups_[e]||[];d=d.getLayers().getArray();for(var g=0,h=d.length;g<h;g++){for(var k=d[g],l=!1,m=0,n=f.length;m<n;m++)if(f[m].id==k.getId()){l=!0;f[m].time=goog.now();break}l||f.push({id:k.getId(),time:goog.now()})}this.groups_[e]=f}};
os.data.ZOrder.prototype.update=function(){this.init_();this.mergeFromMap_();for(var a=this.getMap().getLayers().getArray(),b=0,c=0,d=a.length;c<d;c++){var e=a[c],f=e.getOSType()||"",g=this.groups_[f];if(g){var h=!1;f=e.getLayers().getArray();f.sort(function(a,b){for(var c=-1,d=-1,e=0,f=g.length;e<f&&!(g[e].id==a.getId()&&(c=e),g[e].id==b.getId()&&(d=e),-1<c&&-1<d);e++);a=goog.array.defaultCompare(c,d);h||(h=0<a);return a});for(var k=0;k<f.length;k++)f[k].setZIndex(b++);h&&(e.dispatchEvent(os.data.ZOrderEventType.UPDATE),
e.changed())}}};os.data.ZOrder.prototype.moveAfter=function(a,b){return this.move(a,b,!0)};os.data.ZOrder.prototype.moveBefore=function(a,b){return this.move(a,b,!1)};
os.data.ZOrder.prototype.moveHighestAndUpdate=function(a){if(!this.groups_)return!1;for(var b in this.groups_){for(var c=this.groups_[b],d=!1,e=0;e<c.length;e++)if(c[e].id==a){d=!0;break}if(d)return this.update(),!0}var f=this.getMap().getLayers().getArray();c=void 0;e=0;for(var g=f.length;e<g;e++){var h=f[e];b=h.getOSType()||"";var k=this.groups_[b]||[];var l=h.getLayers().getArray(),m=0;for(b=l.length;m<b;m++){var n=l[m];d=!1;for(var p=0,q=k.length;p<q;p++)if(k[p].id==n.getId()){d=!0;k[p].time=
goog.now();break}d||k.push({id:n.getId(),time:goog.now()});if(n.getId()==a){c=h;break}}if(goog.isDefAndNotNull(c))break}if(!goog.isDefAndNotNull(c))return!1;e=void 0;d=c.getLayers().getArray();for(b=d.length-2;0<=b;b--)if(c=d[b],!c.isSticky()){e=c.getId();break}void 0===e?this.moveBefore(a,d[0].getId()):this.moveAfter(a,e);this.update();return!0};
os.data.ZOrder.prototype.move=function(a,b,c){if(!this.groups_||!b)return!1;var d=!1,e;for(e in this.groups_){for(var f=this.groups_[e],g=-1,h=-1,k=!1,l=0,m=f.length;l<m;l++)if(f[l].id==a&&(k=!0,g=l),f[l].id==b&&(h=l),-1<g&&-1<h){d=f.splice(g,1)[0];g<h&&h--;f.splice(h+(c?1:0),0,d);d=!0;break}if(k)break}return d};os.data.ZOrder.prototype.save=function(){this.init_();this.mergeFromMap_();os.settings.set(["map","z-order"],this.groups_)};
os.data.ZOrder.prototype.expire_=function(){if(this.groups_){var a=goog.now(),b;for(b in this.groups_)for(var c=this.groups_[b],d=c.length;d--;)a-c[d].time>os.data.ZOrder.MAX_AGE_&&c.splice(d,1)}};os.events.preventBrowserContextMenu=function(a){a=a||document;a.addEventListener(goog.events.EventType.MOUSEDOWN,os.events.wrapExempt_(os.events.killRightButton));a.addEventListener(goog.events.EventType.MOUSEUP,os.events.wrapExempt_(os.events.killRightButton));a.addEventListener(goog.events.EventType.CONTEXTMENU,os.events.wrapExempt_(os.events.killEvent))};os.events.wrapExempt_=function(a){return function(b){if(!os.events.isExempt(b.target,b.type))return a(b)}};
os.events.isExempt=function(a,b){for(var c=os.events.exemptionFunctions_,d=0,e=c.length;d<e;d++)if(c[d](a,b))return!0;return!1};os.events.exemptionFunctions_=[];os.events.addExemption=function(a){goog.array.insert(os.events.exemptionFunctions_,a)};os.events.killEvent=function(a){a.preventDefault();a.stopPropagation()};os.events.killRightButton=function(a){2===a.button&&os.events.killEvent(a)};os.events.addExemption(function(a,b){return a instanceof HTMLInputElement});os.events.LayerEventType={ADD:"addLayer",REMOVE:"removeLayer",RENAME:"renameLayer",MOVE:"moveLayer",SYNC:"syncLayer",IDENTIFY:"identifyLayer",COLOR_CHANGE:"layerColorChange",BASELAYER_CHANGE:"baseLayerChange"};os.events.LayerEvent=function(a,b,c){goog.events.Event.call(this,a);this.layer=b;this.index=goog.isDefAndNotNull(c)?c:-1};goog.inherits(os.events.LayerEvent,goog.events.Event);os.fn={};os.fn.filterFalsey=function(a){return!!a};os.fn.reduceExtentFromLayers=function(a,b){if(b instanceof ol.layer.Layer){var c=b.getExtent();c||(b=b.getSource(),b instanceof ol.source.Vector&&(c=b.getExtent()));c&&ol.extent.extend(a,c)}return a};os.fn.reduceExtentFromGeometries=function(a,b){b&&(b=b instanceof ol.geom.Geometry?b:b.geometry)&&ol.extent.extend(a,os.extent.getFunctionalExtent(b));return a};os.fn.mapFeatureToGeometry=function(a){return a?a.getGeometry():void 0};
os.fn.mapLayerNodeToLayer=function(a){return a instanceof os.data.LayerNode?a.getLayer():null};os.fn.nodesToLayers=function(a){goog.isArray(a)||(a=[a]);return a.map(os.fn.mapLayerNodeToLayer).filter(os.fn.filterFalsey)};os.parse={};os.parse.IParser=function(){};os.im={};os.im.IImporter=function(){};os.fields={};
os.Fields={ALT:"ALTITUDE",ALT_UNITS:"ALTITUDE_UNITS",BEARING:"BEARING",CONFIDENCE:"CONFIDENCE",DESCRIPTION:"DESCRIPTION",ENDOFFSET:"ENDOFFSET",FILENAME:"FILENAME",FUZZY:"FUZZY",GEOM_ALT:"GEOM_ALT",GEOMETRY:"GEOMETRY",GEOTAG:"GEOTAG",ID:"ID",LAT:"LAT",LAT_DMS:"LAT_DMS",LON:"LON",LON_DMS:"LON_DMS",MGRS:"MGRS",NAME:"NAME",ORIENTATION:"ORIENTATION",PROPERTIES:"PROPERTIES",RADIUS:"RADIUS",RADIUS_UNITS:"RADIUS_UNITS",SEMI_MAJOR:"SEMI_MAJOR",SEMI_MAJOR_UNITS:"SEMI_MAJ_UNITS",SEMI_MINOR:"SEMI_MINOR",SEMI_MINOR_UNITS:"SEMI_MINOR_UNITS",
STARTOFFSET:"STARTOFFSET",TIME:"TIME"};os.fields.DEFAULT_ALT_UNIT="m";os.fields.DEFAULT_BEARING_UNIT="degrees";os.fields.DEFAULT_RADIUS_UNIT="nmi";os.fields.DERIVED_COL_INDICATOR="*";os.fields.DEFAULT_ALT_COL_NAME=os.Fields.ALT+" ("+os.fields.DEFAULT_ALT_UNIT+")"+os.fields.DERIVED_COL_INDICATOR;os.fields.DEFAULT_SEMI_MIN_COL_NAME=os.Fields.SEMI_MINOR+" ("+os.fields.DEFAULT_RADIUS_UNIT+")"+os.fields.DERIVED_COL_INDICATOR;
os.fields.DEFAULT_SEMI_MAJ_COL_NAME=os.Fields.SEMI_MAJOR+" ("+os.fields.DEFAULT_RADIUS_UNIT+")"+os.fields.DERIVED_COL_INDICATOR;os.fields.DESC_REGEXP=/^desc(ription)?$/i;os.fields.hideSpecialColumns=function(a){var b=a.field;if(b==os.Fields.ALT_UNITS||b==os.Fields.SEMI_MINOR_UNITS||b==os.Fields.SEMI_MAJOR_UNITS||b==os.Fields.BEARING||b==os.Fields.ALT||b==os.Fields.SEMI_MINOR||b==os.Fields.SEMI_MAJOR)a.visible=!1};
os.fields.markDerived=function(a){var b=a.field;b==os.fields.DEFAULT_SEMI_MAJ_COL_NAME?(a.toolTip="Derived Column",a.derivedFrom=os.Fields.SEMI_MAJOR):b==os.fields.DEFAULT_SEMI_MIN_COL_NAME?(a.toolTip="Derived Column",a.derivedFrom=os.Fields.SEMI_MINOR):b==os.fields.DEFAULT_ALT_COL_NAME&&(a.toolTip="Derived Column",a.derivedFrom=os.Fields.ALT)};os.data.RecordField={ALPHA:"alpha",COLOR:"color",ELLIPSE:"ellipse",GEOM:"geometry",DRAWING_LAYER_NODE:"_node",HTML_DESCRIPTION:"_htmlDescription",INTERACTIVE:"_interactive",LINE_OF_BEARING:"lineOfBearing",LINE_OF_BEARING_ERROR_HIGH:"lineOfBearingErrorHigh",LINE_OF_BEARING_ERROR_LOW:"lineOfBearingErrorLow",SOURCE_ID:"sourceId",SOURCE_NAME:"_sourceName",TIME:"recordTime",VISIBLE:"visibleNonTimeline"};
os.data.RecordField.REGEXP=function(){for(var a=goog.object.getValues(os.data.RecordField),b=0,c=a.length;b<c;b++)a[b]="("+a[b]+")";return new RegExp("^(_.*|"+a.join("|")+")$")}();os.geom.Ellipse=function(a,b,c,d){ol.geom.Polygon.call(this,null);this.center=a;this.semiMajor=b;this.semiMinor=null!=c?c:b;this.orientation=d||0;this.interpolateEllipse()};goog.inherits(os.geom.Ellipse,ol.geom.Polygon);os.geom.Ellipse.toPolygon=function(a){return new ol.geom.Polygon(a.getCoordinates())};os.geom.Ellipse.prototype.clone=function(){return new os.geom.Ellipse(this.center,this.semiMajor,this.semiMinor,this.orientation)};
os.geom.Ellipse.prototype.interpolateEllipse=function(){var a=os.geo.interpolateEllipse(this.center,this.semiMajor,this.semiMinor,this.orientation);this.setCoordinates([a]);this.osTransform()};os.geom.Ellipse.prototype.getCenter=function(){return this.center};os.geom.Ellipse.prototype.setCenter=function(a){this.center=a};os.geom.Ellipse.prototype.getSemiMajor=function(){return this.semiMajor};os.geom.Ellipse.prototype.setSemiMajor=function(a){this.semiMajor=a};
os.geom.Ellipse.prototype.getSemiMinor=function(){return this.semiMinor};os.geom.Ellipse.prototype.setSemiMinor=function(a){this.semiMinor=a};os.geom.Ellipse.prototype.getOrientation=function(){return this.orientation};os.geom.Ellipse.prototype.setOrientation=function(a){this.orientation=a};goog.dom.xml={};goog.dom.xml.MAX_XML_SIZE_KB=2048;goog.dom.xml.MAX_ELEMENT_DEPTH=256;goog.dom.xml.hasActiveXObjectSupport_=function(){if(!goog.userAgent.IE)return!1;try{return new ActiveXObject("MSXML2.DOMDocument"),!0}catch(a){return!1}};goog.dom.xml.ACTIVEX_SUPPORT=goog.userAgent.IE&&goog.dom.xml.hasActiveXObjectSupport_();
goog.dom.xml.createDocument=function(a,b,c){if(b&&!a)throw Error("Can't create document with namespace and no root tag");if(document.implementation&&document.implementation.createDocument&&(!goog.dom.xml.ACTIVEX_SUPPORT||!c))return document.implementation.createDocument(b||"",a||"",null);if(goog.dom.xml.ACTIVEX_SUPPORT&&(c=goog.dom.xml.createMsXmlDocument_()))return a&&c.appendChild(c.createNode(goog.dom.NodeType.ELEMENT,a,b||"")),c;throw Error("Your browser does not support creating new documents");
};goog.dom.xml.loadXml=function(a,b){if(!("undefined"==typeof DOMParser||goog.dom.xml.ACTIVEX_SUPPORT&&b))return(new DOMParser).parseFromString(a,"application/xml");if(goog.dom.xml.ACTIVEX_SUPPORT)return b=goog.dom.xml.createMsXmlDocument_(),b.loadXML(a),b;throw Error("Your browser does not support loading xml documents");};
goog.dom.xml.serialize=function(a){var b=a.xml;if(b)return b;if("undefined"!=typeof XMLSerializer)return(new XMLSerializer).serializeToString(a);throw Error("Your browser does not support serializing XML documents");};
goog.dom.xml.selectSingleNode=function(a,b){if("undefined"!=typeof a.selectSingleNode){var c=goog.dom.getOwnerDocument(a);"undefined"!=typeof c.setProperty&&c.setProperty("SelectionLanguage","XPath");return a.selectSingleNode(b)}if(document.implementation.hasFeature("XPath","3.0")){c=goog.dom.getOwnerDocument(a);var d=c.createNSResolver(c.documentElement);return c.evaluate(b,a,d,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}return null};
goog.dom.xml.selectNodes=function(a,b){if("undefined"!=typeof a.selectNodes){var c=goog.dom.getOwnerDocument(a);"undefined"!=typeof c.setProperty&&c.setProperty("SelectionLanguage","XPath");return a.selectNodes(b)}if(document.implementation.hasFeature("XPath","3.0")){c=goog.dom.getOwnerDocument(a);var d=c.createNSResolver(c.documentElement);a=c.evaluate(b,a,d,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);b=[];c=a.snapshotLength;for(d=0;d<c;d++)b.push(a.snapshotItem(d));return b}return[]};
goog.dom.xml.setAttributes=function(a,b){for(var c in b)b.hasOwnProperty(c)&&a.setAttribute(c,b[c])};goog.dom.xml.createMsXmlDocument_=function(){var a=new ActiveXObject("MSXML2.DOMDocument");a.resolveExternals=!1;a.validateOnParse=!1;try{a.setProperty("ProhibitDTD",!0),a.setProperty("MaxXMLSize",goog.dom.xml.MAX_XML_SIZE_KB),a.setProperty("MaxElementDepth",goog.dom.xml.MAX_ELEMENT_DEPTH)}catch(b){}return a};os.data.FeatureEventType={COLOR:"feature:color",VALUECHANGE:"feature:valueChange"};os.data.FeatureEvent=function(a,b,c,d){goog.events.Event.call(this,a);this.id=b;this.newVal=c;this.oldVal=d};goog.inherits(os.data.FeatureEvent,goog.events.Event);os.mixin.feature={};ol.Feature.NAME="ol.Feature";os.registerClass(ol.Feature.NAME,ol.Feature);ol.Feature.prototype.set=function(a,b,c){void 0===b?delete this.values_[a]:this.values_[a]=b};ol.Feature.prototype.unset=function(a,b){delete this.values_[a]};ol.Feature.prototype.clone=function(){var a=new ol.Feature;a.setProperties(this.values_,!0);a.setGeometryName(this.getGeometryName());var b=this.getGeometry();null!=b&&a.setGeometry(b.clone());a.setId(this.getId());return a};
ol.Feature.prototype.setStyle=function(a){this.styleFunction_=(this.style_=a)?this.getStyleFn:void 0};ol.Feature.prototype.getStyleFn=function(a){return this.style_ instanceof ol.style.Style?[this.style_]:"function"==typeof this.style_?(a=this.style_(a))?a instanceof ol.style.Style?[a]:a:[]:this.style_};ol.Feature.prototype.eventsEnabled=!1;ol.Feature.nextId=0;ol.Feature.prototype.setId=function(a){this.id_=a;null==this.id&&(this.id=ol.Feature.nextId,ol.Feature.nextId++);this.changed()};
ol.Feature.prototype.dispatchFeatureEvent=function(a,b,c){os.dispatcher.dispatchEvent(new os.data.FeatureEvent(a,this.id,b,c))};os.im.mapping={};os.im.mapping.DEFAULT_SCORETYPE="default";os.im.mapping.TimeFormat={ISO:"ISO",TIMESTAMP:"Timestamp"};os.im.mapping.TimeType={INSTANT:"instant",START:"start",END:"end",PUBLICATION:"publication"};os.im.mapping.getTimeTypeForString=function(a){return"start"===a?os.im.mapping.TimeType.START:"end"===a?os.im.mapping.TimeType.END:"pub"==a?os.im.mapping.TimeType.PUBLICATION:os.im.mapping.TimeType.INSTANT};
os.im.mapping.getItemField=function(a,b){return os.instanceOf(a,ol.Feature.NAME)?a.values_[b]:a[b]};os.im.mapping.getItemFields=function(a){return os.instanceOf(a,ol.Feature.NAME)?goog.object.getKeys(a.values_):goog.object.getKeys(a)};os.im.mapping.setItemField=function(a,b,c){os.instanceOf(a,ol.Feature.NAME)?void 0===c?a.unset(b,!0):a.set(b,c,!0):void 0!==c?a[b]=c:delete a[b]};
os.im.mapping.getBestFieldMatch=function(a,b,c){var d=void 0,e=Number.MAX_VALUE,f=Number.MAX_VALUE;a=os.instanceOf(a,ol.Feature.NAME)?a.values_:a;for(var g in a)(a=g.match(b))&&(a.index<f||a.index==f&&g.length<d.length)&&(d=g,f=a.index,g==c&&(e=f));if(null==d||f>e)d=c;return d};os.im.mapping.reduceMappings=function(a){for(var b=0,c=a.length;c--;){var d=a[c];b=Math.max(d.getScore(),b)}for(c=a.length;c--;)d=a[c],d.getScore()<b&&a.splice(c,1);return a};
os.im.mapping.momentFormatToJavaFormat=function(a){if(!a)return null;a=a.replace(/T/g,"'T'");a=a.replace(/Y/g,"y");a=a.replace(/D/g,"d");return a=a.replace(/ZZ/g,"Z")};os.im.mapping.javaFormatToMomentFormat=function(a){if(!a)return null;a=a.replace(/'T'/g,"T");a=a.replace(/y/g,"Y");return a=a.replace(/d/g,"D")};os.im.mapping.localFieldToXmlField=function(a){if(!a)return null;var b=/^(Column )(\d+)$/.exec(a);return b&&3==b.length?"COLUMN_"+(Number(b[2])+1):a};
os.im.mapping.xmlFieldToLocalField=function(a){if(!a)return null;var b=/^(COLUMN_)(\d+)$/.exec(a);return b&&3==b.length?"Column "+(Number(b[2])-1):a};os.im.mapping.IMapping=function(){};os.im.mapping.MappingRegistry=function(){this.registry_={}};goog.addSingletonGetter(os.im.mapping.MappingRegistry);os.im.mapping.MappingRegistry.LOGGER_=goog.log.getLogger("os.im.mapping.MappingRegistry");os.im.mapping.MappingRegistry.prototype.registerMapping=function(a,b){if(this.registry_[a])return goog.log.error(os.im.mapping.MappingRegistry.LOGGER_,"A mapping with key: "+a+" was already applied. Additional mappings with the same name are not allowed."),!1;this.registry_[a]=b;return!0};
os.im.mapping.MappingRegistry.prototype.getMapping=function(a){var b=this.registry_[a];if(b)return new b;goog.log.error(os.im.mapping.MappingRegistry.LOGGER_,"There was no class associated with the key: "+a);return null};os.im.mapping.MappingRegistry.prototype.restore=function(a){var b=this.registry_[a.id];if(b)return b=new b,b.restore(a),b;goog.log.error(os.im.mapping.MappingRegistry.LOGGER_,"There was no class associated with the configuration object.");return null};os.im.mapping.MappingManager=function(){this.mappings_={};this.registry_=os.im.mapping.MappingRegistry.getInstance()};goog.addSingletonGetter(os.im.mapping.MappingManager);os.im.mapping.MappingManager.LOGGER_=goog.log.getLogger("os.im.mapping.MappingManager");os.im.mapping.MappingManager.prototype.getMappings=function(){return this.mappings_};os.im.mapping.MappingManager.prototype.getMapping=function(a){return this.mappings_[a]||null};
os.im.mapping.MappingManager.prototype.registerMapping=function(a){var b=a.getId();b?this.mappings_[b]=a:goog.log.error(os.im.mapping.MappingManager.LOGGER_,'Unable to register mapping without an identifier! Mapping label is "'+a.getLabel()+'".')};os.im.mapping.MappingManager.prototype.autoDetect=function(a){var b=[],c;for(c in this.mappings_){var d=this.mappings_[c].autoDetect(a);d&&b.push(d)}return this.retainHighestScoreMappings(b)};
os.im.mapping.MappingManager.prototype.retainHighestScoreMappings=function(a){var b=[];if(a){a=goog.array.bucket(a,function(a){return a.getScoreType()||os.im.mapping.DEFAULT_SCORETYPE});for(var c in a)b=c==os.im.mapping.DEFAULT_SCORETYPE?b.concat(a[c]):b.concat(os.im.mapping.reduceMappings(a[c]))}return b};os.im.mapping.MappingManager.prototype.persistMappings=function(a){for(var b={},c=0,d=a.length;c<d;c++)b[c]=a[c].persist();return b};
os.im.mapping.MappingManager.prototype.restoreMapping=function(a){var b=null;if("id"in a){var c=a.id,d=this.getMapping(c);if(d)try{var e=d.clone();e.restore(a);b=e}catch(f){goog.log.error(os.im.mapping.MappingManager.LOGGER_,f.message,f)}else goog.log.error(os.im.mapping.MappingManager.LOGGER_,'Failed to restore mapping: no mapping registered with id "'+c+'".')}else goog.log.error(os.im.mapping.MappingManager.LOGGER_,"Failed to restore mapping: persisted mapping does not have an id:\n"+goog.debug.expose(a));
return b};os.im.mapping.MappingManager.prototype.restoreMappings=function(a){var b=[],c;for(c in a){var d=this.restoreMapping(a[c]);d&&b.push(d)}return b};os.im.mapping.MappingManager.prototype.toXml=function(a){for(var b=os.xml.createElement("mappings"),c=0,d=a.length;c<d;c++)try{var e=a[c];b.appendChild(e.toXml())}catch(f){goog.log.error(os.im.mapping.MappingManager.LOGGER_,"Failed to restore mapping from xml:\n"+goog.debug.expose(e))}return b};
os.im.mapping.MappingManager.prototype.fromXml=function(a){var b=this.registry_.getMapping(a.getAttribute("type"));if(b)return b.fromXml(a),b;goog.log.error(os.im.mapping.MappingManager.LOGGER_,"There was no class associated with the configuration object.");return null};os.math={};os.math.DEFAULT_DECIMAL_PRECISION=3;os.math.toFixed=function(a,b){b=goog.isDefAndNotNull(b)?b:os.math.DEFAULT_DECIMAL_PRECISION;return a.toFixed(b)};os.math.toPrecision=function(a,b){return a.toPrecision(b||6)};os.math.roundWithPrecision=function(a,b){b=Math.pow(10,b);return Math.round(a*b)/b};os.math.max=function(a){for(var b=0<a.length?a[0]:null,c=1,d=a.length;c<d;c++)b=Math.max(a[c],b);return b};
os.math.min=function(a){for(var b=0<a.length?a[0]:null,c=1,d=a.length;c<d;c++)b=Math.min(a[c],b);return b};os.math.precision=function(a){if(!isFinite(a))return 0;for(var b=1,c=0;Math.round(a*b)/b!==a;)b*=10,c++;return c};os.math.range=function(a){var b=null;0<a.length&&(b=[os.math.min(a),os.math.max(a)]);return b};os.math.parseNumber=function(a){return"number"===typeof a?a:"string"===typeof a&&(a=a.trim())?Number(a):NaN};os.math.AngleUnitLabels={};os.math.Units={KILOMETERS:"km",METERS:"m",NAUTICAL_MILES:"nmi",MILES:"mi",FEET:"ft"};os.math.AngleUnits={DEGREES:"degrees"};os.math.OLUnits={metric:os.math.Units.KILOMETERS,imperial:os.math.Units.MILES,nautical:os.math.Units.NAUTICAL_MILES};os.math.UnitLabels={Kilometers:os.math.Units.KILOMETERS,Meters:os.math.Units.METERS,"Nautical Miles":os.math.Units.NAUTICAL_MILES,Miles:os.math.Units.MILES,Feet:os.math.Units.FEET};
os.math.ReadableNumbers=["","k"," Million"," Billion"," Trillion"];os.math.METERS_TO_FEET=3.28084;os.math.METERS_TO_MILES=os.math.METERS_TO_FEET/5280;os.math.METERS_TO_NAUTICAL_MILES=os.math.METERS_TO_FEET/6076;os.math.METERS_TO_KILOMETERS=.001;
os.math.convertUnits=function(a,b,c){c=c||os.math.Units.METERS;if(c==b)return a;if(c!=os.math.Units.METERS)switch(c){case os.math.Units.KILOMETERS:a/=os.math.METERS_TO_KILOMETERS;break;case os.math.Units.NAUTICAL_MILES:a/=os.math.METERS_TO_NAUTICAL_MILES;break;case os.math.Units.MILES:a/=os.math.METERS_TO_MILES;break;case os.math.Units.FEET:a/=os.math.METERS_TO_FEET;break;default:return NaN}c=1;switch(b){case os.math.Units.METERS:break;case os.math.Units.KILOMETERS:c=os.math.METERS_TO_KILOMETERS;
break;case os.math.Units.MILES:c=os.math.METERS_TO_MILES;break;case os.math.Units.FEET:c=os.math.METERS_TO_FEET;break;case os.math.Units.NAUTICAL_MILES:c=os.math.METERS_TO_NAUTICAL_MILES;break;default:return NaN}return a*c};
os.math.stringifyUnits=function(a,b,c){c=c||os.math.Units.METERS;a=os.math.convertUnits(a,b,c);if(isNaN(a))return"Units unsupported ("+c+" to "+b+")";.1>a&&(b==os.math.Units.MILES?(a*=5280,b=os.math.Units.FEET):b==os.math.Units.NAUTICAL_MILES?(a*=6076,b=os.math.Units.FEET):b==os.math.Units.KILOMETERS&&(a/=os.math.METERS_TO_KILOMETERS,b=os.math.Units.METERS));return os.math.toFixed(a)+" "+b};
os.math.getNextUnit=function(a){var b=!1,c;for(c in os.math.OLUnits){if(b)return c;os.math.OLUnits[c]==a&&(b=!0)}return goog.object.getKeys(os.math.OLUnits)[0]};os.math.readableNumber=function(a){var b=Math.floor(Math.log(a)/Math.log(1E3));return 1E3<=a?(a/Math.pow(1E3,b)).toFixed(2)+os.math.ReadableNumbers[b]:a.toString()};os.style={};
os.style.StyleField={ARROW_SIZE:"arrowSize",CENTER_SHAPE:"centerShape",COLOR:"color",FILL:"fill",ICON:"icon",IMAGE:"image",LABELS:"labels",LABEL_COLOR:"labelColor",LABEL_GEOMETRY:"_labelGeometry",LABEL_SIZE:"labelSize",LAST_SHOW_LABELS:"_lastShowLabels",LOB_BEARING_COLUMN:"lobBearingColumn",LOB_BEARING_ERROR:"lobBearingError",LOB_BEARING_ERROR_COLUMN:"lobBearingErrorColumn",LOB_LENGTH:"lobLength",LOB_LENGTH_COLUMN:"lobLengthColumn",LOB_LENGTH_ERROR:"lobLengthError",LOB_LENGTH_ERROR_COLUMN:"lobLengthErrorColumn",OPACITY:"opacity",
REPLACE_STYLE:"replaceStyle",SHAPE:"shape",SHOW_ARROW:"showArrow",SHOW_ELLIPSE:"showEllipse",SHOW_ERROR:"showError",SHOW_ELLIPSOIDS:"showEllipsoids",SHOW_GROUND_REF:"showGroundRef",SHOW_LABELS:"showLabels",SHOW_LABEL_COLUMNS:"showLabelColumns",SIZE:"size",SKIP_LAYER_STYLE:"skipLayerStyle",STROKE:"stroke",STYLE_URL:"styleUrl"};os.style.StyleField.REGEXP=function(){for(var a=goog.object.getValues(os.style.StyleField),b=0,c=a.length;b<c;b++)a[b]="("+a[b]+")";return new RegExp("^(_.*|"+a.join("|")+")$")}();os.style.StyleType={FEATURE:"_style",SELECT:"_selectStyle",HIGHLIGHT:"_highlightStyle",CUSTOM_HIGHLIGHT:"_customHighlightStyle",LABELS:"_labelsStyle"};os.style.StyleType.REGEXP=function(){for(var a=goog.object.getValues(os.style.StyleType),b=0,c=a.length;b<c;b++)a[b]="("+a[b]+")";return new RegExp("^("+a.join("|")+")$")}();os.ui.filter={};os.ui.filter.string={};os.ui.filter.string.quoteString=function(a){return JSON.stringify(String(a))};os.ui.filter.string.escapeString=function(a){return String(a).replace(/([\\"])/g,"\\$1")};
os.ui.filter.string.escapeRegExp=function(a,b,c){a=String(a).replace(/([-()\[\]{}+?$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08");c=c||".";b=b||"*";"."!=c&&(a=a.replace(/\./g,"\\."),c!=b&&(c=new RegExp(goog.string.regExpEscape(c),"g"),a=a.replace(c,".")));"*"!=b&&(a=a.replace(/\*/g,"\\*"));b=new RegExp(goog.string.regExpEscape(b),"g");return a=a.replace(b,".*")};os.feature={};os.feature.TITLE_REGEX=/^(name|title)$/i;os.feature.autoMap=function(a,b){if(a&&0<a.length){var c=os.im.mapping.MappingManager.getInstance();b=goog.isDef(b)?a.slice(0,b):[a[0]];c.autoDetect(b).forEach(function(b){for(var c=0;c<a.length;c++)b.execute(a[c])})}};os.feature.simplifyGeometry=function(a){if(a){var b=a.getGeometry();if(b){var c=os.geo.flattenGeometry(b);c!=b&&a.setGeometry(c)}}};
os.feature.getSemiMajor=function(a,b){return(a=os.feature.getEllipseField_(a,os.fields.DEFAULT_SEMI_MAJ_COL_NAME,os.Fields.SEMI_MAJOR,os.Fields.SEMI_MAJOR_UNITS,b))?Math.abs(a):void 0};os.feature.getSemiMinor=function(a,b){return(a=os.feature.getEllipseField_(a,os.fields.DEFAULT_SEMI_MIN_COL_NAME,os.Fields.SEMI_MINOR,os.Fields.SEMI_MINOR_UNITS,b))?Math.abs(a):void 0};os.feature.getOrientation=function(a){a=os.math.parseNumber(a.get(os.Fields.ORIENTATION));return isNaN(a)?void 0:a};
os.feature.getRadius=function(a,b){return(a=os.feature.getEllipseField_(a,void 0,os.Fields.RADIUS,os.Fields.RADIUS_UNITS,b))?Math.abs(a):void 0};os.feature.getBearing=function(a){a=os.math.parseNumber(a.get(os.Fields.BEARING));return isNaN(a)?void 0:a};
os.feature.getEllipseField_=function(a,b,c,d,e){var f=NaN;e=e||os.math.Units.NAUTICAL_MILES;if(a){b&&(f=os.math.parseNumber(a.values_[b]));if(isNaN(f))c&&(f=os.math.parseNumber(a.values_[c]),d&&(g=a.values_[d]));else var g=os.math.Units.NAUTICAL_MILES;isNaN(f)||(f=g&&goog.object.containsValue(os.math.Units,g)?os.math.convertUnits(f,e,g):os.geo.convertEllipseValue(f))}return isNaN(f)?void 0:f};
os.feature.createEllipse=function(a,b){if(!b){var c=a.values_[os.data.RecordField.ELLIPSE];if(c instanceof os.geom.Ellipse)return c}b=a?a.getGeometry():null;if(b instanceof ol.geom.Point){var d=ol.proj.toLonLat(b.getFirstCoordinate(),os.map.PROJECTION);if(d){var e=os.feature.getSemiMajor(a,os.math.Units.METERS),f=os.feature.getSemiMinor(a,os.math.Units.METERS),g=os.feature.getOrientation(a),h=os.feature.getRadius(a,os.math.Units.METERS);e&&f&&null!=g?c=new os.geom.Ellipse(d,e,f,g):h&&(c=new os.geom.Ellipse(d,
h))}}a.set(os.data.RecordField.ELLIPSE,c||b);return c};os.feature.getColumnValue=function(a,b,c){return b?a.values_[b]&&(c=parseFloat(a.values_[b]),c==a.values_[b])?c:NaN:c?c:NaN};
os.feature.createLineOfBearing=function(a,b,c){if(!b){var d=a.values_[os.data.RecordField.LINE_OF_BEARING];if(d instanceof ol.geom.MultiLineString)return d}b=a?a.getGeometry():null;if(c&&b instanceof ol.geom.Point){var e=ol.proj.toLonLat(b.getFirstCoordinate(),os.map.PROJECTION),f=os.feature.getColumnValue(a,c.bearingColumn),g=os.feature.getColumnValue(a,c.lengthColumn,os.style.DEFAULT_LOB_MULTIPLIER);if(e&&!goog.isNull(f)&&!goog.isNull(g)&&!isNaN(f)&&!isNaN(g)&&0!=g){f%=360;f+=0>=f?360:0;var h=[];
3>e.length&&(e[2]=0);var k=c.length||os.style.DEFAULT_LOB_LENGTH,l=osasm.geodesicDirect(e,0>g?(f+180)%360:f,Math.min(Math.abs(g*k),os.geo.MAX_LINE_LENGTH));l[2]=e[2];d=new ol.geom.LineString([e,l],ol.geom.GeometryLayout.XYZM);d=os.geo.splitOnDateLine(d);d instanceof ol.geom.LineString&&h.push(d.getCoordinates());if(c.showArrow){var m=c.arrowLength||os.style.DEFAULT_ARROW_SIZE,n=osasm.geodesicDirect(l,f+180-45,m);n.push(e[2]);n=new ol.geom.LineString([l,n],ol.geom.GeometryLayout.XYZM);n=os.geo.splitOnDateLine(n);
n instanceof ol.geom.LineString&&h.push(n.getCoordinates());m=osasm.geodesicDirect(l,f+180+45,m);m.push(e[2]);m=new ol.geom.LineString([l,m],ol.geom.GeometryLayout.XYZM);m=os.geo.splitOnDateLine(m);m instanceof ol.geom.LineString&&h.push(m.getCoordinates())}0<h.length&&(d=new ol.geom.MultiLineString(h,ol.geom.GeometryLayout.XYZM),d.set(os.geom.GeometryField.NORMALIZED,!0),d.osTransform());var p=n=null;if(c.showError){h=Math.abs(os.feature.getColumnValue(a,c.lengthErrorColumn));m=c.lengthError||os.style.DEFAULT_LOB_LENGTH_ERROR;
var q=Math.abs(os.feature.getColumnValue(a,c.bearingErrorColumn)),r=c.bearingError||os.style.DEFAULT_LOB_BEARING_ERROR;if(goog.isNull(q)||isNaN(q))q=0;if(goog.isNull(h)||isNaN(h))h=0;0<q?(l=os.geo.interpolateArc(e,(g+h*m)*k,Math.min(2*q*r*2,360),f),n=new ol.geom.LineString(l,ol.geom.GeometryLayout.XYZM),n=os.geo.splitOnDateLine(n),n.set(os.geom.GeometryField.NORMALIZED,!0),n.osTransform(),0<h&&(e=os.geo.interpolateArc(e,(g-h*m)*k,Math.min(2*q*r*2,360),f),p=new ol.geom.LineString(e,ol.geom.GeometryLayout.XYZM),
p=os.geo.splitOnDateLine(p),p.set(os.geom.GeometryField.NORMALIZED,!0),p.osTransform())):0<h&&(k=osasm.geodesicDirect(l,f+180,-h*m),g=osasm.geodesicDirect(k,f+90,-h*m),g.push(e[2]),k=osasm.geodesicDirect(k,f-90,-h*m),k.push(e[2]),n=new ol.geom.LineString([k,g],ol.geom.GeometryLayout.XYZM),n=os.geo.splitOnDateLine(n),n.set(os.geom.GeometryField.NORMALIZED,!0),n.osTransform(),g=osasm.geodesicDirect(l,f+180,h*m),l=osasm.geodesicDirect(g,f+90,h*m),l.push(e[2]),f=osasm.geodesicDirect(g,f-90,h*m),f.push(e[2]),
p=new ol.geom.LineString([f,l],ol.geom.GeometryLayout.XYZM),p=os.geo.splitOnDateLine(p),p.set(os.geom.GeometryField.NORMALIZED,!0),p.osTransform())}a.set(os.data.RecordField.LINE_OF_BEARING_ERROR_HIGH,n);a.set(os.data.RecordField.LINE_OF_BEARING_ERROR_LOW,p);c.showEllipse?os.feature.createEllipse(a):a.set(os.data.RecordField.ELLIPSE,null)}}a.set(os.data.RecordField.LINE_OF_BEARING,d||b);return d};
os.feature.setAltitude=function(a,b){var c=b||os.Fields.ALT;b=a.getGeometry();if(b instanceof ol.geom.Point){var d=b.getFlatCoordinates();if(3>d.length||0===d[2])a=Number(a.get(c)||0),isNaN(a)&&(a=0),d[2]=a,b.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,d)}};
os.feature.populateCoordFields=function(a,b,c){var d=!1;c=c||a.getGeometry();if(c instanceof ol.geom.Point&&(c=c.getFlatCoordinates(),1<c.length)){c=ol.proj.toLonLat(c,os.map.PROJECTION);if(b||void 0==a.values_[os.Fields.MGRS])a.values_[os.Fields.MGRS]=osasm.toMGRS(c),d=!0;if(b||void 0==a.values_[os.Fields.LAT])a.values_[os.Fields.LAT]=c[1],d=!0;if(b||void 0==a.values_[os.Fields.LON])a.values_[os.Fields.LON]=c[0],d=!0;(b||void 0==a.values_[os.Fields.ALT])&&c[2]&&(a.values_[os.Fields.ALT]=c[2],d=!0);
if(b||void 0==a.values_[os.Fields.LAT_DMS])a.values_[os.Fields.LAT_DMS]=os.geo.toSexagesimal(c[1],!1),d=!0;if(b||void 0==a.values_[os.Fields.LON_DMS])a.values_[os.Fields.LON_DMS]=os.geo.toSexagesimal(c[0],!0),d=!0}d&&a.changed()};os.feature.getField=function(a,b){return a?a.get(b):void 0};os.feature.getTitle=function(a){if(a)for(var b in a.values_)if(os.feature.TITLE_REGEX.test(b)){var c=a.values_[b];if(c&&"string"===typeof c){var d=c;break}}return d};
os.feature.VALUES_FIELD_=function(){var a=new ol.Feature;a.set("__valuestest__",!0,!0);for(var b in a)if(a.hasOwnProperty(b)&&"object"==typeof a[b]&&1==a[b].__valuestest__)return b;return"values_"}();os.feature.filterFnGetter=function(a,b){return a+"."+os.feature.VALUES_FIELD_+"["+os.ui.filter.string.quoteString(b)+"]"};os.feature.isInternalField=function(a){return os.data.RecordField.REGEXP.test(a)||os.style.StyleType.REGEXP.test(a)||os.style.StyleField.REGEXP.test(a)};
os.feature.getLayer=function(a){var b=null;a&&(a=a.get(os.data.RecordField.SOURCE_ID))&&(b=os.MapContainer.getInstance().getLayer(a));return b};os.feature.getSource=function(a,b){var c=null;null!=b&&(b=b.getSource(),os.instanceOf(b,os.source.Vector.NAME)&&(c=b));null==c&&null!=a&&(a=a.get(os.data.RecordField.SOURCE_ID))&&(c=os.osDataManager.getSource(a));return c};
os.feature.getColor=function(a,b,c){if(a){var d=a.values_[os.data.RecordField.COLOR];if(!d){var e=os.style.getLayerConfig(a);e&&e[os.style.StyleField.REPLACE_STYLE]&&(d=os.style.getConfigColor(e,!1))}d||(e=a.values_[os.style.StyleType.FEATURE])&&(d=os.style.getConfigColor(e)||void 0);if(d)return d;if(b)return b.getColor();if(null!==b&&(a=os.feature.getSource(a)))return a.getColor()}return void 0!==c?c:os.style.DEFAULT_LAYER_COLOR};
os.feature.getShapeName=function(a,b,c){var d=a.values_[os.style.StyleField.SHAPE];(!d||c)&&(a=b||os.feature.getSource(a))&&os.instanceOf(a,os.source.Vector.NAME)&&(a=a.getGeometryShape(),c||a!==os.style.ShapeType.DEFAULT)&&(d=a);return d};os.feature.getCenterShapeName=function(a,b,c){var d=a.values_[os.style.StyleField.CENTER_SHAPE];(!d||c)&&(a=b||os.feature.getSource(a))&&os.instanceOf(a,os.source.Vector.NAME)&&(a=a.getCenterGeometryShape(),c||a!==os.style.ShapeType.DEFAULT)&&(d=a);return d};
os.feature.hideLabel=function(a){return a&&!1!==a.values_[os.style.StyleField.SHOW_LABELS]?(a.values_[os.style.StyleField.SHOW_LABELS]=!1,!0):!1};os.feature.showLabel=function(a){return a&&!0!==a.values_[os.style.StyleField.SHOW_LABELS]?a.values_[os.style.StyleField.SHOW_LABELS]=!0:!1};
os.feature.update=function(a,b){b||(b=os.feature.getSource(a));!b&&os.MapContainer.getInstance().containsFeature(a)&&(b=os.MapContainer.getInstance().getLayer(os.MapContainer.DRAW_ID).getSource());var c=a.getId();c&&b&&b.getFeatureById(c)&&(b.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.CHANGEFEATURE,a)),b.changed())};os.feature.removeFeatures=function(a,b){(a=os.osDataManager.getSource(a))&&b&&a.removeFeatures(b)};
os.feature.copyFeature=function(a,b){var c=a.clone();c.setId(ol.getUid(c));var d=a.get(os.style.StyleType.FEATURE)||b||os.style.DEFAULT_VECTOR_CONFIG;b=os.style.createFeatureConfig(a,d,b);c.set(os.style.StyleType.FEATURE,b);if(d=os.feature.getShapeName(a))d==os.style.ShapeType.DEFAULT&&(d=os.style.isIconConfig(b)?os.style.ShapeType.ICON:os.style.ShapeType.POINT),d=d.replace(/^Selected /,""),c.set(os.style.StyleField.SHAPE,d);if(a=os.feature.getCenterShapeName(a))a==os.style.ShapeType.DEFAULT&&(a=
os.style.isIconConfig(b)?os.style.ShapeType.ICON:os.style.ShapeType.POINT),a=a.replace(/^Selected /,""),c.set(os.style.StyleField.CENTER_SHAPE,a);return c};os.feature.updateFeaturesFadeStyle=function(a,b,c){if(c=c||os.feature.getSource(a[0]))for(var d=0,e=a.length;d<e;d++){var f=a[d],g=os.style.getLayerConfig(f,c),h=f.values_[os.style.StyleType.FEATURE]||g||os.style.DEFAULT_VECTOR_CONFIG;os.style.setConfigOpacityColor(h,b);g=os.style.createFeatureStyle(f,h,g);f.setStyle(g)}};
os.feature.sourceIdEquals=function(a,b){return b.values_[os.data.RecordField.SOURCE_ID]==a};os.feature.sortByField=function(a,b,c){b=b.values_[a];a=c.values_[a];return null!=b&&null!=a?"string"==typeof b&&"string"==typeof a?goog.string.floatAwareCompare(b,a):goog.array.defaultCompare(b,a):null!=b?-1:null!=a?1:0};os.feature.sortByTime=function(a,b){a=a.values_[os.data.RecordField.TIME];b=b.values_[os.data.RecordField.TIME];return a&&b?(a=a.getStart(),b=b.getStart(),a>b?1:a<b?-1:0):a?1:b?-1:0};
os.feature.idCompare=function(a,b){return a.id_>b.id_?1:a.id_<b.id_?-1:0};os.IXmlPersistable=function(){};goog.i18n.TimeZone=function(){};goog.i18n.TimeZone.MILLISECONDS_PER_HOUR_=36E5;goog.i18n.TimeZone.NameType={STD_SHORT_NAME:0,STD_LONG_NAME:1,DLT_SHORT_NAME:2,DLT_LONG_NAME:3};goog.i18n.TimeZone.createTimeZone=function(a){if("number"==typeof a)return goog.i18n.TimeZone.createSimpleTimeZone_(a);var b=new goog.i18n.TimeZone;b.timeZoneId_=a.id;b.standardOffset_=-a.std_offset;b.tzNames_=a.names;b.tzNamesExt_=a.names_ext;b.transitions_=a.transitions;return b};
goog.i18n.TimeZone.createSimpleTimeZone_=function(a){var b=new goog.i18n.TimeZone;b.standardOffset_=a;b.timeZoneId_=goog.i18n.TimeZone.composePosixTimeZoneID_(a);var c=goog.i18n.TimeZone.composeUTCString_(a);a=goog.i18n.TimeZone.composeGMTString_(a);b.tzNames_=[c,c];b.tzNamesExt_={STD_LONG_NAME_GMT:a,STD_GENERIC_LOCATION:a};b.transitions_=[];return b};
goog.i18n.TimeZone.composeGMTString_=function(a){var b=["GMT"];b.push(0>=a?"+":"-");a=Math.abs(a);b.push(goog.string.padNumber(Math.floor(a/60)%100,2),":",goog.string.padNumber(a%60,2));return b.join("")};goog.i18n.TimeZone.composePosixTimeZoneID_=function(a){if(0==a)return"Etc/GMT";var b=["Etc/GMT",0>a?"-":"+"];a=Math.abs(a);b.push(Math.floor(a/60)%100);a%=60;0!=a&&b.push(":",goog.string.padNumber(a,2));return b.join("")};
goog.i18n.TimeZone.composeUTCString_=function(a){if(0==a)return"UTC";var b=["UTC",0>a?"+":"-"];a=Math.abs(a);b.push(Math.floor(a/60)%100);a%=60;0!=a&&b.push(":",a);return b.join("")};goog.i18n.TimeZone.prototype.getTimeZoneData=function(){return{id:this.timeZoneId_,std_offset:-this.standardOffset_,names:goog.array.clone(this.tzNames_),names_ext:goog.object.clone(this.tzNamesExt_),transitions:goog.array.clone(this.transitions_)}};
goog.i18n.TimeZone.prototype.getDaylightAdjustment=function(a){a=Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes())/goog.i18n.TimeZone.MILLISECONDS_PER_HOUR_;for(var b=0;b<this.transitions_.length&&a>=this.transitions_[b];)b+=2;return 0==b?0:this.transitions_[b-1]};goog.i18n.TimeZone.prototype.getGMTString=function(a){return goog.i18n.TimeZone.composeGMTString_(this.getOffset(a))};
goog.i18n.TimeZone.prototype.getLongName=function(a){return this.tzNames_[this.isDaylightTime(a)?goog.i18n.TimeZone.NameType.DLT_LONG_NAME:goog.i18n.TimeZone.NameType.STD_LONG_NAME]};goog.i18n.TimeZone.prototype.getOffset=function(a){return this.standardOffset_-this.getDaylightAdjustment(a)};goog.i18n.TimeZone.prototype.getRFCTimeZoneString=function(a){a=-this.getOffset(a);var b=[0>a?"-":"+"];a=Math.abs(a);b.push(goog.string.padNumber(Math.floor(a/60)%100,2),goog.string.padNumber(a%60,2));return b.join("")};
goog.i18n.TimeZone.prototype.getShortName=function(a){return this.tzNames_[this.isDaylightTime(a)?goog.i18n.TimeZone.NameType.DLT_SHORT_NAME:goog.i18n.TimeZone.NameType.STD_SHORT_NAME]};goog.i18n.TimeZone.prototype.getTimeZoneId=function(){return this.timeZoneId_};goog.i18n.TimeZone.prototype.isDaylightTime=function(a){return 0<this.getDaylightAdjustment(a)};
goog.i18n.TimeZone.prototype.getLongNameGMT=function(a){return this.isDaylightTime(a)?(goog.isDef(this.tzNamesExt_.DST_LONG_NAME_GMT),this.tzNamesExt_.DST_LONG_NAME_GMT):(goog.isDef(this.tzNamesExt_.STD_LONG_NAME_GMT),this.tzNamesExt_.STD_LONG_NAME_GMT)};goog.i18n.TimeZone.prototype.getGenericLocation=function(a){return this.isDaylightTime(a)?(goog.isDef(this.tzNamesExt_.DST_GENERIC_LOCATION),this.tzNamesExt_.DST_GENERIC_LOCATION):(goog.isDef(this.tzNamesExt_.STD_GENERIC_LOCATION),this.tzNamesExt_.STD_GENERIC_LOCATION)};goog.i18n.DateTimeFormat=function(a,b){goog.asserts.assert(goog.isDef(a),"Pattern must be defined");goog.asserts.assert(goog.isDef(b)||goog.isDef(goog.i18n.DateTimeSymbols),"goog.i18n.DateTimeSymbols or explicit symbols must be defined");this.patternParts_=[];this.dateTimeSymbols_=b||goog.i18n.DateTimeSymbols;"number"==typeof a?this.applyStandardPattern_(a):this.applyPattern_(a)};
goog.i18n.DateTimeFormat.Format={FULL_DATE:0,LONG_DATE:1,MEDIUM_DATE:2,SHORT_DATE:3,FULL_TIME:4,LONG_TIME:5,MEDIUM_TIME:6,SHORT_TIME:7,FULL_DATETIME:8,LONG_DATETIME:9,MEDIUM_DATETIME:10,SHORT_DATETIME:11};goog.i18n.DateTimeFormat.TOKENS_=[/^'(?:[^']|'')*('|$)/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^'GyMkSEahKHcLQdmsvVwzZ]+/];goog.i18n.DateTimeFormat.PartTypes_={QUOTED_STRING:0,FIELD:1,LITERAL:2};
goog.i18n.DateTimeFormat.getHours_=function(a){return a.getHours?a.getHours():0};
goog.i18n.DateTimeFormat.prototype.applyPattern_=function(a){for(goog.i18n.DateTimeFormat.removeRlmInPatterns_&&(a=a.replace(/\u200f/g,""));a;){for(var b=a,c=0;c<goog.i18n.DateTimeFormat.TOKENS_.length;++c){var d=a.match(goog.i18n.DateTimeFormat.TOKENS_[c]);if(d){var e=d[0];a=a.substring(e.length);c==goog.i18n.DateTimeFormat.PartTypes_.QUOTED_STRING&&("''"==e?e="'":(e=e.substring(1,"'"==d[1]?e.length-1:e.length),e=e.replace(/''/g,"'")));this.patternParts_.push({text:e,type:c});break}}if(b===a)throw Error("Malformed pattern part: "+
a);}};
goog.i18n.DateTimeFormat.prototype.format=function(a,b){if(!a)throw Error("The date to format must be non-null.");var c=b?6E4*(a.getTimezoneOffset()-b.getOffset(a)):0,d=c?new Date(a.getTime()+c):a,e=d;b&&d.getTimezoneOffset()!=a.getTimezoneOffset()&&(e=6E4*(d.getTimezoneOffset()-a.getTimezoneOffset()),d=new Date(d.getTime()+e),c+=0<c?-goog.date.MS_PER_DAY:goog.date.MS_PER_DAY,e=new Date(a.getTime()+c));c=[];for(var f=0;f<this.patternParts_.length;++f){var g=this.patternParts_[f].text;goog.i18n.DateTimeFormat.PartTypes_.FIELD==this.patternParts_[f].type?
c.push(this.formatField_(g,a,d,e,b)):c.push(g)}return c.join("")};goog.i18n.DateTimeFormat.prototype.applyStandardPattern_=function(a){if(4>a)var b=this.dateTimeSymbols_.DATEFORMATS[a];else if(8>a)b=this.dateTimeSymbols_.TIMEFORMATS[a-4];else if(12>a)b=this.dateTimeSymbols_.DATETIMEFORMATS[a-8],b=b.replace("{1}",this.dateTimeSymbols_.DATEFORMATS[a-8]),b=b.replace("{0}",this.dateTimeSymbols_.TIMEFORMATS[a-8]);else{this.applyStandardPattern_(goog.i18n.DateTimeFormat.Format.MEDIUM_DATETIME);return}this.applyPattern_(b)};
goog.i18n.DateTimeFormat.prototype.localizeNumbers_=function(a){return goog.i18n.DateTimeFormat.localizeNumbers(a,this.dateTimeSymbols_)};goog.i18n.DateTimeFormat.enforceAsciiDigits_=!1;goog.i18n.DateTimeFormat.removeRlmInPatterns_=!1;goog.i18n.DateTimeFormat.setEnforceAsciiDigits=function(a){goog.i18n.DateTimeFormat.enforceAsciiDigits_=a;goog.i18n.DateTimeFormat.removeRlmInPatterns_=a};goog.i18n.DateTimeFormat.isEnforceAsciiDigits=function(){return goog.i18n.DateTimeFormat.enforceAsciiDigits_};
goog.i18n.DateTimeFormat.localizeNumbers=function(a,b){a=String(a);b=b||goog.i18n.DateTimeSymbols;if(void 0===b.ZERODIGIT||goog.i18n.DateTimeFormat.enforceAsciiDigits_)return a;for(var c=[],d=0;d<a.length;d++){var e=a.charCodeAt(d);c.push(48<=e&&57>=e?String.fromCharCode(b.ZERODIGIT+e-48):a.charAt(d))}return c.join("")};goog.i18n.DateTimeFormat.prototype.formatEra_=function(a,b){b=0<b.getFullYear()?1:0;return 4<=a?this.dateTimeSymbols_.ERANAMES[b]:this.dateTimeSymbols_.ERAS[b]};
goog.i18n.DateTimeFormat.prototype.formatYear_=function(a,b){b=b.getFullYear();0>b&&(b=-b);2==a&&(b%=100);return this.localizeNumbers_(goog.string.padNumber(b,a))};goog.i18n.DateTimeFormat.prototype.formatMonth_=function(a,b){b=b.getMonth();switch(a){case 5:return this.dateTimeSymbols_.NARROWMONTHS[b];case 4:return this.dateTimeSymbols_.MONTHS[b];case 3:return this.dateTimeSymbols_.SHORTMONTHS[b];default:return this.localizeNumbers_(goog.string.padNumber(b+1,a))}};
goog.i18n.DateTimeFormat.validateDateHasTime_=function(a){if(!(a.getHours&&a.getSeconds&&a.getMinutes))throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");};goog.i18n.DateTimeFormat.prototype.format24Hours_=function(a,b){goog.i18n.DateTimeFormat.validateDateHasTime_(b);b=goog.i18n.DateTimeFormat.getHours_(b)||24;return this.localizeNumbers_(goog.string.padNumber(b,a))};
goog.i18n.DateTimeFormat.prototype.formatFractionalSeconds_=function(a,b){b=b.getTime()%1E3/1E3;return this.localizeNumbers_(b.toFixed(Math.min(3,a)).substr(2)+(3<a?goog.string.padNumber(0,a-3):""))};goog.i18n.DateTimeFormat.prototype.formatDayOfWeek_=function(a,b){b=b.getDay();return 4<=a?this.dateTimeSymbols_.WEEKDAYS[b]:this.dateTimeSymbols_.SHORTWEEKDAYS[b]};
goog.i18n.DateTimeFormat.prototype.formatAmPm_=function(a,b){goog.i18n.DateTimeFormat.validateDateHasTime_(b);a=goog.i18n.DateTimeFormat.getHours_(b);return this.dateTimeSymbols_.AMPMS[12<=a&&24>a?1:0]};goog.i18n.DateTimeFormat.prototype.format1To12Hours_=function(a,b){goog.i18n.DateTimeFormat.validateDateHasTime_(b);b=goog.i18n.DateTimeFormat.getHours_(b)%12||12;return this.localizeNumbers_(goog.string.padNumber(b,a))};
goog.i18n.DateTimeFormat.prototype.format0To11Hours_=function(a,b){goog.i18n.DateTimeFormat.validateDateHasTime_(b);b=goog.i18n.DateTimeFormat.getHours_(b)%12;return this.localizeNumbers_(goog.string.padNumber(b,a))};goog.i18n.DateTimeFormat.prototype.format0To23Hours_=function(a,b){goog.i18n.DateTimeFormat.validateDateHasTime_(b);b=goog.i18n.DateTimeFormat.getHours_(b);return this.localizeNumbers_(goog.string.padNumber(b,a))};
goog.i18n.DateTimeFormat.prototype.formatStandaloneDay_=function(a,b){b=b.getDay();switch(a){case 5:return this.dateTimeSymbols_.STANDALONENARROWWEEKDAYS[b];case 4:return this.dateTimeSymbols_.STANDALONEWEEKDAYS[b];case 3:return this.dateTimeSymbols_.STANDALONESHORTWEEKDAYS[b];default:return this.localizeNumbers_(goog.string.padNumber(b,1))}};
goog.i18n.DateTimeFormat.prototype.formatStandaloneMonth_=function(a,b){b=b.getMonth();switch(a){case 5:return this.dateTimeSymbols_.STANDALONENARROWMONTHS[b];case 4:return this.dateTimeSymbols_.STANDALONEMONTHS[b];case 3:return this.dateTimeSymbols_.STANDALONESHORTMONTHS[b];default:return this.localizeNumbers_(goog.string.padNumber(b+1,a))}};goog.i18n.DateTimeFormat.prototype.formatQuarter_=function(a,b){b=Math.floor(b.getMonth()/3);return 4>a?this.dateTimeSymbols_.SHORTQUARTERS[b]:this.dateTimeSymbols_.QUARTERS[b]};
goog.i18n.DateTimeFormat.prototype.formatDate_=function(a,b){return this.localizeNumbers_(goog.string.padNumber(b.getDate(),a))};goog.i18n.DateTimeFormat.prototype.formatMinutes_=function(a,b){goog.i18n.DateTimeFormat.validateDateHasTime_(b);return this.localizeNumbers_(goog.string.padNumber(b.getMinutes(),a))};goog.i18n.DateTimeFormat.prototype.formatSeconds_=function(a,b){goog.i18n.DateTimeFormat.validateDateHasTime_(b);return this.localizeNumbers_(goog.string.padNumber(b.getSeconds(),a))};
goog.i18n.DateTimeFormat.prototype.formatWeekOfYear_=function(a,b){b=goog.date.getWeekNumber(b.getFullYear(),b.getMonth(),b.getDate(),this.dateTimeSymbols_.FIRSTWEEKCUTOFFDAY,this.dateTimeSymbols_.FIRSTDAYOFWEEK);return this.localizeNumbers_(goog.string.padNumber(b,a))};goog.i18n.DateTimeFormat.prototype.formatTimeZoneRFC_=function(a,b,c){c=c||goog.i18n.TimeZone.createTimeZone(b.getTimezoneOffset());return 4>a?c.getRFCTimeZoneString(b):this.localizeNumbers_(c.getGMTString(b))};
goog.i18n.DateTimeFormat.prototype.formatTimeZone_=function(a,b,c){c=c||goog.i18n.TimeZone.createTimeZone(b.getTimezoneOffset());return 4>a?c.getShortName(b):c.getLongName(b)};goog.i18n.DateTimeFormat.prototype.formatTimeZoneId_=function(a,b){b=b||goog.i18n.TimeZone.createTimeZone(a.getTimezoneOffset());return b.getTimeZoneId()};goog.i18n.DateTimeFormat.prototype.formatTimeZoneLocationId_=function(a,b,c){c=c||goog.i18n.TimeZone.createTimeZone(b.getTimezoneOffset());return 2>=a?c.getTimeZoneId():c.getGenericLocation(b)};
goog.i18n.DateTimeFormat.prototype.formatField_=function(a,b,c,d,e){var f=a.length;switch(a.charAt(0)){case "G":return this.formatEra_(f,c);case "y":return this.formatYear_(f,c);case "M":return this.formatMonth_(f,c);case "k":return this.format24Hours_(f,d);case "S":return this.formatFractionalSeconds_(f,d);case "E":return this.formatDayOfWeek_(f,c);case "a":return this.formatAmPm_(f,d);case "h":return this.format1To12Hours_(f,d);case "K":return this.format0To11Hours_(f,d);case "H":return this.format0To23Hours_(f,
d);case "c":return this.formatStandaloneDay_(f,c);case "L":return this.formatStandaloneMonth_(f,c);case "Q":return this.formatQuarter_(f,c);case "d":return this.formatDate_(f,c);case "m":return this.formatMinutes_(f,d);case "s":return this.formatSeconds_(f,d);case "v":return this.formatTimeZoneId_(b,e);case "V":return this.formatTimeZoneLocationId_(f,b,e);case "w":return this.formatWeekOfYear_(f,d);case "z":return this.formatTimeZone_(f,b,e);case "Z":return this.formatTimeZoneRFC_(f,b,e);default:return""}};os.time.Duration={HOURS:"hours",DAY:"day",WEEK:"week",MONTH:"month",YEAR:"year",CUSTOM:"custom"};os.time.DATE_FORMATS="YYYY-MM-DD YYYY/MM/DD YYYYMMDD MM-DD-YYYY MM/DD/YYYY MMDDYYYY DD-MM-YYYY DD/MM/YYYY DDMMYYYY".split(" ");os.time.DATE_REGEXES={instant:/((up|start|begin).*)?(day|date|doi)/i,start:/((up|start|begin).*)?(day|date|doi)/i,end:/(down|stop|end).*(day|date|doi)/i};os.time.DATETIME_FORMATS="YYYY-MM-DDTHH:mm:ss.SSSZ;YYYY-MM-DDTHH:mm:ss.SSSZZ;YYYY-MM-DDTHH:mm:ss.SSS;YYYY-MM-DDTHH:mm:ss.SSSSZ;YYYY-MM-DDTHH:mm:ss.SSSSZZ;YYYY-MM-DDTHH:mm:ss.SSSS;YYYY-MM-DDTHH:mm:ssZ;YYYY-MM-DDTHH:mm:ssZZ;YYYY-MM-DDTHH:mm:ss;YYYY-MM-DDTHH:mmZ;YYYY-MM-DDTHH:mmZZ;YYYY-MM-DDTHH:mm;YYYY-MM-DD HH:mm:ss.SSSZ;YYYY-MM-DD HH:mm:ss.SSSZZ;YYYY-MM-DD HH:mm:ss.SSS;YYYY-MM-DD HH:mm:ss.SSSSZ;YYYY-MM-DD HH:mm:ss.SSSSZZ;YYYY-MM-DD HH:mm:ss.SSSS;YYYY-MM-DD HH:mm:ssZ;YYYY-MM-DD HH:mm:ssZZ;YYYY-MM-DD HH:mm:ss;YYYY-MM-DD HH:mmZ;YYYY-MM-DD HH:mmZZ;YYYY-MM-DD HH:mm;YYYY/MM/DD HH:mm:ss.SSSZ;YYYY/MM/DD HH:mm:ss.SSSZZ;YYYY/MM/DD HH:mm:ss.SSS;YYYY/MM/DD HH:mm:ss.SSSSZ;YYYY/MM/DD HH:mm:ss.SSSSZZ;YYYY/MM/DD HH:mm:ss.SSSS;YYYY/MM/DD HH:mm:ssZ;YYYY/MM/DD HH:mm:ssZZ;YYYY/MM/DD HH:mm:ss;YYYY/MM/DD HH:mmZ;YYYY/MM/DD HH:mmZZ;YYYY/MM/DD HH:mm;YYYY:MM:DD::HH:mm:ss.SSSZ;YYYY:MM:DD::HH:mm:ss.SSSZZ;YYYY:MM:DD::HH:mm:ss.SSS;YYYY:MM:DD::HH:mm:ss.SSSSZ;YYYY:MM:DD::HH:mm:ss.SSSSZZ;YYYY:MM:DD::HH:mm:ss.SSSS;YYYY:MM:DD::HH:mm:ssZ;YYYY:MM:DD::HH:mm:ssZZ;YYYY:MM:DD::HH:mm:ss;YYYY:MM:DD::HH:mmZ;YYYY:MM:DD::HH:mmZZ;YYYY:MM:DD::HH:mm;YYYYMMDDTHHmmssZ;YYYYMMDDTHHmmss;YYYYMMDDHHmmssZ;YYYYMMDDHHmmss;MM/DD/YYYY HH:mm:ssZ;MM/DD/YYYY HH:mm:ss;MM/DD/YYYY HH:mmZ;MM/DD/YYYY HH:mm;MM/DD/YY HH:mm:ssZ;MM/DD/YY HH:mm:ss;MM/DD/YY HH:mmZ;MM/DD/YY HH:mm".split(";");
os.time.CUSTOM_DATETIME_FORMATS="YYYY-MM-DDTHH:mm:ss.SSS Z;YYYY-MM-DDTHH:mm:ss.SSSS Z;YYYY-MM-DDTHH:mm:ss.SS Z;YYYY-MM-DDTHH:mm:ss.S Z;YYYY-MM-DDTHH:mm:ss.SSSSZ;YYYY-MM-DDTHH:mm:ss.SSSZ;YYYY-MM-DDTHH:mm:ss.SSZ;YYYY-MM-DDTHH:mm:ss.SZ;YYYY-MM-DDTHH:mm:ss.SSSS;YYYY-MM-DDTHH:mm:ss.SSS;YYYY-MM-DDTHH:mm:ss.SS;YYYY-MM-DDTHH:mm:ss.S;YYYY-MM-DDTHH:mm:ss Z;YYYY-MM-DDTHH:mm Z;YYYY-MM-DD HH:mm:ss.SSS Z;YYYY-MM-DD HH:mm:ss.SSSS Z;YYYY-MM-DD HH:mm:ss.SS Z;YYYY-MM-DD HH:mm:ss.S Z;YYYY-MM-DD HH:mm:ss.SSSSZ;YYYY-MM-DD HH:mm:ss.SSSZ;YYYY-MM-DD HH:mm:ss.SSZ;YYYY-MM-DD HH:mm:ss.SZ;YYYY-MM-DD HH:mm:ss.SS;YYYY-MM-DD HH:mm:ss.S;YYYY-MM-DD HH:mm:ss Z;YYYY-MM-DD HH:mm Z;YYYY/MM/DD HH:mm:ss.SSS Z;YYYY/MM/DD HH:mm:ss.SSSS Z;YYYY/MM/DD HH:mm:ss.SS Z;YYYY/MM/DD HH:mm:ss.S Z;YYYY/MM/DD HH:mm:ss.SSSZ;YYYY/MM/DD HH:mm:ss.SSSSZ;YYYY/MM/DD HH:mm:ss.SSZ;YYYY/MM/DD HH:mm:ss.SZ;YYYY/MM/DD HH:mm:ss.SSSS;YYYY/MM/DD HH:mm:ss.SS;YYYY/MM/DD HH:mm:ss.S;YYYY/MM/DD HH:mm:ss Z;YYYY/MM/DD HH:mm Z;MM/DD/YYYY HH:mm:ss Z;MM/DD/YYYY HH:mm Z;MM/DD/YY HH:mm:ss Z;MM/DD/YY HH:mm Z;YYDDDHHmmss;YYYYMMDD HHmmss".split(";");
os.time.DATETIME_REGEXES={instant:/((up|start|begin).*)?(date|time)/i,start:/((up|start|begin).*)?(date|time)/i,end:/(down|stop|end).*(date|time)/i};os.time.TIME_FORMATS="HH:mm:ssZ;HH:mm:ss;HH:mm:ss.SSSZ;HH:mm:ss.SSS;HH:mm:ss.SSSSZ;HH:mm:ss.SSSS;HH:mmZ;HH:mm;HHmmssZ;HHmmss;ZHHmmss;HHmmss.SSSZ;HHmmss.SSS;HHmmss.SSSSZ;HHmmss.SSSS;HHmmZ;ZHHmm;K*m*s a z".split(";");os.time.CUSTOM_TIME_FORMATS="HH:mm:ss.SSS;HH:mm:ss.SSSS;HH:mm:ss.SS;HH:mm:ss.S;HHmmss.SSSS;HHmmss.SS;HHmmss.S;HH:mm:ss.SSSZ;HH:mm:ss.SSSSZ;HH:mm:ss.SSZ;HH:mm:ss.SZ;HHmmss.SSSSZ;HHmmss.SSSZ;HHmmss.SSZ;HHmmss.SZ;HH:mm:ss.SSS Z;HH:mm:ss.SSSS Z;HH:mm:ss.SS Z;HH:mm:ss.S Z;HHmmss.SSS Z;HHmmss.SSSS Z;HHmmss.SS Z;HHmmss.S Z;HH:mm:ss Z;HH:mm Z;HHmmss Z;HHmm Z".split(";");
os.time.TIME_REGEXES={instant:/((up|start|begin).*)?(time|toi)/i,start:/((up|start|begin).*)?(time|toi)/i,end:/(down|stop|end).*(time|toi)/i};os.time.UNBOUNDED=new os.time.TimeRange(-Infinity,Infinity);os.time.timeOffset=0;os.time.timeOffsetLabel="Z";os.time.millisecondsInDay=864E5;os.time.ceil=function(a,b,c){return c?os.time.roundLocal(a,b,!1):os.time.round(a,b,!1)};os.time.floor=function(a,b,c){return c?os.time.roundLocal(a,b):os.time.round(a,b)};
os.time.format=function(a,b,c,d){b=(b||"").toLowerCase();a=a.toISOString();if("year"==b)return a.slice(0,4);if("month"==b)return a.slice(0,7);if("day"==b||"week"==b||c)return a.slice(0,10);a=a.replace(".000","");d||(a=a.replace("T"," "),a=a.replace("Z",""));return a};os.time.formatDate=function(a,b,c){if("timestamp"==b)return a.getTime().toString();c&&(a=os.time.toUTCDate(a));return(new goog.i18n.DateTimeFormat(b)).format(a)};
os.time.momentFormat=function(a,b,c){a=moment(a.toISOString());return c?a.utc().format(b):a.format(b)};
os.time.offset=function(a,b,c,d){a=d?os.time.toUTCDate(a):new Date(a.getTime());switch(b){case os.time.Duration.CUSTOM:case os.time.Duration.HOURS:a.setUTCHours(a.getUTCHours()+c);break;case os.time.Duration.DAY:a.setUTCDate(a.getUTCDate()+c);break;case os.time.Duration.WEEK:a.setUTCDate(a.getUTCDate()+7*c);break;case os.time.Duration.MONTH:a.setUTCMonth(a.getUTCMonth()+c);break;case os.time.Duration.YEAR:a.setUTCFullYear(a.getUTCFullYear()+c)}return d?os.time.toLocalDate(a):a};
os.time.detectFormat=function(a,b,c,d){a=os.time.parseMoment(a,b,c,d);return a.isValid()?os.time.userizeFormat_(a._f):null};os.time.parse=function(a,b,c,d){a=os.time.parseMoment(a,b,c,d);return a.isValid()?a.toDate():null};os.time.parseMoment=function(a,b,c,d){d=goog.isDef(d)?d:!0;var e=[];if(goog.isArray(b))for(var f=0,g=b.length;f<g;f++)e.push(os.time.normalizeFormat_(b[f]));else b?e.push(os.time.normalizeFormat_(b)):e=os.time.DATETIME_FORMATS;return c?moment.utc(a,e,d):moment(a,e,d)};
os.time.parseDuration=function(a,b){return moment.duration(a,b)};os.time.normalizeFormat_=function(a){return a.replace(/(M+|D+|H+|m+|s+)/g,function(a){return 2==a.length?a[0]:a})};os.time.userizeFormat_=function(a){return a.replace(/(M+|D+|H+|m+|s+)/g,function(a){return 1==a.length?a+a:a})};
os.time.round=function(a,b,c){var d=new Date(a.getTime());c=!goog.isDef(c)||c;b=b.toLowerCase();switch(b){case "year":d.setUTCMonth(0,1);d.setUTCHours(0,0,0,0);!c&&a.getTime()>d.getTime()&&d.setUTCFullYear(d.getUTCFullYear()+1);break;case "month":d.setUTCDate(1);d.setUTCHours(0,0,0,0);!c&&a.getTime()>d.getTime()&&d.setUTCMonth(d.getUTCMonth()+1);break;case "week":d.setUTCDate(d.getUTCDate()-d.getUTCDay());d.setUTCHours(0,0,0,0);!c&&a.getTime()>d.getTime()&&d.setUTCDate(d.getUTCDate()+7);break;case "custom":case "day":d.setUTCHours(0,
0,0,0);!c&&a.getTime()>d.getTime()&&d.setUTCDate(d.getUTCDate()+1);break;case "hour":d.setUTCMinutes(0,0,0);!c&&a.getTime()>d.getTime()&&d.setUTCHours(d.getUTCHours()+1);break;case "min":d.setUTCSeconds(0,0);!c&&a.getTime()>d.getTime()&&d.setUTCMinutes(a.getUTCMinutes()+1);break;case "sec":d.setUTCMilliseconds(0),!c&&a.getTime()>d.getTime()&&d.setUTCSeconds(a.getUTCSeconds()+1)}return d};os.time.roundLocal=function(a,b,c){return os.time.toLocalDate(os.time.round(os.time.toUTCDate(a),b,c))};
os.time.toLocalDate=function(a){return new Date(a.getTime()+6E4*a.getTimezoneOffset())};os.time.toUTCDate=function(a){return new Date(a.getTime()-6E4*a.getTimezoneOffset())};os.time.trim=function(a){return(a instanceof Date?a.toISOString():a).replace(/\.[0-9]{3}Z/,"Z")};os.time.toOffsetString=function(a,b,c){b||(b=new goog.date.UtcDateTime);c=c?0:os.time.timeOffset;var d=os.time.timeOffsetLabel;if(c)return b.setTime(a+c),b.toUTCIsoString(!0,!1)+" "+d;b.setTime(a);return b.toUTCIsoString(!0,!0)};
os.time.OFFSET_KEY="time.offset";os.time.initOffset=function(){os.time.updateOffset_();os.settings.listen(os.time.OFFSET_KEY,os.time.onOffsetChange_)};os.time.disposeOffset=function(){os.settings.unlisten(os.time.OFFSET_KEY,os.time.onOffsetChange_)};os.time.updateOffset_=function(){os.time.timeOffset=os.settings.get(["time","offset"],0);os.time.timeOffsetLabel=os.settings.get(["time","offsetLabel"],"Z")};os.time.onOffsetChange_=function(a){os.time.updateOffset_()};
os.time.applyOffset=function(a){a=a.replace(/(utc|[:])/gi,"");goog.asserts.assert(/^[+-]\d{4}$/i.test(a));var b="-"==a.substring(0,1)?-1:1,c=parseInt(a.substring(1,3),10),d=parseInt(a.substring(3,5),10);b*=36E5*c+6E4*d;0===b&&(a="Z");os.settings.set(["time","offsetLabel"],a);os.settings.set(["time","offset"],b)};os.time.dateCompare=function(a,b){return goog.array.defaultCompare(b.toISOString(),a.toISOString())};os.time.DEFAULT_TIME_FORMAT=os.time.DATETIME_FORMATS[6].replace("Z","[Z]");
os.time.replaceNow_=function(a,b,c,d){a=os.net.VariableReplacer.getParts(b);b=a[0]||0;c=parseFloat(b);isNaN(c)||(b=c);b=os.time.parseDuration(b);b=new Date(Date.now()+b.asMilliseconds());return os.time.momentFormat(b,a[1]||os.time.DEFAULT_TIME_FORMAT,!0)};os.net.VariableReplacer.add("now",os.time.replaceNow_);os.xml={};os.xml.DOCUMENT=goog.dom.xml.createDocument();os.xml.KMLNS="http://www.opengis.net/kml/2.2";os.xml.XMLNS="http://www.w3.org/2000/xmlns/";os.xml.escape=function(a){goog.isString(a)&&(a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=a.replace(/'/g,"&#39;"),a=a.replace(/"/g,"&quot;"),a=a.replace(/\//g,"&#x2F;"));return a};
os.xml.unescape=function(a){goog.isString(a)&&(a=a.replace(/&amp;/g,"&"),a=a.replace(/&lt;/g,"<"),a=a.replace(/&gt;/g,">"),a=a.replace(/&#39;/g,"'"),a=a.replace(/&quot;/g,'"'),a=a.replace(/&#x2F;/g,"/"));return a};os.xml.appendElement=function(a,b,c,d){a=os.xml.createElement(a,b.ownerDocument,c,d);b.appendChild(a);return a};os.xml.appendElementNS=function(a,b,c,d,e){a=os.xml.createElementNS(a,b,c.ownerDocument,d,e);c.appendChild(a);return a};
os.xml.createElement=function(a,b,c,d){b=b||os.xml.DOCUMENT;a=b.createElement(a);goog.isDefAndNotNull(d)&&goog.dom.xml.setAttributes(a,d);goog.isDefAndNotNull(c)&&a.appendChild(b.createTextNode(String(c)));return a};os.xml.createElementNS=function(a,b,c,d,e){c=c||os.xml.DOCUMENT;a=c.createElementNS(b,a);goog.isDefAndNotNull(e)&&goog.dom.xml.setAttributes(a,e);goog.isDefAndNotNull(d)&&a.appendChild(c.createTextNode(String(d)));return a};
os.xml.getChildrenByTagName=function(a,b){a=goog.dom.getChildren(a);return goog.array.filter(a,function(a){return a.localName==b})};os.xml.readDateTime=function(a){a=new Date(goog.dom.getTextContent(a));return isNaN(a.getTime())?null:a};
os.xml.clone=function(a,b,c,d){if(a.nodeType===goog.dom.NodeType.TEXT)c=b.ownerDocument.createTextNode(a.textContent),b.appendChild(c);else if(a.nodeType===goog.dom.NodeType.CDATA_SECTION)c=b.ownerDocument.createCDATASection(a.textContent),b.appendChild(c);else if(a.nodeType===goog.dom.NodeType.ELEMENT){if(a.hasAttributes()){var e={};for(var f=a.attributes,g=0,h=f.length;g<h;g++)"xmlns:ogc"!=f[g].name&&(e[f[g].name]=f[g].value)}b=c&&d?os.xml.appendElementNS(c+":"+a.localName,d,b,void 0,e):os.xml.appendElement(a.localName,
b,void 0,e);if((a=a.childNodes)&&0<a.length)for(g=0,h=a.length;g<h;g++)os.xml.clone(a[g],b,c,d);return b}return null};os.xml.serialize=function(a){return goog.dom.xml.serialize(a).replace(/ xmlns=""/g,"")};os.xml.getElementValueOrDefault=function(a,b){return a&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(a.textContent))?a.textContent:b};os.xml.getChildValue=function(a,b){if(a=a.querySelector(b))if(a=goog.string.makeSafe(a.textContent),!goog.string.isEmptyOrWhitespace(a))return a;return null};
os.xml.XSI_REGEX=/xsi:.*?=".*?"/gm;os.xml.loadXml=function(a){a=a.replace(os.xml.XSI_REGEX,"");return goog.dom.xml.loadXml(a)};os.im.mapping.AbstractMapping=function(){this.xmlType="AbstractMapping"};os.im.mapping.AbstractMapping.prototype.field=void 0;os.im.mapping.AbstractMapping.prototype.ui=void 0;os.im.mapping.AbstractMapping.prototype.warnings=void 0;os.im.mapping.AbstractMapping.prototype.autoDetect=function(a){return null};os.im.mapping.AbstractMapping.prototype.getId=function(){};os.im.mapping.AbstractMapping.prototype.getLabel=function(){return null};os.im.mapping.AbstractMapping.prototype.getScore=function(){return 0};
os.im.mapping.AbstractMapping.prototype.getScoreType=function(){return os.im.mapping.DEFAULT_SCORETYPE};os.im.mapping.AbstractMapping.prototype.getFieldsChanged=function(){return[this.field]};os.im.mapping.AbstractMapping.prototype.execute=goog.abstractMethod;os.im.mapping.AbstractMapping.prototype.testField=function(a){return goog.isDefAndNotNull(a)};os.im.mapping.AbstractMapping.prototype.clone=function(){var a=new this.constructor;a.field=this.field;return a};
os.im.mapping.AbstractMapping.prototype.persist=function(a){a=a||{};a.id=this.getId();a.field=this.field;return a};os.im.mapping.AbstractMapping.prototype.restore=function(a){this.field=a.field};os.im.mapping.AbstractMapping.prototype.toXml=function(){var a=os.xml.createElement("mapping",void 0,void 0,{type:this.xmlType});os.xml.appendElement("field",a,os.im.mapping.localFieldToXmlField(this.field));return a};
os.im.mapping.AbstractMapping.prototype.fromXml=function(a){this.xmlType=a.getAttribute("type");this.field=os.im.mapping.xmlFieldToLocalField(this.getXmlValue(a,"field"))};os.im.mapping.AbstractMapping.prototype.toBoolean=function(a){return"true"===a?!0:!1};os.im.mapping.AbstractMapping.prototype.getXmlValue=function(a,b){return(a=a.getElementsByTagName(b))&&a[0]?a[0].innerHTML:null};os.im.mapping.RenameMapping=function(){os.im.mapping.AbstractMapping.call(this);this.toField=void 0;this.keepOriginal=!1};goog.inherits(os.im.mapping.RenameMapping,os.im.mapping.AbstractMapping);os.im.mapping.RenameMapping.ID="Rename";os.im.mapping.MappingRegistry.getInstance().registerMapping(os.im.mapping.RenameMapping.ID,os.im.mapping.RenameMapping);os.im.mapping.RenameMapping.prototype.getId=function(){return os.im.mapping.RenameMapping.ID};
os.im.mapping.RenameMapping.prototype.getLabel=function(){return"Rename "+this.field+" to "+this.toField};os.im.mapping.RenameMapping.prototype.getFieldsChanged=function(){var a=[];this.field&&this.toField&&(this.keepOriginal||a.push(this.field),a.push(this.toField));return a};
os.im.mapping.RenameMapping.prototype.execute=function(a){if(this.field&&this.toField&&this.toField!=this.field){var b=os.im.mapping.getItemField(a,this.field);b&&(os.im.mapping.setItemField(a,this.toField,b),this.keepOriginal||os.im.mapping.setItemField(a,this.field,void 0))}};os.im.mapping.RenameMapping.prototype.clone=function(){var a=os.im.mapping.RenameMapping.superClass_.clone.call(this);a.toField=this.toField;a.keepOriginal=this.keepOriginal;return a};
os.im.mapping.RenameMapping.prototype.persist=function(a){a=os.im.mapping.RenameMapping.superClass_.persist.call(this,a);a.toField=this.toField;a.keepOriginal=this.keepOriginal;return a};os.im.mapping.RenameMapping.prototype.restore=function(a){os.im.mapping.RenameMapping.superClass_.restore.call(this,a);this.toField=a.toField;this.keepOriginal=a.keepOriginal};
os.im.mapping.RenameMapping.prototype.toXml=function(){var a=os.im.mapping.RenameMapping.superClass_.toXml.call(this);os.xml.appendElement("toField",a,this.toField);os.xml.appendElement("keepOriginal",a,this.keepOriginal||!1);return a};
os.im.mapping.RenameMapping.prototype.fromXml=function(a){os.im.mapping.RenameMapping.superClass_.fromXml.call(this,a);var b=this.getXmlValue(a,"toField");this.toField=null!=b?b:void 0;b=this.getXmlValue(a,"keepOriginal");this.keepOriginal=null!=b?this.toBoolean(b):!1};os.im.mapping.AltMapping=function(){os.im.mapping.RenameMapping.call(this);this.field=os.Fields.ALT;this.toField=os.fields.DEFAULT_ALT_COL_NAME;this.type=this.xmlType=os.im.mapping.AltMapping.ID;this.unitsToField=this.unitsField=os.Fields.ALT_UNITS;this.units=os.fields.DEFAULT_ALT_UNIT;this.altRegEx=os.geo.ALT_REGEXP;this.altUnitsRegEx=os.geo.ALT_UNITS_REGEXP;this.inverseAltRegEx=os.geo.ALT_INVERSE_REGEXP;this.inverseAltUnitsRegEx=os.geo.ALT_INVERSE_UNITS_REGEXP;this.unitsOverride=this.isInverse=
!1};goog.inherits(os.im.mapping.AltMapping,os.im.mapping.RenameMapping);os.im.mapping.AltMapping.ID="Altitude";os.im.mapping.MappingRegistry.getInstance().registerMapping(os.im.mapping.AltMapping.ID,os.im.mapping.AltMapping);os.im.mapping.AltMapping.prototype.getUnits=function(){return this.units};os.im.mapping.AltMapping.prototype.setUnits=function(a){this.units=a;this.units!=os.fields.DEFAULT_ALT_UNIT&&(this.unitsOverride=!0)};os.im.mapping.AltMapping.prototype.getInverse=function(){return this.isInverse};
os.im.mapping.AltMapping.prototype.setInverse=function(a){this.isInverse=a};os.im.mapping.AltMapping.prototype.getUnitsRegExp=function(){return this.isInverse?this.inverseAltUnitsRegEx:this.altUnitsRegEx};os.im.mapping.AltMapping.prototype.getId=function(){return this.xmlType};os.im.mapping.AltMapping.prototype.getLabel=function(){return this.type};
os.im.mapping.AltMapping.prototype.execute=function(a){if(a&&this.field){var b=this.toField||this.field;if(a&&null!=a.values_[os.Fields.GEOM_ALT])os.im.mapping.setItemField(a,b,Math.round(a.values_[os.Fields.GEOM_ALT]));else{var c=Number(os.im.mapping.getItemField(a,this.field));if(isNaN(c))c=0;else{this.units!==os.math.Units.METERS&&(c=os.math.convertUnits(c,os.math.Units.METERS,this.units));if(!this.unitsOverride){var d=os.im.mapping.getBestFieldMatch(a,this.getUnitsRegExp());d&&(this.unitsField=
d);(d=os.im.mapping.getItemField(a,this.unitsField))&&(d=this.lookupUnits(d));d&&(c=os.math.convertUnits(c,os.math.Units.METERS,d))}c=Math.round(c);this.isInverse&&(c=-c)}os.im.mapping.setItemField(a,b,c);os.feature.setAltitude(a,b)}}};os.im.mapping.AltMapping.prototype.testField=function(a){return!0};
os.im.mapping.AltMapping.prototype.autoDetect=function(a){if(a)for(var b=a.length;b--;){var c=a[b],d=os.im.mapping.getBestFieldMatch(c,this.altRegEx);d?this.setInverse(!1):(d=os.im.mapping.getBestFieldMatch(c,this.inverseAltRegEx))&&this.setInverse(!0);if(d){a=new this.constructor;a.field=d;a.isInverse=this.isInverse;if(c=os.im.mapping.getBestFieldMatch(c,this.getUnitsRegExp()))a.unitsField=c;a.units=this.units;a.unitsOverride=this.unitsOverride;return a}}return null};
os.im.mapping.AltMapping.prototype.lookupUnits=function(a){var b=null;a=goog.string.toTitleCase(a.toLowerCase());goog.object.containsKey(os.math.UnitLabels,a)?b=goog.object.getValueByKeys(os.math.UnitLabels,a):goog.object.containsValue(os.math.Units,a.toLowerCase())&&(b=a.toLowerCase());return b};
os.im.mapping.AltMapping.prototype.clone=function(){var a=os.im.mapping.AltMapping.superClass_.clone.call(this);a.setUnits(this.getUnits());a.unitsField=this.unitsField;a.unitsToField=this.unitsToField;a.unitsOverride=this.unitsOverride;a.setInverse(this.isInverse);return a};os.parse.AsyncParser=function(){goog.events.EventTarget.call(this)};goog.inherits(os.parse.AsyncParser,goog.events.EventTarget);os.parse.AsyncParser.prototype.onError=function(){this.dispatchEvent(new goog.events.Event(os.events.EventType.ERROR))};os.parse.AsyncParser.prototype.onReady=function(){this.dispatchEvent(new goog.events.Event(os.events.EventType.COMPLETE))};os.parse.AsyncParser.prototype.hasNext=goog.abstractMethod;os.parse.AsyncParser.prototype.parseNext=goog.abstractMethod;
os.parse.AsyncParser.prototype.setSource=goog.abstractMethod;os.parse.AsyncParser.prototype.cleanup=goog.abstractMethod;os.thread={};os.thread.EventType={STOP:"threadStop",START:"threadStart",COMPLETE:"threadComplete",ERROR:"threadError",PROGRESS:"threadProgress"};os.thread.IThreadJob=function(){};os.thread.ThreadEvent=function(a,b){goog.events.Event.call(this,a);this.job_=b};goog.inherits(os.thread.ThreadEvent,goog.events.Event);os.thread.ThreadEvent.prototype.getJob=function(){return this.job_};os.thread.ThreadProgressEvent=function(a,b){goog.events.Event.call(this,os.thread.EventType.PROGRESS);this.loaded_=a;this.total_=b};goog.inherits(os.thread.ThreadProgressEvent,goog.events.Event);os.thread.ThreadProgressEvent.prototype.getLoaded=function(){return this.loaded_};os.thread.ThreadProgressEvent.prototype.getTotal=function(){return this.total_};os.thread.Thread=function(a){goog.events.EventTarget.call(this);this.job_=a;this.delay_=new goog.async.Delay(this.onDelay_,5,this)};goog.inherits(os.thread.Thread,goog.events.EventTarget);os.thread.Thread.LOGGER_=goog.log.getLogger("os.thread.Thread");os.thread.Thread.prototype.disposeInternal=function(){os.thread.Thread.superClass_.disposeInternal.call(this);this.job_=null;this.delay_.dispose();this.delay_=null};
os.thread.Thread.prototype.start=function(){this.delay_.start();this.dispatchEvent(new os.thread.ThreadEvent(os.thread.EventType.START,this.job_))};os.thread.Thread.prototype.stop=function(){this.delay_.stop();this.dispatchEvent(new os.thread.ThreadEvent(os.thread.EventType.STOP,this.job_))};os.thread.Thread.prototype.terminate=function(){this.delay_.stop();this.dispatchEvent(new os.thread.ThreadEvent(os.thread.EventType.COMPLETE,this.job_))};
os.thread.Thread.prototype.isDeterminate=function(){return-1<this.job_.getLoaded()&&-1<this.job_.getTotal()};
os.thread.Thread.prototype.onDelay_=function(){this.delay_.stop();try{var a=this.job_.executeNext();this.dispatchEvent(new os.thread.ThreadProgressEvent(this.job_.getLoaded(),this.job_.getTotal()));a?this.terminate():this.delay_.start()}catch(b){this.isDisposed()||this.stop(),goog.log.error(os.thread.Thread.LOGGER_,"Thread execution error!",b),this.dispatchEvent(new os.thread.ThreadEvent(os.thread.EventType.ERROR,this.job_))}};os.im.ImporterEvent={START:"importer:startImport",STOP:"importer:stopImport"};os.im.Importer=function(a){goog.events.EventTarget.call(this);this.parser=a;this.stopThread=!1;this.mappings=this.currThread=null;this.autoMappings=goog.object.clone(os.im.mapping.MappingManager.getInstance().getMappings());this.execOnlyMappings={};this.autoDetectEnabled=!1;this.autoDetectLimit=100;this.numDetections=0;this.data_=[]};goog.inherits(os.im.Importer,goog.events.EventTarget);os.im.Importer.LOGGER_=goog.log.getLogger("os.im.Importer");
os.im.Importer.prototype.disposeInternal=function(){this.reset();this.parser&&(this.parser.cleanup(),goog.dispose(this.parser),this.parser=null);os.im.Importer.superClass_.disposeInternal.call(this)};os.im.Importer.prototype.setMappings=function(a){this.mappings=a};os.im.Importer.prototype.getMappings=function(){return this.mappings};os.im.Importer.prototype.getAutoMappings=function(){return this.autoMappings};os.im.Importer.prototype.setAutoDetectLimit=function(a){this.autoDetectLimit=a};
os.im.Importer.prototype.getAutoDetectLimit=function(){return this.autoDetectLimit};os.im.Importer.prototype.selectAutoMappings=function(a){if(a){var b=goog.object.clone(this.autoMappings);this.autoMappings={};for(var c=0;c<a.length;c++){var d=a[c];goog.object.containsKey(b,d)&&(this.autoMappings[d]=goog.object.get(b,d))}}this.autoDetectEnabled=!0};
os.im.Importer.prototype.setAutoMappings=function(a){this.autoMappings={};a&&a.length&&(a.forEach(function(a){this.autoMappings[a.getId()]=a},this),this.autoDetectEnabled=!0)};os.im.Importer.prototype.setExecMappings=function(a){a&&a.forEach(function(a){var b=a.getId();this.execOnlyMappings[b]=a;b in this.autoMappings&&goog.object.remove(this.autoMappings,b);this.addMapping_(a)},this)};
os.im.Importer.prototype.startImport=function(a){try{os.dispatcher.dispatchEvent(os.im.ImporterEvent.START),this.parser instanceof os.parse.AsyncParser?(this.parser.listenOnce(os.events.EventType.COMPLETE,this.onParserReady,!1,this),this.parser.listenOnce(os.events.EventType.ERROR,this.onParserError,!1,this),this.parser.setSource(a)):(this.parser.setSource(a),this.onParserReady())}catch(b){goog.log.error(os.im.Importer.LOGGER_,"Error while configuring parser.",b),this.onParserError()}};
os.im.Importer.prototype.onParserReady=function(a){this.parser instanceof os.parse.AsyncParser&&(this.parser.unlisten(os.events.EventType.COMPLETE,this.onParserReady,!1,this),this.parser.unlisten(os.events.EventType.ERROR,this.onParserError,!1,this));try{this.currThread||(this.stopThread=!1,this.currThread=new os.thread.Thread(this),this.currThread.listenOnce(os.thread.EventType.COMPLETE,this.onParsingComplete,!1,this),this.currThread.start())}catch(b){goog.log.error(os.im.Importer.LOGGER_,"Error while importing data.",
b),this.onParsingComplete()}};os.im.Importer.prototype.onParserError=function(a){this.parser instanceof os.parse.AsyncParser&&(this.parser.unlisten(os.events.EventType.COMPLETE,this.onParserReady,!1,this),this.parser.unlisten(os.events.EventType.ERROR,this.onParserError,!1,this));os.alertManager.sendAlert("Error while parsing data. Please see the log for more details.",os.alert.AlertEventSeverity.ERROR,os.im.Importer.LOGGER_);this.onParsingComplete()};
os.im.Importer.prototype.onParsingComplete=function(a){this.currThread&&(goog.dispose(this.currThread),this.currThread=null);os.dispatcher.dispatchEvent(os.im.ImporterEvent.STOP);this.dispatchEvent(new goog.events.Event(os.events.EventType.COMPLETE));this.parser&&this.parser.cleanup()};os.im.Importer.prototype.parserHasNext=function(){try{return!this.stopThread&&this.parser.hasNext()}catch(a){goog.log.error(os.im.Importer.LOGGER_,"Error while checking for next record",a)}return!1};
os.im.Importer.prototype.parseOne=function(){try{var a=this.parser.parseNext();this.addItem(a)}catch(b){goog.log.error(os.im.Importer.LOGGER_,"Error while parsing record",b)}};os.im.Importer.prototype.addItem=function(a){if(a)if(goog.isArray(a))for(var b=0,c=a.length;b<c;b++)a[b]&&this.addItemInternal(a[b]);else this.addItemInternal(a)};os.im.Importer.prototype.addItemInternal=function(a){this.performMappings(a);this.data_.push(a)};
os.im.Importer.prototype.getData=function(a){a=goog.isDefAndNotNull(a)?a:!0;var b=this.data_;a&&(this.data_=[]);return b};os.im.Importer.prototype.getParser=function(){return this.parser};
os.im.Importer.prototype.executeNext=function(){var a=goog.now();goog.log.fine(os.im.Importer.LOGGER_,"processing new chunk");for(var b=0,c=goog.now();this.parserHasNext()&&250>c-a;)this.parseOne(),c=goog.now(),b++;a=goog.now()-a;goog.log.fine(os.im.Importer.LOGGER_,"finished processing chunk of "+b+" items in "+a+" ms.");this.dispatchEvent(new goog.events.Event(os.thread.EventType.PROGRESS));return!this.parserHasNext()};os.im.Importer.prototype.setAutoDetect=function(a){this.autoDetectEnabled=a};
os.im.Importer.prototype.getAutoDetect=function(){return this.autoDetectEnabled};os.im.Importer.prototype.performMappings=function(a){if(this.autoDetectEnabled){this.numDetections++;if(this.autoMappings)for(var b in this.autoMappings)if(!(b in this.execOnlyMappings)){var c=this.autoMappings[b].autoDetect([a]);c&&(goog.object.remove(this.autoMappings,b),this.addMapping_(c))}this.numDetections>=this.autoDetectLimit&&(this.autoDetectEnabled=!1)}this.executeMapping(a)};
os.im.Importer.prototype.executeMapping=function(a){if(a&&this.mappings)for(var b=0,c=this.mappings.length;b<c;b++){var d=this.mappings[b];try{d.execute(a)}catch(e){goog.log.error(os.im.Importer.LOGGER_,'Error applying mapping "'+d.field+" > "+d.getLabel()+'"! ',e)}}};os.im.Importer.prototype.reset=function(){this.stop();this.parser.cleanup();this.data_=[]};os.im.Importer.prototype.stop=function(){this.stopThread=!0};os.im.Importer.prototype.getLoaded=function(){return-1};
os.im.Importer.prototype.getTotal=function(){return-1};os.im.Importer.prototype.addMapping_=function(a){if(this.mappings){var b=this.mappings.length-1;this.mappings[b]instanceof os.im.mapping.AltMapping?this.mappings.splice(b,0,a):this.mappings.push(a)}else this.mappings=[a]};os.interaction={};os.interaction.getFeatureResult=function(a,b){if(a instanceof ol.Feature&&!1!==a.get(os.data.RecordField.DRAWING_LAYER_NODE)&&(b||(b=os.feature.getLayer(a)),b))return{feature:a,layer:b}};os.interaction.getZoomDelta=function(a,b){os.MapContainer.getInstance().is3DEnabled()?(a=a?.5:.9,b&&(a=1/a)):(a=a?1:.2,b&&(a=-a));return a};
os.interaction.configureCesium=function(a){var b=os.MapContainer.getInstance().getCesiumCamera();if(b){var c=os.map.zoomToResolution(0,os.map.PROJECTION);a.maximumZoomDistance=b.calcDistanceForResolution(c,0)}a.lookEventTypes=[{eventType:Cesium.CameraEventType.RIGHT_DRAG,modifier:Cesium.KeyboardEventModifier.SHIFT}];a.enableLook=!0;a.tiltEventTypes=[Cesium.CameraEventType.MIDDLE_DRAG,Cesium.CameraEventType.RIGHT_DRAG];a.rotateEventTypes=[Cesium.CameraEventType.LEFT_DRAG];a.zoomEventTypes=[Cesium.CameraEventType.WHEEL];
a.maximumMovementRatio=.02;a.inertiaSpin=0;a.inertiaTranslate=0;a.inertiaZoom=0};os.interaction.defaultLayerFilter=function(a){return a instanceof ol.layer.Vector};os.interpolate={};os.interpolate.Method={GEODESIC:"geodesic",RHUMB:"rhumb",NONE:"none"};os.interpolate.SettingsKey={INTERPOLATION:"interpolation"};os.interpolate.config_={method:os.interpolate.Method.GEODESIC,distance:1E5};os.interpolate.enabled_=!0;os.interpolate.ORIGINAL_GEOM_FIELD="_originalGeometry";os.interpolate.METHOD_FIELD="interpolationMethod";os.interpolate.overrideMethod_=null;os.interpolate.getEnabled=function(){var a=os.interpolate.config_;return!!(os.interpolate.enabled_&&1E3<a.distance)};
os.interpolate.getMethod=function(){return os.interpolate.config_.method};os.interpolate.getConfig=function(){return{method:os.interpolate.config_.method,distance:os.interpolate.config_.distance}};os.interpolate.setConfig=function(a){if(a){var b=os.interpolate.config_;b.method=a.method||b.method;b.distance=a.distance||b.thresholdPercent}};os.interpolate.tmpConfig_=null;
os.interpolate.beginTempInterpolation=function(a,b,c){var d=os.interpolate.config_;os.interpolate.tmpConfig_={method:b||d.method,distance:c||d.distance};a&&(a=ol.proj.get(a||os.map.PROJECTION),os.interpolate.tmpTransforms_={coordToLonLat:ol.proj.getTransform(a,os.proj.EPSG4326),lonLatToCoord:ol.proj.getTransform(os.proj.EPSG4326,a),lastProj:a.getCode()})};os.interpolate.endTempInterpolation=function(){os.interpolate.tmpConfig_=null;os.interpolate.tmpTransforms_=null};
os.interpolate.interpolateFeature=function(a,b){if(os.interpolate.getEnabled()){var c=os.interpolate.METHOD_FIELD,d=a.get(c)||null;if(d===os.interpolate.Method.NONE)(b=a.getGeometry())&&b.set(c,os.interpolate.Method.NONE,!0);else{b||os.interpolate.updateTransforms();if(b=a.get(os.interpolate.ORIGINAL_GEOM_FIELD))b=b.clone();else{b=a.getGeometry();if(!b)return;var e=b.getType();if(e===ol.geom.GeometryType.POINT||e===ol.geom.GeometryType.MULTI_POINT)return;b&&a.set(os.interpolate.ORIGINAL_GEOM_FIELD,
b.clone())}b&&(os.interpolate.overrideMethod_=d,os.interpolate.interpolateGeom(b),os.interpolate.overrideMethod_=null,d=os.interpolate.tmpConfig_,e=os.interpolate.config_,d&&d.method!==e.method&&a.set(c,d.method),a.setGeometry(b),a.changed())}}};
os.interpolate.interpolateGeom=function(a,b){b||os.interpolate.updateTransforms();if((a.get(os.interpolate.METHOD_FIELD)||null)!==os.interpolate.Method.NONE)switch(a.getType()){case ol.geom.GeometryType.GEOMETRY_COLLECTION:b=a.getGeometries();b.forEach(os.interpolate.interpolateGeomInternal_);a.setGeometries(b);break;case ol.geom.GeometryType.MULTI_POLYGON:b=a.getCoordinates();b.forEach(os.interpolate.interpolateRings);a.setCoordinates(b);break;case ol.geom.GeometryType.MULTI_LINE_STRING:b=a.getCoordinates();
b.forEach(os.interpolate.interpolateLine);a.setCoordinates(b);break;case ol.geom.GeometryType.POLYGON:b=a.getCoordinates();b.forEach(os.interpolate.interpolateRing);a.setCoordinates(b);break;case ol.geom.GeometryType.LINE_STRING:b=a.getCoordinates(),os.interpolate.interpolateLine(b),a.setCoordinates(b)}};os.interpolate.interpolateGeomInternal_=function(a){os.interpolate.interpolateGeom(a,!0)};os.interpolate.transforms_=null;os.interpolate.tmpTransforms_=null;
os.interpolate.updateTransforms=function(){os.interpolate.transforms_&&os.map.PROJECTION.getCode()===os.interpolate.transforms_.lastProj||(os.interpolate.transforms_={coordToLonLat:ol.proj.getTransform(os.map.PROJECTION,os.proj.EPSG4326),lonLatToCoord:ol.proj.getTransform(os.proj.EPSG4326,os.map.PROJECTION),lastProj:os.map.PROJECTION.getCode()})};os.interpolate.interpolateLines=function(a){a.forEach(os.interpolate.interpolateLine)};os.interpolate.interpolateRings=function(a){a.forEach(os.interpolate.interpolateRing)};
os.interpolate.interpolateRing=function(a){os.interpolate.interpolateLine(a);a.length&&(a[a.length-1]=a[0])};
os.interpolate.interpolateLine=function(a){var b=os.interpolate.tmpConfig_||os.interpolate.config_,c=os.interpolate.tmpTransforms_||os.interpolate.transforms_,d=os.interpolate.overrideMethod_||b.method;if(d===os.interpolate.Method.GEODESIC){var e=osasm.geodesicInterpolate;d=osasm.geodesicInverse}else if(d===os.interpolate.Method.RHUMB)e=osasm.rhumbInterpolate,d=osasm.rhumbInverse;else return;for(var f=a.length-2;0<=f;f--){var g=a[f],h=a[f+1],k=c.coordToLonLat(g,void 0,g.length),l=c.coordToLonLat(h,
void 0,h.length);k.length=2;l.length=2;var m=d(k,l).distance,n=1+Math.ceil(m/b.distance);if(2<n){var p=Math.min(g.length,h.length);if(2<p){var q=[];for(m=2;m<p;m++)q.push(h[m]-g[m])}p=k[0]+180;var r=k[0]-180,u=osasm._malloc(2*n*Float64Array.BYTES_PER_ELEMENT);e(k,l,u,n);k=new Float64Array(osasm.HEAPU8.buffer,u,2*n);var t=1;m=2;for(var w=k.length-2;m<w;m+=2){var v=[k[m],k[m+1]];v[0]=os.geo.normalizeLongitude(v[0],r,p);v=c.lonLatToCoord(v);q&&q.forEach(function(a,b,c){v[b+2]=g[b+2]+a*t/(n-1)});a.splice(f+
t,0,v);t++}osasm._free(u);l[0]=os.geo.normalizeLongitude(l[0],r,p);v=c.lonLatToCoord(l,void 0,l.length);q&&q.forEach(function(a,b,c){v[b+2]=h[b+2]});a.splice(f+t,1,v)}}};ol.format.Feature=function(){this.defaultFeatureProjection=this.defaultDataProjection=null};ol.format.Feature.prototype.getReadOptions=function(a,b){var c;b&&(c={dataProjection:b.dataProjection?b.dataProjection:this.readProjection(a),featureProjection:b.featureProjection});return this.adaptOptions(c)};ol.format.Feature.prototype.adaptOptions=function(a){return ol.obj.assign({dataProjection:this.defaultDataProjection,featureProjection:this.defaultFeatureProjection},a)};
ol.format.Feature.prototype.getLastExtent=function(){return null};ol.format.Feature.prototype.getType=function(){};ol.format.Feature.prototype.readFeature=function(a,b){};ol.format.Feature.prototype.readFeatures=function(a,b){};ol.format.Feature.prototype.readGeometry=function(a,b){};ol.format.Feature.prototype.readProjection=function(a){};ol.format.Feature.prototype.writeFeature=function(a,b){};ol.format.Feature.prototype.writeFeatures=function(a,b){};
ol.format.Feature.prototype.writeGeometry=function(a,b){};ol.format.Feature.transformWithOptions=function(a,b,c){var d=c?ol.proj.get(c.featureProjection):null,e=c?ol.proj.get(c.dataProjection):null;d=d&&e&&!ol.proj.equivalent(d,e)?a instanceof ol.geom.Geometry?(b?a.clone():a).transform(b?d:e,b?e:d):ol.proj.transformExtent(a,e,d):a;if(b&&c&&void 0!==c.decimals){var f=Math.pow(10,c.decimals);d===a&&(d=d.clone());d.applyTransform(function(a){for(var b=0,c=a.length;b<c;++b)a[b]=Math.round(a[b]*f)/f;return a})}return d};ol.format.JSONFeature=function(){ol.format.Feature.call(this)};ol.inherits(ol.format.JSONFeature,ol.format.Feature);ol.format.JSONFeature.prototype.getObject_=function(a){return"string"===typeof a?(a=JSON.parse(a))?a:null:null!==a?a:null};ol.format.JSONFeature.prototype.getType=function(){return ol.format.FormatType.JSON};ol.format.JSONFeature.prototype.readFeature=function(a,b){return this.readFeatureFromObject(this.getObject_(a),this.getReadOptions(a,b))};
ol.format.JSONFeature.prototype.readFeatures=function(a,b){return this.readFeaturesFromObject(this.getObject_(a),this.getReadOptions(a,b))};ol.format.JSONFeature.prototype.readFeatureFromObject=function(a,b){};ol.format.JSONFeature.prototype.readFeaturesFromObject=function(a,b){};ol.format.JSONFeature.prototype.readGeometry=function(a,b){return this.readGeometryFromObject(this.getObject_(a),this.getReadOptions(a,b))};ol.format.JSONFeature.prototype.readGeometryFromObject=function(a,b){};
ol.format.JSONFeature.prototype.readProjection=function(a){return this.readProjectionFromObject(this.getObject_(a))};ol.format.JSONFeature.prototype.readProjectionFromObject=function(a){};ol.format.JSONFeature.prototype.writeFeature=function(a,b){return JSON.stringify(this.writeFeatureObject(a,b))};ol.format.JSONFeature.prototype.writeFeatureObject=function(a,b){};ol.format.JSONFeature.prototype.writeFeatures=function(a,b){return JSON.stringify(this.writeFeaturesObject(a,b))};
ol.format.JSONFeature.prototype.writeFeaturesObject=function(a,b){};ol.format.JSONFeature.prototype.writeGeometry=function(a,b){return JSON.stringify(this.writeGeometryObject(a,b))};ol.format.JSONFeature.prototype.writeGeometryObject=function(a,b){};ol.format.GeoJSON=function(a){a=a?a:{};ol.format.JSONFeature.call(this);this.defaultDataProjection=ol.proj.get(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326");a.featureProjection&&(this.defaultFeatureProjection=ol.proj.get(a.featureProjection));this.geometryName_=a.geometryName};ol.inherits(ol.format.GeoJSON,ol.format.JSONFeature);ol.format.GeoJSON.readGeometry_=function(a,b){return a?ol.format.Feature.transformWithOptions((0,ol.format.GeoJSON.GEOMETRY_READERS_[a.type])(a),!1,b):null};
ol.format.GeoJSON.readGeometryCollectionGeometry_=function(a,b){a=a.geometries.map(function(a){return ol.format.GeoJSON.readGeometry_(a,b)});return new ol.geom.GeometryCollection(a)};ol.format.GeoJSON.readPointGeometry_=function(a){return new ol.geom.Point(a.coordinates)};ol.format.GeoJSON.readLineStringGeometry_=function(a){return new ol.geom.LineString(a.coordinates)};ol.format.GeoJSON.readMultiLineStringGeometry_=function(a){return new ol.geom.MultiLineString(a.coordinates)};
ol.format.GeoJSON.readMultiPointGeometry_=function(a){return new ol.geom.MultiPoint(a.coordinates)};ol.format.GeoJSON.readMultiPolygonGeometry_=function(a){return new ol.geom.MultiPolygon(a.coordinates)};ol.format.GeoJSON.readPolygonGeometry_=function(a){return new ol.geom.Polygon(a.coordinates)};ol.format.GeoJSON.writeGeometry_=function(a,b){return(0,ol.format.GeoJSON.GEOMETRY_WRITERS_[a.getType()])(ol.format.Feature.transformWithOptions(a,!0,b),b)};
ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_=function(a){return{type:"GeometryCollection",geometries:[]}};ol.format.GeoJSON.writeGeometryCollectionGeometry_=function(a,b){return{type:"GeometryCollection",geometries:a.getGeometriesArray().map(function(a){var c=ol.obj.assign({},b);delete c.featureProjection;return ol.format.GeoJSON.writeGeometry_(a,c)})}};ol.format.GeoJSON.writeLineStringGeometry_=function(a,b){return{type:"LineString",coordinates:a.getCoordinates()}};
ol.format.GeoJSON.writeMultiLineStringGeometry_=function(a,b){return{type:"MultiLineString",coordinates:a.getCoordinates()}};ol.format.GeoJSON.writeMultiPointGeometry_=function(a,b){return{type:"MultiPoint",coordinates:a.getCoordinates()}};ol.format.GeoJSON.writeMultiPolygonGeometry_=function(a,b){if(b)var c=b.rightHanded;return{type:"MultiPolygon",coordinates:a.getCoordinates(c)}};ol.format.GeoJSON.writePointGeometry_=function(a,b){return{type:"Point",coordinates:a.getCoordinates()}};
ol.format.GeoJSON.writePolygonGeometry_=function(a,b){if(b)var c=b.rightHanded;return{type:"Polygon",coordinates:a.getCoordinates(c)}};ol.format.GeoJSON.GEOMETRY_READERS_={Point:ol.format.GeoJSON.readPointGeometry_,LineString:ol.format.GeoJSON.readLineStringGeometry_,Polygon:ol.format.GeoJSON.readPolygonGeometry_,MultiPoint:ol.format.GeoJSON.readMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.readMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.readMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.readGeometryCollectionGeometry_};
ol.format.GeoJSON.GEOMETRY_WRITERS_={Point:ol.format.GeoJSON.writePointGeometry_,LineString:ol.format.GeoJSON.writeLineStringGeometry_,Polygon:ol.format.GeoJSON.writePolygonGeometry_,MultiPoint:ol.format.GeoJSON.writeMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.writeMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.writeMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.writeGeometryCollectionGeometry_,Circle:ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_};
ol.format.GeoJSON.prototype.readFeatureFromObject=function(a,b){a="Feature"===a.type?a:{type:"Feature",geometry:a};b=ol.format.GeoJSON.readGeometry_(a.geometry,b);var c=new ol.Feature;this.geometryName_&&c.setGeometryName(this.geometryName_);c.setGeometry(b);void 0!==a.id&&c.setId(a.id);a.properties&&c.setProperties(a.properties);return c};
ol.format.GeoJSON.prototype.readFeaturesFromObject=function(a,b){if("FeatureCollection"===a.type){var c=[];a=a.features;var d;var e=0;for(d=a.length;e<d;++e)c.push(this.readFeatureFromObject(a[e],b))}else c=[this.readFeatureFromObject(a,b)];return c};ol.format.GeoJSON.prototype.readGeometryFromObject=function(a,b){return ol.format.GeoJSON.readGeometry_(a,b)};
ol.format.GeoJSON.prototype.readProjectionFromObject=function(a){a=a.crs;var b;a?"name"==a.type?b=ol.proj.get(a.properties.name):"EPSG"==a.type?b=ol.proj.get("EPSG:"+a.properties.code):ol.asserts.assert(!1,36):b=this.defaultDataProjection;return b};
ol.format.GeoJSON.prototype.writeFeatureObject=function(a,b){b=this.adaptOptions(b);var c={type:"Feature"},d=a.getId();void 0!==d&&(c.id=d);d=a.getGeometry();c.geometry=d?ol.format.GeoJSON.writeGeometry_(d,b):null;b=a.getProperties();delete b[a.getGeometryName()];ol.obj.isEmpty(b)?c.properties=null:c.properties=b;return c};
ol.format.GeoJSON.prototype.writeFeaturesObject=function(a,b){b=this.adaptOptions(b);var c=[],d;var e=0;for(d=a.length;e<d;++e)c.push(this.writeFeatureObject(a[e],b));return{type:"FeatureCollection",features:c}};ol.format.GeoJSON.prototype.writeGeometryObject=function(a,b){return ol.format.GeoJSON.writeGeometry_(a,this.adaptOptions(b))};os.data.CollectionManager=function(){goog.events.EventTarget.call(this);this.items_=[];this.index_={}};goog.inherits(os.data.CollectionManager,goog.events.EventTarget);os.data.CollectionManager.prototype.add=function(a){var b=this.addInternal(a);b&&this.dispatchEvent(new os.events.PropertyChangeEvent("add",a));return b};os.data.CollectionManager.prototype.addInternal=function(a){var b=this.getId(a);return this.contains(a)?!1:(this.index_[b]=a,this.items_.push(a),!0)};
os.data.CollectionManager.prototype.getId=function(a){return a.id};os.data.CollectionManager.prototype.getIdOrItem=function(a){return a?goog.isString(a)?a:this.getId(a):null};os.data.CollectionManager.prototype.contains=function(a){return(a=this.getIdOrItem(a))?a in this.index_:!1};os.data.CollectionManager.prototype.get=function(a){return(a=this.getIdOrItem(a))&&this.contains(a)?this.index_[a]:null};os.data.CollectionManager.prototype.getAll=function(){return this.items_.slice()};
os.data.CollectionManager.prototype.remove=function(a){var b=this.getIdOrItem(a);a=this.get(b);if(b&&a){delete this.index_[b];for(var c=b=this.items_.length;b--;)this.items_[b]===a&&this.items_.splice(b,1);this.items_.length!==c&&this.dispatchEvent(new os.events.PropertyChangeEvent("remove",a))}return a};os.mixin.jsts={};window.jsts&&(jsts.geom.LineString.prototype.isClosed=function(){return this.isEmpty()?!1:this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1),os.geo.EPSILON)});/*

 Copyright (c) 2011 by The Authors.
 Published under the LGPL 2.1 license.
 See /license-notice.txt for the full text of the license notice.
 See /license.txt for the full text of the license.
*/
os.geo.jsts={};os.geo.jsts.LOGGER_=goog.log.getLogger("os.geo.jsts");os.geo.jsts.ErrorMessage={NO_OP:"Result geometry is unchanged",EMPTY:"Result geometry is empty"};os.geo.jsts.ABS_BUFFER_REGEX=/(point|linestring)/i;os.geo.jsts.LINE_REGEX=/linestring/i;os.geo.jsts.POLYGON_REGEX=/polygon/i;os.geo.jsts.UTM_WIDTH_DEGREES=6;os.geo.jsts.UTM_SPLIT_LIMIT=500;os.geo.jsts.TMERC_BUFFER_LIMIT=663469.9375;os.geo.jsts.convertToCoordinate=function(a){var b=null;a&&(b=[a.x,a.y],null!=a.z&&b.push(a.z));return b};
os.geo.jsts.convertFromCoordinate=function(a){return new jsts.geom.Coordinate(a[0],a[1],a[2])};os.geo.jsts.OLParser=function(a){if(null==window.jsts)throw Error("JSTS library is not loaded!");this.geometryFactory=a||new jsts.geom.GeometryFactory};goog.addSingletonGetter(os.geo.jsts.OLParser);
os.geo.jsts.OLParser.prototype.read=function(a){if(a)switch(a.getType()){case ol.geom.GeometryType.POINT:return this.convertFromPoint(a);case ol.geom.GeometryType.LINE_STRING:return this.convertFromLineString(a);case ol.geom.GeometryType.LINEAR_RING:return this.convertFromLinearRing(a);case ol.geom.GeometryType.POLYGON:return this.convertFromPolygon(a);case ol.geom.GeometryType.MULTI_POINT:return this.convertFromMultiPoint(a);case ol.geom.GeometryType.MULTI_LINE_STRING:return this.convertFromMultiLineString(a);
case ol.geom.GeometryType.MULTI_POLYGON:return this.convertFromMultiPolygon(a);case ol.geom.GeometryType.GEOMETRY_COLLECTION:return this.convertFromCollection(a)}return null};os.geo.jsts.OLParser.prototype.convertFromPoint=function(a){a=a.getCoordinates();return this.geometryFactory.createPoint(os.geo.jsts.convertFromCoordinate(a))};os.geo.jsts.OLParser.prototype.convertFromLineString=function(a){a=a.getCoordinates();if(!a||0==a.length)return null;1==a.length&&(a[1]=a[0]);return this.geometryFactory.createLineString(a.map(os.geo.jsts.convertFromCoordinate))};
os.geo.jsts.OLParser.prototype.convertFromLinearRing=function(a){return this.geometryFactory.createLinearRing(a.getCoordinates().map(os.geo.jsts.convertFromCoordinate))};os.geo.jsts.OLParser.prototype.convertFromPolygon=function(a){a=a.getLinearRings();for(var b=null,c=[],d=0;d<a.length;d++){var e=this.convertFromLinearRing(a[d]);0===d?b=e:c.push(e)}return this.geometryFactory.createPolygon(b,c)};
os.geo.jsts.OLParser.prototype.convertFromMultiPoint=function(a){a=a.getPoints().map(function(a){return this.convertFromPoint(a)},this);return this.geometryFactory.createMultiPoint(a)};os.geo.jsts.OLParser.prototype.convertFromMultiLineString=function(a){a=a.getLineStrings().map(function(a){return this.convertFromLineString(a)},this);return this.geometryFactory.createMultiLineString(a)};
os.geo.jsts.OLParser.prototype.convertFromMultiPolygon=function(a){a=a.getPolygons().map(function(a){return this.convertFromPolygon(a)},this);return this.geometryFactory.createMultiPolygon(a)};os.geo.jsts.OLParser.prototype.convertFromCollection=function(a){a=a.getGeometries().map(function(a){return this.read(a)},this);return this.geometryFactory.createGeometryCollection(a)};
os.geo.jsts.OLParser.prototype.write=function(a){var b=a.getGeometryType();return"Point"===b?this.convertToPoint(a.getCoordinate()):"LineString"===b?this.convertToLineString(a):"LinearRing"===b?this.convertToLinearRing(a):"Polygon"===b?this.convertToPolygon(a):"MultiPoint"===b?this.convertToMultiPoint(a):"MultiLineString"===b?this.convertToMultiLineString(a):"MultiPolygon"===b?this.convertToMultiPolygon(a):"GeometryCollection"===b?this.convertToCollection(a):null};
os.geo.jsts.OLParser.prototype.convertToPoint=function(a){return new ol.geom.Point(os.geo.jsts.convertToCoordinate(a))};os.geo.jsts.OLParser.prototype.convertToLineString=function(a){a=a?a.getCoordinates().map(os.geo.jsts.convertToCoordinate):[];return new ol.geom.LineString(a)};os.geo.jsts.OLParser.prototype.convertToLinearRing=function(a){a=a?a.getCoordinates().map(os.geo.jsts.convertToCoordinate):[];return new ol.geom.LinearRing(a)};
os.geo.jsts.OLParser.prototype.convertToPolygon=function(a){var b=[];if(a){var c=a.getExteriorRing();if(c){b.push(c.getCoordinates().map(os.geo.jsts.convertToCoordinate));c=a.getNumInteriorRing();for(var d=0;d<c;d++){var e=a.getInteriorRingN(d);e&&b.push(e.getCoordinates().map(os.geo.jsts.convertToCoordinate))}}}return new ol.geom.Polygon(b)};os.geo.jsts.OLParser.prototype.convertToMultiPoint=function(a){a=a?a.getCoordinates().map(os.geo.jsts.convertToCoordinate):[];return new ol.geom.MultiPoint(a)};
os.geo.jsts.OLParser.prototype.convertToMultiLineString=function(a){var b=[];if(a)for(var c=a.getNumGeometries(),d=0;d<c;d++){var e=a.getGeometryN(d);e&&b.push(this.convertToLineString(e).getCoordinates())}return new ol.geom.MultiLineString(b)};os.geo.jsts.OLParser.prototype.convertToMultiPolygon=function(a){var b=[];if(a)for(var c=a.getNumGeometries(),d=0;d<c;d++){var e=a.getGeometryN(d);e&&b.push(this.convertToPolygon(e).getCoordinates())}return new ol.geom.MultiPolygon(b)};
os.geo.jsts.OLParser.prototype.convertToCollection=function(a){var b=[];if(a)for(var c=a.getNumGeometries(),d=0;d<c;d++){var e=a.getGeometryN(d);e&&b.push(this.write(e))}return new ol.geom.GeometryCollection(b)};
os.geo.jsts.toPolygon=function(a){var b=null;if(a)switch(a.getType()){case ol.geom.GeometryType.LINE_STRING:var c=a.getCoordinates();3<c.length&&os.geo.isClosed(c)&&(b=new ol.geom.Polygon([c]));break;case ol.geom.GeometryType.MULTI_LINE_STRING:c=a.getCoordinates();var d=[];for(a=0;a<c.length;a++)3<c[a].length&&os.geo.isClosed(c[a])&&d.push(c[a]);1==d.length?b=new ol.geom.Polygon(d):1<d.length&&(b=new ol.geom.MultiPolygon([d]));break;case ol.geom.GeometryType.CIRCLE:b=ol.geom.Polygon.fromCircle(a,
64);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:if(c=a.getGeometriesArray()){var e=[];for(a=0;a<c.length;a++)if(d=os.geo.jsts.toPolygon(c[a])){var f=d.getType();f==ol.geom.GeometryType.POLYGON?e.push(d):f==ol.geom.GeometryType.MULTI_POLYGON&&d.getPolygons().forEach(function(a){e.push(a)})}1==e.length?b=e[0]:1<e.length&&(b=new ol.geom.MultiPolygon(null),b.setPolygons(e))}break;case ol.geom.GeometryType.POLYGON:case ol.geom.GeometryType.MULTI_POLYGON:b=a}return b};
os.geo.jsts.addTo=function(a,b,c){var d=null;if(a&&b){var e=a.getGeometry();b=b.getGeometry();if(e&&b){d=os.geo.jsts.OLParser.getInstance();e=d.read(e);b=d.read(b);if(e.covers(b))throw Error(os.geo.jsts.ErrorMessage.NO_OP);e=e.union(b);if(e=d.write(e))e=os.geo.jsts.validate(e),e.set(os.geom.GeometryField.NORMALIZED,!0);d=c?a:new ol.Feature;d.setGeometry(e)}}return d};
os.geo.jsts.removeFrom=function(a,b,c){var d=null;if(a&&b){var e=a.getGeometry(),f=b.getGeometry();if(e&&f){b=os.geo.jsts.OLParser.getInstance();e=b.read(e);f=b.read(f);d=c?a:new ol.Feature;if(f.covers(e))throw Error(os.geo.jsts.ErrorMessage.EMPTY);if(e.contains(f)||e.crosses(f)||e.overlaps(f))if((a=e.difference(f))&&!a.isEmpty()){if(a=b.write(a))a=os.geo.jsts.validate(a),a.set(os.geom.GeometryField.NORMALIZED,!0);d.setGeometry(a)}else throw Error(os.geo.jsts.ErrorMessage.EMPTY);else throw Error(os.geo.jsts.ErrorMessage.NO_OP);
}}return d};os.geo.jsts.intersect=function(a,b,c){var d=null;if(a&&b){var e=a.getGeometry(),f=b.getGeometry();if(e&&f)if(b=os.geo.jsts.OLParser.getInstance(),e=b.read(e),f=b.read(f),d=c?a:new ol.Feature,f.intersects(e))if((a=e.intersection(f))&&!a.isEmpty()){if(a=b.write(a))a=os.geo.jsts.validate(a),a.set(os.geom.GeometryField.NORMALIZED,!0);d.setGeometry(a)}else throw Error(os.geo.jsts.ErrorMessage.EMPTY);else throw Error(os.geo.jsts.ErrorMessage.EMPTY);}return d};
os.geo.jsts.merge=function(a){var b=null;if(a)try{var c=os.geo.jsts.OLParser.getInstance(),d=a.map(function(a){return a?c.read(a):null}).filter(os.fn.filterFalsey);if(1==d.length)var e=d[0];else if(1<d.length)try{e=new jsts.geom.GeometryCollection(d,new jsts.geom.GeometryFactory),e=e.union()}catch(f){e=new jsts.geom.MultiPolygon(d,new jsts.geom.GeometryFactory),e=e.buffer(0)}e&&(b=c.write(e))}catch(f){goog.log.error(os.geo.jsts.LOGGER_,"Failed merging geometries",f)}return b};
os.geo.jsts.flattenPolygons=function(a){if(a&&(a=a.filter(os.fn.filterFalsey),1<a.length)){for(var b=[0,0,0,0],c=0;c<a.length;c++){var d=a[c].getExtent();ol.extent.getWidth(d)>ol.extent.getWidth(b)&&(b=d)}b=(b[0]+b[2])/2;for(c=0;c<a.length;c++)a[c].unset(os.geom.GeometryField.NORMALIZED,!0),os.geo.normalizeGeometryCoordinates(a[c],b);c=os.geo.jsts.merge(a);if(c instanceof ol.geom.Polygon)return[c];if(c instanceof ol.geom.MultiPolygon)return c.getPolygons()}return a};
os.geo.jsts.buffer=function(a,b,c){if(!a)return null;var d=a.getType();if(0==b||d!==ol.geom.GeometryType.POINT&&b>os.geo.jsts.TMERC_BUFFER_LIMIT)return null;var e=a.clone();c||e.toLonLat();a=null;switch(d){case ol.geom.GeometryType.POINT:a=os.geo.jsts.bufferPoint_(e,Math.abs(b));break;case ol.geom.GeometryType.LINE_STRING:case ol.geom.GeometryType.MULTI_LINE_STRING:os.geo.normalizeGeometryCoordinates(e);a=os.geo.jsts.splitAndBuffer_(e,Math.abs(b));break;case ol.geom.GeometryType.POLYGON:d=e.getCoordinates();
0<d.length&&os.geo.isPolarPolygon(d[0])?a=os.geo.jsts.polarBuffer_(e,b):(d=os.geo.jsts.getSplitOffset(e,b))?0<d&&(a=os.geo.jsts.splitAndBuffer_(e,b)):(a=e.getExtent(),a=os.geo.jsts.tmercBuffer_(e,b,(a[0]+a[2])/2));break;case ol.geom.GeometryType.MULTI_POLYGON:e=e.getPolygons();0>b&&(e=os.geo.jsts.flattenPolygons(e));e&&(a=e.map(function(a){return os.geo.jsts.buffer(a,b,!0)}).filter(os.fn.filterFalsey),0<b&&(a=os.geo.jsts.flattenPolygons(a)),a=os.geo.jsts.merge(a));break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:if(e=
e.getGeometries())a=e.map(function(a){return os.geo.jsts.buffer(a,b,!0)}).filter(os.fn.filterFalsey),a=os.geo.jsts.merge(a)}a&&(a=os.geo.jsts.validate(a),a.set(os.geom.GeometryField.NORMALIZED,!0),a.set(os.interpolate.METHOD_FIELD,os.interpolate.Method.NONE));a&&!c&&a.osTransform();return a};
os.geo.jsts.bufferPoint_=function(a,b){a=a.getFirstCoordinate();b=os.olcs.generateCirclePositions(Cesium.Cartesian3.fromDegrees(a[0],a[1]),b);for(var c=[],d=0;d<b.length;d++){var e=Cesium.Cartographic.fromCartesian(b[d]);c.push([goog.math.toDegrees(e.longitude),goog.math.toDegrees(e.latitude),0])}os.geo.normalizeCoordinates(c,a[0]);return new ol.geom.Polygon([c])};
os.geo.jsts.getSplitOffset=function(a,b){var c=os.geo.jsts.UTM_WIDTH_DEGREES;a=a.getExtent();return a[2]-a[0]>c?0>b?(b=Math.abs(b),c=osasm.geodesicDirect([0,Math.max(Math.abs(a[1]),Math.abs(a[3]))],180,b),b=osasm.rhumbDirect([0,c[1]],90,2.05*b),b=os.geo.jsts.UTM_WIDTH_DEGREES-b[0],0<b&&(a[2]-a[0])/b<=os.geo.jsts.UTM_SPLIT_LIMIT?b:-1):c:0};
os.geo.jsts.getBoxesForExtent_=function(a,b){var c=a.getExtent();a=os.geo.jsts.getSplitOffset(a,b);if(0<=a){var d=[];if(0<a){b=os.geo.jsts.OLParser.getInstance();for(var e=c[0];e<c[2];e+=a){var f=ol.geom.Polygon.fromExtent([e,c[1],e+os.geo.jsts.UTM_WIDTH_DEGREES,c[3]]);d.push(b.read(f))}}}return d};
os.geo.jsts.splitAndBuffer_=function(a,b){var c=null,d=os.geo.jsts.OLParser.getInstance(),e=d.read(a),f=os.geo.jsts.getBoxesForExtent_(a,b);if(f&&f.length<os.geo.jsts.UTM_SPLIT_LIMIT){var g=[];if(f.length)for(var h=0;h<f.length;h++){var k=e.intersection(f[h]);k.isEmpty()||g.push(d.write(k))}else g.push(a);if(0<g.length){h=a.getExtent();a=(h[0]+h[2])/2;d=[];for(h=0;h<g.length;h++)(e=os.geo.jsts.tmercBuffer_(g[h],b,a))&&d.push(e);0<d.length&&(c=os.geo.jsts.merge(d))}}return c};
os.geo.jsts.tmercBuffer_=function(a,b,c){var d=null;if(a){var e=os.geo.jsts.createTMercProjection_(a);d=os.geo.jsts.projectionBuffer_(a,b,e,c);a=ol.proj.get(os.proj.EPSG4326);ol.proj.transforms.remove(a,e);ol.proj.transforms.remove(e,a)}return d};os.geo.jsts.polarBuffer_=function(a,b){var c=null;if(a){var d;if(d=0<ol.extent.getCenter(a.getExtent())[1]?ol.proj.get(os.proj.EPSG3413):ol.proj.get(os.proj.EPSG3031))a.transform(os.proj.EPSG4326,d),c=os.geo.jsts.projectionBuffer_(a,b,d)}return c};
os.geo.jsts.projectionBuffer_=function(a,b,c,d){var e=null,f=os.geo.jsts.OLParser.getInstance();if(a=f.read(a))b=jsts.simplify.DouglasPeuckerSimplifier.simplify(a,Math.abs(.01*b)).buffer(b),b.isEmpty()||(e=f.write(b),os.geo.jsts.fromBufferProjection_(e,c,d));return e};
os.geo.jsts.createTMercProjection_=function(a){var b=ol.extent.getCenter(a.getExtent());proj4.defs("bufferCRS","+ellps=WGS84 +proj=tmerc +lat_0="+b[1]+" +lon_0="+b[0]+" +k=1 +x_0=0 +y_0=0");b=new ol.proj.Projection({code:"bufferCRS"});a.transform(os.proj.EPSG4326,b);return b};os.geo.jsts.fromBufferProjection_=function(a,b,c){a&&(a.transform(b,os.proj.EPSG4326),os.geo.normalizeGeometryCoordinates(a,c))};
os.geo.jsts.validate=function(a,b){if(a){var c=a.getType();if(c==ol.geom.GeometryType.POLYGON||c==ol.geom.GeometryType.MULTI_POLYGON)try{var d=os.geo.jsts.OLParser.getInstance(),e=d.read(a);if(e.isEmpty())return a;if(e.isValid()){e.normalize();var f=e}else if(e instanceof jsts.geom.Polygon){var g=new jsts.operation.polygonize.Polygonizer;os.geo.jsts.addPolygon(e,g);f=os.geo.jsts.toPolygonGeometry(g.getPolygons(),e.getFactory())}else if(e instanceof jsts.geom.MultiPolygon){g=new jsts.operation.polygonize.Polygonizer;
for(var h=e.getNumGeometries();0<h--;)os.geo.jsts.addPolygon(e.getGeometryN(h),g);f=os.geo.jsts.toPolygonGeometry(g.getPolygons(),e.getFactory())}if(f&&f.isValid()){var k=e.getLength(),l=Math.abs(k-f.getLength());!b&&.005<l/k&&os.alertManager.sendAlert("Area was modified from the original due to invalid topology. Common reasons include polygons that cross or overlap themselves.",os.alert.AlertEventSeverity.WARNING);var m=d.write(f);m.setProperties(a.getProperties());return m}}catch(n){goog.log.error(os.geo.jsts.LOGGER_,
"Geometry validation check failed",n)}return a}};os.geo.jsts.addPolygon=function(a,b){os.geo.jsts.addLineString(a.getExteriorRing(),b);for(var c=a.getNumInteriorRing();0<c--;)os.geo.jsts.addLineString(a.getInteriorRingN(c),b)};os.geo.jsts.addLineString=function(a,b){a instanceof jsts.geom.LinearRing&&(a=a.getFactory().createLineString(a.getCoordinates()));var c=a.getFactory().createPoint(a.getCoordinateN(0));a=a.union(c);b.add(a)};
os.geo.jsts.toPolygonGeometry=function(a,b){switch(a.size()){case 0:return null;case 1:return a.iterator().next();default:a=a.iterator();for(b=a.next();a.hasNext();)b=b.union(a.next());return b}};os.storage.HTML5LocalStorage=function(){goog.storage.mechanism.HTML5LocalStorage.call(this)};goog.inherits(os.storage.HTML5LocalStorage,goog.storage.mechanism.HTML5LocalStorage);os.implements(os.storage.HTML5LocalStorage,os.storage.IMechanism.ID);os.storage.HTML5LocalStorage.prototype.getAll=function(){var a=[];goog.iter.forEach(this.__iterator__(!1),function(b){a.push(b)});return a};os.style.area={};os.style.area.DEFAULT_STYLE=new ol.style.Style({stroke:new ol.style.Stroke({color:"#888",lineCap:"square",width:3}),image:new ol.style.Circle({radius:3,fill:new ol.style.Fill({color:"#888"})})});os.style.area.INCLUSION_STYLE=new ol.style.Style({stroke:new ol.style.Stroke({color:"#ff0",lineCap:"square",width:3}),image:new ol.style.Circle({radius:3,fill:new ol.style.Fill({color:"#ff0"})})});
os.style.area.EXCLUSION_STYLE=new ol.style.Style({stroke:new ol.style.Stroke({color:"#f00",lineCap:"square",width:3}),image:new ol.style.Circle({radius:3,fill:new ol.style.Fill({color:"#f00"})})});os.style.area.HOVER_STYLE=new ol.style.Style({stroke:new ol.style.Stroke({color:"#fff",lineCap:"square",width:3}),image:new ol.style.Circle({radius:3,fill:new ol.style.Fill({color:"#fff"})})});os.ui.ol={};os.ui.ol.IMap=function(){};os.ui.events={};os.ui.events.UIEventType={TOGGLE_UI:"toggleUI"};os.ui.events.UIEventParams={FILTER_FUNC:"filterFunc",FILTER_NAME:"filterName"};os.ui.events.UIEvent=function(a,b,c,d,e){goog.events.Event.call(this,a);this.id=b;this.value=c;this.params=d||null;this.metricKey=e||null};goog.inherits(os.ui.events.UIEvent,goog.events.Event);os.ui.EventType={DISPLAY_ONBOARDING:"displayOnboarding",DISPLAY_CLEAR_LOCALSTORAGE:"displayClearLocalStorage"};os.ui.onboarding={};os.ui.onboarding.OnboardingEvent=function(a,b,c){goog.events.Event.call(this,os.ui.EventType.DISPLAY_ONBOARDING);this.title=a;this.steps=b;this.config=c||null};goog.inherits(os.ui.onboarding.OnboardingEvent,goog.events.Event);os.ui.im={};os.ui.im.ImportEventType={FILE:"importFile",URL:"importUrl"};os.ui.im.ImportEvent=function(a,b,c,d){goog.events.Event.call(this,a);this.contentHint=c?c:null;this.file=b&&b instanceof os.file.File?b:null;this.url=b&&goog.isString(b)?b:null;this.config=d||null};goog.inherits(os.ui.im.ImportEvent,goog.events.Event);os.url.AbstractUrlHandler=function(){goog.Disposable.call(this);this.handlesCache={};this.keys=[]};goog.inherits(os.url.AbstractUrlHandler,goog.Disposable);os.url.AbstractUrlHandler.prototype.disposeInternal=function(){this.keys.forEach(this.unhandleAll);os.url.AbstractUrlHandler.superClass_.disposeInternal.call(this)};
os.url.AbstractUrlHandler.prototype.handle=function(a,b){if(this.handles(a))if(b){var c=[],d=this.handlesCache[a]||[];b=b.split(",");for(var e=0,f=b.length;e<f;e++){var g=decodeURIComponent(b[e]);g&&(-1==d.indexOf(g)&&this.handleInternal(a,g),c.push(g))}this.handlesCache[a]=c;b=0;for(e=d.length;b<e;b++)f=d[b],-1===c.indexOf(f)&&this.unhandleInternal(a,f)}else this.unhandleAll(a)};os.url.AbstractUrlHandler.prototype.getKeys=function(){return this.keys};
os.url.AbstractUrlHandler.prototype.handles=function(a){return-1<this.keys.indexOf(a)};os.url.AbstractUrlHandler.prototype.handleInternal=goog.abstractMethod;os.url.AbstractUrlHandler.prototype.unhandleInternal=function(a,b){};os.url.AbstractUrlHandler.prototype.unhandleAll=function(a){if(a in this.handlesCache){for(var b=this.handlesCache[a],c=0,d=b.length;c<d;c++)this.unhandleInternal(a,b[c]);delete this.handlesCache[a]}};os.ui.onboarding.OnboardingUrlHandler=function(a){os.url.AbstractUrlHandler.call(this);this.keys=[os.ui.onboarding.OnboardingUrlHandler.KEY]};goog.inherits(os.ui.onboarding.OnboardingUrlHandler,os.url.AbstractUrlHandler);os.ui.onboarding.OnboardingUrlHandler.KEY="tips";os.ui.onboarding.OnboardingUrlHandler.prototype.handleInternal=function(a,b){a===os.ui.onboarding.OnboardingUrlHandler.KEY&&os.settings.set("onboarding.showOnboarding","true"===b)};os.file.FileUrlHandler=function(){os.url.AbstractUrlHandler.call(this);this.keys=[os.file.FileUrlHandler.KEY]};goog.inherits(os.file.FileUrlHandler,os.url.AbstractUrlHandler);goog.addSingletonGetter(os.file.FileUrlHandler);os.file.FileUrlHandler.KEY="file";os.file.FileUrlHandler.prototype.handleInternal=function(a,b){a===os.file.FileUrlHandler.KEY&&((a=os.dataManager.getDescriptorByUrl(b))?a.isActive()||a.setActive(!0):(b=new os.ui.im.ImportEvent(os.ui.im.ImportEventType.URL,b),os.dispatcher.dispatchEvent(b)))};
os.file.FileUrlHandler.prototype.unhandleInternal=function(a,b){if(a===os.file.FileUrlHandler.KEY){a=null;for(var c=os.dataManager.getDescriptors(),d=0,e=c.length;d<e;d++)if(c[d].matchesURL(b)){a=c[d];break}a&&(a.setActive(!1),os.dataManager.removeDescriptor(a))}};os.search={};os.search.BASE_KEY="search";os.search.SEARCH_ALL="Search All Sources";os.search.SearchSetting={RECENT:os.search.BASE_KEY+".recent",ENABLED:"enabled"};os.search.SortType={DATE:"Date",RELEVANCE:"Relevance"};os.search.getSettingKey=function(a,b){return[os.search.BASE_KEY,a.getId(),b].join(".")};os.search.getSearchId=function(a){return a.getId()};os.search.getSearchName=function(a){return a.getName()};os.search.isNameEqual=function(a,b){return b.getName()==a};
os.search.pageResults=function(a,b,c){if(goog.isDef(b)&&goog.isDef(c)){b*=c;if(b>a.length)return[];c=b+c;c>a.length&&(c=void 0);return a.slice(b,c)}return a};os.ui.route={};os.ui.route.RouteManager=function(){this.rootScope_=os.ui.injector.get("$rootScope");this.location_=os.ui.injector.get("$location");this.search_=null;this.routeHandlers_={};this.initialized_=!1};goog.addSingletonGetter(os.ui.route.RouteManager);os.ui.route.RouteManager.prototype.initialize=function(){this.rootScope_.$on("$routeUpdate",this.onRouteUpdate.bind(this));this.initialized_=!0;this.onRouteUpdate()};
os.ui.route.RouteManager.prototype.onRouteUpdate=function(){if(this.initialized_){var a=this.search_;if(this.search_=this.getSearch())for(var b in this.search_){var c=this.routeHandlers_[b];c&&c.forEach(function(a){a.handle(b,this.search_[b])},this)}if(a)for(b in a)this.search_&&b in this.search_||(c=this.routeHandlers_[b])&&c.forEach(function(a){a.unhandleAll(b)})}};
os.ui.route.RouteManager.prototype.registerUrlHandler=function(a){a.getKeys().forEach(function(b){this.routeHandlers_[b]?this.routeHandlers_[b].push(a):this.routeHandlers_[b]=[a]},this);this.onRouteUpdate()};os.ui.route.RouteManager.prototype.getSearch=function(){var a=this.location_.search();if(a&&!goog.object.isEmpty(a))return a;a=(new goog.Uri(window.location)).getQueryData();a.ensureKeyMapInitialized_();a=a.keyMap_.toObject();var b={},c;for(c in a)b[c]=a[c].join(",");return b};os.ui.onboarding.OnboardingManager=function(){goog.events.EventTarget.call(this);this.onboardingMap_={};this.contextMap_={};os.ui.route.RouteManager.getInstance().registerUrlHandler(new os.ui.onboarding.OnboardingUrlHandler)};goog.inherits(os.ui.onboarding.OnboardingManager,goog.events.EventTarget);goog.addSingletonGetter(os.ui.onboarding.OnboardingManager);os.ui.onboarding.OnboardingManager.LOGGER_=goog.log.getLogger("os.ui.onboarding.OnboardingManager");
os.ui.onboarding.OnboardingManager.FOLDERS=["images/"];os.ui.onboarding.OnboardingManager.PATH=os.ROOT;os.ui.onboarding.OnboardingManager.prototype.displayOnboarding=function(a,b){var c=os.settings.get(["onboarding",a]);b=b||this.isEnabled()&&!c;this.initOnboarding_(a,b)};os.ui.onboarding.OnboardingManager.prototype.isEnabled=function(){return os.settings.get("onboarding.showOnboarding",!0)};
os.ui.onboarding.OnboardingManager.prototype.hasDisplayed=function(a){return!!os.settings.get(["onboarding",a])};
os.ui.onboarding.OnboardingManager.prototype.initOnboarding_=function(a,b){var c=this.onboardingMap_[a];c?b&&goog.isObject(c)&&this.launchOnboarding_(a,c):(this.onboardingMap_[a]=!0,a=new os.net.Request(a),a.setHeader("Accept","application/json, text/plain, */*"),a.listenOnce(goog.net.EventType.SUCCESS,goog.partial(this.onLoad_,b),!1,this),a.listenOnce(goog.net.EventType.ERROR,this.onError_,!1,this),a.load())};
os.ui.onboarding.OnboardingManager.prototype.launchOnboarding_=function(a,b){os.settings.set(["onboarding",a],!0);this.dispatchEvent(new os.ui.onboarding.OnboardingEvent(b.title,b.steps,b.config||null))};
os.ui.onboarding.OnboardingManager.prototype.onLoad_=function(a,b){b=b.target;for(var c=b.getResponse(),d=os.ui.onboarding.OnboardingManager.FOLDERS,e=os.ui.onboarding.OnboardingManager.PATH,f=0,g=d.length;f<g;f++)c=c.replace(new RegExp(d[f],"g"),e+d[f]);c=JSON.parse(c);d=b.getUri().toString();b.dispose();c.title&&c.steps?(this.processContext_(c.steps),this.onboardingMap_[d]=c,a&&this.launchOnboarding_(d,c)):goog.log.error(os.ui.onboarding.OnboardingManager.LOGGER_,'Onboarding configuration at "'+
d+'" does not contain required information.')};os.ui.onboarding.OnboardingManager.prototype.onError_=function(a){a=a.target;var b=a.getUri().toString();a.dispose();goog.log.warning(os.ui.onboarding.OnboardingManager.LOGGER_,"Unable to load onboarding with URI: "+b)};os.ui.onboarding.OnboardingManager.prototype.processContext_=function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],e=d.context;e&&(e in this.contextMap_?this.contextMap_[e].push(d):this.contextMap_[e]=[d])}};
os.ui.onboarding.OnboardingManager.prototype.showContextOnboarding=function(a){var b=this.contextMap_[a];b?this.dispatchEvent(new os.ui.onboarding.OnboardingEvent(b[0].title,b,{width:350})):goog.log.fine(os.ui.onboarding.OnboardingManager.LOGGER_,"No onboarding registered for "+a+".")};os.ui.onboarding.contextOnboardingDirective=function(){return{restrict:"E",replace:!0,scope:{context:"@"},templateUrl:os.ROOT+"views/onboarding/contextonboarding.html",controller:os.ui.onboarding.ContextOnboardingCtrl,controllerAs:"contextOnboardingCtrl"}};os.ui.Module.directive("contextOnboarding",[os.ui.onboarding.contextOnboardingDirective]);os.ui.onboarding.ContextOnboardingCtrl=function(a){this.scope_=a;a.$on("$destroy",this.destroy_.bind(this))};
os.ui.onboarding.ContextOnboardingCtrl.prototype.destroy_=function(){this.scope_=null};os.ui.onboarding.ContextOnboardingCtrl.prototype.showContextOnboarding=function(){os.ui.onboarding.OnboardingManager.getInstance().showContextOnboarding(this.scope_.context)};goog.exportProperty(os.ui.onboarding.ContextOnboardingCtrl.prototype,"showContextOnboarding",os.ui.onboarding.ContextOnboardingCtrl.prototype.showContextOnboarding);os.ui.window={};os.ui.windowDirective=function(){return{restrict:"E",replace:!0,transclude:!0,scope:{id:"@",helpContext:"@",minWidth:"@",maxWidth:"@",minHeight:"@",maxHeight:"@",x:"@",y:"@",width:"@",height:"@",label:"@",icon:"@",iconHtml:"@",showClose:"=",showHide:"=",noScroll:"@",overlay:"@",modal:"=",zIndex:"@",disableDrag:"@",windowContainer:"@",closeFlag:"=",headerBtns:"=?"},templateUrl:os.ROOT+"views/window/window.html",controller:os.ui.WindowCtrl,controllerAs:"windowCtrl"}};
os.ui.Module.directive("window",[os.ui.windowDirective]);os.ui.window.create=function(a,b,c,d,e,f){c||(c="#win-container");-1==b.indexOf("<")&&(b="<"+b+"></"+b+">");var g="<"+("key"in a?"savedwindow":"window"),h;for(h in a){var k=a[h];"label"===h&&goog.isString(k)&&(k=k.replace('"',"&quot;"));g+=" "+h+'="'+k+'"'}os.ui.window.launch(g+(">"+b+"</"+("key"in a?"savedwindow":"window")+">"),c,d,e,f)};
os.ui.window.launch=function(a,b,c,d,e){b||(b="#win-container");-1==a.indexOf("<")&&(a="<"+a+"></"+a+">");var f=angular.element(b).injector();f&&os.ui.window.launchInternal(a,b,c||f.get("$rootScope"),d||f.get("$compile"),e)};os.ui.window.launchInternal=function(a,b,c,d,e){c=c.$new();goog.isDefAndNotNull(e)&&goog.object.extend(c,e);d(a)(c).appendTo(b)};os.ui.window.bringToFront=function(a){(a=os.ui.window.getById(a))&&(a=a.children().first().scope())&&a.windowCtrl&&a.windowCtrl.bringToFront()};
os.ui.window.toggleVisibility=function(a){var b=null,c=a?os.ui.window.getById(a):angular.element(".window:not(.ng-hide)");if(c){c.addClass("hidden");var d=angular.element(".window-modal-bg");d&&d.removeClass("window-modal-bg");b=function(){c.removeClass("hidden");d&&d.addClass("window-modal-bg")}}return b};os.ui.window.enableModality=function(a){(a=os.ui.window.getById(a))&&(a=a.children().first().scope())&&a.windowCtrl&&(a.windowCtrl.addModalBg(),a.modal=!0)};
os.ui.window.disableModality=function(a){(a=os.ui.window.getById(a))&&(a=a.children().first().scope())&&a.windowCtrl&&(a.windowCtrl.removeModalBg(),a.modal=!1)};os.ui.window.close=function(a){a&&(a=a.hasClass("window")?a.children().scope():a.parents(".window").children().scope())&&a.windowCtrl.close()};os.ui.window.closeAll=function(a){var b="#win-container";a&&(b=a);a=angular.element(b);a.length&&(a=a.find(".window"),a instanceof Array?goog.array.forEach(a,function(a){os.ui.window.close(a)}):os.ui.window.close(a))};
os.ui.window.getById=function(a){var b=angular.element(".window#"+a);0==b.length&&(b=angular.element('[key="'+a+'"]'));0==b.length&&(b=null);return b};os.ui.window.setParams=function(a,b){(a=os.ui.window.getById(a))&&(a=a.children().first().scope())&&a.windowCtrl&&a.windowCtrl.setParams(b)};os.ui.window.exists=function(a){return!!os.ui.window.getById(a)};
os.ui.window.blink=function(a,b){if(a=os.ui.window.getById(a))b=goog.isDef(b)?b:!0,a=a.find(".window-header .header-text i.fa"),b?a.addClass("pulsate"):a.removeClass("pulsate")};os.ui.WindowEventType={CANCEL:"windowCancel",CLOSING:"windowClosing",CLOSE:"windowClose",DRAGSTART:"windowDragStart",DRAGSTOP:"windowDragStop",HEADERBTN:"windowHeaderBtn",READY:"window.ready"};
os.ui.WindowCtrl=function(a,b,c){goog.Disposable.call(this);this.scope=a;this.element=b;a.windowContainer=a.windowContainer||"#win-container";var d=angular.element(a.windowContainer);a.id&&(b[0].id=a.id);"center"==a.x&&(a.x=(d.width()-a.width)/2);if("center"==a.y){var e=Math.min($(window).height(),d.height());if("auto"==a.height){b.css("top","20000px");var f=this,g=function(){var c=0,d=b.find(".window-content-wrapper");d&&(c=d.height());a.y=(e-c)/2;b.css("top",a.y+"px");f.constrainWindow_()};var h=
c(function(){k();g()},1E3);var k=a.$on(os.ui.WindowEventType.READY,function(){c.cancel(h);g()})}else a.y=(e-a.height)/2}0>a.x&&(a.x=d.width()-Number(a.width)+Number(a.x));0>a.y&&(a.y=d.height()-Number(a.height)+Number(a.y));this.scope.modal?this.addModalBg():b.css("z-index",a.zIndex||++os.ui.WindowCtrl.Z+"");a.disableDrag||(d={containment:a.windowContainer,handle:a.overlay?".window-header, .window-overlay-content":".window-header",start:this.onDragStart_.bind(this),stop:this.onDragStop_.bind(this)},
b.draggable(d));if(a.minWidth&&a.maxWidth&&a.minWidth!=a.maxWidth||a.minHeight&&a.maxHeight&&a.minHeight!=a.maxHeight)d={containment:a.windowContainer,minWidth:Number(a.minWidth)||200,maxWidth:Number(a.maxWidth)||window.screen.availWidth,minHeight:Number(a.minHeight)||100,maxHeight:Number(a.maxHeight)||window.screen.availHeight,handles:"nw, ne, sw, se",resize:this.updateContent_.bind(this),start:this.onDragStart_.bind(this),stop:this.onDragStop_.bind(this)},goog.object.extend(d,a.resizeOptions||{}),
b.resizable(d);b.css("overflow-y","unset");b.css("left",a.x+"px");b.css("top",a.y+"px");b.css("width",a.width+"px");d=a.height;"auto"==a.height?b.addClass("autosize"):d+="px";b.css("height",d);setTimeout(this.updateContent_.bind(this),10);this.vsm_=new goog.dom.ViewportSizeMonitor;this.vsm_.listen(goog.events.EventType.RESIZE,this.onViewportResize_,!1,this);this.lastHeight_=NaN;this.closing_=!1;goog.events.listen(b[0],goog.events.EventType.MOUSEDOWN,this.updateZIndex_,!0,this);goog.events.listen(window,
goog.events.EventType.MOUSEDOWN,this.onBlurOrFocus_,!0,this);a.overlay&&(goog.events.listen(b[0],goog.events.EventType.MOUSEOVER,this.showOverlayWindow_,!0,this),goog.events.listen(b[0],goog.events.EventType.MOUSEOUT,this.hideOverlayWindow_,!0,this),this.hideOverlayWindow_());this.scope.$watch("modal",this.onToggleModal_.bind(this));this.scope.$watch("closeFlag",this.onCloseFlag_.bind(this));this.scope.$on("$destroy",this.dispose.bind(this));this.scope.active=!0;this.constrainWindow_();this.element.focus()};
goog.inherits(os.ui.WindowCtrl,goog.Disposable);os.ui.WindowCtrl.Z=2E3;
os.ui.WindowCtrl.prototype.disposeInternal=function(){os.ui.WindowCtrl.superClass_.disposeInternal.call(this);this.closing_||this.close(!0);goog.events.unlisten(window,goog.events.EventType.MOUSEDOWN,this.onBlurOrFocus_,!0,this);goog.events.unlisten(this.element[0],goog.events.EventType.MOUSEDOWN,this.updateZIndex_,!0,this);this.scope.overlay&&(goog.events.unlisten(this.element[0],goog.events.EventType.MOUSEOVER,this.showOverlayWindow_,!0,this),goog.events.unlisten(this.element[0],goog.events.EventType.MOUSEOUT,
this.hideOverlayWindow_,!0,this));this.scope.modal&&this.removeModalBg();goog.dispose(this.vsm_);this.scope=this.element=this.vsm_=null};os.ui.WindowCtrl.prototype.addModalBg=function(){if(!this.modalElement){var a=angular.element(this.scope.windowContainer);this.modalElement=a.append('<div class="window-modal-bg"></div>');a.css("overflow","hidden");this.element.css("z-index",this.scope.zIndex||"10001")}};
os.ui.WindowCtrl.prototype.removeModalBg=function(){this.modalElement&&($(".window-modal-bg").first().remove(),$(this.scope.windowContainer).css("overflow","visible"),this.modalElement=null)};os.ui.WindowCtrl.prototype.bringToFront=function(){this.updateZIndex_()};goog.exportProperty(os.ui.WindowCtrl.prototype,"bringToFront",os.ui.WindowCtrl.prototype.bringToFront);os.ui.WindowCtrl.prototype.setParams=function(a){this.scope.$broadcast("os.ui.window.params",a)};
os.ui.WindowCtrl.prototype.onBlurOrFocus_=function(){this.scope.active=!1;os.ui.apply(this.scope)};os.ui.WindowCtrl.prototype.showOverlayWindow_=function(){var a=this.element.find(".window-header"),b=this.element.find(".ui-resizable-se");a&&(b.css("visibility","visible"),a.css("visibility","visible"),this.element.removeClass("modal-borderless"))};
os.ui.WindowCtrl.prototype.hideOverlayWindow_=function(){var a=this.element.find(".window-header");this.element.toggleClass(".ui-resizable-se");var b=this.element.find(".ui-resizable-se");a&&(b.css("visibility","hidden"),a.css("visibility","hidden"),this.element.addClass("modal-borderless"))};
os.ui.WindowCtrl.prototype.close=function(a){this.closing_=!0;var b=this.element.scope()||this.scope;a&&b.$broadcast(os.ui.WindowEventType.CANCEL,this.element);b.$broadcast(os.ui.WindowEventType.CLOSING,this.element);b.$emit(os.ui.WindowEventType.CLOSE,this.element);goog.isDefAndNotNull(this.scope.closeFlag)?this.scope.closeFlag=!this.scope.closeFlag:(a=this.element,this.isDisposed()||this.scope.$parent.$destroy(),a.remove())};goog.exportProperty(os.ui.WindowCtrl.prototype,"close",os.ui.WindowCtrl.prototype.close);
os.ui.WindowCtrl.prototype.toggle=function(){if(!this.scope.modal){var a=this.element.find(".window-wrapper");isNaN(this.lastHeight_)?(this.element.resizable("option","disabled",!0),this.lastHeight_=this.element.height(),a.toggle(),a=this.element.find(".window-header"),this.element.height(a.height()),this.scope.collapsed=!0):(this.element.height(this.lastHeight_),this.lastHeight_=NaN,a.toggle(),this.element.resizable("option","disabled",!1),this.constrainWindow_(),this.scope.collapsed=!1)}};
goog.exportProperty(os.ui.WindowCtrl.prototype,"toggle",os.ui.WindowCtrl.prototype.toggle);os.ui.WindowCtrl.prototype.updateContent_=function(){"true"===this.scope.noScroll&&this.element.find(".window-content").css("overflow","hidden")};os.ui.WindowCtrl.prototype.hide=function(){if(this.scope.id){os.ui.window.toggleVisibility(this.scope.id);var a=new os.ui.events.UIEvent(os.ui.events.UIEventType.TOGGLE_UI,this.scope.id);os.dispatcher.dispatchEvent(a)}};
goog.exportProperty(os.ui.WindowCtrl.prototype,"hide",os.ui.WindowCtrl.prototype.hide);os.ui.WindowCtrl.prototype.onChange=function(a,b){};os.ui.WindowCtrl.prototype.onDragStart_=function(a,b){this.scope.$emit(os.ui.WindowEventType.DRAGSTART);angular.element("iframe").addClass("no-mouse")};
os.ui.WindowCtrl.prototype.onDragStop_=function(a,b){this.onChange(a,b);this.scope.$emit(os.ui.WindowEventType.DRAGSTOP);"auto"==this.scope.height&&this.element.css("height","auto");angular.element("iframe").removeClass("no-mouse");this.constrainWindow_()};os.ui.WindowCtrl.prototype.onToggleModal_=function(a,b){goog.isDef(a)&&a!=b&&(a?this.addModalBg():this.removeModalBg())};os.ui.WindowCtrl.prototype.onCloseFlag_=function(a,b){a&&a!=b&&this.updateZIndex_()};
os.ui.WindowCtrl.prototype.updateZIndex_=function(){this.scope.modal||this.scope.zIndex||!this.element||this.element.css("z-index")==os.ui.WindowCtrl.Z||this.element.css("z-index",++os.ui.WindowCtrl.Z+"");this.scope.active||(this.scope.active=!0,os.ui.apply(this.scope))};os.ui.WindowCtrl.prototype.onViewportResize_=function(a){this.constrainWindow_()};
os.ui.WindowCtrl.prototype.constrainWindow_=function(){var a=parseFloat(this.element.css("left").replace("px","")),b=parseFloat(this.element.css("top").replace("px","")),c=parseFloat(this.element.css("width").replace("px","")),d=parseFloat(this.element.css("height").replace("px","")),e=this.vsm_.getSize();c>e.width&&(c=parseFloat(this.scope.minWidth||this.scope.width||0),c=Math.max(e.width,c),this.element.css("width",c+"px"));d>e.height&&(d=parseFloat(this.scope.minHeight||this.scope.height||0),d=
Math.max(e.height,d),this.element.css("height",d+"px"));0>a?this.element.css("left","0px"):a+c>e.width&&(a=Math.max(e.width-c,0),this.element.css("left",a+"px"));0>b?this.element.css("top","0px"):b+d>e.height&&(b=Math.max(e.height-d,0),this.element.css("top",b+"px"))};os.ui.WindowCtrl.prototype.onHeaderBtnClick=function(a,b){a=$(a.target).parents(".window");b.onClick(a)};goog.exportProperty(os.ui.WindowCtrl.prototype,"onHeaderBtnClick",os.ui.WindowCtrl.prototype.onHeaderBtnClick);os.ui.query={};os.ui.query.AreaManager=function(){os.data.CollectionManager.call(this);this.log=os.ui.query.AreaManager.LOGGER_;this.mapReady_=!1;this.getMap()&&this.getMap().listen("map:ready",this.onMapReady_,!1,this);this.loadProj_=null;this.saveDelay_=new goog.async.Delay(this.save,100,this);this.storage=new os.storage.IDBStorage(os.SHARED_STORE_NAME,os.SHARED_DB_NAME);this.storage.init().addCallbacks(this.onStorageReady,this.onStorageError,this)};goog.inherits(os.ui.query.AreaManager,os.data.CollectionManager);
goog.addSingletonGetter(os.ui.query.AreaManager);os.ui.query.AreaManager.LOGGER_=goog.log.getLogger("os.ui.query.AreaManager");os.ui.query.DRAW_ID="draw";os.ui.query.AreaManager.FEATURE_PREFIX="area_";os.AREA_STORAGE_KEY="areas";os.ui.query.AreaManager.tempId_=1;os.ui.query.AreaManager.prototype.onStorageReady=function(){this.migrateAreasFromLsToIdb_();this.migrateAreasFromIdbToSettings_().addCallbacks(this.load,this.onStorageError,this)};
os.ui.query.AreaManager.prototype.migrateAreasFromLsToIdb_=function(){var a=new os.storage.HTML5LocalStorage,b=a.get(os.AREA_STORAGE_KEY);if(b){try{var c=(new ol.format.GeoJSON).readFeatures(b);c&&(goog.log.info(this.log,"Migrating "+c.length+" areas from local storage to IndexedDB."),this.bulkAdd(c))}catch(d){goog.log.error(this.log,"Failed migrating old areas from local storage!",d)}a.remove(os.AREA_STORAGE_KEY)}};
os.ui.query.AreaManager.prototype.migrateAreasFromIdbToSettings_=function(){return this.storage.get(os.AREA_STORAGE_KEY).addCallbacks(this.onMigrateAreasLoaded_,this.onStorageError,this)};os.ui.query.AreaManager.prototype.onMigrateAreasLoaded_=function(a){a&&os.settings.set(os.AREA_STORAGE_KEY,a);this.storage&&this.storage.remove(os.AREA_STORAGE_KEY).addCallback(this.storage.dispose,this.storage)};
os.ui.query.AreaManager.prototype.onStorageError=function(a){this.storage&&(this.storage.dispose(),this.storage=new os.storage.AsyncStorageWrapper(new os.storage.HTML5LocalStorage),this.load())};
os.ui.query.AreaManager.prototype.onMapReady_=function(){this.mapReady_=!0;for(var a=this.getAll(),b=0,c=a.length;b<c;b++){var d=a[b];d.getGeometry().osTransform(this.loadProj_);var e=d.get("shown");this.toggle(d,goog.isDef(e)?e:!0)}os.ui.query.QueryManager.getInstance().listen(goog.events.EventType.PROPERTYCHANGE,this.updateStyles_,!1,this);this.updateStyles_()};
os.ui.query.AreaManager.prototype.onMapUnready_=function(){this.mapReady_=!1;os.ui.query.QueryManager.getInstance().unlisten(goog.events.EventType.PROPERTYCHANGE,this.updateStyles_,!1,this)};os.ui.query.AreaManager.prototype.getMap=function(){return this.map_};
os.ui.query.AreaManager.prototype.setMap=function(a){this.getMap()&&(this.getMap().unlisten("map:ready",this.onMapReady_,!1,this),this.onMapUnready_());this.map_=a;this.getMap()&&(this.onMapReady_(),this.getMap().listen("map:ready",this.onMapReady_,!1,this))};os.ui.query.AreaManager.prototype.getId=function(a){return""+a.getId()};
os.ui.query.AreaManager.prototype.bulkAdd=function(a,b){var c=b||!1;goog.array.forEach(a,function(a){a.getId()||a.setId(os.ui.query.AreaManager.FEATURE_PREFIX+goog.string.getRandomString());a.get("temp")||a.get("title")||(a.set("temp",!0),a.set("title","temp area "+os.ui.query.AreaManager.tempId_++));a.set("shown",c);this.addInternal(a,!0)},this);this.dispatchEvent(new os.events.PropertyChangeEvent("areas"))};
os.ui.query.AreaManager.prototype.add=function(a){goog.asserts.assert(goog.isDef(a),"Cannot add null/undefined feature");a.getId()||a.setId(os.ui.query.AreaManager.FEATURE_PREFIX+goog.string.getRandomString());!a.get("title")&&a.get("name")?(a.set("temp",!0),a.set("title",a.get("name"))):a.get("temp")||a.get("title")||(a.set("temp",!0),a.set("title","temp area "+os.ui.query.AreaManager.tempId_++));var b=this.addInternal(a);this.dispatchEvent(new os.events.PropertyChangeEvent("add/edit",a));this.saveDelay_.start();
return b};os.ui.query.AreaManager.prototype.isValidFeature=function(a){var b=a.getGeometry();if(!b)return!1;var c=!1,d=b.getType();if(d==ol.geom.GeometryType.POLYGON||d==ol.geom.GeometryType.MULTI_POLYGON)b=os.geo.jsts.validate(b),c=!0,a.setGeometry(b),a.set(os.interpolate.ORIGINAL_GEOM_FIELD,b);else try{var e=os.geo.jsts.toPolygon(b);e&&(a.setGeometry(e),c=!0)}catch(f){goog.log.error(this.log,"Error converting "+d+" to polygon:",f),c=!1}c&&this.normalizeGeometry(a);return c};
os.ui.query.AreaManager.prototype.normalizeGeometry=function(a){os.geo.normalizeGeometryCoordinates(a.getGeometry())};os.ui.query.AreaManager.prototype.filterFeatures=function(a){return a?goog.array.filter(a,function(a){return null!=a&&this.isValidFeature(a)},this):null};
os.ui.query.AreaManager.prototype.addInternal=function(a,b){b=b||!1;if(null!=a&&this.isValidFeature(a)){if(a.unset(os.data.RecordField.DRAWING_LAYER_NODE,!0),os.ui.query.AreaManager.superClass_.addInternal.call(this,a)){if(this.mapReady_){var c=a.get("shown");b?this.showHideFeature(a,goog.isDef(c)?c:!0):this.toggle(a,goog.isDef(c)?c:!0)}return!0}}else os.alertManager.sendAlert("Area is invalid and cannot be used. Common problems include polygons that cross themselves and multipolygons with overlapping elements.",
os.alert.AlertEventSeverity.WARNING);return!1};os.ui.query.AreaManager.prototype.showHideFeature=function(a,b){if(a=this.get(a))b=goog.isDef(b)?b:!this.getMap().containsFeature(a),a.set("shown",b),b?this.getMap().containsFeature(a)||(this.setDefaultStyle(a),this.getMap().addFeature(a)):this.getMap().removeFeature(a),this.saveDelay_.start()};os.ui.query.AreaManager.prototype.toggleAllFeatures=function(a){for(var b=this.getAll(),c=0;c<b.length;c+=1)this.toggle(b[c],a)};
os.ui.query.AreaManager.prototype.toggle=function(a,b){this.showHideFeature(a,b);if(a=this.get(a))this.dispatchEvent(new os.events.PropertyChangeEvent("toggle",a)),a.dispatchEvent("toggle")};os.ui.query.AreaManager.prototype.remove=function(a){var b=os.ui.query.AreaManager.superClass_.remove.call(this,a);b&&this.getMap()&&(this.unhighlight(a),this.getMap().removeFeature(b),this.saveDelay_.start());return b};
os.ui.query.AreaManager.prototype.clear=function(){for(var a=os.ui.queryManager,b=this.getAll(),c=[],d=0;d<b.length;d++){var e=b[d];this.remove(e);c.push(e);(e=e.getId()?a.getEntries(null,e.getId()):[])&&a.removeEntriesArr(e)}return c};os.ui.query.AreaManager.prototype.clearTemp=function(){for(var a=os.ui.queryManager,b=this.getAll(),c=[],d=0;d<b.length;d++){var e=b[d];e.get("temp")&&(this.remove(e),c.push(e));(e=e.getId()?a.getEntries(null,e.getId()):[])&&a.removeEntriesArr(e)}return c};
os.ui.query.AreaManager.prototype.save=function(){return goog.async.Deferred.succeed()};os.ui.query.AreaManager.prototype.load=function(){this.dispatchEvent(new os.events.PropertyChangeEvent("areas"));return goog.async.Deferred.succeed()};os.ui.query.AreaManager.prototype.getStoredAreas=function(){return goog.async.Deferred.succeed(this.onAreasLoaded_(os.settings.get(os.AREA_STORAGE_KEY)))};
os.ui.query.AreaManager.prototype.onAreasLoaded_=function(a){if(a){var b=new ol.format.GeoJSON;this.loadProj_=os.map.PROJECTION;if(a=b.readFeatures(a,{featureProjection:this.loadProj_}))for(b=0;b<a.length;b++){var c=a[b]?a[b].getGeometry():void 0;c&&c.set(os.geom.GeometryField.NORMALIZED,!0,!0)}return a}return null};os.ui.query.AreaManager.prototype.setDefaultStyle=function(a){a.setStyle(os.style.area.DEFAULT_STYLE)};
os.ui.query.AreaManager.prototype.updateStyles_=function(){for(var a=this.getAll(),b=!1,c=0,d=a.length;c<d;c++)this.updateStyle(a[c],!0)&&(b=!0);b&&this.getMap().getLayer(os.ui.query.DRAW_ID).getSource().changed()};
os.ui.query.AreaManager.prototype.updateStyle=function(a,b){var c=os.ui.query.QueryManager.getInstance(),d=!1,e=os.style.area.DEFAULT_STYLE,f=os.style.area.INCLUSION_STYLE,g=os.style.area.EXCLUSION_STYLE,h=c.getEntries(null,a.getId());c=this.getMap().getLayer(os.ui.query.DRAW_ID).getSource();if(h&&0<h.length){var k=os.ui.queryManager.getLayerSet();k=goog.object.getKeys(k);if(k=1==k.length?k[0]:null)for(var l=0,m=h.length;l<m;l++){if(h[l].layerId==k){e=h[l].includeArea?f:g;break}}else e=h[0].includeArea?
f:g}f=a.getStyle();g=a.getId();f!==e&&g&&(a.setStyle(e),c.getFeatureById(g)&&(c.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.CHANGEFEATURE,a)),d=!0));d&&!b&&c.changed();return d};os.ui.query.AreaManager.prototype.redraw=function(a){var b=this.getMap().getLayer(os.ui.query.DRAW_ID).getSource(),c=a.getId();c&&b.getFeatureById(c)&&b.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.CHANGEFEATURE,a));b.changed()};
os.ui.query.AreaManager.prototype.unhighlight=function(a){if((a=this.get(a))&&this.getMap().containsFeature(a)){var b=os.ui.queryManager.getEntries(void 0,a.getId());0< !b.length?a.setStyle(os.style.area.DEFAULT_STYLE):b[0].includeArea?a.setStyle(os.style.area.INCLUSION_STYLE):a.setStyle(os.style.area.EXCLUSION_STYLE)}};
os.ui.query.AreaManager.prototype.highlight=function(a){if((a=this.get(a))&&this.getMap().containsFeature(a)){var b=$("#map-container");a&&(a.setStyle(os.style.area.HOVER_STYLE),b.css("cursor","pointer"))}};os.ui.query.AreaManager.prototype.fireStateChangeEvent=function(a,b){a&&this.dispatchEvent(new os.events.PropertyChangeEvent(b,a.getId()))};os.ui.query.AreaManager.filterTemp=function(a){return!a.get("temp")};
os.ui.query.AreaManager.save=function(a,b){b=b||void 0;var c={feature:a,columns:b};a=!os.ui.areaManager.get(a)||a.get("temp")?os.ui.query.SAVE_WIN_LABEL:os.ui.query.EDIT_WIN_LABEL;os.ui.window.create({label:a,x:"center",y:"center",width:400,height:b?245:225,"show-close":!0,modal:!0},"<editarea></editarea>",void 0,void 0,void 0,c)};
os.ui.query.AreaManager.merge=function(a,b){b=b||"mergeareas";os.ui.window.create({label:"Merge Areas",x:"center",y:"center",width:400,height:"auto","show-close":!0,modal:!1},"<"+b+"></"+b+">",void 0,void 0,void 0,{features:a})};os.ui.areaManager=null;os.ui.query.cmd={};os.ui.query.cmd.AbstractArea=function(a){goog.Disposable.call(this);this.area=a;var b=os.ui.queryManager;this.entries=a.getId()?b.getEntries(null,a.getId()):[];this.include=b.isInclusion(a);this.exclude=b.isExclusion(a);this.append=!0};goog.inherits(os.ui.query.cmd.AbstractArea,goog.Disposable);os.ui.query.cmd.AbstractArea.prototype.isAsync=!1;os.ui.query.cmd.AbstractArea.prototype.title="Add/Remove Area";os.ui.query.cmd.AbstractArea.prototype.details=null;
os.ui.query.cmd.AbstractArea.prototype.state=os.command.State.READY;os.ui.query.cmd.AbstractArea.prototype.execute=goog.abstractMethod;os.ui.query.cmd.AbstractArea.prototype.revert=goog.abstractMethod;os.ui.query.cmd.AbstractArea.prototype.canExecute=function(){return this.state!==os.command.State.READY?(this.details="Command not in ready state.",!1):this.area?!0:(this.details="No area provided.",!1)};os.command.AreaToggle=function(a,b){os.ui.query.cmd.AbstractArea.call(this,a);this.show_=b;this.title="Toggle area "+(b?"on":"off")};goog.inherits(os.command.AreaToggle,os.ui.query.cmd.AbstractArea);os.command.AreaToggle.prototype.execute=function(){return this.canExecute()?(this.state=os.command.State.EXECUTING,os.ui.areaManager.toggle(this.area,this.show_),this.state=os.command.State.SUCCESS,!0):!1};
os.command.AreaToggle.prototype.revert=function(){this.state=os.command.State.REVERTING;os.ui.areaManager.toggle(this.area,!this.show_);this.state=os.command.State.READY;return!0};os.ui.menu={};os.ui.menu.IMenuSupplier=function(){};os.ui.menu.IMenuSupplier.ID="os.ui.menu.IMenuSupplier";os.ui.menu.IMenuSupplier.prototype.getMenu=goog.abstractMethod;os.ui.query.cmd.AreaRemove=function(a){os.ui.query.cmd.AbstractArea.call(this,a);this.title="Remove area";a&&(a=a.get("title"))&&(this.title+=' "'+a+'"')};goog.inherits(os.ui.query.cmd.AreaRemove,os.ui.query.cmd.AbstractArea);os.ui.query.cmd.AreaRemove.prototype.execute=function(){if(this.canExecute()){this.state=os.command.State.EXECUTING;var a=os.ui.areaManager,b=os.ui.queryManager;this.entries&&b.removeEntriesArr(this.entries);a.remove(this.area);this.state=os.command.State.SUCCESS;return!0}return!1};
os.ui.query.cmd.AreaRemove.prototype.revert=function(){this.state=os.command.State.REVERTING;var a=os.ui.queryManager;os.ui.areaManager.add(this.area);a.addEntries(this.entries);this.state=os.command.State.READY;return!0};os.ui.slick.AbstractNodeUICtrl=function(a,b){this.scope=a;this.cellEl=b.parent();a.$on("$destroy",this.destroy.bind(this))};os.ui.slick.AbstractNodeUICtrl.prototype.destroy=function(){this.cellEl=this.scope=null};os.ui.slick.AbstractNodeUICtrl.prototype.show=function(){return this.cellEl.hasClass("hovered")||this.cellEl.hasClass("selected")||this.cellEl.parent().hasClass("selected")};goog.exportProperty(os.ui.slick.AbstractNodeUICtrl.prototype,"show",os.ui.slick.AbstractNodeUICtrl.prototype.show);os.ui.node={};
os.ui.node.areaNodeUIDirective=function(){return{restrict:"AE",replace:!0,template:'<span class="glyphs pull-right slick-node-ui" ng-if="nodeUi.show()"><span ng-click="nodeUi.edit()"><i class="fa fa-fw glyph" ng-class="nodeUi.getTemp() ? \'fa-save\' : \'fa-pencil\'" title="{{nodeUi.getTemp() ? \'Save\' : \'Edit\'}}"></i></span><span ng-click="nodeUi.remove()"><i class="fa fa-times fa-fw glyph glyph-remove" title="Remove the area"></i></span></span>',controller:os.ui.node.AreaNodeUICtrl,controllerAs:"nodeUi"}};
os.ui.Module.directive("areanodeui",[os.ui.node.areaNodeUIDirective]);os.ui.node.AreaNodeUICtrl=function(a,b){os.ui.slick.AbstractNodeUICtrl.call(this,a,b)};goog.inherits(os.ui.node.AreaNodeUICtrl,os.ui.slick.AbstractNodeUICtrl);os.ui.node.AreaNodeUICtrl.prototype.getTemp=function(){return this.scope.item.getArea().get("temp")};goog.exportProperty(os.ui.node.AreaNodeUICtrl.prototype,"getTemp",os.ui.node.AreaNodeUICtrl.prototype.getTemp);
os.ui.node.AreaNodeUICtrl.prototype.remove=function(){var a=this.scope.item.getArea();a&&(a=new os.ui.query.cmd.AreaRemove(a),os.command.CommandProcessor.getInstance().addCommand(a))};goog.exportProperty(os.ui.node.AreaNodeUICtrl.prototype,"remove",os.ui.node.AreaNodeUICtrl.prototype.remove);os.ui.node.AreaNodeUICtrl.prototype.edit=function(){var a=this.scope.item.getArea();a&&os.ui.query.AreaManager.save(a)};goog.exportProperty(os.ui.node.AreaNodeUICtrl.prototype,"edit",os.ui.node.AreaNodeUICtrl.prototype.edit);os.tag={};os.tag.DEFAULT_XML_ROOT="tags";os.tag.DEFAULT_XML_TAG="tag";os.tag.tagsFromString=function(a){return a?goog.string.trim(a).split(/\s*,\s*/):null};os.tag.stringFromTags=function(a){return a?a.join(", "):""};os.tag.stringFromXML=function(a){return os.tag.stringFromTags(os.tag.tagsFromXML(a))};os.tag.tagsFromXML=function(a){var b=null;if(a){a=goog.dom.getChildren(a);b=[];for(var c=0,d=a.length;c<d;c++)b.push(goog.dom.getTextContent(a[c]))}return b};
os.tag.xmlFromTags=function(a,b,c){var d;goog.isString(a)?d=os.tag.tagsFromString(a):a&&(d=a);if(d){a=os.xml.createElement(b||os.tag.DEFAULT_XML_ROOT,c);b=0;for(c=d.length;b<c;b++)os.xml.appendElement(os.tag.DEFAULT_XML_TAG,a,d[b]);return a}return null};os.ui.query.AreaNode=function(a){os.ui.slick.SlickTreeNode.call(this);this.area=null;a&&this.setArea(a)};goog.inherits(os.ui.query.AreaNode,os.ui.slick.SlickTreeNode);os.ui.query.AreaNode.prototype.disposeInternal=function(){os.ui.query.AreaNode.superClass_.disposeInternal.call(this);this.setArea(null)};os.ui.query.AreaNode.prototype.getArea=function(){return this.area};
os.ui.query.AreaNode.prototype.setArea=function(a){this.area&&ol.events.unlisten(this.area,"toggle",this.onAreaToggled,this);this.area=a;this.updateFromArea();this.area&&ol.events.listen(this.area,"toggle",this.onAreaToggled,this)};os.ui.query.AreaNode.prototype.updateFromArea=function(){this.setId(this.getId());this.setLabel(this.getLabel());this.area&&(this.setToolTip(this.area.get("description")||""),this.setState(this.area.get("shown")?os.structs.TriState.ON:os.structs.TriState.OFF))};
os.ui.query.AreaNode.prototype.setState=function(a){if(a!==os.structs.TriState.BOTH){var b=this.getState();os.ui.query.AreaNode.superClass_.setState.call(this,a);a=this.getState();b!=a&&this.area&&(b=a!==os.structs.TriState.OFF,a=this.area.get("shown"),b!==a&&(this.area.set("shown",b),this.area.dispatchEvent("toggle")))}};os.ui.query.AreaNode.prototype.onAreaToggled=function(a){this.setState(this.area.get("shown")?os.structs.TriState.ON:os.structs.TriState.OFF)};
os.ui.query.AreaNode.prototype.getId=function(){return this.area?this.area.getId():os.ui.query.AreaNode.superClass_.getId.call(this)};os.ui.query.AreaNode.prototype.getLabel=function(){return this.area?this.area.get("title")||"":os.ui.query.AreaNode.superClass_.getLabel.call(this)};os.ui.query.AreaNode.prototype.getSearchText=function(){var a="";this.area&&(a+=this.area.get("title")||"",a+=" "+(this.area.get("description")||""),a+=" "+(this.area.get("tags")||""));return a};
os.ui.query.AreaNode.prototype.getTags=function(){if(this.area){var a=this.area.get("tags");if(a)return os.tag.tagsFromString(a)}return null};os.ui.query.AreaNode.prototype.onMouseEnter=function(){os.ui.areaManager.getMap()&&(this.area.setStyle(os.style.area.HOVER_STYLE),os.ui.areaManager.getMap().addFeature(this.area))};os.ui.query.AreaNode.prototype.onMouseLeave=function(){os.ui.areaManager.getMap()&&os.ui.areaManager.getMap().removeFeature(this.area)};os.ui.query.AreaNode.prototype.isLoading=function(){return!1};
goog.exportProperty(os.ui.query.AreaNode.prototype,"isLoading",os.ui.query.AreaNode.prototype.isLoading);os.ui.query.AreaNode.prototype.updateFrom=function(a){this.setArea(a.getArea());os.ui.query.AreaNode.superClass_.updateFrom.call(this,a)};os.data.AreaNode=function(a){os.ui.query.AreaNode.call(this,a);os.ui.queryManager.listen(goog.events.EventType.PROPERTYCHANGE,this.onQueriesChanged_,!1,this)};goog.inherits(os.data.AreaNode,os.ui.query.AreaNode);os.implements(os.data.AreaNode,os.ui.menu.IMenuSupplier.ID);os.data.AreaNode.prototype.disposeInternal=function(){os.data.AreaNode.superClass_.disposeInternal.call(this);os.ui.queryManager.unlisten(goog.events.EventType.PROPERTYCHANGE,this.onQueriesChanged_,!1,this)};
os.data.AreaNode.prototype.getMenu=function(){return os.ui.menu.SPATIAL};os.data.AreaNode.prototype.setArea=function(a){if(a!==this.area){this.area&&ol.events.unlisten(this.area,"toggle",this.onAreaToggled,this);var b=this.area;this.area=a;this.updateFromArea();this.area?(this.nodeUI="<areanodeui></areanodeui>",ol.events.listen(this.area,"toggle",this.onAreaToggled,this)):this.nodeUI="";this.dispatchEvent(new os.events.PropertyChangeEvent("area",a,b))}else this.updateFromArea()};
os.data.AreaNode.prototype.onQueriesChanged_=function(a){this.dispatchEvent(new os.events.PropertyChangeEvent("icons"))};os.data.AreaNode.prototype.setState=function(a){if(a!==os.structs.TriState.BOTH){var b=this.getState();this.setStateInternal(a);a=this.getState();b!=a&&this.area&&(b=a!==os.structs.TriState.OFF,a=this.area.get("shown"),b!==a&&(b=new os.command.AreaToggle(this.area,b),os.command.CommandProcessor.getInstance().addCommand(b)))}};os.data.AreaNode.prototype.onMouseEnter=function(){os.ui.areaManager.highlight(this.area)};
os.data.AreaNode.prototype.onMouseLeave=function(){os.ui.areaManager.unhighlight(this.area)};
os.data.AreaNode.prototype.formatIcons=function(){var a=this.getArea();a=os.ui.queryManager.hasArea(a.getId());if(1==a){a="fa-ban red-icon";var b="This area is an exclusion"}else 2==a?(a="fa-circle-o yellow-icon",b="This area is querying features"):3==a?(a="fa-circle-o orange-icon",b="This area is being used for queries and exclusions"):(a="fa-circle-o",b="This area is being displayed on the map");return a?' <i class="fa '+a+'" title="'+b+'"></i> ':os.data.AreaNode.superClass_.formatIcons.call(this)};os.command.AbstractCommandSet=function(){goog.events.EventTarget.call(this)};goog.inherits(os.command.AbstractCommandSet,goog.events.EventTarget);os.command.AbstractCommandSet.prototype.disposeInternal=function(){goog.disposeAll(this.getCommands());os.command.AbstractCommandSet.superClass_.disposeInternal.call(this)};os.command.AbstractCommandSet.prototype.cmds_=null;os.command.AbstractCommandSet.prototype.getCommands=function(){return this.cmds_};
os.command.AbstractCommandSet.prototype.setCommands=function(a){if(this.cmds_=a){this.isAsync=!1;var b;var c=0;for(b=a.length;c<b;c++)a[c].isAsync&&(this.isAsync=!0);if(!this.title){var d=[];goog.array.forEach(a,function(a,b,c){a.title&&d.push(a.title)});this.title="[ "+d.join(", ")+" ]"}}};os.command.AbstractCommandSet.prototype.title=null;os.command.AbstractCommandSet.prototype.state=os.command.State.READY;os.command.AbstractCommandSet.prototype.isAsync=!1;
os.command.AbstractCommandSet.prototype.details=null;os.command.SequenceCommand=function(){os.command.AbstractCommandSet.call(this)};goog.inherits(os.command.SequenceCommand,os.command.AbstractCommandSet);os.command.SequenceCommand.prototype.current_=-1;
os.command.SequenceCommand.prototype.setCommands=function(a){os.command.SequenceCommand.superClass_.setCommands.call(this,a);this.current_=-1;this.state=os.command.State.READY;var b=a.length;if(!(0>=b)){for(var c=0;c<b;c++){var d=a[c];if(d.state===os.command.State.READY&&0>this.current_)this.current_=c;else if(d.state===os.command.State.SUCCESS||d.state===os.command.State.ERROR){if(0<=this.current_&&c>=this.current_)throw Error("os.command.SequenceCommand: illegal state: the first ready sub-command must follow all executed sub-commands: first ready command ["+
this.current_+"]:"+a[this.current_].title+" precedes "+d.state+"command ["+c+"]:"+a[c].title);this.state!==os.command.State.ERROR&&(this.state=d.state)}}0<=this.current_&&this.current_<a.length&&this.state!==os.command.State.ERROR?this.state=os.command.State.READY:this.current_=a.length}};os.command.SequenceCommand.prototype.execute=function(){if(this.state!==os.command.State.READY)return!1;this.state=os.command.State.EXECUTING;return this.execute_()};
os.command.SequenceCommand.prototype.revert=function(){if(this.state!==os.command.State.SUCCESS)return!1;this.current_--;this.state=os.command.State.REVERTING;return this.revert_()};
os.command.SequenceCommand.prototype.execute_=function(){for(var a=this.getCommands(),b=a.length;this.current_<b&&this.state===os.command.State.EXECUTING;){var c=a[this.current_],d=null;c.isAsync&&(d=c,d.listenOnce(os.command.EventType.EXECUTED,this.onCommandExecuted_,!1,this));var e=!1;try{(e=c.execute())||this.updateCurrentCommandDetails_()}catch(f){this.details="Error executing command "+c.title+": "+String(f)}if(!e)return d&&d.unlisten(os.command.EventType.EXECUTED,this.onCommandExecuted_,!1,
this),this.state=os.command.State.ERROR,this.dispatchEvent(new goog.events.Event(os.command.EventType.EXECUTED)),!1;if(c.isAsync)return!0;this.current_++}this.state=os.command.State.SUCCESS;this.details=null;this.dispatchEvent(new goog.events.Event(os.command.EventType.EXECUTED));return!0};
os.command.SequenceCommand.prototype.onCommandExecuted_=function(){this.state===os.command.State.EXECUTING&&(this.updateCurrentCommandDetails_(),this.getCommands()[this.current_].state!==os.command.State.SUCCESS?(this.state=os.command.State.ERROR,this.dispatchEvent(new goog.events.Event(os.command.EventType.EXECUTED))):(this.current_++,goog.Timer.callOnce(this.execute_.bind(this))))};
os.command.SequenceCommand.prototype.revert_=function(){for(;-1<this.current_&&this.state===os.command.State.REVERTING;){var a=this.getCommands()[this.current_];if(a.isAsync){var b=a;b.listenOnce(os.command.EventType.REVERTED,this.onCommandReverted_,!1,this)}b=!1;try{(b=a.revert())||this.updateCurrentCommandDetails_()}catch(c){this.details="Error reverting command "+a.title+": "+String(c)}if(!b)return this.state=os.command.State.ERROR,this.dispatchEvent(new goog.events.Event(os.command.EventType.REVERTED)),
!1;if(a.isAsync)return!0;this.current_--}this.current_=0;this.state=os.command.State.READY;this.details=null;this.dispatchEvent(new goog.events.Event(os.command.EventType.REVERTED));return!0};
os.command.SequenceCommand.prototype.onCommandReverted_=function(){this.state===os.command.State.REVERTING&&(this.updateCurrentCommandDetails_(),this.getCommands()[this.current_].state!==os.command.State.READY?(this.state=os.command.State.ERROR,this.dispatchEvent(new goog.events.Event(os.command.EventType.REVERTED))):(this.current_--,goog.Timer.callOnce(this.revert_.bind(this))))};
os.command.SequenceCommand.prototype.updateCurrentCommandDetails_=function(){var a=this.getCommands()[this.current_];this.details=this.state===os.command.State.EXECUTING?a.state===os.command.State.ERROR?a.details||"Command "+(a.title||this.title+"["+this.current_+"]")+" failed":"Executing":this.state===os.command.State.REVERTING?a.state===os.command.State.ERROR?a.details||"Reverting command "+(a.title||this.title+"["+this.current_+"]")+" failed":"Reverting":null};os.ol.feature={};os.ol.feature.GEOMETRIES={Point:ol.geom.Point,LineString:ol.geom.LineString,LinearRing:ol.geom.LinearRing,Polygon:ol.geom.Polygon,MultiPoint:ol.geom.MultiPoint,MultiLineString:ol.geom.MultiLineString,MultiPolygon:ol.geom.MultiPolygon,Circle:ol.geom.Circle};
os.ol.feature.clone=function(a,b){var c=new ol.Feature,d=a.getGeometryName();c.setGeometryName(d);var e=a.getGeometry();goog.isDefAndNotNull(e)&&c.setGeometry(os.ol.feature.cloneGeometry(e));if(b){e=0;for(var f=b.length;e<f;e++){var g=b[e];null!=a.values_[g]&&g!=d&&(c.values_[g]=a.values_[g])}}return c};os.ol.feature.cloneGeometry=function(a){var b=a.getType();b=os.ol.feature.GEOMETRIES[b];return!b||a instanceof b?a.clone():b.prototype.clone.call(a)};
os.ol.feature.fieldSort=function(a,b,c){b=b.values_[a];a=c.values_[a];return b>a?1:b<a?-1:0};os.ui.query.cmd.AreaAdd=function(a,b,c,d,e){os.ui.areaManager.get(a)||(a=os.ol.feature.clone(a,os.ui.query.featureKeys));os.ui.query.cmd.AbstractArea.call(this,a);this.entries=a.getId()?os.ui.queryManager.getEntries(null,a.getId(),null,null,!0):[];this.include=goog.isDef(b)?b:this.include;this.exclude=goog.isDef(c)?c:this.exclude;this.append=goog.isDef(d)?d:this.append;this.title="Add "+(this.include?"query ":this.exclude?"exclusion ":"")+"area";a&&(a=a.get("title"))&&(this.title+=' "'+a+'"');this.layerIds=
goog.isDef(e)?e:["*"];this.added_=!1};goog.inherits(os.ui.query.cmd.AreaAdd,os.ui.query.cmd.AbstractArea);
os.ui.query.cmd.AreaAdd.prototype.execute=function(){if(this.canExecute()){this.state=os.command.State.EXECUTING;var a=os.ui.areaManager,b=os.ui.queryManager;this.entries&&b.removeEntriesArr(this.entries);a.get(this.area)||(this.added_=a.add(this.area));(this.include||this.exclude)&&goog.array.forEach(this.layerIds,function(a){b.addEntry(a,this.area.getId(),"*",this.include)},this);this.state=os.command.State.SUCCESS;return!0}return!1};
os.ui.query.cmd.AreaAdd.prototype.revert=function(){this.state=os.command.State.REVERTING;var a=os.ui.areaManager,b=os.ui.queryManager;(this.include||this.exclude)&&b.removeEntries(void 0,this.area.getId());this.entries&&this.entries.length&&b.addEntries(this.entries);this.added_&&a.remove(this.area);this.state=os.command.State.READY;return!0};os.command.CommandEvent=function(a,b,c){goog.events.Event.call(this,a,c);this.command_=b};goog.inherits(os.command.CommandEvent,goog.events.Event);os.command.CommandEvent.prototype.command_=null;os.command.CommandEvent.prototype.getCommand=function(){return this.command_};os.command.CommandProcessor=function(){goog.events.EventTarget.call(this);this.history_=[];this.historyLimit_=50;this.tmpQueue_=[];this.target_=this.current_=-1;this.checkFunctions_=[]};goog.inherits(os.command.CommandProcessor,goog.events.EventTarget);goog.addSingletonGetter(os.command.CommandProcessor);os.command.CommandProcessor.LOGGER_=goog.log.getLogger("os.command.CommandProcessor");os.command.CommandProcessor.prototype.getCurrent=function(){return this.current_};
os.command.CommandProcessor.prototype.isProcessing=function(){return this.current_!=this.target_||goog.array.some(this.history_,function(a){return a.state===os.command.State.EXECUTING})};os.command.CommandProcessor.prototype.getHistoryLimit=function(){return this.historyLimit_};
os.command.CommandProcessor.prototype.setHistoryLimit=function(a){if(this.isProcessing())throw Error("Setting the max queue size while processing asynchronous commands is not allowed!. Consider having the command run a job instead.");this.historyLimit_=a;this.resizeHistory_();this.dispatchEvent(new goog.events.Event(os.command.EventType.HISTORY_LIMIT_CHANGED))};os.command.CommandProcessor.prototype.getHistory=function(){return this.history_};
os.command.CommandProcessor.prototype.clearHistory=function(){var a=this.getHistoryLimit();this.setHistoryLimit(0);this.setHistoryLimit(a)};
os.command.CommandProcessor.prototype.addCommand=function(a){if(!this.checkCommand(a))return!1;if(this.isProcessing())return goog.log.fine(os.command.CommandProcessor.LOGGER_,'Processing is under way. Added "'+a.title+'" command to temporary queue.'),this.tmpQueue_.push(a),!0;this.current_<this.history_.length&&(this.history_.length=this.current_+1);this.target_++;if(a.state===os.command.State.READY)this.execute_(a);else this.onCommandComplete_(null,a);return!0};
os.command.CommandProcessor.prototype.registerCheckFunction=function(a){this.checkFunctions_.push(a)};os.command.CommandProcessor.prototype.checkCommand=function(a){if(a.state===os.command.State.ERROR)return!1;for(var b=!0,c=0,d=this.checkFunctions_.length;c<d&&b;c++)this.checkFunctions_[c](a)||(b=!1);return b};
os.command.CommandProcessor.prototype.resizeHistory_=function(){for(;this.history_.length>this.historyLimit_;){var a=this.history_.shift();this.destroyCommand_(a);-1<this.current_&&this.current_--}this.target_=this.current_};os.command.CommandProcessor.prototype.destroyCommand_=function(a){try{goog.dispose(a)}catch(b){goog.log.error(os.command.CommandProcessor.LOGGER_,'error disposing command "'+a.title+'": '+String(b))}};
os.command.CommandProcessor.prototype.undo=function(){goog.log.fine(os.command.CommandProcessor.LOGGER_,"undo"+this.current_);(this.history_.length&&-1<this.current_||-1<this.target_)&&this.setIndex(this.target_-1)};os.command.CommandProcessor.prototype.redo=function(){goog.log.fine(os.command.CommandProcessor.LOGGER_,"redo "+this.current_);this.history_.length&&this.current_<this.history_.length-1&&this.setIndex(this.target_+1)};
os.command.CommandProcessor.prototype.setIndex=function(a){this.isProcessing()?this.target_=Math.min(this.history_.length-1,Math.max(-1,a)):(this.target_=Math.min(this.history_.length-1,Math.max(-1,a)),this.target_<this.current_?this.revert_(this.history_[this.current_]):this.target_>this.current_&&this.execute_(this.history_[this.current_+1]))};
os.command.CommandProcessor.prototype.execute_=function(a){goog.log.info(os.command.CommandProcessor.LOGGER_,'executing "'+a.title+'" command');a.isAsync&&a.listenOnce(os.command.EventType.EXECUTED,this.onCommandComplete_,!1,this);this.dispatchEvent(new os.command.CommandEvent(os.command.EventType.COMMAND_EXECUTING,a));var b=!1;try{b=a.execute()}catch(c){b=!1,goog.log.error(os.command.CommandProcessor.LOGGER_,'Error executing command "'+a.title,c)}if(!b)a.isAsync&&a.unlisten(os.command.EventType.EXECUTED,
this.onCommandComplete_,!1,this),a.state=os.command.State.ERROR,this.onCommandComplete_(null,a);else if(!a.isAsync)this.onCommandComplete_(null,a);return b};
os.command.CommandProcessor.prototype.revert_=function(a){this.dispatchEvent(new os.command.CommandEvent(os.command.EventType.COMMAND_REVERTING,a));goog.log.info(os.command.CommandProcessor.LOGGER_,'reverting "'+a.title+'" command');a.isAsync&&a.listenOnce(os.command.EventType.REVERTED,this.onCommandReverted_,!1,this);var b=!1;try{b=a.revert()}catch(c){b=!1,goog.log.error(os.command.CommandProcessor.LOGGER_,'Error reverting command "'+a.title,c)}if(!b)a.isAsync&&a.unlisten(os.command.EventType.REVERTED,
this.onCommandReverted_,!1,this),a.state=os.command.State.ERROR,this.onCommandReverted_(null,a);else if(!a.isAsync)this.onCommandReverted_(null,a)};os.command.CommandProcessor.prototype.processQueue_=function(){0<this.tmpQueue_.length&&(this.history_.length=this.current_+1,this.addCommand(this.tmpQueue_.shift()))};
os.command.CommandProcessor.prototype.onCommandComplete_=function(a,b){a=b||a.target;this.dispatchEvent(new os.command.CommandEvent(os.command.EventType.COMMAND_EXECUTED,a));a.state===os.command.State.SUCCESS?(this.current_++,this.current_==this.history_.length&&(this.history_.push(a),this.target_>=this.current_&&this.resizeHistory_(),goog.log.info(os.command.CommandProcessor.LOGGER_,'Added "'+a.title+'" command to history.'),this.dispatchEvent(new os.command.CommandEvent(os.command.EventType.COMMAND_ADDED,
a)))):(this.target_--,a===this.history_[this.current_+1]?(this.history_.splice(this.current_+1,1),goog.log.error(os.command.CommandProcessor.LOGGER_,'Removed "'+a.title+'" ['+this.current_+1+"] command from history after error.")):a.details&&goog.log.error(os.command.CommandProcessor.LOGGER_,"Error running command "+a.title+" - "+a.details));this.current_<this.target_?this.execute_(this.history_[this.current_+1]):0<this.tmpQueue_.length?this.processQueue_():this.current_>this.target_&&this.revert_(this.history_[this.current_])};
os.command.CommandProcessor.prototype.onCommandReverted_=function(a,b){a=b||a.target;this.current_--;this.dispatchEvent(new os.command.CommandEvent(os.command.EventType.COMMAND_REVERTED,a));this.current_>this.target_?this.revert_(this.history_[this.current_]):this.processQueue_()};os.commandStack=os.command.CommandProcessor.getInstance();os.data.ColumnDefinition=function(a,b){this.id=a||"";this.name=a||"";this.field=b||a||"";this.type="string";this.internal=!1;this.sortable=this.resizable=!0;this.minWidth=30;this.maxWidth=Number.MAX_VALUE;this.width=0;this.rerenderOnResize=!1;this.cssClass=this.headerCssClass="";this.selectable=this.focusable=this.defaultSortAsc=!0;this.asyncPostRender=this.behavior=this.formatter=null;this.visible=!0;this.visprotected=this.temp=!1;this.derivedFrom=this.toolTip="";this.userModified=!1};
os.data.ColumnDefinition.prototype.persist=function(a){a||(a={});a.id=this.id;a.name=this.name;a.field=this.field;a.type=this.type;a.resizable=this.resizable;a.sortable=this.sortable;a.minWidth=this.minWidth;a.maxWidth=this.maxWidth;a.width=this.width;a.rerenderOnResize=this.rerenderOnResize;a.headerCssClass=this.headerCssClass;a.cssClass=this.cssClass;a.defaultSortAsc=this.defaultSortAsc;a.focusable=this.focusable;a.selectable=this.selectable;a.behavior=this.behavior;a.visible=this.visible;a.visprotected=
this.visprotected;a.toolTip=this.toolTip;a.derivedFrom=this.derivedFrom;a.userModified=this.userModified;a.formatter=null;a.asyncPostRender=null;return a};
os.data.ColumnDefinition.prototype.restore=function(a){this.id=a.id;this.name=a.name;this.field=a.field;this.type=a.type||"string";this.resizable=a.resizable;this.sortable=a.sortable;this.minWidth=a.minWidth;this.maxWidth=a.maxWidth;this.width=a.width;this.rerenderOnResize=a.rerenderOnResize;this.headerCssClass=a.headerCssClass;this.cssClass=a.cssClass;this.defaultSortAsc=a.defaultSortAsc;this.focusable=a.focusable;this.selectable=a.selectable;this.behavior=a.behavior;this.visible=a.visible;this.visprotected=
a.visprotected;this.toolTip=a.toolTip;this.derivedFrom=a.derivedFrom;this.userModified=a.userModified;this.asyncPostRender=this.formatter=null};os.data.ColumnDefinition.prototype.clone=function(){var a=new os.data.ColumnDefinition;this.persist(a);a.formatter=this.formatter;a.asyncPostRender=this.asyncPostRender;return a};os.ui.action.MenuOptions=function(a,b,c){this.menu=a;this.division=b;this.order=goog.isDefAndNotNull(c)?c:Number.MAX_VALUE};os.ui.action.Action=function(a,b,c,d,e,f,g){this.eventType_=a;this.title_=b||a;this.description_=c||b||a;this.icon_=d||null;this.hotkey_=e||null;this.menuOptions_=f||null;this.handler_=this.isEnabled_=null;this.metricKey_=g||null;this.doNotCloseOnInvoke=!1};goog.inherits(os.ui.action.Action,goog.Disposable);
os.ui.action.Action.prototype.disposeInternal=function(){os.ui.action.Action.superClass_.disposeInternal.call(this);this.metricKey_=this.handler_=this.isEnabled_=this.group_=this.hotkey_=this.icon_=this.description_=null};os.ui.action.Action.prototype.getEventType=function(){return this.eventType_};goog.exportProperty(os.ui.action.Action.prototype,"getEventType",os.ui.action.Action.prototype.getEventType);os.ui.action.Action.prototype.getMetricKey=function(){return this.metricKey_};
goog.exportProperty(os.ui.action.Action.prototype,"getMetricKey",os.ui.action.Action.prototype.getMetricKey);os.ui.action.Action.prototype.getTitle=function(){return this.title_};goog.exportProperty(os.ui.action.Action.prototype,"getTitle",os.ui.action.Action.prototype.getTitle);os.ui.action.Action.prototype.getIcon=function(){return this.icon_};goog.exportProperty(os.ui.action.Action.prototype,"getIcon",os.ui.action.Action.prototype.getIcon);
os.ui.action.Action.prototype.setIcon=function(a){this.icon_=a};goog.exportProperty(os.ui.action.Action.prototype,"setIcon",os.ui.action.Action.prototype.setIcon);os.ui.action.Action.prototype.getHotkey=function(){return this.hotkey_};goog.exportProperty(os.ui.action.Action.prototype,"getHotkey",os.ui.action.Action.prototype.getHotkey);os.ui.action.Action.prototype.getDescription=function(){return this.description_};goog.exportProperty(os.ui.action.Action.prototype,"getDescription",os.ui.action.Action.prototype.getDescription);
os.ui.action.Action.prototype.enableWhen=function(a){this.isEnabled_=a||null;return this};os.ui.action.Action.prototype.handleWith=function(a){this.handler_=a||null;return this};os.ui.action.Action.prototype.isEnabled=function(a){return null!==this.isEnabled_?this.isEnabled_.apply(this,arguments):!0};os.ui.action.Action.prototype.getHandler=function(){return this.handler_};os.ui.action.Action.prototype.getMenuOptions=function(){return this.menuOptions_};os.ui.action.ActionEvent=function(a,b,c){goog.events.Event.call(this,a,c);this.context_=b};goog.inherits(os.ui.action.ActionEvent,goog.events.Event);os.ui.action.ActionEvent.prototype.getContext=function(){return this.context_};goog.structs.LinkedMap=function(a,b,c){this.maxCount_=a||null;this.cache_=!!b;this.evictionCallback_=c;this.map_=new goog.structs.Map;this.head_=new goog.structs.LinkedMap.Node_("",void 0);this.head_.next=this.head_.prev=this.head_};goog.structs.LinkedMap.prototype.findAndMoveToTop_=function(a){(a=this.map_.get(a))&&this.cache_&&(a.remove(),this.insert_(a));return a};goog.structs.LinkedMap.prototype.get=function(a,b){return(a=this.findAndMoveToTop_(a))?a.value:b};
goog.structs.LinkedMap.prototype.peekValue=function(a,b){return(a=this.map_.get(a))?a.value:b};goog.structs.LinkedMap.prototype.set=function(a,b){var c=this.findAndMoveToTop_(a);c?c.value=b:(c=new goog.structs.LinkedMap.Node_(a,b),this.map_.set(a,c),this.insert_(c))};goog.structs.LinkedMap.prototype.peek=function(){return this.head_.next.value};goog.structs.LinkedMap.prototype.peekLast=function(){return this.head_.prev.value};goog.structs.LinkedMap.prototype.shift=function(){return this.popNode_(this.head_.next)};
goog.structs.LinkedMap.prototype.pop=function(){return this.popNode_(this.head_.prev)};goog.structs.LinkedMap.prototype.remove=function(a){return(a=this.map_.get(a))?(this.removeNode(a),!0):!1};goog.structs.LinkedMap.prototype.removeNode=function(a){a.remove();this.map_.remove(a.key)};goog.structs.LinkedMap.prototype.getCount=function(){return this.map_.getCount()};goog.structs.LinkedMap.prototype.isEmpty=function(){return this.map_.isEmpty()};
goog.structs.LinkedMap.prototype.setEvictionCallback=function(a){this.evictionCallback_=a};goog.structs.LinkedMap.prototype.setMaxCount=function(a){this.maxCount_=a||null;null!=this.maxCount_&&this.truncate_(this.maxCount_)};goog.structs.LinkedMap.prototype.getKeys=function(){return this.map(function(a,b){return b})};goog.structs.LinkedMap.prototype.getValues=function(){return this.map(function(a,b){return a})};
goog.structs.LinkedMap.prototype.contains=function(a){return this.some(function(b){return b==a})};goog.structs.LinkedMap.prototype.containsKey=function(a){return this.map_.containsKey(a)};goog.structs.LinkedMap.prototype.clear=function(){this.truncate_(0)};goog.structs.LinkedMap.prototype.forEach=function(a,b){for(var c=this.head_.next;c!=this.head_;c=c.next)a.call(b,c.value,c.key,this)};
goog.structs.LinkedMap.prototype.map=function(a,b){for(var c=[],d=this.head_.next;d!=this.head_;d=d.next)c.push(a.call(b,d.value,d.key,this));return c};goog.structs.LinkedMap.prototype.some=function(a,b){for(var c=this.head_.next;c!=this.head_;c=c.next)if(a.call(b,c.value,c.key,this))return!0;return!1};goog.structs.LinkedMap.prototype.every=function(a,b){for(var c=this.head_.next;c!=this.head_;c=c.next)if(!a.call(b,c.value,c.key,this))return!1;return!0};
goog.structs.LinkedMap.prototype.insert_=function(a){this.cache_?(a.next=this.head_.next,a.prev=this.head_,this.head_.next=a,a.next.prev=a):(a.prev=this.head_.prev,a.next=this.head_,this.head_.prev=a,a.prev.next=a);null!=this.maxCount_&&this.truncate_(this.maxCount_)};goog.structs.LinkedMap.prototype.truncate_=function(a){for(;this.getCount()>a;){var b=this.cache_?this.head_.prev:this.head_.next;this.removeNode(b);this.evictionCallback_&&this.evictionCallback_(b.key,b.value)}};
goog.structs.LinkedMap.prototype.popNode_=function(a){this.head_!=a&&this.removeNode(a);return a.value};goog.structs.LinkedMap.Node_=function(a,b){this.key=a;this.value=b};goog.structs.LinkedMap.Node_.prototype.remove=function(){this.prev.next=this.next;this.next.prev=this.prev;delete this.prev;delete this.next};os.ui.action.EventType={ENABLED_ACTIONS_CHANGED:"enabledActionsChanged",ZOOM:"zoom"};os.ui.action.ActionManager=function(){goog.events.EventTarget.call(this);this.actions_=new goog.structs.LinkedMap;this.enabledActions_=new goog.structs.LinkedMap;this.tempActions_=[]};goog.inherits(os.ui.action.ActionManager,goog.events.EventTarget);os.ui.action.ActionManager.prototype.disposeInternal=function(){for(var a=this.actions_.getValues(),b=0,c=a.length;b<c;b++)this.removeAction(a[b],!0);os.ui.action.ActionManager.superClass_.disposeInternal.call(this)};
os.ui.action.ActionManager.prototype.withActionArgs=function(a){this.actionArgs_=a;return this};os.ui.action.ActionManager.prototype.getActionArgs=function(){if(!goog.isFunction(this.actionArgs_))return this.actionArgs_;if(this.gettingActionArgs_)throw Error("illegal state: ActionManager.getActionArgs() infinite recursion");this.gettingActionArgs_=!0;var a=this.actionArgs_.call(this);this.gettingActionArgs_=!1;return a};
os.ui.action.ActionManager.prototype.withActionTarget=function(a){this.actionTarget_=a;return this};os.ui.action.ActionManager.prototype.getActionTarget=function(){if(!goog.isFunction(this.actionTarget_))return this.actionTarget_;if(this.gettingActionTarget_)throw Error("illegal state: ActionManager.getActionTarget() infinite recursion");this.gettingActionTarget_=!0;var a=this.actionTarget_.call(this);this.gettingActionTarget_=!1;return a};
os.ui.action.ActionManager.prototype.addAction=function(a,b,c){var d=this.getAction(a.getEventType()),e=d?d.getHandler():null;d&&e&&this.unlisten(a.getEventType(),e,!1,d);this.actions_.set(a.getEventType(),a);a.isEnabled(this.getActionArgs())&&(this.enabledActions_.set(a.getEventType(),a),c||this.fireEnabledActionsChanged_());(b=b||a.getHandler())&&this.listen(a.getEventType(),b,!1,a)};
os.ui.action.ActionManager.prototype.addActions=function(a){goog.array.forEach(a,function(a){this.addAction(a,null,!0)},this);this.fireEnabledActionsChanged_()};os.ui.action.ActionManager.prototype.removeAction=function(a,b){if(a=goog.isString(a)?this.getAction(a):a){var c=a.getEventType(),d=a.getHandler();d&&this.unlisten(c,d,!1,a);this.actions_.remove(c);a.isEnabled(this.getActionArgs())&&(this.enabledActions_.remove(c),goog.isDefAndNotNull(b)&&!b&&this.fireEnabledActionsChanged_());a.dispose()}};
os.ui.action.ActionManager.prototype.removeActions=function(a){if(a)goog.array.forEach(a,function(a){this.removeAction(a,!0)},this);else if(this.actions_){a=this.actions_.getValues();for(var b=0,c=a.length;b<c;b++)this.removeAction(a[b],!0)}this.fireEnabledActionsChanged_()};
os.ui.action.ActionManager.prototype.refreshEnabledActions=function(){var a=this.getActionArgs(),b=!1;0<this.tempActions_.length&&this.tempActions_.forEach(function(b){b(a)});this.actions_.forEach(function(c){c.isEnabled(a)?this.enabledActions_.containsKey(c.getEventType())?(this.enabledActions_.remove(c.getEventType()),this.enabledActions_.set(c.getEventType(),c)):(this.enabledActions_.set(c.getEventType(),c),b=!0):b|=this.enabledActions_.remove(c.getEventType())},this);b&&this.fireEnabledActionsChanged_();
return this.getEnabledActions()};os.ui.action.ActionManager.prototype.getEnabledActions=function(){return this.enabledActions_.getValues()};os.ui.action.ActionManager.prototype.hasEnabledActions=function(){return 0<this.getEnabledActions().length};goog.exportProperty(os.ui.action.ActionManager.prototype,"hasEnabledActions",os.ui.action.ActionManager.prototype.hasEnabledActions);os.ui.action.ActionManager.prototype.getAction=function(a){return this.actions_.get(a)||null};
os.ui.action.ActionManager.prototype.invoke=function(a){goog.isString(a)&&(a=this.getAction(a));var b=this.getActionArgs();return a&&a.isEnabled(b)?(a=new os.ui.action.ActionEvent(a.getEventType(),b),this.dispatchEvent(a),a.defaultPrevented||os.dispatcher.dispatchEvent(a),!0):!1};os.ui.action.ActionManager.prototype.fireEnabledActionsChanged_=function(){this.dispatchEvent(new goog.events.Event(os.ui.action.EventType.ENABLED_ACTIONS_CHANGED))};
os.ui.action.ActionManager.prototype.registerTempActionFunc=function(a){this.tempActions_.push(a)};os.ui.columnactions={};os.ui.columnactions.ColumnActionEvent=function(a,b,c,d,e){goog.events.Event.call(this,a,e);this.context_=b;this.column_=c;this.value_=d};goog.inherits(os.ui.columnactions.ColumnActionEvent,goog.events.Event);os.ui.columnactions.ColumnActionEvent.prototype.getContext=function(){return this.context_};os.ui.columnactions.ColumnActionEvent.prototype.getColumn=function(){return this.column_};os.ui.columnactions.ColumnActionEvent.prototype.getValue=function(){return this.value_};goog.window={};goog.window.DEFAULT_POPUP_HEIGHT=500;goog.window.DEFAULT_POPUP_WIDTH=690;goog.window.DEFAULT_POPUP_TARGET="google_popup";goog.window.createFakeWindow_=function(){return{}};
goog.window.open=function(a,b,c){b||(b={});c=c||window;var d=a instanceof goog.html.SafeUrl?a:goog.html.SafeUrl.sanitize("undefined"!=typeof a.href?a.href:String(a));a=b.target||a.target;var e=[];for(f in b)switch(f){case "width":case "height":case "top":case "left":e.push(f+"="+b[f]);break;case "target":case "noopener":case "noreferrer":break;default:e.push(f+"="+(b[f]?1:0))}var f=e.join(",");goog.labs.userAgent.platform.isIos()&&c.navigator&&c.navigator.standalone&&a&&"_self"!=a?(f=c.document.createElement("A"),
goog.dom.safe.setAnchorHref(f,d),f.setAttribute("target",a),b.noreferrer&&f.setAttribute("rel","noreferrer"),b=document.createEvent("MouseEvent"),b.initMouseEvent("click",!0,!0,c,1),f.dispatchEvent(b),c=goog.window.createFakeWindow_()):b.noreferrer?(c=c.open("",a,f),b=goog.html.SafeUrl.unwrap(d),c&&(goog.userAgent.EDGE_OR_IE&&goog.string.contains(b,";")&&(b="'"+b.replace(/'/g,"%27")+"'"),c.opener=null,b=goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("b/12014412, meta tag with sanitized URL"),
'<META HTTP-EQUIV="refresh" content="0; url='+goog.string.htmlEscape(b)+'">'),goog.dom.safe.documentWrite(c.document,b),c.document.close())):(c=c.open(goog.html.SafeUrl.unwrap(d),a,f))&&b.noopener&&(c.opener=null);return c};
goog.window.openBlank=function(a,b,c){a=a?goog.string.escapeString(goog.string.htmlEscape(a)):"";a=goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("b/12014412, encoded string in javascript: URL"),'javascript:"'+encodeURI(a)+'"');return goog.window.open(a,b,c)};
goog.window.popup=function(a,b){b||(b={});b.target=b.target||a.target||goog.window.DEFAULT_POPUP_TARGET;b.width=b.width||goog.window.DEFAULT_POPUP_WIDTH;b.height=b.height||goog.window.DEFAULT_POPUP_HEIGHT;a=goog.window.open(a,b);if(!a)return!0;a.focus();return!1};os.ui.columnactions.AbstractColumnAction=function(){this.description="";this.regexps={}};os.ui.columnactions.AbstractColumnAction.prototype.setDescription=function(a){this.description=a};os.ui.columnactions.AbstractColumnAction.prototype.getDescription=function(){return this.description};os.ui.columnactions.AbstractColumnAction.prototype.toDisplay=goog.abstractMethod;
os.ui.columnactions.AbstractColumnAction.prototype.setRegExps=function(a){for(var b in a)this.regexps[b]="replace"!=b?new RegExp(a[b]):a[b]};os.ui.columnactions.AbstractColumnAction.prototype.setAction=goog.abstractMethod;os.ui.columnactions.AbstractColumnAction.prototype.execute=goog.abstractMethod;os.ui.columnactions.AbstractColumnAction.prototype.matches=goog.abstractMethod;os.ui.columnactions.actions={};os.ui.columnactions.actions.UrlColumnAction=function(){os.ui.columnactions.AbstractColumnAction.call(this)};goog.inherits(os.ui.columnactions.actions.UrlColumnAction,os.ui.columnactions.AbstractColumnAction);os.ui.columnactions.actions.UrlColumnAction.prototype.setAction=function(a){this.url_=a};os.ui.columnactions.actions.UrlColumnAction.prototype.execute=function(a){goog.window.open(this.processValue_(a),{target:"_blank"})};
os.ui.columnactions.actions.UrlColumnAction.prototype.matches=function(a,b,c){try{if(goog.isDefAndNotNull(a)){var d=a.sourceId;var e=a.sourceUrl}if(this.url_&&this.getDescription()){var f=this.regexps.val,g=this.regexps.col,h=this.regexps.url,k=this.regexps.id;return d&&k&&!k.test(d)||e&&h&&!h.test(e)||b&&g&&!g.test(b.getDataField())&&!g.test(b.getTitle())||f&&!f.test(c?c.toString():"")?!1:!0}return!1}catch(l){return!1}};
os.ui.columnactions.actions.UrlColumnAction.prototype.toDisplay=function(a){return{tooltip:this.processValue_(a),text:goog.string.buildString(a," <i class='fa fa-external-link'></i>")}};os.ui.columnactions.actions.UrlColumnAction.prototype.getAction=function(a){return this.processValue_(a)};
os.ui.columnactions.actions.UrlColumnAction.prototype.processValue_=function(a){var b=this.regexps.val;b&&(b=b.exec(a))&&b[0]&&(a=b[0]);b=this.regexps.search;var c=this.regexps.replace;a&&b&&null!==c&&(a=a.replace(b,c));return this.url_.replace("%s",a)};os.ui.columnactions.IColumnActionModel=function(){};os.ui.columnactions.columnActionPromptDirective=function(){return{restrict:"E",transclude:!0,templateUrl:os.ROOT+"views/columnactions/columnactionprompt.html",controller:os.ui.columnactions.ColumnActionsCtrl,controllerAs:"columnActionPrompt"}};os.ui.Module.directive("columnactions",[os.ui.columnactions.columnActionPromptDirective]);os.ui.columnactions.ColumnActionsCtrl=function(a,b){this.scope_=a;this.element_=b;this.matched=this.scope_.matched;a.$on("$destroy",this.onDestroy_.bind(this))};
os.ui.columnactions.ColumnActionsCtrl.prototype.onDestroy_=function(){this.scope_=this.element_=null};os.ui.columnactions.ColumnActionsCtrl.prototype.executeMatch_=function(a,b){a.execute(b)};goog.exportProperty(os.ui.columnactions.ColumnActionsCtrl.prototype,"executeMatch",os.ui.columnactions.ColumnActionsCtrl.prototype.executeMatch_);os.ui.columnactions.ColumnActionsCtrl.prototype.getDescription_=function(a){return a.getDescription()};
goog.exportProperty(os.ui.columnactions.ColumnActionsCtrl.prototype,"getDescription",os.ui.columnactions.ColumnActionsCtrl.prototype.getDescription_);os.ui.columnactions.ColumnActionsCtrl.prototype.close_=function(){os.ui.window.close(this.element_)};goog.exportProperty(os.ui.columnactions.ColumnActionsCtrl.prototype,"close",os.ui.columnactions.ColumnActionsCtrl.prototype.close_);
os.ui.columnactions.launchColumnActionPrompt=function(a,b,c){a={matched:a,colDef:c,value:b,doneText:"Close",doneIcon:"fa fa-check icon-blue"};b={label:goog.string.buildString("Select a Column Action for ",c.getTitle()," = ",b),icon:"fa fa-action",x:"center",y:"center",width:"450",height:"350",modal:"true","show-close":"true","no-scroll":"true"};os.ui.window.create(b,"<columnactions></columnactions>",void 0,void 0,void 0,a)};os.ui.columnActionManager=null;os.ui.columnactions.ColumnActionManager=function(){goog.events.EventTarget.call(this);this.actionEntries_=new goog.structs.Map;this.init_()};goog.inherits(os.ui.columnactions.ColumnActionManager,goog.events.EventTarget);goog.addSingletonGetter(os.ui.columnactions.ColumnActionManager);os.ui.columnactions.ColumnActionManager.KEY="columnActions";os.ui.columnactions.ColumnActionManager.PERFORM_COLUMN_ACTION="PERFORM_COLUMN_ACTION";
os.ui.columnactions.ColumnActionManager.prototype.init_=function(){(new goog.structs.Map(os.settings.get([os.ui.columnactions.ColumnActionManager.KEY]))).forEach(this.loadInclude_,this)};os.ui.columnactions.ColumnActionManager.prototype.loadInclude_=function(a,b,c){(a=os.ui.columnactions.ColumnActionManager.getFromConfig(a,b))&&this.actionEntries_.set(b,a)};
os.ui.columnactions.ColumnActionManager.prototype.getActions=function(a,b,c){var d=[];this.actionEntries_.forEach(goog.partial(this.testAction_,a,b,c,d),this);return d};os.ui.columnactions.ColumnActionManager.prototype.numActions=function(a,b,c){var d=[];this.actionEntries_.forEach(goog.partial(this.testAction_,a,b,c,d),this);return d.length};os.ui.columnactions.ColumnActionManager.prototype.testAction_=function(a,b,c,d,e){e.matches(a,b,c)&&d.push(e)};
os.ui.columnactions.ColumnActionManager.prototype.onColumnActionEvent=function(a){var b=a.getValue(),c=this.getActions(a.getContext(),a.getColumn(),b);a=a.getColumn();os.ui.columnactions.launchColumnActionPrompt(c,b,a)};os.ui.columnactions.ColumnActionManager.getFromConfig=function(a,b){switch(a.type){case "url":var c=new os.ui.columnactions.actions.UrlColumnAction;c.setRegExps(a.regex);c.setDescription(a.description);c.setAction(a.action)}return c};os.ui.formatter={};
os.ui.formatter.urlNewTabFormatter=function(a){if("object"!==typeof a){if(goog.isDefAndNotNull(a)&&os.url.URL_REGEXP_LINKY.test(a)&&!os.ui.slick.formatter.ANCHOR.test(a)){var b="",c=a.split(" "),d=1;1===c.length?os.url.URL_REGEXP_LINKY.test(a)&&(c=os.ui.sanitize(a),b=os.string.linkify(c,"_blank","slick-cell-link",c)):goog.array.forEach(c,function(a,c,g){os.url.URL_REGEXP_LINKY.test(a)&&(a=os.ui.sanitize(String(a)),a=os.string.linkify(a,"_blank","slick-cell-link",a,"["+d+"]"),d++);b=b.concat(a)+" "});
""!==b&&(a=b.trim())}}else a=os.instanceOf(a,os.time.TimeInstant.NAME)?a.toString():"";return a};os.ui.slick.SlickColumnActionModel=function(a,b){this.columnDef_=a;this.field_=b};os.ui.slick.SlickColumnActionModel.prototype.getTitle=function(){return this.field_||this.columnDef_.name};os.ui.slick.SlickColumnActionModel.prototype.getDataField=function(){return this.field_||this.columnDef_.field};os.ui.slick.asyncrenderer={};os.ui.slick.asyncrenderer.slickColActAsyncRenderer=function(a,b,c,d,e){b=$(b).find(".col-act-mult");0<b.length&&(c=b.data().colvalue,b.click(goog.partial(os.ui.slick.asyncrenderer.openDialog,c,e,{sourceId:a.sourceId})))};
os.ui.slick.asyncrenderer.openDialog=function(a,b,c,d){goog.isDefAndNotNull(c)||(c={});b=new os.ui.slick.SlickColumnActionModel(b,d.value);c=os.ui.columnactions.ColumnActionManager.getInstance().getActions(c,b,a);os.ui.columnactions.launchColumnActionPrompt(c,a,b)};os.ui.slick.formatter={};os.ui.slick.formatter.columnFormatter=function(a,b,c,d,e){return c?c:""};os.ui.slick.formatter.depthfulFormatter=function(a,b,c,d,e){a=d.field.split(".");try{for(b=0;b<a.length;b++)e=e[a[b]]}catch(f){e=""}return e||""};os.ui.slick.formatter.color=function(a,b,c,d,e){return c?'<i class="fa fa-circle" style="color:'+c+'"></i>':""};os.ui.slick.formatter.rowNumber=function(a,b,c,d,e){return a+1};os.ui.slick.formatter.ANCHOR=/<a /;
os.ui.slick.formatter.urlNewTabFormatter=function(a,b,c,d,e,f){c=os.ui.formatter.urlNewTabFormatter(c);a=(f||os.ui.slick.formatter.columnActionFormatter)(a,b,c,d,e,!0);return goog.string.buildString(c,a)};
os.ui.slick.formatter.shortUrlFormatter=function(a,b,c,d,e){if(!c)return"";a=c.split(" ");var f="",g=1;goog.array.forEach(a,function(a,b,c){os.url.URL_REGEXP.test(a)&&(a=String(a),a=["[",g,"]"].join("").link(a).replace("<a",goog.string.buildString('<a title="',a,'" target="',a,'" ')),g++);f=f.concat(a)+" "});return os.ui.sanitize(f.trim())};
os.ui.slick.formatter.urlFormatter=function(a,b,c,d,e){if(!c)return"";a=c.split(" ");var f="";goog.array.forEach(a,function(a,b,c){os.url.URL_REGEXP.test(a)&&(a=os.ui.sanitize(String(a)),a=a.link(a).replace("<a",goog.string.buildString('<a title="',a,'" target="',a,'" ')));f=f.concat(a)+" "});return f.trim()};
os.ui.slick.formatter.columnActionFormatter=function(a,b,c,d,e,f){a="";!0!==f&&(a=c);f=os.ui.columnactions.ColumnActionManager.getInstance().getActions(null,new os.ui.slick.SlickColumnActionModel(d),c);1===f.length?a=goog.string.buildString(a,' <div style="display: inline-block;" ','class="col-act col-act-single" data-colvalue="',c,'">','<a class="os-colact-anchor" href="',f[0].getAction(c),'" target="_blank">','<i class="fa fa-external-link-square" title="',f[0].getDescription(),'"></i></a></div>'):
1<f.length&&(a=goog.string.buildString(a,' <div style="display: inline-block;" ','class="col-act col-act-mult" data-colvalue="',c,'">','<span title="Multiple Column Actions" ','style="vertical-align:baseline" class="fa-stack mult-colaction">','<i class="fa fa-square-o fa-stack-1x" style="left:-.3em;font-size:1.3em;bottom:.1em;"></i>','<i class="fa fa-stack fa-external-link-square"></i></span></div>'),d.asyncPostRender=goog.partial(os.ui.slick.asyncrenderer.slickColActAsyncRenderer,e));return a};os.ui.slick.column={};os.ui.slick.column.FIX_CELL="ui-widget";os.ui.slick.column.FIX_HEADER="ui-widget ui-state-default";
os.ui.slick.column.fix={ID:{order:-100},TIME:{order:-95,width:os.ui.measureText("0000-00-00 00:00:00Z",os.ui.slick.column.FIX_CELL).width+10},MGRS:{order:-90,width:os.ui.measureText("00WWW0000000000",os.ui.slick.column.FIX_CELL).width+10},LAT_DMS:{order:-85,width:os.ui.measureText("00\u00b0 00' 00.00\" N",os.ui.slick.column.FIX_CELL).width+10},LON_DMS:{order:-84,width:os.ui.measureText("000\u00b0 00' 00.00\" W",os.ui.slick.column.FIX_CELL).width+10},LAT:{order:-83,width:os.ui.measureText("-00.000000",
os.ui.slick.column.FIX_CELL).width+10},LON:{order:-82,width:os.ui.measureText("-000.000000",os.ui.slick.column.FIX_CELL).width+10},ALTITUDE:{order:-81,width:os.ui.measureText("-000000.000",os.ui.slick.column.FIX_CELL).width+10},SEMI_MAJOR:{order:-80,width:Math.max(os.ui.measureText("-000.000000",os.ui.slick.column.FIX_CELL).width,os.ui.measureText("SEMI_MAJOR",os.ui.slick.column.FIX_HEADER).width+20)},SEMI_MINOR:{order:-79,width:Math.max(os.ui.measureText("-000.000000",os.ui.slick.column.FIX_CELL).width,
os.ui.measureText("SEMI_MINOR",os.ui.slick.column.FIX_HEADER).width+20)},ORIENTATION:{order:-78,width:Math.max(os.ui.measureText("-000.000000",os.ui.slick.column.FIX_CELL).width,os.ui.measureText("ORIENTATION",os.ui.slick.column.FIX_HEADER).width+20)},Name:{order:-60}};os.ui.slick.column.autoSizeColumn=function(a){var b=a.header?20:0;if(!a.width){var c=os.ui.slick.column.fix[a.name];a.width=c&&c.width?c.width+b:Math.max(80,os.ui.measureText(a.name).width+b+20)}};
os.ui.slick.column.autoSizeAndSortColumns=function(a,b){os.ui.slick.column.autoSizeColumn(a);os.ui.slick.column.autoSizeColumn(b);var c=os.ui.slick.column.fix[a.name],d=os.ui.slick.column.fix[b.name];c||(c=os.ui.slick.column.fix[a.derivedFrom]);d||(d=os.ui.slick.column.fix[b.derivedFrom]);return goog.array.defaultCompare(c?c.order:0,d?d.order:0)};os.ui.slick.column.nameCompare=function(a,b){return goog.array.defaultCompare(a.name,b.name)};
os.ui.slick.column.numerateNameCompare=function(a,b){return goog.string.numerateCompare(a.name,b.name)};os.ui.slick.column.COLOR_ID="_color";os.ui.slick.column.color=function(){var a=new os.data.ColumnDefinition;a.id=os.ui.slick.column.COLOR_ID;a.field="COLOR";a.internal=!0;a.focusable=!1;a.cssClass="color";a.formatter=os.ui.slick.formatter.color;a.resizable=!1;a.selectable=!1;a.sortable=!1;a.visible=!0;a.width=20;a.minWidth=20;a.maxWidth=20;return a};
os.ui.slick.createColumnActions=function(){var a=new os.ui.action.ActionManager,b=new os.ui.action.Action(os.ui.slick.ColumnEventType.MANAGE,"Manage Columns","Display a window where you can manage your columns","fa-columns",null,new os.ui.action.MenuOptions(null,os.ui.slick.ColumnGroupType.ORDER,0));a.addAction(b);b=new os.ui.action.Action(os.ui.slick.ColumnEventType.FIRST,"First","Move the column to the beginning","fa-angle-double-left",null,new os.ui.action.MenuOptions(null,os.ui.slick.ColumnGroupType.ORDER,
1));b.enableWhen(os.ui.slick.column.hasColumn_);a.addAction(b);b=new os.ui.action.Action(os.ui.slick.ColumnEventType.LAST,"Last","Move the column to the end","fa-angle-double-right",null,new os.ui.action.MenuOptions(null,os.ui.slick.ColumnGroupType.ORDER,4));b.enableWhen(os.ui.slick.column.hasColumn_);a.addAction(b);b=(new os.ui.action.Action(os.ui.slick.ColumnEventType.REMOVE,"Hide Column","Removes the column from the grid","fa-eye-slash",null,new os.ui.action.MenuOptions(null,os.ui.slick.ColumnGroupType.EDIT,
1))).enableWhen(os.ui.slick.column.checkColumnRemove_);a.addAction(b);b=new os.ui.action.Action(os.ui.slick.ColumnEventType.RESET,"Reset Columns","Show all columns and reset their widths","fa-refresh",null,new os.ui.action.MenuOptions(null,os.ui.slick.ColumnGroupType.EDIT,2));a.addAction(b);return a};os.ui.slick.ColumnGroupType={ORDER:"0:Column Order",EDIT:"1:Edit Columns"};
os.ui.slick.ColumnEventType={CONTEXTMENU:"column:contextMenu",MANAGE:"column:manageColumns",FIRST:"column:moveColumnToBeginning",LAST:"column:moveColumnToEnd",ADD:"column:addColumn",REMOVE:"column:removeColumn",HIDE_EMPTY:"column:hideEmpty",SHOW_ALL:"column:showAll",RESET:"column:resetColumns"};os.ui.slick.column.hasColumn_=function(a){return null!=a&&null!=a.column};
os.ui.slick.column.checkColumnRemove_=function(a){var b=0;if(a&&a.column&&a.columns){a=a.columns;for(var c=0;c<a.length;c++)if(a[c].visible&&(b++,1<b))return!0}return!1};os.ui.slick.column.findColumn=function(a,b){for(var c=null,d=0,e=a.length;d<e;d++)if(a[d].field==b||a[d].name==b){c=a[d];break}return c};os.ui.slick.column.findByField=function(a,b,c,d,e){return c[a]==b};os.ui.slick.column.sortByField=function(a,b,c){return b[a]==c[a]||b[a]>c[a]?1:-1};os.ui.slick.column.isUserModified=function(a){return a.userModified};
os.ui.slick.column.restore=function(a,b){var c={};a.forEach(function(a,b,f){c[a.name]={column:a,index:b}});b.forEach(function(a,b,f){(b=c[a.name])&&a.restore(b.column)});b.sort(function(a,b){a=c[a.name];b=c[b.name];return a&&b?goog.array.defaultCompare(a.index,b.index):a?-1:b?1:0})};os.ui.im.basicInfoDirective=function(){return{restrict:"E",replace:!0,scope:{config:"=",columns:"=?",help:"=?"},templateUrl:os.ROOT+"views/im/basicinfo.html",controller:os.ui.im.BasicInfoCtrl,controllerAs:"info"}};os.ui.Module.directive("basicinfo",[os.ui.im.basicInfoDirective]);os.ui.im.BasicInfoCtrl=function(a){this.scope=a;this.tagsSample=this.descSample=this.titleSample="";a.$watch("columns",this.onColumnsChange.bind(this))};os.ui.im.BasicInfoCtrl.MAX_SAMPLE_ATTEMPTS=100;
os.ui.im.BasicInfoCtrl.TITLE_REGEXP=/(name|title)$/i;os.ui.im.BasicInfoCtrl.DESC_REGEXP=/^desc(r(i(p(t(i(o(n)?)?)?)?)?)?)$/i;
os.ui.im.BasicInfoCtrl.prototype.onColumnsChange=function(a,b){this.scope&&this.scope.config&&(a?(this.updateColumn("titleColumn",a,os.ui.im.BasicInfoCtrl.TITLE_REGEXP),this.updateColumn("descColumn",a,os.ui.im.BasicInfoCtrl.DESC_REGEXP),this.updateColumn("tagsColumn",a)):(this.scope.config.titleColumn=null,this.scope.config.descColumn=null,this.scope.config.tagsColumn=null),this.updateSampleText())};
os.ui.im.BasicInfoCtrl.prototype.updateColumn=function(a,b,c){if(this.scope&&this.scope.config){if(this.scope.config[a]){var d=goog.partial(os.ui.slick.column.findByField,"field",this.scope.config[a].field);b.some(d)||(this.scope.config[a]=null)}if(!this.scope.config[a]&&c)for(d=0;d<b.length;d++){var e=b[d];c.test(e.name)&&(!this.scope.config[a]||e.name.length<this.scope.config[a].name.length)&&(this.scope.config[a]=e)}}};
os.ui.im.BasicInfoCtrl.prototype.updateSampleText=function(){this.scope&&this.scope.config&&(this.titleSample=this.getSample(this.scope.config.titleColumn),this.descSample=this.getSample(this.scope.config.descColumn),this.tagsSample=this.getSample(this.scope.config.tagsColumn))};goog.exportProperty(os.ui.im.BasicInfoCtrl.prototype,"updateSampleText",os.ui.im.BasicInfoCtrl.prototype.updateSampleText);
os.ui.im.BasicInfoCtrl.prototype.getSample=function(a){if(a&&a.field&&this.scope.config){var b="<no data>",c=this.scope.config.features||this.scope.config.preview;if(c&&0<c.length)for(var d=Math.min(c.length,os.ui.im.BasicInfoCtrl.MAX_SAMPLE_ATTEMPTS),e=0;e<d;e++){var f=os.im.mapping.getItemField(c[e],a.field);if(f){b=f;break}}return b}return""};os.im.mapping.StaticMapping=function(){os.im.mapping.AbstractMapping.call(this);this.value=null;this.replace=!0};goog.inherits(os.im.mapping.StaticMapping,os.im.mapping.AbstractMapping);os.im.mapping.StaticMapping.ID="Static";os.im.mapping.StaticMapping.prototype.getId=function(){return os.im.mapping.StaticMapping.ID};os.im.mapping.StaticMapping.prototype.getLabel=function(){return"Set "+this.field+" to "+this.value};
os.im.mapping.StaticMapping.prototype.execute=function(a){a&&this.field&&(this.replace||null==os.im.mapping.getItemField(a,this.field))&&os.im.mapping.setItemField(a,this.field,this.value)};os.im.mapping.StaticMapping.prototype.clone=function(){var a=os.im.mapping.StaticMapping.superClass_.clone.call(this);a.value=this.value;a.replace=this.replace;return a};
os.im.mapping.StaticMapping.prototype.persist=function(a){a=os.im.mapping.StaticMapping.superClass_.persist.call(this,a);a.value=this.value;a.replace=this.replace;return a};os.im.mapping.StaticMapping.prototype.restore=function(a){os.im.mapping.StaticMapping.superClass_.restore.call(this,a);this.value=a.value;this.replace=a.replace};os.ui.query.ALL_ID="all";os.ui.query.SAVE_WIN_LABEL="Save Area...";os.ui.query.EDIT_WIN_LABEL="Edit Area Details...";
os.ui.query.AREA_IMPORT_HELP={merge:"Combines all imported areas into a single area.",title:"Custom title given to all imported areas.",titleColumn:"Column used to apply titles to all imported areas. If an imported item doesn't have this field defined, a generic title will be given. You may also choose to apply a custom title to imported areas.",description:"Description applied to all imported areas.",descColumn:"Column used to apply descriptions to all imported areas. If an imported item doesn't have this field defined, the description will be left blank. You may also choose to apply a custom description to imported areas.",
tags:"Comma-delimited list of tags to apply to all imported areas. Tags can be used to group or search areas in the Areas tab of the Layers window.",tagsColumn:"Column used to apply tags to all imported areas. Tags can be used to group or search areas in the Areas tab of the Layers window.  If an imported item doesn't have this field defined, the tags will be left blank. You may also choose to provide your own custom tags."};
os.ui.query.featureKeys=["title","name","description","tags","geometry",os.interpolate.ORIGINAL_GEOM_FIELD,os.interpolate.METHOD_FIELD];os.ui.query.applyMappings=function(a,b){b.forEach(function(b){b.execute(a);b instanceof os.im.mapping.RenameMapping&&"title"==b.toField&&!a.get("title")&&a.set("title","No "+b.field)});a.get("title")&&a.set("name",void 0)};
os.ui.query.createMappingsFromConfig=function(a){var b=[];if(a){if(a.titleColumn&&a.titleColumn.field){var c=new os.im.mapping.RenameMapping;c.keepOriginal=!0;c.toField="title";c.field=a.titleColumn.field;b.push(c)}else a.title&&(c=new os.im.mapping.StaticMapping,c.field="title",c.value=a.title||"No Title Provided",b.push(c));a.descColumn&&a.descColumn.field?(c=new os.im.mapping.RenameMapping,c.keepOriginal=!0,c.toField="description",c.field=a.descColumn.field,b.push(c)):a.description&&(c=new os.im.mapping.StaticMapping,
c.field="description",c.value=a.description,b.push(c));a.tagsColumn&&a.tagsColumn.field?(c=new os.im.mapping.RenameMapping,c.keepOriginal=!0,c.toField="tags",c.field=a.tagsColumn.field,b.push(c)):a.tags&&(c=new os.im.mapping.StaticMapping,c.field="tags",c.value=a.tags,b.push(c))}return b};os.ui.query.ui={};os.ui.query.ui.AreaImportCtrl=function(a,b){this.scope=a;this.element=b;this.config=a.config;this.loading=!1;this.help=os.ui.query.AREA_IMPORT_HELP;a.$on("$destroy",this.dispose.bind(this))};goog.inherits(os.ui.query.ui.AreaImportCtrl,goog.Disposable);os.ui.query.ui.AreaImportCtrl.prototype.disposeInternal=function(){os.ui.query.ui.AreaImportCtrl.superClass_.disposeInternal.call(this);this.element=this.scope=null};os.ui.query.ui.AreaImportCtrl.prototype.close=function(){os.ui.window.close(this.element)};
goog.exportProperty(os.ui.query.ui.AreaImportCtrl.prototype,"close",os.ui.query.ui.AreaImportCtrl.prototype.close);os.ui.query.ui.AreaImportCtrl.prototype.finish=function(){this.loading=!0};goog.exportProperty(os.ui.query.ui.AreaImportCtrl.prototype,"finish",os.ui.query.ui.AreaImportCtrl.prototype.finish);os.ui.query.ui.editAreaDirective=function(){return{restrict:"AE",replace:!0,scope:!0,templateUrl:os.ROOT+"views/query/editarea.html",controller:os.ui.query.ui.EditAreaCtrl,controllerAs:"ctrl"}};os.ui.Module.directive("editarea",[os.ui.query.ui.editAreaDirective]);
os.ui.query.ui.EditAreaCtrl=function(a,b){os.ui.query.ui.AreaImportCtrl.call(this,a,b);this.config=a.config={title:null,description:null,tags:null};if(a=this.scope.feature)this.config.features=[a],a.get("title")?this.config.title=a.get("title"):this.config.title=a.get("name"),this.config.description=a.get("description"),this.config.tags=a.get("tags")};goog.inherits(os.ui.query.ui.EditAreaCtrl,os.ui.query.ui.AreaImportCtrl);
os.ui.query.ui.EditAreaCtrl.prototype.accept=function(){var a=this.scope.feature;if(a){var b=os.ui.query.createMappingsFromConfig(this.config);os.ui.query.applyMappings(a,b);a.set("temp",void 0);b=os.ui.query.AreaManager.getInstance();b.get(a)?b.add(a):(a=new os.ui.query.cmd.AreaAdd(a),os.command.CommandProcessor.getInstance().addCommand(a))}this.close()};goog.exportProperty(os.ui.query.ui.EditAreaCtrl.prototype,"accept",os.ui.query.ui.EditAreaCtrl.prototype.accept);os.query={};os.query.ui={};os.query.ui.mergeAreasDirective=function(){return{restrict:"E",replace:!0,scope:!0,templateUrl:os.ROOT+"views/query/mergeareas.html",controller:os.query.ui.MergeAreasCtrl,controllerAs:"ctrl"}};os.ui.Module.directive("mergeareas",[os.query.ui.mergeAreasDirective]);
os.query.ui.MergeAreasCtrl=function(a,b){os.ui.query.ui.EditAreaCtrl.call(this,a,b);this.log=os.query.ui.MergeAreasCtrl.LOGGER_;this.help={title:"Title given to the merged area.",description:"Description applied to the merged area.",tags:"Comma-delimited list of tags to apply to the merged area. Tags can be used to group or search areas in the Areas tab of the Layers window.",replace:"If checked, selected areas will be removed from Areas and replaced with the merged area."};this.replace=!1;this.preview=
null;if(b=a.features)try{var c=b.map(os.fn.mapFeatureToGeometry).filter(os.fn.filterFalsey),d=os.geo.jsts.merge(c);d&&(this.preview=os.MapContainer.getInstance().addFeature(new ol.Feature(d),os.style.PREVIEW_CONFIG))}catch(e){goog.log.error(this.log,"Failed merging features:",e)}a.$emit("window.ready")};goog.inherits(os.query.ui.MergeAreasCtrl,os.ui.query.ui.EditAreaCtrl);os.query.ui.MergeAreasCtrl.LOGGER_=goog.log.getLogger("os.query.ui.MergeAreasCtrl");
os.query.ui.MergeAreasCtrl.prototype.disposeInternal=function(){os.query.ui.MergeAreasCtrl.superClass_.disposeInternal.call(this);this.preview&&(os.MapContainer.getInstance().removeFeature(this.preview),this.preview=null)};
os.query.ui.MergeAreasCtrl.prototype.accept=function(){var a=this.scope.features;if(a&&0<a.length){var b=a.map(function(a){return a.getGeometry()}).filter(os.fn.filterFalsey),c=os.geo.jsts.merge(b);if(c){b=[];if(this.replace)for(var d=0;d<a.length;d++)b.push(new os.ui.query.cmd.AreaRemove(a[d]));a=this.scope.feature=new ol.Feature(c);c=os.ui.query.createMappingsFromConfig(this.config);os.ui.query.applyMappings(a,c);b.push(new os.ui.query.cmd.AreaAdd(a));1<b.length?(a=new os.command.SequenceCommand,
a.setCommands(b),a.title="Merge Areas into "+this.config.title,os.command.CommandProcessor.getInstance().addCommand(a)):os.command.CommandProcessor.getInstance().addCommand(b[0])}else os.alertManager.sendAlert("Merging areas failed! Please see the log for more details.",os.alert.AlertEventSeverity.ERROR)}else os.alertManager.sendAlert("Merging areas failed! List of areas to merge is empty.",os.alert.AlertEventSeverity.ERROR);this.close()};
goog.exportProperty(os.query.ui.MergeAreasCtrl.prototype,"accept",os.query.ui.MergeAreasCtrl.prototype.accept);os.ui.query.cmd.AreaModify=function(a,b){os.ui.query.cmd.AbstractArea.call(this,a);this.oldGeometry=this.newGeometry=void 0;os.ui.areaManager.get(a)&&(this.newGeometry=b,this.oldGeometry=a.getGeometry());this.title="Modify area";a&&(a=a.get("title"))&&(this.title+=' "'+a+'"')};goog.inherits(os.ui.query.cmd.AreaModify,os.ui.query.cmd.AbstractArea);
os.ui.query.cmd.AreaModify.prototype.execute=function(){return this.canExecute()?(this.state=os.command.State.EXECUTING,this.area.setGeometry(this.newGeometry),os.ui.areaManager.remove(this.area),os.ui.areaManager.add(this.area),this.state=os.command.State.SUCCESS,!0):!1};
os.ui.query.cmd.AreaModify.prototype.revert=function(){this.state=os.command.State.REVERTING;this.area.setGeometry(this.oldGeometry);os.ui.areaManager.remove(this.area);os.ui.areaManager.add(this.area);this.state=os.command.State.READY;return!0};os.ui.query.cmd.AreaModify.prototype.canExecute=function(){return this.oldGeometry?this.newGeometry?os.ui.query.cmd.AreaModify.superClass_.canExecute.call(this):(this.details="No new area provided.",!1):(this.details="Original area unknown.",!1)};os.ui.query.ui.modifyAreaDirective=function(){return{restrict:"E",replace:!0,scope:{area:"=",targetArea:"=?",op:"=?"},templateUrl:os.ROOT+"views/query/modifyarea.html",controller:os.ui.query.ui.ModifyAreaCtrl,controllerAs:"modarea"}};os.ui.Module.directive("modifyarea",[os.ui.query.ui.modifyAreaDirective]);
os.ui.query.ui.ModifyAreaCtrl=function(a,b){this.scope=a;this.element=b;this.log=os.ui.query.ui.ModifyAreaCtrl.LOGGER_;this.preview=void 0;this.error_=null;this.help={area1:"The base area to be modified. A preview of the result will be shown on the map in blue, and this area can either be replaced or you can create a new area.",area2:"The area that will be used to modify the base area.",mapArea:"The area to add to/remove from the base area. This area was drawn/selected using the map. If you would like to choose a saved area, click Clear and select one from the dropdown.",
operation:"How the area should be modified.",addOp:"The selected area will be combined with the Area to Modify.",removeOp:"The selected area will be cut out of the Area to Modify.",intersectOp:"The new area will only include intersecting portions of the selected areas.",replace:"If checked, the Area to Modify will be replaced with the area indicated by the preview. Otherwise a new area will be created with the provided title.",title:"The title to give to the new area"};this.loading=!1;this.replace=
!0;this.title="New Area";a.op=a.op||os.ui.query.ui.ModifyOp.ADD;a.$watch("area",this.onAreaChange.bind(this));a.$watch("op",this.updatePreview.bind(this));a.$watch("targetArea",this.onTargetAreaChange.bind(this));a.$on("$destroy",this.dispose.bind(this));a.$emit("window.ready")};goog.inherits(os.ui.query.ui.ModifyAreaCtrl,goog.Disposable);os.ui.query.ui.ModifyAreaCtrl.LOGGER_=goog.log.getLogger("os.ui.query.ui.ModifyAreaCtrl");
os.ui.query.ui.ModifyAreaCtrl.prototype.disposeInternal=function(){os.ui.query.ui.ModifyAreaCtrl.superClass_.disposeInternal.call(this);this.setPreviewFeature(void 0);this.element=this.scope=null};
os.ui.query.ui.ModifyAreaCtrl.prototype.validate=function(){this.error=null;if(this.scope)if(this.scope.area)if(this.scope.targetArea)if(this.scope.area==this.scope.targetArea)this.error="Please select two different areas.";else if(this.error_)switch(this.error_.message){case os.geo.jsts.ErrorMessage.EMPTY:this.error=this.scope.op==os.ui.query.ui.ModifyOp.REMOVE?"Area to Remove cannot fully contain the Area to Modify, or the result will be empty.":this.scope.op==os.ui.query.ui.ModifyOp.INTERSECT?
"Areas do not have an intersection.":this.scope.op+" failed. Please check the log for details.";break;case os.geo.jsts.ErrorMessage.NO_OP:this.error=this.scope.op==os.ui.query.ui.ModifyOp.REMOVE?"Area to Remove will not remove anything from the Area to Modify.":"Area to Add will not add anything to the Area to Modify.";break;default:this.error=this.scope.op+" failed. Please check the log for details."}else this.preview||(this.error=this.scope.op+" failed. Please check the log for details.");else this.error=
"Please choose an area to "+this.scope.op+".";else this.error="Please choose an area to modify."};os.ui.query.ui.ModifyAreaCtrl.prototype.onAreaChange=function(a,b){this.scope.fixArea=this.scope.area&&!os.ui.areaManager.contains(this.scope.area);this.updatePreview()};os.ui.query.ui.ModifyAreaCtrl.prototype.onTargetAreaChange=function(a,b){this.scope.fixTargetArea=this.scope.targetArea&&!os.ui.areaManager.contains(this.scope.targetArea);this.updatePreview()};
os.ui.query.ui.ModifyAreaCtrl.prototype.updatePreview=function(){this.setPreviewFeature(this.getMergedArea_());this.validate()};os.ui.query.ui.ModifyAreaCtrl.prototype.setPreviewFeature=function(a){this.preview=a};
os.ui.query.ui.ModifyAreaCtrl.prototype.getMergedArea_=function(){this.error_=null;if(this.scope.area&&this.scope.targetArea)try{switch(this.scope.op){case os.ui.query.ui.ModifyOp.ADD:var a=os.geo.jsts.addTo(this.scope.area,this.scope.targetArea);break;case os.ui.query.ui.ModifyOp.REMOVE:a=os.geo.jsts.removeFrom(this.scope.area,this.scope.targetArea);break;case os.ui.query.ui.ModifyOp.INTERSECT:a=os.geo.jsts.intersect(this.scope.area,this.scope.targetArea);break;default:goog.log.error(this.log,"Unsupported operation: "+
this.scope.op)}}catch(b){this.error_=b}a&&a.set(os.data.RecordField.DRAWING_LAYER_NODE,!1);return a};os.ui.query.ui.ModifyAreaCtrl.prototype.cancel=function(){this.close_()};goog.exportProperty(os.ui.query.ui.ModifyAreaCtrl.prototype,"cancel",os.ui.query.ui.ModifyAreaCtrl.prototype.cancel);
os.ui.query.ui.ModifyAreaCtrl.prototype.confirm=function(){var a=this.getMergedArea_(),b=a?a.getGeometry():null;a&&b?(this.replace?a=new os.ui.query.cmd.AreaModify(this.scope.area,b):(a.set("title",this.title),a=new os.ui.query.cmd.AreaAdd(a)),a&&os.command.CommandProcessor.getInstance().addCommand(a)):os.alertManager.sendAlert("Failed modifying area! Please see the log for more details.",os.alert.AlertEventSeverity.ERROR,this.log);this.close_()};
goog.exportProperty(os.ui.query.ui.ModifyAreaCtrl.prototype,"confirm",os.ui.query.ui.ModifyAreaCtrl.prototype.confirm);os.ui.query.ui.ModifyAreaCtrl.prototype.getPopoverTitle=function(a){switch(a){case os.ui.query.ui.ModifyOp.ADD:return"Add Area";case os.ui.query.ui.ModifyOp.REMOVE:return"Remove Area";case os.ui.query.ui.ModifyOp.INTERSECT:return"Area Intersection"}return"Area Help"};goog.exportProperty(os.ui.query.ui.ModifyAreaCtrl.prototype,"getPopoverTitle",os.ui.query.ui.ModifyAreaCtrl.prototype.getPopoverTitle);
os.ui.query.ui.ModifyAreaCtrl.prototype.getPopoverContent=function(a){switch(a){case os.ui.query.ui.ModifyOp.ADD:return this.help.addOp;case os.ui.query.ui.ModifyOp.REMOVE:return this.help.removeOp;case os.ui.query.ui.ModifyOp.INTERSECT:return this.help.intersectOp}return"Area Help"};goog.exportProperty(os.ui.query.ui.ModifyAreaCtrl.prototype,"getPopoverContent",os.ui.query.ui.ModifyAreaCtrl.prototype.getPopoverContent);os.ui.query.ui.ModifyAreaCtrl.prototype.close_=function(){os.ui.window.close(this.element)};
os.ui.query.ui.ModifyOp={ADD:"Add",REMOVE:"Remove",INTERSECT:"Intersect"};
os.ui.query.ui.launchModifyArea=function(a){if(os.ui.window.exists("modifyArea")){var b=document.querySelector(".window#modifyArea");if(b=angular.element(b).find(".modify-area-window").scope())goog.object.extend(b,a),os.ui.apply(b);os.ui.window.bringToFront("modifyArea")}else b=a.ui||"modifyarea",os.ui.window.create({id:"modifyArea",label:"Modify Area...",icon:"fa fa-edit",x:"center",y:"center",width:400,height:"auto","show-close":!0,"no-scroll":!0},"<"+b+' area="area" target-area="targetArea" op="op"></'+
b+">",void 0,void 0,void 0,{area:a.area||null,op:a.op,targetArea:a.targetArea||null})};os.query.ui.modifyAreaDirective=function(){var a=os.ui.query.ui.modifyAreaDirective();a.controller=os.query.ui.ModifyAreaCtrl;return a};os.ui.Module.directive("osModifyarea",[os.query.ui.modifyAreaDirective]);os.query.ui.ModifyAreaCtrl=function(a,b){os.ui.query.ui.ModifyAreaCtrl.call(this,a,b);this.log=os.query.ui.ModifyAreaCtrl.LOGGER_;this.targetPreview=this.areaPreview=null};goog.inherits(os.query.ui.ModifyAreaCtrl,os.ui.query.ui.ModifyAreaCtrl);os.query.ui.ModifyAreaCtrl.LOGGER_=goog.log.getLogger("os.query.ui.ModifyAreaCtrl");
os.query.ui.ModifyAreaCtrl.prototype.disposeInternal=function(){os.query.ui.ModifyAreaCtrl.superClass_.disposeInternal.call(this);this.areaPreview&&(os.MapContainer.getInstance().removeFeature(this.areaPreview),this.areaPreview=null);this.targetPreview&&(os.MapContainer.getInstance().removeFeature(this.targetPreview),this.targetPreview=null)};
os.query.ui.ModifyAreaCtrl.prototype.onAreaChange=function(a,b){this.areaPreview&&os.MapContainer.getInstance().removeFeature(this.areaPreview);this.areaPreview=null;a instanceof ol.Feature&&a.getGeometry()&&(this.areaPreview=os.ol.feature.clone(a),this.areaPreview.set(os.data.RecordField.DRAWING_LAYER_NODE,!1),os.MapContainer.getInstance().addFeature(this.areaPreview));os.query.ui.ModifyAreaCtrl.superClass_.onAreaChange.call(this,a,b)};
os.query.ui.ModifyAreaCtrl.prototype.onTargetAreaChange=function(a,b){this.targetPreview&&os.MapContainer.getInstance().removeFeature(this.targetPreview);this.targetPreview=null;a instanceof ol.Feature&&a.getGeometry()&&(this.targetPreview=os.ol.feature.clone(a),this.targetPreview.set(os.data.RecordField.DRAWING_LAYER_NODE,!1),os.MapContainer.getInstance().addFeature(this.targetPreview));os.query.ui.ModifyAreaCtrl.superClass_.onTargetAreaChange.call(this,a,b)};
os.query.ui.ModifyAreaCtrl.prototype.setPreviewFeature=function(a){this.preview&&os.MapContainer.getInstance().removeFeature(this.preview);os.query.ui.ModifyAreaCtrl.superClass_.setPreviewFeature.call(this,a);this.preview&&this.preview.getGeometry()&&os.MapContainer.getInstance().addFeature(this.preview,os.style.PREVIEW_CONFIG)};os.ex={};os.ui.file={};os.ui.file.exportDialogDirective=function(){return{restrict:"E",templateUrl:os.ROOT+"views/file/exportdialog.html",controller:os.ui.file.ExportDialogCtrl,controllerAs:"exportdialog"}};os.ui.Module.directive("exportdialog",[os.ui.file.exportDialogDirective]);
os.ui.file.ExportDialogCtrl=function(a,b,c){this.scope=a;a.itemText="item";this.element=b;this.compile=c;this.options=this.scope.options;this.exporters={};a.exporter=this.options.exporter;a.initialExporter=!!a.exporter;if(!a.exporter){var d=os.ui.exportManager.getExportMethods();if(d&&0<d.length)for(a.exporter=d[0],b=0,c=d.length;b<c;b++)this.exporters[d[b].getLabel()]=d[b]}this.persisters={};a.persister=this.options.persister;a.initialPersister=!!a.persister;if(!a.persister&&(d=os.ui.exportManager.getPersistenceMethods())&&
0<d.length)for(a.persister=d[0],b=0,c=d.length;b<c;b++)this.persisters[d[b].getLabel()]=d[b];b=this.element.find(".custom-ui");(c=this.getCustomOptions())?(b.html(c),this.compile(b.contents())(this.scope)):b.remove();a.$emit("window.ready");a.$watch("exporter",this.onExporterChange.bind(this));a.$watch("persister",this.onPersisterChange.bind(this));a.$on("$destroy",this.destroy.bind(this))};os.ui.file.ExportDialogCtrl.prototype.destroy=function(){this.compile=this.element=this.scope=null};
os.ui.file.ExportDialogCtrl.prototype.getExporterLabel=function(){return this.scope&&this.scope.exporter?this.scope.exporter.getLabel():null};goog.exportProperty(os.ui.file.ExportDialogCtrl.prototype,"getExporterLabel",os.ui.file.ExportDialogCtrl.prototype.getExporterLabel);os.ui.file.ExportDialogCtrl.prototype.getExporterUI=function(){return this.scope&&this.scope.exporter?this.scope.exporter.getUI():null};goog.exportProperty(os.ui.file.ExportDialogCtrl.prototype,"getExporterUI",os.ui.file.ExportDialogCtrl.prototype.getExporterUI);
os.ui.file.ExportDialogCtrl.prototype.getCustomOptions=function(){return null};os.ui.file.ExportDialogCtrl.prototype.onExporterChange=function(a,b){a&&(this.options.exporter=a,b=this.element.find(".export-ui-container"),b.children().remove(),(a=a.getUI())&&this.scope&&(b.html(a),this.compile(b.contents())(this.scope)))};os.ui.file.ExportDialogCtrl.prototype.onPersisterChange=function(a,b){a&&(this.options.persister=a)};os.ui.file.ExportDialogCtrl.prototype.cancel=function(){this.close_()};
goog.exportProperty(os.ui.file.ExportDialogCtrl.prototype,"cancel",os.ui.file.ExportDialogCtrl.prototype.cancel);
os.ui.file.ExportDialogCtrl.prototype.confirm=function(){goog.asserts.assert(goog.isDefAndNotNull(this.options.exporter),"exporter is not defined");goog.asserts.assert(goog.isDefAndNotNull(this.options.persister),"persister is not defined");goog.asserts.assert(goog.isDefAndNotNull(this.options.title),"export title is null");goog.asserts.assert(0<this.options.items.length,"no items to export");goog.asserts.assert(0<this.options.fields.length,"no fields defined on export");os.ui.exportManager.exportItems(this.options.items,
this.options.fields,this.options.title,this.options.exporter,this.options.persister);this.close_()};goog.exportProperty(os.ui.file.ExportDialogCtrl.prototype,"confirm",os.ui.file.ExportDialogCtrl.prototype.confirm);os.ui.file.ExportDialogCtrl.prototype.close_=function(){os.ui.window.close(this.element)};os.ui.ex={};os.ui.ex.areaExportDirective=function(){var a=os.ui.file.exportDialogDirective();a.controller=os.ui.ex.AreaExportCtrl;return a};os.ui.Module.directive("areaexport",[os.ui.ex.areaExportDirective]);os.ui.ex.AreaExportCtrl=function(a,b,c){os.ui.file.ExportDialogCtrl.call(this,a,b,c);a.itemText="area";a.simple=!0;a.allowMultiple=!0;goog.array.forEach(this.options.items,function(a){a.set("mapVisualizationType","ANNOTATION_REGIONS")})};goog.inherits(os.ui.ex.AreaExportCtrl,os.ui.file.ExportDialogCtrl);
os.ui.ex.AreaExportCtrl.start=function(a){a||(a=[]);goog.array.removeDuplicates(a);var b=1==a.length?a[0].get("title"):null;os.ui.window.create({id:"areaExport",label:"Export Areas",icon:"fa fa-download color-yellow",x:"center",y:"center",width:"350",height:"250","show-close":"true",modal:"true"},"<areaexport></areaexport>",void 0,void 0,void 0,{options:{exporter:null,fields:[],items:a,persister:null,title:b}})};
os.ui.ex.AreaExportCtrl.prototype.onExporterChange=function(a,b){os.ui.ex.AreaExportCtrl.superClass_.onExporterChange.call(this,a,b);this.options.fields.length=0;b=["name","title","description","tags",os.interpolate.METHOD_FIELD];a instanceof plugin.file.kml.KMLExporter?(a.setDefaultLabelFields(["title"]),b.push("mapVisualizationType")):a instanceof plugin.file.shp.SHPExporter&&this.element.find(".export-ui").children().remove();b&&0<b.length&&(this.options.fields=this.options.fields.concat(b))};os.style.DEFAULT_ALPHA=1;os.style.DEFAULT_LAYER_COLOR="rgba(255,255,255,1)";os.style.DEFAULT_INVERSE_COLOR="rgba(255,0,0,1)";os.style.DEFAULT_FEATURE_SIZE=3;os.style.DEFAULT_STROKE_WIDTH=3;os.style.DEFAULT_ARROW_SIZE=100;os.style.DEFAULT_LOB_LENGTH=1E3;os.style.DEFAULT_LOB_LENGTH_ERROR=1;os.style.DEFAULT_LOB_BEARING_ERROR=1;os.style.DEFAULT_LOB_MULTIPLIER=1;os.style.ARROW_ICON=os.ROOT+"images/arrow.png";os.style.POINT_CONFIG={image:{type:"circle"}};
os.style.ShapeType={DEFAULT:"Default",NONE:"None",POINT:"Point",SQUARE:"Square",TRIANGLE:"Triangle",ICON:"Icon",ELLIPSE:"Ellipse",ELLIPSE_CENTER:"Ellipse with Center",SELECTED_ELLIPSE:"Selected Ellipse",SELECTED_ELLIPSE_CENTER:"Selected Ellipse with Center",LINE_OF_BEARING:"Line of Bearing",LINE_OF_BEARING_CENTER:"Line of Bearing with Center"};os.style.DEFAULT_SHAPE=os.style.ShapeType.DEFAULT;os.style.DEFAULT_CENTER_SHAPE=os.style.ShapeType.POINT;
os.style.SHAPES={Default:void 0,Point:{config:{image:{type:"circle"}}},Square:{config:{image:{type:"shape",subType:"square"}}},Triangle:{config:{image:{type:"shape",subType:"triangle"}}},Icon:{config:{image:{type:"icon"}}},Ellipse:{config:{geometry:os.data.RecordField.ELLIPSE}},"Ellipse with Center":{config:{geometries:[os.data.RecordField.GEOM,os.data.RecordField.ELLIPSE]}},"Selected Ellipse":{selectedConfig:{geometry:os.data.RecordField.ELLIPSE}},"Selected Ellipse with Center":{selectedConfig:{geometries:[os.data.RecordField.GEOM,
os.data.RecordField.ELLIPSE]}},"Line of Bearing":{config:{geometries:[os.data.RecordField.LINE_OF_BEARING,os.data.RecordField.LINE_OF_BEARING_ERROR_HIGH,os.data.RecordField.LINE_OF_BEARING_ERROR_LOW,os.data.RecordField.ELLIPSE]}},"Line of Bearing with Center":{config:{geometries:[os.data.RecordField.LINE_OF_BEARING,os.data.RecordField.LINE_OF_BEARING_ERROR_HIGH,os.data.RecordField.LINE_OF_BEARING_ERROR_LOW,os.data.RecordField.ELLIPSE,os.data.RecordField.GEOM]}}};os.style.LOB_REGEXP=/line of bearing/i;
os.style.ELLIPSE_REGEXP=/ellipse/i;os.style.CENTER_REGEXP=/center/i;os.style.SELECTED_REGEXP=/selected/i;os.style.DEFAULT_REGEXP=/default/i;os.style.CENTER_LOOKUP=function(){var a={},b;for(b in os.style.SHAPES)a[b]=os.style.CENTER_REGEXP.test(b);return a}();os.style.DEFAULT_VECTOR_CONFIG={image:{type:"circle",radius:os.style.DEFAULT_FEATURE_SIZE,fill:{color:os.style.DEFAULT_LAYER_COLOR}},stroke:{width:os.style.DEFAULT_STROKE_WIDTH,color:os.style.DEFAULT_LAYER_COLOR}};os.style.SELECTED_Z=100;
os.style.HIGHLIGHT_Z=102;os.style.DEFAULT_SELECT_CONFIG={image:{color:"rgba(255,0,0,1)",fill:{color:"rgba(255,0,0,1)"}},stroke:{color:"rgba(255,0,0,1)"},zIndex:os.style.SELECTED_Z};os.style.INVERSE_SELECT_CONFIG={image:{color:"rgba(255,255,255,1)",fill:{color:"rgba(255,255,255,1)"},stroke:{color:"rgba(255,0,0,1)",width:1}},stroke:{color:"rgba(255,255,255,1)"},zIndex:os.style.SELECTED_Z+1};
os.style.DEFAULT_HIGHLIGHT_CONFIG={image:{color:"rgba(255,0,0,1)",fill:{color:"rgba(255,0,0,1)"},stroke:{color:"rgba(255,255,0,1)",width:1}},stroke:{color:"rgba(255,0,0,1)"},zIndex:os.style.HIGHLIGHT_Z};os.style.PREVIEW_CONFIG={fill:{color:"rgba(0,255,255,0.15)"},stroke:{width:os.style.DEFAULT_STROKE_WIDTH,color:"rgba(0,255,255,1)"}};os.style.DEFAULT_COLOR_STYLE_FIELDS=[os.style.StyleField.IMAGE,os.style.StyleField.FILL,os.style.StyleField.STROKE];
os.style.createColorOverride=function(a){return{image:{fill:{color:a}},stroke:{color:a}}};os.style.toAbgrString=function(a){a=ol.color.asArray(a);a=[255*(4==a.length?a[3]:1),a[2],a[1],a[0]];var b;for(b=0;4>b;++b){var c=parseInt(a[b],10).toString(16);a[b]=1==c.length?"0"+c:c}return a.join("")};os.style.toRgbaString=function(a){return ol.color.asString(goog.isString(a)?os.color.toRgbArray(a):a)};os.style.STYLE_COLOR_FIELDS_=["image","fill","stroke"];
os.style.getConfigColor=function(a,b,c){if(a){if(c&&a[c]&&null!=a[c][os.style.StyleField.COLOR])return b?os.color.toRgbArray(a[c][os.style.StyleField.COLOR]):a[c][os.style.StyleField.COLOR];if(null!=a[os.style.StyleField.COLOR])return b?os.color.toRgbArray(a[os.style.StyleField.COLOR]):a[os.style.StyleField.COLOR];for(c=0;c<os.style.STYLE_COLOR_FIELDS_.length;c++){var d=os.style.STYLE_COLOR_FIELDS_[c];if(!os.object.isPrimitive(a[d])&&(d=os.style.getConfigColor(a[d],b)))return d}}return null};
os.style.setConfigColor=function(a,b,c){if(a){var d=c||os.style.DEFAULT_COLOR_STYLE_FIELDS,e;for(e in a)-1!==d.indexOf(e)&&(a[e][os.style.StyleField.COLOR]=b),os.object.isPrimitive(a[e])||os.style.setConfigColor(a[e],b,c)}};os.style.getConfigIcon=function(a){var b=null;a&&(a=a[os.style.StyleField.IMAGE])&&a.src&&(b={path:a.src});return b};os.style.setConfigIcon=function(a,b){b&&a&&(a=a[os.style.StyleField.IMAGE])&&(a.src=b.path)};
os.style.setConfigOpacityColor=function(a,b,c){if(a){var d=os.style.DEFAULT_COLOR_STYLE_FIELDS,e,f;for(f in a)-1!==d.indexOf(f)&&(e=os.color.toRgbArray(a[f][os.style.StyleField.COLOR]))&&(e[3]=c?e[3]*b:b,a[f][os.style.StyleField.COLOR]=os.style.toRgbaString(e)),os.object.isPrimitive(a[f])||os.style.setConfigOpacityColor(a[f],b,c)}};
os.style.getConfigSize=function(a){if(a){if(void 0!=a.radius)return a.radius;if(void 0!=a.width)return a.width;if(void 0!=a.scale)return os.style.scaleToSize(a.scale);for(var b in a)if(!os.object.isPrimitive(a[b])){var c=os.style.getConfigSize(a[b]);if(goog.isDef(c))return c}}};
os.style.setConfigSize=function(a,b){if(a)for(var c in a)"radius"==c?a[c]=b:"scale"==c?a[c]=os.style.sizeToScale(Math.max(b,.01)):"width"==c?a[c]=Math.max(b,1):os.object.isPrimitive(a[c])||("stroke"==c?a[c].width=Math.max(b,1):"image"==c?"icon"==a[c].type?(a[c].scale=os.style.sizeToScale(Math.max(b,.01)),a[c].radius=void 0):(a[c].radius=b,a[c].scale=void 0):os.style.setConfigSize(a[c],b))};
os.style.getMergedSize=function(a,b,c){c=c||os.style.DEFAULT_FEATURE_SIZE;b=os.style.getConfigSize(b);a=os.style.getConfigSize(a);return null!=b&&null!=a?(c=os.style.sizeToScale(b),a=os.style.sizeToScale(a),os.style.scaleToSize(c*a)):b||a||c};os.style.sizeToScale=function(a){return Math.floor(a/os.style.DEFAULT_FEATURE_SIZE*100)/100};os.style.scaleToSize=function(a){return Math.round(a*os.style.DEFAULT_FEATURE_SIZE)};
os.style.getBaseFeatureConfig=function(a,b){return a.values_[os.style.StyleType.FEATURE]||b||os.style.DEFAULT_VECTOR_CONFIG};os.style.setFeatureStyle=function(a,b,c){c||(b=os.style.getLayerConfig(a,b),c=os.style.getBaseFeatureConfig(a,b),c=os.style.createFeatureStyle(a,c,b));a.setStyle(c)};
os.style.setFeaturesStyle=function(a,b){if(0<a.length)for(var c=os.style.getLayerConfig(a[0],b),d=0,e=a.length;d<e;d++){var f=a[d],g=os.style.getBaseFeatureConfig(f,c);g=os.style.createFeatureStyle(f,g,c);os.style.setFeatureStyle(f,b,g)}};
os.style.getLayerConfig=function(a,b){var c=a.get(os.data.RecordField.SOURCE_ID),d=a.get(os.style.StyleField.SKIP_LAYER_STYLE);if(c&&!d){var e={};c=os.style.StyleManager.getInstance().getLayerConfig(c)||os.style.DEFAULT_VECTOR_CONFIG;os.style.mergeConfig(c,e);(a=b||os.feature.getSource(a))&&os.instanceOf(a,os.source.Vector.NAME)&&(c=(b=a.getGeometryShape())?os.style.SHAPES[b]:void 0)&&((c.config&&os.style.mergeConfig(c.config,e),c.selectedConfig&&(e.selectedConfig=c.selectedConfig),b==os.style.ShapeType.ICON)?
(a=e[os.style.StyleField.IMAGE])&&a.radius&&(a.scale=os.style.sizeToScale(a.radius)):os.style.CENTER_LOOKUP[b]&&(b=(a=a.getCenterGeometryShape())?os.style.SHAPES[a]:void 0)&&(b.config&&os.style.mergeConfig(b.config,e),a==os.style.ShapeType.ICON&&(a=e[os.style.StyleField.IMAGE])&&a.radius&&(a.scale=os.style.sizeToScale(a.radius))))}return e};os.style.isIconConfig=function(a){return null!=a[os.style.StyleField.IMAGE]&&"icon"==a[os.style.StyleField.IMAGE].type};
os.style.createFeatureConfig=function(a,b,c){var d=a.values_[os.data.RecordField.COLOR];if(c&&c[os.style.StyleField.REPLACE_STYLE])return d&&os.style.setConfigColor(c,d),c;var e={};os.style.mergeConfig(b,e);!c&&a&&(c=os.style.getLayerConfig(a));if((b=a.values_[os.style.StyleType.FEATURE])&&c){void 0!=b.length&&(b=b[0]);var f=e[os.style.StyleField.IMAGE];if(f){var g=os.style.getMergedSize(b[os.style.StyleField.IMAGE],c[os.style.StyleField.IMAGE],os.style.DEFAULT_FEATURE_SIZE);f.radius=g;f.scale=Math.max(os.style.sizeToScale(g),
.01)}else c[os.style.StyleField.IMAGE]&&(e[os.style.StyleField.IMAGE]={},os.style.mergeConfig(c[os.style.StyleField.IMAGE],e[os.style.StyleField.IMAGE]));(f=e[os.style.StyleField.STROKE])?(c=os.style.getMergedSize(b[os.style.StyleField.STROKE],c[os.style.StyleField.STROKE],os.style.DEFAULT_STROKE_WIDTH),f.width=Math.max(c,1)):c[os.style.StyleField.STROKE]&&(e[os.style.StyleField.STROKE]={},os.style.mergeConfig(c[os.style.StyleField.STROKE],e[os.style.StyleField.STROKE]))}d&&os.style.setConfigColor(e,
d);a=a.get(os.style.StyleField.OPACITY);null==a||isNaN(a)||os.style.setConfigOpacityColor(e,Number(a),!0);return e};
os.style.verifyGeometries=function(a,b,c){b.geometry==os.data.RecordField.LINE_OF_BEARING||b.geometries&&-1!=b.geometries.indexOf(os.data.RecordField.LINE_OF_BEARING)?c?os.feature.createLineOfBearing(a,!1,{arrowLength:c[os.style.StyleField.ARROW_SIZE],bearingColumn:c[os.style.StyleField.LOB_BEARING_COLUMN],bearingError:c[os.style.StyleField.LOB_BEARING_ERROR],bearingErrorColumn:c[os.style.StyleField.LOB_BEARING_ERROR_COLUMN],length:c[os.style.StyleField.LOB_LENGTH],lengthColumn:c[os.style.StyleField.LOB_LENGTH_COLUMN],
lengthError:c[os.style.StyleField.LOB_LENGTH_ERROR],lengthErrorColumn:c[os.style.StyleField.LOB_LENGTH_ERROR_COLUMN],showArrow:c[os.style.StyleField.SHOW_ARROW],showEllipse:c[os.style.StyleField.SHOW_ELLIPSE],showError:c[os.style.StyleField.SHOW_ERROR]}):os.feature.createLineOfBearing(a):(b.geometry==os.data.RecordField.ELLIPSE||b.geometries&&-1!=b.geometries.indexOf(os.data.RecordField.ELLIPSE))&&os.feature.createEllipse(a)};
os.style.createFeatureStyle=function(a,b,c){var d=[];if(!a)return d;if(goog.isNumber(b.length)){for(var e=0,f=b.length;e<f;e++)d.push(os.style.createFeatureStyle(a,b[e],c));return goog.array.flatten(d)}b=os.style.createFeatureConfig(a,b,c);var g=a.values_[os.style.StyleField.OPACITY];g=null==g||isNaN(g)?void 0:Number(g);f=null!=c&&!!c[os.style.StyleField.REPLACE_STYLE];var h=os.feature.getShapeName(a,void 0,f);if(e=h?os.style.SHAPES[h]:void 0){if(e.config){var k=e.config;os.style.verifyGeometries(a,
k,c);var l=os.style.isIconConfig(b),m=os.style.isIconConfig(k);h&&os.style.CENTER_LOOKUP[h]&&(h=(h=os.feature.getCenterShapeName(a,void 0,f))?os.style.SHAPES[h]:void 0)&&h.config&&(os.style.mergeConfig(h.config,k),m=os.style.isIconConfig(h.config));l&&!m?(l=b[os.style.StyleField.IMAGE],f=os.style.toRgbaString(os.style.getConfigColor(b)||os.style.DEFAULT_LAYER_COLOR),l={radius:null!=l.scale?os.style.scaleToSize(l.scale):os.style.DEFAULT_FEATURE_SIZE,fill:{color:f}},b[os.style.StyleField.IMAGE]=l,b[os.style.StyleField.STROKE]=
b[os.style.StyleField.STROKE]||{},b[os.style.StyleField.STROKE].color=f):f&&l&&m&&os.style.setConfigIcon(b,os.style.getConfigIcon(c));os.style.mergeConfig(k,b)}e.selectedConfig&&(b.selectedConfig=e.selectedConfig)}if(k=a.values_[os.style.StyleType.SELECT])null!=g&&k[os.style.StyleField.IMAGE]&&(f=ol.color.asArray(k[os.style.StyleField.IMAGE].fill.color),f[3]=g,os.style.setConfigColor(k,f)),os.style.mergeConfig(k,b),b.selectedConfig&&(k=b.selectedConfig,b.selectedConfig=void 0,os.style.verifyGeometries(a,
k,c),k.geometry&&!a.values_[k.geometry]||os.style.mergeConfig(k,b));(l=a.values_[os.style.StyleType.HIGHLIGHT])&&os.style.mergeConfig(l,b);if(b.geometries)for(e=0,f=b.geometries.length;e<f;e++)m=b.geometries[e],a.values_[m]&&(b.geometry=m,d.push(os.style.StyleManager.getInstance().getOrCreateStyle(b)));else d.push(os.style.StyleManager.getInstance().getOrCreateStyle(b));e=a.values_[os.style.StyleField.LABEL_GEOMETRY];if(!e||e==b.geometry)if(a=os.style.label.createOrUpdate(a,b,c))for(e=0;e<a.length;e++)null!=
g&&(f=ol.color.asArray(a[e].text_.stroke_.color_),f[3]*=g,a[e].text_.stroke_.color_=ol.color.toString(f),l||k||(f=c&&c[os.style.StyleField.LABEL_COLOR]?ol.color.asArray(c[os.style.StyleField.LABEL_COLOR]):ol.color.asArray(os.style.getConfigColor(b)),f[3]*=g,a[e].text_.fill_.color_=ol.color.toString(f))),d.push(a[e]);return d};os.style.mergeConfig=function(a,b){for(var c in a){var d=a[c];"object"==typeof d&&"number"!=typeof d.length?(c in b||(b[c]={}),os.style.mergeConfig(d,b[c])):b[c]=d}};
os.style.notifyStyleChange=function(a,b,c){a.dispatchEvent(new os.events.PropertyChangeEvent(c||os.layer.PropertyChange.STYLE,b));a.getSource().changed()};os.ui.columnactions.SimpleColumnActionModel=function(a){this.field_=a};os.ui.columnactions.SimpleColumnActionModel.prototype.getTitle=function(){return this.field_};os.ui.columnactions.SimpleColumnActionModel.prototype.getDataField=function(){return this.field_};goog.dom.classlist={};goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST=!1;goog.dom.classlist.get=function(a){if(goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList)return a.classList;a=a.className;return goog.isString(a)&&a.match(/\S+/g)||[]};goog.dom.classlist.set=function(a,b){a.className=b};goog.dom.classlist.contains=function(a,b){return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList?a.classList.contains(b):goog.array.contains(goog.dom.classlist.get(a),b)};
goog.dom.classlist.add=function(a,b){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList?a.classList.add(b):goog.dom.classlist.contains(a,b)||(a.className+=0<a.className.length?" "+b:b)};
goog.dom.classlist.addAll=function(a,b){if(goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList)goog.array.forEach(b,function(b){goog.dom.classlist.add(a,b)});else{var c={};goog.array.forEach(goog.dom.classlist.get(a),function(a){c[a]=!0});goog.array.forEach(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}};
goog.dom.classlist.remove=function(a,b){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList?a.classList.remove(b):goog.dom.classlist.contains(a,b)&&(a.className=goog.array.filter(goog.dom.classlist.get(a),function(a){return a!=b}).join(" "))};
goog.dom.classlist.removeAll=function(a,b){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList?goog.array.forEach(b,function(b){goog.dom.classlist.remove(a,b)}):a.className=goog.array.filter(goog.dom.classlist.get(a),function(a){return!goog.array.contains(b,a)}).join(" ")};goog.dom.classlist.enable=function(a,b,c){c?goog.dom.classlist.add(a,b):goog.dom.classlist.remove(a,b)};goog.dom.classlist.enableAll=function(a,b,c){(c?goog.dom.classlist.addAll:goog.dom.classlist.removeAll)(a,b)};
goog.dom.classlist.swap=function(a,b,c){return goog.dom.classlist.contains(a,b)?(goog.dom.classlist.remove(a,b),goog.dom.classlist.add(a,c),!0):!1};goog.dom.classlist.toggle=function(a,b){var c=!goog.dom.classlist.contains(a,b);goog.dom.classlist.enable(a,b,c);return c};goog.dom.classlist.addRemove=function(a,b,c){goog.dom.classlist.remove(a,b);goog.dom.classlist.add(a,c)};goog.events.KeyHandler=function(a,b){goog.events.EventTarget.call(this);a&&this.attach(a,b)};goog.inherits(goog.events.KeyHandler,goog.events.EventTarget);goog.events.KeyHandler.prototype.element_=null;goog.events.KeyHandler.prototype.keyPressKey_=null;goog.events.KeyHandler.prototype.keyDownKey_=null;goog.events.KeyHandler.prototype.keyUpKey_=null;goog.events.KeyHandler.prototype.lastKey_=-1;goog.events.KeyHandler.prototype.keyCode_=-1;goog.events.KeyHandler.prototype.altKey_=!1;
goog.events.KeyHandler.EventType={KEY:"key"};
goog.events.KeyHandler.safariKey_={3:goog.events.KeyCodes.ENTER,12:goog.events.KeyCodes.NUMLOCK,63232:goog.events.KeyCodes.UP,63233:goog.events.KeyCodes.DOWN,63234:goog.events.KeyCodes.LEFT,63235:goog.events.KeyCodes.RIGHT,63236:goog.events.KeyCodes.F1,63237:goog.events.KeyCodes.F2,63238:goog.events.KeyCodes.F3,63239:goog.events.KeyCodes.F4,63240:goog.events.KeyCodes.F5,63241:goog.events.KeyCodes.F6,63242:goog.events.KeyCodes.F7,63243:goog.events.KeyCodes.F8,63244:goog.events.KeyCodes.F9,63245:goog.events.KeyCodes.F10,
63246:goog.events.KeyCodes.F11,63247:goog.events.KeyCodes.F12,63248:goog.events.KeyCodes.PRINT_SCREEN,63272:goog.events.KeyCodes.DELETE,63273:goog.events.KeyCodes.HOME,63275:goog.events.KeyCodes.END,63276:goog.events.KeyCodes.PAGE_UP,63277:goog.events.KeyCodes.PAGE_DOWN,63289:goog.events.KeyCodes.NUMLOCK,63302:goog.events.KeyCodes.INSERT};
goog.events.KeyHandler.keyIdentifier_={Up:goog.events.KeyCodes.UP,Down:goog.events.KeyCodes.DOWN,Left:goog.events.KeyCodes.LEFT,Right:goog.events.KeyCodes.RIGHT,Enter:goog.events.KeyCodes.ENTER,F1:goog.events.KeyCodes.F1,F2:goog.events.KeyCodes.F2,F3:goog.events.KeyCodes.F3,F4:goog.events.KeyCodes.F4,F5:goog.events.KeyCodes.F5,F6:goog.events.KeyCodes.F6,F7:goog.events.KeyCodes.F7,F8:goog.events.KeyCodes.F8,F9:goog.events.KeyCodes.F9,F10:goog.events.KeyCodes.F10,F11:goog.events.KeyCodes.F11,F12:goog.events.KeyCodes.F12,
"U+007F":goog.events.KeyCodes.DELETE,Home:goog.events.KeyCodes.HOME,End:goog.events.KeyCodes.END,PageUp:goog.events.KeyCodes.PAGE_UP,PageDown:goog.events.KeyCodes.PAGE_DOWN,Insert:goog.events.KeyCodes.INSERT};goog.events.KeyHandler.USES_KEYDOWN_=goog.userAgent.IE||goog.userAgent.EDGE||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("525");goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_=goog.userAgent.MAC&&goog.userAgent.GECKO;
goog.events.KeyHandler.prototype.handleKeyDown_=function(a){(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&(this.lastKey_==goog.events.KeyCodes.CTRL&&!a.ctrlKey||this.lastKey_==goog.events.KeyCodes.ALT&&!a.altKey||goog.userAgent.MAC&&this.lastKey_==goog.events.KeyCodes.META&&!a.metaKey)&&this.resetState();-1==this.lastKey_&&(a.ctrlKey&&a.keyCode!=goog.events.KeyCodes.CTRL?this.lastKey_=goog.events.KeyCodes.CTRL:a.altKey&&a.keyCode!=goog.events.KeyCodes.ALT?this.lastKey_=goog.events.KeyCodes.ALT:a.metaKey&&
a.keyCode!=goog.events.KeyCodes.META&&(this.lastKey_=goog.events.KeyCodes.META));goog.events.KeyHandler.USES_KEYDOWN_&&!goog.events.KeyCodes.firesKeyPressEvent(a.keyCode,this.lastKey_,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?this.handleEvent(a):(this.keyCode_=goog.events.KeyCodes.normalizeKeyCode(a.keyCode),goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(this.altKey_=a.altKey))};goog.events.KeyHandler.prototype.resetState=function(){this.keyCode_=this.lastKey_=-1};
goog.events.KeyHandler.prototype.handleKeyup_=function(a){this.resetState();this.altKey_=a.altKey};
goog.events.KeyHandler.prototype.handleEvent=function(a){var b=a.getBrowserEvent(),c=b.altKey;if(goog.userAgent.IE&&a.type==goog.events.EventType.KEYPRESS){var d=this.keyCode_;var e=d!=goog.events.KeyCodes.ENTER&&d!=goog.events.KeyCodes.ESC?b.keyCode:0}else(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&a.type==goog.events.EventType.KEYPRESS?(d=this.keyCode_,e=0<=b.charCode&&63232>b.charCode&&goog.events.KeyCodes.isCharacterKey(d)?b.charCode:0):goog.userAgent.OPERA&&!goog.userAgent.WEBKIT?(d=this.keyCode_,
e=goog.events.KeyCodes.isCharacterKey(d)?b.keyCode:0):(d=b.keyCode||this.keyCode_,e=b.charCode||0,goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(c=this.altKey_),goog.userAgent.MAC&&e==goog.events.KeyCodes.QUESTION_MARK&&d==goog.events.KeyCodes.WIN_KEY&&(d=goog.events.KeyCodes.SLASH));var f=d=goog.events.KeyCodes.normalizeKeyCode(d);d?63232<=d&&d in goog.events.KeyHandler.safariKey_?f=goog.events.KeyHandler.safariKey_[d]:25==d&&a.shiftKey&&(f=9):b.keyIdentifier&&b.keyIdentifier in goog.events.KeyHandler.keyIdentifier_&&
(f=goog.events.KeyHandler.keyIdentifier_[b.keyIdentifier]);a=f==this.lastKey_;this.lastKey_=f;b=new goog.events.KeyEvent(f,e,a,b);b.altKey=c;this.dispatchEvent(b)};goog.events.KeyHandler.prototype.getElement=function(){return this.element_};
goog.events.KeyHandler.prototype.attach=function(a,b){this.keyUpKey_&&this.detach();this.element_=a;this.keyPressKey_=goog.events.listen(this.element_,goog.events.EventType.KEYPRESS,this,b);this.keyDownKey_=goog.events.listen(this.element_,goog.events.EventType.KEYDOWN,this.handleKeyDown_,b,this);this.keyUpKey_=goog.events.listen(this.element_,goog.events.EventType.KEYUP,this.handleKeyup_,b,this)};
goog.events.KeyHandler.prototype.detach=function(){this.keyPressKey_&&(goog.events.unlistenByKey(this.keyPressKey_),goog.events.unlistenByKey(this.keyDownKey_),goog.events.unlistenByKey(this.keyUpKey_),this.keyUpKey_=this.keyDownKey_=this.keyPressKey_=null);this.element_=null;this.keyCode_=this.lastKey_=-1};goog.events.KeyHandler.prototype.disposeInternal=function(){goog.events.KeyHandler.superClass_.disposeInternal.call(this);this.detach()};
goog.events.KeyEvent=function(a,b,c,d){goog.events.BrowserEvent.call(this,d);this.type=goog.events.KeyHandler.EventType.KEY;this.keyCode=a;this.charCode=b;this.repeat=c};goog.inherits(goog.events.KeyEvent,goog.events.BrowserEvent);os.ui.column={};os.ui.column.ColumnRowCtrl={};os.ui.column.columnRowDirective=function(){return{restrict:"E",replace:!0,scope:{item:"="},templateUrl:os.ROOT+"views/column/columnrow.html"}};os.ui.Module.directive("columnrow",[os.ui.column.columnRowDirective]);os.ui.column.columnManagerDirective=function(){return{restrict:"E",scope:{columns:"=",acceptCallback:"="},templateUrl:os.ROOT+"views/column/columnmanager.html",controller:os.ui.column.ColumnManagerCtrl,controllerAs:"columnManager"}};os.ui.Module.directive("columnManager",[os.ui.column.columnManagerDirective]);
os.ui.column.ColumnManagerCtrl=function(a,b){this.scope_=a;this.element_=b;this.sourceColumns_={};this.shownColumns=[];this.shownSelected=[];this.hiddenColumns=[];this.hiddenSelected=[];this.searchResults=[];this.searchIndex=0;this.term="";this.valid=!0;for(a=0;a<this.scope_.columns.length;a++)b=this.scope_.columns[a],b.visible?this.shownColumns.push(b.clone()):b.visprotected||this.hiddenColumns.push(b.clone()),this.sourceColumns_[b.id]=b;this.hiddenColumns.sort(os.ui.slick.column.numerateNameCompare);
this.tableOptions={fullWidthRows:!0,forceFitColumns:!0,multiSelect:!0,sortable:!0,multiColumnSort:!0,useRowRenderEvents:!0,dataItemColumnValueExtractor:this.getColumnValue_};this.hiddenConfig=[{id:"hidden",name:"Hidden",field:"name",selectable:!0,formatter:os.ui.slick.formatter.columnFormatter}];this.shownConfig=[{id:"shown",name:"Shown",field:"name",selectable:!0,formatter:os.ui.slick.formatter.columnFormatter}];this.hideDblClick=this.hide.bind(this);this.showDblClick=this.show.bind(this);this.keyHandler_=
new goog.events.KeyHandler(goog.dom.getDocument());this.scope_.$on("$destroy",this.destroy_.bind(this));this.validate_()};os.ui.column.ColumnManagerCtrl.prototype.destroy_=function(){goog.dispose(this.keyHandler_);this.element_=this.scope_=null};
os.ui.column.ColumnManagerCtrl.prototype.listenForKeys=function(a){(this.highlight=a)?this.keyHandler_.listen(goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent_,!1,this):this.keyHandler_.unlisten(goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent_,!1,this)};goog.exportProperty(os.ui.column.ColumnManagerCtrl.prototype,"listenForKeys",os.ui.column.ColumnManagerCtrl.prototype.listenForKeys);
os.ui.column.ColumnManagerCtrl.prototype.show=function(a){if(!0===a){for(a=0;a<this.hiddenColumns.length;a++)this.hiddenColumns[a].visible=!0,this.shownColumns.push(this.hiddenColumns[a]);this.hiddenColumns.length=0;this.scope_.$broadcast(os.ui.slick.SlickGridEvent.INVALIDATE_ROWS)}else if(0<this.hiddenSelected.length){this.hiddenSelected.sort(os.ui.slick.column.numerateNameCompare);for(a=0;a<this.hiddenSelected.length;a++){var b=this.hiddenSelected[a];b.visible=!0;goog.array.remove(this.hiddenColumns,
b);this.shownColumns.push(b)}this.shownSelected=this.hiddenSelected;this.hiddenSelected=[];this.scope_.$broadcast(os.ui.slick.SlickGridEvent.INVALIDATE_ROWS);this.scope_.$broadcast(os.ui.slick.SlickGridEvent.SCROLL_TO,this.shownSelected[0],!0)}this.validate_();this.find(this.searchIndex-1)};goog.exportProperty(os.ui.column.ColumnManagerCtrl.prototype,"show",os.ui.column.ColumnManagerCtrl.prototype.show);
os.ui.column.ColumnManagerCtrl.prototype.hide=function(a){if(!0===a){for(a=0;a<this.shownColumns.length;a++)this.shownColumns[a].visible=!1,this.hiddenColumns.push(this.shownColumns[a]);this.shownColumns.length=0}else if(0<this.shownSelected.length)for(a=0;a<this.shownSelected.length;a++){var b=this.shownSelected[a];b.visible=!1;goog.array.remove(this.shownColumns,b);this.hiddenColumns.push(b)}this.hiddenColumns.sort(os.ui.slick.column.numerateNameCompare);this.validate_();this.scope_.$broadcast(os.ui.slick.SlickGridEvent.INVALIDATE_ROWS);
this.find(this.searchIndex-1)};goog.exportProperty(os.ui.column.ColumnManagerCtrl.prototype,"hide",os.ui.column.ColumnManagerCtrl.prototype.hide);
os.ui.column.ColumnManagerCtrl.prototype.accept=function(){for(var a=this.scope_.columns,b=this.shownColumns,c=0;c<this.hiddenColumns.length;c++){var d=this.hiddenColumns[c].id;this.sourceColumns_[d]&&(this.sourceColumns_[d].visible=!1)}for(c=0;c<this.shownColumns.length;c++)d=this.shownColumns[c].id,this.sourceColumns_[d]&&(this.sourceColumns_[d].visible=!0);for(d=c=0;c<b.length;c++,d++){for(;d<a.length&&!a[d].visible;)d++;if(b[c].id!=a[d].id){var e=goog.array.findIndex(a,os.ui.slick.column.findByField.bind(this,
"id",b[c].id));-1<e&&goog.array.moveItem(a,e,d>e?d-1:d)}}this.scope_.acceptCallback&&this.scope_.acceptCallback();this.close()};goog.exportProperty(os.ui.column.ColumnManagerCtrl.prototype,"accept",os.ui.column.ColumnManagerCtrl.prototype.accept);os.ui.column.ColumnManagerCtrl.prototype.close=function(){os.ui.window.close(this.element_)};goog.exportProperty(os.ui.column.ColumnManagerCtrl.prototype,"close",os.ui.column.ColumnManagerCtrl.prototype.close);
os.ui.column.ColumnManagerCtrl.prototype.validate_=function(){this.valid=0<this.shownColumns.length};os.ui.column.ColumnManagerCtrl.prototype.getColumnValue_=function(a,b){return'<columnrow item="item"></columnrow>'};os.ui.column.ColumnManagerCtrl.prototype.find_=function(a,b){var c=[];if(a&&(a=goog.string.trim(a).toUpperCase(),this[b]))for(var d=0;d<this[b].length;d++)-1<this[b][d].name.toUpperCase().indexOf(a)&&c.push({col:this[b][d],list:b});return c};
os.ui.column.ColumnManagerCtrl.prototype.find=function(a){""!=this.term&&(this.searchResults=this.find_(this.term,"hiddenColumns").concat(this.find_(this.term,"shownColumns")),this.searchIndex=goog.isDefAndNotNull(a)?a:-1,this.next())};goog.exportProperty(os.ui.column.ColumnManagerCtrl.prototype,"find",os.ui.column.ColumnManagerCtrl.prototype.find);os.ui.column.ColumnManagerCtrl.prototype.clear=function(){this.term="";this.searchResults=[];this.searchIndex=0};
goog.exportProperty(os.ui.column.ColumnManagerCtrl.prototype,"clear",os.ui.column.ColumnManagerCtrl.prototype.clear);os.ui.column.ColumnManagerCtrl.prototype.next=function(){0<this.searchResults.length&&(this.searchIndex=(this.searchIndex+1)%this.searchResults.length,this.updateSearch_())};goog.exportProperty(os.ui.column.ColumnManagerCtrl.prototype,"next",os.ui.column.ColumnManagerCtrl.prototype.next);
os.ui.column.ColumnManagerCtrl.prototype.previous=function(){0<this.searchResults.length&&(this.searchIndex=0==this.searchIndex?this.searchResults.length-1:this.searchIndex-1,this.updateSearch_())};goog.exportProperty(os.ui.column.ColumnManagerCtrl.prototype,"previous",os.ui.column.ColumnManagerCtrl.prototype.previous);
os.ui.column.ColumnManagerCtrl.prototype.updateSearch_=function(){var a=this.searchResults[this.searchIndex];"hiddenColumns"==a.list?(this.shownSelected=[],this.hiddenSelected=[a.col]):(this.hiddenSelected=[],this.shownSelected=[a.col]);this.scope_.$broadcast(os.ui.slick.SlickGridEvent.INVALIDATE_ROWS);this.scope_.$broadcast(os.ui.slick.SlickGridEvent.SCROLL_TO,a.col,!0)};
os.ui.column.ColumnManagerCtrl.prototype.handleKeyEvent_=function(a){a.keyCode===goog.events.KeyCodes.ENTER&&(a.preventDefault(),a.stopPropagation(),a.shiftKey?this.previous():this.next())};
os.ui.column.launchColumnManager=function(a,b){os.ui.window.create({label:"Column Manager",icon:"fa fa-columns",x:"center",y:"center",width:"600","min-width":"500","max-width":"700",height:"400","min-height":"350","max-height":"1000","show-close":!0,"no-scroll":!0,modal:!0},'<column-manager columns="columns" accept-callback="acceptCallback"></column-manager>',void 0,void 0,void 0,{columns:a,acceptCallback:b})};os.ui.action.IMenuItem=function(){};os.ui.action.MenuItem=function(a,b,c){this.name_=a;this.description_=b;this.menuOptions_=c||new os.ui.action.MenuOptions(null,null,Number.MAX_VALUE)};os.ui.action.MenuItem.prototype.getName=function(){return this.name_};goog.exportProperty(os.ui.action.MenuItem.prototype,"getName",os.ui.action.MenuItem.prototype.getName);os.ui.action.MenuItem.prototype.getDescription=function(){return this.description_};goog.exportProperty(os.ui.action.MenuItem.prototype,"getDescription",os.ui.action.MenuItem.prototype.getDescription);
os.ui.action.MenuItem.prototype.getMenuOptions=function(){return this.menuOptions_};os.ui.action.MenuItemAction=function(a){os.ui.action.MenuItem.call(this,a.getTitle(),a.getDescription(),a.getMenuOptions());this.action_=a};goog.inherits(os.ui.action.MenuItemAction,os.ui.action.MenuItem);os.ui.action.MenuItemAction.prototype.getAction=function(){return this.action_};goog.exportProperty(os.ui.action.MenuItemAction.prototype,"getAction",os.ui.action.MenuItemAction.prototype.getAction);os.ui.action.MenuItemList=function(a,b){os.ui.action.MenuItem.call(this,a,null,b);this.menuItems_=[]};goog.inherits(os.ui.action.MenuItemList,os.ui.action.MenuItem);os.ui.action.MenuItemList.prototype.addItem=function(a){this.menuItems_.push(a)};os.ui.action.MenuItemList.prototype.getItems=function(){return this.menuItems_};goog.exportProperty(os.ui.action.MenuItemList.prototype,"getItems",os.ui.action.MenuItemList.prototype.getItems);os.ui.action.MenuItemSeparator=function(){os.ui.action.MenuItem.call(this,"",null)};goog.inherits(os.ui.action.MenuItemSeparator,os.ui.action.MenuItem);os.ui.action.MenuItemSeparator.prototype.isSeparator=!0;goog.exportProperty(os.ui.action.MenuItemSeparator.prototype,"isSeparator",os.ui.action.MenuItemSeparator.prototype.isSeparator);os.ui.action.MenuItemSeparatorHeader=function(a){os.ui.action.MenuItem.call(this,a,null)};goog.inherits(os.ui.action.MenuItemSeparatorHeader,os.ui.action.MenuItem);
os.ui.action.MenuItemSeparatorHeader.prototype.isSeparatorHeader=!0;goog.exportProperty(os.ui.action.MenuItemSeparatorHeader.prototype,"isSeparatorHeader",os.ui.action.MenuItemSeparatorHeader.prototype.isSeparatorHeader);os.ui.ActionMenuCtrl=function(a,b,c){a.path=os.ROOT;a.isFlat="true"==a.flatten;this.scope=a;this.element=b;this.timeout=c;this.destroyers_=[];this.element&&this.element[0]&&(this.key=goog.events.listen(this.element[0],goog.events.EventType.CONTEXTMENU,this.killRightClick_,!0,this));this.scope.titletext&&this.scope.titleselector&&this.addTitle(this.scope.titleselector,this.scope.titletext);b=this.scope.provider;"true"==a.visible&&b&&b.hasEnabledActions()&&this.position();a.$on("$destroy",this.destroy.bind(this));
this.destroyers_.push(a.$watch("provider",this.onProviderChange_.bind(this)));this.destroyers_.push(a.$watch("position",this.onPositionChange_.bind(this)))};os.ui.ActionMenuCtrl.prototype.destroy=function(){this.onProviderChange_(null,this.scope.provider);for(var a=0,b=this.destroyers_.length;a<b;a++)this.destroyers_[a]();this.key&&(goog.events.unlistenByKey(this.key),this.key=null);this.scope=this.timeout_=this.element=null};
os.ui.ActionMenuCtrl.prototype.killRightClick_=function(a){2===a.button&&(a.preventDefault(),a.stopPropagation())};os.ui.ActionMenuCtrl.prototype.invoke=function(a){var b=this.scope.provider;return a&&goog.isFunction(a.getEventType)?(os.metrics.Metrics.getInstance().updateMetric(a.getMetricKey(),1),b.invoke(a.getEventType()),!0):!1};goog.exportProperty(os.ui.ActionMenuCtrl.prototype,"invoke",os.ui.ActionMenuCtrl.prototype.invoke);
os.ui.ActionMenuCtrl.prototype.onPositionChange_=function(a,b){a!=b&&this.position()};os.ui.ActionMenuCtrl.prototype.onProviderChange_=function(a,b){b&&b.unlisten(os.ui.action.EventType.ENABLED_ACTIONS_CHANGED,this.onActionsChanged_,!1,this);a&&(this.onActionsChanged_(),a.listen(os.ui.action.EventType.ENABLED_ACTIONS_CHANGED,this.onActionsChanged_,!1,this))};
os.ui.ActionMenuCtrl.prototype.constructMenu_=function(a){if(!a)return[];var b={};goog.array.forEach(a,function(a){var c=a.getMenuOptions();if(c)if(c=c.menu){c=c.split(".");var e=goog.object.getValueByKeys(b,c);e?e[a.getTitle()]=a:(e={},e[a.getTitle()]=a,os.object.set(b,c,e))}else b[a.getTitle()]=a;else b[a.getTitle()]=a},this);a=[];this.insertMenuItems_(b,a);return a};
os.ui.ActionMenuCtrl.prototype.insertMenuItems_=function(a,b){goog.array.forEach(goog.object.getKeys(a),function(c){var d=a[c];if(d&&d.getMenuOptions&&d.getTitle)goog.array.binaryInsert(b,new os.ui.action.MenuItemAction(d),this.sortByDivisionThenOrder_);else if(goog.isObject(d)){var e=c.split("/");if(1<e.length){c=e[1];var f=e[0]}c=new os.ui.action.MenuItemList(c,new os.ui.action.MenuOptions(null,f));f=c.getItems();goog.array.binaryInsert(b,c,this.sortByDivisionThenOrder_);this.insertMenuItems_(d,
f)}},this);for(var c=void 0,d=0;d<b.length;d++){var e=void 0;e=(e=b[d].getMenuOptions())&&e.division;c!=e&&(0<d&&(goog.array.insertAt(b,new os.ui.action.MenuItemSeparator,d),d++),goog.isDefAndNotNull(e)&&(goog.array.insertAt(b,new os.ui.action.MenuItemSeparatorHeader(e.replace(/^[0-9]*:/,"")),d),d++));c=e}};
os.ui.ActionMenuCtrl.prototype.sortByDivisionThenOrder_=function(a,b){var c=a.getMenuOptions().division,d=b.getMenuOptions().division;return c===d?(a=a.getMenuOptions().order,b=b.getMenuOptions().order,a===b?1:a>b?1:-1):goog.isDefAndNotNull(c)?goog.isDefAndNotNull(d)?c===d?1:c>d?1:-1:-1:1};
os.ui.ActionMenuCtrl.prototype.position=function(){var a=this.element,b=this.scope.position||a.position();this.timeout(function(){a.removeClass("right-menu");if(goog.isObject(b)){var c=b.left||b.x,d=b.top||b.y,e=a.outerWidth(),f=a.outerHeight(),g=goog.dom.getViewportSize();c+e>g.width-5?(c=g.width-5-e,a.addClass("right-menu")):c+2*e>g.width-5&&a.addClass("right-menu");d=0>d?5:d;d+f>g.height-30&&(d=g.height-30-f);a.css("left",(0>c?5:c)+"px");a.css("top",d+"px")}else"right"==b&&a.addClass("right-menu");
a.css("visibility","visible")},25)};os.ui.ActionMenuCtrl.prototype.positionSubmenu=function(){this.timeout(goog.bind(function(){if(this.element){var a=this.element.find(".menu-item > .menu-container");if(a){var b=a.offset();if(goog.isObject(b)){b=b.top||b.y;var c=a.outerHeight(),d=goog.dom.getViewportSize();b=0>b?5:b;b+c>d.height-30&&(b=d.height-b-c-30,a.css("top",b+"px"))}}}},this),50)};goog.exportProperty(os.ui.ActionMenuCtrl.prototype,"positionSubmenu",os.ui.ActionMenuCtrl.prototype.positionSubmenu);
os.ui.ActionMenuCtrl.prototype.onActionsChanged_=function(){this.scope.actions=this.constructMenu_(this.scope.provider.getEnabledActions());os.ui.apply(this.scope)};os.ui.ActionMenuCtrl.prototype.addTitle=function(a,b){$(a).children().prepend(b)};os.ui.actionMenuDirective=function(){return{restrict:"E",replace:!0,templateUrl:os.ROOT+"views/menu/actionmenu.html",controller:os.ui.ActionMenuCtrl,controllerAs:"actionMenu",scope:{provider:"=",position:"=",visible:"@",flatten:"@",titletext:"@",titleselector:"@"}}};
os.ui.Module.directive("actionMenu",os.ui.actionMenuDirective);os.ui.GlobalMenuEventType={MENU_CLOSE:"menuclose"};os.ui.GlobalMenuCtrl=function(a,b,c){os.ui.ActionMenuCtrl.call(this,a,b,c);this.element.css("visibility","hidden");this.onDownBind_=this.onClick_.bind(this);this.listenerDelay_=new goog.async.Delay(this.onAddOutsideListener_,25,this)};goog.inherits(os.ui.GlobalMenuCtrl,os.ui.ActionMenuCtrl);os.ui.GlobalMenuCtrl.prototype.destroy=function(){os.ui.GlobalMenuCtrl.superClass_.destroy.call(this);this.listenerDelay_.dispose();this.listenerDelay_=null};
os.ui.GlobalMenuCtrl.prototype.close=function(a){goog.isDef(a)||(a=!0);"hidden"!=this.element.css("visibility")&&(a&&os.dispatcher&&os.dispatcher.dispatchEvent(os.ui.GlobalMenuEventType.MENU_CLOSE),this.element.css("visibility","hidden"),this.element.removeClass("right-menu"),this.element.blur());this.element.find("#globalMenuTitle").remove();a=goog.dom.getDocument();a.removeEventListener(goog.events.EventType.MOUSEDOWN,this.onDownBind_,!0);a.removeEventListener(goog.events.EventType.POINTERDOWN,
this.onDownBind_,!0);os.ui.apply(this.scope)};os.ui.GlobalMenuCtrl.prototype.open=function(){os.ui.apply(this.scope);this.listenerDelay_.start()};os.ui.GlobalMenuCtrl.prototype.onAddOutsideListener_=function(){var a=goog.dom.getDocument();a.addEventListener(goog.events.EventType.MOUSEDOWN,this.onDownBind_,!0);a.addEventListener(goog.events.EventType.POINTERDOWN,this.onDownBind_,!0)};os.ui.GlobalMenuCtrl.prototype.onClick_=function(a){$(a.target).closest("#globalMenu").length||this.close()};
os.ui.GlobalMenuCtrl.prototype.invoke=function(a){return os.ui.GlobalMenuCtrl.superClass_.invoke.call(this,a)&&!a.doNotCloseOnInvoke?(this.close(),!0):!1};
os.ui.GlobalMenuCtrl.prototype.position=function(){var a=this.element,b=this.scope.position||a.position();this.timeout(function(){if(goog.isObject(b)){var c=b.left||b.right||b.x,d=b.top||b.bottom||b.y,e=a.outerWidth(),f=a.outerHeight(),g=goog.dom.getViewportSize();c+e>g.width-5?(c=g.width-5-e,a.addClass("right-menu")):c+2*e>g.width-5&&a.addClass("right-menu");c=0>c?5:c;d=0>d?5:d;d+f>g.height-50&&(d=g.height-50-f);a.css("top","");a.css("bottom","");a.css("left","");a.css("right","");a.css(goog.isDef(b.right)?
"right":"left",c+"px");a.css(goog.isDef(b.bottom)?"bottom":"top",d+"px")}else"right"==b&&a.addClass("right-menu");a.css("visibility","visible")},5)};os.ui.openMenu=function(a,b,c,d,e){var f=angular.element("#globalMenu").scope();f.provider=a;a=f.actionMenu;os.ui.GlobalMenuCtrl.closeMenu();e&&a.addTitle("#globalMenu",'<div id="globalMenuTitle">'+e+"</div>");(e=os.ui.injector.get("$timeout"))?e(goog.partial(os.ui.positionMenu_,b,c,d)):os.ui.positionMenu_(b,c,d)};os.ui.GlobalMenuCtrl.closeMenu=function(){angular.element("#globalMenu").scope().actionMenu.close()};
os.ui.positionMenu_=function(a,b,c){var d=angular.element("#globalMenu"),e=d.scope(),f=e.actionMenu,g;goog.isString(b)?g=goog.isDefAndNotNull(c)?c.find(b):angular.element(b):goog.isDef(b)&&(g=b);b=a;goog.isDefAndNotNull(g)&&(e=g.offset(),e.top&&(e.top-=$(document).scrollTop()),goog.isString(a)?(b=a.split(/\s+/),a=b[0],b=1<b.length?parseInt(b[1],10):2,"right"==a?(a=e.left-d.outerWidth()+g.outerWidth(),g=e.top+g.outerHeight()+b,b={x:a,y:g}):"bottom"==a?(g=e.top-b,b={x:e.left,bottom:d.parent().outerHeight()-
g}):b={x:e.left,y:e.top+g.outerHeight()+b}):(b.x+=e.left,b.y+=e.top));e=d.scope();e.position=b;f.open()};os.ui.globalMenuDirective=function(){var a=os.ui.actionMenuDirective();a.scope=!0;a.controller=os.ui.GlobalMenuCtrl;return a};os.ui.Module.directive("globalMenu",os.ui.globalMenuDirective);os.ui.textPromptDirective=function(){return{restrict:"E",replace:!0,scope:!0,templateUrl:os.ROOT+"views/window/textprompt.html",controller:os.ui.TextPromptCtrl,controllerAs:"textPrompt"}};os.ui.Module.directive("textprompt",[os.ui.textPromptDirective]);
os.ui.TextPromptCtrl=function(a,b){this.element_=b;a.$on("$destroy",this.onDestroy_.bind(this));this.keyHandler_=new goog.events.KeyHandler(goog.dom.getDocument());this.keyHandler_.listen(goog.events.KeyHandler.EventType.KEY,this.handlKeyEvent_,!1,this);this.delay_=new goog.async.Delay(this.select_,50,this);a.$emit("window.ready");a.$watch("value",this.onValueChange_.bind(this))};os.ui.TextPromptCtrl.prototype.onDestroy_=function(){this.delay_.dispose();this.keyHandler_.dispose();this.element_=null};
os.ui.TextPromptCtrl.prototype.onValueChange_=function(a){a&&(this.delay_.stop(),this.delay_.start())};os.ui.TextPromptCtrl.prototype.select_=function(){this.element_.find("#main").select()};os.ui.TextPromptCtrl.prototype.handlKeyEvent_=function(a){a.keyCode==goog.events.KeyCodes.ESC&&this.close()};os.ui.TextPromptCtrl.prototype.close=function(){os.ui.window.close(this.element_)};goog.exportProperty(os.ui.TextPromptCtrl.prototype,"close",os.ui.TextPromptCtrl.prototype.close);
os.ui.launchTextPrompt=function(a){a=a||{};var b=a.windowOptions||{},c=b.height||"auto",d=b.width||450;os.ui.window.create({id:b.id,label:b.label||"Confirm",icon:b.icon||"",x:b.x||"center",y:b.y||"center",width:d,"min-width":b.minWidth||d,"max-width":b.maxWidth||d,height:c,"min-height":b.minHeight||c,"max-height":b.maxHeight||c,modal:null!=b.modal?b.modal:!0,"show-close":null!=b.showClose?b.showClose:!0,"no-scroll":null!=b.noScroll?b.noScroll:!0},"textprompt",void 0,void 0,void 0,{title:a.title,text:a.text,
value:a.value,text2:a.text2,value2:a.value2})};os.ui.text={};
os.ui.text.copy=function(a){if(a&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(a))){var b=document.createElement("textarea");b.style.top="-2000px";b.style.left="-2000px";b.style.width="2em";b.style.height="2em";b.value=a;document.body.appendChild(b);b.select();try{var c=document.execCommand("copy")}catch(d){}document.body.removeChild(b);c?(a=(20<a.length?"Value ":'"'+a+'" ')+" copied to clipboard",os.alert.AlertManager.getInstance().sendAlert(a,os.alert.AlertEventSeverity.INFO)):os.ui.window.create({id:"copy",
x:"center",y:"center",label:"Copy","show-close":!0,"no-scroll":!0,"min-width":200,"min-height":90,"max-width":1E3,"max-height":1E3,modal:!0,width:300,height:90,icon:"fa fa-copy"},"textprompt",void 0,void 0,void 0,{text:"Use Ctrl+C to copy",value:a})}};os.ui.slick.SlickGridUtils={};os.ui.slick.slickGridDirective={};os.ui.slick.SlickGridEvent={COMMIT_EDIT:"slickgrid.commitEdit",COPY_ROWS:"slickgrid.copyRows",HIGHLIGHT_CHANGE:"slickgrid.highlightChange",INVALIDATE_ROWS:"slickgrid.invalidateRows",INVALIDATE_COLUMNS:"slickgrid.invalidateColumns",ORDER_CHANGE:"slickgrid.orderChange",SELECTION_CHANGE:"slickgrid.selectionChange",SCROLL_TO:"slickgrid.scrollToItem",SCROLL_TO_CELL:"slickgrid.scrollToCell",SORT_SELECTED:"slickgrid.sortSelected"};
os.ui.slickGridDirective=function(){return{restrict:"AE",replace:!0,template:'<div class="slick-grid"></div>',scope:{data:"=",columns:"=",options:"=",contextMenu:"&",columnMenuEnabled:"@",dblClickEnabled:"@",dblClickHandler:"=?",dragEnabled:"@",resizeWith:"@",idField:"@",disableSelection:"@",selected:"=?",useAngular:"@",defaultSortColumn:"@",defaultSortOrder:"@",compare:"=?",getItemMetadata:"=?",rowScope:"=?"},controller:os.ui.slick.SlickGridCtrl,controllerAs:"gridCtrl"}};
os.ui.Module.directive("slickgrid",[os.ui.slickGridDirective]);
os.ui.slick.SlickGridCtrl=function(a,b,c){try{os.ui.injector.get("$animate").enabled(b,!1)}catch(f){}this.scope=a;this.element=b;this.compile=c;this.destroyers=[];this.dragging=!1;this.resizeFn=this.resize.bind(this);this.resizeDelay=new goog.async.Delay(this.doResize,50,this);this.copyLimit=1E5;this.copyLimitMsg=os.ui.slick.SlickGridCtrl.COPY_LIMIT_MSG;this.destroyers.push(a.$watch("data",this.onDataChange.bind(this)));this.destroyers.push(a.$watch("columns",this.onColumnsChange.bind(this)));this.destroyers.push(a.$watch("options",
this.onOptionsChange.bind(this)));this.destroyers.push(a.$watch("selected",this.onSelectedChange.bind(this)));this.destroyers.push(a.$on("$destroy",this.dispose.bind(this)));var d=a.$watch("defaultSortColumn",goog.bind(function(a){a&&setTimeout(goog.bind(function(){d();this.grid&&(this.grid.setSortColumn(a,"desc"!==this.scope.defaultSortOrder),this.onSortChange())},this),100)},this));this.columnMenu=a.columnMenuEnabled&&"false"!==a.columnMenuEnabled?os.ui.slick.createColumnActions():null;this.dataView=
new Slick.Data.DataView;goog.isDef(a.getItemMetadata)&&(this.dataView.getItemMetadata=a.getItemMetadata);c=this.getOptions();c.editable&&(this.element.addClass("editable"),this.scope.$on(os.ui.slick.SlickGridEvent.COMMIT_EDIT,this.onCommitEdit.bind(this)));this.grid=new Slick.Grid(b,this.dataView,this.getColumns(),c);this.dataView.onRowCountChanged.subscribe(this.onRowCountChanged.bind(this));this.dataView.onRowsChanged.subscribe(this.onRowsChanged_.bind(this));this.grid.onClick.subscribe(this.onItemClick.bind(this));
this.grid.onKeyDown.subscribe(this.onUserInteraction.bind(this));this.grid.onSelectedRowsChanged.subscribe(this.onGridSelectedChange.bind(this));this.grid.onSort.subscribe(this.onSortChange.bind(this));this.grid.onColumnsReordered.subscribe(this.onColumnsReordered_.bind(this));this.grid.onColumnsResized.subscribe(this.onColumnsResized_.bind(this));this.grid.onMouseEnter.subscribe(this.onMouseEnter.bind(this));this.grid.onMouseLeave.subscribe(this.onMouseLeave.bind(this));a.useAngular&&(this.grid.onRowRender.subscribe(this.onRowRender.bind(this)),
this.grid.onRowRemove.subscribe(this.onRowRemove.bind(this)),this.grid.onActiveCellChanged.subscribe(this.apply.bind(this)));if(this.selectionModel_=a.disableSelection?null:new Slick.RowSelectionModel)this.grid.setSelectionModel(this.selectionModel_),this.dataView.syncGridSelection(this.grid,!1);a.$on(os.ui.slick.SlickGridEvent.INVALIDATE_ROWS,this.invalidateRows.bind(this));a.$on(os.ui.slick.SlickGridEvent.INVALIDATE_COLUMNS,this.invalidateColumns.bind(this));a.$on(os.ui.slick.SlickGridEvent.COPY_ROWS,
this.onCopyRows.bind(this));a.$on(os.ui.slick.SlickGridEvent.SCROLL_TO,this.onScrollToItem.bind(this));a.$on(os.ui.slick.SlickGridEvent.SCROLL_TO_CELL,this.onScrollToCell.bind(this));a.$on(os.ui.slick.SlickGridEvent.SORT_SELECTED,this.onSortBySelectionChange.bind(this));a.$on("resize",this.resizeFn);a.dblClickEnabled&&"false"!==a.dblClickEnabled&&(goog.isDefAndNotNull(a.dblClickHandler)?this.grid.onDblClick.subscribe(a.dblClickHandler.bind(this)):this.grid.onDblClick.subscribe(this.onDblClick.bind(this)));
if(a.dragEnabled&&"false"!==a.dragEnabled){this.grid.onDragInit.subscribe(this.onDragInit.bind(this));this.grid.onDragStart.subscribe(this.onDragStart.bind(this));this.grid.onDrag.subscribe(this.onDrag.bind(this));this.grid.onDragEnd.subscribe(this.onDragEnd.bind(this));this.scrollTimer=new goog.Timer(20);this.magnitude_=0;var e=this.element.find(".slick-viewport");this.scrollTimer.listen(goog.Timer.TICK,function(){e.scrollTop(e.scrollTop()-this.magnitude_)},!1,this);this.element.addClass("dragdrop")}this.container_=
null;a.resizeWith?(this.container_=b.parents(a.resizeWith),this.container_.resize(this.resizeFn)):this.element.resize(this.resizeFn);this.contextMenu_=void 0;b=a.contextMenu&&a.contextMenu();this.setContextMenu(b||void 0);e=this.element.find(".slick-viewport");goog.events.listen(e[0],goog.events.EventType.CONTEXTMENU,this.onContextMenu_,!1,this);goog.events.listen(e[0],goog.events.EventType.MOUSEDOWN,os.events.killRightButton,!0);goog.events.listen(e[0],goog.events.EventType.MOUSEUP,os.events.killRightButton,
!0);this.scope.$on(goog.events.EventType.CONTEXTMENU,this.onContextMenu_.bind(this));this.columnMenu&&(this.columnMenu.listen(os.ui.slick.ColumnEventType.REMOVE,this.onColumnRemove,!1,this),this.columnMenu.listen(os.ui.slick.ColumnEventType.RESET,this.onColumnReset,!1,this),this.columnMenu.listen(os.ui.slick.ColumnEventType.FIRST,this.onColumnFirst,!1,this),this.columnMenu.listen(os.ui.slick.ColumnEventType.LAST,this.onColumnLast,!1,this),this.columnMenu.listen(os.ui.slick.ColumnEventType.MANAGE,
this.onColumnManager,!1,this),b=this.element.find(".slick-header"),goog.events.listen(b[0],goog.events.EventType.CONTEXTMENU,this.onHeaderContextMenu_,!1,this),a.$on(os.ui.slick.ColumnEventType.MANAGE,this.onColumnManager.bind(this)),a.$on(os.ui.slick.ColumnEventType.CONTEXTMENU,this.onHeaderContextMenu_.bind(this)));this.inInteraction=this.inEvent=!1;this.useExtractorInSort=!0};goog.inherits(os.ui.slick.SlickGridCtrl,goog.Disposable);os.ui.slick.SlickGridCtrl.DEFAULT_OPTIONS_={multiColumnSort:!0};
os.ui.slick.SlickGridCtrl.COPY_LIMIT_MSG="Data exceeds the maximum copy limit. Please reduce the selected/displayed data and try again.";
os.ui.slick.SlickGridCtrl.prototype.disposeInternal=function(){os.ui.slick.SlickGridCtrl.superClass_.disposeInternal.call(this);if(this.element){var a=this.element.find(".slick-header");goog.events.unlisten(a[0],goog.events.EventType.CONTEXTMENU,this.onHeaderContextMenu_,!1,this);a=this.element.find(".slick-viewport");goog.events.unlisten(a[0],goog.events.EventType.CONTEXTMENU,this.onContextMenu_,!1,this);goog.events.unlisten(a[0],goog.events.EventType.MOUSEDOWN,os.events.killRightButton,!0);goog.events.unlisten(a[0],
goog.events.EventType.MOUSEUP,os.events.killRightButton,!0)}goog.dispose(this.columnMenu);this.columnMenu=null;a=0;for(var b=this.destroyers.length;a<b;a++)this.destroyers[a]();this.destroyers.length=0;goog.dispose(this.resizeDelay);this.container_?(this.container_.off("resize"),this.container_=null):this.element.off("resize");this.selectionModel_&&(this.selectionModel_.destroy(),this.selectionModel_=null);this.scrollTimer&&this.scrollTimer.dispose();this.dataView&&this.dataView.setItems([]);this.grid&&
(this.grid.invalidateAllRows(),this.grid.destroy());this.dataView=this.grid=null;this.contextMenu_=void 0;this.element=null;this.scope=this.scope.data=null};os.ui.slick.SlickGridCtrl.prototype.getOptions=function(){var a=os.ui.slick.SlickGridCtrl.DEFAULT_OPTIONS_;this.scope.options&&(a=goog.object.clone(a),goog.object.extend(a,this.scope.options));return a};
os.ui.slick.SlickGridCtrl.prototype.getColumns=function(){for(var a=this.getColumnsInternal().slice(),b=a.length,c=[];b--;)this.isColumnVisible(a[b])||(c=a.splice(b,1).concat(c));return a};os.ui.slick.SlickGridCtrl.prototype.getColumnsInternal=function(){return this.scope.columns||[]};os.ui.slick.SlickGridCtrl.prototype.getColumnMenu=function(){return this.columnMenu};os.ui.slick.SlickGridCtrl.prototype.isColumnVisible=function(a){return!("visible"in a)||a.visible};
os.ui.slick.SlickGridCtrl.prototype.getData=function(){return this.scope.data||[]};os.ui.slick.SlickGridCtrl.prototype.getViewData=function(){return this.dataView?this.dataView.getItems():[]};os.ui.slick.SlickGridCtrl.prototype.getSelectedViewData=function(){var a=this.getSelectedRows();if(a&&a.length){a=a.slice().sort(goog.array.defaultCompare);var b=a.map(function(a){return this.dataView.getItemByIdx(a)},this).filter(os.fn.filterFalsey)}return b||[]};
os.ui.slick.SlickGridCtrl.prototype.copyRows=function(a){var b=this.getSelectedViewData();0===b.length&&(b=this.getViewData());a=a||goog.string.makeSafe;for(var c="",d=0;d<b.length;d++)if(c+=a(b[d])+"\n",c.length>this.copyLimit){os.alertManager.sendAlert(this.copyLimitMsg,os.alert.AlertEventSeverity.WARNING);c=void 0;break}c&&os.ui.text.copy(c.trim())};os.ui.slick.SlickGridCtrl.prototype.onRowsChanged_=function(a,b){this.isDisposed()||(this.grid.invalidateRows(b.rows),this.grid.render())};
os.ui.slick.SlickGridCtrl.prototype.onRowCountChanged=function(a,b){this.isDisposed()||(this.grid.updateRowCount(),this.isRowCountChangedReady_?this.grid.render():this.isRowCountChangedReady_=!0)};os.ui.slick.SlickGridCtrl.prototype.resize=function(){this.resizeDelay.start()};os.ui.slick.SlickGridCtrl.prototype.doResize=function(){this.grid.resizeCanvas();var a=this.getSelectedRows();a&&0<a.length&&this.grid.scrollRowIntoView(a[0],!1)};
os.ui.slick.SlickGridCtrl.prototype.onCopyRows=function(a,b){goog.isFunction(b)&&this.copyRows(b)};os.ui.slick.SlickGridCtrl.prototype.onScrollToItem=function(a,b,c){a=this.mapItemsToRows(b);goog.isDef(a)&&(c?this.grid.scrollRowToTop(a):this.grid.scrollRowIntoView(a,!1))};os.ui.slick.SlickGridCtrl.prototype.onScrollToCell=function(a,b,c){this.scrollToCell(b,c)};
os.ui.slick.SlickGridCtrl.prototype.scrollToCell=function(a,b){var c=this.dataView.getItems().length-1;a=Math.min(a||0,c||0);c=this.getColumns().length-1;b=Math.min(b||0,c||0);this.grid.scrollCellIntoView(a,b,!1)};os.ui.slick.SlickGridCtrl.prototype.onItemClick=function(a,b){this.onUserInteraction(a,b)};
os.ui.slick.SlickGridCtrl.prototype.onUserInteraction=function(a,b){a=a&&a.keyCode||0;a!=goog.events.KeyCodes.SHIFT&&a!=goog.events.KeyCodes.ALT&&a!=goog.events.KeyCodes.CTRL&&(this.inInteraction=!0,this.scope.$emit("userInteraction"),goog.async.nextTick(function(){this.inInteraction=!1},this))};os.ui.slick.SlickGridCtrl.prototype.updateData=function(a){this.grid.resetActiveCell();this.dataView.setItems(a,this.scope.idField||"id");if(this.grid.getSortColumns().length)this.onSortChange()};
os.ui.slick.SlickGridCtrl.prototype.onDataChange=function(a,b){this.updateData(this.getData())};os.ui.slick.SlickGridCtrl.prototype.onColumnsChange=function(a,b){a&&this.getColumns()==a||(this.grid.setColumns(this.getColumns()),this.setSelectedRows(this.getSelectedRows()))};os.ui.slick.SlickGridCtrl.prototype.onUserColumnsChange=function(a){a&&a.forEach(function(a){a.userModified=!0});this.onColumnsChange()};
os.ui.slick.SlickGridCtrl.prototype.onColumnsReordered_=function(a,b){if(!this.inEvent){this.inEvent=!0;a=this.grid.getColumns();b=this.getColumnsInternal();for(var c=[],d=0,e=0,f=a.length;d<f;d++,e++){for(;a[d].internal;)d++;for(;e<b.length&&!this.isColumnVisible(b[e]);)e++;if(a[d].id!=b[e].id){var g=goog.array.findIndex(b,os.ui.slick.column.findByField.bind(this,"id",a[d].id));if(-1<g){var h=e>g?e-1:e;goog.array.insert(c,b[g]);goog.array.insert(c,b[h]);goog.array.moveItem(b,g,h)}}}if(0<c.length)this.onUserColumnsChange(c);
this.inEvent=!1}};os.ui.slick.SlickGridCtrl.prototype.onColumnsResized_=function(a,b){if(!this.inEvent){this.inEvent=!0;a=[];b=this.getColumnsInternal();for(var c=this.element.find(".slick-header-column"),d=0,e=c.length;d<e;d++){var f=$(c[d]).outerWidth(),g=$(c[d]).data();0<f&&g&&g.column&&(g=goog.array.findIndex(b,os.ui.slick.column.findByField.bind(this,"id",g.column.id)),-1<g&&(b[g].width=f,a.push(b[g])))}if(0<a.length)this.onUserColumnsChange(a);this.inEvent=!1}};
os.ui.slick.SlickGridCtrl.prototype.onColumnReset=function(a){(a=a.getContext())&&a.grid===this&&(this.getColumnsInternal().forEach(function(a){a.visible=!0;a.width=Math.max(80,os.ui.measureText(a.name).width+20);a.userModified=!1}),this.onUserColumnsChange())};
os.ui.slick.SlickGridCtrl.prototype.onColumnRemove=function(a){var b=a.getContext();b&&b.grid===this&&b.column&&(a=this.getColumnsInternal(),b=goog.array.findIndex(a,os.ui.slick.column.findByField.bind(this,"id",b.column.id)),-1<b&&(a[b].visible=!1,this.onUserColumnsChange([a[b]])))};
os.ui.slick.SlickGridCtrl.prototype.onColumnAdd=function(a,b){var c=b.getContext();if(a&&c&&c.grid===this&&(b=this.getColumnsInternal(),a=goog.array.findIndex(b,os.ui.slick.column.findByField.bind(this,"id",a.id)),-1<a)){b[a].visible=!0;if(c.column&&c.column.id&&(c=goog.array.findIndex(b,os.ui.slick.column.findByField.bind(this,"id",c.column.id)),-1<c)){c>a&&c--;var d=b.splice(a,1);b.splice(c,0,d[0])}this.onUserColumnsChange([b[a]])}};
os.ui.slick.SlickGridCtrl.prototype.onColumnFirst=function(a){var b=a.getContext();b&&b.grid===this&&b.column&&(a=this.getColumnsInternal(),b=goog.array.findIndex(a,os.ui.slick.column.findByField.bind(this,"id",b.column.id)),-1<b&&(goog.array.moveItem(a,b,0),this.onUserColumnsChange([a[b]])))};
os.ui.slick.SlickGridCtrl.prototype.onColumnLast=function(a){var b=a.getContext();b&&b.grid===this&&b.column&&(a=this.getColumnsInternal(),b=goog.array.findIndex(a,os.ui.slick.column.findByField.bind(this,"id",b.column.id)),-1<b&&(goog.array.moveItem(a,b,a.length-1),this.onUserColumnsChange([a[b]])))};os.ui.slick.SlickGridCtrl.prototype.onColumnManager=function(a){(a=this.getColumnsInternal())&&os.ui.column.launchColumnManager(a,this.onUserColumnsChange.bind(this))};
os.ui.slick.SlickGridCtrl.prototype.getContextArgs=function(a){return this.scope.selected};os.ui.slick.SlickGridCtrl.prototype.setContextMenu=function(a){this.contextMenu_=a};os.ui.slick.SlickGridCtrl.prototype.getContextMenuFromSelected=function(){var a=this.scope.selected,b=null;if(a)for(var c=0,d=a.length;c<d;c++){var e=a[c];if(os.implements(e,os.ui.menu.IMenuSupplier.ID))if(e=e.getMenu(),!b)b=e;else{if(b.constructor!==e.constructor){b=null;break}}else{b=null;break}}return b||this.contextMenu_};
os.ui.slick.SlickGridCtrl.prototype.onContextMenu_=function(a,b){a.preventDefault();var c=null,d=0,e=0;a instanceof goog.events.BrowserEvent?(a.stopPropagation(),c=this.getContextArgs(a),d=a.clientX,e=a.clientY):b&&2==b.length&&(c=this.getContextArgs(),d=b[0],e=b[1]);a=this.getContextMenuFromSelected();null!=c&&(a instanceof os.ui.action.ActionManager?(a.withActionTarget(this),a.withActionArgs(c),a.refreshEnabledActions(),a.hasEnabledActions()&&os.ui.openMenu(a,{x:d,y:e})):a instanceof os.ui.menu.Menu&&
a.open(c,{my:"left top",at:"left+"+d+" top+"+e,of:"#win-container"},this))};
os.ui.slick.SlickGridCtrl.prototype.onHeaderContextMenu_=function(a,b){a.preventDefault();var c=0,d=0;if(a instanceof goog.events.BrowserEvent){a.stopPropagation();c=a.target;var e=goog.dom.classlist.contains(c,"slick-header-column")?a.target:goog.dom.getAncestorByClass(c,"slick-header-column");c=a.clientX;d=a.clientY}else b&&2==b.length&&(c=b[0],d=b[1]);this.columnMenu&&(a=e?$(e).data("column"):void 0,a&&a.internal||(this.columnMenu.withActionArgs({columns:this.getColumnsInternal(),column:a,grid:this}),
this.columnMenu.refreshEnabledActions(),os.ui.openMenu(this.columnMenu,{x:c,y:d})))};os.ui.slick.SlickGridCtrl.prototype.onOptionsChange=function(a,b){this.grid.setOptions(this.getOptions())};os.ui.slick.SlickGridCtrl.prototype.onSelectedChange=function(a,b){this.inEvent||(this.inEvent=!0,a?(a=goog.isArray(a)?a:[a],this.setSelectedRows(a.map(this.mapItemsToRows,this))):this.setSelectedRows([]),this.inInteraction||this.grid.resetActiveCell(),this.inEvent=!1)};
os.ui.slick.SlickGridCtrl.prototype.mapRowsToItems=function(a,b,c){return this.grid.getDataItem(a)};os.ui.slick.SlickGridCtrl.prototype.mapItemsToRows=function(a,b,c){return this.dataView.getRowById(a[this.scope.idField||"id"])};
os.ui.slick.SlickGridCtrl.prototype.onGridSelectedChange=function(a,b){if(!this.inEvent){this.inEvent=!0;if(a=b.rows)a=a.map(this.mapRowsToItems,this),a=this.grid.getOptions().multiSelect?a:a[0]||null,this.scope.selected=a,this.scope.$emit(os.ui.slick.SlickGridEvent.SELECTION_CHANGE,a),this.apply();this.inEvent=!1}};os.ui.slick.SlickGridCtrl.prototype.apply=function(){os.ui.apply(this.scope)};
os.ui.slick.SlickGridCtrl.prototype.onSortChange=function(a,b){this.dataView.beginUpdate();a=this.grid.getSortColumns();b=this.grid.getColumns();for(var c=0,d=a.length;c<d;c++)for(var e=0,f=b.length;e<f;e++)if(b[e].id==a[c].columnId){a[c].column=b[e];break}a=this.scope.compare||this.multiColumnSort.bind(this,this.grid.getSortColumns());this.dataView.sort(a);this.dataView.endUpdate();this.grid.resetActiveCell()};
os.ui.slick.SlickGridCtrl.prototype.multiColumnSort=function(a,b,c){for(var d=0,e=a.length;d<e;d++){var f=a[d].column.sortField||a[d].column.field,g=a[d].sortAsc?1:-1,h=null;this.useExtractorInSort&&this.scope.options&&(this.scope.options.dataItemColumnSortValueExtractor?h=this.scope.options.dataItemColumnSortValueExtractor:this.scope.options.dataItemColumnValueExtractor&&(h=this.scope.options.dataItemColumnValueExtractor));if(h){var k=h(b,f);f=h(c,f)}else k=b[f],f=c[f];h=typeof k;"string"===h&&((k=
k.trim())||(k=null));var l=typeof f;"string"===l&&((f=f.trim())||(f=null));if(null==k||null==f)return k==f?0:(null==k?1:-1)*g;var m=void 0;h!=l?"number"==h?(f=parseFloat(f),isNaN(f)&&(f=Number.MAX_VALUE*g)):"number"==l&&(k=parseFloat(k),isNaN(k)&&(f=Number.MAX_VALUE*g)):"function"==typeof k.compare?m=k.compare(f)*g:"number"!=h&&os.string.FLOAT.test(k)&&os.string.FLOAT.test(f)&&(k=parseFloat(k),f=parseFloat(f));void 0==m&&(m=(k>f?1:k<f?-1:0)*g);if(0!==m)return m}return 0};
os.ui.slick.SlickGridCtrl.prototype.onSortBySelectionChange=function(a,b){this.dataView.beginUpdate();a=this.grid.getSortColumns();b=this.grid.getColumns();for(var c=0,d=a.length;c<d;c++)for(var e=0,f=b.length;e<f;e++)if(b[e].id==a[c].columnId){a[c].column=b[e];break}a=this.grid.getData();b=this.getSelectedRows();a=a.mapRowsToIds(b);a=goog.object.createSet(a);a=this.selectColumnSort.bind(this,a,this.grid.getSortColumns());this.dataView.sort(a);this.dataView.endUpdate()};
os.ui.slick.SlickGridCtrl.prototype.selectColumnSort=function(a,b,c,d){var e=a[d.id];return a[c.id]===e?this.multiColumnSort.call(this,b,c,d):e?1:-1};os.ui.slick.SlickGridCtrl.prototype.onRowRender=function(a,b){a=this.scope.$new();goog.isObject(this.scope.rowScope)&&goog.object.extend(a,this.scope.rowScope);a.item=b.item;this.compile(b.node)(a)};os.ui.slick.SlickGridCtrl.prototype.onRowRemove=function(a,b){a=angular.element(b.node);b=a.scope();a.remove();b&&b.$destroy()};
os.ui.slick.SlickGridCtrl.prototype.setSelectedRows=function(a){goog.isDefAndNotNull(this.selectionModel_)&&this.grid.setSelectedRows(a)};os.ui.slick.SlickGridCtrl.prototype.getSelectedRows=function(){return goog.isDefAndNotNull(this.selectionModel_)?this.grid.getSelectedRows():[]};os.ui.slick.SlickGridCtrl.prototype.invalidateRows=function(){this.isDisposed()||(this.grid.invalidateAllRows(),this.grid.render(),this.dataView.refresh())};os.ui.slick.SlickGridCtrl.prototype.invalidateColumns=function(){this.onColumnsChange()};
os.ui.slick.SlickGridCtrl.prototype.onDblClick=function(a,b){this.inEvent||(this.inEvent=!0,a=angular.element(this.grid.getCellNode(b.row,b.cell)).text(),os.ui.text.copy(a),this.inEvent=!1)};os.ui.slick.SlickGridCtrl.prototype.onDragInit=function(a,b){a.stopImmediatePropagation();this.scope.$emit("slickgrid.onDragInit")};
os.ui.slick.SlickGridCtrl.prototype.onDragStart=function(a,b){var c=this.grid.getCellFromEvent(a);if(!c)return!1;var d=this.grid.getSelectedRows();if(0===d.length||-1===d.indexOf(c.row))d=[c.row];b.rows=d;if(!this.canDragRows(d))return!1;this.dragging=!0;c=0;for(var e=d.length;c<e;c++)$(this.grid.getCellNode(d[c],0)).parent().addClass("slick-dragging");a.stopImmediatePropagation();b.insertBefore=-1;a=this.grid.getOptions().rowHeight;c=this.grid.getCanvasNode();b.rect=$("<div class='slick-reorder-proxy'/>").css("position",
"absolute").css("zIndex","99999").css("width",$(c).innerWidth()).css("height",a*d.length).appendTo(c);b.guide=$("<div class='slick-reorder-guide'/>").css("position","absolute").css("zIndex","99998").css("width",$(c).innerWidth()).css("top",-1E3).appendTo(c);return!0};os.ui.slick.SlickGridCtrl.prototype.canDragRows=function(a){return!0};
os.ui.slick.SlickGridCtrl.prototype.calcPos=function(a){var b=a.pageY-$(this.grid.getCanvasNode()).offset().top,c=this.element.find(".slick-viewport");a=a.pageY-c.offset().top;c=15>a;var d=15>this.element.height()-a;c?this.magnitude_=2*Math.log(16-a):d&&(this.magnitude_=-2*Math.log(16+a-this.element.height()));c||d?this.scrollTimer.start():this.scrollTimer.stop();return b};
os.ui.slick.SlickGridCtrl.prototype.onDrag=function(a,b){if(!this.dragging)return!1;a.stopImmediatePropagation();var c=this.calcPos(a);a=this.grid.getOptions().rowHeight;b.rect.css("top",c-5);c=Math.max(0,Math.min(Math.round(c/a),this.grid.getDataLength()));c!==b.insertBefore&&(this.canDragMove(b.rows,c)?(b.guide.css("top",c*a),b.rect.css("background","blue"),b.canMove=!0):(b.guide.css("top",-1E3),b.rect.css("background","red"),b.canMove=!1),b.insertBefore=c);return!0};
os.ui.slick.SlickGridCtrl.prototype.canDragMove=function(a,b){if(isNaN(b))return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]==b||a[c]==b-1)return!1;return!0};
os.ui.slick.SlickGridCtrl.prototype.onDragEnd=function(a,b){this.scrollTimer.stop();if(!this.dragging)return!1;this.dragging=!1;a.stopImmediatePropagation();b.guide.remove();b.rect.remove();a=b.rows;for(var c=0,d=a.length;c<d;c++)$(this.grid.getCellNode(a[c],0)).parent().removeClass("slick-dragging");b.canMove&&(this.doMove(b.rows,b.insertBefore),this.scope.$emit(os.ui.slick.SlickGridEvent.ORDER_CHANGE));return!0};
os.ui.slick.SlickGridCtrl.prototype.doMove=function(a,b){var c=[],d=this.getData(),e=d.slice(0,b),f=d.slice(b,d.length);a.sort(os.ui.slick.SlickGridCtrl.rowSort);for(var g=0,h=a.length;g<h;g++)c.push(d[a[g]]);a.reverse();g=0;for(h=a.length;g<h;g++)d=a[g],d<b?e.splice(d,1):f.splice(d-b,1);d=e.concat(c.concat(f));b=[];g=0;for(h=a.length;g<h;g++)b.push(e.length+g);this.scope.data=d;this.onDataChange()};
os.ui.slick.SlickGridCtrl.prototype.onMouseEnter=function(a,b){this.inEvent||(this.inEvent=!0,a=this.grid.getCellFromEvent(a).row,a=this.grid.getDataItem(a),this.scope.$emit(os.ui.slick.SlickGridEvent.HIGHLIGHT_CHANGE,a),this.inEvent=!1)};os.ui.slick.SlickGridCtrl.prototype.onMouseLeave=function(a,b){this.inEvent||(this.inEvent=!0,this.scope.$emit(os.ui.slick.SlickGridEvent.HIGHLIGHT_CHANGE,null),this.inEvent=!1)};
os.ui.slick.SlickGridCtrl.prototype.onCommitEdit=function(a){this.grid&&this.grid.getEditorLock().isActive()&&this.grid.getEditorLock().commitCurrentEdit()};os.ui.slick.SlickGridCtrl.rowSort=function(a,b){return a-b};os.ui.slick.SlickGridUtils.calculateTableHeight=function(a){var b=a.find(".slick-header");a=a.find(".slick-viewport .slick-row");var c=b.outerHeight(!0);a.each(function(){c+=$(this).outerHeight(!0)});return c};os.ui.util.autoHeightDirective=function(){return{restrict:"A",scope:{siblings:"@",height:"@autoheight",minHeight:"@minheight"},controller:os.ui.util.AutoHeightCtrl}};os.ui.Module.directive("autoheight",[os.ui.util.autoHeightDirective]);
os.ui.util.AutoHeightCtrl=function(a,b,c){this.scope_=a;this.element_=b;this.height_=1;this.initHeight_();this.resizeFn_=this.onResize_.bind(this);b=b.parent();b.resize(this.resizeFn_);(c=a.siblings)&&b.find(c).resize(this.resizeFn_);os.ui.waitForAngular(this.onResize_.bind(this));a.$on("$destroy",this.onDestroy_.bind(this))};
os.ui.util.AutoHeightCtrl.prototype.onDestroy_=function(){var a=this.element_.parent();a.removeResize(this.resizeFn_);var b=this.scope_.siblings;if(b)try{a.find(b).removeResize(this.resizeFn_)}catch(c){}this.scope_=this.element_=this.resizeFn_=null};os.ui.util.AutoHeightCtrl.prototype.initHeight_=function(){if(this.scope_.height){var a=Number(this.scope_.height.replace(/%/,""));isNaN(a)||100<a||0>=a?a=1:1<a&&100>=a&&(a/=100);this.height_=a}};
os.ui.util.AutoHeightCtrl.prototype.onResize_=function(){if(this.element_){var a=this.element_.parent(),b=0,c=this.scope_.siblings;c&&a.find(c).each(function(a){b+=$(this).outerHeight(!0)});c=Number(this.scope_.minHeight)||0;a=Math.max((a.height()-b)*this.height_,c);this.element_.css("height",a+"px")}};os.ui.propertyInfoDirective=function(){return{restrict:"E",scope:{feature:"="},templateUrl:os.ROOT+"views/propertyinfo.html",controller:os.ui.PropertyInfoCtrl,controllerAs:"info"}};os.ui.Module.directive("propertyinfo",[os.ui.propertyInfoDirective]);
os.ui.PropertyInfoCtrl=function(a){this.scope_=a;this.scope_.gridCols=os.ui.PropertyInfoCtrl.GRID_COLUMNS_;this.scope_.gridOptions={enableColumnReorder:!1,forceFitColumns:!0,multiColumnSort:!1,multiSelect:!1,defaultFormatter:os.ui.slick.formatter.urlNewTabFormatter,enableAsyncPostRender:!0};a.$watch("feature",this.onPropertyChange_.bind(this));a.$on("$destroy",this.destroy_.bind(this))};
os.ui.PropertyInfoCtrl.GRID_COLUMNS_=[{id:"field",field:"field",name:"Field",sortable:!0,width:40},{id:"value",field:"value",name:"Value",sortable:!0}];os.ui.PropertyInfoCtrl.prototype.destroy_=function(){this.scope_=null};os.ui.PropertyInfoCtrl.prototype.onPropertyChange_=function(a,b){this.scope_.lon=void 0;this.scope_.lat=void 0;this.scope_.description=void 0;this.scope_.properties=[];if(a){a=this.scope_.feature;for(var c in a)this.scope_.properties.push({id:c,field:c,value:a[c]})}};
os.ui.launchPropertyInfo=function(a,b,c){var d="Property Info";c&&(d+=" for "+c);a=goog.string.buildString("propertyInfo",a);os.ui.window.exists(a)?os.ui.window.bringToFront(a):os.ui.window.create({id:a,label:d,icon:"fa fa-map-marker lt-blue-icon",x:"center",y:"center",width:"400","min-width":"200","max-width":"800",height:"300","min-height":"200","max-height":"600","show-close":"true"},'<propertyinfo feature="feature"></propertyinfo>',void 0,void 0,void 0,{feature:b})};
goog.exportSymbol("os.ui.launchPropertyInfo",os.ui.launchPropertyInfo);os.ui.formatter.PropertiesFormatter=function(a,b,c,d,e){if(!c)return"";if("string"===typeof c)return c;d.asyncPostRender=os.ui.SlickPropertiesAsyncRenderer;return'<div class="location-properties-link">Show Properties</div>'};
os.ui.SlickPropertiesAsyncRenderer=function(a,b,c,d){if(c){var e=c.get(os.Fields.ID).toString(),f=c.get(os.Fields.PROPERTIES);if(f instanceof Object&&"string"===typeof e){b=$(a);a=a.ownerDocument;var g=a.defaultView||a.parentWindow;goog.object.forEach(f,os.ui.processProperty);b.click(function(){os.inIframe(g)?os.ui.launchPropertyInfo(e,f):g.os.ui.launchPropertyInfo(e,f)})}}};os.ui.processProperty=function(a,b,c){goog.isObject(a)&&delete c[b]};os.ui.featureInfoCellDirective=function(){return{restrict:"E",scope:{property:"="},replace:!0,templateUrl:os.ROOT+"views/featureinfocell.html",controller:os.ui.FeatureInfoCellCtrl,controllerAs:"cell"}};os.ui.Module.directive("featureinfocell",[os.ui.featureInfoCellDirective]);os.ui.FeatureInfoCellCtrl=function(a,b,c){this.scope_=a;this.element_=b;this.sce_=c;this.copyValue_="";this.init_();a.$on("$destroy",this.destroy_.bind(this))};
os.ui.FeatureInfoCellCtrl.prototype.destroy_=function(){this.sce_=this.element_=this.scope_=null};
os.ui.FeatureInfoCellCtrl.prototype.init_=function(){var a=this.scope_.property,b=a.value;this.scope_.type="";b&&(this.scope_.ca=new os.ui.columnactions.SimpleColumnActionModel(a.field),this.scope_.actions=os.ui.columnactions.ColumnActionManager.getInstance().getActions(null,this.scope_.ca,b),a.field==os.Fields.PROPERTIES&&"object"===typeof b?this.scope_.type="prop":0<this.scope_.actions.length?(this.scope_.type="ca",1==this.scope_.actions.length&&(this.scope_.action=this.scope_.actions[0].getAction(b),
this.scope_.description=this.scope_.actions[0].getDescription())):os.fields.DESC_REGEXP.test(a.field)?this.scope_.type="desc":(this.copyValue_=this.scope_.property.value,this.scope_.property.value=this.sce_.trustAsHtml("<span>"+os.ui.formatter.urlNewTabFormatter(b)+"</span>"),this.element_.parent().dblclick(this.onDblClick_.bind(this))))};os.ui.FeatureInfoCellCtrl.prototype.showDescription=function(){this.scope_.$emit(os.ui.FeatureInfoCtrl.SHOW_DESCRIPTION)};
goog.exportProperty(os.ui.FeatureInfoCellCtrl.prototype,"showDescription",os.ui.FeatureInfoCellCtrl.prototype.showDescription);os.ui.FeatureInfoCellCtrl.prototype.viewProperties=function(){var a=this.scope_.property.feature,b=a.get(os.Fields.PROPERTIES);a=a.get(os.Fields.ID);b instanceof Object&&"string"===typeof a&&os.ui.launchPropertyInfo(a,b)};goog.exportProperty(os.ui.FeatureInfoCellCtrl.prototype,"viewProperties",os.ui.FeatureInfoCellCtrl.prototype.viewProperties);
os.ui.FeatureInfoCellCtrl.prototype.pickColumnAction=function(){os.ui.columnactions.launchColumnActionPrompt(this.scope_.actions,this.scope_.property.value,this.scope_.ca)};goog.exportProperty(os.ui.FeatureInfoCellCtrl.prototype,"pickColumnAction",os.ui.FeatureInfoCellCtrl.prototype.pickColumnAction);os.ui.FeatureInfoCellCtrl.prototype.onDblClick_=function(){os.ui.text.copy(this.copyValue_)};os.ui.featureInfoDirective=function(){return{restrict:"E",scope:{feature:"="},templateUrl:os.ROOT+"views/featureinfo.html",controller:os.ui.FeatureInfoCtrl,controllerAs:"info"}};os.ui.Module.directive("featureinfo",[os.ui.featureInfoDirective]);
os.ui.FeatureInfoCtrl=function(a,b){goog.Disposable.call(this);this.scope=a;this.scope.tab="properties";this.scope.columnToOrder="field";this.scope.reverse=!1;this.scope.selected=null;this.element=b;this.changeKey_=null;os.unit.UnitManager.getInstance().listen(goog.events.EventType.PROPERTYCHANGE,this.updateGeometry,!1,this);os.dispatcher.listen(os.data.FeatureEventType.VALUECHANGE,this.onValueChange,!1,this);a.$watch("feature",this.onFeatureChange.bind(this));a.$on(os.ui.FeatureInfoCtrl.SHOW_DESCRIPTION,
this.showDescription.bind(this));a.$on("$destroy",this.dispose.bind(this))};goog.inherits(os.ui.FeatureInfoCtrl,goog.Disposable);os.ui.FeatureInfoCtrl.SHOW_DESCRIPTION="os.ui.FeatureInfoCtrl.showDescription";
os.ui.FeatureInfoCtrl.prototype.disposeInternal=function(){os.ui.FeatureInfoCtrl.superClass_.disposeInternal.call(this);this.changeKey_&&(ol.events.unlistenByKey(this.changeKey_),this.changeKey_=null);os.unit.UnitManager.getInstance().unlisten(goog.events.EventType.PROPERTYCHANGE,this.updateGeometry,!1,this);os.dispatcher.unlisten(os.data.FeatureEventType.VALUECHANGE,this.onValueChange,!1,this);this.scope=this.element=null};
os.ui.FeatureInfoCtrl.prototype.onValueChange=function(a){if(a&&this.scope){var b=this.scope.feature;b&&b.id===a.id&&(this.updateGeometry(),this.updateProperties(),os.ui.apply(this.scope))}};os.ui.FeatureInfoCtrl.prototype.onFeatureChangeEvent=function(a){this.updateGeometry();this.updateProperties();os.ui.apply(this.scope)};
os.ui.FeatureInfoCtrl.prototype.onFeatureChange=function(a){this.isDisposed()||(this.changeKey_&&(ol.events.unlistenByKey(this.changeKey_),this.changeKey_=null),this.updateGeometry(),this.updateProperties(),a&&(this.changeKey_=ol.events.listen(a,ol.events.EventType.CHANGE,this.onFeatureChangeEvent,this)))};
os.ui.FeatureInfoCtrl.prototype.updateGeometry=function(){if(this.scope){this.scope.lon=void 0;this.scope.lat=void 0;this.scope.alt=void 0;var a=this.scope.feature;if(a&&(a=a.getGeometry(),a instanceof ol.geom.Point&&(a=a.getFirstCoordinate(),(a=ol.proj.toLonLat(a,os.map.PROJECTION))&&1<a.length&&(this.scope.lon=a[0],this.scope.lat=a[1],2<a.length)))){var b=os.unit.UnitManager.getInstance();this.scope.alt=b.formatToBestFit("distance",a[2],os.math.Units.METERS,b.getBaseSystem(),2)}}};
os.ui.FeatureInfoCtrl.prototype.updateProperties=function(){if(this.scope){this.scope.description=!1;this.scope.properties=[];var a=this.scope.feature;if(a){var b=a.getProperties(),c=b[os.data.RecordField.HTML_DESCRIPTION];c||(c=goog.object.findValue(b,function(a,b){return os.fields.DESC_REGEXP.test(b)&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(a))})||"");if(goog.string.isEmptyOrWhitespace(goog.string.makeSafe(c)))this.scope.tab="properties";else{c=c.replace(/<a /g,'<a target="_blank" ');
this.scope.description=!0;var d=this.element.find("iframe")[0];d&&(d=d.contentWindow.document,d.open(),d.write(c),d.close())}if(c=a.get(os.data.RecordField.TIME))this.scope.properties.push({id:"TIME",field:"TIME",value:c}),delete b.TIME;for(var e in b)e===os.Fields.GEOTAG?this.scope.properties.push({id:os.Fields.GEOTAG,field:os.Fields.GEOTAG,value:b[os.data.RecordField.SOURCE_ID],CX:!0}):e===os.Fields.PROPERTIES?this.scope.properties.push({id:e,field:e,value:b[e],feature:a}):!os.feature.isInternalField(e)&&
os.object.isPrimitive(b[e])&&this.scope.properties.push({id:e,field:e,value:b[e]})}}};os.ui.FeatureInfoCtrl.prototype.order=function(a){this.scope.columnToOrder=a;this.scope.reverse=!this.scope.reverse};goog.exportProperty(os.ui.FeatureInfoCtrl.prototype,"order",os.ui.FeatureInfoCtrl.prototype.order);os.ui.FeatureInfoCtrl.prototype.select=function(a,b){this.scope.selected=this.scope.selected==b&&a.ctrlKey?null:b};goog.exportProperty(os.ui.FeatureInfoCtrl.prototype,"select",os.ui.FeatureInfoCtrl.prototype.select);
os.ui.FeatureInfoCtrl.prototype.showProperties=function(a){this.scope.tab="properties"};goog.exportProperty(os.ui.FeatureInfoCtrl.prototype,"showProperties",os.ui.FeatureInfoCtrl.prototype.showProperties);os.ui.FeatureInfoCtrl.prototype.showDescription=function(a){this.scope.tab="description"};goog.exportProperty(os.ui.FeatureInfoCtrl.prototype,"showDescription",os.ui.FeatureInfoCtrl.prototype.showDescription);
os.ui.launchFeatureInfo=function(a,b,c){b=b||"Feature Info";c=c||"featureinfo";var d=!1;if(os.ui.window.exists("featureInfo")){var e=document.querySelector(".window#featureInfo"),f=e.querySelector(".window-wrapper");if(0===goog.dom.getFirstElementChild(f).tagName.toLowerCase().indexOf(c.toLowerCase())){angular.element(goog.dom.getFirstElementChild(e)).scope().label=b;if(e=angular.element(e).find(".feature-info-window").scope())e.feature=a,os.ui.apply(e);os.ui.window.bringToFront("featureInfo")}else os.ui.window.close(angular.element(e)),
d=!0}else d=!0;d&&os.ui.window.create({id:"featureInfo",label:b,icon:"fa fa-map-marker lt-blue-icon",key:"featureinfo",x:"center",y:"center",width:450,"min-width":200,"max-width":0,height:350,"min-height":200,"max-height":0,"show-close":!0},"<"+c+' feature="feature"></'+c+">",void 0,void 0,void 0,{feature:a})};os.ui.menu.MenuEvent=function(a,b,c){goog.events.Event.call(this,a,c);this.context_=b};goog.inherits(os.ui.menu.MenuEvent,goog.events.Event);os.ui.menu.MenuEvent.prototype.getContext=function(){return this.context_};os.ui.menu.MenuItemType={ROOT:"root",ITEM:"item",SEPARATOR:"separator",GROUP:"group",SUBMENU:"submenu",CHECK:"check",RADIO:"radio"};os.ui.menu.UnclickableTypes=[os.ui.menu.MenuItemType.GROUP,os.ui.menu.MenuItemType.SUBMENU,os.ui.menu.MenuItemType.SEPARATOR];
os.ui.menu.MenuItem=function(a){this.type=a.type||os.ui.menu.MenuItemType.ITEM;this.eventType=a.eventType;this.metricKey=a.metricKey;this.label=a.label;this.visible=goog.isDef(a.visible)?a.visible:!0;this.enabled=goog.isDef(a.enabled)?a.enabled:!0;this.selected=a.selected;this.icons=a.icons;this.tooltip=a.tooltip;this.shortcut=a.shortcut;this.sort=a.sort||0;this.children=goog.isDef(a.children)?a.children.map(function(a){return new os.ui.menu.MenuItem(a)}):void 0;this.beforeRender=a.beforeRender;this.handler=
a.handler};os.ui.menu.MenuItem.prototype.find=function(a){if(this.label===a||this.eventType===a)return this;var b=null;if(this.children)for(var c=0,d=this.children.length;c<d&&!(b=this.children[c].find(a));c++);return b};os.ui.menu.MenuItem.prototype.addChild=function(a){a=a instanceof os.ui.menu.MenuItem?a:new os.ui.menu.MenuItem(a);this.children||(this.children=[]);this.children.push(a);return a};
os.ui.menu.MenuItem.prototype.removeChild=function(a){var b=!1;this.children&&(b=goog.array.removeIf(this.children,function(b){return b.eventType===a||b.label===a}),this.children.length||(this.children=void 0));return b};
os.ui.menu.MenuItem.prototype.render=function(a,b){this.beforeRender&&this.beforeRender(a,b);var c=os.ui.menu.MenuItemType,d=this.visible,e=this.enabled,f=goog.isDef(this.type)?this.type:c.ITEM,g=goog.isDef(this.tooltip)?this.tooltip:"",h="",k="";if((f===c.ROOT||f===c.SUBMENU||f===c.GROUP)&&this.children){this.children.sort(os.ui.menu.MenuItem.sort_);for(var l=0,m=this.children.length;l<m;l++)k+=this.children[l].render(a,b)}if(f===c.ROOT)return k;k||f!==c.SUBMENU||(e=!1);k||f!==c.GROUP||(d=!1);if(!d)return h;
h+='<li class="';f===c.GROUP&&(h+="menu-item nav-header ");e||(h+="ui-state-disabled");if(f===c.SEPARATOR)return h+'">-</li>';f!==c.SUBMENU&&f!==c.GROUP&&(h+='" evt-type="'+(this.eventType||this.label)+'"');h+='" title="'+g+'">';this.shortcut&&(h+='<span class="menu-item-hotkey">'+this.shortcut+"</span>");f===c.CHECK&&(h+='<i class="fa fw fa-'+(this.selected?"check-":"")+'square-o"></i>');f===c.RADIO&&(h+='<i class="fa fw fa-'+(this.selected?"dot-":"")+'circle-o"></i>');if(this.icons)for(l=0,m=this.icons.length;l<
m;l++)h+=this.icons[l];h+='<span class="ellipsis-text">'+this.label+"</span>";h+=f===c.SUBMENU?"<ul>":"</div></li>";h+=k;f===c.SUBMENU&&(h+="</ul></li>");f===c.GROUP&&(h+="<li>-</li>");return h};os.ui.menu.MenuItem.sort_=function(a,b){return goog.array.defaultCompare(a.sort,b.sort)||goog.array.defaultCompare(a.label,b.label)};os.ui.menu.Menu=function(a){goog.events.EventTarget.call(this);this.root_=a;this.target_=this.context_=void 0;this.listenerDelay_=new goog.async.Delay(this.onAddOutsideListener_,25,this)};goog.inherits(os.ui.menu.Menu,goog.events.EventTarget);os.ui.menu.Menu.prototype.disposeInternal=function(){os.ui.menu.Menu.superClass_.disposeInternal.call(this);this.close();this.listenerDelay_.dispose()};os.ui.menu.Menu.prototype.getRoot=function(){return this.root_};
os.ui.menu.Menu.prototype.setRoot=function(a){this.root_=a};os.ui.menu.Menu.prototype.onClick_=function(a){$(a.target).closest("#menu").length||this.close()};
os.ui.menu.Menu.prototype.open=function(a,b,c){this.close();this.context_=a||void 0;this.target_=c||this;a=this.getRoot().render(this.context_,this.target_);a=('<ul id="menu">'+a+"</ul>").replace(/<ul><li>-<\/li>/g,"<ul>");a=a.replace(/<li>-<\/li><\/ul>/g,"</ul>");/<li(\s|>)/.test(a)&&(this.menu_=$(a),b=b||{},b.within=b.within||"#win-container",b.collision=b.collision||"fit",$(document.body).append(this.menu_.menu({items:"> :not(.nav-header)",select:this.onSelect.bind(this)})),this.menu_.position(b),
this.listenerDelay_.start(),os.ui.apply(os.ui.injector.get("$rootScope")))};os.ui.menu.Menu.prototype.onAddOutsideListener_=function(){this.onRemoveOutsideListener_();var a=goog.dom.getDocument();goog.events.listen(a,goog.events.EventType.MOUSEDOWN,this.onClick_,!0,this);goog.events.listen(a,goog.events.EventType.POINTERDOWN,this.onClick_,!0,this)};
os.ui.menu.Menu.prototype.onRemoveOutsideListener_=function(){var a=goog.dom.getDocument();goog.events.unlisten(a,goog.events.EventType.MOUSEDOWN,this.onClick_,!0,this);goog.events.unlisten(a,goog.events.EventType.POINTERDOWN,this.onClick_,!0,this)};
os.ui.menu.Menu.prototype.onSelect=function(a,b){(b=b.item.attr("evt-type"))&&(a=this.getRoot().find(b))&&a.enabled&&-1===os.ui.menu.UnclickableTypes.indexOf(a.type)&&(b=new os.ui.menu.MenuEvent(b,this.context_,this.target_),a.handler?a.handler(b):this.dispatchEvent(b),a.metricKey&&os.metrics.Metrics.getInstance().updateMetric(a.metricKey,1),this.close())};
os.ui.menu.Menu.prototype.close=function(a){this.menu_&&((null!=a?a:1)&&os.dispatcher&&os.dispatcher.dispatchEvent(os.ui.GlobalMenuEventType.MENU_CLOSE),this.menu_.remove(),this.menu_=null);this.target_=this.context_=void 0;this.onRemoveOutsideListener_();os.ui.apply(os.ui.injector.get("$rootScope"))};os.ui.menu.Menu.prototype.dispatchEvent=function(a){var b=os.ui.menu.Menu.superClass_.dispatchEvent.call(this,a);a=a.defaultPrevented?!1:os.dispatcher.dispatchEvent(a);return b||a};os.ui.menu.spatial={};os.ui.menu.SpatialMenu=function(a){os.ui.menu.Menu.call(this,a)};goog.inherits(os.ui.menu.SpatialMenu,os.ui.menu.Menu);
os.ui.menu.SpatialMenu.prototype.open=function(a,b,c){if(goog.isArray(a)){var d=os.MapContainer.getInstance();a=a.map(function(a){var b=null;a instanceof os.data.AreaNode?b=a.getArea():a instanceof os.data.DrawingFeatureNode&&(b=a.getFeature());return b?{feature:b,geometry:b.getGeometry(),layer:d.getLayer(b.get(os.data.RecordField.SOURCE_ID)),map:d.getMap()}:a});a.length?1===a.length&&(a=a[0]):a=void 0}a&&os.ui.menu.SpatialMenu.superClass_.open.call(this,a,b,c)};
os.ui.menu.spatial.Group={QUERY:"Query",EXCLUDE:"Exclude",FEATURES:"Features",TOOLS:"Tools",AREA:"Area"};os.ui.menu.SPATIAL=void 0;
os.ui.menu.spatial.setup=function(){var a=os.ui.menu.SPATIAL;a||(a=os.ui.menu.SPATIAL=new os.ui.menu.SpatialMenu(new os.ui.menu.MenuItem({type:os.ui.menu.MenuItemType.ROOT,beforeRender:os.ui.menu.spatial.updateTemporaryItems,children:[{label:os.ui.menu.spatial.Group.QUERY,type:os.ui.menu.MenuItemType.GROUP,sort:10,children:[{label:"Load",eventType:os.action.EventType.LOAD,tooltip:"Clear queries, then query for this area for all layers",icons:['<i class="fa fa-fw fa-circle-o"></i>'],sort:0,beforeRender:os.ui.menu.spatial.visibleIfPolygonal},
{label:"Add",eventType:os.action.EventType.ADD,tooltip:"Add a query for this area for all layers",icons:['<i class="fa fa-fw fa-plus-circle"></i>'],sort:1,beforeRender:os.ui.menu.spatial.visibleIfPolygonal}]},{label:os.ui.menu.spatial.Group.EXCLUDE,type:os.ui.menu.MenuItemType.GROUP,sort:20,children:[{label:"Set",eventType:os.action.EventType.EXCLUDE,tooltip:"Clear exclusions, then add an exclusion area for all layers",icons:['<i class="fa fa-fw fa-ban"></i>'],sort:0,beforeRender:os.ui.menu.spatial.visibleIfPolygonal},
{label:"Add",eventType:os.action.EventType.ADD_EXCLUDE,tooltip:"Add an exclusion area for all layers",icons:['<i class="fa fa-fw fa-minus-circle"></i>'],sort:1,beforeRender:os.ui.menu.spatial.visibleIfPolygonal}]},{label:os.ui.menu.spatial.Group.FEATURES,type:os.ui.menu.MenuItemType.GROUP,sort:30,children:[{label:"Feature Info",eventType:os.action.EventType.FEATURE_INFO,tooltip:"Show detailed metadata for the feature",icons:['<i class="fa fa-fw fa-info-circle"></i>'],sort:10,beforeRender:os.ui.menu.spatial.visibleIfInLayer},
{label:"Select",eventType:os.action.EventType.SELECT,tooltip:"Select features in this area",icons:['<i class="fa fa-fw fa-check-circle"></i>'],sort:20,beforeRender:os.ui.menu.spatial.visibleIfPolygonal},{label:"Select Exclusive",eventType:os.action.EventType.SELECT_EXCLUSIVE,tooltip:"Select only features in this area, deselecting features outside of the area",icons:['<i class="fa fa-fw fa-check-circle"></i>'],sort:30,beforeRender:os.ui.menu.spatial.visibleIfPolygonal},{label:"Deselect",eventType:os.action.EventType.DESELECT,
tooltip:"Deselect features in this area",icons:['<i class="fa fa-fw fa-times-circle"></i>'],sort:40,beforeRender:os.ui.menu.spatial.visibleIfPolygonal},{label:"Remove Features in Area",eventType:os.action.EventType.REMOVE_FEATURES,tooltip:"Remove features in this area from the map",icons:['<i class="fa fa-fw fa-times"></i>'],sort:50,beforeRender:os.ui.menu.spatial.visibleIfPolygonal},{label:"Remove Feature",eventType:os.action.EventType.REMOVE_FEATURE,tooltip:"Remove the feature from the layer",icons:['<i class="fa fa-fw fa-times"></i>'],
sort:60,beforeRender:os.ui.menu.spatial.visibleIfInLayer}]},{label:os.ui.menu.spatial.Group.TOOLS,type:os.ui.menu.MenuItemType.GROUP,sort:40,children:[{label:"Zoom",eventType:os.ui.action.EventType.ZOOM,tooltip:"Zoom the map to the feature(s)",icons:['<i class="fa fa-fw fa-crop"></i>']},{label:"Modify Area...",eventType:os.action.EventType.MODIFY_AREA,tooltip:"Modify the area",icons:['<i class="fa fa-fw fa-edit"></i>'],beforeRender:os.ui.menu.spatial.visibleIfCanModify}]},{label:os.ui.menu.spatial.Group.AREA,
type:os.ui.menu.MenuItemType.GROUP,sort:50,children:[{label:os.ui.query.SAVE_WIN_LABEL,eventType:os.action.EventType.SAVE,tooltip:"Save the area for future use",icons:['<i class="fa fa-fw fa-save"></i>'],sort:10,beforeRender:os.ui.menu.spatial.visibleIfCanSave},{label:os.ui.query.EDIT_WIN_LABEL,eventType:os.action.EventType.EDIT,tooltip:"Edit area information such as title/description",icons:['<i class="fa fa-fw fa-pencil"></i>'],sort:20,beforeRender:os.ui.menu.spatial.visibleIfInAreaManager},{label:"Enable Area",
eventType:os.action.EventType.ENABLE,tooltip:"Enable the area",icons:['<i class="fa fa-fw fa-check-square-o"></i>'],sort:30,beforeRender:os.ui.menu.spatial.visibleIfNotShown},{label:"Disable Area",eventType:os.action.EventType.DISABLE,tooltip:"Disable the area",icons:['<i class="fa fa-fw fa-square-o"></i>'],sort:40,beforeRender:os.ui.menu.spatial.visibleIfShown},{label:"Export...",eventType:os.action.EventType.EXPORT,tooltip:"Export the area",icons:['<i class="fa fa-fw fa-download"></i>'],sort:50,
beforeRender:os.ui.menu.spatial.visibleIfInAreaManager},{label:"Merge...",eventType:os.action.EventType.MERGE_AREAS,tooltip:"Merge selected areas into a new area",icons:['<i class="fa fa-fw fa-link"></i>'],sort:60,beforeRender:os.ui.menu.spatial.visibleIfHasMultiple},{label:"Remove Area",eventType:os.action.EventType.REMOVE_AREA,tooltip:"Remove the area",icons:['<i class="fa fa-fw fa-times"></i>'],sort:70,beforeRender:os.ui.menu.spatial.visibleIfInAreaManager}]}]})),a.listen(os.action.EventType.LOAD,
os.ui.menu.spatial.onMenuEvent),a.listen(os.action.EventType.ADD,os.ui.menu.spatial.onMenuEvent),a.listen(os.action.EventType.EXCLUDE,os.ui.menu.spatial.onMenuEvent),a.listen(os.action.EventType.ADD_EXCLUDE,os.ui.menu.spatial.onMenuEvent),a.listen(os.action.EventType.FEATURE_INFO,os.ui.menu.spatial.onMenuEvent),a.listen(os.action.EventType.SAVE,os.ui.menu.spatial.onMenuEvent),a.listen(os.action.EventType.EDIT,os.ui.menu.spatial.onMenuEvent),a.listen(os.action.EventType.ENABLE,os.ui.menu.spatial.onMenuEvent),
a.listen(os.action.EventType.DISABLE,os.ui.menu.spatial.onMenuEvent),a.listen(os.action.EventType.REMOVE_AREA,os.ui.menu.spatial.onMenuEvent),a.listen(os.action.EventType.MODIFY_AREA,os.ui.menu.spatial.onMenuEvent),a.listen(os.action.EventType.MERGE_AREAS,os.ui.menu.spatial.onMenuEvent),a.listen(os.action.EventType.EXPORT,os.ui.menu.spatial.onMenuEvent))};os.ui.menu.spatial.dispose=function(){goog.dispose(os.ui.menu.SPATIAL);os.ui.menu.SPATIAL=void 0};
os.ui.menu.spatial.getGeometriesFromContext=function(a){return a&&(a=(goog.isArray(a)?a:[a]).map(function(a){var b=a.geometry;b||(a=a.feature)&&(b=a.getGeometry());return b}).filter(os.fn.filterFalsey),a.length)?a:[]};os.ui.menu.spatial.getFeaturesFromContext=function(a){return a&&(a=(goog.isArray(a)?a:[a]).map(function(a){return a.feature}).filter(os.fn.filterFalsey),a.length)?a:[]};
os.ui.menu.spatial.featuresInAreaManager=function(a){if(0<a.length){for(var b=0,c=a.length;b<c;b++){var d=a[b];if(!d||!os.ui.areaManager.get(d))return!1}return!0}return!1};os.ui.menu.spatial.hasMultiple=function(a){return!!(a&&1<a.length)};os.ui.menu.spatial.hasSingle=function(a){return!(!a||1!==a.length&&goog.isArray(a))};os.ui.menu.spatial.inAreaManager=function(a){if(!os.ui.menu.spatial.isPolygonal(a))return!1;a=os.ui.menu.spatial.getFeaturesFromContext(a);return os.ui.menu.spatial.featuresInAreaManager(a)};
os.ui.menu.spatial.isPolygonal=function(a){a=os.ui.menu.spatial.getGeometriesFromContext(a);if(a.length){for(var b=0;b<a.length;b++)if(!os.geo.isGeometryPolygonal(a[b]))return!1;return!0}return!1};os.ui.menu.spatial.visibleIfHasMultiple=function(a){this.visible=os.ui.menu.spatial.hasMultiple(a)};os.ui.menu.spatial.visibleIfPolygonal=function(a){this.visible=os.ui.menu.spatial.isPolygonal(a)};
os.ui.menu.spatial.visibleIfInLayer=function(a){var b=os.query.AreaManager.getInstance();this.visible=!!a&&!!a.feature&&!!a.layer&&!b.contains(a.feature)};os.ui.menu.spatial.visibleIfCanModify=function(a){if(os.ui.areaManager&&os.ui.menu.spatial.hasSingle(a)&&os.ui.menu.spatial.isPolygonal(a)){var b=2;a=os.ui.menu.spatial.getFeaturesFromContext(a);a.length&&!os.ui.areaManager.get(a[0])&&(b=1);this.visible=os.ui.areaManager.getAll().length>=b}else this.visible=!1};
os.ui.menu.spatial.visibleIfInAreaManager=function(a){this.visible=os.ui.menu.spatial.inAreaManager(a)};os.ui.menu.spatial.visibleIfCanSave=function(a){this.visible=os.ui.menu.spatial.isPolygonal(a)&&!os.ui.menu.spatial.inAreaManager(a)};os.ui.menu.spatial.visibleIfShown=function(a){a=os.ui.menu.spatial.getFeaturesFromContext(a);if(a.length){for(var b=0,c=a.length;b<c;b++){var d=a[b];if(!os.ui.areaManager.get(d)||!1===d.get("shown")){this.visible=!1;return}}this.visible=!0}else this.visible=!1};
os.ui.menu.spatial.visibleIfNotShown=function(a){a=os.ui.menu.spatial.getFeaturesFromContext(a);if(a.length){for(var b=0,c=a.length;b<c;b++){var d=a[b];if(!os.ui.areaManager.get(d)||d.get("shown")){this.visible=!1;return}}this.visible=!0}else this.visible=!1};
os.ui.menu.spatial.onMenuEvent=function(a,b){var c=a.getContext();if(c){goog.isArray(c)||(c=[c]);for(var d=[],e=[],f=0,g=c.length;f<g;f++){var h=c[f].feature,k=c[f].geometry;if(k){var l=os.ui.areaManager,m=os.ui.queryManager;h=h||new ol.Feature(k);switch(a.type){case os.action.EventType.LOAD:case os.action.EventType.ADD:e.push(h);d.push(new os.ui.query.cmd.AreaAdd(h,!0,!1,a.type===os.action.EventType.ADD,b));break;case os.action.EventType.EXCLUDE:case os.action.EventType.ADD_EXCLUDE:e.push(h);d.push(new os.ui.query.cmd.AreaAdd(h,
!1,!0,a.type===os.action.EventType.ADD_EXCLUDE,b));break;case os.action.EventType.SAVE:case os.action.EventType.EDIT:if(k=os.feature.getSource(h)){var n=k.getColumns();h=h.clone();h.set(os.data.RecordField.SOURCE_NAME,k.getTitle(),!0)}os.ui.query.AreaManager.save(h,n);break;case os.action.EventType.ENABLE:case os.action.EventType.DISABLE:d.push(new os.command.AreaToggle(h,a.type===os.action.EventType.ENABLE));break;case os.action.EventType.REMOVE_AREA:d.push(new os.ui.query.cmd.AreaRemove(h));break;
case os.action.EventType.MODIFY_AREA:k={ui:"os-modifyarea"};l.get(h)?k.area=h:(k.targetArea=h,k.op=os.ui.query.ui.ModifyOp.ADD);os.ui.query.ui.launchModifyArea(k);break;case os.action.EventType.MERGE_AREAS:case os.action.EventType.EXPORT:e.push(h);break;case os.action.EventType.FEATURE_INFO:k=(k=c[f].layer)?k.getTitle():void 0,os.ui.launchFeatureInfo(h,k)}}}}if(e.length){switch(a.type){case os.action.EventType.LOAD:case os.action.EventType.ADD:case os.action.EventType.EXCLUDE:case os.action.EventType.ADD_EXCLUDE:for(f=
0,g=e.length;f<g;f++)(b=l.get(e[f]))&&!b.get("shown")&&d.push(new os.command.AreaToggle(b,!0))}if(a.type===os.action.EventType.MERGE_AREAS)os.ui.query.AreaManager.merge(e,"mergeareas");else if(a.type===os.action.EventType.EXPORT)a.preventDefault(),a.stopPropagation(),os.ui.ex.AreaExportCtrl.start(e);else if(a.type===os.action.EventType.LOAD||a.type===os.action.EventType.EXCLUDE)for(l=l.getAll(),f=0,g=l.length;f<g;f++)(b=l[f])&&b.get("shown")&&(c=m.hasArea(b),a.type===os.action.EventType.LOAD&&1<c&&
-1===e.indexOf(b)&&d.push(new os.command.AreaToggle(b,!1)),a.type!==os.action.EventType.EXCLUDE||1!==c&&3!==c||b==h||d.push(new os.command.AreaToggle(b,!1)))}d.length&&(1===d.length?os.command.CommandProcessor.getInstance().addCommand(d[0]):(a=new os.command.SequenceCommand,a.setCommands(d),a.title=d[d.length-1].title.replace("Add","Set"),os.command.CommandProcessor.getInstance().addCommand(a)))};
os.ui.menu.spatial.getLayers=function(a){var b=os.ui.queryManager.getLayerSet(),c=[],d=!0;goog.isDef(a)&&(d=0<os.ui.queryManager.getEntries("*",a,null).length)&&(a=void 0);for(var e in b){var f=os.MapContainer.getInstance().getLayer(e);try{f&&(goog.isDef(a)&&(d=0<os.ui.queryManager.getEntries(e,a,null).length),c.push({id:e,label:b[e],type:f.getExplicitType()?f.getExplicitType():"other",enabled:d}))}catch(g){}}c.sort(function(a,b){return goog.string.caseInsensitiveCompare(a.label,b.label)});return c};
os.ui.menu.spatial.updateTemporaryItems=function(a){var b=this.find(os.ui.menu.spatial.Group.QUERY),c=this.find(os.ui.menu.spatial.Group.EXCLUDE);if(b&&c){for(;b.removeChild("Choose Layers"););for(;c.removeChild("Choose Layers"););if(os.ui.menu.spatial.isPolygonal(a)){a=os.ui.menu.spatial.getLayers();for(var d={},e=0,f=0;f<a.length;f++){var g=a[f].type;d[g]||(d[g]=0,e++);d[g]++}0<e&&b&&c&&(os.ui.menu.spatial.addLayerSubMenu(b,os.action.EventType.ADD,d),os.ui.menu.spatial.addLayerSubMenu(c,os.action.EventType.ADD_EXCLUDE,
d))}}};
os.ui.menu.spatial.addLayerSubMenu=function(a,b,c){var d=a.addChild({label:"Choose Layers",type:os.ui.menu.MenuItemType.SUBMENU,sort:10}),e=d.addChild({type:os.ui.menu.MenuItemType.GROUP,label:"By Layer Type",sort:0}),f=0,g;for(g in c){var h=goog.string.toTitleCase(g);e.addChild({label:h+" ("+c[g]+")",eventType:b+":"+g,handler:os.ui.menu.spatial.onLayerPicker_,tooltip:a.label+" area for layes of type ("+h+")",sort:f++})}d.addChild({label:"Custom...",eventType:b+":"+os.action.EventType.CUSTOM,handler:os.ui.menu.spatial.onLayerPicker_,
sort:f})};os.ui.menu.spatial.layerChooser=function(){return{restrict:"E",templateUrl:os.ROOT+"views/action/layerchooser.html",controller:os.ui.menu.spatial.LayerChooserCtrl,controllerAs:"layerchooser"}};os.ui.Module.directive("layerchooser",[os.ui.menu.spatial.layerChooser]);os.ui.menu.spatial.LayerChooserCtrl=function(a,b){this.scope_=a;this.element_=b};os.ui.menu.spatial.LayerChooserCtrl.prototype.valid=function(){return!goog.array.find(this.scope_.layers,function(a){return a.enabled})};
goog.exportProperty(os.ui.menu.spatial.LayerChooserCtrl.prototype,"valid",os.ui.menu.spatial.LayerChooserCtrl.prototype.valid);os.ui.menu.spatial.LayerChooserCtrl.prototype.accept=function(){this.scope_.event.type=this.scope_.action;var a=[];goog.array.forEach(this.scope_.layers,function(b){b.enabled&&a.push(b.id)});os.ui.menu.spatial.onMenuEvent(this.scope_.event,a);this.close()};goog.exportProperty(os.ui.menu.spatial.LayerChooserCtrl.prototype,"accept",os.ui.menu.spatial.LayerChooserCtrl.prototype.accept);
os.ui.menu.spatial.LayerChooserCtrl.prototype.close=function(){os.ui.window.close(this.element_)};goog.exportProperty(os.ui.menu.spatial.LayerChooserCtrl.prototype,"close",os.ui.menu.spatial.LayerChooserCtrl.prototype.close);
os.ui.menu.spatial.onLayerPicker_=function(a){var b=a.type.split(":"),c=b[0],d=b[1];b=null;b=(b=a.getContext())&&b.feature?os.ui.menu.spatial.getLayers(b.feature.getId()):os.ui.menu.spatial.getLayers();if(d==os.action.EventType.CUSTOM)os.ui.window.create({id:"spatiallayerchooser",label:"Choose Layers",icon:"fa fa-align-justify orange-icon",x:"center",y:"center",width:"350",height:"500","min-width":"300","max-width":"1000","min-height":"250","max-height":"1000",modal:"true","show-close":"true"},"<layerchooser></layerchooser>",
void 0,void 0,void 0,{event:a,action:c,layers:b});else{var e=[];goog.object.forEach(b,function(a){a.type==d&&e.push(a.id)});a.type=c;os.ui.menu.spatial.onMenuEvent(a,e)}};os.ui.node.DrawingFeatureNodeUITemplate='<span class="glyphs pull-right slick-node-ui" ng-if="nodeUi.show()"><span ng-click="nodeUi.remove()"><i class="fa fa-times fa-fw glyph glyph-remove"title="Remove the feature"></i></span></span>';os.ui.node.drawingFeatureNodeUIDirective=function(){return{restrict:"AE",replace:!0,template:os.ui.node.DrawingFeatureNodeUITemplate,controller:os.ui.node.DrawingFeatureNodeUICtrl,controllerAs:"nodeUi"}};os.ui.Module.directive("drawingfeaturenodeui",[os.ui.node.drawingFeatureNodeUIDirective]);
os.ui.node.DrawingFeatureNodeUICtrl=function(a,b){os.ui.slick.AbstractNodeUICtrl.call(this,a,b)};goog.inherits(os.ui.node.DrawingFeatureNodeUICtrl,os.ui.slick.AbstractNodeUICtrl);os.ui.node.DrawingFeatureNodeUICtrl.prototype.remove=function(){var a=this.scope.item,b=a.getFeature();b&&(a.getParent().removeChild(a),os.MapContainer.getInstance().removeFeature(b))};goog.exportProperty(os.ui.node.DrawingFeatureNodeUICtrl.prototype,"remove",os.ui.node.DrawingFeatureNodeUICtrl.prototype.remove);os.data.DrawingFeatureNode=function(a){os.ui.slick.SlickTreeNode.call(this);this.nodeUI="<drawingfeaturenodeui></drawingfeaturenodeui>";this.feature_=null;this.hasFeatureConfig_=!1;this.setFeature(a)};goog.inherits(os.data.DrawingFeatureNode,os.ui.slick.SlickTreeNode);os.implements(os.data.DrawingFeatureNode,os.ui.menu.IMenuSupplier.ID);os.data.DrawingFeatureNode.ORIGINAL_STYLE="_originalStyle";os.data.DrawingFeatureNode.prototype.getMenu=function(){return os.ui.menu.SPATIAL};
os.data.DrawingFeatureNode.prototype.setState=function(a){os.data.DrawingFeatureNode.superClass_.setState.call(this,a);this.feature_&&(a=os.feature.getLayer(this.feature_).getSource(),this.getState()===os.structs.TriState.OFF?(this.feature_.values_[os.style.StyleField.OPACITY]=0,this.hasFeatureConfig_&&this.feature_.unset(os.style.StyleType.HIGHLIGHT,!0),os.style.setFeatureStyle(this.feature_)):(this.feature_.values_[os.style.StyleField.OPACITY]=void 0,this.hasFeatureConfig_?os.style.setFeatureStyle(this.feature_):
this.feature_.setStyle(this.feature_.get(os.data.DrawingFeatureNode.ORIGINAL_STYLE))),os.feature.update(this.feature_,a))};os.data.DrawingFeatureNode.prototype.getFeature=function(){return this.feature_};
os.data.DrawingFeatureNode.prototype.setFeature=function(a){if(this.feature_!==a&&(this.feature_=a,this.feature_.enableEvents(),!a.get(os.style.StyleType.FEATURE)&&(a=os.data.DrawingFeatureNode.ORIGINAL_STYLE,!this.feature_.get(a)))){var b=this.feature_.getStyle();this.feature_.set(a,goog.isArray(b)?b:[b],!0)}this.updateFromFeature()};
os.data.DrawingFeatureNode.prototype.updateFromFeature=function(){var a=this.feature_;a&&(this.hasFeatureConfig_=!!a.get(os.style.StyleType.FEATURE),this.setLabel(a.get("title")||a.get("label")||a.get("name")||String(a.getId())),a=a.get(os.style.StyleField.OPACITY),this.setState(0===a?os.structs.TriState.OFF:os.structs.TriState.ON))};os.data.DrawingFeatureNode.prototype.formatIcons=function(){return this.feature_?this.feature_.get("icons")||this.feature_.get("icon")||"":""};
os.data.DrawingFeatureNode.prototype.onMouseEnter=function(){if(this.feature_&&this.getState()!==os.structs.TriState.OFF){if(this.hasFeatureConfig_)this.feature_.set(os.style.StyleType.HIGHLIGHT,os.style.DEFAULT_HIGHLIGHT_CONFIG,!0),os.style.setFeatureStyle(this.feature_);else{var a=this.feature_.get(os.data.DrawingFeatureNode.ORIGINAL_STYLE).map(os.data.DrawingFeatureNode.mapStyles_);this.feature_.setStyle(a)}(a=os.feature.getLayer(this.feature_))&&os.style.notifyStyleChange(a,[this.feature_])}};
os.data.DrawingFeatureNode.mapStyles_=function(a){if(a){a=a.clone();var b=[0,255,255,.5],c=[0,255,255,1],d,e=a.getImage();if(e instanceof ol.style.Circle||e instanceof ol.style.RegularShape)(d=e.getFill())&&d.setColor(b),(d=e.getStroke())&&d.setColor(c);(d=a.getStroke())&&d.setColor(c);(d=a.getFill())&&d.setColor(b);return a}return null};
os.data.DrawingFeatureNode.prototype.onMouseLeave=function(){if(this.feature_&&this.getState()!==os.structs.TriState.OFF){this.hasFeatureConfig_?(this.feature_.unset(os.style.StyleType.HIGHLIGHT,!0),os.style.setFeatureStyle(this.feature_)):this.feature_.setStyle(this.feature_.get(os.data.DrawingFeatureNode.ORIGINAL_STYLE));var a=os.feature.getLayer(this.feature_);a&&os.style.notifyStyleChange(a,[this.feature_])}};os.data.DataProviderEventType={ADD_PROVIDER:"addDataProvider",REMOVE_PROVIDER:"removeDataProvider",EDIT_PROVIDER:"editDataProvider",MANAGE_PROVIDERS:"manageDataProviders",CHECK_PROVIDERS:"checkDataProviders",PROVIDERS_CONFIGURED:"providersConfigured",LOADING:"dataProviderLoading",LOADED:"dataProviderLoaded",ERROR:"dataProviderError"};os.data.DataProviderEvent=function(a,b,c,d){goog.events.Event.call(this,a);this.dataProvider=b||null;this.providerType=c||null;this.message=d||null};
goog.inherits(os.data.DataProviderEvent,goog.events.Event);os.data.IDataProvider=function(){};os.data.IDataProvider.prototype.getEnabled=goog.abstractMethod;os.data.IDataProvider.prototype.setEnabled=goog.abstractMethod;os.data.IDataProvider.prototype.getEditable=goog.abstractMethod;os.data.IDataProvider.prototype.includeInServers=goog.abstractMethod;os.data.IDataProvider.prototype.getError=goog.abstractMethod;os.data.IDataProvider.prototype.getErrorMessage=goog.abstractMethod;os.data.ProviderEntry=function(a,b,c,d,e,f){this.type=a.toLowerCase();this.clazz=b;this.title=c;this.desc=d;this.ui=e||null;this.fileDetection=f||null};os.dataManager=null;os.data.IDataManager=function(){};os.data.IUrlDescriptor=function(){};os.data.IUrlDescriptor.ID="os.data.IUrlDescriptor";os.data.ILoadingProvider=function(){};os.ui.data={};os.ui.data.BaseProvider=function(){os.ui.slick.SlickTreeNode.call(this);this.log=os.ui.data.BaseProvider.LOGGER_;this.editable_=this.enabled_=!1;this.listInServers=!0;this.providerType=os.ui.data.BaseProvider.TYPE};goog.inherits(os.ui.data.BaseProvider,os.ui.slick.SlickTreeNode);os.ui.data.BaseProvider.LOGGER_=goog.log.getLogger("os.ui.data.BaseProvider");os.ui.data.BaseProvider.ID_DELIMITER="#";os.ui.data.BaseProvider.TYPE="default";
os.ui.data.BaseProvider.prototype.configure=function(a){this.setEnabled(a.enabled);this.setLabel(a.label)};os.ui.data.BaseProvider.prototype.load=function(a){};os.ui.data.BaseProvider.prototype.getEnabled=function(){return this.enabled_};os.ui.data.BaseProvider.prototype.setEnabled=function(a){var b=this.enabled_!==a;this.enabled_=a;b&&this.dispatchEvent(new os.events.PropertyChangeEvent("children",null,a))};os.ui.data.BaseProvider.prototype.getEditable=function(){return this.editable_};
os.ui.data.BaseProvider.prototype.setEditable=function(a){this.editable_=a};os.ui.data.BaseProvider.prototype.includeInServers=function(){return this.listInServers};os.ui.data.BaseProvider.prototype.getError=function(){return!1};os.ui.data.BaseProvider.prototype.getCheckboxDisabled=function(){return!0};os.ui.data.BaseProvider.prototype.getErrorMessage=goog.abstractMethod;
os.ui.data.BaseProvider.prototype.getUniqueId=function(){for(var a=this.getId()+os.ui.data.BaseProvider.ID_DELIMITER+goog.string.getRandomString(),b=!1;!b;)b=(b=this.getChildren())?!goog.array.some(b,function(b){return b.getId()==a}):!0,a=this.getId()+os.ui.data.BaseProvider.ID_DELIMITER+goog.string.getRandomString();return a};os.ui.server={};os.ui.server.AbstractLoadingServer=function(){os.ui.data.BaseProvider.call(this);this.url="";this.alternateUrls_=null;this.nextUrl_=0;this.error_=!1;this.errorMsg_=null;this.ping_=this.inhibitPopups_=!1};goog.inherits(os.ui.server.AbstractLoadingServer,os.ui.data.BaseProvider);os.ui.server.AbstractLoadingServer.prototype.init=function(){this.setState(os.structs.TriState.OFF)};
os.ui.server.AbstractLoadingServer.prototype.configure=function(a){os.ui.server.AbstractLoadingServer.superClass_.configure.call(this,a);this.setUrl(a.url);this.init()};os.ui.server.AbstractLoadingServer.prototype.load=function(a){this.dispatchEvent(new os.data.DataProviderEvent(os.data.DataProviderEventType.LOADING,this));this.setLoading(!0);this.setPing(a||!1);this.setError(!1)};os.ui.server.AbstractLoadingServer.prototype.isLoaded=function(){return!0};
os.ui.server.AbstractLoadingServer.prototype.finish=function(){this.setLoading(!1);this.dispatchEvent(new os.data.DataProviderEvent(os.data.DataProviderEventType.LOADED,this))};os.ui.server.AbstractLoadingServer.prototype.formatIcons=function(){var a=os.ui.server.AbstractLoadingServer.superClass_.formatIcons.call(this);this.getError()&&(a+='<i class="fa fa-warning orange-icon" title="Server failed to load. See the log/alerts window for details."></i>');return a};
os.ui.server.AbstractLoadingServer.prototype.getUrl=function(){return this.url};os.ui.server.AbstractLoadingServer.prototype.setUrl=function(a){this.url=a};os.ui.server.AbstractLoadingServer.prototype.getAlternateUrls=function(){return this.alternateUrls_};os.ui.server.AbstractLoadingServer.prototype.setAlternateUrls=function(a){this.alternateUrls_=a?a.slice():null};
os.ui.server.AbstractLoadingServer.prototype.addAlternateUrl=function(a){this.alternateUrls_?-1==this.alternateUrls_.indexOf(a)&&this.alternateUrls_.push(a):this.alternateUrls_=[a]};os.ui.server.AbstractLoadingServer.prototype.removeAlternateUrl=function(a){this.alternateUrls_&&(goog.array.remove(this.alternateUrls_,a),0==this.alternateUrls_.length&&(this.alternateUrls_=null))};
os.ui.server.AbstractLoadingServer.prototype.getNextUrl=function(){var a=[this.url];this.alternateUrls_&&(a=a.concat(this.alternateUrls_));this.nextUrl_>=a.length&&(this.nextUrl_=0);return a[this.nextUrl_++]||""};os.ui.server.AbstractLoadingServer.prototype.getError=function(){return this.error_};os.ui.server.AbstractLoadingServer.prototype.setError=function(a){(this.error_=a)||this.setErrorMessage(null);this.dispatchEvent(new os.events.PropertyChangeEvent("icons"))};
os.ui.server.AbstractLoadingServer.prototype.getErrorMessage=function(){return this.errorMsg_};os.ui.server.AbstractLoadingServer.prototype.setErrorMessage=function(a){(this.errorMsg_=a)&&this.setError(!0)};os.ui.server.AbstractLoadingServer.prototype.getInhibitPopups=function(){return this.inhibitPopups_};os.ui.server.AbstractLoadingServer.prototype.setInhibitPopups=function(a){this.inhibitPopups_=a};os.ui.server.AbstractLoadingServer.prototype.getPing=function(){return this.ping_};
os.ui.server.AbstractLoadingServer.prototype.setPing=function(a){this.ping_=a};os.ui.server.AbstractLoadingServer.prototype.isLoading=function(){return this.isLoading_};goog.exportProperty(os.ui.server.AbstractLoadingServer.prototype,"isLoading",os.ui.server.AbstractLoadingServer.prototype.isLoading);os.ui.server.AbstractLoadingServer.prototype.setLoading=function(a){this.isLoading_!=a&&(this.isLoading_=a,this.dispatchEvent(new os.events.PropertyChangeEvent("loading",a,!a)))};
os.ui.server.AbstractLoadingServer.prototype.onChildChange=function(a){this.isLoading()||os.ui.server.AbstractLoadingServer.superClass_.onChildChange.call(this,a)};os.data.DataManager=function(){goog.events.EventTarget.call(this);this.log=os.data.DataManager.LOGGER_;this.providerTypes_={};this.descriptorTypes_={};this.providerRoot_=new os.ui.slick.SlickTreeNode;this.descriptors_={};this.persistDelay_=new goog.async.Delay(this.persistDescriptors,50,this);this.migrateDescriptors_()};goog.inherits(os.data.DataManager,goog.events.EventTarget);goog.addSingletonGetter(os.data.DataManager);os.data.DataManager.LOGGER_=goog.log.getLogger("os.data.DataManager");
os.data.DataManager.prototype.registerProviderType=function(a){a.type in this.providerTypes_?goog.log.warning(this.log,'The provider type "'+a.type+'" has already been registered with the data manager!'):this.providerTypes_[a.type]=a};os.data.DataManager.prototype.getProviderEntry=function(a){return a&&a in this.providerTypes_?this.providerTypes_[a]:null};
os.data.DataManager.prototype.getProviderTypeByFile=function(a){var b=null,c=0,d;for(d in this.providerTypes_){var e=this.providerTypes_[d];if(e.fileDetection){var f=e.fileDetection(a);f>c&&(b=e.type,c=f)}}return b};os.data.DataManager.prototype.getProviderTypeByClass=function(a){for(var b in this.providerTypes_){var c=this.providerTypes_[b];if(c.clazz===a)return c.type}return null};
os.data.DataManager.prototype.registerDescriptorType=function(a,b,c){a=a.toLowerCase();if(a in this.descriptorTypes_)if(c)goog.log.warning(this.log,'The descriptor type "'+a+'" is being overridden!');else{goog.log.error(this.log,'The descriptor type "'+a+'" already exists!');return}this.descriptorTypes_[a]=b};
os.data.DataManager.prototype.createProvider=function(a){if(a){a=a.toLowerCase();if(a in this.providerTypes_){var b=null;try{b=this.providerTypes_[a].clazz.getInstance()}catch(c){}b||(b=new this.providerTypes_[a].clazz);return b}goog.log.warning(this.log,'No provider exists for type "'+a+'".')}return null};
os.data.DataManager.prototype.createDescriptor=function(a){a=a.toLowerCase();if(a in this.descriptorTypes_)return new this.descriptorTypes_[a];goog.log.fine(this.log,'No descriptor exists for type "'+a+'".');return null};
os.data.DataManager.prototype.updateDescriptor=function(a,b){if(a.getId()&&b.getId()){for(var c=a.getAliases(),d=0,e=c.length;d<e;d++)delete this.descriptors_[c[d]];c=b.getAliases();d=0;for(e=c.length;d<e;d++)this.descriptors_[c[d]]=b;this.dispatchEvent(new os.data.DescriptorEvent(os.data.DescriptorEventType.UPDATE_DESCRIPTOR,a,b))}else goog.log.error(this.log,"Could not update the descriptor because its ID was empty or null")};
os.data.DataManager.prototype.addDescriptor=function(a){if(a.getId()){for(var b=a.getAliases(),c=0,d=b.length;c<d;c++)this.descriptors_[b[c]]=a;this.dispatchEvent(new os.data.DescriptorEvent(os.data.DescriptorEventType.ADD_DESCRIPTOR,a));this.persistDelay_.start()}else goog.log.error(this.log,"Could not add the descriptor because its ID was empty or null")};
os.data.DataManager.prototype.removeDescriptor=function(a){if(a.getId()){for(var b=a.getAliases(),c=0,d=b.length;c<d;c++)delete this.descriptors_[b[c]];this.dispatchEvent(new os.data.DescriptorEvent(os.data.DescriptorEventType.REMOVE_DESCRIPTOR,a));this.persistDelay_.start()}else goog.log.error(this.log,"Could not remove the descriptor because its ID was empty or null")};os.data.DataManager.prototype.getDescriptor=function(a){return a in this.descriptors_?this.descriptors_[a]:null};
os.data.DataManager.prototype.getDescriptorByUrl=function(a){for(var b=this.getDescriptors(),c=0,d=b.length;c<d;c++)if(b[c].matchesURL(a))return b[c];return null};os.data.DataManager.prototype.getDescriptors=function(a){var b=[],c;for(c in this.descriptors_)if(!a||0===c.indexOf(a)){var d=this.descriptors_[c];-1===b.indexOf(d)&&b.push(d)}return b};os.data.DataManager.prototype.getProviderRoot=function(){return this.providerRoot_};
os.data.DataManager.prototype.updateFromSettings=function(a){for(var b=["providers","userProviders"],c=0,d=b.length;c<d;c++){var e=a.get([b[c]]),f;for(f in e){var g=e[f];if("object"==typeof g){g.id=f;var h=!0;"enabled"in g&&(h=goog.isString(g.enabled)?"true"==g.enabled.toLowerCase():g.enabled);var k=this.createProvider(g.type);k&&(k.setId(f),k.configure(g),k.setEnabled(h),k.setEditable(0<c),this.addProvider(k),k.getEnabled()&&k.load())}}}for(var l in os.data.DescriptorEventType)os.dispatcher.listen(os.data.DescriptorEventType[l],
this.persistDescriptors,!1,this)};os.data.DataManager.prototype.addProvider=function(a){if(this.getProvider(a.getId()))throw Error('A provider with the ID "'+a.getId()+'" already exists! Modify that one rather than replacing it.');this.providerRoot_.addChild(a);a.listen(goog.events.EventType.PROPERTYCHANGE,this.onProviderChange,!1,this);this.dispatchEvent(new os.data.DataProviderEvent(os.data.DataProviderEventType.ADD_PROVIDER,a))};
os.data.DataManager.prototype.removeProvider=function(a){if(a=this.getProvider(a))a.unlisten(goog.events.EventType.PROPERTYCHANGE,this.onProviderChange,!1,this),this.providerRoot_.removeChild(a),this.dispatchEvent(new os.data.DataProviderEvent(os.data.DataProviderEventType.REMOVE_PROVIDER,a)),a.dispose()};
os.data.DataManager.prototype.onProviderChange=function(a){var b=a.getProperty();a=a.target;"loading"!=b||a.isLoading()||this.dispatchEvent(new os.data.DataProviderEvent(os.data.DataProviderEventType.LOADED,a))};os.data.DataManager.prototype.setProviderEnabled=function(a,b){if(a=this.getProvider(a))a.setEnabled(b),this.dispatchEvent(new os.data.DataProviderEvent(os.data.DataProviderEventType.EDIT_PROVIDER,a))};
os.data.DataManager.prototype.getProvider=function(a,b){a=a.replace(/#.*/,"");b=b?b.replace(/#.*/,""):null;var c=this.providerRoot_.getChildren(),d=null;if(c)for(var e=0,f=c.length;e<f;e++)if(c[e].getId()==a||b&&c[e]instanceof os.ui.server.AbstractLoadingServer&&c[e].getUrl()==b){d=c[e];break}return d};os.data.DataManager.prototype.getProviderByLabel=function(a){var b=this.providerRoot_.getChildren(),c=null;if(b)for(var d=0,e=b.length;d<e;d++)if(b[d].getLabel()==a){c=b[d];break}return c};
os.data.DataManager.prototype.migrateDescriptors_=function(){var a=window.localStorage.getItem(this.getDescriptorKey());a&&(a=JSON.parse(a),os.settings.set(this.getDescriptorKey(),a),window.localStorage.removeItem(this.getDescriptorKey()))};os.data.DataManager.prototype.hasError=function(){var a=this.providerRoot_.getChildren();return a?goog.array.some(a,function(a){return a.getEnabled()&&a.getError()}):!1};
os.data.DataManager.prototype.persistDescriptors=function(){var a=[],b={},c=Date.now()-2592E6,d;for(d in this.descriptors_)if(!(d in b)){var e=this.descriptors_[d];if(e){for(var f=e.getAliases(),g=0,h=f.length;g<h;g++)b[f[g]]=!0;if(os.implements(e,os.data.IUrlDescriptor.ID)&&(f=e.getUrl(),!f||os.file.isLocal(f)&&!os.file.FileStorage.getInstance().isPersistent()))continue;(e.isLocal()||e.getLastActive()>c)&&a.push(e.persist())}}os.settings.set(this.getDescriptorKey(),a)};
os.data.DataManager.prototype.restoreDescriptors=function(){var a=os.settings.get(this.getDescriptorKey());if(a){var b=Date.now();if(a)for(var c=0,d=a.length;c<d;c++)try{var e=this.createDescriptor(a[c].dType);e&&(e.restore(a[c]),e.getId()&&(isNaN(e.getDeleteTime())||e.getDeleteTime()>b)&&this.addDescriptor(e))}catch(f){goog.log.warning(this.log,"There was an error loading data descriptor #"+c)}}};os.data.DataManager.DESCRIPTOR_KEY_=os.NAMESPACE+".descriptors";
os.data.DataManager.prototype.getDescriptorKey=function(){return os.data.DataManager.DESCRIPTOR_KEY_};os.data.IExtent=function(){};os.data.IExtent.prototype.getExtent=goog.abstractMethod;os.filter.IFilterEntry=function(){};os.filter.IFilterEntry.prototype.getTitle=goog.abstractMethod;os.filter.IFilterEntry.prototype.getDescription=goog.abstractMethod;os.filter.IFilterEntry.prototype.getFilter=goog.abstractMethod;os.filter.FilterEntry=function(){goog.events.EventTarget.call(this);this.id_=goog.string.getRandomString();this.title_="New Filter";this.temporary_=!1;this.type="";this.filterNode_=this.filter_=this.description_=null;this.enabled=!1;this.match_=!0};goog.inherits(os.filter.FilterEntry,goog.events.EventTarget);os.filter.FilterEntry.prototype.getId=function(){return this.id_};os.filter.FilterEntry.prototype.setId=function(a){this.id_=a};os.filter.FilterEntry.prototype.getTitle=function(){return this.title_};
os.filter.FilterEntry.prototype.setTitle=function(a){this.title_=a};os.filter.FilterEntry.prototype.getDescription=function(){return this.description_};os.filter.FilterEntry.prototype.setDescription=function(a){this.description_=a};os.filter.FilterEntry.prototype.getType=function(){return this.type};os.filter.FilterEntry.prototype.setType=function(a){this.type=a};os.filter.FilterEntry.prototype.isEnabled=function(){return this.enabled};
os.filter.FilterEntry.prototype.setEnabled=function(a){this.enabled=a};os.filter.FilterEntry.prototype.isTemporary=function(){return this.temporary_};os.filter.FilterEntry.prototype.setTemporary=function(a){this.temporary_=a};os.filter.FilterEntry.prototype.getFilter=function(){return this.filter_};
os.filter.FilterEntry.prototype.setFilter=function(a){var b=this.filter_;if(this.filter_=a)try{this.filterNode_=goog.dom.xml.loadXml(this.filter_)}catch(c){}this.dispatchEvent(new os.events.PropertyChangeEvent("filter",this.filter_,b))};os.filter.FilterEntry.prototype.getFilterNode=function(){return this.filterNode_?goog.dom.getFirstElementChild(this.filterNode_):null};os.filter.FilterEntry.prototype.getMatch=function(){return this.match_};
os.filter.FilterEntry.prototype.setMatch=function(a){this.match_=a};
os.filter.FilterEntry.prototype.matches=function(a){var b=!1;if(a){b=!0;for(var c={},d=0;d<a.length;d++)c[a[d].name]=a[d].type;a=this.getFilterNode().querySelectorAll("PropertyName");for(d=0;d<a.length;d++){var e=a[d];if(e.textContent in c){var f=c[e.textContent];if("decimal"==f){var g=e.nextElementSibling;g&&"Literal"===g.localName||(g=e.parentElement.querySelector("Literal"));if(g&&(e=g.textContent||null)&&isNaN(parseFloat(e))){b=!1;break}}if(goog.string.startsWith(f,"gml:")){b=!1;break}}else{b=
!1;break}}}return b};os.filter.FilterEntry.prototype.clone=function(){var a=this.persist(),b=new this.constructor;b.restore(a);return b};os.filter.FilterEntry.prototype.persist=function(a){a||(a={});a.id=this.id_;a.title=this.title_;a.description=this.description_;a.type=this.type;a.filter=this.filter_;a.enabled=this.enabled;a.match=this.getMatch();return a};
os.filter.FilterEntry.prototype.restore=function(a){this.id_=a.id;this.title_=a.title;this.description_=a.description;this.type=a.type;this.setFilter(a.filter);this.setEnabled(a.enabled);this.setMatch(a.match)};os.filter.cloneToContext=function(a){if(a&&!(a instanceof os.filter.FilterEntry))try{var b=new os.filter.FilterEntry;b.restore(a.persist());b instanceof os.filter.FilterEntry&&(a=b)}catch(c){a=null}return a};os.ui.filter.FilterEvent=function(a,b,c){goog.events.Event.call(this,a);this.key=b||null;this.entry=c||null};goog.inherits(os.ui.filter.FilterEvent,goog.events.Event);os.ui.filter.FilterImportEvent=function(a,b){goog.events.Event.call(this,os.ui.filter.FilterEventType.FILTERS_IMPORTED);this.filters=b};goog.inherits(os.ui.filter.FilterImportEvent,goog.events.Event);
os.ui.filter.FilterEventType={FILTERS_CHANGED:"filtersChanged",GROUPING_CHANGED:"filterGroupingChanged",HANDLERS_CHANGED:"filterHandlersChanged",FILTERS_REFRESH:"filtersRefresh",FILTERS_IMPORTED:"filtersImported",ADD_FILTER:"addFilter",EXPORT_FILTER:"exportFilter"};os.ui.filter.textDirective=function(){return{restrict:"AE",replace:!0,templateUrl:os.ROOT+"views/filter/text.html"}};os.ui.Module.directive("fbText",[os.ui.filter.textDirective]);os.ui.filter.colTypeCheckValidation=function(){return{require:"ngModel",link:os.ui.filter.colTypeCheckLink}};os.ui.filter.PATTERNS={string:/.*/,decimal:/^\-?\d+((\.|,)\d+)?$/,integer:/^\-?\d+$/};
os.ui.filter.colTypeCheckLink=function(a,b,c,d){d.$parsers.unshift(function(c){var e=a.expr.column.type,g=os.ui.filter.PATTERNS[e];if(g&&g.test(c))return d.$setValidity("type",!0),b.attr("title",""),c;d.$setValidity("type",!1);b.attr("title","Please enter a valid "+e)})};os.ui.Module.directive("coltypecheck",[os.ui.filter.colTypeCheckValidation]);os.ui.filter.betweenDirective=function(){return{restrict:"AE",replace:!0,templateUrl:os.ROOT+"views/filter/between.html",controller:os.ui.filter.BetweenCtrl,controllerAs:"betweenCtrl"}};os.ui.Module.directive("fbBetween",[os.ui.filter.betweenDirective]);
os.ui.filter.BetweenCtrl=function(a){this.scope_=a;this.min=0;this.max=1;if(goog.isDefAndNotNull(a.expr.literal)){var b=a.expr.literal.split(/\s*,\s*/);2==b.length&&(this.min=parseFloat(b[0]),this.max=parseFloat(b[1]))}this.onChange();a.$on("$destroy",this.onDestroy_.bind(this))};os.ui.filter.BetweenCtrl.prototype.onDestroy_=function(){this.scope_=null};
os.ui.filter.BetweenCtrl.prototype.onChange=function(){var a=parseFloat(this.min),b=parseFloat(this.max),c="";isNaN(a)||(c+=a+", ");isNaN(b)||(c+=b);this.scope_.expr.literal=c};goog.exportProperty(os.ui.filter.BetweenCtrl.prototype,"onChange",os.ui.filter.BetweenCtrl.prototype.onChange);os.ui.filter.op={};os.ui.filter.op.Op=function(a,b,c,d,e,f,g,h){this.localName=a;this.title_=b;this.shortTitle_=c||b;this.supportedTypes=d||null;this.attributes_=e||"";this.ui_=g||"fb-text";this.hint=f||"";this.excludeLiteral_=!0===h||!1};os.ui.filter.op.Op.prototype.getLocalName=function(){return this.localName};os.ui.filter.op.Op.prototype.getTitle=function(){return this.title_};goog.exportProperty(os.ui.filter.op.Op.prototype,"getTitle",os.ui.filter.op.Op.prototype.getTitle);
os.ui.filter.op.Op.prototype.getShortTitle=function(){return this.shortTitle_};goog.exportProperty(os.ui.filter.op.Op.prototype,"getShortTitle",os.ui.filter.op.Op.prototype.getShortTitle);os.ui.filter.op.Op.prototype.getAttributes=function(){return this.attributes_};os.ui.filter.op.Op.prototype.setAttributes=function(a){this.attributes_=a};os.ui.filter.op.Op.prototype.getUi=function(){return this.ui_};os.ui.filter.op.Op.prototype.getExcludeLiteral=function(){return this.excludeLiteral_};
os.ui.filter.op.Op.prototype.setExcludeLiteral=function(a){this.excludeLiteral_=a};os.ui.filter.op.Op.prototype.getFilter=function(a,b){var c=null;a&&(c="<"+this.localName+(this.attributes_?" "+this.attributes_:"")+"><PropertyName>"+a+"</PropertyName>",b&&!this.excludeLiteral_&&(c+="<Literal><![CDATA["+b.trim()+"]]\x3e</Literal>"),c+="</"+this.localName+">");return c};os.ui.filter.op.Op.prototype.getEvalExpression=function(a,b){return""};
os.ui.filter.op.Op.prototype.getColumn=function(a){return a.find("*").filter(function(){return"PropertyName"==this.localName}).first().text()};os.ui.filter.op.Op.prototype.getLiteral=function(a){return this.excludeLiteral_?null:a.find("*").filter(function(){return"Literal"==this.localName}).first().text()};os.ui.filter.op.Op.prototype.matches=function(a){return a&&a.length?a[0].localName==this.localName:!1};
os.ui.filter.op.Op.prototype.isSupported=function(a){return a&&this.supportedTypes?-1<this.supportedTypes.indexOf(a):a&&0===a.indexOf("gml:")?!1:!0};os.ui.filter.op.Op.prototype.setSupported=function(a){this.supportedTypes=a};os.ui.filter.op.Op.prototype.validate=function(a,b){return this.getExcludeLiteral()?!0:a?(b=os.ui.filter.PATTERNS[b])&&b.test(a)?!0:!1:!1};os.ui.filter.op.Between=function(){os.ui.filter.op.Op.call(this,"And","is between","between",["integer","decimal"],'hint="between"',void 0,"fb-between");this.matchHint="between"};goog.inherits(os.ui.filter.op.Between,os.ui.filter.op.Op);os.ui.filter.op.Between.prototype.getEvalExpression=function(a,b){return(b=this.getRangeFromLiteral(b))&&2==b.length&&b[0]!==b[1]?"("+a+">="+b[0]+"&&"+a+"<="+b[1]+")":""};
os.ui.filter.op.Between.prototype.getFilter=function(a,b){var c="";(b=this.getRangeFromLiteral(b))&&2==b.length&&b[0]!==b[1]&&(c=this.getAttributes(),c="<"+this.localName+(c?" "+c:"")+">",c+="<PropertyIsGreaterThanOrEqualTo><PropertyName>"+a+"</PropertyName><Literal><![CDATA["+b[0]+"]]\x3e</Literal></PropertyIsGreaterThanOrEqualTo><PropertyIsLessThanOrEqualTo><PropertyName>"+a+"</PropertyName><Literal><![CDATA["+b[1]+"]]\x3e</Literal></PropertyIsLessThanOrEqualTo>",c+="</"+this.localName+">");return c};
os.ui.filter.op.Between.prototype.getRangeFromLiteral=function(a){if(a){var b=a.trim().split(/\s*,\s*/);if(2==b.length&&(a=parseFloat(b[0]),b=parseFloat(b[1]),!isNaN(a)&&!isNaN(b)))return[Math.min(a,b),Math.max(a,b)]}return null};os.ui.filter.op.Between.prototype.getLiteral=function(a){var b=[];a.find("Literal").each(function(a,d){b.push($(d).text())});return b.join(", ")};os.ui.filter.op.Between.prototype.matches=function(a){return a?a.attr("hint")==this.matchHint:!1};
os.ui.filter.op.Between.prototype.validate=function(a,b){if(a){var c=a.trim().split(/\s*,\s*/);if(2==c.length)return a=parseFloat(c[0]),c=parseFloat(c[1]),b=os.ui.filter.PATTERNS[b],b.test(a)&&b.test(c)}return!1};os.ui.filter.op.EqualTo=function(){os.ui.filter.op.Op.call(this,"PropertyIsEqualTo","is equal to","=")};goog.inherits(os.ui.filter.op.EqualTo,os.ui.filter.op.Op);os.ui.filter.op.EqualTo.prototype.getEvalExpression=function(a,b){return null!=b?a+"=="+os.ui.filter.string.quoteString(b):""};os.ui.filter.op.GreaterThan=function(){os.ui.filter.op.Op.call(this,"PropertyIsGreaterThan","is greater than",">")};goog.inherits(os.ui.filter.op.GreaterThan,os.ui.filter.op.Op);os.ui.filter.op.GreaterThan.prototype.getEvalExpression=function(a,b){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(b))?"":a+">"+os.ui.filter.string.quoteString(b)};os.ui.filter.op.GreaterThanOrEqualTo=function(){os.ui.filter.op.Op.call(this,"PropertyIsGreaterThanOrEqualTo","is greater than or equal to",">=")};goog.inherits(os.ui.filter.op.GreaterThanOrEqualTo,os.ui.filter.op.Op);os.ui.filter.op.GreaterThanOrEqualTo.prototype.getEvalExpression=function(a,b){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(b))?"":a+">="+os.ui.filter.string.quoteString(b)};os.ui.clipboard={};os.ui.clipboard.getData=function(a,b){b=b||"text";var c=null;a&&a.clipboardData?c=a.clipboardData.getData(b):goog.isDef(window.clipboardData)&&(c=window.clipboardData.getData(b));return goog.isDef(c)?c:null};os.ui.filter.listDirective=function(){return{restrict:"AE",replace:!0,templateUrl:os.ROOT+"views/filter/list.html"}};os.ui.Module.directive("fbList",[os.ui.filter.listDirective]);os.ui.filter.colTypeListValidation=function(){return{require:"ngModel",controller:os.ui.filter.ColTypeListCtrl,link:os.ui.filter.colTypeListLink}};
os.ui.filter.ColTypeListCtrl=function(a,b){this.scope_=a;this.element_=b;this.regex_=/[\n\r\t](?=[\w+-.,!@#$%^&*();\\\/|<>"'])/g;this.element_.on(goog.events.EventType.PASTE,this.onPaste_.bind(this));a.$on("$destroy",this.destroy_.bind(this))};
os.ui.filter.ColTypeListCtrl.prototype.onPaste_=function(a){var b=os.ui.clipboard.getData(a.originalEvent);goog.isDefAndNotNull(b)&&setTimeout(goog.bind(function(){this.scope_.expr.literal=b.replace(this.regex_,", ").replace(/[\n\r\t]/g,"").trim();os.ui.apply(this.scope_)},this),10)};os.ui.filter.ColTypeListCtrl.prototype.destroy_=function(){this.element_.off(goog.events.EventType.PASTE);this.element_=this.scope_=null};
os.ui.filter.colTypeListLink=function(a,b,c,d){d.$parsers.unshift(function(c){var e=a.expr.column.type,g=os.ui.filter.PATTERNS[e],h=c?c.split(/\s*,\s*/):null;d.$setValidity("type",!0);b.attr("title","");if(h&&h.length)for(var k=0,l=h.length;k<l;k++){var m=h[k];if(g&&!m||!g.test(m)){d.$setValidity("type",!1);b.attr("title","Please enter a valid "+e+" for item "+(k+1));c=void 0;break}}else d.$setValidity("type",!1),b.attr("title","Please enter a value"),c=void 0;return c})};
os.ui.Module.directive("coltypelist",[os.ui.filter.colTypeListValidation]);os.ui.filter.op.InList=function(a,b,c,d,e,f){os.ui.filter.op.Op.call(this,"Or",a||"is in list",b||"in list",c||null,d||'hint="in list"',e||"e.g. A, B, ...",f||"fb-list");this.matchHint="in list"};goog.inherits(os.ui.filter.op.InList,os.ui.filter.op.Op);os.ui.filter.op.InList.prototype.getValuesFromLiteral=function(a){var b=[];if(a&&(a=a.trim().split(/\s*,\s*/),0<a.length))for(var c=0;c<a.length;c++){var d=a[c].trim();d&&b.push(d)}return b};
os.ui.filter.op.InList.prototype.getEvalExpression=function(a,b){b=this.getValuesFromLiteral(b);return 0<b.length?(b=b.map(os.ui.filter.string.quoteString),"(["+b.join(",")+"]).indexOf(String("+a+"))!=-1"):""};
os.ui.filter.op.InList.prototype.getFilter=function(a,b){var c="";b=this.getValuesFromLiteral(b);if(0<b.length){c=this.getAttributes();c="<"+this.localName+(c?" "+c:"")+">";for(var d=0,e=b.length;d<e;d++)c+="<PropertyIsEqualTo><PropertyName>"+a+"</PropertyName><Literal><![CDATA["+b[d].trim()+"]]\x3e</Literal></PropertyIsEqualTo>";c+="</"+this.localName+">"}return c};os.ui.filter.op.InList.prototype.getLiteral=function(a){var b=[];a.find("Literal").each(function(a,d){b.push($(d).text())});return b.join(", ")};
os.ui.filter.op.InList.prototype.matches=function(a){return a?a.attr("hint")==this.matchHint:!1};os.ui.filter.op.InList.prototype.validate=function(a,b){var c=!1;if(a){a=a.trim().split(/\s*,\s*/);b=os.ui.filter.PATTERNS[b];c=!0;for(var d=0,e=a.length;d<e;d++)if(!b.test(a[d])){c=!1;break}}return c};os.ui.filter.op.IsLike=function(){os.ui.filter.op.Op.call(this,"PropertyIsLike","is like","like",["string"],'wildCard="*" singleChar="." escape="\\"',"e.g. abc*")};goog.inherits(os.ui.filter.op.IsLike,os.ui.filter.op.Op);os.ui.filter.op.IsLike.prototype.getEvalExpression=function(a,b){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(b))?"":(b=os.ui.filter.string.escapeRegExp(b),b=os.ui.filter.string.escapeString(b),"/^"+b+"$/i.test("+a+")")};os.ui.filter.textNoColCheckDirective=function(){return{restrict:"AE",replace:!0,templateUrl:os.ROOT+"views/filter/textnocolcheck.html",controller:os.ui.filter.TextNoColCheckCtrl,controllerAs:"textNoColCheckCtrl"}};os.ui.Module.directive("fbTextNoColCheck",[os.ui.filter.textNoColCheckDirective]);os.ui.filter.TextNoColCheckCtrl=function(a){this.scope_=a;this.start=void 0;goog.isDefAndNotNull(a.expr.literal)&&(this.start=a.expr.literal);this.onChange();a.$on("$destroy",this.onDestroy_.bind(this))};
os.ui.filter.TextNoColCheckCtrl.prototype.onDestroy_=function(){this.scope_=null};os.ui.filter.TextNoColCheckCtrl.prototype.onChange=function(){this.scope_.expr.literal=this.start};goog.exportProperty(os.ui.filter.TextNoColCheckCtrl.prototype,"onChange",os.ui.filter.TextNoColCheckCtrl.prototype.onChange);os.ui.filter.op.IsLikeNumeric=function(a,b,c,d,e,f){c=c||["integer","decimal"];os.ui.filter.op.Op.call(this,"And",a||"is like",b||"like",c,d||'hint="is like numeric"',e||"e.g. 12.34*",f||"fb-text-no-col-check");this.matchHint="is like numeric"};goog.inherits(os.ui.filter.op.IsLikeNumeric,os.ui.filter.op.Op);os.ui.filter.op.IsLikeNumeric.prototype.getEvalExpression=function(a,b){return(b=this.getRangeFromLiteral(b))&&2==b.length&&b[0]!==b[1]?"("+a+">="+b[0]+"&&"+a+"<"+b[1]+")":""};
os.ui.filter.op.IsLikeNumeric.prototype.getFilter=function(a,b){var c="";if((b=this.getRangeFromLiteral(b))&&2==b.length){var d=this.getAttributes();c+="<"+this.localName+(d?" "+d:"")+">";c+="<PropertyIsGreaterThanOrEqualTo><PropertyName>"+a+"</PropertyName><Literal><![CDATA["+b[0]+"]]\x3e</Literal></PropertyIsGreaterThanOrEqualTo><PropertyIsLessThan><PropertyName>"+a+"</PropertyName><Literal><![CDATA["+b[1]+"]]\x3e</Literal></PropertyIsLessThan>";c+="</"+this.localName+">"}return c};
os.ui.filter.op.IsLikeNumeric.prototype.getRangeFromLiteral=function(a){if(a){var b=a.trim().split("*")[0];a=parseFloat(b);if(!isNaN(a)){b=b.split(".");var c=0;2==b.length&&(c=-b[1].length);b=(a+Math.pow(10,c)).toFixed(Math.abs(c));return[a,b]}}return null};os.ui.filter.op.IsLikeNumeric.prototype.validate=function(a,b){if(!a)return!1;a=Number(a.trim().split("*")[0]);return(b=os.ui.filter.PATTERNS[b])&&b.test(a)?!0:!1};
os.ui.filter.op.IsLikeNumeric.prototype.getLiteral=function(a){return a.find("PropertyIsGreaterThanOrEqualTo Literal").text()+"*"};os.ui.filter.op.IsLikeNumeric.prototype.matches=function(a){return a?a.attr("hint")==this.matchHint:!1};os.ui.filter.op.IsNull=function(){os.ui.filter.op.Op.call(this,"PropertyIsNull","is empty","empty",void 0,void 0,void 0,"span",!0)};goog.inherits(os.ui.filter.op.IsNull,os.ui.filter.op.Op);os.ui.filter.op.IsNull.prototype.getEvalExpression=function(a,b){return"("+a+"==null||"+a+'==="")'};os.ui.filter.op.LessThan=function(){os.ui.filter.op.Op.call(this,"PropertyIsLessThan","is less than","<")};goog.inherits(os.ui.filter.op.LessThan,os.ui.filter.op.Op);os.ui.filter.op.LessThan.prototype.getEvalExpression=function(a,b){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(b))?"":a+"<"+os.ui.filter.string.quoteString(b)};os.ui.filter.op.LessThanOrEqualTo=function(){os.ui.filter.op.Op.call(this,"PropertyIsLessThanOrEqualTo","is less than or equal to","<=")};goog.inherits(os.ui.filter.op.LessThanOrEqualTo,os.ui.filter.op.Op);os.ui.filter.op.LessThanOrEqualTo.prototype.getEvalExpression=function(a,b){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(b))?"":a+"<="+os.ui.filter.string.quoteString(b)};os.ui.filter.op.LikeList=function(){os.ui.filter.op.InList.call(this,"is like list","like list",["string"],'hint="like list"',"A, b*, ...","fb-list");this.matchHint="like list"};goog.inherits(os.ui.filter.op.LikeList,os.ui.filter.op.InList);os.ui.filter.op.LikeList.prototype.getEvalExpression=function(a,b){b=this.getValuesFromLiteral(b);return 0<b.length?(b=b.map(function(a){a=os.ui.filter.string.escapeRegExp(a);return os.ui.filter.string.escapeString(a)}),"/^("+b.join("|")+")$/i.test("+a+")"):""};
os.ui.filter.op.LikeList.prototype.getFilter=function(a,b){if(a=os.ui.filter.op.LikeList.superClass_.getFilter.call(this,a,b))a=a.replace(/<PropertyIsEqualTo/g,'<PropertyIsLike wildCard="*" singleChar="." escape="\\"'),a=a.replace(/<\/PropertyIsEqualTo/g,"</PropertyIsLike");return a};os.ui.filter.listNoColCheckDirective=function(){return{restrict:"AE",replace:!0,templateUrl:os.ROOT+"views/filter/listnocolcheck.html"}};os.ui.Module.directive("fbListNoColCheck",[os.ui.filter.listNoColCheckDirective]);os.ui.filter.op.LikeListNumeric=function(){os.ui.filter.op.IsLikeNumeric.call(this,"is like list","like list",["decimal","integer"],"","eg. 12.45*, 3.568*, ...","fb-list-no-col-check");this.matchHint="like list numeric"};goog.inherits(os.ui.filter.op.LikeListNumeric,os.ui.filter.op.IsLikeNumeric);os.ui.filter.op.LikeListNumeric.prototype.getValuesFromLiteral=function(a){var b=[];if(a&&(a=a.trim().split(/\s*,\s*/),0<a.length))for(var c=0;c<a.length;c++){var d=a[c].trim();d&&b.push(d)}return b};
os.ui.filter.op.LikeListNumeric.prototype.getEvalExpression=function(a,b){var c="";b=this.getValuesFromLiteral(b);if(0<b.length){for(var d=[],e=0,f=b.length;e<f;e++){var g=os.ui.filter.op.LikeListNumeric.superClass_.getEvalExpression.call(this,a,b[e]);g&&d.push(g)}0<d.length&&(c+="("+d.join("||")+")")}return c};
os.ui.filter.op.LikeListNumeric.prototype.getFilter=function(a,b){var c="";b=this.getValuesFromLiteral(b);if(0<b.length){c+='<Or hint="like list numeric">';for(var d=0,e=b.length;d<e;d++)c+=os.ui.filter.op.LikeListNumeric.superClass_.getFilter.call(this,a,b[d]);c+="</Or>"}return c};
os.ui.filter.op.LikeListNumeric.prototype.validate=function(a,b){var c=!1;a=this.getValuesFromLiteral(a);if(0<a.length){c=!0;for(var d=0,e=a.length;d<e;d++){var f=Number(a[d].trim().split("*")[0]),g=os.ui.filter.PATTERNS[b];g&&g.test(f)||(c=!1)}}return c};os.ui.filter.op.LikeListNumeric.prototype.matches=function(a){return a?a.attr("hint")==this.matchHint:!1};
os.ui.filter.op.LikeListNumeric.prototype.getLiteral=function(a){var b=[];a.find("PropertyIsGreaterThanOrEqualTo Literal").each(function(a,d){b.push($(d).text()+"*")});return b.join(", ")};os.ui.filter.op.Not=function(a){this.op=a;os.ui.filter.op.Op.call(this,"Not","not");this.hint=a.hint||""};goog.inherits(os.ui.filter.op.Not,os.ui.filter.op.Op);os.ui.filter.op.Not.prototype.getTitle=function(){return this.op.getTitle().replace("is","is not")};goog.exportProperty(os.ui.filter.op.Not.prototype,"getTitle",os.ui.filter.op.Not.prototype.getTitle);os.ui.filter.op.Not.prototype.getShortTitle=function(){return"not "+this.op.getShortTitle()};
goog.exportProperty(os.ui.filter.op.Not.prototype,"getShortTitle",os.ui.filter.op.Not.prototype.getShortTitle);os.ui.filter.op.Not.prototype.getAttributes=function(){return this.op.getAttributes()};os.ui.filter.op.Not.prototype.setAttributes=function(a){return this.op.setAttributes(a)};os.ui.filter.op.Not.prototype.getUi=function(){return this.op.getUi()};os.ui.filter.op.Not.prototype.getEvalExpression=function(a,b){return(a=this.op.getEvalExpression(a,b))?"!("+a+")":""};
os.ui.filter.op.Not.prototype.getFilter=function(a,b){return(a=this.op.getFilter(a,b))?"<Not>"+a+"</Not>":""};os.ui.filter.op.Not.prototype.getColumn=function(a){return this.op.getColumn(a)};os.ui.filter.op.Not.prototype.getLiteral=function(a){return this.op.getLiteral(a)};os.ui.filter.op.Not.prototype.matches=function(a){return os.ui.filter.op.Not.superClass_.matches.call(this,a)&&1==a.children().length&&this.op.matches(a.children().first())};os.ui.filter.op.Not.prototype.isSupported=function(a){return this.op.isSupported(a)};
os.ui.filter.op.Not.prototype.setSupported=function(a){this.op.setSupported(a)};os.ui.filter.op.Not.prototype.validate=function(a,b){return this.op.validate(a,b)};os.ui.filter.op.NotBetween=function(){os.ui.filter.op.Not.call(this,new os.ui.filter.op.Between)};goog.inherits(os.ui.filter.op.NotBetween,os.ui.filter.op.Not);os.ui.filter.op.NotEqualTo=function(){os.ui.filter.op.Op.call(this,"PropertyIsNotEqualTo","is not equal to","!=")};goog.inherits(os.ui.filter.op.NotEqualTo,os.ui.filter.op.Op);os.ui.filter.op.NotEqualTo.prototype.getEvalExpression=function(a,b){return null!=b?a+"!="+os.ui.filter.string.quoteString(b):""};os.ui.filter.op.NotLike=function(){os.ui.filter.op.Not.call(this,new os.ui.filter.op.IsLike)};goog.inherits(os.ui.filter.op.NotLike,os.ui.filter.op.Not);os.ui.filter.op.NotNull=function(){os.ui.filter.op.Not.call(this,new os.ui.filter.op.IsNull)};goog.inherits(os.ui.filter.op.NotNull,os.ui.filter.op.Not);os.ui.filter.Condition={AND:"And",OR:"Or",NOT:"Not"};os.ui.filter.CONDITIONS=[os.ui.filter.Condition.AND,os.ui.filter.Condition.OR,os.ui.filter.Condition.NOT];
os.ui.filter.OPERATIONS=[new os.ui.filter.op.EqualTo,new os.ui.filter.op.NotEqualTo,new os.ui.filter.op.LessThan,new os.ui.filter.op.LessThanOrEqualTo,new os.ui.filter.op.GreaterThan,new os.ui.filter.op.GreaterThanOrEqualTo,new os.ui.filter.op.IsLike,new os.ui.filter.op.NotLike,new os.ui.filter.op.Between,new os.ui.filter.op.NotBetween,new os.ui.filter.op.IsNull,new os.ui.filter.op.NotNull,new os.ui.filter.op.InList,new os.ui.filter.op.Not(new os.ui.filter.op.InList),new os.ui.filter.op.LikeList,
new os.ui.filter.op.Not(new os.ui.filter.op.LikeList),new os.ui.filter.op.IsLikeNumeric,new os.ui.filter.op.LikeListNumeric];os.ui.filter.SPATIAL=["Intersects","Disjoint","BBOX"];
os.ui.filter.toElementString=function(a,b){var c="";if(null!=a)if(os.ui.filter.isExpression(a)){var d=a.childNodes;if(d&&0<d.length){var e=os.ui.filter.getColumnName(d);1<d.length?(b=os.ui.filter.getPropertyName(d,b),a=os.ui.filter.operationTitleFromNode(a),c+=e+" "+a+" "+b):1==d.length&&(c=b?c+(e+" = '' or "+e+" is null"):c+(e+" is empty"))}}else(e=os.ui.filter.conditionFromNode(a))&&(c+=e);return null!=c?c:""};
os.ui.filter.toFilterString=function(a,b,c){b=null!=b?b:-1;var d="";if(a&&-1==os.ui.filter.SPATIAL.indexOf(a.localName)){var e=a.childNodes;a=os.ui.filter.conditionFromNode(a);for(var f=0;f<e.length;f++){var g=e[f];0<f&&a&&(d+=" "+a.toUpperCase()+" ");var h=os.ui.filter.conditionFromNode(g);h===os.ui.filter.Condition.NOT?d+=h.toUpperCase()+" ("+os.ui.filter.toFilterString(g,void 0,c)+")":h?d+="("+os.ui.filter.toFilterString(g,void 0,c)+")":"PropertyIsNotEqualTo"===g.localName&&c?(h=g.childNodes,g=
os.ui.filter.getColumnName(h),h=os.ui.filter.getPropertyName(h),d+="NOT ("+g+" = "+h+")"):d+=os.ui.filter.toElementString(g,c)}}0<b&&d.length>b&&(d=d.substr(0,b-3)+"...");return d};
os.ui.filter.prettyPrint=function(a,b,c,d){b=null!=b?b:!0;c=!0===c?" ":"\n";var e="";if(a){a instanceof os.filter.FilterEntry&&(a=[a]);for(var f=0;f<a.length;f++){var g=a[f]?a[f].getFilter():null;if(g)try{var h=goog.dom.xml.loadXml(g),k=goog.dom.getFirstElementChild(h);if(k){var l=os.ui.filter.toFilterString(os.ui.filter.makeCaseInsensitive(k),void 0,d);l&&(e=e?e+(" "+(b?"AND":"OR")+c+"("+l):"("+l,e+=")")}}catch(m){}}}return e};
os.ui.filter.makeCaseInsensitive=function(a){if(a){var b=a.getElementsByTagName("PropertyIsLike");if(0!=b.length)for(var c=0;c<b.length;c++){var d="UPPER("+os.ui.filter.getColumnName(b[c].childNodes)+")";null!=b[c].querySelector("PropertyName")&&goog.dom.setTextContent(b[c].querySelector("PropertyName"),d);null!=b[c].querySelector("Literal")&&(d=goog.string.stripQuotes(os.ui.filter.getPropertyName(b[c].childNodes),"'").toUpperCase(),goog.string.contains(d,"*")||(d="*"+d+"*"),goog.dom.setTextContent(b[c].querySelector("Literal"),
d))}}return a};os.ui.filter.getColumnName=function(a){var b="";a&&a[0]&&(b=goog.dom.getTextContent(a[0]));return b};os.ui.filter.getPropertyName=function(a,b){var c="";a&&a[1]&&(c=a[1].textContent||"",c=isNaN(c)?"'"+c+"'":c,b&&goog.string.contains(c,"*")&&(c=c.replace(/\*/g,"%")));return c};os.ui.filter.isCondition=function(a){return null!=a&&null!=os.ui.filter.conditionFromNode(a)};os.ui.filter.isExpression=function(a){if(a){var b=a.parentNode;return null!=b&&!os.ui.filter.isCondition(a)&&os.ui.filter.isCondition(b)}return!1};
os.ui.filter.isOperation=function(a){return null!=os.ui.filter.operationFromNode(a)};os.ui.filter.conditionFromNode=function(a){return a&&(a=os.ui.filter.getString_(a))&&(a=os.ui.filter.CONDITIONS.indexOf(a),-1<a)?os.ui.filter.CONDITIONS[a]:null};os.ui.filter.operationFromNode=function(a){if(a){var b=angular.element(a);return goog.array.find(os.ui.filter.OPERATIONS,function(a){return a.matches(b)})}return null};
os.ui.filter.operationTitleFromNode=function(a){if(a)for(var b=0,c=os.ui.filter.OPERATIONS.length;b<c;b++)if(os.ui.filter.OPERATIONS[b].getLocalName()==a.localName)return os.ui.filter.OPERATIONS[b].getShortTitle();return null};os.ui.filter.getString_=function(a){return a instanceof Node?a.localName:"string"==typeof a?a:a?String(a):null};os.ui.filter.getFilterableByType=function(a){return os.ui.filterManager.getFilterable(a)};
os.ui.filter.getFilterableByFilterKey=function(a){for(var b=os.dataManager.getDescriptors(),c=null,d=0,e=b.length;d<e;d++){var f=b[d];try{if(f.getFilterKey()===a){c=f;break}}catch(g){}}return c};os.ui.filter.getFilterKeyFromType=function(a){return(a=os.ui.filter.getFilterableByType(a))?a.getFilterKey():null};os.ui.filter.filterColumns=function(a,b,c){b=0;for(c=os.ui.filter.OPERATIONS.length;b<c;b++)if(os.ui.filter.OPERATIONS[b].isSupported(a.type))return!0;return!1};
os.ui.filter.getFilterableTypes=function(a){var b=[];if(!goog.string.isEmptyOrWhitespace(a)){var c=os.dataManager.getDescriptors().filter(function(b){return os.implements(b,os.filter.IFilterable.ID)?b.getFilterKey()===a:!1});if(c.length)b=c.reduce(function(a,b){return a=a.concat(b.getFilterableTypes())},b);else{c=a.lastIndexOf("!!");var d=a.indexOf("#");-1!=c?(a=a.substring(c+2),-1!=a.lastIndexOf(":")&&(a=a.substring(a.lastIndexOf(":")+1))):-1!=d&&(a=a.substring(d+1),-1!=a.indexOf("#")&&(a=a.substring(0,
a.lastIndexOf("#"))));b.push(a)}}return b};os.ui.UISwitchEventType={UPDATE:"uiSwitch:update"};os.ui.uiSwitchDirective=function(){return{restrict:"AE",replace:!0,template:"<div></div>",scope:{items:"=",directiveFunction:"=",generic:"@",alwaysSwitch:"@"},controller:os.ui.UISwitchCtrl,controllerAs:"uiSwitch"}};os.ui.Module.directive("uiswitch",[os.ui.uiSwitchDirective]);
os.ui.UISwitchCtrl=function(a,b,c){this.scope=a;this.element_=b;this.alwaysSwitch_="true"===this.scope.alwaysSwitch;this.lastUI_=this.currUI_=null;this.compile_=c;this.destroyers_=[];this.destroyers_.push(a.$watch("items",this.onDataChange_.bind(this)));a.$on(os.ui.UISwitchEventType.UPDATE,this.update_.bind(this));a.$on("$destroy",this.onDestroy_.bind(this));this.delay_=this.observer_=null;"MutationObserver"in window&&MutationObserver?(this.observer_=new MutationObserver(this.onChange_.bind(this)),
this.observer_.observe(this.element_[0],{childList:!0})):this.delay_=new goog.async.Delay(this.onChange_,25,this);this.update_()};os.ui.UISwitchCtrl.LOGGER_=goog.log.getLogger("os.ui.UISwitchCtrl");os.ui.UISwitchCtrl.prototype.onDataChange_=function(a,b){this.update_()};
os.ui.UISwitchCtrl.prototype.update_=function(){var a=this.scope.items;a=goog.isArray(a)?a:[a];var b=this.scope.directiveFunction,c=this.scope.generic||null,d=null;goog.log.fine(os.ui.UISwitchCtrl.LOGGER_,"Checking UI ui: "+b+" items: "+a+" generic: "+c);if(a&&b)for(var e=0,f=a.length;e<f;e++){var g=b(a[e]);if(d&&d!=g){d=c;break}else d=g}goog.log.fine(os.ui.UISwitchCtrl.LOGGER_,"The new UI is "+d);this.alwaysSwitch_||d!=this.lastUI_?(this.remove_(),d&&(b="<"+d+"></"+d+">",c=this.scope.$new(),c.items=
a,this.addToScope(c),this.currUI_=this.compile_(b)(c),this.element_.append(this.currUI_),this.delay_&&this.delay_.start())):this.currUI_&&(c=this.currUI_.scope(),c.items=a,os.ui.apply(c));this.lastUI_=d};os.ui.UISwitchCtrl.prototype.addToScope=function(a){};os.ui.UISwitchCtrl.prototype.onChange_=function(){this.scope.$emit("controls.changed",this.element_.outerWidth(),this.element_.outerHeight())};
os.ui.UISwitchCtrl.prototype.remove_=function(){if(this.currUI_){this.scope.$emit("controls.changed",-this.element_.outerWidth(),-this.element_.outerHeight());var a=this.currUI_.scope();this.currUI_.remove();a&&a.$destroy();this.lastUI_=this.currUI_=null}};
os.ui.UISwitchCtrl.prototype.onDestroy_=function(){for(var a=0,b=this.destroyers_.length;a<b;a++)this.destroyers_[a]();this.observer_&&(this.observer_.disconnect(),this.observer_=null);this.delay_&&(this.delay_.stop(),this.delay_.dispose(),this.delay_=null);this.remove_();this.compile_=this.element_=this.scope=null};os.ui.filter.op.opUISwitchDirective=function(){var a=os.ui.uiSwitchDirective();a.template="<span></span>";a.scope.expr="=";a.controller=os.ui.filter.op.OPUISwitchCtrl;return a};os.ui.Module.directive("opuiswitch",[os.ui.filter.op.opUISwitchDirective]);os.ui.filter.op.OPUISwitchCtrl=function(a,b,c){os.ui.UISwitchCtrl.call(this,a,b,c)};goog.inherits(os.ui.filter.op.OPUISwitchCtrl,os.ui.UISwitchCtrl);os.ui.filter.op.OPUISwitchCtrl.prototype.addToScope=function(a){a.expr=this.scope.expr};os.ui.filter.expressionDirective=function(){return{restrict:"AE",replace:!0,scope:{expr:"=",columns:"="},templateUrl:os.ROOT+"views/filter/expression.html",controller:os.ui.filter.ExpressionCtrl,controllerAs:"exprCtrl"}};os.ui.Module.directive("expression",[os.ui.filter.expressionDirective]);os.ui.filter.Expression=function(){this.literal=this.op=this.column=this.columnName=null};
os.ui.filter.Expression.prototype.getFilter=function(){return this.op?this.op.getFilter(this.column.field||this.column.name,this.literal):null};os.ui.filter.Expression.prototype.setFilter=function(a){if(a){a=angular.element(a);var b=os.ui.filter.OPERATIONS;this.literal="";for(var c=0,d=b.length;c<d;c++)if(b[c].matches(a)){b=b[c];this.columnName=b.getColumn(a);this.literal=b.getLiteral(a);this.op=b;break}}};
os.ui.filter.Expression.prototype.validate=function(a){return this.column&&this.op?this.op.validate(a,this.column.type):!1};os.ui.filter.Expression.prototype.clone=function(){var a=new os.ui.filter.Expression;a.column=this.column;a.op=this.op;a.literal=this.literal;var b=this.getFilter();if(b)try{a.setFilter(goog.dom.getFirstElementChild($.parseXML(b)))}catch(c){}return a};
os.ui.filter.ExpressionCtrl=function(a,b){this.scope=a;this.scope.ops=os.ui.filter.OPERATIONS;a.columns&&(a.columns=a.columns.filter(this.filterColumns_,this));b=a.expr;b.columnName&&!b.column&&(b.column=os.ui.slick.column.findColumn(this.scope.columns,b.columnName));b.column=b.column||this.scope.columns[0];b.op=b.op||os.ui.filter.OPERATIONS[0];a.$watch("expr.column",this.onColChange_.bind(this));a.$watch("expr.op",this.runValidation.bind(this));this.onColChange_(b.column,null)};
os.ui.filter.ExpressionCtrl.prototype.filterColumns_=function(a,b,c){if(!/datetime/i.test(a.type))for(b=0,c=this.scope.ops.length;b<c;b++)if(this.scope.ops[b].isSupported(a.type))return!0;return!1};os.ui.filter.ExpressionCtrl.prototype.onColChange_=function(a,b){a!==b&&(this.scope.ops=os.ui.filter.OPERATIONS.filter(this.filterOps_,this),a=this.scope.expr,a.op=-1<this.scope.ops.indexOf(a.op)?a.op:this.scope.ops[0],this.runValidation())};
os.ui.filter.ExpressionCtrl.prototype.runValidation=function(){try{var a=this.scope.exprForm.literal;a.$viewValue&&(a.$setViewValue(a.$viewValue),a.$$parseAndValidate())}catch(b){}};os.ui.filter.ExpressionCtrl.prototype.filterOps_=function(a){return this.scope&&this.scope.expr&&this.scope.expr.column?a.isSupported(this.scope.expr.column.type):!1};os.ui.filter.ExpressionCtrl.prototype.getUi=function(a){return a?a.getUi():null};goog.exportProperty(os.ui.filter.ExpressionCtrl.prototype,"getUi",os.ui.filter.ExpressionCtrl.prototype.getUi);os.ui.filter.ui={};os.ui.filter.ui.expressionNodeUIDirective=function(){return{restrict:"AE",replace:!0,template:'<span class="glyphs pull-right slick-node-ui"><span ng-click="nodeUi.edit()"><i class="fa fa-pencil fa-fw glyph" title="Edit the expression"></i></span><span ng-click="nodeUi.remove()"><i class="fa fa-times fa-fw glyph glyph-remove" title="Remove the expression"></i></span></span>',controller:os.ui.filter.ui.ExpressionNodeUI,controllerAs:"nodeUi"}};
os.ui.Module.directive("expressionnodeui",[os.ui.filter.ui.expressionNodeUIDirective]);os.ui.filter.ui.ExpressionNodeUI=function(a,b){this.scope_=a};os.ui.filter.ui.ExpressionNodeUI.prototype.remove=function(){this.scope_.$emit("filterbuilder.remove",this.scope_.item)};goog.exportProperty(os.ui.filter.ui.ExpressionNodeUI.prototype,"remove",os.ui.filter.ui.ExpressionNodeUI.prototype.remove);
os.ui.filter.ui.ExpressionNodeUI.prototype.edit=function(){this.scope_.$emit("advancedfilterbuilder.editExpr",this.scope_.item)};goog.exportProperty(os.ui.filter.ui.ExpressionNodeUI.prototype,"edit",os.ui.filter.ui.ExpressionNodeUI.prototype.edit);os.ui.filter.ui.ExpressionNode=function(a){os.ui.slick.SlickTreeNode.call(this);this.nodeType="expression";this.expr_=null;this.setCheckboxVisible(!1);this.nodeUI=a?"<expressionnodeviewui></expressionnodeviewui>":"<expressionnodeui></expressionnodeui>";this.childrenAllowed=!1};goog.inherits(os.ui.filter.ui.ExpressionNode,os.ui.slick.SlickTreeNode);os.ui.filter.ui.ExpressionNode.prototype.getExpression=function(){return this.expr_};
goog.exportProperty(os.ui.filter.ui.ExpressionNode.prototype,"getExpression",os.ui.filter.ui.ExpressionNode.prototype.getExpression);os.ui.filter.ui.ExpressionNode.prototype.setExpression=function(a){this.expr_=a};os.ui.filter.ui.ExpressionNode.prototype.writeFilter=function(){var a="";this.expr_&&(a=this.expr_.getFilter()||"");return a};
os.ui.filter.ui.ExpressionNode.prototype.getLabel=function(){if(this.expr_&&this.expr_.column){var a=this.expr_.column.name,b=this.expr_.op.getTitle(),c=this.expr_.op.getExcludeLiteral()?"":this.expr_.literal||"";return a+" <b>"+b+"</b> "+c}return os.ui.filter.ui.ExpressionNode.superClass_.getLabel.call(this)};os.ui.filter.ui.ExpressionNode.prototype.formatIcons=function(){return'<i class="fa fa-fw fa-file" style="margin-right:5px;"></i>'};
os.ui.filter.ui.ExpressionNode.prototype.updateFrom=function(a){os.ui.filter.ui.ExpressionNode.superClass_.updateFrom.call(this,a);this.setExpression(a.getExpression())};os.ui.filter.ui.ExpressionNode.prototype.format=function(a,b,c){a=this.formatNodeUI();a+=this.getSpacer(20*this.depth);return a=a+"<nodetoggle></nodetoggle><nodeicons></nodeicons>"+this.getLabel()};
os.ui.filter.ui.ExpressionNode.createExpressionNode=function(a,b,c){c=new os.ui.filter.ui.ExpressionNode(c);var d=new os.ui.filter.Expression;c.setExpression(d);d.setFilter(a);d.columnName&&!d.column&&(d.column=os.ui.slick.column.findColumn(b,d.columnName));return c};os.ui.filter.ui.GroupNodeUIDirective=function(){return{restrict:"AE",replace:!0,template:'<span><span class="group-glyphs slick-node-ui"><span ng-if="!groupUi.isRoot" ng-click="groupUi.remove()"><i class="fa fa-times fa-fw glyph glyph-remove" title="Remove the expression"></i></span></span><select class="filter-select" ng-model="item.grouping" ng-options="key for (key, value) in groupUi.groups" style="margin:0 0 3px 5px;" title="Whether results can match any or all filters in the group"/></span>',
controller:os.ui.filter.ui.GroupNodeUICtrl,controllerAs:"groupUi"}};os.ui.Module.directive("groupnodeui",[os.ui.filter.ui.GroupNodeUIDirective]);os.ui.filter.ui.GroupNodeUICtrl=function(a,b){this.scope_=a;a=this.scope_.item;this.groups=os.ui.filter.ui.GroupNodeUICtrl.GROUPS;this.isRoot=!a.getParent()};os.ui.filter.ui.GroupNodeUICtrl.GROUPS={"All (AND)":"And","Any (OR)":"Or",Not:"Not"};os.ui.filter.ui.GroupNodeUICtrl.prototype.remove=function(){this.scope_.$emit("filterbuilder.remove",this.scope_.item)};
goog.exportProperty(os.ui.filter.ui.GroupNodeUICtrl.prototype,"remove",os.ui.filter.ui.GroupNodeUICtrl.prototype.remove);os.ui.filter.ui.GroupNodeViewUIDirective=function(){return{restrict:"AE",replace:!0,template:"<span><span>{{groupUi.group}}</span></span>",controller:os.ui.filter.ui.GroupNodeViewUICtrl,controllerAs:"groupUi"}};os.ui.Module.directive("groupnodeviewui",[os.ui.filter.ui.GroupNodeViewUIDirective]);os.ui.filter.ui.GroupNodeViewUICtrl=function(a,b){this.scope_=a;this.group=os.ui.filter.ui.GroupNodeViewUICtrl.GROUPS[this.scope_.item.getGrouping()]};
os.ui.filter.ui.GroupNodeViewUICtrl.GROUPS={And:"All (AND)",Or:"Any (OR)",Not:"Not"};os.ui.nodeToggleFolderDirective=function(){var a=os.ui.nodeToggleDirective();a.template="<span>"+a.template+"<i class=\"fa fa-fw action\" ng-class=\"{'fa-folder': item.collapsed, 'fa-folder-open': !item.collapsed}\"></i></span>";a.controller=os.ui.NodeToggleFolderCtrl;return a};os.ui.Module.directive("nodetogglefolder",[os.ui.nodeToggleFolderDirective]);os.ui.NodeToggleFolderCtrl=function(a,b){os.ui.NodeToggleCtrl.call(this,a,b)};goog.inherits(os.ui.NodeToggleFolderCtrl,os.ui.NodeToggleCtrl);
os.ui.NodeToggleFolderCtrl.prototype.onPropertyChange=function(a){};os.ui.NodeToggleFolderCtrl.prototype.updateOpacity=function(){};os.ui.filter.ui.GroupNode=function(a){os.ui.slick.SlickTreeNode.call(this);this.grouping="And";this.setCheckboxVisible(!1);this.nodeUI=a?"<groupnodeviewui></groupnodeviewui>":"<groupnodeui></groupnodeui>";this.collapsed=!1};goog.inherits(os.ui.filter.ui.GroupNode,os.ui.slick.SlickTreeNode);os.ui.filter.ui.GroupNode.prototype.getGrouping=function(){return this.grouping};os.ui.filter.ui.GroupNode.prototype.setGrouping=function(a){this.grouping=a};
os.ui.filter.ui.GroupNode.prototype.writeFilter=function(a,b){var c=this.getChildren(),d="";if(c){d=this.grouping;a&&(d+=' namehint="'+os.xml.escape(a)+'"');b&&(d+=' description="'+os.xml.escape(b)+'"');d="<"+d+">";a=0;for(b=c.length;a<b;a++)d+=c[a].writeFilter();d+="</"+this.grouping+">"}return d};os.ui.filter.ui.GroupNode.prototype.updateFrom=function(a){os.ui.filter.ui.GroupNode.superClass_.updateFrom.call(this,a);this.setGrouping(a.getGrouping())};
os.ui.filter.ui.GroupNode.prototype.format=function(a,b,c){a=this.getSpacer(19*this.depth);a=a+"<nodetogglefolder></nodetogglefolder>"+this.formatNodeUI();return a+"<nodeicons></nodeicons>"};os.ui.window.ConfirmComponentCtrl={};os.ui.window.confirmDirective=function(){return{restrict:"E",transclude:!0,scope:!0,templateUrl:os.ROOT+"views/window/confirm.html",controller:os.ui.window.ConfirmCtrl,controllerAs:"confirm"}};os.ui.Module.directive("confirm",[os.ui.window.confirmDirective]);
os.ui.window.launchConfirm=function(a){a=a||{};var b=a.windowOptions||{},c=b.height||140,d=b.width||325;os.ui.window.create({label:b.label||"Confirm",icon:b.icon||"",x:b.x||"center",y:b.y||"center",width:d,"min-width":b.minWidth||d,"max-width":b.maxWidth||d,height:c,"min-height":b.minHeight||c,"max-height":b.maxHeight||c,modal:null!=b.modal?b.modal:!0,"show-close":null!=b.showClose?b.showClose:!1,"no-scroll":null!=b.noScroll?b.noScroll:!0},"<confirm>"+(a.prompt||"Are you sure?")+"</confirm>",void 0,
void 0,void 0,{confirmCallback:a.confirm||goog.nullFunction,cancelCallback:a.cancel||goog.nullFunction,yesText:a.yesText||"OK",yesIcon:a.yesIcon||"fa fa-check lt-blue-icon",noText:a.noText||"Cancel",noIcon:a.noIcon||"fa fa-ban red-icon",formClass:a.formClass||"form-horizontal"})};
os.ui.window.ConfirmCtrl=function(a,b){this.scope_=a;this.element_=b;null==this.scope_.valid&&(this.scope_.valid=!0);this.keyHandler_=new goog.events.KeyHandler(goog.dom.getDocument());this.keyHandler_.listen(goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent_,!1,this);a.$on("$destroy",this.onDestroy_.bind(this))};os.ui.window.ConfirmCtrl.prototype.onDestroy_=function(){goog.dispose(this.keyHandler_);this.scope_=this.element_=null};
os.ui.window.ConfirmCtrl.prototype.cancel=function(){this.scope_.cancelCallback&&this.scope_.cancelCallback();this.close_()};goog.exportProperty(os.ui.window.ConfirmCtrl.prototype,"cancel",os.ui.window.ConfirmCtrl.prototype.cancel);os.ui.window.ConfirmCtrl.prototype.confirm=function(){if(this.scope_.confirmCallback){var a=this.scope_.confirmValue;null==a&&(a=this.element_.find(".confirm-text").children().first().scope().confirmValue);this.scope_.confirmCallback(a)}this.close_()};
goog.exportProperty(os.ui.window.ConfirmCtrl.prototype,"confirm",os.ui.window.ConfirmCtrl.prototype.confirm);os.ui.window.ConfirmCtrl.prototype.close_=function(){os.ui.window.close(this.element_)};os.ui.window.ConfirmCtrl.prototype.handleKeyEvent_=function(a){a.keyCode==goog.events.KeyCodes.ESC&&this.cancel()};os.ui.filter.advancedFilterBuilderDirective=function(){return{restrict:"AE",replace:!0,scope:{root:"=",columns:"=",viewonly:"=?"},templateUrl:os.ROOT+"views/filter/advancedfilterbuilder.html",controller:os.ui.filter.AdvancedFilterBuilderCtrl,controllerAs:"advCtrl"}};os.ui.Module.directive("advancedfilterbuilder",[os.ui.filter.advancedFilterBuilderDirective]);
os.ui.filter.AdvancedFilterBuilderCtrl=function(a,b){this.scope_=a;this.scrollDelay_=new goog.async.Delay(this.onScrollDelay_,50,this);this.lastAddedNode_=null;this.gridOptions={multiSelect:!1};this.tree=[];this.selected=null;this.editing=!1;this.updateTree_();a.$on("tabChange",this.onTabChange_.bind(this));a.$on("advancedfilterbuilder.editExpr",this.onExprEdit_.bind(this));a.$on("$destroy",this.onDestroy_.bind(this))};os.ui.filter.AdvancedFilterBuilderCtrl.LOGGER_=goog.log.getLogger("os.ui.filter.AdvancedFilterBuilderCtrl");
os.ui.filter.AdvancedFilterBuilderCtrl.prototype.onDestroy_=function(){this.scope_=null;goog.dispose(this.scrollDelay_);this.scrollDelay_=null;os.ui.filter.AdvancedFilterBuilderCtrl.closeExprWindow_()};os.ui.filter.AdvancedFilterBuilderCtrl.EXPR_WINDOW_ID="editExpr";os.ui.filter.AdvancedFilterBuilderCtrl.prototype.onTabChange_=function(){this.updateTree_();this.onEditComplete_();os.ui.filter.AdvancedFilterBuilderCtrl.closeExprWindow_()};
os.ui.filter.AdvancedFilterBuilderCtrl.prototype.updateTree_=function(){this.tree=[this.scope_.root];this.scope_.$broadcast(os.ui.slick.SlickGridEvent.INVALIDATE_ROWS);this.scrollDelay_.start()};os.ui.filter.AdvancedFilterBuilderCtrl.prototype.onExprEdit_=function(a,b){this.edit(b.getExpression(),b)};os.ui.filter.AdvancedFilterBuilderCtrl.prototype.doEditExpr_=function(a,b){this.onEditComplete_();this.scope_.viewonly||b.setExpression(a);this.updateTree_()};
os.ui.filter.AdvancedFilterBuilderCtrl.prototype.getAddParent_=function(){var a=this.selected;goog.isArray(a)&&(a=0<a.length?a[0]:null);a||(a=this.scope_.root);return a};
os.ui.filter.AdvancedFilterBuilderCtrl.prototype.doAddExpr_=function(a){this.onEditComplete_();var b=this.getAddParent_();if(b){b=b instanceof os.ui.filter.ui.GroupNode?b:b.getParent();var c=new os.ui.filter.ui.ExpressionNode;c.setExpression(a);b.addChild(c,void 0,0);b.collapsed=!1;this.lastAddedNode_=c;this.updateTree_()}else goog.log.error(os.ui.filter.AdvancedFilterBuilderCtrl.LOGGER_,"Failed adding expression. Unable to determine parent.")};
os.ui.filter.AdvancedFilterBuilderCtrl.prototype.addGrouping=function(){this.onEditComplete_();var a=this.getAddParent_();if(a){a=a instanceof os.ui.filter.ui.GroupNode?a:a.getParent();var b=new os.ui.filter.ui.GroupNode;a.addChild(b,void 0,0);a.collapsed=!1;this.lastAddedNode_=b;this.updateTree_()}else goog.log.error(os.ui.filter.AdvancedFilterBuilderCtrl.LOGGER_,"Failed adding group. Unable to determine parent.")};
goog.exportProperty(os.ui.filter.AdvancedFilterBuilderCtrl.prototype,"addGrouping",os.ui.filter.AdvancedFilterBuilderCtrl.prototype.addGrouping);os.ui.filter.AdvancedFilterBuilderCtrl.prototype.addExpr=function(){this.edit()};goog.exportProperty(os.ui.filter.AdvancedFilterBuilderCtrl.prototype,"addExpr",os.ui.filter.AdvancedFilterBuilderCtrl.prototype.addExpr);
os.ui.filter.AdvancedFilterBuilderCtrl.prototype.edit=function(a,b){if(!os.ui.window.exists(os.ui.filter.AdvancedFilterBuilderCtrl.EXPR_WINDOW_ID)){var c=!!a;this.editing=!0;var d={id:os.ui.filter.AdvancedFilterBuilderCtrl.EXPR_WINDOW_ID,x:"center",y:"center",label:(c?"Edit":"Add")+" Expression","show-close":!1,"no-scroll":!0,"z-index":"10002",width:750,"min-width":500,"max-widith":1E3,height:150,"min-height":100,"max-height":200,icon:"fa fa-file"};a=a?a.clone():new os.ui.filter.Expression;a={confirmCallback:c&&
b?this.doEditExpr_.bind(this,a,b):this.doAddExpr_.bind(this,a),cancelCallback:this.onEditComplete_.bind(this),yesText:"OK",yesIcon:"btn-icon fa fa-check color-add",noText:"Cancel",noIcon:"btn-icon fa fa-ban red-icon",expr:a,columns:this.scope_.columns};a.columns&&a.columns.sort(os.ui.filter.AdvancedFilterBuilderCtrl.sortColumns);os.ui.window.create(d,'<confirm><expression expr="expr" columns="columns"></expression></confirm>',void 0,this.scope_,void 0,a)}};
goog.exportProperty(os.ui.filter.AdvancedFilterBuilderCtrl.prototype,"edit",os.ui.filter.AdvancedFilterBuilderCtrl.prototype.edit);os.ui.filter.AdvancedFilterBuilderCtrl.prototype.canRemove=function(){return this.selected&&this.selected!==this.scope_.root};goog.exportProperty(os.ui.filter.AdvancedFilterBuilderCtrl.prototype,"canRemove",os.ui.filter.AdvancedFilterBuilderCtrl.prototype.canRemove);
os.ui.filter.AdvancedFilterBuilderCtrl.prototype.remove=function(){this.canRemove()&&this.scope_.$emit("filterbuilder.remove",this.selected)};goog.exportProperty(os.ui.filter.AdvancedFilterBuilderCtrl.prototype,"remove",os.ui.filter.AdvancedFilterBuilderCtrl.prototype.remove);os.ui.filter.AdvancedFilterBuilderCtrl.prototype.onEditComplete_=function(){this.editing=!1};
os.ui.filter.AdvancedFilterBuilderCtrl.prototype.onScrollDelay_=function(){this.lastAddedNode_&&(this.selected=this.lastAddedNode_,this.scope_.$broadcast(os.ui.slick.SlickGridEvent.SCROLL_TO,this.lastAddedNode_),this.lastAddedNode_=null,os.ui.apply(this.scope_))};os.ui.filter.AdvancedFilterBuilderCtrl.sortColumns=function(a,b){return goog.string.caseInsensitiveCompare(a.name,b.name)};
os.ui.filter.AdvancedFilterBuilderCtrl.closeExprWindow_=function(){var a=angular.element("#"+os.ui.filter.AdvancedFilterBuilderCtrl.EXPR_WINDOW_ID);a&&os.ui.window.close(a)};os.ui.slick.slickTreeDirective=function(){return{restrict:"AE",replace:!0,template:'<div class="slick-tree"></div>',scope:{data:"=",selected:"=",contextMenu:"&",checkboxClass:"@",checkboxTooltip:"@",disableFolders:"@",disableSelection:"@",dragEnabled:"@",multiSelect:"@",resizeWith:"@",spinClass:"@",showRoot:"@",disposable:"@",dblClickHandler:"=?",winLauncherClass:"@",noRoot:"@"},controller:os.ui.slick.SlickTreeCtrl,controllerAs:"tree"}};os.ui.Module.directive("slicktree",[os.ui.slick.slickTreeDirective]);
os.ui.slick.SlickTreeCtrl=function(a,b,c){a.dblClickEnabled=!0;this.multiSelect="true"==a.multiSelect;os.ui.slick.SlickGridCtrl.call(this,a,b,c);this.checkboxClass_=a.checkboxClass||"tristate";this.spinClass_=a.spinClass||"fa-spin fa-spinner";this.winLauncherClass_=a.winLauncherClass||"fa fa-plus";this.treeData_=[];this.dataView.setFilter(this.treeFilter_.bind(this));a.multiSelect="true"==a.multiSelect;a.disableFolders=goog.isDefAndNotNull(a.disableFolders);a.showRoot=goog.isDefAndNotNull(a.showRoot);
a.noRoot=goog.isDefAndNotNull(a.noRoot);a.noRoot&&(a.showRoot=!1);a.disposable=goog.isDefAndNotNull(a.disposable);this.grid.onRowRender.subscribe(this.onRowRender.bind(this));this.grid.onRowRemove.subscribe(this.onRowRemove.bind(this));this.grid.onActiveCellChanged.subscribe(this.apply.bind(this));this.root_=null;this.rootChangeDelay_=new goog.async.Delay(this.flattenRoot_,10,this);this.moveMode=os.ui.slick.SlickTreeNode.MOVE_MODE.SIBLING};goog.inherits(os.ui.slick.SlickTreeCtrl,os.ui.slick.SlickGridCtrl);
os.ui.slick.SlickTreeCtrl.prototype.disposeInternal=function(){this.disposeRoot_();this.treeData_=this.compile=null;this.rootChangeDelay_&&(this.rootChangeDelay_.dispose(),os.ui.slick.SlickTreeCtrl.superClass_.disposeInternal.call(this));this.rootChangeDelay_=null};
os.ui.slick.SlickTreeCtrl.prototype.disposeRoot_=function(){this.root_&&(this.root_.unlisten(goog.events.EventType.PROPERTYCHANGE,this.onRootChange_,!1,this),this.destroyRoot_&&(this.scope.disposable||this.root_.setChildren(null),this.root_.dispose()),this.root_=null);this.destroyRoot_=!1};
os.ui.slick.SlickTreeCtrl.prototype.getOptions=function(){return{enableCellNavigation:"true"!=this.scope.disableSelection,fullWidthRows:!0,forceFitColumns:!0,multiSelect:this.multiSelect,useRowRenderEvents:!0,headerRowHeight:0,rowHeight:21}};os.ui.slick.SlickTreeCtrl.prototype.getColumns=function(){return[{id:"label",name:"Label",field:"label",sortable:!1,formatter:this.treeFormatter.bind(this)}]};
os.ui.slick.SlickTreeCtrl.prototype.getContextArgs=function(a){var b;if(a)try{var c=goog.dom.getAncestor(a.target,this.isTreeNode_.bind(this));c&&(b=angular.element(c).scope().item)}catch(d){}b&&(!this.scope.selected||!this.multiSelect&&this.scope.selected!=b||goog.isArray(this.scope.selected)&&!goog.array.contains(this.scope.selected,b))&&(this.scope.selected=[b]);return this.scope.selected};
os.ui.slick.SlickTreeCtrl.prototype.isTreeNode_=function(a){return goog.dom.classlist.contains(a,"ng-scope")?(a=angular.element(a).scope(),goog.isDefAndNotNull(a)&&"item"in a&&a.item instanceof os.ui.slick.SlickTreeNode):!1};os.ui.slick.SlickTreeCtrl.prototype.onDataChange=function(a,b){a&&this.changeData_(a)};
os.ui.slick.SlickTreeCtrl.prototype.changeData_=function(a){a!==this.root_&&this.disposeRoot_();goog.isArray(a)||(a=[a]);this.scope.noRoot||1!=a.length?(this.root_=new os.ui.slick.SlickTreeNode,this.destroyRoot_=!0,this.root_.setChildren(a,!0)):(this.root_!==a[0]&&(this.root_=a[0]),!this.scope.showRoot&&this.root_.getChildren()&&0<this.root_.getChildren().length&&(a=this.root_.getChildren()));!this.scope.noRoot&&this.root_&&this.root_.listen(goog.events.EventType.PROPERTYCHANGE,this.onRootChange_,
!1,this);this.treeData_.length=0;os.ui.slick.SlickTreeCtrl.flatten_(a,this.treeData_);this.updateData(this.treeData_);this.invalidateRows()};os.ui.slick.SlickTreeCtrl.prototype.onRootChange_=function(a){var b=a.getProperty();("children"==b||"label"==b&&this.root_)&&this.rootChangeDelay_.start();"scrollRowIntoView"==b&&(a=a.getNewValue())&&(a=this.dataView.getRowById(a),this.grid.scrollRowIntoView(a,0))};os.ui.slick.SlickTreeCtrl.prototype.flattenRoot_=function(){this.changeData_(this.root_)};
os.ui.slick.SlickTreeCtrl.flattenId_=0;os.ui.slick.SlickTreeCtrl.flatten_=function(a,b,c){c||(c=0);if(a)for(var d=b.length-1,e=0,f=a.length;e<f;e++){var g=a[e];g.id=g.id||os.ui.slick.SlickTreeCtrl.flattenId_++;g.depth=c;g.parentIndex=0<c?d:-1;b.push(g);g.getChildren()&&os.ui.slick.SlickTreeCtrl.flatten_(g.getChildren(),b,c+1)}};
os.ui.slick.SlickTreeCtrl.getVisibleData_=function(a,b){if(a)for(var c=0,d=a.length;c<d;c++){var e=a[c];b.push(e);!e.collapsed&&e.getChildren()&&os.ui.slick.SlickTreeCtrl.getVisibleData_(e.getChildren(),b)}};
os.ui.slick.SlickTreeCtrl.prototype.onItemClick=function(a,b){var c=this.dataView.getItem(b.row);c&&goog.dom.classlist.contains(a.target,"tree-expand-collapse")&&(c.setCollapsed(!c.collapsed),this.dataView.updateItem(c.id,c),this.scope.$emit("collapseChange"));os.ui.slick.SlickTreeCtrl.superClass_.onItemClick.call(this,a,b)};
os.ui.slick.SlickTreeCtrl.prototype.onDblClick=function(a,b){(a=this.dataView.getItem(b.row))&&(b=a.getChildren())&&0<b.length&&(a.setCollapsed(!a.collapsed),this.dataView.updateItem(a.id,a),this.scope.$emit("collapseChange"))};
os.ui.slick.SlickTreeCtrl.prototype.onMouseEnter=function(a,b){if(!this.inEvent){this.inEvent=!0;a=this.grid.getCellFromEvent(a).row;(b=this.grid.getCellNode(a,0))&&$(b).addClass("hovered");if(a=this.grid.getDataItem(a))try{a.onMouseEnter()}catch(c){}this.apply();this.inEvent=!1}};
os.ui.slick.SlickTreeCtrl.prototype.onMouseLeave=function(a,b){if(!this.inEvent){this.inEvent=!0;this.element.find(".hovered").removeClass("hovered");a=this.grid.getCellFromEvent(a).row;if(a=this.grid.getDataItem(a))try{a.onMouseLeave()}catch(c){}this.apply();this.inEvent=!1}};os.ui.slick.SlickTreeCtrl.prototype.treeFilter_=function(a){for(a=-1<a.parentIndex?this.treeData_[a.parentIndex]:null;a;){if(a.collapsed)return!1;a=-1<a.parentIndex?this.treeData_[a.parentIndex]:null}return!0};
os.ui.slick.SlickTreeCtrl.prototype.treeFormatter=function(a,b,c,d,e){goog.isDefAndNotNull(c)||(c="");return e.format(a,b,c)};os.ui.slick.SlickTreeCtrl.prototype.onRowRender=function(a,b){a=this.scope.$new();this.initRowScope(a,b.row,b.node,b.item);this.compile(b.node)(a)};
os.ui.slick.SlickTreeCtrl.prototype.initRowScope=function(a,b,c,d){a.item=d;b=a.item;a.chkClass=b.checkboxClass||this.checkboxClass_;a.spinClass=this.spinClass_;a.disableFolders=b.getDisableFolder()||this.scope.disableFolders;a.chkTooltip=b.checkboxTooltip||this.scope.checkboxTooltip;a.itemAction=this.onItemAction_.bind(this,d);a.winLauncherClass=b.winLauncherClass||this.winLauncherClass_};os.ui.slick.SlickTreeCtrl.prototype.onItemAction_=function(a,b){a instanceof os.ui.slick.SlickTreeNode&&a.performAction(b)};
os.ui.slick.SlickTreeCtrl.prototype.getData=function(){var a=this.scope.data||[];goog.isArray(a)||(a=[a]);return a};os.ui.slick.SlickTreeCtrl.prototype.updateSiblings_=function(a,b,c,d){var e=b.getChildren(),f=goog.array.findIndex(e,function(b){return b==a[d]});-1==f&&(f=0);var g=e.slice(0,f),h=e.slice(f,e.length);e=[];f=0;for(var k=c.length;f<k;f++){var l=a[c[f]];b.hasChild(l)&&e.push(l)}goog.array.forEach(e,function(a){goog.array.remove(g,a);goog.array.remove(h,a)});return e=g.concat(e.concat(h))};
os.ui.slick.SlickTreeCtrl.prototype.updateHierarchy_=function(a,b,c){var d=null;c instanceof os.ui.slick.SlickTreeNode?d=c:"number"==typeof c&&(this.scope.showRoot&&this.moveMode==os.ui.slick.SlickTreeNode.MOVE_MODE.REPARENT_TO_ROOT?d=this.root_:this.moveMode!=os.ui.slick.SlickTreeNode.MOVE_MODE.REPARENT_TO_ROOT&&(d=a[c]||this.root_));var e=a[b[0]],f=[];goog.array.forEach(b,function(c){c=a[c];e.getDepth()==c.getDepth()&&f.push(c);var d=c.getParent();d&&(goog.array.find(b,function(b){return d===a[b]})||
d.removeChild(c))});goog.array.forEach(f,function(a){a.setParent(d)})};
os.ui.slick.SlickTreeCtrl.prototype.canDragMove=function(a,b){if(isNaN(b)||this.scope.showRoot&&0==b||!this.scope.showRoot&&b>this.dataView.getItems().length-1)return!1;var c=this.dataView.getItem(a[0]),d=this.dataView.getItem(b);if(!c||c==this.root_)return!1;if(!d)return!0;for(var e=c.getDepth(),f=0,g=a.length;f<g;f++)if(this.dataView.getItem(a[f]).getDepth()<e||a[f]==b)return!1;return d.hasElder(c)||d==c.getParent()&&this.moveMode!=os.ui.slick.SlickTreeNode.MOVE_MODE.SIBLING||!this.scope.showRoot&&
d==this.root_||c.getParentIndex()==d.getParentIndex()&&this.moveMode!=os.ui.slick.SlickTreeNode.MOVE_MODE.REPARENT&&(a=c.getParent(),a||(a=this.root_),a=a.getChildren(),b=goog.array.findIndex(a,function(a){return a==c}),b<a.length-1&&a[b+1]==d)?!1:this.moveMode==os.ui.slick.SlickTreeNode.MOVE_MODE.SIBLING?!0:d.isChildAllowed()};
os.ui.slick.SlickTreeCtrl.prototype.onDrag=function(a,b){if(!this.dragging)return!1;a.stopImmediatePropagation();var c=this.calcPos(a);a=this.grid.getOptions().rowHeight;var d=c/a,e=d%(Math.floor(d)||1),f=this.grid.getDataLength();b.rect.css("top",c-5);c=Math.max(0,Math.min(Math.round(d),f));this.moveMode=os.ui.slick.SlickTreeNode.MOVE_MODE.SIBLING;b.rows.sort(os.ui.slick.SlickGridCtrl.rowSort);if(d<f&&.4<e&&.6>e)this.moveMode=os.ui.slick.SlickTreeNode.MOVE_MODE.REPARENT,f=Math.floor(d),this.canDragMove(b.rows,
f)?(d=this.dataView.getItem(f),b.guide.css("top",(c+(0==Math.round(e)?.5:-.5))*a),b.guide.css("left",15*(d.getDepth()+1)),b.rect.css("background","blue"),b.canMove=!0):(b.guide.css("top",-1E3),b.rect.css("background","red"),b.canMove=!1),b.insertBefore=f;else{if(this.canDragMove(b.rows,c)){d=this.dataView.getItem(c);e=this.dataView.getItem(b.rows[0]);var g=d?d.getDepth():0;b.guide.css("top",c*a);b.guide.css("left",15*(g+1));b.rect.css("background","blue");b.canMove=!0;d&&d.getParentIndex()!=e.getParentIndex()?
-1==d.getParentIndex()?this.moveMode=os.ui.slick.SlickTreeNode.MOVE_MODE.REPARENT_TO_ROOT:this.moveMode=os.ui.slick.SlickTreeNode.MOVE_MODE.REPARENT_LOOKUP_PARENT:c==f&&(this.moveMode=os.ui.slick.SlickTreeNode.MOVE_MODE.REPARENT_TO_ROOT)}else b.guide.css("top",-1E3),b.guide.css("left",0),b.rect.css("background","red"),b.canMove=!1;b.insertBefore=c}return!0};
os.ui.slick.SlickTreeCtrl.prototype.doMove=function(a,b){var c=this.treeData_?this.treeData_.filter(this.treeFilter_.bind(this)):[],d=[];if(this.moveMode==os.ui.slick.SlickTreeNode.MOVE_MODE.SIBLING){var e=c[a[0]].getParent();e||(e=this.root_);a=this.updateSiblings_(c,e,a,b);e.setChildren(a,e==this.root_&&!this.scope.showRoot);e==this.root_?d=this.scope.showRoot?this.root_:a:goog.array.forEach(c,function(a){a.getParent()||d.push(a)})}else{var f=b;if(this.moveMode==os.ui.slick.SlickTreeNode.MOVE_MODE.REPARENT_LOOKUP_PARENT){var g=
c[b].getParent();b=goog.array.findIndex(c,function(a){return a.getId()==g.getId()});0>b&&(b=g)}this.updateHierarchy_(c,a,b);if(this.moveMode==os.ui.slick.SlickTreeNode.MOVE_MODE.REPARENT_TO_ROOT){var h=c.slice(0,b),k=c.slice(b,c.length);e=[];b=0;for(f=a.length;b<f;b++)e.push(c[a[b]]);goog.array.forEach(e,function(a){goog.array.remove(h,a);goog.array.remove(k,a)});c=h.concat(e.concat(k))}else e=c[a[0]].getParent(),e.setChildren(this.updateSiblings_(c,e,a,f),!1);goog.array.forEach(c,function(a){a.getParent()||
d.push(a)})}this.scope.data=d;os.ui.apply(this.scope);this.invalidateRows();this.scope.$emit("slicktree.update",this.scope.data)};os.ui.filter.basicFilterTreeDirective=function(){var a=os.ui.slick.slickTreeDirective();a.controller=os.ui.filter.BasicFilterTreeCtrl;return a};os.ui.Module.directive("basicfiltertree",[os.ui.filter.basicFilterTreeDirective]);os.ui.filter.BasicFilterTreeCtrl=function(a,b,c){os.ui.slick.SlickTreeCtrl.call(this,a,b,c)};goog.inherits(os.ui.filter.BasicFilterTreeCtrl,os.ui.slick.SlickTreeCtrl);
os.ui.filter.BasicFilterTreeCtrl.prototype.treeFormatter=function(a,b,c,d,e){return 1==a%2?'<div style="text-align:center" ng-bind="root.grouping"></div>':'<span class="pull-right" ng-if="hasMultipleFilters()"><button class="btn btn-default" tabindex="-1" ng-click="$emit(\'filterbuilder.remove\', item)" title="Remove this expression"><i class="fa fa-times red-icon"></i></button></span><expression expr="item.getExpression()" columns="columns"></expression>'};
os.ui.filter.BasicFilterTreeCtrl.prototype.getOptions=function(){var a=os.ui.filter.BasicFilterTreeCtrl.superClass_.getOptions.call(this);a.rowHeight=26;return a};os.ui.filter.BasicFilterTreeCtrl.prototype.initRowScope=function(a,b,c,d){a.columns=this.scope.$parent.columns;a.root=this.scope.$parent.root;a.hasMultipleFilters=this.hasMultipleFilters.bind(this);os.ui.filter.BasicFilterTreeCtrl.superClass_.initRowScope.call(this,a,b,c,d)};
os.ui.filter.BasicFilterTreeCtrl.prototype.hasMultipleFilters=function(){if(this.scope&&this.scope.$parent&&this.scope.$parent.root){var a=this.scope.$parent.root.getChildren();return!!a&&1<a.length}return!1};os.ui.filter.BasicFilterTreeCtrl.prototype.updateData=function(a){for(var b=1,c=2*a.length-1;b<c;b+=2){var d=new os.ui.slick.SlickTreeNode;d.id="g."+b;a.splice(b,0,d)}os.ui.filter.BasicFilterTreeCtrl.superClass_.updateData.call(this,a)};os.ui.filter.basicFilterBuilderDirective=function(){return{restrict:"AE",replace:!0,scope:{root:"=",columns:"=",isComplex:"="},templateUrl:os.ROOT+"views/filter/basicfilterbuilder.html",controller:os.ui.filter.BasicFilterBuilderCtrl,controllerAs:"basicCtrl"}};os.ui.Module.directive("basicfilterbuilder",[os.ui.filter.basicFilterBuilderDirective]);
os.ui.filter.BasicFilterBuilderCtrl=function(a){this.scope_=a;this.scrollDelay_=new goog.async.Delay(this.onScrollDelay_,50,this);this.root_=a.root;this.root_.getChildren()||this.add();a.$on("$destroy",this.onDestroy_.bind(this))};os.ui.filter.BasicFilterBuilderCtrl.prototype.onDestroy_=function(){this.scope_=null;for(var a=this.root_.getChildren().slice(),b=0;b<a.length;b++){var c=a[b];if(c instanceof os.ui.filter.ui.ExpressionNode){var d=c.getExpression();d.validate(d.literal)||c.getParent().removeChild(c)}}};
os.ui.filter.BasicFilterBuilderCtrl.prototype.add=function(a){a=os.ui.filter.ui.ExpressionNode.createExpressionNode(a||null,this.scope_.columns);this.root_.addChild(a);this.scrollDelay_.start()};goog.exportProperty(os.ui.filter.BasicFilterBuilderCtrl.prototype,"add",os.ui.filter.BasicFilterBuilderCtrl.prototype.add);os.ui.filter.BasicFilterBuilderCtrl.prototype.onScrollDelay_=function(){var a=this.root_.getChildren();a&&this.scope_.$broadcast(os.ui.slick.SlickGridEvent.SCROLL_TO,a[a.length-1])};os.ui.filter.ui.editFiltersDirective=function(){return{restrict:"AE",replace:!0,scope:!0,templateUrl:os.ROOT+"views/filter/editfilters.html",controller:os.ui.filter.ui.EditFiltersCtrl,controllerAs:"filters"}};os.ui.Module.directive("editfilter",[os.ui.filter.ui.editFiltersDirective]);
os.ui.filter.ui.EditFiltersCtrl=function(a,b){this.scope=a;this.element=b;this.entry=a.entry;this.root=null;this.title=this.entry.getTitle();this.description=this.entry.getDescription();this.isComplex=!1;this.create_();this.checkFilter_();a.tab=this.isComplex?"advanced":"basic";a.$on("filterbuilder.remove",goog.bind(this.onRemove_,this));a.$on("$destroy",goog.bind(this.onDestroy,this));this.entry.getFilter()?os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Filters.EDIT,1):os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Filters.NEW,
1)};os.ui.filter.ui.EditFiltersCtrl.prototype.onDestroy=function(){os.ui.filter.ui.EditFiltersCtrl.closeRemoveMultipleWindow_();this.element=this.scope=null};os.ui.filter.ui.EditFiltersCtrl.prototype.checkFilter_=function(){var a=this.root;this.isComplex=!1;if(a&&a.getChildren()){var b=a.getChildren();if("Not"==a.getGrouping())this.isComplex=!0;else for(a=0;a<b.length;a++)if(b[a]instanceof os.ui.filter.ui.GroupNode){this.isComplex=!0;break}}};
os.ui.filter.ui.EditFiltersCtrl.prototype.create_=function(a){this.root=new os.ui.filter.ui.GroupNode;if(a=this.entry.getFilterNode())this.root.setGrouping(a.localName),this.readFilters_(a,this.root)};os.ui.filter.ui.EditFiltersCtrl.prototype.readFilters_=function(a,b){a=goog.dom.getFirstElementChild(a);for(var c;a;){var d=this.addTreeNode_(a,b);c=goog.dom.getNextElementSibling(a);d instanceof os.ui.filter.ui.GroupNode&&this.readFilters_(a,d);a=c}};
os.ui.filter.ui.EditFiltersCtrl.prototype.addTreeNode_=function(a,b){for(var c=!1,d=0;d<os.ui.filter.OPERATIONS.length;d++)if(os.ui.filter.OPERATIONS[d].matches(angular.element(a))){c=!0;break}if(c)return a=os.ui.filter.ui.ExpressionNode.createExpressionNode(a,this.scope.columns),b.addChild(a),b.collapsed=!1,a;c=new os.ui.filter.ui.GroupNode;c.setGrouping(a.localName);b.addChild(c);return c};
os.ui.filter.ui.EditFiltersCtrl.prototype.onRemove_=function(a,b){b.getChildren()?os.ui.window.exists("removeMultiple")||(a={confirmCallback:this.doRemove_.bind(this,b),cancelCallback:goog.nullFunction,yesText:"Yes",noText:"No"},os.ui.window.create({id:"removeMultiple",x:"center",y:"center",label:"Remove Items","show-close":!1,"no-scroll":!0,"z-index":"10003",width:300,height:125,icon:"fa fa-warning"},"<confirm>Are you sure you want to remove multiple items from the filter?</confirm>",void 0,void 0,
void 0,a)):this.doRemove_(b)};os.ui.filter.ui.EditFiltersCtrl.prototype.doRemove_=function(a){a.getParent().removeChild(a)};os.ui.filter.ui.EditFiltersCtrl.prototype.setTab=function(a){this.checkFilter_();this.scope.tab=a;this.scope.$broadcast("tabChange",a)};goog.exportProperty(os.ui.filter.ui.EditFiltersCtrl.prototype,"setTab",os.ui.filter.ui.EditFiltersCtrl.prototype.setTab);os.ui.filter.ui.EditFiltersCtrl.prototype.isInvalid=function(){return"basic"===this.scope.tab&&this.isComplex||this.isNodeInvalid(this.root)};
goog.exportProperty(os.ui.filter.ui.EditFiltersCtrl.prototype,"isInvalid",os.ui.filter.ui.EditFiltersCtrl.prototype.isInvalid);os.ui.filter.ui.EditFiltersCtrl.prototype.isNodeInvalid=function(a){if(a instanceof os.ui.filter.ui.GroupNode){if((a=a.getChildren())&&a.length){for(var b=0,c=a.length;b<c;b++)if(this.isNodeInvalid(a[b]))return!0;return!1}}else if(a instanceof os.ui.filter.ui.ExpressionNode)return a=a.getExpression(),!a.validate(a.literal);return!0};
os.ui.filter.ui.EditFiltersCtrl.prototype.cancel=function(){os.ui.window.close(this.element)};goog.exportProperty(os.ui.filter.ui.EditFiltersCtrl.prototype,"cancel",os.ui.filter.ui.EditFiltersCtrl.prototype.cancel);os.ui.filter.ui.EditFiltersCtrl.prototype.finish=function(){this.entry.setTitle(this.title);this.entry.setDescription(this.description);var a=this.root.writeFilter(this.title,this.description);this.entry.setFilter(a);this.scope.callback&&this.scope.callback(this.entry);os.ui.window.close(this.element)};
goog.exportProperty(os.ui.filter.ui.EditFiltersCtrl.prototype,"finish",os.ui.filter.ui.EditFiltersCtrl.prototype.finish);os.ui.filter.ui.EditFiltersCtrl.closeRemoveMultipleWindow_=function(){var a=angular.element("#removeMultiple");a&&os.ui.window.close(a)};os.ui.query.cmd.QueryEntries=function(a,b,c,d){this.newEntries=a;this.oldEntries=os.ui.queryManager.getEntries();this.merge=goog.isDef(b)?b:!1;this.layerHint=c;this.immediate=goog.isDef(d)?d:!1};os.ui.query.cmd.QueryEntries.prototype.isAsync=!1;os.ui.query.cmd.QueryEntries.prototype.title="Change query entries";os.ui.query.cmd.QueryEntries.prototype.details=null;os.ui.query.cmd.QueryEntries.prototype.state=os.command.State.READY;
os.ui.query.cmd.QueryEntries.prototype.canExecute=function(){return this.state!==os.command.State.READY?(this.details="Command not in ready state.",!1):this.newEntries?this.oldEntries?this.merge&&0===this.newEntries.length&&!this.layerHint?(this.details="When merging an empty set, the layer hint must be supplied",!1):!0:(this.details="No old entries found.",!1):(this.details="No new entries provided.",!1)};
os.ui.query.cmd.QueryEntries.prototype.execute=function(){if(this.canExecute()){this.state=os.command.State.EXECUTING;var a=os.ui.queryManager,b=this.merge?os.ui.query.cmd.QueryEntries.merge(this.newEntries,this.oldEntries,this.layerHint):this.newEntries;a.removeEntries(void 0,void 0,void 0,!0);a.addEntries(b,this.immediate,this.layerHint);this.state=os.command.State.SUCCESS;return!0}return!1};
os.ui.query.cmd.QueryEntries.merge=function(a,b,c){var d={};c&&(d[c]=!0);c=0;for(var e=a.length;c<e;c++){var f=a[c].layerId;d[f]=!0}b=b.slice();for(c=b.length;c--;)f=b[c].layerId,f in d&&b.splice(c,1);a.length&&(b=b.concat(a));return b};os.ui.query.cmd.QueryEntries.prototype.revert=function(){this.state=os.command.State.REVERTING;var a=os.ui.queryManager;a.removeEntries(void 0,void 0,void 0,!0);a.addEntries(this.oldEntries,this.immediate,this.layerHint);this.state=os.command.State.READY;return!0};os.ui.query.cmd.AbstractFilter=function(a){this.filter=a;this.isAsync=!1;this.title="Add/Remove filter";this.details=null;this.state=os.command.State.READY;this.entries=os.ui.queryManager.getEntries(null,null,this.filter.getId())};os.ui.query.cmd.AbstractFilter.prototype.execute=goog.abstractMethod;os.ui.query.cmd.AbstractFilter.prototype.revert=goog.abstractMethod;
os.ui.query.cmd.AbstractFilter.prototype.canExecute=function(){return this.state!==os.command.State.READY?(this.details="Command not in ready state",!1):this.filter?this.filter.type?this.filter.getFilter()?!0:(this.details="Filter entry does not contain a filter",!1):(this.details="Filter type not set",!1):(this.details="Filter not provided",!1)};os.ui.query.cmd.AbstractFilter.prototype.add=function(){os.ui.filter.FilterManager.getInstance().addFilter(this.filter);this.addEntries()};
os.ui.query.cmd.AbstractFilter.prototype.remove=function(){this.removeEntries();os.ui.filter.FilterManager.getInstance().removeFilter(this.filter)};os.ui.query.cmd.AbstractFilter.prototype.addEntries=function(){this.entries&&0<this.entries.length&&os.ui.queryManager.addEntries(this.entries,!0,this.filter.getType())};os.ui.query.cmd.AbstractFilter.prototype.removeEntries=function(){this.entries&&0<this.entries.length&&os.ui.queryManager.removeEntries(null,null,this.filter.getId())};os.ui.query.cmd.FilterAdd=function(a){os.ui.query.cmd.AbstractFilter.call(this,a);this.filter&&(this.title='Add Filter "'+this.filter.getTitle()+'"')};goog.inherits(os.ui.query.cmd.FilterAdd,os.ui.query.cmd.AbstractFilter);os.ui.query.cmd.FilterAdd.prototype.execute=function(){return this.canExecute()?(this.state=os.command.State.EXECUTING,this.add(),this.state=os.command.State.SUCCESS,!0):!1};
os.ui.query.cmd.FilterAdd.prototype.revert=function(){this.state=os.command.State.REVERTING;this.remove();this.state=os.command.State.READY;return!0};os.ui.filter.FilterType=function(){this.filters=[];this.and=!0};os.ui.filter.FilterType.prototype.persist=function(a){a||(a={});for(var b=[],c=0,d=this.filters.length;c<d;c++)this.filters[c].isTemporary()||(b[c]=this.filters[c].persist());a.filters=b;a.and=this.and;return a};os.ui.filter.FilterType.prototype.restore=function(a){this.and=a.and;if(a=a.filters)for(var b=0,c=a.length;b<c;b++){var d=new os.filter.FilterEntry;a[b]&&(d.restore(a[b]),this.filters.push(d))}};
os.ui.filter.FilterManager=function(){goog.events.EventTarget.call(this);this.types={};this.migrateFilters_();this.load();os.dispatcher.listen(os.ui.filter.FilterEventType.ADD_FILTER,this.onAddFilterEvent_,!1,this)};goog.inherits(os.ui.filter.FilterManager,goog.events.EventTarget);goog.addSingletonGetter(os.ui.filter.FilterManager);os.FILTER_STORAGE_KEY="filters";
os.ui.filter.FilterManager.prototype.disposeInternal=function(){os.dispatcher.unlisten(os.ui.filter.FilterEventType.ADD_FILTER,this.onAddFilterEvent_,!1,this)};os.ui.filter.FilterManager.prototype.save=function(){};os.ui.filter.FilterManager.prototype.load=function(){this.dispatchEvent(new os.events.PropertyChangeEvent("filters"))};
os.ui.filter.FilterManager.prototype.getStoredFilters=function(a){var b=os.settings.get(os.FILTER_STORAGE_KEY);if(b){var c=[],d;for(d in b){var e=new os.ui.filter.FilterType;e.restore(b[d]);c=c.concat(e.filters)}return a?this.matchFilters(a,c):c}return null};os.ui.filter.FilterManager.prototype.clear=function(){goog.object.clear(this.types);this.save()};
os.ui.filter.FilterManager.prototype.clearTemp=function(){if(this.types)for(var a in this.types){var b=this.types[a].filters;if(b)for(var c=b.length;c--;)b[c].isTemporary()&&b.splice(c,1)}};os.ui.filter.FilterManager.prototype.getFiltersByType=function(a){return a in this.types?this.types[a].filters:null};os.ui.filter.FilterManager.prototype.getFilters=function(a){var b=[],c;for(c in this.types)b=b.concat(this.types[c].filters);return a?this.getFiltersByType(a):0<b.length?b:null};
os.ui.filter.FilterManager.prototype.getFilterable=function(a){return os.dataManager.getDescriptor(a)};os.ui.filter.FilterManager.prototype.matchFilters=function(a,b){var c=this.getFilterable(a);a=null;if(c)try{a=c.getFilterColumns()}catch(f){}if(a){c=[];for(var d=0;d<b.length;d++){var e=b[d];e.matches(a)&&c.push(e)}return c}return null};os.ui.filter.FilterManager.prototype.getFilter=function(a){var b=this.getFilters();if(b)for(var c=0,d=b.length;c<d;c++)if(b[c].getId()==a)return b[c];return null};
os.ui.filter.FilterManager.prototype.hasFilters=function(a){a=this.getFilters(a);return!!a&&0<a.length};os.ui.filter.FilterManager.prototype.hasEnabledFilters=function(a){var b=this.getFilters(a);if(b)for(var c=0,d=b.length;c<d;c++)if(this.isEnabled(b[c],a))return!0;return!1};os.ui.filter.FilterManager.prototype.isEnabled=function(a,b){return a.isEnabled()};
os.ui.filter.FilterManager.prototype.addFilter=function(a){a&&a.type&&a.getFilter()&&(a.type in this.types||(this.types[a.type]=new os.ui.filter.FilterType),this.types[a.type].filters.push(a),this.dispatchEvent(new os.ui.filter.FilterEvent(os.ui.filter.FilterEventType.FILTERS_REFRESH)),this.save())};
os.ui.filter.FilterManager.prototype.removeFilter=function(a){a&&a.type in this.types&&(goog.array.remove(this.types[a.type].filters,a),this.dispatchEvent(new os.ui.filter.FilterEvent(os.ui.filter.FilterEventType.FILTERS_REFRESH)),this.save())};
os.ui.filter.FilterManager.prototype.removeFilters=function(a){goog.array.forEach(a,function(a){if(a&&a.type in this.types){var b=this.types[a.type];goog.array.remove(b.filters,a);b.dirty=!0}},this);this.dispatchEvent(new os.ui.filter.FilterEvent(os.ui.filter.FilterEventType.FILTERS_REFRESH));this.save()};os.ui.filter.FilterManager.prototype.removeType=function(a){a in this.types&&(this.types[a].filters=[]);this.save()};
os.ui.filter.FilterManager.prototype.getGrouping=function(a){return a in this.types?this.types[a].and:!0};os.ui.filter.FilterManager.prototype.setGrouping=function(a,b){if(a in this.types){var c=this.types[a];c.and!==b&&(c.and=b,b=new os.ui.filter.FilterEvent(os.ui.filter.FilterEventType.GROUPING_CHANGED),b.key=a,this.dispatchEvent(b),this.save())}};
os.ui.filter.FilterManager.prototype.toggle=function(a,b){if(a=a instanceof os.filter.FilterEntry?a.getId():a)a=this.getFilter(a),b=goog.isDef(b)?b:!a.isEnabled(),a.setEnabled(b),this.save(),a&&(this.dispatchEvent(new os.events.PropertyChangeEvent("toggle",a)),a.dispatchEvent(new os.events.PropertyChangeEvent("enabled",a)))};
os.ui.filter.FilterManager.prototype.onAddFilterEvent_=function(a){(a=os.filter.cloneToContext(a.entry))?(a=new os.ui.query.cmd.FilterAdd(a),os.commandStack.addCommand(a)):os.alertManager.sendAlert("Unrecognized filter.",os.alert.AlertEventSeverity.ERROR)};os.ui.filter.FilterManager.prototype.migrateFilters_=function(){var a=window.localStorage.getItem(os.FILTER_STORAGE_KEY);a&&(a=JSON.parse(a),os.settings.set(os.FILTER_STORAGE_KEY,a),window.localStorage.removeItem(os.FILTER_STORAGE_KEY))};
os.ui.filter.FilterManager.edit=function(a,b,c,d,e){var f=!1;d&&(f=!0);e={id:"editfilter",x:"center",y:"center",label:e||(f?"Edit":"Add")+" Filter","show-close":!0,"no-scroll":!1,"min-width":300,"min-height":300,"max-width":1E3,"max-height":1E3,modal:!0,width:850,height:425,icon:"filter-icon fa fa-filter"};d=d?d.clone():new os.filter.FilterEntry;f||d.setEnabled(!0);d.getType()||d.setType(a);os.ui.window.create(e,"editfilter",void 0,void 0,void 0,{entry:d,columns:b,callback:c})};
os.ui.filter.FilterManager.view=function(a,b,c,d,e){d=d?d.clone():new os.filter.FilterEntry;d.getType()||d.setType(a);os.ui.window.create({id:"editfilter",x:"center",y:"center",label:"View Filter","show-close":!0,"no-scroll":!1,"min-width":300,"min-height":300,"max-width":1E3,"max-height":1E3,modal:!0,width:850,height:425,icon:"filter-icon fa fa-filter"},"viewfilter",void 0,void 0,void 0,{entry:d,columns:b,viewonly:!0})};
os.ui.filter.FilterManager.copy=function(a,b){var c={id:"copyfilter",x:"center",y:"center",label:"Copy "+a.getTitle()+" to Layers","show-close":!0,"no-scroll":!1,modal:!0,width:500,height:700,icon:"fa fa-copy"};os.ui.window.create(c,'<copyfilter filter-entry="filterEntry" layer-id="layerId"></copyfilter>',void 0,void 0,void 0,{filterEntry:a,layerId:b})};
os.ui.filter.FilterManager.prettyPrintType=function(a,b){var c=a.indexOf("#");if(-1!=c)if(goog.string.contains(a.substring(0,c),"state"))a=a.substring(a.lastIndexOf("#")+1)+" (state file)";else if(a=a.substring(c+1),c=a.indexOf("#"),-1!=c){var d=a.substring(c+1);a=b&&d?a.substring(0,c)+" "+goog.string.toTitleCase(d):a.substring(0,c)}return a=a.replace(/_/g," ")};os.ui.filterManager=null;os.query.FilterManager=function(){os.ui.filter.FilterManager.call(this)};goog.inherits(os.query.FilterManager,os.ui.filter.FilterManager);goog.addSingletonGetter(os.query.FilterManager);goog.object.extend(os.ui.filter.FilterManager,{getInstance:function(){return os.query.FilterManager.getInstance()}});os.query.FilterManager.prototype.load=function(){var a=os.settings.get(os.FILTER_STORAGE_KEY);if(a){for(var b in a){var c=new os.ui.filter.FilterType;c.restore(a[b]);this.types[b]=c}this.dispatchEvent(new os.ui.filter.FilterEvent(os.ui.filter.FilterEventType.FILTERS_REFRESH))}};
os.query.FilterManager.prototype.save=function(){var a={},b;for(b in this.types)this.hasFilters(b)&&(a[b]=this.types[b].persist());os.settings.set(os.FILTER_STORAGE_KEY,a)};os.query.FilterManager.prototype.isEnabled=function(a,b){var c=os.ui.queryManager;return a?(a=c.getEntries(b,null,a.getId()),!!a&&!!a.length):!1};
os.query.FilterManager.prototype.getFilterable=function(a){var b=os.MapContainer.getInstance().getLayer(a);return b instanceof os.layer.Vector?b:os.query.FilterManager.superClass_.getFilterable.call(this,a)};os.query.FilterManager.prototype.isOpen=function(a){return 0<$("#filter"+(a?"-"+goog.string.hashCode(a):"")).length};
os.query.FilterManager.prototype.open=function(a,b){if(!this.isOpen(a)){var c={id:"filter"+(a?"-"+goog.string.hashCode(a):""),x:"center",y:"center",label:"Filters","show-close":!0,"no-scroll":!0,"min-width":300,"min-height":300,"max-width":1E3,"max-height":1E3,width:400,height:500,icon:"filter-icon fa fa-filter"},d={};if(a){var e=os.MapContainer.getInstance().getLayer(a);if(e){if(b)d.columns=b;else try{e.isFilterable()&&e.launchFilterManager();return}catch(f){}c.label=e.getTitle()+" Filters"}d.type=
a}os.ui.window.create(c,"filters",void 0,void 0,void 0,d)}};os.ui.node.DefaultLayerNodeUITemplate='<span class="glyphs pull-right slick-node-ui" ng-if="nodeUi.show()"><span ng-if="nodeUi.canFavorite()"><favorite ng-show="nodeUi.show()" type="descriptor" key="{{nodeUi.descId}}" value="{{nodeUi.layerLabel}}" icon-color="color-yellow"></favorite></span><span ng-if="nodeUi.filtersEnabled" ng-click="nodeUi.filter()"><i class="fa fa-filter fa-fw glyph" title="Manage filters"ng-class="{\'green-icon\': nodeUi.filtered}"></i></span><span ng-if="nodeUi.isRemovable()" ng-click="nodeUi.remove()"><i class="fa fa-times fa-fw glyph glyph-remove"title="Remove the layer"></i></span></span>';
os.ui.node.defaultLayerNodeUIDirective=function(){return{restrict:"AE",replace:!0,template:os.ui.node.DefaultLayerNodeUITemplate,controller:os.ui.node.DefaultLayerNodeUICtrl,controllerAs:"nodeUi"}};os.ui.Module.directive("defaultlayernodeui",[os.ui.node.defaultLayerNodeUIDirective]);os.ui.node.DefaultLayerNodeUICtrl=function(a,b){os.ui.slick.AbstractNodeUICtrl.call(this,a,b);os.ui.queryManager.listen(goog.events.EventType.PROPERTYCHANGE,this.updateFilters_,!1,this);this.updateFilters_();this.updateFavorites_()};
goog.inherits(os.ui.node.DefaultLayerNodeUICtrl,os.ui.slick.AbstractNodeUICtrl);os.ui.node.DefaultLayerNodeUICtrl.prototype.destroy=function(){os.ui.node.DefaultLayerNodeUICtrl.superClass_.destroy.call(this);os.ui.queryManager.unlisten(goog.events.EventType.PROPERTYCHANGE,this.updateFilters_,!1,this)};os.ui.node.DefaultLayerNodeUICtrl.prototype.getLayer=function(){return this.scope&&this.scope.item instanceof os.data.LayerNode?this.scope.item.getLayer():null};
os.ui.node.DefaultLayerNodeUICtrl.prototype.getSource=function(){var a=this.getLayer();return a instanceof ol.layer.Layer?a.getSource():null};os.ui.node.DefaultLayerNodeUICtrl.prototype.isRemovable=function(){var a=this.scope.item;if(a&&a instanceof os.data.LayerNode){var b=a.getLayer();if(a&&b&&os.implements(b,os.layer.ILayer.ID))return b.isRemovable()}return!1};goog.exportProperty(os.ui.node.DefaultLayerNodeUICtrl.prototype,"isRemovable",os.ui.node.DefaultLayerNodeUICtrl.prototype.isRemovable);
os.ui.node.DefaultLayerNodeUICtrl.prototype.remove=function(){var a=this.scope.item;if(a.getLayer()instanceof os.layer.LayerGroup){if((a=a.getChildren().slice())&&0<a.length)for(var b=a.length;b--;)this.removeNode_(a[b])}else this.removeNode_(a)};goog.exportProperty(os.ui.node.DefaultLayerNodeUICtrl.prototype,"remove",os.ui.node.DefaultLayerNodeUICtrl.prototype.remove);
os.ui.node.DefaultLayerNodeUICtrl.prototype.removeNode_=function(a){a=new os.events.LayerEvent(os.events.LayerEventType.REMOVE,a.getId());os.dispatcher.dispatchEvent(a)};os.ui.node.DefaultLayerNodeUICtrl.prototype.canFavorite=function(){var a=this.getLayerId();return a?(a=os.dataManager.getDescriptor(a),!!(a&&a instanceof os.data.LayerSyncDescriptor)):!1};goog.exportProperty(os.ui.node.DefaultLayerNodeUICtrl.prototype,"canFavorite",os.ui.node.DefaultLayerNodeUICtrl.prototype.canFavorite);
os.ui.node.DefaultLayerNodeUICtrl.prototype.filter=function(){var a=this.getLayerId();if(a){a=os.dataManager.getDescriptor(a);var b=this.getLayer();a=[a,b];b=0;for(var c=a.length;b<c;b++){var d=a[b];if(os.implements(d,os.filter.IFilterable.ID)&&d.isFilterable()){d.launchFilterManager();break}}}};goog.exportProperty(os.ui.node.DefaultLayerNodeUICtrl.prototype,"filter",os.ui.node.DefaultLayerNodeUICtrl.prototype.filter);
os.ui.node.DefaultLayerNodeUICtrl.prototype.updateFilters_=function(a){a=this.scope.item;(this.filtered=os.query.FilterManager.getInstance().hasEnabledFilters(a.getId()))?this.cellEl.addClass("italic"):this.cellEl.removeClass("italic");a=this.getLayer();os.implements(a,os.filter.IFilterable.ID)?this.filtersEnabled=a.isFilterable():this.filtersEnabled=!1};
os.ui.node.DefaultLayerNodeUICtrl.prototype.updateFavorites_=function(){var a=this.scope.item;this.layerLabel=a.getLabel();(a=os.dataManager.getDescriptor(a.getId()))&&(this.descId=a.getId())};os.ui.node.DefaultLayerNodeUICtrl.prototype.getLayerId=function(){return this.scope.item.getId()};os.layer.LayerGroup=function(){goog.events.EventTarget.call(this);this.id_=goog.string.getRandomString();this.layers_=[];this.layerOptions_=null;this.loading_=!1;this.tags_=this.provider_=null;this.removable_=!0;this.nodeUi_="<defaultlayernodeui></defaultlayernodeui>";this.layerUi_="defaultlayerui";this.hidden_=!1};goog.inherits(os.layer.LayerGroup,goog.events.EventTarget);os.implements(os.layer.LayerGroup,os.layer.ILayer.ID);
os.layer.LayerGroup.prototype.disposeInternal=function(){this.layers_.length=0};os.layer.LayerGroup.prototype.getId=function(){return this.id_};os.layer.LayerGroup.prototype.setId=function(a){this.id_=a};os.layer.LayerGroup.prototype.getSource=function(){return null};os.layer.LayerGroup.prototype.isLoading=function(){for(var a=0,b=this.layers_.length;a<b;a++)try{if(this.layers_[a].isLoading())return!0}catch(c){}return this.loading_};
os.layer.LayerGroup.prototype.setLoading=function(a){this.loading_=a};os.layer.LayerGroup.prototype.getTitle=function(){return this.title_};os.layer.LayerGroup.prototype.setTitle=function(a){this.title_=a};os.layer.LayerGroup.prototype.getIcons=function(){return""};os.layer.LayerGroup.prototype.getOSType=function(){return 0<this.layers_.length?this.layers_[0].getOSType():"group"};os.layer.LayerGroup.prototype.setOSType=function(a){};os.layer.LayerGroup.prototype.getExplicitType=function(){return""};
os.layer.LayerGroup.prototype.setExplicitType=function(a){};os.layer.LayerGroup.prototype.getProvider=function(){return 0<this.layers_.length?this.layers_[0].getProvider():this.provider_};os.layer.LayerGroup.prototype.setProvider=function(a){this.provider_=a};os.layer.LayerGroup.prototype.getBrightness=function(){for(var a=0,b=0,c=this.layers_.length;b<c;b++)try{a=Math.max(a,this.layers_[b].getBrightness())}catch(d){}return goog.math.clamp(a,0,1)};
os.layer.LayerGroup.prototype.setBrightness=function(a){for(var b=0,c=this.layers_.length;b<c;b++)try{this.layers_[b].setBrightness(a)}catch(d){}};os.layer.LayerGroup.prototype.getContrast=function(){for(var a=0,b=0,c=this.layers_.length;b<c;b++)try{a=Math.max(a,this.layers_[b].getContrast())}catch(d){}return goog.math.clamp(a,0,1)};os.layer.LayerGroup.prototype.setContrast=function(a){for(var b=0,c=this.layers_.length;b<c;b++)try{this.layers_[b].setContrast(a)}catch(d){}};
os.layer.LayerGroup.prototype.getHue=function(){for(var a=-180,b=0,c=this.layers_.length;b<c;b++)try{a=Math.max(a,this.layers_[b].getHue())}catch(d){}return goog.math.clamp(a,-180,180)};os.layer.LayerGroup.prototype.setHue=function(a){for(var b=0,c=this.layers_.length;b<c;b++)try{this.layers_[b].setHue(a)}catch(d){}};
os.layer.LayerGroup.prototype.getOpacity=function(){for(var a=0,b=0,c=this.layers_.length;b<c;b++)try{a=Math.max(a,this.layers_[b].getOpacity())}catch(d){}return goog.math.clamp(a,0,1)};os.layer.LayerGroup.prototype.setOpacity=function(a){for(var b=0,c=this.layers_.length;b<c;b++)try{this.layers_[b].setOpacity(a)}catch(d){}};
os.layer.LayerGroup.prototype.getSaturation=function(){for(var a=0,b=0,c=this.layers_.length;b<c;b++)try{a=Math.max(a,this.layers_[b].getSaturation())}catch(d){}return goog.math.clamp(a,0,1)};os.layer.LayerGroup.prototype.setSaturation=function(a){for(var b=0,c=this.layers_.length;b<c;b++)try{this.layers_[b].setSaturation(a)}catch(d){}};os.layer.LayerGroup.prototype.getLayerVisible=function(){for(var a=0,b=this.layers_.length;a<b;a++)try{if(this.layers_[a].getLayerVisible())return!0}catch(c){}return!1};
os.layer.LayerGroup.prototype.setLayerVisible=function(a){for(var b=0,c=this.layers_.length;b<c;b++)try{this.layers_[b].setLayerVisible(a)}catch(d){}};os.layer.LayerGroup.prototype.setBaseVisible=function(a){for(var b=0,c=this.layers_.length;b<c;b++)try{this.layers_[b].setBaseVisible(a)}catch(d){}};os.layer.LayerGroup.prototype.getBaseVisible=function(){for(var a=0,b=this.layers_.length;a<b;a++)try{if(this.layers_[a].getBaseVisible())return!0}catch(c){}return!1};
os.layer.LayerGroup.prototype.getTags=function(){return this.tags_};os.layer.LayerGroup.prototype.setTags=function(a){this.tags_=a};os.layer.LayerGroup.prototype.getLayerOptions=function(){return this.layerOptions_};os.layer.LayerGroup.prototype.setLayerOptions=function(a){this.layerOptions_=a};os.layer.LayerGroup.prototype.isRemovable=function(){for(var a=0,b=this.layers_.length;a<b;a++)try{if(!this.layers_[a].isRemovable())return!1}catch(c){}return this.removable_};
os.layer.LayerGroup.prototype.setRemovable=function(a){this.removable_=a};os.layer.LayerGroup.prototype.getNodeUI=function(){for(var a={},b=0,c=null,d=0,e=this.layers_.length;d<e;d++){var f=this.layers_[d].getGroupUI();f&&(f in a?a[f]++:a[f]=1,a[f]>b&&(b=a[f],c=f))}return c?"<"+c+"></"+c+">":this.nodeUi_};os.layer.LayerGroup.prototype.setNodeUI=goog.nullFunction();os.layer.LayerGroup.prototype.getLayerUI=function(){return this.layerUi_};
os.layer.LayerGroup.prototype.setLayerUI=function(a){this.layerUi_=a};os.layer.LayerGroup.prototype.getGroupUI=function(){return null};os.layer.LayerGroup.prototype.addLayer=function(a){this.layers_.push(a)};os.layer.LayerGroup.prototype.getLayers=function(){return this.layers_};os.layer.LayerGroup.prototype.removeLayer=function(a){goog.array.remove(this.layers_,a)};os.layer.LayerGroup.prototype.callAction=function(a){};os.layer.LayerGroup.prototype.supportsAction=function(a,b){return!1};
os.layer.LayerGroup.prototype.getSynchronizerType=function(){return null};os.layer.LayerGroup.prototype.setSynchronizerType=function(a){};os.layer.LayerGroup.prototype.getHidden=function(){return this.hidden_};os.layer.LayerGroup.prototype.setHidden=function(a){this.hidden_=a};os.layer.LayerGroup.prototype.persist=function(a){return a||{}};os.layer.LayerGroup.prototype.restore=function(a){};os.events.LayerConfigEventType={CONFIGURE_AND_ADD:"configureAndAddLayer"};os.events.LayerConfigEvent=function(a,b){goog.events.Event.call(this,a);this.options=b};goog.inherits(os.events.LayerConfigEvent,goog.events.Event);os.layer.LayerType={TILES:"Tile Layers",GROUPS:"Tile and Feature Groups",FEATURES:"Feature Layers",REF:"Reference Layers",TERRAIN:"Terrain",IMAGE:"Image"};os.layer.ExplicitLayerType={TILES:"Tiles",FEATURES:"Features",IMAGE:"Image"};os.layer.PropertyChange={ANIMATION_ENABLED:"animationEnabled",COLOR_MODEL:"colorModel",ERROR:"error",ICONS:"icons",LABEL_VISIBILITY:"labelVisibility",LOADING:"loading",LOCK:"lock",REFRESH_INTERVAL:"refreshInterval",STYLE:"style",TILE_COUNT:"tileCount",TIME_ENABLED:"timeEnabled",TITLE:"title",VISIBLE:"visible"};ol.render.toContext=function(a,b){var c=a.canvas,d=b?b:{};b=d.pixelRatio||ol.has.DEVICE_PIXEL_RATIO;if(d=d.size)c.width=d[0]*b,c.height=d[1]*b,c.style.width=d[0]+"px",c.style.height=d[1]+"px";c=[0,0,c.width,c.height];d=ol.transform.scale(ol.transform.create(),b,b);return new ol.render.canvas.Immediate(a,b,c,d,0)};ol.style.Text=function(a){a=a||{};this.font_=a.font;this.rotation_=a.rotation;this.rotateWithView_=a.rotateWithView;this.scale_=a.scale;this.text_=a.text;this.textAlign_=a.textAlign;this.textBaseline_=a.textBaseline;this.fill_=void 0!==a.fill?a.fill:new ol.style.Fill({color:ol.style.Text.DEFAULT_FILL_COLOR_});this.maxAngle_=void 0!==a.maxAngle?a.maxAngle:Math.PI/4;this.placement_=void 0!==a.placement?a.placement:ol.style.TextPlacement.POINT;this.exceedLength_=void 0!==a.exceedLength?a.exceedLength:
!1;this.stroke_=void 0!==a.stroke?a.stroke:null;this.offsetX_=void 0!==a.offsetX?a.offsetX:0;this.offsetY_=void 0!==a.offsetY?a.offsetY:0};ol.style.Text.DEFAULT_FILL_COLOR_="#333";
ol.style.Text.prototype.clone=function(){return new ol.style.Text({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),exceedLength:this.getExceedLength(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY()})};
ol.style.Text.prototype.getExceedLength=function(){return this.exceedLength_};ol.style.Text.prototype.getFont=function(){return this.font_};ol.style.Text.prototype.getMaxAngle=function(){return this.maxAngle_};ol.style.Text.prototype.getPlacement=function(){return this.placement_};ol.style.Text.prototype.getOffsetX=function(){return this.offsetX_};ol.style.Text.prototype.getOffsetY=function(){return this.offsetY_};ol.style.Text.prototype.getFill=function(){return this.fill_};
ol.style.Text.prototype.getRotateWithView=function(){return this.rotateWithView_};ol.style.Text.prototype.getRotation=function(){return this.rotation_};ol.style.Text.prototype.getScale=function(){return this.scale_};ol.style.Text.prototype.getStroke=function(){return this.stroke_};ol.style.Text.prototype.getText=function(){return this.text_};ol.style.Text.prototype.getTextAlign=function(){return this.textAlign_};ol.style.Text.prototype.getTextBaseline=function(){return this.textBaseline_};
ol.style.Text.prototype.setExceedLength=function(a){this.exceedLength_=a};ol.style.Text.prototype.setFont=function(a){this.font_=a};ol.style.Text.prototype.setMaxAngle=function(a){this.maxAngle_=a};ol.style.Text.prototype.setOffsetX=function(a){this.offsetX_=a};ol.style.Text.prototype.setOffsetY=function(a){this.offsetY_=a};ol.style.Text.prototype.setPlacement=function(a){this.placement_=a};ol.style.Text.prototype.setFill=function(a){this.fill_=a};
ol.style.Text.prototype.setRotation=function(a){this.rotation_=a};ol.style.Text.prototype.setScale=function(a){this.scale_=a};ol.style.Text.prototype.setStroke=function(a){this.stroke_=a};ol.style.Text.prototype.setText=function(a){this.text_=a};ol.style.Text.prototype.setTextAlign=function(a){this.textAlign_=a};ol.style.Text.prototype.setTextBaseline=function(a){this.textBaseline_=a};goog.math.Range=function(a,b){this.start=a<b?a:b;this.end=a<b?b:a};goog.math.Range.fromPair=function(a){goog.asserts.assert(2==a.length);return new goog.math.Range(a[0],a[1])};goog.math.Range.prototype.clone=function(){return new goog.math.Range(this.start,this.end)};goog.math.Range.prototype.getLength=function(){return this.end-this.start};goog.math.Range.prototype.includePoint=function(a){this.start=Math.min(this.start,a);this.end=Math.max(this.end,a)};
goog.math.Range.prototype.includeRange=function(a){this.start=Math.min(this.start,a.start);this.end=Math.max(this.end,a.end)};goog.DEBUG&&(goog.math.Range.prototype.toString=function(){return"["+this.start+", "+this.end+"]"});goog.math.Range.equals=function(a,b){return a==b?!0:a&&b?a.start==b.start&&a.end==b.end:!1};goog.math.Range.intersection=function(a,b){var c=Math.max(a.start,b.start);a=Math.min(a.end,b.end);return c<=a?new goog.math.Range(c,a):null};
goog.math.Range.hasIntersection=function(a,b){return Math.max(a.start,b.start)<=Math.min(a.end,b.end)};goog.math.Range.boundingRange=function(a,b){return new goog.math.Range(Math.min(a.start,b.start),Math.max(a.end,b.end))};goog.math.Range.contains=function(a,b){return a.start<=b.start&&a.end>=b.end};goog.math.Range.containsPoint=function(a,b){return a.start<=b&&a.end>=b};goog.math.RangeSet=function(){this.ranges_=[]};goog.DEBUG&&(goog.math.RangeSet.prototype.toString=function(){return"["+this.ranges_.join(", ")+"]"});goog.math.RangeSet.equals=function(a,b){return a==b||!!(a&&b&&goog.array.equals(a.ranges_,b.ranges_,goog.math.Range.equals))};goog.math.RangeSet.prototype.clone=function(){for(var a=new goog.math.RangeSet,b=this.ranges_.length;b--;)a.ranges_[b]=this.ranges_[b].clone();return a};
goog.math.RangeSet.prototype.add=function(a){if(!(a.end<=a.start)){a=a.clone();for(var b=0,c;c=this.ranges_[b];b++)if(a.start<=c.end){a.start=Math.min(a.start,c.start);break}for(var d=b;(c=this.ranges_[b])&&!(a.end<c.start);b++)a.end=Math.max(a.end,c.end);this.ranges_.splice(d,b-d,a)}};
goog.math.RangeSet.prototype.remove=function(a){if(!(a.end<=a.start)){for(var b=0,c;(c=this.ranges_[b])&&!(a.start<c.end);b++);if(c&&!(a.end<c.start)){var d=b;a.start>c.start&&(d++,a.end<c.end&&goog.array.insertAt(this.ranges_,new goog.math.Range(a.end,c.end),d),c.end=a.start);for(b=d;(c=this.ranges_[b])&&!(c.start=Math.max(a.end,c.start),a.end<c.end);b++);this.ranges_.splice(d,b-d)}}};
goog.math.RangeSet.prototype.contains=function(a){if(a.end<=a.start)return!1;for(var b=0,c;c=this.ranges_[b];b++)if(a.start<c.end){if(a.end>=c.start)return goog.math.Range.contains(c,a);break}return!1};goog.math.RangeSet.prototype.containsValue=function(a){for(var b=0,c;c=this.ranges_[b];b++)if(a<c.end){if(a>=c.start)return!0;break}return!1};goog.math.RangeSet.prototype.union=function(a){a=a.clone();for(var b=0,c;c=this.ranges_[b];b++)a.add(c);return a};
goog.math.RangeSet.prototype.difference=function(a){for(var b=this.clone(),c=0,d;d=a.ranges_[c];c++)b.remove(d);return b};goog.math.RangeSet.prototype.intersection=function(a){return this.isEmpty()||a.isEmpty()?new goog.math.RangeSet:this.difference(a.inverse(this.getBounds()))};
goog.math.RangeSet.prototype.slice=function(a){var b=new goog.math.RangeSet;if(a.start>=a.end)return b;for(var c=0,d;d=this.ranges_[c];c++)if(!(d.end<=a.start)){if(d.start>a.end)break;b.add(new goog.math.Range(Math.max(a.start,d.start),Math.min(a.end,d.end)))}return b};goog.math.RangeSet.prototype.inverse=function(a){var b=new goog.math.RangeSet;b.add(a);for(var c=0,d;d=this.ranges_[c];c++)if(!(a.start>=d.end)){if(a.end<d.start)break;b.remove(d)}return b};
goog.math.RangeSet.prototype.coveredLength=function(){return goog.array.reduce(this.ranges_,function(a,b){return a+b.end-b.start},0)};goog.math.RangeSet.prototype.getBounds=function(){return this.ranges_.length?new goog.math.Range(this.ranges_[0].start,goog.array.peek(this.ranges_).end):null};goog.math.RangeSet.prototype.isEmpty=function(){return 0==this.ranges_.length};goog.math.RangeSet.prototype.clear=function(){this.ranges_.length=0};
goog.math.RangeSet.prototype.__iterator__=function(a){var b=0,c=this.ranges_;a=new goog.iter.Iterator;a.next=function(){if(b>=c.length)throw goog.iter.StopIteration;return c[b++].clone()};return a};os.histo={};
os.histo.FilterComponent={IS_EMPTY_HEAD:"<PropertyIsNull><PropertyName>",IS_EMPTY_TAIL:"</PropertyName></PropertyIsNull>",IS_EQUAL_HEAD:"<PropertyIsEqualTo><PropertyName>",IS_EQUAL_MID:"</PropertyName><Literal><![CDATA[",IS_EQUAL_TAIL:"]]\x3e</Literal></PropertyIsEqualTo>",GT_HEAD:"<PropertyIsGreaterThanOrEqualTo><PropertyName>",GT_MID:"</PropertyName><Literal><![CDATA[",GT_TAIL:"]]\x3e</Literal></PropertyIsGreaterThanOrEqualTo>",LT_HEAD:"<PropertyIsLessThan><PropertyName>",LT_MID:"</PropertyName><Literal><![CDATA[",LT_TAIL:"]]\x3e</Literal></PropertyIsLessThan>"};os.histo.IBinMethod=function(){};os.histo.IBinMethod.prototype.getField=goog.abstractMethod;os.histo.bin={};os.histo.Bin=function(){this.label_=this.key_="";this.children=null;this.items=[];this.id=""};os.histo.Bin.prototype.addItem=function(a){this.items.push(a)};os.histo.Bin.prototype.removeItem=function(a){a=this.items.indexOf(a);-1<a&&this.items.splice(a,1)};os.histo.Bin.prototype.clear=function(){this.items.length=0};os.histo.Bin.prototype.getCount=function(){return this.items.length};os.histo.Bin.prototype.getItems=function(){return this.items};os.histo.Bin.prototype.getKey=function(){return this.key_};
os.histo.Bin.prototype.setKey=function(a){this.key_=a};os.histo.Bin.prototype.getLabel=function(){return this.label_};os.histo.Bin.prototype.setLabel=function(a){this.id=this.label_=a};os.histo.Bin.prototype.getChildren=function(){return this.children};os.histo.Bin.prototype.setChildren=function(a){this.children=a};os.histo.Bin.prototype.getId=function(){return this.id};os.histo.bin.sortByCount=function(a,b){return goog.array.defaultCompare(a.getCount(),b.getCount())};
os.histo.bin.sortByCountDesc=function(a,b){return os.histo.bin.sortByCount(b,a)};os.histo.bin.sortByKey=function(a,b){return goog.array.defaultCompare(a.getKey(),b.getKey())};os.histo.bin.sortByKeyDesc=function(a,b){return os.histo.bin.sortByKey(b,a)};os.histo.bin.sortByLabel=function(a,b){a=a.getLabel();b=b.getLabel();os.string.FLOAT.test(a)&&os.string.FLOAT.test(b)&&(a=parseFloat(a),b=parseFloat(b));return goog.array.defaultCompare(a,b)};
os.histo.bin.sortByLabelDesc=function(a,b){return os.histo.bin.sortByLabel(b,a)};os.histo.UniqueBinMethod=function(){this.field="";this.type="Unique";this.valueFunction=null};os.histo.UniqueBinMethod.INVALID_VALUE="Invalid Value";os.histo.UniqueBinMethod.prototype.getValue=function(a){a=this.valueFunction?this.valueFunction(a,this.field):a[this.field];if(null!=a){a=a.toString();if(a===os.object.STRING_VAL)return os.histo.UniqueBinMethod.INVALID_VALUE;if(0<a.length)return a}return"No "+this.field};os.histo.UniqueBinMethod.prototype.getField=function(){return this.field};
os.histo.UniqueBinMethod.prototype.setField=function(a){this.field=a};os.histo.UniqueBinMethod.prototype.setValueFunction=function(a){this.valueFunction=a};os.histo.UniqueBinMethod.prototype.getBinKey=function(a){return a.toString()};os.histo.UniqueBinMethod.prototype.getBinLabel=function(a){return this.getBinKey(this.getValue(a)).toString()};os.histo.UniqueBinMethod.prototype.getLabelForKey=function(a){return Number(a)===os.histo.NumericBinMethod.MAGIC_EMPTY?"No "+this.field:a.toString()};
os.histo.UniqueBinMethod.prototype.getBinType=function(){return this.type};os.histo.UniqueBinMethod.prototype.filterDimension=function(a,b){b=this.getValue(b);b=this.getBinKey(b);a.filterExact(b)};os.histo.UniqueBinMethod.prototype.persist=function(a){a||(a={});a.type=this.getBinType();a.field=this.getField();return a};os.histo.UniqueBinMethod.prototype.restore=function(a){a=a.field;"string"===typeof a&&this.setField(a)};
os.histo.UniqueBinMethod.prototype.clone=function(){var a=new this.constructor;a.restore(this.persist());a.setValueFunction(this.valueFunction);return a};os.histo.UniqueBinMethod.prototype.getSortLabelFnAsc=function(){return os.histo.bin.sortByLabel};os.histo.UniqueBinMethod.prototype.getSortLabelFnDesc=function(){return os.histo.bin.sortByLabelDesc};os.histo.UniqueBinMethod.prototype.getSortCountFnAsc=function(){return os.histo.bin.sortByCount};
os.histo.UniqueBinMethod.prototype.getSortCountFnDesc=function(){return os.histo.bin.sortByCountDesc};os.histo.UniqueBinMethod.prototype.createFilter=function(a){return os.histo.UniqueBinMethod.contains.bind(this,a)};
os.histo.UniqueBinMethod.prototype.exportAsFilter=function(a){for(var b=[],c="No "+this.field,d=0;d<a.length;d++){var e=a[d];e&&(e.getKey()==c?b.push(os.histo.FilterComponent.IS_EMPTY_HEAD+this.field+os.histo.FilterComponent.IS_EMPTY_TAIL):e.getKey()!=os.histo.UniqueBinMethod.INVALID_VALUE&&b.push(this.getFilterForBin(e)))}1<b.length&&(b.unshift("<Or>"),b.push("</Or>"));return b.join("")};
os.histo.UniqueBinMethod.prototype.getFilterForBin=function(a){var b=[];b.push(os.histo.FilterComponent.IS_EQUAL_HEAD);b.push(this.field);b.push(os.histo.FilterComponent.IS_EQUAL_MID);b.push(a.getLabel());b.push(os.histo.FilterComponent.IS_EQUAL_TAIL);return b.join("")};os.histo.UniqueBinMethod.contains=function(a,b){return!!a&&0<=a.indexOf(b)};os.histo.NumericBinMethod=function(){os.histo.UniqueBinMethod.call(this);this.type="Numeric";this.width=10;this.precision=this.offset=0};goog.inherits(os.histo.NumericBinMethod,os.histo.UniqueBinMethod);os.histo.NumericBinMethod.MAGIC_EMPTY=1E18;os.histo.NumericBinMethod.MAGIC_NAN=9999999998;os.histo.NumericBinMethod.NAN_LABEL="Not a Number";
os.histo.NumericBinMethod.prototype.getValue=function(a){a=this.valueFunction?this.valueFunction(a,this.field):a[this.field];var b=NaN,c=typeof a;null==a?b=os.histo.NumericBinMethod.MAGIC_EMPTY:"number"==c?b=a:a instanceof Date?b=a.getTime():a instanceof os.time.TimeInstant?b=a.getStart():"string"==c&&(b=(a=a.trim())?goog.string.toNumber(a):os.histo.NumericBinMethod.MAGIC_EMPTY);return isNaN(b)?os.histo.NumericBinMethod.MAGIC_NAN:b};os.histo.NumericBinMethod.prototype.getWidth=function(){return this.width};
os.histo.NumericBinMethod.prototype.setWidth=function(a){this.width=a;this.precision=Math.max(os.histo.NumericBinMethod.getPrecision(this.getWidth()),os.histo.NumericBinMethod.getPrecision(this.getOffset()))};os.histo.NumericBinMethod.prototype.getOffset=function(){return this.offset};os.histo.NumericBinMethod.prototype.setOffset=function(a){this.offset=a;this.precision=Math.max(os.histo.NumericBinMethod.getPrecision(this.getWidth()),os.histo.NumericBinMethod.getPrecision(this.getOffset()))};
os.histo.NumericBinMethod.prototype.getPrecision=function(){return this.precision};
os.histo.NumericBinMethod.prototype.getBinKey=function(a){"string"==typeof a&&(a=(a=a.trim())?goog.string.toNumber(a):os.histo.NumericBinMethod.MAGIC_EMPTY);return a===os.histo.NumericBinMethod.MAGIC_EMPTY||a===os.histo.NumericBinMethod.MAGIC_NAN?a:a===this.getFloor(os.histo.NumericBinMethod.MAGIC_EMPTY)?os.histo.NumericBinMethod.MAGIC_EMPTY:a!==this.getFloor(os.histo.NumericBinMethod.MAGIC_NAN)&&goog.isNumber(a)?this.getFloor(a):os.histo.NumericBinMethod.MAGIC_NAN};
os.histo.NumericBinMethod.prototype.getBinLabel=function(a){a=this.getBinKey(this.getValue(a));return this.getLabelForKey(a)};os.histo.NumericBinMethod.prototype.getLabelForKey=function(a){var b=this.getWidth(),c=this.getPrecision();return a===os.histo.NumericBinMethod.MAGIC_EMPTY?"No "+this.field:a===os.histo.NumericBinMethod.MAGIC_NAN||"number"!=typeof a?os.histo.NumericBinMethod.NAN_LABEL:a.toFixed(c)+" to "+(a+b).toFixed(c)};
os.histo.NumericBinMethod.prototype.filterDimension=function(a,b){b=this.getValue(b);b=this.getBinKey(b);var c=this.getWidth();a.filterRange([b,b+c])};os.histo.NumericBinMethod.prototype.getFloor=function(a){var b=this.getWidth(),c=this.getOffset();return Math.floor((a-c)/b)*b+c};os.histo.NumericBinMethod.getPrecision=function(a){a=a.toFixed(14);var b=a.indexOf(".");return-1<b?(a=a.substring(b+1),a=a.replace(/0+$/,""),a.length):0};
os.histo.NumericBinMethod.prototype.persist=function(a){a=os.histo.NumericBinMethod.superClass_.persist.call(this,a)||{};a.width=this.getWidth();a.offset=this.getOffset();return a};os.histo.NumericBinMethod.prototype.restore=function(a){os.histo.NumericBinMethod.superClass_.restore.call(this,a);var b=a.width;null==b||isNaN(b)||this.setWidth(Number(b));a=a.offset;null==a||isNaN(a)||this.setOffset(Number(a))};os.histo.NumericBinMethod.prototype.getSortLabelFnAsc=function(){return os.histo.bin.sortByKey};
os.histo.NumericBinMethod.prototype.getSortLabelFnDesc=function(){return os.histo.bin.sortByKeyDesc};os.histo.NumericBinMethod.prototype.createFilter=function(a){return os.histo.NumericBinMethod.contains.bind(this,a)};
os.histo.NumericBinMethod.prototype.exportAsFilter=function(a){for(var b=new goog.math.RangeSet,c=[],d=0;d<a.length;d++){var e=a[d];e&&(e=e.getKey(),e===os.histo.NumericBinMethod.MAGIC_EMPTY?c.push(os.histo.FilterComponent.IS_EMPTY_HEAD+this.field+os.histo.FilterComponent.IS_EMPTY_TAIL):e!==os.histo.NumericBinMethod.MAGIC_NAN&&b.add(new goog.math.Range(e,e+this.width)))}(0<c.length||!b.isEmpty())&&goog.iter.forEach(b,function(a){c.push(this.getFilterForRange_(a))},this);1<c.length&&(c.unshift("<Or>"),
c.push("</Or>"));return c.join("")};os.histo.NumericBinMethod.prototype.getFilterForRange_=function(a){var b=['<And hint="between">'];b.push(os.histo.FilterComponent.GT_HEAD);b.push(this.field);b.push(os.histo.FilterComponent.GT_MID);b.push(a.start);b.push(os.histo.FilterComponent.GT_TAIL);b.push(os.histo.FilterComponent.LT_HEAD);b.push(this.field);b.push(os.histo.FilterComponent.LT_MID);b.push(a.end);b.push(os.histo.FilterComponent.LT_TAIL);b.push("</And>");return b.join("")};
os.histo.NumericBinMethod.contains=function(a,b){for(var c=0;c<a.length;c++)if(b>=a[c]&&b<=a[c]+this.width)return!0;return!1};os.legend={};os.legend.ILegendRenderer=function(){};os.legend.ILegendRenderer.ID="os.legend.ILegendRenderer";os.legend.ID="legend";os.legend.ICON="fa-map-signs";os.legend.BASE_KEY="os.legend";os.legend.DRAW_OPTIONS_KEY=os.legend.BASE_KEY+".options";os.legend.POSITION_KEY=os.legend.BASE_KEY+".position";os.legend.SETTINGS_VERSION=0;os.legend.DEFAULT_OPTIONS={bgColor:"#333333",bold:!0,fontSize:16,showVector:!0,showVectorType:!0,showCount:!1,showTile:!0,showBackground:!0,opacity:1,version:os.legend.SETTINGS_VERSION};os.legend.BORDER_WIDTH=3;
os.legend.BORDER_STYLE=new ol.style.Style({stroke:new ol.style.Stroke({color:"#111",lineJoin:"bevel",width:os.legend.BORDER_WIDTH})});os.legend.DASH_STYLE=new ol.style.Style({fill:new ol.style.Fill({color:"#fff"}),stroke:new ol.style.Stroke({color:"#000",width:1})});os.legend.LABEL_FILL_STYLE=new ol.style.Fill({color:"#fff"});os.legend.LABEL_STROKE_STYLE=new ol.style.Stroke({color:"#000",width:2});os.legend.Label={EMPTY:"Nothing to Display",HEADER:"Legend",LIMIT:"- Too many legend items -"};
os.legend.NUMERIC_REGEX=/^([\d.+-]+) to [\d.+-]+$/;os.legend.EventType={UPDATE:"legend:update"};os.legend.layerPlugins=[];os.legend.registerLayerPlugin=function(a){a.priority=a.priority||0;os.legend.layerPlugins.push(a);os.legend.layerPlugins.sort(os.legend.sortPluginByPriority);if(a.defaultSettings){var b=os.legend.getOptionsFromSettings(),c;for(c in a.defaultSettings)null==b[c]&&(b[c]=a.defaultSettings[c]);os.settings.set(os.legend.DRAW_OPTIONS_KEY,b)}};
os.legend.sortPluginByPriority=function(a,b){return-goog.array.defaultCompare(a.priority||0,b.priority||0)};os.legend.getOptionsFromSettings=function(){var a=os.settings.get(os.legend.DRAW_OPTIONS_KEY);a&&a.version==os.legend.SETTINGS_VERSION||(a=os.legend.DEFAULT_OPTIONS,os.settings.set(os.legend.DRAW_OPTIONS_KEY,a));return os.object.unsafeClone(a)};os.legend.layerFilter=function(a,b,c){return os.implements(a,os.legend.ILegendRenderer.ID)&&a.renderLegend!==goog.nullFunction};
os.legend.initializeOptions_=function(a){var b=a.fontSize+"px";a.font=(a.bold?"bold ":"")+b+"/"+b+" sans-serif";a.drawQueue=[];a.maxRowWidth=0;a.offsetX=0;a.offsetY=0};
os.legend.drawToCanvas=function(a,b,c){var d=os.legend.getOptionsFromSettings();d.maxHeight=b||Infinity;d.maxWidth=c||Infinity;b=goog.isDefAndNotNull(d.showCount);d.showCount=b?d.showCount:os.legend.DEFAULT_OPTIONS.showCount;b=goog.isDefAndNotNull(d.showColumn);d.showColumn=b?d.showColumn:os.legend.DEFAULT_OPTIONS.showColumn;b=goog.isDefAndNotNull(d.showVectorType);d.showVectorType=b?d.showVectorType:os.legend.DEFAULT_OPTIONS.showVectorType;if(a){var e=a.getContext("2d");if(e){os.legend.initializeOptions_(d);
os.legend.addHeader_(d);c=d.maxRowWidth;b=os.MapContainer.getInstance().getLayers();b=b.filter(os.legend.layerFilter);for(var f=0;f<b.length;f++){var g=b[f];g.renderLegend(d);os.legend.layerPlugins.forEach(function(a){null!=a.render&&a.render(g,d)})}1==d.drawQueue.length&&os.legend.addNoItemsText_(d);d.stopDrawing&&os.legend.addLimitText_(d);0<d.maxRowWidth&&(a.width=Math.min(d.maxWidth,d.maxRowWidth+25),a.height=d.offsetY-Math.round(d.fontSize/2));e.globalAlpha=d.opacity||os.legend.DEFAULT_OPTIONS.opacity;
b=ol.render.toContext(e,{pixelRatio:1});if(null!=d.showBackground?d.showBackground:os.legend.DEFAULT_OPTIONS.showBackground)f=os.legend.BORDER_WIDTH-1,e.fillStyle=d.bgColor||os.legend.DEFAULT_OPTIONS.bgColor,e.fillRect(f,f,a.width-2*f,a.height-2*f),f=os.legend.BORDER_WIDTH-1,f=new ol.Feature(ol.geom.Polygon.fromExtent([f,f,a.width-f,a.height-f])),b.drawFeature(f,os.legend.BORDER_STYLE);d.drawQueue[0].labelStyle.text_.setOffsetX(a.width/2-c/2);for(f=0;f<d.drawQueue.length;f++){a=d.drawQueue[f];if(a.feature&&
a.style){c=a.style.getImage();if(c instanceof ol.style.Icon&&(e=c.getImageState(),e<ol.ImageState.LOADED)){e==ol.ImageState.IDLE&&c.load();c.listenImageChange(os.legend.onIconChange_,c);continue}b.drawFeature(a.feature,a.style)}(a.labelFeature||a.feature)&&a.labelStyle&&b.drawFeature(a.labelFeature||a.feature,a.labelStyle)}}}};os.legend.onIconChange_=function(){this.unlistenImageChange(os.legend.onIconChange_,this);this.getImageState()<ol.ImageState.ERROR&&os.dispatcher.dispatchEvent(os.legend.EventType.UPDATE)};
os.legend.addHeader_=function(a){a.offsetX=2+Math.floor(a.fontSize/10);a.offsetY=5+a.fontSize/2;var b=new ol.Feature(new ol.geom.Point([a.offsetX,a.offsetY])),c=os.legend.getLabelStyle_(os.legend.Label.HEADER,a);os.legend.queueItem(a,void 0,void 0,b,c);a.offsetX=10+Math.round(a.fontSize/4)};
os.legend.addLimitText_=function(a){a.offsetX=2+Math.floor(a.fontSize/10);var b=new ol.Feature(new ol.geom.Point([a.offsetX,a.offsetY])),c=os.legend.getLabelStyle_(os.legend.Label.LIMIT,a);os.legend.queueItem(a,void 0,void 0,b,c)};os.legend.addNoItemsText_=function(a){var b=new ol.Feature(new ol.geom.Point([a.offsetX,a.offsetY])),c=os.legend.getLabelStyle_(os.legend.Label.EMPTY,a,void 0,0);os.legend.queueItem(a,void 0,void 0,b,c)};
os.legend.canDraw=function(a){return!a.stopDrawing&&!(a.stopDrawing=a.maxHeight<a.offsetY+a.fontSize+5)};
os.legend.drawTileLayer=function(a,b){if(b.showTile&&os.legend.canDraw(b)&&a.getLayerVisible()){var c=os.legend.getLabelStyle_(a.getTitle(),b),d=new ol.Feature(new ol.geom.Point([b.offsetX,b.offsetY]));a=new ol.style.Style({fill:new ol.style.Fill({color:os.style.toRgbaString(a.getColor()||"#fff")}),stroke:new ol.style.Stroke({color:"#000",width:1})});var e=new ol.Feature(os.legend.createTileGeometry(b));os.legend.queueItem(b,e,a,d,c)}};
os.legend.queueItem=function(a,b,c,d,e){var f=0,g=d||b;g&&(g=ol.extent.getCenter(g.getGeometry().getExtent()),f+=g[0]+a.fontSize);if(e){var h=e.getText();h&&(g=h.getFont(),h=h.getText(),g&&h&&(g=os.ui.measureText(h,"feature-label",g),f+=g.width))}a.maxRowWidth=Math.max(f,a.maxRowWidth);a.drawQueue.push({feature:b,style:c,labelFeature:d,labelStyle:e});a.offsetY+=a.fontSize+5};
os.legend.drawVectorLayer=function(a,b){if(b.showVector&&os.legend.canDraw(b)&&(a=a.getSource())&&os.legend.shouldDrawSource(a)){var c=os.legend.getSourceConfig(a,b),d=a.getTitle(!b.showVectorType);b.showCount&&(d+=" ("+a.getFeatureCount()+")");os.legend.queueVectorConfig(c,b,d,0)}};os.legend.shouldDrawSource=function(a){return a instanceof os.source.Vector&&a.getVisible()&&0<a.getFeatureCount()};
os.legend.numericCompare=function(a,b){a=a.match(os.legend.NUMERIC_REGEX);b=b.match(os.legend.NUMERIC_REGEX);if(a||b){if(!a)return 1;if(!b)return-1}else return 0;a=Number(a[1]);b=Number(b[1]);return a>b?1:a<b?-1:0};
os.legend.queueVectorConfig=function(a,b,c,d,e){if(!os.legend.canDraw(b))return!1;c=os.legend.getLabelStyle_(c,b);d=[b.offsetX+d,b.offsetY];if(e){d=os.legend.createDashGeometry(d,b.fontSize);var f=os.legend.DASH_STYLE}else os.style.ELLIPSE_REGEXP.test(a.shape)?(e=os.style.CENTER_LOOKUP[a.shape],d=os.legend.createEllipseGeometry(d,b.fontSize,e),e&&(a.image.type="circle"),a.image.radius=goog.math.clamp(b.fontSize/12,1.5,4),a.stroke.width=goog.math.clamp(b.fontSize/8,1.5,4)):(d=new ol.geom.Point(d),
os.style.isIconConfig(a)&&(a.image.scale=b.fontSize/24,a.image.anchor=[.5,.5]));f||(f=os.style.StyleManager.getInstance().getOrCreateStyle(a));a=new ol.Feature(d);os.legend.queueItem(b,a,f,void 0,c);return!0};os.legend.createDashGeometry=function(a,b){b/=3;var c=b/3;return ol.geom.Polygon.fromExtent([a[0]-b,a[1]-c,a[0]+b,a[1]+c])};
os.legend.createEllipseGeometry=function(a,b,c){c=!!c;b/=250;b=os.geo.interpolateEllipse([a[0]/1E4,a[1]/1E4],b,.66*b,-45);for(var d=0;d<b.length-1;d++)b[d][0]*=1E4,b[d][1]*=1E4;b=new ol.geom.Polygon([b]);return c?new ol.geom.GeometryCollection([b,new ol.geom.Point(a)]):b};
os.legend.createTileGeometry=function(a){var b=Math.ceil(.8*a.fontSize),c=Math.round(b/2.85),d=10-Math.floor(a.fontSize/8);a=a.offsetY;for(var e=[],f=0;3>f;f++)e.push(new ol.geom.Polygon([[[d+c,a],[d+b,a],[d+b-c,a+c],[d,a+c],[d+c,a]]])),a-=Math.ceil(c/2);return new ol.geom.GeometryCollection(e)};
os.legend.getSourceConfig=function(a,b){var c=os.style.StyleManager.getInstance().getLayerConfig(a.getId())||os.style.DEFAULT_VECTOR_CONFIG;c=os.object.unsafeClone(c);os.object.set(c,["image","radius"],Math.round(b.fontSize/3));b=a.getGeometryShape();c.shape=b;var d=os.style.SHAPES[b];d&&d.config&&d.config.image&&os.style.mergeConfig(d.config,c);os.style.CENTER_LOOKUP[b]&&(a=a.getCenterGeometryShape(),(a=os.style.SHAPES[a])&&a.config&&a.config.image&&os.style.mergeConfig(a.config,c));return c};
os.legend.getLabelStyle_=function(a,b,c,d){return new ol.style.Style({text:new ol.style.Text({text:a,font:null!=c?c:b.font,textAlign:"left",textBaseline:"middle",fill:os.legend.LABEL_FILL_STYLE,offsetX:null!=d?d:b.offsetX,stroke:os.legend.LABEL_STROKE_STYLE})})};os.source.RefreshTimers={};os.source.identifySource=function(a){var b=a.getAnimationOverlay();if(b&&!os.MapContainer.getInstance().is3DEnabled()){var c=0,d=b.getFeatures().splice(0,b.getFeatures().length);if(d&&0<d.length){var e=new goog.Timer(250);e.listen(goog.Timer.TICK,function(){5<c?(b.setFeatures(d),e.dispose()):(b.setFeatures(c%2?d:null),c++)});e.start()}}else(a=os.MapContainer.getInstance().getLayer(a.getId()))&&os.layer.identifyLayer(a)};
os.source.getFilterColumns=function(a,b){var c=null;a&&(b&&(c=a.getColumns())&&0<c.length&&(c=c.filter(function(a){return a.field!==os.data.RecordField.TIME}),c.sort(os.ui.slick.column.numerateNameCompare)),c||(a=os.ui.filter.FilterManager.getInstance().getFilterable(a.getId()))&&(c=a.getFilterColumns().map(os.source.mapFilterColumns)));return c};os.source.mapFilterColumns=function(a){var b=new os.data.ColumnDefinition(a.name);b.type=a.type;return b};
os.source.isFilterable=function(a){if(a){a=a.getId();var b=os.dataManager.getDescriptor(a);if(b&&os.implements(b,os.filter.IFilterable.ID))return b.isFilterable();if((a=os.MapContainer.getInstance().getLayer(a))&&os.implements(a,os.filter.IFilterable.ID))return a.isFilterable()}return!1};os.source.isVisible=function(a){return!!a&&a.getVisible()};os.source.titleCompare=function(a,b){return goog.array.defaultCompare(a.getTitle(),b.getTitle())};
os.source.zIndexCompare=function(a,b){a=a.get(ol.layer.Property.Z_INDEX)||0;b=b.get(ol.layer.Property.Z_INDEX)||0;return goog.array.defaultCompare(b,a)};os.source.getRecordTime=function(a){if(a instanceof ol.Feature){a=a.get(os.data.RecordField.TIME);var b=os.time.TimelineController.getInstance();if(os.implements(a,os.time.ITime.ID)&&!b.holdRangeContainsTime(a))return a}return null};
os.source.getHoldRecordTime=function(a){if(a instanceof ol.Feature){a=a.get(os.data.RecordField.TIME);var b=os.time.TimelineController.getInstance();if(os.implements(a,os.time.ITime.ID)&&b.holdRangeContainsTime(a))return a}return null};
os.source.getExportFields=function(a,b){var c=null;if(a&&(a=a.getColumns())&&0<a.length){c=[];for(var d=0;d<a.length;d++){var e=a[d],f=e.field;!e.visible||goog.string.isEmptyOrWhitespace(goog.string.makeSafe(f))||goog.array.contains(c,f)||!b&&os.feature.isInternalField(f)||c.push(f)}}return c};
os.source.handleMaxFeatureCount=os.debounce(function(a){os.dispatcher.dispatchEvent(os.data.event.DataEventType.MAX_FEATURES);a="The maximum feature count for the application has been reached ("+a+"). Further features will not be added until some are removed. Consider narrowing your time range, applying filters, shrinking your query areas, or removing some feature layers.";var b=os.MapContainer.getInstance();!b.is3DEnabled()&&b.is3DSupported()&&(a+=" Switching to 3D mode will also allow more data to be loaded. To enable 3D mode, right-click the map and choose Toggle 2D/3D Mode.");
os.alert.AlertManager.getInstance().sendAlert(a,os.alert.AlertEventSeverity.WARNING)},5E3,!0);os.data.event={};os.data.event.DataEventType={SOURCE_ADDED:"dataSourceAdded",SOURCE_REMOVED:"dataSourceRemoved",SOURCE_REMOVED_NO_DESTROY:"dataSourceRemovedNotDestroyed",FILTERS_CHANGED:"filtersChanged",DATA_ADDED:"dataAdded",DATA_REMOVED:"dataRemoved",MAX_FEATURES:"maxFeatures"};os.data.event.DataEvent=function(a,b,c,d){goog.events.Event.call(this,a);this.source=b;this.filter=c||null;this.items=d||null};goog.inherits(os.data.event.DataEvent,goog.events.Event);os.source.IImportSource=function(){};os.source.IImportSource.ID="os.source.IImportSource";os.histo.DateBinType={UNIQUE:"Unique",MINUTE:"Minute",HOUR:"Hour",HOUR_OF_DAY:"Hour of Day",HOUR_OF_WEEK:"Hour of Week",HOUR_OF_MONTH:"Hour of Month",HOUR_OF_YEAR:"Hour of Year",DAY:"Day",DAY_OF_WEEK:"Day of Week",WEEK:"Week",MONTH:"Month",YEAR:"Year"};os.histo.Labels={"Hour of Day":"0000 0100 0200 0300 0400 0500 0600 0700 0800 0900 1000 1100 1200 1300 1400 1500 1600 1700 1800 1900 2000 2100 2200 2300".split(" "),"Day of Week":"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};
os.histo.DateBinMethod=function(){os.histo.UniqueBinMethod.call(this);this.type=os.histo.DateBinMethod.TYPE;this.binType_=os.histo.DateBinType.HOUR_OF_DAY};goog.inherits(os.histo.DateBinMethod,os.histo.UniqueBinMethod);os.histo.DateBinMethod.TYPE="Date";os.histo.DateBinMethod.INVALID_DATE="Invalid Date";os.histo.DateBinMethod.MAGIC=moment.utc("0867-05-03T09:00:00Z").valueOf();os.histo.DateBinMethod.prototype.getDateBinType=function(){return this.binType_};
os.histo.DateBinMethod.prototype.setDateBinType=function(a){this.binType_=a};os.histo.DateBinMethod.prototype.getSortLabelFnAsc=function(){return os.histo.bin.sortByKey};os.histo.DateBinMethod.prototype.getSortLabelFnDesc=function(){return os.histo.bin.sortByKeyDesc};
os.histo.DateBinMethod.prototype.getValue=function(a){var b=os.histo.DateBinMethod.MAGIC;a=this.valueFunction?this.valueFunction(a,this.field):a[this.field];if(goog.isDefAndNotNull(a))if("object"==typeof a)try{b=a.getStart()}catch(c){try{b=a.getTime()}catch(d){}}else goog.isString(a)&&(a=moment(a).valueOf(),isNaN(a)||(b=a));if(b!==os.histo.DateBinMethod.MAGIC)switch(a=new Date(b+os.time.timeOffset),this.binType_){case os.histo.DateBinType.HOUR_OF_DAY:return a.getUTCHours();case os.histo.DateBinType.HOUR_OF_WEEK:return 24*
a.getUTCDay()+a.getUTCHours();case os.histo.DateBinType.HOUR_OF_MONTH:return 24*a.getUTCDate()+a.getUTCHours();case os.histo.DateBinType.HOUR_OF_YEAR:return b=os.time.floor(a,"year"),24*Math.floor((a-b)/864E5)+a.getUTCHours();case os.histo.DateBinType.DAY_OF_WEEK:return a.getUTCDay();case os.histo.DateBinType.MINUTE:return os.time.floor(a,"min").getTime();case os.histo.DateBinType.HOUR:return os.time.floor(a,"hour").getTime();case os.histo.DateBinType.DAY:return os.time.floor(a,"day").getTime();case os.histo.DateBinType.WEEK:return os.time.floor(a,
"week").getTime();case os.histo.DateBinType.MONTH:return os.time.floor(a,"month").getTime();case os.histo.DateBinType.YEAR:return os.time.floor(a,"year").getTime()}return b};os.histo.DateBinMethod.prototype.getBinKey=function(a){return Number(a)};os.histo.DateBinMethod.prototype.getBinLabel=function(a){a=this.getValue(a);return this.getLabelForKey(a)};
os.histo.DateBinMethod.prototype.getLabelForKey=function(a){if(goog.isDef(a)&&a!=os.histo.DateBinMethod.MAGIC)switch(this.binType_){case os.histo.DateBinType.HOUR_OF_DAY:return goog.string.padNumber(a,2)+"00";case os.histo.DateBinType.DAY_OF_WEEK:return moment().isoWeekday(a).format("dddd");case os.histo.DateBinType.MINUTE:return moment.utc(a).format("YYYY-MM-DD HH:mm");case os.histo.DateBinType.HOUR:return moment.utc(a).format("YYYY-MM-DD HH");case os.histo.DateBinType.DAY:return moment.utc(a).format("YYYY-MM-DD");
case os.histo.DateBinType.WEEK:return moment.utc(a).day(0).format("YYYY-MM-DD");case os.histo.DateBinType.MONTH:return moment.utc(a).format("YYYY-MM");case os.histo.DateBinType.YEAR:return moment.utc(a).format("YYYY");case os.histo.DateBinType.HOUR_OF_WEEK:case os.histo.DateBinType.HOUR_OF_MONTH:case os.histo.DateBinType.HOUR_OF_YEAR:return a.toString();default:return os.time.toOffsetString(a)}return os.histo.DateBinMethod.INVALID_DATE};os.histo.DateBinMethod.prototype.filterDimension=goog.abstractMethod;
os.histo.DateBinMethod.prototype.persist=function(a){a=os.histo.DateBinMethod.superClass_.persist.call(this,a)||{};a.binType=this.getDateBinType();return a};os.histo.DateBinMethod.prototype.restore=function(a){os.histo.DateBinMethod.superClass_.restore.call(this,a);(a=a.binType)&&goog.object.containsValue(os.histo.DateBinType,a)&&this.setDateBinType(a)};os.histo.DateBinMethod.prototype.exportAsFilter=function(a){return null};os.histo.BinMethod={Unique:os.histo.UniqueBinMethod,Date:os.histo.DateBinMethod,Numeric:os.histo.NumericBinMethod};os.histo.cloneMethod=function(a){var b=null;a&&a.getBinType()in os.histo.BinMethod&&(b=new (os.histo.BinMethod[a.getBinType()]),b.restore(a.persist()));return b};os.histo.restoreMethod=function(a){if(a){var b=a.type;if(b&&(b=os.histo.BinMethod[b])){var c=new b;c.restore(a)}}return c};os.source.PropertyChange={ALTITUDE:"altitude",ANIMATION_ENABLED:"animationEnabled",ANIMATION_FRAME:"animationFrame",CLEARED:"cleared",COLOR:"color",COLOR_MODEL:"colorModel",COLUMNS:"columns",COLUMN_ADDED:"columnAdded",DATA:"data",FEATURES:"features",PREPROCESS_FEATURES:"preprocessFeatures",FEATURE_VISIBILITY:"featureVisibility",GEOMETRY_SHAPE:"geometryShape",GEOMETRY_CENTER_SHAPE:"geometryCenterShape",HIGHLIGHTED_ITEMS:"highlightedItems",ID:"id",LABEL:"label",LOADING:"loading",LOADING_COUNT:"loadingCount",
LOCK:"lock",REFRESH_INTERVAL:"refreshInterval",REPLACE_STYLE:"replaceStyle",STYLE:"style",TIME_ENABLED:"timeEnabled",TIME_FILTER:"timeFilter",TIME_MODEL:"timeModel",TITLE:"title",VISIBLE:"visible"};os.data.histo={};os.data.histo.ColorMethod={RESET:-1,NONE:0,MANUAL:1,AUTO_COLOR:2,AUTO_COLOR_BY_COUNT:3};os.data.histo.defaultGradientFn_=function(a){return os.color.getHslGradient(a,30,330,!0)};os.data.histo.ColorModel=function(a){goog.events.EventTarget.call(this);this.histogram_=null;this.colorMethod_=os.data.histo.ColorMethod.NONE;this.binColors_={};this.manualBinColors_={};this.coloredFeatures_={};this.gradientFn_=a||os.data.histo.defaultGradientFn_};goog.inherits(os.data.histo.ColorModel,goog.events.EventTarget);
os.data.histo.ColorModel.prototype.disposeInternal=function(){this.setColorMethod(os.data.histo.ColorMethod.RESET);os.data.histo.ColorModel.superClass_.disposeInternal.call(this);this.setHistogram(null)};os.data.histo.ColorModel.prototype.getHistogram=function(){return this.histogram_};
os.data.histo.ColorModel.prototype.setHistogram=function(a){this.histogram_&&(this.histogram_.unlisten(goog.events.EventType.CHANGE,this.applyColorMethod,!1,this),this.histogram_.unlisten(os.data.histo.HistoEventType.BIN_CHANGE,this.onBinChange_,!1,this),this.histogram_.decrementRefCount());if(this.histogram_=a)this.histogram_.listen(goog.events.EventType.CHANGE,this.applyColorMethod,!1,this),this.histogram_.listen(os.data.histo.HistoEventType.BIN_CHANGE,this.onBinChange_,!1,this),this.histogram_.incrementRefCount()};
os.data.histo.ColorModel.prototype.onBinChange_=function(a){this.binColors_={}};os.data.histo.ColorModel.prototype.getResults=function(){return this.histogram_?this.histogram_.getResults():[]};os.data.histo.ColorModel.prototype.getBinColors=function(){return this.binColors_};os.data.histo.ColorModel.prototype.getManualBinColors=function(){return this.manualBinColors_};os.data.histo.ColorModel.prototype.setManualBinColors=function(a){goog.removeUid(a);this.manualBinColors_=a;this.applyColorMethod()};
os.data.histo.ColorModel.prototype.getBinMethod=function(){return this.histogram_?this.histogram_.getBinMethod():null};os.data.histo.ColorModel.prototype.getColorMethod=function(){return this.colorMethod_};os.data.histo.ColorModel.prototype.hasManualColors=function(){return!goog.object.isEmpty(this.manualBinColors_)};
os.data.histo.ColorModel.prototype.setColorMethod=function(a,b,c){a!==os.data.histo.ColorMethod.MANUAL&&(this.manualBinColors_={});a!=this.colorMethod_&&(this.binColors_={});if(a==os.data.histo.ColorMethod.MANUAL&&goog.isArray(b)&&c)for(var d=0,e=b.length;d<e;d++){var f=b[d].getLabel();this.binColors_[f]=c;this.manualBinColors_[f]=c}this.colorMethod_=a===os.data.histo.ColorMethod.MANUAL?this.colorMethod_:a;this.applyColorMethod()};
os.data.histo.ColorModel.prototype.applyColorMethod=function(){var a=this.coloredFeatures_;this.coloredFeatures_={};switch(this.colorMethod_){case os.data.histo.ColorMethod.RESET:this.colorMethod_=os.data.histo.ColorMethod.NONE;this.resetColor_();break;case os.data.histo.ColorMethod.AUTO_COLOR:this.autoColor_();this.cleanupOldColors_(a);break;case os.data.histo.ColorMethod.AUTO_COLOR_BY_COUNT:this.autoColorByCount_(),this.cleanupOldColors_(a)}this.hasManualColors()&&this.manualColor_();this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.STYLE))};
os.data.histo.ColorModel.prototype.autoColor_=function(){this.binColors_={};var a=this.getResults();this.hasManualColors()&&(a=goog.array.filter(a,function(a){return!this.manualBinColors_[a.getLabel()]},this));if(a&&0<a.length)for(var b=this.gradientFn_(a.length),c=0,d=a.length;c<d;c++){var e=os.style.toRgbaString(b[c]);this.binColors_[a[c].getLabel()]=e;this.colorFeatures_(a[c].getItems(),e)}};
os.data.histo.ColorModel.prototype.autoColorByCount_=function(){this.binColors_={};var a=this.getResults();if(a&&0<a.length){for(var b=0,c=0,d=a.length;c<d;c++)b=Math.max(b,a[c].getCount());var e=os.color.getHslGradient(101,30,330);c=0;for(d=a.length;c<d;c++){var f=a[c].getCount();f=os.style.toRgbaString(e[Math.floor(f/b*100)]);this.binColors_[a[c].getLabel()]=f;this.colorFeatures_(a[c].getItems(),f)}}};
os.data.histo.ColorModel.prototype.manualColor_=function(){for(var a=this.getResults(),b=0,c=a.length;b<c;b++){var d=a[b].getLabel();d in this.manualBinColors_&&(d=this.manualBinColors_[d],this.binColors_[a[b].getLabel()]=d,this.colorFeatures_(a[b].getItems(),d))}};os.data.histo.ColorModel.prototype.resetColor_=function(){if(this.histogram_){var a=this.histogram_.getSource();a&&this.colorFeatures_(a.getFeatures(),void 0)}};
os.data.histo.ColorModel.prototype.cleanupOldColors_=function(a){var b=[],c;for(c in a)c in this.coloredFeatures_||b.push(a[c]);this.colorFeatures_(b,void 0)};
os.data.histo.ColorModel.prototype.colorFeatures_=function(a,b){if(a&&0<a.length){for(var c=0,d=a.length;c<d;c++){var e=os.feature.getColor(a[c],null,null);if(e!=b){a[c].values_[os.data.RecordField.COLOR]=b;var f=os.feature.getColor(a[c],null,null)||void 0;a[c].dispatchFeatureEvent(os.data.FeatureEventType.COLOR,f,e)}b&&(this.coloredFeatures_[a[c].id]=a[c])}os.style.setFeaturesStyle(a)}};
os.data.histo.ColorModel.prototype.persist=function(a){a=a||{};a.colorMethod=this.colorMethod_;a.manualColors=goog.object.clone(this.manualBinColors_);if(this.histogram_){var b=this.histogram_.getBinMethod();b&&(a.binMethod=b.persist())}return a};
os.data.histo.ColorModel.prototype.restore=function(a){if(this.histogram_&&a.binMethod){var b=os.histo.restoreMethod(a.binMethod);b&&(b.setValueFunction(os.feature.getField),this.histogram_.setBinMethod(b))}this.setColorMethod(a.colorMethod);a.manualColors&&this.setManualBinColors(goog.object.clone(a.manualColors))};os.alert.Alert=function(a,b){this.message_=a;this.severity_=b};os.alert.Alert.prototype.getMessage=function(){return this.message_};os.alert.Alert.prototype.getSeverity=function(){return this.severity_};os.structs.ArrayCollection=function(a){goog.events.EventTarget.call(this);this.source_=a||[]};goog.inherits(os.structs.ArrayCollection,goog.events.EventTarget);os.structs.ArrayCollection.prototype.delay_=null;os.structs.ArrayCollection.prototype.sourceChanged_=!1;os.structs.ArrayCollection.prototype.view_=null;os.structs.ArrayCollection.prototype.viewChanged_=!1;os.structs.ArrayCollection.prototype.sort_=null;os.structs.ArrayCollection.prototype.sortChanged_=!1;
os.structs.ArrayCollection.prototype.filter_=null;os.structs.ArrayCollection.prototype.filterScope_=null;os.structs.ArrayCollection.prototype.filterChanged_=!1;os.structs.ArrayCollection.prototype.setChangeDelay=function(a){0>=a?this.delay_&&(this.delay_.stop(),this.delay_.dispose(),this.delay_=null):(this.delay_&&(this.delay_.stop(),this.delay_.dispose()),this.delay_=new goog.async.Delay(this.onTimer_,a,this))};os.structs.ArrayCollection.prototype.getSourceValues=function(){return this.source_};
os.structs.ArrayCollection.prototype.getFilter=function(){return this.filter_};os.structs.ArrayCollection.prototype.setFilter=function(a,b){this.filterChanged_=a!==this.filter_;this.filter_=a;this.filterScope_=b;this.filter_&&!this.view_&&(this.view_=[])};os.structs.ArrayCollection.prototype.getSort=function(){return this.sort_};os.structs.ArrayCollection.prototype.setSort=function(a){this.sortChanged_=a!==this.sort_;this.sort_=a};
os.structs.ArrayCollection.prototype.refresh=function(){this.filterChanged_&&(this.view_=this.filter_?this.source_.filter(this.filter_,this.filterScope_):null,this.filterChanged_=!1);this.sortChanged_&&(this.sort_&&(this.view_&&this.view_.sort(this.sort_),this.source_&&this.source_.sort(this.sort_)),this.sortChanged_=!1);this.viewChanged_=this.sourceChanged_=!0;this.scheduleDataChanged()};
os.structs.ArrayCollection.prototype.add=function(a){this.sort_?goog.array.binaryInsert(this.source_,a,this.sort_):this.source_.push(a);this.addFiltered_(a)&&(this.viewChanged_=!0);this.sourceChanged_=!0;this.scheduleDataChanged()};os.structs.ArrayCollection.prototype.addFiltered_=function(a){var b=!0;this.filter_&&(this.filter_.call(this.filterScope_,a,-1,null)?this.sort_?goog.array.binaryInsert(this.view_,a,this.sort_):this.view_.push(a):b=!1);return b};
os.structs.ArrayCollection.prototype.remove=function(a){if(this.sort_)goog.array.binaryRemove(this.source_,a,this.sort_);else{var b=this.getItemIndex_(a,this.source_);-1<b&&b<this.source_.length&&this.source_.splice(b,1)}this.removeFiltered_(a);this.sourceChanged=!0;this.scheduleDataChanged()};os.structs.ArrayCollection.prototype.removeAt=function(a,b){b=b?this.source_:this.view_||this.source_;var c=null;-1<a&&a<b.length&&(c=b.splice(a,1)[0]);return c};
os.structs.ArrayCollection.prototype.removeFiltered_=function(a){var b=!1;this.filter_&&(this.sort_?b=goog.array.binaryRemove(this.view_?this.view_:[],a,this.sort_):(a=this.getItemIndex_(a,this.view_),-1<a&&(this.view_.splice(a,1),b=!0)));return b};os.structs.ArrayCollection.prototype.contains=function(a){return-1<this.getItemIndex(a)};os.structs.ArrayCollection.prototype.getCount=function(){return this.view_?this.view_.length:this.source_.length};
os.structs.ArrayCollection.prototype.addAll=function(a){a=goog.structs.getValues(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};os.structs.ArrayCollection.prototype.removeAll=function(a){a=goog.structs.getValues(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};os.structs.ArrayCollection.prototype.containsAll=function(a){return goog.structs.every(a,this.contains,this)};os.structs.ArrayCollection.prototype.getItemIndex=function(a){return this.getItemIndex_(a,this.getValues())};
os.structs.ArrayCollection.prototype.replace=function(a,b){if(a!==b){var c=!1,d=!1;if(this.view_){var e=this.getItemIndex_(a,this.view_);-1<e&&(this.view_[e]=b,c=!0)}e=this.getItemIndex_(a,this.source_);-1<e&&(this.source_[e]=b,d=!0);this.viewChanged_=this.viewChanged_||c;this.sourceChanged_=this.sourceChanged_||d;(c||d)&&this.scheduleDataChanged()}};
os.structs.ArrayCollection.prototype.getItemIndex_=function(a,b){if(!b)return-1;a=this.sort_?goog.array.binarySearch(b,a,this.sort_):b.indexOf(a);return Math.max(a,-1)};os.structs.ArrayCollection.prototype.scheduleDataChanged=function(){if(this.delay_)this.delay_.start();else this.onTimer_()};
os.structs.ArrayCollection.prototype.onTimer_=function(a){this.delay_&&this.delay_.stop();this.sourceChanged_?(this.dispatchEvent(new goog.events.Event(os.structs.EventType.SOURCE_DATA_CHANGED)),this.dispatchEvent(new goog.events.Event(os.structs.EventType.VIEW_DATA_CHANGED))):this.viewChanged_&&this.dispatchEvent(new goog.events.Event(os.structs.EventType.VIEW_DATA_CHANGED));this.sourceChange_=this.viewChanged_=!1};os.structs.ArrayCollection.prototype.getKeys=function(){};
os.structs.ArrayCollection.prototype.getValues=function(){return this.view_||this.source_};os.structs.ArrayCollection.prototype.clear=function(){this.source_.length=0;this.view_&&(this.view_.length=0)};os.structs.ArrayCollection.prototype.isEmpty=function(){return 0===this.getValues().length};os.data.PropertyChange={TIME_FILTER_ENABLED:"timeFilterEnabled"};os.data.OSDataManager=function(){os.data.DataManager.call(this);this.log=os.data.OSDataManager.LOGGER_;this.sources_={};this.timeFilterEnabled_=!0;this.init_();var a=os.MapContainer.getInstance();a.listen(os.events.LayerEventType.ADD,this.onLayerAdded_,!1,this);a.listen(os.events.LayerEventType.REMOVE,this.onLayerRemoved_,!1,this)};goog.inherits(os.data.OSDataManager,os.data.DataManager);goog.addSingletonGetter(os.data.OSDataManager);
goog.object.extend(os.data.DataManager,{getInstance:function(){return os.data.OSDataManager.getInstance()}});os.data.OSDataManager.LOGGER_=goog.log.getLogger("os.data.OSDataManager");os.data.OSDataManager.BASE_KEY="dataManager";os.data.OSDataManagerSetting={FILTER_TIME:os.data.OSDataManager.BASE_KEY+".filterTime"};
os.data.OSDataManager.prototype.disposeInternal=function(){os.data.OSDataManager.superClass_.disposeInternal.call(this);var a=os.MapContainer.getInstance();a.unlisten(os.events.LayerEventType.ADD,this.onLayerAdded_,!1,this);a.unlisten(os.events.LayerEventType.REMOVE,this.onLayerRemoved_,!1,this)};os.data.OSDataManager.prototype.init_=function(){this.setTimeFilterEnabled(os.settings.get(os.data.OSDataManagerSetting.FILTER_TIME,!0))};
os.data.OSDataManager.prototype.getSource=function(a){return this.sources_[a]||null};os.data.OSDataManager.prototype.getSources=function(){var a=[],b;for(b in this.sources_)a.push(this.sources_[b]);return a};os.data.OSDataManager.prototype.getTotalFeatureCount=function(){for(var a=0,b=this.getSources(),c=0,d=b.length;c<d;c++)a+=b[c].getFeatureCount();return a};
os.data.OSDataManager.prototype.addSource=function(a){return a.getId()in this.sources_?!1:(this.sources_[a.getId()]=a,a.setTimeFilterEnabled(this.timeFilterEnabled_),this.dispatchEvent(new os.data.event.DataEvent(os.data.event.DataEventType.SOURCE_ADDED,a)),!0)};os.data.OSDataManager.prototype.removeSource=function(a){return a.getId()in this.sources_?(delete this.sources_[a.getId()],this.dispatchEvent(new os.data.event.DataEvent(os.data.event.DataEventType.SOURCE_REMOVED,a)),!0):!1};
os.data.OSDataManager.prototype.getTimeFilterEnabled=function(){return this.timeFilterEnabled_};os.data.OSDataManager.prototype.setTimeFilterEnabled=function(a){if(this.timeFilterEnabled_!=a){this.timeFilterEnabled_=a;for(var b in this.sources_)this.sources_[b].setTimeFilterEnabled(a);os.settings.set(os.data.OSDataManagerSetting.FILTER_TIME,a);this.dispatchEvent(new os.events.PropertyChangeEvent(os.data.PropertyChange.TIME_FILTER_ENABLED,a))}};
os.data.OSDataManager.prototype.onLayerAdded_=function(a){a.layer instanceof os.layer.Vector&&(a=a.layer,a.getSource()instanceof os.source.Vector&&(a=a.getSource(),this.addSource(a)))};os.data.OSDataManager.prototype.onLayerRemoved_=function(a){a.layer instanceof os.layer.Vector&&(a=a.layer,a.getSource()instanceof os.source.Vector&&(a=a.getSource(),this.removeSource(a)))};
os.data.OSDataManager.prototype.setTimeFromDescriptor=function(a){if(a=this.getDescriptor(a))if(a=a.getMaxDate(),0<a&&a<os.time.TimeInstant.MAX_TIME)return os.time.TimelineController.getInstance().setRangeStart(a),!0;return!1};os.osDataManager=null;os.ui.IHistogramUI=function(){};os.ui.window.confirmTextDirective=function(){return{restrict:"E",templateUrl:os.ROOT+"views/window/confirmtext.html",controller:os.ui.window.ConfirmTextCtrl,controllerAs:"confirmtext"}};os.ui.Module.directive("confirmtext",[os.ui.window.confirmTextDirective]);os.ui.window.ConfirmTextCtrl=function(a,b){a.$parent.select&&setTimeout(function(){b.find('[name="title"]').select()},10);a.$watch("confirmValue",function(b,d){b!=d&&(a.$parent.confirmValue=b)});a.$emit("window.ready")};
os.ui.window.launchConfirmText=function(a){a=a||{};var b=a.windowOptions||{};os.ui.window.create({label:b.label||"Enter Text",icon:b.icon||"",x:b.x||"center",y:b.y||"center",width:b.width||325,height:b.height||142,modal:null!=b.modal?b.modal:"true","show-close":null!=b.showClose?b.showClose:"false","no-scroll":null!=b.noScroll?b.noScroll:"true"},"<confirm><confirmtext></confirmtext></confirm>",void 0,void 0,void 0,{confirmCallback:a.confirm||goog.nullFunction,cancelCallback:a.cancel||goog.nullFunction,
confirmValue:a.defaultValue,yesText:a.yesText||"OK",yesIcon:a.yesIcon||"fa fa-check lt-blue-icon",noText:a.noText||"Cancel",noIcon:a.noIcon||"fa fa-ban red-icon",select:!!a.select,limit:a.limit||200,formLabel:a.formLabel,prompt:a.prompt})};os.data.histo.HistoEventType={REMOVE_CASCADE:"histo:removeCascade",TOGGLE_CASCADE:"histo:toggleCascade",BIN_CHANGE:"histo:binChange",CASCADE_CHANGE:"histo:cascadeChange"};
os.data.histo.createFilter=function(a,b,c){var d=null,e=[];a=os.data.histo.filterValidControllers(a,b,c);for(b=0;b<a.length;b++){var f=a[b].createXmlFilter(c);f&&e.push(f)}0<e.length&&(c=e.join(""),1<e.length?c="<And>"+c+"</And>":(d=goog.dom.xml.loadXml(c),d=goog.dom.getFirstElementChild(d),os.ui.filter.isCondition(d)||(c="<Or>"+c+"</Or>")),d=new os.filter.FilterEntry,d.setEnabled(!0),d.setFilter(c));return d};
os.data.histo.filterValidControllers=function(a,b,c){for(var d=[],e,f,g=0;g<a.length;g++){var h=a[g],k=h.getColumn(),l=k&&k.name||null,m=k&&k.field||null;k=goog.array.find(b,function(a){return a.field==m||a.name==l});if(!l||!(h.hasCascadedBins()||h.hasSelectedBins()||c&&h.hasBins()))break;else if(!k){e='Unable to create a filter using column "'+l+'". The application derives some values for internal processing though the columns are not defined on the data source.  Filters cannot be created using internal columns.';
f=os.alert.AlertEventSeverity.WARNING;break}else if(h.isDateMethod()){e='Unable to create a filter using column "'+l+'". Filters cannot be created using the Date type. Time filtering is managed by the application time controls.';f=os.alert.AlertEventSeverity.WARNING;break}d.push(h)}e||d.length||(e="Unable to create a filter. Filters are created from ",e=1<a.length?e+'cascaded rows <span class="nowrap">(<i class="fa fa-arrow-right"/>)</span>, or from selected rows in the last Count By.':e+"selected rows in the Count By.",
e+=" Unrecognized/invalid values will be omitted from filters.",f=os.alert.AlertEventSeverity.ERROR);e&&os.alertManager.sendAlert(e,f);return d};os.data.histo.ColorBin=function(a){os.histo.Bin.call(this);this.baseColor_=os.color.toHexString(a);this.colorCounts_={};this.isCascaded=!1};goog.inherits(os.data.histo.ColorBin,os.histo.Bin);os.data.histo.ColorBin.prototype.getColor=function(){for(var a in this.colorCounts_)return this.colorCounts_[a]==this.items.length?a:"";return this.baseColor_};os.data.histo.ColorBin.prototype.getColorCounts=function(){return this.colorCounts_};
os.data.histo.ColorBin.prototype.addItem=function(a){os.data.histo.ColorBin.superClass_.addItem.call(this,a);this.incrementColor(this.getItemColor(a))};os.data.histo.ColorBin.prototype.removeItem=function(a){os.data.histo.ColorBin.superClass_.removeItem.call(this,a);this.decrementColor(this.getItemColor(a))};os.data.histo.ColorBin.prototype.getItemColor=function(a){return os.feature.getColor(a)||void 0};
os.data.histo.ColorBin.prototype.decrementColor=function(a){(a=a?os.color.toHexString(a):this.baseColor_)&&a in this.colorCounts_&&(this.colorCounts_[a]--,0==this.colorCounts_[a]&&delete this.colorCounts_[a])};os.data.histo.ColorBin.prototype.incrementColor=function(a){(a=a?os.color.toHexString(a):this.baseColor_)&&(a in this.colorCounts_?this.colorCounts_[a]++:this.colorCounts_[a]=1)};os.data.histo.SourceHistogram=function(a,b){goog.events.EventTarget.call(this);this.id_=os.data.histo.SourceHistogram.ID+os.data.histo.SourceHistogram.nextId++;this.log=os.data.histo.SourceHistogram.LOGGER_;this.refCount_=0;this.binMethod=null;this.source=a;this.results=[];this.cascadeValues_=this.parent_=null;this.timeModel_=a.getTimeModel();this.sortFn=null;this.updateDelay_=new goog.async.Delay(this.onUpdate,25,this);this.featureBins_={};os.dispatcher.listen(os.data.FeatureEventType.COLOR,this.onFeatureColor_,
!1,this);this.setParent(b||null);this.update()};goog.inherits(os.data.histo.SourceHistogram,goog.events.EventTarget);os.data.histo.SourceHistogram.LOGGER_=goog.log.getLogger("os.data.histo.SourceHistogram");os.data.histo.SourceHistogram.ID="sourcehisto";os.data.histo.SourceHistogram.nextId=0;
os.data.histo.SourceHistogram.prototype.dispose=function(){this.refCount_--;0>=this.refCount_?(goog.log.fine(this.log,"Disposing histogram "+this.id_+"."),os.data.histo.SourceHistogram.superClass_.dispose.call(this)):goog.log.fine(this.log,"Skipping histogram dispose for id = "+this.id_+" (ref count = "+this.refCount_+")")};
os.data.histo.SourceHistogram.prototype.disposeInternal=function(){os.data.histo.SourceHistogram.superClass_.disposeInternal.call(this);os.dispatcher.unlisten(os.data.FeatureEventType.COLOR,this.onFeatureColor_,!1,this);this.setParent(null);this.source=null;this.updateDelay_.dispose();this.updateDelay_=null;this.setBinMethod(null);this.results.length=0};os.data.histo.SourceHistogram.prototype.incrementRefCount=function(){this.refCount_++};
os.data.histo.SourceHistogram.prototype.decrementRefCount=function(){this.refCount_--;0>=this.refCount_&&this.dispose()};os.data.histo.SourceHistogram.prototype.onDataChange=function(){for(var a in this.featureBins_){var b=this.featureBins_[a];b&&b.clear()}this.featureBins_={};this.updateResults();this.dispatchEvent(goog.events.EventType.CHANGE)};os.data.histo.SourceHistogram.prototype.getId=function(){return this.id_};os.data.histo.SourceHistogram.prototype.getCascadeValues=function(){return this.cascadeValues_};
os.data.histo.SourceHistogram.prototype.setCascadeValues=function(a){this.cascadeValues_=a;this.dispatchEvent(os.data.histo.HistoEventType.CASCADE_CHANGE)};os.data.histo.SourceHistogram.prototype.getParent=function(){return this.parent_};
os.data.histo.SourceHistogram.prototype.setParent=function(a){this.parent_?(this.parent_.unlisten(goog.events.EventType.CHANGE,this.update,!1,this),this.parent_.unlisten(os.data.histo.HistoEventType.CASCADE_CHANGE,this.update,!1,this),this.parent_.decrementRefCount()):ol.events.unlisten(this.source,goog.events.EventType.PROPERTYCHANGE,this.onSourceChange_,this);this.parent_=a;this.isDisposed()||(this.parent_?(this.parent_.listen(goog.events.EventType.CHANGE,this.update,!1,this),this.parent_.listen(os.data.histo.HistoEventType.CASCADE_CHANGE,
this.update,!1,this),this.parent_.incrementRefCount()):ol.events.listen(this.source,goog.events.EventType.PROPERTYCHANGE,this.onSourceChange_,this))};os.data.histo.SourceHistogram.prototype.getBinMethod=function(){return this.binMethod};os.data.histo.SourceHistogram.prototype.setBinMethod=function(a){(this.binMethod=os.histo.cloneMethod(a))&&this.binMethod.setValueFunction(os.feature.getField);this.reindex();this.update();this.dispatchEvent(os.data.histo.HistoEventType.BIN_CHANGE)};
os.data.histo.SourceHistogram.prototype.reindex=function(){if(this.timeModel_&&(this.timeModel_.removeDimension(this.id_),this.binMethod)){var a=this.binMethod.getValue.bind(this.binMethod);this.timeModel_.addDimension(this.id_,a)}};os.data.histo.SourceHistogram.prototype.getSortFn=function(){return this.sortFn};os.data.histo.SourceHistogram.prototype.setSortFn=function(a){this.sortFn=a;this.update()};
os.data.histo.SourceHistogram.prototype.getParentFilters=function(){for(var a,b=this.getParent();b;){var c=b.getBinMethod(),d=b.getId();if(c){var e=b.getCascadeValues()||[];a=a||{};a[d]=c.createFilter(e)}else{a={};a[d]=void 0;break}b=b.getParent()}return a};os.data.histo.SourceHistogram.prototype.getResults=function(){return this.results};
os.data.histo.SourceHistogram.prototype.updateResults=function(){var a=[];if(this.timeModel_&&this.binMethod){this.source&&this.source.getFilteredFeatures();var b=this.getParentFilters();if(b)for(var c in b)if(null!=b[c])this.timeModel_.filterDimension(c,b[c]);else{this.results=[];return}a=this.timeModel_.groupData(this.id_,this.binMethod.getBinKey.bind(this.binMethod),this.reduceAdd.bind(this),this.reduceRemove.bind(this),this.reduceInit.bind(this));if(b)for(c in b)this.timeModel_.filterDimension(c,
void 0);a=a.map(this.map,this).filter(function(a){return void 0!=a});this.sortFn&&goog.array.sort(a,this.sortFn)}this.results=a};os.data.histo.SourceHistogram.prototype.map=function(a,b,c){a=a.value;(b=a.getItems())&&0<b.length?(b=b[0],a.setKey(this.binMethod.getBinKey(this.binMethod.getValue(b))),a.setLabel(this.binMethod.getBinLabel(b))):a=null;return a};
os.data.histo.SourceHistogram.prototype.setColorMethod=function(a,b,c){if(this.source){var d=this.source.getColorModel();if(0<a){var e={};d&&(e=d.getBinColors());d&&d.getHistogram()==this||(d=this.source.createColorModel(this),this.source.setColorModel(d),d.setManualBinColors(e));d.setColorMethod(a,b,c)}else d.setColorMethod(a,b,c),this.source.setColorModel(null)}};os.data.histo.SourceHistogram.prototype.getSource=function(){return this.source};
os.data.histo.SourceHistogram.prototype.onSourceChange_=function(a){a=a.getProperty();a===os.source.PropertyChange.COLOR||a===os.source.PropertyChange.FEATURES||a===os.source.PropertyChange.REPLACE_STYLE||a===os.source.PropertyChange.TIME_ENABLED?this.update():a===os.source.PropertyChange.FEATURE_VISIBILITY?this.update(100):a===os.source.PropertyChange.TIME_FILTER?(this.source.getFilteredFeatures(),this.update()):a===os.source.PropertyChange.DATA&&(this.reindex(),this.update())};
os.data.histo.SourceHistogram.prototype.update=function(a){this.updateDelay_&&this.updateDelay_.start(a)};os.data.histo.SourceHistogram.prototype.onUpdate=function(a){this.onDataChange()};os.data.histo.SourceHistogram.prototype.reduceAdd=function(a,b){this.featureBins_[b.id]=a;a.addItem(b);return a};os.data.histo.SourceHistogram.prototype.reduceRemove=function(a,b){this.featureBins_[b.id]=void 0;a.removeItem(b);return a};os.data.histo.SourceHistogram.prototype.reduceInit=function(){return new os.data.histo.ColorBin(this.source.getColor())};
os.data.histo.SourceHistogram.prototype.onFeatureColor_=function(a){a.id&&this.featureBins_[a.id]&&(this.featureBins_[a.id].decrementColor(a.oldVal),this.featureBins_[a.id].incrementColor(a.newVal))};os.events.SelectionType={ADDED:"selectedItemsAdded",CHANGED:"selectedItemsChanged",REMOVED:"selectedItemsRemoved",CLEAR:"selectedItemsCleared"};os.events.isSelectionType=function(a){return!!a&&goog.object.containsValue(os.events.SelectionType,a)};os.layer.AnimationOverlay=function(a){a=goog.isDef(a)?a:{};this.features_=[];this.source_=new ol.source.Vector({features:this.features_,useSpatialIndex:!1});this.layer_=new os.layer.AnimationVector({renderOrder:null,source:this.source_,updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:a.zIndex});null!=a.opacity&&this.setOpacity(a.opacity);null!=a.style&&this.setStyle(a.style);null!=a.features&&goog.isArray(a.features)&&this.setFeatures(goog.array.clone(a.features));null!=a.map&&this.setMap(a.map)};
goog.inherits(os.layer.AnimationOverlay,goog.Disposable);os.layer.AnimationOverlay.prototype.disposeInternal=function(){os.layer.AnimationOverlay.superClass_.disposeInternal.call(this);this.setMap(null);this.features_.length=0;this.source_.dispose();this.source_=null;this.layer_.dispose();this.layer_=null};os.layer.AnimationOverlay.prototype.changed=function(){this.source_&&!os.MapContainer.getInstance().is3DEnabled()&&this.source_.changed()};os.layer.AnimationOverlay.prototype.getFeatures=function(){return this.features_};
os.layer.AnimationOverlay.prototype.setFeatures=function(a){this.features_.length=0;if(a&&0<a.length){this.features_.length=a.length;for(var b=0,c=a.length;b<c;b++)this.features_[b]=a[b]}this.changed()};os.layer.AnimationOverlay.prototype.setMap=function(a){this.layer_&&this.layer_.setMap(a)};os.layer.AnimationOverlay.prototype.setStyle=function(a){this.layer_&&this.layer_.setStyle(a)};os.layer.AnimationOverlay.prototype.setOpacity=function(a){this.layer_&&this.layer_.setOpacity(a)};
os.layer.AnimationOverlay.prototype.setZIndex=function(a){this.layer_&&this.layer_.setZIndex(a)};os.layer.AnimationVector=function(a){ol.layer.Vector.call(this,a)};goog.inherits(os.layer.AnimationVector,ol.layer.Vector);os.layer.AnimationVector.Z_OFFSET=1E5;
os.layer.AnimationVector.prototype.setMap=function(a){this.mapPrecomposeKey_&&(ol.events.unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null);a||this.changed();this.mapRenderKey_&&(ol.events.unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null);a&&(this.mapPrecomposeKey_=ol.events.listen(a,ol.render.EventType.PRECOMPOSE,function(a){var b=this.getLayerState();b.managed=!1;b.zIndex+=os.layer.AnimationVector.Z_OFFSET;a.frameState.layerStatesArray.push(b);a.frameState.layerStates[ol.getUid(this)]=
b},this),this.mapRenderKey_=ol.events.listen(this,ol.events.EventType.CHANGE,a.render,a),this.changed())};os.load={};os.load.LoadingEventType={ADD:"load:add",REMOVE:"load:remove"};os.load.LoadingEvent=function(a,b){goog.events.Event.call(this,a);this.task=b||null};goog.inherits(os.load.LoadingEvent,goog.events.Event);os.load.LoadingEvent.prototype.getTask=function(){return this.task};os.load.LoadingEvent.prototype.setTask=function(a){this.task=a};os.load.ILoadingTask=function(){};os.load.LoadingTask=function(a,b,c){this.id=a;this.start=goog.now();this.count=0;this.title=b||null;this.cpuIntensive=c||!1};os.load.LoadingTask.prototype.incrementCount=function(){this.count++};os.load.LoadingTask.prototype.decrementCount=function(){this.count--};os.load.LoadingTask.prototype.getCount=function(){return this.count};os.load.LoadingTask.prototype.getDuration=function(){return goog.now()-this.start};os.load.LoadingTask.prototype.getCPUIntensive=function(){return this.cpuIntensive};
os.load.LoadingTask.prototype.setCPUIntensive=function(a){this.cpuIntensive=a};os.load.LoadingTask.prototype.getTitle=function(){return this.title};os.load.LoadingTask.prototype.setTitle=function(a){this.title=a};os.load.LoadingManager=function(){goog.events.EventTarget.call(this);this.log=os.load.LoadingManager.LOGGER_;this.loadingTasks_={}};goog.inherits(os.load.LoadingManager,goog.events.EventTarget);goog.addSingletonGetter(os.load.LoadingManager);os.load.LoadingManager.LOGGER_=goog.log.getLogger("os.load.LoadingManager");os.load.LoadingManager.LOADING="loadingManager:loading";os.load.LoadingManager.prototype.getLoading=function(){return!goog.object.isEmpty(this.loadingTasks_)};
os.load.LoadingManager.prototype.getLoadingCount=function(){var a=0,b;for(b in this.loadingTasks_)a+=this.loadingTasks_[b].getCount();return a};
os.load.LoadingManager.prototype.addLoadingTask=function(a,b,c){var d=this.getLoading();this.loadingTasks_[a]?(goog.log.fine(this.log,"Incrementing load count for task ID: "+a),this.loadingTasks_[a].incrementCount()):(goog.log.fine(this.log,"Adding new loading task with ID: "+a),b=new os.load.LoadingTask(a,b,c),b.incrementCount(),this.loadingTasks_[a]=b,this.dispatchEvent(new os.load.LoadingEvent(os.load.LoadingEventType.ADD,b)));d||d===this.getLoading()||(a=new os.events.PropertyChangeEvent(os.load.LoadingManager.LOADING,
!0,!1),this.dispatchEvent(a))};
os.load.LoadingManager.prototype.removeLoadingTask=function(a){var b=this.loadingTasks_[a];b&&(goog.log.fine(this.log,"Decrementing load count for task ID: "+a),b.decrementCount(),0>=b.getCount()&&(goog.log.fine(this.log,"Removing load task with ID: "+a),delete this.loadingTasks_[a],this.dispatchEvent(new os.load.LoadingEvent(os.load.LoadingEventType.REMOVE,b))),this.getLoading()||(a=new os.events.PropertyChangeEvent(os.load.LoadingManager.LOADING,!1,!0),this.dispatchEvent(a)));return b};os.ogc={};os.ogc.ID="ogc";os.ogc.defaultProjection="EPSG:4326";os.ogc.LayerType={WFS:"wfs",WMS:"wms",WPS:"wps"};os.ogc.DEFAULT_TILE_STYLE={label:"Default",data:""};os.ogc.COLOR_STYLE_REGEX=/(density)|(foreground color)/i;os.ogc.getException=function(a,b){try{if(b&&goog.string.contains(b,"/xml")||!b){var c=(goog.isString(a)?goog.dom.xml.loadXml(a):a).querySelector("ExceptionText, ServiceException");if(c)return c.textContent}}catch(d){}return null};
os.ogc.getDefaultWfsOptions=function(){return{load:!0,spatial:!0,temporal:!0,exclusions:!1,filter:!0,usePost:!0,params:os.ogc.getDefaultWfsParams()}};os.ogc.getDefaultWfsParams=function(){var a=new goog.Uri.QueryData;a.setIgnoreCase(!0);a.set("service","WFS");a.set("version","1.1.0");a.set("request","GetFeature");a.set("srsname","EPSG:4326");a.set("outputformat","application/json");return a};os.ogc.getMaxFeatures=function(a){return os.settings.get(a||"maxFeatures",5E4)};os.im.mapping.RadiusMapping=function(){os.im.mapping.RenameMapping.call(this);this.toField=os.Fields.RADIUS;this.xmlType=os.im.mapping.RadiusMapping.ID;this.unitsField=os.Fields.RADIUS_UNITS;this.unitsRegex=os.im.mapping.RadiusMapping.UNITS_REGEX;this.regex=os.im.mapping.RadiusMapping.REGEX;this.units=os.fields.DEFAULT_RADIUS_UNIT};goog.inherits(os.im.mapping.RadiusMapping,os.im.mapping.RenameMapping);os.im.mapping.RadiusMapping.ID="Radius";
os.im.mapping.MappingRegistry.getInstance().registerMapping(os.im.mapping.RadiusMapping.ID,os.im.mapping.RadiusMapping);os.im.mapping.RadiusMapping.REGEX=/(^|[^A-Za-z0-9]+)(cep|radius)($|[^A-Za-z0-9]+)/i;os.im.mapping.RadiusMapping.UNITS_REGEX=/(^|[^A-Za-z0-9]+)(cep|radius)(_units)($|[^A-Za-z0-9]+)/i;os.im.mapping.RadiusMapping.prototype.getUnits=function(){return this.units};os.im.mapping.RadiusMapping.prototype.setUnits=function(a){this.units=a};os.im.mapping.RadiusMapping.prototype.getId=function(){return this.xmlType};
os.im.mapping.RadiusMapping.prototype.getLabel=function(){return this.toField||null};os.im.mapping.RadiusMapping.prototype.execute=function(a){if(this.field&&this.toField){var b=os.math.parseNumber(os.im.mapping.getItemField(a,this.field));isNaN(b)||(this.units&&(b*=os.geo.UNIT_MULTIPLIERS[this.units]),os.im.mapping.setItemField(a,this.toField,b),this.units&&this.unitsField&&os.im.mapping.setItemField(a,this.unitsField,this.units))}};
os.im.mapping.RadiusMapping.prototype.autoDetect=function(a){if(a)for(var b=a.length;b--;){var c=a[b],d=os.im.mapping.getBestFieldMatch(c,this.regex);if(d)return a=new this.constructor,a.field=d,this.unitsRegex&&(d=os.im.mapping.getBestFieldMatch(c,this.unitsRegex))&&(c=os.im.mapping.getItemField(c,d),"string"==typeof c&&(c=c.toLowerCase(),c in os.geo.UNIT_MULTIPLIERS&&a.setUnits(c))),a}return null};
os.im.mapping.RadiusMapping.prototype.clone=function(){var a=os.im.mapping.RadiusMapping.superClass_.clone.call(this);a.setUnits(this.getUnits());return a};os.im.mapping.RadiusMapping.prototype.persist=function(a){a=os.im.mapping.RadiusMapping.superClass_.persist.call(this,a);a.units=this.getUnits();return a};os.im.mapping.RadiusMapping.prototype.restore=function(a){os.im.mapping.RadiusMapping.superClass_.restore.call(this,a);this.setUnits(a.units)};
os.im.mapping.RadiusMapping.prototype.toXml=function(){var a=os.im.mapping.RadiusMapping.superClass_.toXml.call(this);os.xml.appendElement("units",a,this.getUnits());return a};os.im.mapping.RadiusMapping.prototype.fromXml=function(a){os.im.mapping.RadiusMapping.superClass_.fromXml.call(this,a);this.setUnits(this.getXmlValue(a,"units"))};os.im.mapping.SemiMajorMapping=function(){os.im.mapping.RadiusMapping.call(this);this.toField=os.fields.DEFAULT_SEMI_MAJ_COL_NAME;this.unitsField=os.Fields.SEMI_MAJOR_UNITS;this.unitsRegex=os.im.mapping.SemiMajorMapping.UNITS_REGEX;this.regex=os.im.mapping.SemiMajorMapping.REGEX;this.xmlType=os.im.mapping.SemiMajorMapping.ID};goog.inherits(os.im.mapping.SemiMajorMapping,os.im.mapping.RadiusMapping);os.im.mapping.SemiMajorMapping.ID="SemiMajor";
os.im.mapping.MappingRegistry.getInstance().registerMapping(os.im.mapping.SemiMajorMapping.ID,os.im.mapping.SemiMajorMapping);os.im.mapping.SemiMajorMapping.REGEX=/s(e(m(i)?)?)?[\W_]*maj(o(r)?)?/i;os.im.mapping.SemiMajorMapping.UNITS_REGEX=/s(e(m(i)?)?)?[\W_]*maj(o(r)?)?_units/i;os.im.mapping.SemiMinorMapping=function(){os.im.mapping.RadiusMapping.call(this);this.toField=os.fields.DEFAULT_SEMI_MIN_COL_NAME;this.unitsField=os.Fields.SEMI_MINOR_UNITS;this.unitsRegex=os.im.mapping.SemiMinorMapping.UNITS_REGEX;this.regex=os.im.mapping.SemiMinorMapping.REGEX;this.xmlType=os.im.mapping.SemiMinorMapping.ID};goog.inherits(os.im.mapping.SemiMinorMapping,os.im.mapping.RadiusMapping);os.im.mapping.SemiMinorMapping.ID="SemiMinor";
os.im.mapping.MappingRegistry.getInstance().registerMapping(os.im.mapping.SemiMinorMapping.ID,os.im.mapping.SemiMinorMapping);os.im.mapping.SemiMinorMapping.REGEX=/s(e(m(i)?)?)?[\W_]*min(o(r)?)?/i;os.im.mapping.SemiMinorMapping.UNITS_REGEX=/s(e(m(i)?)?)?[\W_]*min(o(r)?)?_units/i;os.ui.descriptionInfoDirective=function(){return{restrict:"E",scope:{description:"="},templateUrl:os.ROOT+"views/descriptioninfo.html",controller:os.ui.DescriptionInfoCtrl,controllerAs:"info"}};os.ui.Module.directive("descriptioninfo",[os.ui.descriptionInfoDirective]);
os.ui.DescriptionInfoCtrl=function(a,b){this.scope_=a;this.element_=b;b=os.ui.sanitize(this.scope_.description||"");if(!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(b))){b=b.replace(/<a /g,'<a target="_blank" ');var c=this.element_.find("iframe")[0];c&&(c=c.contentWindow.document,c.open(),c.write(b),c.close())}a.$on("$destroy",this.destroy_.bind(this))};os.ui.DescriptionInfoCtrl.prototype.destroy_=function(){this.element_=this.scope_=null};
os.ui.launchDescriptionInfo=function(a,b,c){var d="Description";c&&(d+=" for "+c);a=goog.string.buildString("descriptionInfo",a);os.ui.window.exists(a)?os.ui.window.bringToFront(a):os.ui.window.create({id:a,label:d,icon:"fa fa-newspaper-o lt-blue-icon",x:"center",y:"center",width:"800","min-width":"800","max-width":"800",height:"600","min-height":"600","max-height":"600","show-close":"true"},'<descriptioninfo description="description"></descriptioninfo>',void 0,void 0,void 0,{description:b})};
goog.exportSymbol("os.ui.launchDescriptionInfo",os.ui.launchDescriptionInfo);os.ui.formatter.DescriptionFormatter=function(a,b,c,d,e){if(!c||"string"!==typeof c)return"";d.asyncPostRender=os.ui.SlickDescriptionAsyncRenderer;return'<div class="location-properties-link">Show</div>'};
os.ui.SlickDescriptionAsyncRenderer=function(a,b,c,d){if(c){var e=String(c.getId()).replace(/[\W]/g,"_"),f=c.get(os.Fields.DESCRIPTION);f||(f=c.get(os.Fields.DESCRIPTION.toLowerCase()));if(goog.isDefAndNotNull(f)&&"string"===typeof e){b=$(a);a=a.ownerDocument;var g=a.defaultView||a.parentWindow;b.click(function(){os.inIframe(g)?os.ui.launchDescriptionInfo(e,f):g.os.ui.launchDescriptionInfo(e,f)})}}};os.source.column={};os.source.column.create=function(a,b,c){a=new os.data.ColumnDefinition(b||a,a);a.sortable=!0;a.temp=c||!1;os.ui.slick.column.autoSizeColumn(a);return a};os.source.column.mapStringOrDef=function(a){return"string"===typeof a?os.source.column.create(a):a};os.source.column.addFormatter=function(a){var b=a.field;b&&(-1<b.indexOf(os.Fields.PROPERTIES)&&(a.formatter=os.ui.formatter.PropertiesFormatter),os.fields.DESC_REGEXP.test(b)&&(a.formatter=os.ui.formatter.DescriptionFormatter))};
os.source.column.addDefaults=function(a){var b=!1,c=!1,d=!1,e=!1,f=!1,g=!1,h=!1,k=!1,l=!1,m=!1,n=!1;a.getColumns().forEach(function(a){var p=a.name;p&&(b|=goog.string.caseInsensitiveEquals(p,os.Fields.ID),f|=goog.string.caseInsensitiveEquals(p,os.Fields.LAT_DMS),g|=goog.string.caseInsensitiveEquals(p,os.Fields.LON_DMS),d|=goog.string.caseInsensitiveEquals(p,os.Fields.LAT),e|=goog.string.caseInsensitiveEquals(p,os.Fields.LON),c|=os.geo.MGRSRegExp.test(p),h|=goog.string.caseInsensitiveEquals(p,os.data.RecordField.TIME));
if(a=a.field)k|=os.geo.ALT_REGEXP.test(a),l|=os.im.mapping.RadiusMapping.REGEX.test(a),m|=os.im.mapping.SemiMajorMapping.REGEX.test(a),n|=os.im.mapping.SemiMinorMapping.REGEX.test(a)});b||a.addColumn(os.Fields.ID);!c&&d&&e&&a.addColumn(os.Fields.MGRS);!f&&d&&a.addColumn(os.Fields.LAT_DMS);!g&&e&&a.addColumn(os.Fields.LON_DMS);!h&&a.getTimeEnabled()&&a.addColumn(os.data.RecordField.TIME,os.Fields.TIME);k&&(a.addColumn(os.fields.DEFAULT_ALT_COL_NAME),a.addColumn(os.Fields.ALT_UNITS));l&&a.addColumn(os.Fields.RADIUS);
m&&a.addColumn(os.fields.DEFAULT_SEMI_MAJ_COL_NAME);n&&a.addColumn(os.fields.DEFAULT_SEMI_MIN_COL_NAME)};os.style.IStyleReader=function(){};os.style.AbstractReader=function(){this.readers={};this.cache={};this.baseHash=1};os.style.AbstractReader.prototype.getOrCreateStyle=goog.abstractMethod;os.style.AbstractReader.prototype.setReaders=function(a){this.readers=a};os.style.AbstractReader.prototype.toConfig=function(a,b){};os.style.CircleReader=function(){os.style.AbstractReader.call(this)};goog.inherits(os.style.CircleReader,os.style.AbstractReader);
os.style.CircleReader.prototype.getOrCreateStyle=function(a){var b=goog.isDef(a.radius)?a.radius:os.style.DEFAULT_FEATURE_SIZE,c=this.baseHash+b,d=a.fill;if(d){var e=this.readers.fill.getOrCreateStyle(d);c+=e.id}if(a=a.stroke){var f=this.readers.stroke.getOrCreateStyle(a);c+=f.id}this.cache[c]||(this.cache[c]=new ol.style.Circle({radius:b,fill:e,stroke:f}),this.cache[c].id=c);return this.cache[c]};
os.style.CircleReader.prototype.toConfig=function(a,b){if(a instanceof ol.style.Circle){b.type="circle";b.radius=a.getRadius();var c=a.getFill();c&&this.readers.fill.toConfig(c,b);(a=a.getStroke())&&this.readers.stroke.toConfig(a,b)}};os.style.FillReader=function(){os.style.AbstractReader.call(this)};goog.inherits(os.style.FillReader,os.style.AbstractReader);os.style.FillReader.prototype.getOrCreateStyle=function(a){a=a.color||os.style.DEFAULT_LAYER_COLOR;a=ol.color.asString(a);var b=this.baseHash+goog.string.hashCode(a);this.cache[b]||(this.cache[b]=new ol.style.Fill({color:a}),this.cache[b].id=b);return this.cache[b]};
os.style.FillReader.prototype.toConfig=function(a,b){if(a instanceof ol.style.Fill&&(a=a.getColor(),void 0!==a&&null!==a)){var c={};b.fill=c;c.color=ol.color.asString(a)}};os.style.FallbackIconImage=function(a,b,c,d,e,f){ol.style.IconImage.call(this,a,b,c,d,e,f);this.originalSrc=b;this.errorCount_=0;this.log=os.style.FallbackIconImage.LOGGER_};goog.inherits(os.style.FallbackIconImage,ol.style.IconImage);os.style.FallbackIconImage.LOGGER_=goog.log.getLogger("os.style.FallbackIconImage");os.style.FallbackIconImage.DATA_URL_RX=/^data/i;
os.style.FallbackIconImage.prototype.handleImageError_=function(){this.errorCount_++;var a=this.originalSrc,b=os.style.FallbackIconImage.DATA_URL_RX;if(1===this.errorCount_){if(a&&b.test(a)&&this.crossOrigin){goog.log.fine(this.log,"attempting to retry data URL "+a+" with an empty crossOrigin value");this.imageState_=ol.ImageState.IDLE;this.crossOrigin=null;this.load();return}this.errorCount_++}if(2===this.errorCount_){b=new goog.Uri(a);var c=new os.net.ProxyHandler;if(a&&c.handles(os.net.Request.METHOD_GET,
b)){goog.log.fine(this.log,"attempting to retry URL "+a+" through the proxy");this.imageState_=ol.ImageState.IDLE;this.src_=os.net.ProxyHandler.getProxyUri(a);this.load();return}this.errorCount_++}3===this.errorCount_?(goog.log.fine(this.log,"falling back to default icon"),this.imageState_=ol.ImageState.IDLE,this.src_=os.style.IconReader.DEFAULT_ICON,this.load()):(goog.log.error(this.log,"Unknown error accessing icon!"),os.style.FallbackIconImage.superClass_.handleImageError_.call(this))};os.mixin.IconImageMixin={};ol.style.IconImage.get=function(a,b,c,d,e,f){var g=ol.style.iconImageCache,h=g.get(b,d,f);h||(h=new os.style.FallbackIconImage(a,b,c,d,e,f),g.set(b,d,f,h));return h};os.style.Icon=function(a){a=a||{};if(null==a.opacity&&null!=a.color){var b=os.color.toRgbArray(a.color);b&&"number"==typeof b[3]&&!isNaN(b[3])&&(a.opacity=b[3])}ol.style.Icon.call(this,a);this.normalizedScale_=0;this.listenImageChange(this.onImageChange,this)};goog.inherits(os.style.Icon,ol.style.Icon);
os.style.Icon.prototype.getScale=function(){if(this.normalizedScale_)return this.normalizedScale_;var a=this.getSize(),b=os.style.Icon.superClass_.getScale.call(this);a&&(this.normalizedScale_=b=32*b/Math.min(a[0],a[1]));return b};os.style.Icon.prototype.onImageChange=function(a){a=this.iconImage_.getImageState();a>=ol.ImageState.LOADED&&this.unlistenImageChange(this.onImageChange,this);a===ol.ImageState.LOADED&&this.iconImage_.getSrc()==os.style.IconReader.DEFAULT_ICON&&(this.setScale(1),this.setRotation(0))};
os.style.Icon.prototype.getBaseImage=function(){return this.iconImage_.image_};os.ui.file.kml={};os.ui.file.kml.RefreshMode={CHANGE:"onChange",EXPIRE:"onExpire",INTERVAL:"onInterval"};os.ui.file.kml.ViewRefreshMode={NEVER:"never",REGION:"onRegion",REQUEST:"onRequest",STOP:"onStop"};os.ui.file.kml.ElementType={FOLDER:"Folder",PLACEMARK:"Placemark",NETWORK_LINK:"NetworkLink"};os.ui.file.kml.StyleType={DEFAULT:"default",ICON:"icon",POINT:"point"};os.ui.file.kml.GOOGLE_EARTH_URL="http://maps.google.com/mapfiles/kml/";os.ui.file.kml.ICON_PATH=os.ROOT+"images/icons/kml/";
os.ui.file.kml.GoogleEarthIcons={NUM_01:"paddle/1.png",NUM_02:"paddle/2.png",NUM_03:"paddle/3.png",NUM_04:"paddle/4.png",NUM_05:"paddle/5.png",NUM_06:"paddle/6.png",NUM_07:"paddle/7.png",NUM_08:"paddle/8.png",NUM_09:"paddle/9.png",NUM_10:"paddle/10.png",A:"paddle/a.png",B:"paddle/b.png",C:"paddle/c.png",D:"paddle/d.png",E:"paddle/e.png",F:"paddle/f.png",G:"paddle/g.png",H:"paddle/h.png",I:"paddle/i.png",J:"paddle/j.png",K:"paddle/k.png",L:"paddle/l.png",M:"paddle/m.png",N:"paddle/n.png",O:"paddle/o.png",
P:"paddle/p.png",Q:"paddle/q.png",R:"paddle/r.png",S:"paddle/s.png",T:"paddle/t.png",U:"paddle/u.png",V:"paddle/v.png",W:"paddle/w.png",X:"paddle/x.png",Y:"paddle/y.png",Z:"paddle/z.png",BLU_BLANK:"paddle/blu-blank.png",BLU_CIRCLE:"paddle/blu-circle.png",BLU_DIAMOND:"paddle/blu-diamond.png",BLUE_PUSHPIN:"pushpin/blue-pushpin.png",BLU_SQUARE:"paddle/blu-square.png",BLU_STARS:"paddle/blu-stars.png",GRN_BLANK:"paddle/grn-blank.png",GRN_CIRCLE:"paddle/grn-circle.png",GRN_DIAMOND:"paddle/grn-diamond.png",
GRN_PUSHPIN:"pushpin/grn-pushpin.png",GRN_SQUARE:"paddle/grn-square.png",GRN_STARS:"paddle/grn-stars.png",LTBLU_BLANK:"paddle/ltblu-blank.png",LTBLU_CIRCLE:"paddle/ltblu-circle.png",LTBLU_DIAMOND:"paddle/ltblu-diamond.png",LTBLU_PUSHPIN:"pushpin/ltblu-pushpin.png",LTBLU_SQUARE:"paddle/ltblu-square.png",LTBLU_STARS:"paddle/ltblu-stars.png",PINK_BLANK:"paddle/pink-blank.png",PINK_CIRCLE:"paddle/pink-circle.png",PINK_DIAMOND:"paddle/pink-diamond.png",PINK_PUSHPIN:"pushpin/pink-pushpin.png",PINK_SQUARE:"paddle/pink-square.png",
PINK_STARS:"paddle/pink-stars.png",PURPLE_CIRCLE:"paddle/purple-circle.png",PURPLE_DIAMOND:"paddle/purple-diamond.png",PURPLE_PUSHPIN:"pushpin/purple-pushpin.png",PURPLE_SQUARE:"paddle/purple-square.png",PURPLE_STARS:"paddle/purple-stars.png",RED_CIRCLE:"paddle/red-circle.png",RED_DIAMOND:"paddle/red-diamond.png",RED_PUSHPIN:"pushpin/red-pushpin.png",RED_SQUARE:"paddle/red-square.png",RED_STARS:"paddle/red-stars.png",WHT_BLANK:"paddle/wht-blank.png",WHT_CIRCLE:"paddle/wht-circle.png",WHT_DIAMOND:"paddle/wht-diamond.png",
WHT_PUSHPIN:"pushpin/wht-pushpin.png",WHT_SQUARE:"paddle/wht-square.png",WHT_STARS:"paddle/wht-stars.png",YLW_CIRCLE:"paddle/ylw-circle.png",YLW_DIAMOND:"paddle/ylw-diamond.png",YLW_PUSHPIN:"pushpin/ylw-pushpin.png",YLW_SQUARE:"paddle/ylw-square.png",YLW_STARS:"paddle/ylw-stars.png",AIRPORTS:"shapes/airports.png",ARROW_REVERSE:"shapes/arrow-reverse.png",ARROW:"shapes/arrow.png",ARTS:"shapes/arts.png",BARS:"shapes/bars.png",BUS:"shapes/bus.png",CABS:"shapes/cabs.png",CAMERA:"shapes/camera.png",CAMPFIRE:"shapes/campfire.png",
CAMPGROUND:"shapes/campground.png",CAUTION:"shapes/caution.png",COFFEE:"shapes/coffee.png",CONVENIENCE:"shapes/convenience.png",CROSSHAIRS:"shapes/cross-hairs.png",CYCLING:"shapes/cycling.png",DINING:"shapes/dining.png",DOLLAR:"shapes/dollar.png",DONUT:"shapes/donut.png",EARTHQUAKE:"shapes/earthquake.png",ELECTRONICS:"shapes/electronics.png",EURO:"shapes/euro.png",FALLING_ROCKS:"shapes/falling_rocks.png",FERRY:"shapes/ferry.png",FIREDEPT:"shapes/firedept.png",FISHING:"shapes/fishing.png",FLAG:"shapes/flag.png",
FORBIDDEN:"shapes/forbidden.png",GAS_STATIONS:"shapes/gas_stations.png",GOLF:"shapes/golf.png",GROCERY:"shapes/grocery.png",HELIPORT:"shapes/heliport.png",HIKER:"shapes/hiker.png",HOMEGARDENBUSINESS:"shapes/homegardenbusiness.png",HORSEBACKRIDING:"shapes/horsebackriding.png",HOSPITALS:"shapes/hospitals.png",INFO_CIRCLE:"shapes/info_circle.png",INFO_I:"shapes/info-i.png",INFO:"shapes/info.png",LODGING:"shapes/lodging.png",MAN:"shapes/man.png",MARINA:"shapes/marina.png",MECHANIC:"shapes/mechanic.png",
MOTORCYCLING:"shapes/motorcycling.png",MOVIES:"shapes/movies.png",OPEN_DIAMOND:"shapes/open-diamond.png",PARKING_LOT:"shapes/parking_lot.png",PARKS:"shapes/parks.png",PARTLY_CLOUDY:"shapes/partly_cloudy.png",PHONE:"shapes/phone.png",PICNIC:"shapes/picnic.png",PLACEMARK_CIRCLE:"shapes/placemark_circle.png",PLACEMARK_SQUARE:"shapes/placemark_square.png",PLAY:"shapes/play.png",POI:"shapes/poi.png",POLICE:"shapes/police.png",POLYGON:"shapes/polygon.png",POST_OFFICE:"shapes/post_office.png",RAIL:"shapes/rail.png",
RAINY:"shapes/rainy.png",RANGER_STATION:"shapes/ranger_station.png",REALESTATE:"shapes/realestate.png",SAILING:"shapes/sailing.png",SALON:"shapes/salon.png",SHADED_DOT:"shapes/shaded_dot.png",SHOPPING:"shapes/shopping.png",SKI:"shapes/ski.png",SNACK_BAR:"shapes/snack_bar.png",SNOWFLAKE_SIMPLE:"shapes/snowflake_simple.png",SQUARE:"shapes/square.png",STAR:"shapes/star.png",SUBWAY:"shapes/subway.png",SUNNY:"shapes/sunny.png",SWIMMING:"shapes/swimming.png",TARGET:"shapes/target.png",TOILETS:"shapes/toilets.png",
TRAIL:"shapes/trail.png",TRAM:"shapes/tram.png",TRIANGLE:"shapes/triangle.png",TRUCK:"shapes/truck.png",VOLCANO:"shapes/volcano.png",WATER:"shapes/water.png",WEBCAM:"shapes/webcam.png",WHEEL_CHAIR_ACCESSIBLE:"shapes/wheel_chair_accessible.png",WOMAN:"shapes/woman.png",YEN:"shapes/yen.png"};os.ui.file.kml.DEFAULT_ICON_PATH=os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PLACEMARK_CIRCLE;os.ui.file.kml.DEFAULT_ICON={href:os.ui.file.kml.DEFAULT_ICON_PATH,scale:1};
os.ui.file.kml.GMAPS_SEARCH=/https?:\/\/maps\.google\.com\/mapfiles\/kml\//i;os.ui.file.kml.getDefaultIcon=function(){return{path:os.ui.file.kml.DEFAULT_ICON_PATH}};os.ui.file.kml.replaceGoogleUri=function(a){return a?a.replace(os.ui.file.kml.GMAPS_SEARCH,os.ui.file.kml.ICON_PATH):""};
os.ui.file.kml.GOOGLE_EARTH_ICON_SET=[{title:"Yellow Push Pin",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.YLW_PUSHPIN},{title:"Blue Push Pin",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.BLUE_PUSHPIN},{title:"Green Push Pin",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.GRN_PUSHPIN},{title:"Light Blue Push Pin",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.LTBLU_PUSHPIN},{title:"Pink Push Pin",path:os.ui.file.kml.GOOGLE_EARTH_URL+
os.ui.file.kml.GoogleEarthIcons.PINK_PUSHPIN},{title:"Purple Push Pin",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PURPLE_PUSHPIN},{title:"Red Push Pin",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.RED_PUSHPIN},{title:"White Push Pin",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.WHT_PUSHPIN},{title:"Letter A",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.A},{title:"Letter B",path:os.ui.file.kml.GOOGLE_EARTH_URL+
os.ui.file.kml.GoogleEarthIcons.B},{title:"Letter C",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.C},{title:"Letter D",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.D},{title:"Letter E",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.E},{title:"Letter F",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.F},{title:"Letter G",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.G},{title:"Letter H",
path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.H},{title:"Letter I",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.I},{title:"Letter J",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.J},{title:"Letter K",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.K},{title:"Letter L",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.L},{title:"Letter M",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.M},
{title:"Letter N",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.N},{title:"Letter O",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.O},{title:"Letter P",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.P},{title:"Letter Q",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.Q},{title:"Letter R",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.R},{title:"Letter S",path:os.ui.file.kml.GOOGLE_EARTH_URL+
os.ui.file.kml.GoogleEarthIcons.S},{title:"Letter T",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.T},{title:"Letter U",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.U},{title:"Letter V",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.V},{title:"Letter W",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.W},{title:"Letter X",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.X},{title:"Letter Y",
path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.Y},{title:"Letter Z",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.Z},{title:"Number 1",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.NUM_01},{title:"Number 2",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.NUM_02},{title:"Number 3",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.NUM_03},{title:"Number 4",path:os.ui.file.kml.GOOGLE_EARTH_URL+
os.ui.file.kml.GoogleEarthIcons.NUM_04},{title:"Number 5",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.NUM_05},{title:"Number 6",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.NUM_06},{title:"Number 7",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.NUM_07},{title:"Number 8",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.NUM_08},{title:"Number 9",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.NUM_09},
{title:"Number 10",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.NUM_10},{title:"Blue Blank",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.BLU_BLANK},{title:"Blue Diamond",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.BLU_DIAMOND},{title:"Blue Circle",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.BLU_CIRCLE},{title:"Blue Square",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.BLU_SQUARE},
{title:"Blue Stars",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.BLU_STARS},{title:"Green Blank",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.GRN_BLANK},{title:"Green Diamond",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.GRN_DIAMOND},{title:"Green Circle",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.GRN_CIRCLE},{title:"Green Square",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.GRN_SQUARE},
{title:"Green Stars",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.GRN_STARS},{title:"Light Blue Blank",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.LTBLU_BLANK},{title:"Light Blue Diamond",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.LTBLU_DIAMOND},{title:"Light Blue Circle",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.LTBLU_CIRCLE},{title:"Light Blue Square",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.LTBLU_SQUARE},
{title:"Light Blue Stars",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.LTBLU_STARS},{title:"Pink Blank",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PINK_BLANK},{title:"Pink Diamond",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PINK_DIAMOND},{title:"Pink Circle",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PINK_CIRCLE},{title:"Pink Square",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PINK_SQUARE},
{title:"Pink Stars",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PINK_STARS},{title:"Yellow Diamond",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.YLW_DIAMOND},{title:"Yellow Circle",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.YLW_CIRCLE},{title:"Yellow Square",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.YLW_SQUARE},{title:"Yellow Stars",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.YLW_STARS},
{title:"White Blank",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.WHT_BLANK},{title:"White Diamond",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.WHT_DIAMOND},{title:"White Circle",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.WHT_CIRCLE},{title:"White Square",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.WHT_SQUARE},{title:"White Stars",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.WHT_STARS},
{title:"Red Diamond",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.RED_DIAMOND},{title:"Red Circle",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.RED_CIRCLE},{title:"Red Square",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.RED_SQUARE},{title:"Red Stars",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.RED_STARS},{title:"Purple Diamond",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PURPLE_DIAMOND},
{title:"Purple Circle",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PURPLE_CIRCLE},{title:"Purple Square",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PURPLE_SQUARE},{title:"Purple Stars",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PURPLE_STARS},{title:"Arrow Reverse",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.ARROW_REVERSE},{title:"Arrow",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.ARROW},
{title:"Donut",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.DONUT},{title:"Forbidden",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.FORBIDDEN},{title:"Info I",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.INFO_I},{title:"Polygon",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.POLYGON},{title:"Diamond",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.OPEN_DIAMOND},{title:"Square",path:os.ui.file.kml.GOOGLE_EARTH_URL+
os.ui.file.kml.GoogleEarthIcons.SQUARE},{title:"Star",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.STAR},{title:"Target",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.TARGET},{title:"Triangle",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.TRIANGLE},{title:"Crosshairs",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.CROSSHAIRS},{title:"Square",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PLACEMARK_SQUARE},
{title:"Circle",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PLACEMARK_CIRCLE},{title:"Shaded Dot",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.SHADED_DOT},{title:"Dining",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.DINING},{title:"Coffee",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.COFFEE},{title:"Bars",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.BARS},{title:"Snack Bar",path:os.ui.file.kml.GOOGLE_EARTH_URL+
os.ui.file.kml.GoogleEarthIcons.SNACK_BAR},{title:"Man",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.MAN},{title:"Woman",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.WOMAN},{title:"Wheel Chair Accessible",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.WHEEL_CHAIR_ACCESSIBLE},{title:"Parking Lot",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PARKING_LOT},{title:"Cabs",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.CABS},
{title:"Bus",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.BUS},{title:"Truck",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.TRUCK},{title:"Rail",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.RAIL},{title:"Airports",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.AIRPORTS},{title:"Ferry",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.FERRY},{title:"Heliport",path:os.ui.file.kml.GOOGLE_EARTH_URL+
os.ui.file.kml.GoogleEarthIcons.HELIPORT},{title:"Subway",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.SUBWAY},{title:"Tram",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.TRAM},{title:"Info",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.INFO},{title:"Circle",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.INFO_CIRCLE},{title:"Flag",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.FLAG},{title:"Rainy",
path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.RAINY},{title:"Water",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.WATER},{title:"Snowflake Simple",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.SNOWFLAKE_SIMPLE},{title:"Marina",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.MARINA},{title:"Fishing",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.FISHING},{title:"Sailing",path:os.ui.file.kml.GOOGLE_EARTH_URL+
os.ui.file.kml.GoogleEarthIcons.SAILING},{title:"Swimming",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.SWIMMING},{title:"Ski",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.SKI},{title:"Parks",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PARKS},{title:"Campfire",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.CAMPFIRE},{title:"Picnic",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PICNIC},
{title:"Campground",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.CAMPGROUND},{title:"Ranger Station",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.RANGER_STATION},{title:"Toilets",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.TOILETS},{title:"Poi",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.POI},{title:"Hiker",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.HIKER},{title:"Cycling",path:os.ui.file.kml.GOOGLE_EARTH_URL+
os.ui.file.kml.GoogleEarthIcons.CYCLING},{title:"Motorcycling",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.MOTORCYCLING},{title:"Horseback Riding",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.HORSEBACKRIDING},{title:"Play",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PLAY},{title:"Golf",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.GOLF},{title:"Trail",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.TRAIL},
{title:"Shopping",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.SHOPPING},{title:"Movies",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.MOVIES},{title:"Convenience",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.CONVENIENCE},{title:"Grocery",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.GROCERY},{title:"Arts",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.ARTS},{title:"Home Garden Business",
path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.HOMEGARDENBUSINESS},{title:"Electronics",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.ELECTRONICS},{title:"Mechanic",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.MECHANIC},{title:"Gas Stations",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.GAS_STATIONS},{title:"Real Estate",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.REALESTATE},{title:"Salon",
path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.SALON},{title:"Dollar",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.DOLLAR},{title:"Euro",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.EURO},{title:"Yen",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.YEN},{title:"Firedept",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.FIREDEPT},{title:"Hospitals",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.HOSPITALS},
{title:"Lodging",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.LODGING},{title:"Phone",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PHONE},{title:"Caution",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.CAUTION},{title:"Earthquake",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.EARTHQUAKE},{title:"Falling Rocks",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.FALLING_ROCKS},{title:"Post Office",
path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.POST_OFFICE},{title:"Police",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.POLICE},{title:"Sunny",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.SUNNY},{title:"Partly Cloudy",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.PARTLY_CLOUDY},{title:"Volcano",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.VOLCANO},{title:"Camera",path:os.ui.file.kml.GOOGLE_EARTH_URL+
os.ui.file.kml.GoogleEarthIcons.CAMERA},{title:"Webcam",path:os.ui.file.kml.GOOGLE_EARTH_URL+os.ui.file.kml.GoogleEarthIcons.WEBCAM}];os.style.IconReader=function(){os.style.AbstractReader.call(this)};goog.inherits(os.style.IconReader,os.style.AbstractReader);
os.style.IconReader.prototype.getOrCreateStyle=function(a){os.style.IconReader.translateIcons(a);var b=this.baseHash;for(c in a)goog.isDef(a[c])&&(b+=goog.string.hashCode(a[c].toString()));if(!this.cache[b]){a={anchor:a.anchor,anchorOrigin:a.anchorOrigin,anchorXUnits:a.anchorXUnits,anchorYUnits:a.anchorYUnits,color:a.color,offset:a.offset,offsetOrigin:a.offsetOrigin,rotation:a.rotation,scale:a.scale,size:a.size,src:a.src};var c=new goog.Uri(a.src);a.crossOrigin=os.net.getCrossOrigin(c);goog.userAgent.IE&&
a.crossOrigin===os.net.CrossOrigin.NONE&&(a.crossOrigin=void 0);this.cache[b]=new os.style.Icon(a);this.cache[b].id=b}return this.cache[b]};
os.style.IconReader.prototype.toConfig=function(a,b){if(a instanceof ol.style.Icon){b.type="icon";var c=a.anchor_;c&&.5!=c[0]&&.5!=c[1]&&(b.anchor=c);(c=a.anchorOrigin_)&&c!=ol.style.IconOrigin.TOP_LEFT&&(b.anchorOrigin=c);(c=a.anchorXUnits_)&&c!=ol.style.IconAnchorUnits.FRACTION&&(b.anchorXUnits=c);(c=a.anchorYUnits_)&&c!=ol.style.IconAnchorUnits.FRACTION&&(b.anchorYUnits=c);a.iconImage_&&a.iconImage_.color_&&(b.color=ol.color.asString(a.iconImage_.color_));(c=a.offset_)&&0!==c[0]&&0!==c[1]&&(b.offset=
c);(c=a.offsetOrigin_)&&c!=ol.style.IconOrigin.TOP_LEFT&&(b.offsetOrigin=c);c=a.rotation_;goog.isDef(c)&&0!==c&&(b.rotation=c);c=a.scale_;goog.isDef(c)&&1!==c&&(b.scale=c);(c=a.getSize())&&(b.size=c);(a=a.getSrc())&&(b.src=a)}};
os.style.IconReader.translateIcons=function(a){a.src||(a.src=os.style.IconReader.DEFAULT_ICON);var b=a.src;b&&os.ui.file.kml.GMAPS_SEARCH.test(b)&&(a.src=os.ui.file.kml.replaceGoogleUri(b),!a.anchor&&-1<b.indexOf("/pushpin/")&&(a.anchor=[.33,.07],a.anchorOrigin=ol.style.IconOrigin.BOTTOM_LEFT,a.anchorXUnits=ol.style.IconAnchorUnits.FRACTION,a.anchorYUnits=ol.style.IconAnchorUnits.FRACTION),!a.anchor&&-1<b.indexOf("/paddle/")&&(-1<b.indexOf("-lv")?a.scale=.5:(a.anchor=[.5,.07],a.anchorOrigin=ol.style.IconOrigin.BOTTOM_LEFT,
a.anchorXUnits=ol.style.IconAnchorUnits.FRACTION,a.anchorYUnits=ol.style.IconAnchorUnits.FRACTION)))};os.style.IconReader.DEFAULT_ICON=os.ui.file.kml.replaceGoogleUri(os.ui.file.kml.DEFAULT_ICON_PATH);os.style.IconReader.DEFAULT_ICON_OPTIONS={src:os.style.IconReader.DEFAULT_ICON,anchorOrigin:void 0,anchorXUnits:void 0,anchorYUnits:void 0,crossOrigin:void 0,offset:void 0,offsetOrigin:void 0,rotation:void 0,size:void 0,imgSize:void 0};os.style.ImageReader=function(){os.style.AbstractReader.call(this)};goog.inherits(os.style.ImageReader,os.style.AbstractReader);os.style.ImageReader.prototype.getOrCreateStyle=function(a){return this.readers[a.type||"circle"].getOrCreateStyle(a)};os.style.ImageReader.prototype.toConfig=function(a,b){if(a instanceof ol.style.Image){var c={};b.image=c;for(var d in this.readers)this.readers[d].toConfig(a,c)}};
os.style.ImageReader.prototype.setReaders=function(a){a&&(a=goog.object.clone(a),delete a.image);os.style.ImageReader.superClass_.setReaders.call(this,a)};os.style.ShapeDefaults={point:{points:1},triangle:{points:3},square:{angle:goog.math.toRadians(45),points:4}};os.style.ShapeReader=function(){os.style.AbstractReader.call(this)};goog.inherits(os.style.ShapeReader,os.style.AbstractReader);os.style.ShapeReader.RADIUS_MULTIPLIER=1.33;
os.style.ShapeReader.prototype.getOrCreateStyle=function(a){var b,c=a.subType||"point",d=this.baseHash+goog.string.hashCode(c);var e=a.radius;null==e&&(e=os.style.DEFAULT_FEATURE_SIZE);e=Math.round(e*os.style.ShapeReader.RADIUS_MULTIPLIER);d+=e;var f=a.fill;if(f){var g=this.readers.fill.getOrCreateStyle(f);d+=g.id}if(a=a.stroke){var h=this.readers.stroke.getOrCreateStyle(a);d+=h.id}this.cache[d]||((c=os.style.ShapeDefaults[c])&&goog.isDef(c.radius2)&&(b=e+c.radius2),this.cache[d]=new ol.style.RegularShape({angle:c.angle,
fill:g,points:c.points,radius:e,radius2:b,snapToPixel:c.snapToPixel,stroke:h}),this.cache[d].id=d);return this.cache[d]};os.style.StrokeReader=function(){os.style.AbstractReader.call(this)};goog.inherits(os.style.StrokeReader,os.style.AbstractReader);os.style.StrokeReader.prototype.getOrCreateStyle=function(a){var b=a.width||os.style.DEFAULT_STROKE_WIDTH,c=this.baseHash+b;a=a.color||os.style.DEFAULT_LAYER_COLOR;a=ol.color.asString(a);c+=goog.string.hashCode(a);this.cache[c]||(this.cache[c]=new ol.style.Stroke({width:b,color:a}),this.cache[c].id=c);return this.cache[c]};
os.style.StrokeReader.prototype.toConfig=function(a,b){if(a instanceof ol.style.Stroke){var c=a.getColor(),d={};b.stroke=d;null!==c&&void 0!==c&&(d.color=ol.color.asString(c));a=a.getWidth();null!==a&&void 0!==a&&(d.width=a)}};os.style.StyleReader=function(){os.style.AbstractReader.call(this)};goog.inherits(os.style.StyleReader,os.style.AbstractReader);
os.style.StyleReader.prototype.getOrCreateStyle=function(a){var b,c=[];var d=a.zIndex||0;var e=this.baseHash+d;(b=a.geometry)&&(e+=goog.string.hashCode(b));c.push(e);if(e=a.image){var f=this.readers.image.getOrCreateStyle(e);c.push(f.id)}else c.push(0);if(e=a.fill){var g=this.readers.fill.getOrCreateStyle(e);c.push(g.id)}else c.push(0);if(a=a.stroke){var h=this.readers.stroke.getOrCreateStyle(a);c.push(h.id)}else c.push(0);c=c.join("-");this.cache[c]||(this.cache[c]=new ol.style.Style({geometry:b,
image:f,fill:g,stroke:h,zIndex:d}),this.cache[c].id=c);return this.cache[c]};os.style.StyleReader.prototype.toConfig=function(a,b){if(a instanceof ol.style.Style){var c=a.getGeometry();c&&(b.geometry=c);c=a.getZIndex();goog.isDef(c)&&0!==c&&(b.zIndex=c);(c=a.getImage())&&this.readers.image.toConfig(c,b);(c=a.getFill())&&this.readers.fill.toConfig(c,b);(a=a.getStroke())&&this.readers.stroke.toConfig(a,b)}};os.style.TextReader=function(){os.style.AbstractReader.call(this)};goog.inherits(os.style.TextReader,os.style.AbstractReader);
os.style.TextReader.prototype.getOrCreateStyle=function(a){var b=a.text,c=a.textAlign||"center",d=a.textBaseline||"bottom",e=a.font||"bold 12px Arial",f=a.fillColor||"rgba(255,255,255,1)",g=a.strokeColor||"rgba(0,0,0,1)",h=goog.isDef(a.strokeWidth)?a.strokeWidth:2,k=goog.isDef(a.offsetX)?a.offsetX:0;a=goog.isDef(a.offsetY)?a.offsetY:0;return new ol.style.Text({text:b,textAlign:c,textBaseline:d,font:e,fill:new ol.style.Fill({color:f}),stroke:new ol.style.Stroke({color:g,width:h}),offsetX:k,offsetY:a})};os.style.StyleManager=function(){this.rootReader_=new os.style.StyleReader;this.readers_={circle:new os.style.CircleReader,fill:new os.style.FillReader,icon:new os.style.IconReader,image:new os.style.ImageReader,shape:new os.style.ShapeReader,stroke:new os.style.StrokeReader,text:new os.style.TextReader};this.rootReader_.setReaders(this.readers_);for(var a in this.readers_)this.readers_[a].setReaders(this.readers_);this.layerConfigs_={}};goog.addSingletonGetter(os.style.StyleManager);
os.style.StyleManager.prototype.getOrCreateStyle=function(a){return this.rootReader_.getOrCreateStyle(a)};os.style.StyleManager.prototype.toConfig=function(a){var b={};this.rootReader_.toConfig(a,b);return b};os.style.StyleManager.prototype.getReader=function(a){return this.readers_[a]};os.style.StyleManager.prototype.createLayerConfig=function(a){var b=os.object.unsafeClone(os.style.DEFAULT_VECTOR_CONFIG);return this.layerConfigs_[a]=b};
os.style.StyleManager.prototype.removeLayerConfig=function(a){a in this.layerConfigs_&&delete this.layerConfigs_[a]};os.style.StyleManager.prototype.getLayerConfig=function(a){return a in this.layerConfigs_?this.layerConfigs_[a]:null};os.style.StyleManager.prototype.getOrCreateLayerConfig=function(a){return a in this.layerConfigs_?this.layerConfigs_[a]:this.createLayerConfig(a)};os.style.label={};os.style.label.LOGGER_=goog.log.getLogger("os.style.label");os.style.label.DEFAULT_LABEL={column:null,showColumn:!1};os.style.label.hasNonDefaultLabels=function(a){for(var b=0,c=a.length;b<c;b++)if(a[b].column!==os.style.label.DEFAULT_LABEL.column)return!1;return!0};os.style.label.getLabels=function(a,b){return a?a:b&&!os.style.label.hasNonDefaultLabels(b)?b:[os.style.label.cloneConfig()]};
os.style.label.cloneConfig=function(a){a=a||os.style.label.DEFAULT_LABEL;return{column:a.column,showColumn:a.showColumn}};os.style.label.filterValid=function(a){return a?a.filter(function(a){return null!=a&&!!a.column}):[]};os.style.label.DEFAULT_CONFIG={offsetY:-5};os.style.label.DEFAULT_SIZE=12;os.style.label.MIN_SIZE=8;os.style.label.MAX_SIZE=20;os.style.label.Z_INDEX=500;os.style.label.TRUNCATE_LENGTH=50;
os.style.label.updateShown_=function(){var a=os.MapContainer.getInstance();if(a.getMap()&&a.getMap().getView())var b=a.getMap().getView();else return!1;b=b.getResolution();if(!goog.isDef(b))return!1;var c=a.getViewExtent();if(ol.extent.equals(c,os.map.ZERO_EXTENT))return!1;var d=ol.geom.Polygon.fromExtent(c);goog.asserts.assert(d,"failed creating polygon from view");var e=ol.extent.createEmpty();c=goog.now();var f=[],g=[],h={},k={},l=os.dataManager.getSources();l.sort(os.source.zIndexCompare);for(var m=
0,n=l.length;m<n;m++){var p=l[m];if(p instanceof os.source.Vector&&p.getVisible()){var q=p.getId(),r=os.style.StyleManager.getInstance().getLayerConfig(q);if(r&&r[os.style.StyleField.SHOW_LABELS]){k[q]=r[os.style.StyleField.LABELS];h[q]=[];f.push(p);var u=p.getFilteredFeatures(!1);g=g.concat(p.getFeaturesInGeometry(d,u))}}}d={};m=0;for(n=g.length;m<n;m++)if(l=g[m],!(l.id in d)){d[l.id]=!0;u=l.values_[os.style.StyleType.FEATURE];p=l.values_[os.data.RecordField.SOURCE_ID];u=os.style.label.getLabels(u?
u[os.style.StyleField.LABELS]:null,k[p]);var t=os.style.label.getLabelsText(l,u);u=os.style.label.defaultGeometryFunction(l);if(u instanceof ol.geom.SimpleGeometry&&t)for(r=os.style.StyleManager.getInstance().getLayerConfig(p),r=os.style.label.getFont(r[os.style.StyleField.LABEL_SIZE]),t=os.ui.measureText(t,"feature-label",r),r=(t.width+5)*b,t=(t.height+5)*b,os.feature.showLabel(l)&&h[p].push(l),l=ol.extent.getCenter(u.getExtent()),ol.extent.createOrUpdateFromCoordinate(l,e),e[0]-=r,e[1]-=t,e[2]+=
r,e[3]+=t,l=0,p=f.length;l<p;l++)if(r=f[l],u=r.getId(),r=r.getFeaturesInExtent(e)){t=0;for(var w=r.length;t<w;t++){var v=r[t];if(!(v.id in d)){var A=v.getGeometry();if(A&&A.getType()!=ol.geom.GeometryType.POINT&&(A=ol.extent.getCenter(A.getExtent()),!ol.extent.containsCoordinate(e,A)))continue;d[v.id]=!0;os.feature.hideLabel(v)&&h[u].push(v)}}}}for(q in h)0<h[q].length&&(os.style.setFeaturesStyle(h[q]),(b=a.getLayer(q))&&os.style.notifyStyleChange(b,h[q],os.layer.PropertyChange.LABEL_VISIBILITY));
a="Label visibility computed in "+(goog.now()-c)+"ms.";goog.log.fine(os.style.label.LOGGER_,a);return!0};os.style.label.UPDATE_DELAY_=new goog.async.ConditionalDelay(os.style.label.updateShown_);os.style.label.updateShown=function(){os.style.label.UPDATE_DELAY_.isActive()||os.style.label.UPDATE_DELAY_.start(100,5E3)};
os.style.label.createOrUpdate=function(a,b,c){var d=[];if(a.values_[os.style.StyleType.HIGHLIGHT]||!1!==a.values_[os.style.StyleField.SHOW_LABELS]){var e=b[os.style.StyleField.LABELS],f=c?c[os.style.StyleField.LABELS]:[os.style.label.cloneConfig()];if(e=os.style.label.getLabels(e,f))if(e=os.style.label.getLabelsText(a,e),!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))){var g=e.split("\n");d=a.get(os.style.StyleType.LABELS)||[];d.length>g.length&&(d.length=g.length);goog.array.forEach(g,
function(e,f){var h=d[f];if(!h){var k=os.style.StyleManager.getInstance().getReader("text");goog.asserts.assert(k);h={};var n=os.object.getFirstValue("text",b,c)||os.style.label.DEFAULT_CONFIG;os.style.mergeConfig(n,h);k=k.getOrCreateStyle(h);h=new ol.style.Style({geometry:os.style.label.defaultGeometryFunction,text:k});d.push(h)}h.setZIndex((b.zIndex||0)+os.style.label.Z_INDEX);n=os.style.label.getColor(a,b,c);k=os.object.getFirstValue(os.style.StyleField.LABEL_SIZE,b,c);"string"==typeof k&&(k=parseInt(k,
10)||void 0);k||(k=os.style.label.DEFAULT_SIZE);var p=os.style.label.getFont(k);h=h.getText();h.setFont(p);h.setText(os.style.label.prepareText(e,!0));h.getFill().setColor(n);e=ol.color.asArray(n);n=ol.color.asArray(h.getStroke().getColor());n[3]=e[3];h.getStroke().setColor(os.style.toRgbaString(n));h.setOffsetY(-(k+2)*(g.length/2-1)+f*(k+2));f=os.style.isIconConfig(b)?k:k/2;h.setOffsetX(f);h.setTextAlign("left")});a.set(os.style.StyleType.LABELS,d,!0)}}return d};
os.style.label.prepareText=function(a,b){b=null!=b?b:!1;try{var c=(new DOMParser).parseFromString(a,"text/html").body.textContent;c=c.replace(/[\n\r]+/g," ")}catch(d){c=a}b&&(c=goog.string.truncate(c,os.style.label.TRUNCATE_LENGTH));return c};os.style.label.getText=function(a,b){switch(b){case os.Fields.TIME:a=a.values_[os.data.RecordField.TIME]||"";break;default:a=a.values_[b]}return a=null!=a?a.toString():""};
os.style.label.getLabelText=function(a,b){(a=os.style.label.getText(a,b.column))&&b.showColumn&&(a=b.column+": "+a);return a};os.style.label.getLabelsText=function(a,b){var c="";goog.array.forEach(b,function(b,e){if(b=os.style.label.getLabelText(a,b))0<e&&""!=c&&(c+="\n"),c+=b});return c};
os.style.label.getColor=function(a,b,c){c=b[os.style.StyleField.LABEL_COLOR]||c&&c[os.style.StyleField.LABEL_COLOR];if(!c||a.values_[os.style.StyleType.HIGHLIGHT]||a.values_[os.style.StyleType.SELECT])c=os.style.getConfigColor(b);return c||os.style.DEFAULT_LAYER_COLOR};os.style.label.getFont=function(a){a=(a||os.style.label.DEFAULT_SIZE)+"px";return"bold "+a+"/"+a+" Arial"};
os.style.label.defaultGeometryFunction=function(a){var b;goog.asserts.assert(void 0!=a,"feature must be defined");var c=a.get(os.style.StyleField.LABEL_GEOMETRY);c&&(b=a.get(c));b||(b=a.getGeometry());b instanceof ol.geom.GeometryCollection&&(b=(a=b.getGeometriesArray())&&a[0]||null);return b};os.time.TimelineEventType={DURATION_CHANGE:"timeline.durationChange",FPS_CHANGE:"timeline.fpsChange",LOOPING_TOGGLE:"timeline.loopingToggle",FADE_TOGGLE:"timeline.fadeToggle",PLAY:"timeline.play",STOP:"timeline.stop",RESET:"timeline.reset",SHOW:"timeline.show",DRAG:"timeline.drag",RECORD:"timeline.record",CAPTURE:"timeline.capture",RANGE_CHANGED:"timleline.rangeChanged",SLICE_RANGE_CHANGED:"timeline.slice.rangeChanged",ANIMATE_RANGE_CHANGED:"timeline.animate.rangeChanged",HOLD_RANGE_CHANGED:"timeline.animate.holdRangeChanged",
REFRESH_LOAD:"timeline.refreshLoad"};os.time.TimelineActionEventType={LOAD:"timeline.load",ADD:"timeline.add",SLICE:"timeline.slice",SELECT:"timeline.select",SELECT_EXCLUSIVE:"timeline.selectExclusive",DESELECT:"timeline.deselect",REMOVE:"timeline.remove",ANIMATE:"timeline.animate",ANIMATE_SKIP:"timeline.animateSkip",ANIMATE_HOLD:"timeline.animateHold",ACTIVE_WINDOW:"timeline.activeWindow",ZOOM:"timeline.zoom"};
os.time.TimelineControllerEvent=function(a){goog.events.Event.call(this,a);this.range_=null;this.window_=this.current_=0};goog.inherits(os.time.TimelineControllerEvent,goog.events.Event);os.time.TimelineControllerEvent.prototype.setData=function(a,b,c){this.current_=a;this.fade_=b;this.window_=c;this.range_=new os.time.TimeRange(c,a)};os.time.TimelineControllerEvent.prototype.getRange=function(){return this.range_};os.time.TimelineControllerEvent.prototype.getCurrent=function(){return this.current_};
os.time.TimelineControllerEvent.prototype.getWindow=function(){return this.window_};os.time.TimelineControllerEvent.prototype.toString=function(){return this.range_?this.range_.toISOString():os.time.TimelineControllerEvent.superClass_.toString.call(this)};os.time.timeline={};os.time.timeline.MIN=6E4;os.time.timeline.HOUR=60*os.time.timeline.MIN;os.time.timeline.DAY=24*os.time.timeline.HOUR;os.time.timeline.WEEK=7*os.time.timeline.DAY;os.time.timeline.MONTH=30*os.time.timeline.DAY;os.time.timeline.YEAR=12*os.time.timeline.MONTH;
os.time.timeline.autoConfigureFromTimeRange=function(a,b){b=goog.isDef(b)?b:"auto";var c=a.getSmallestAnimateRangeLength();"auto"==b?c>=28*os.time.timeline.DAY-30*os.time.timeline.MIN?os.time.timeline.setTileAnimation(a,7*os.time.timeline.DAY,os.time.Duration.WEEK):c>=5*os.time.timeline.DAY-30*os.time.timeline.MIN?os.time.timeline.setTileAnimation(a,os.time.timeline.DAY,os.time.Duration.DAY):(os.time.timeline.setDefaultOffsetForRange(a,c),a.setDuration(os.time.Duration.DAY)):b==os.time.Duration.WEEK||
b==os.time.Duration.MONTH?os.time.timeline.setTileAnimation(a,7*os.time.timeline.DAY,os.time.Duration.WEEK):b==os.time.Duration.DAY&&os.time.timeline.setTileAnimation(a,os.time.timeline.DAY,os.time.Duration.DAY);a.setCurrent(a.getLoopStart()+a.getOffset())};os.time.timeline.setDefaultOffsetForRange=function(a,b){if(a){var c=b/24-b/24%1E3;0==c&&(c=b/24);var d=a.getRange().getLength();c<d/24&&(c=Math.min(b/2,d/24));a.setOffset(c);a.setSkip(c/2)}};
os.time.timeline.setTileAnimation=function(a,b,c){a.setOffset(b);a.setSkip(b);a.setDuration(c)};os.time.timeline.getDateForFrame=function(a,b){b=goog.isDef(b)?b:os.time.Duration.DAY;var c=a.getCurrent();a=a.getLoopEnd();c>=a&&(c=a-1);return os.time.format(new Date(c),b)};os.time.TimelineController=function(){goog.events.EventTarget.call(this);this.fps_=os.settings.get(["tlc","fps"],2);this.current_=0;this.duration_=os.time.Duration.DAY;this.fade_=!1;this.skip_=this.offset_=1E3;this.includeEnd_=!0;this.lastCurrent_=Number.MAX_VALUE;this.suppressShowEvents_=!1;this.lastEvent_=null;this.animationTimer_=new goog.Timer(1E3/this.fps_);this.animationTimer_.listen(goog.Timer.TICK,this.onAnimationTimer_,!1,this);this.resetTimer_=new goog.async.Delay(this.onResetTimer_,50,
this);this.loadRanges_=new goog.math.RangeSet;this.addLoadRange(new goog.math.Range(0,0));this.calcRangeCache_=new goog.math.RangeSet;this.sliceRanges_=new goog.math.RangeSet;this.animateRanges_=new goog.math.RangeSet;this.holdRanges_=new goog.math.RangeSet;this.minRange=1E3;this.lastRange_=null;this.hasNextFlag_=!1;this.initialize_()};goog.inherits(os.time.TimelineController,goog.events.EventTarget);goog.addSingletonGetter(os.time.TimelineController);
os.time.TimelineController.prototype.initialize_=function(){var a=os.time.Duration.DAY,b=os.time.toUTCDate(new Date);b=os.time.floor(b,a);var c=os.time.offset(b,a,1);this.setIncludeEnd(!0);this.setSuppressShowEvents(!0);this.setRange(this.buildRange(b.getTime(),c.getTime()));this.setDuration(a);this.setOffset(this.getSmallestAnimateRangeLength());this.setFade(!1);this.setCurrent(c.getTime());this.setSuppressShowEvents(!1);this.updateOffetsAndCurrent_()};
os.time.TimelineController.prototype.isPlaying=function(){return goog.isDefAndNotNull(this.animationTimer_)&&this.animationTimer_.enabled};os.time.TimelineController.prototype.getCurrent=function(){return this.current_};os.time.TimelineController.prototype.setCurrent=function(a){this.current_!==a&&(this.lastCurrent_=this.current_,this.current_=a,this.dispatchShowEvent_())};
os.time.TimelineController.prototype.getCurrentTimeRange=function(){return new os.time.TimeRange(new Date(this.current_-this.offset_),new Date(this.current_))};os.time.TimelineController.prototype.getCurrentRange=function(){return new goog.math.Range(this.current_-this.offset_,this.current_)};os.time.TimelineController.prototype.getDuration=function(){return this.duration_};
os.time.TimelineController.prototype.setDuration=function(a){this.duration_!=a&&(this.duration_=a,this.clearAnimateRanges(),this.clearHoldRanges(),this.dispatchEvent(os.time.TimelineEventType.DURATION_CHANGE))};os.time.TimelineController.prototype.getEnd=function(){return this.getLoadRange().end};os.time.TimelineController.prototype.getFade=function(){return this.fade_};os.time.TimelineController.prototype.setFade=function(a){this.fade_=a;this.dispatchEvent(os.time.TimelineEventType.FADE_TOGGLE)};
os.time.TimelineController.prototype.getFps=function(){return this.fps_};os.time.TimelineController.prototype.setFps=function(a){var b=this.isPlaying();this.animationTimer_&&this.animationTimer_.dispose();this.fps_=a;this.animationTimer_=new goog.Timer(1E3/this.fps_);this.animationTimer_.listen(goog.Timer.TICK,this.onAnimationTimer_,!1,this);b&&this.animationTimer_.start();os.settings.set(["tlc","fps"],a);this.dispatchEvent(os.time.TimelineEventType.FPS_CHANGE)};
os.time.TimelineController.prototype.getIncludeEnd=function(){return this.includeEnd_};os.time.TimelineController.prototype.setIncludeEnd=function(a){this.includeEnd_=a};os.time.TimelineController.prototype.getLastEvent=function(){return this.lastEvent_};os.time.TimelineController.prototype.getLoopStart=function(){return this.getAnimationRange().start};os.time.TimelineController.prototype.getLoopEnd=function(){return this.getAnimationRange().end};
os.time.TimelineController.prototype.getSmallestAnimateRangeLength=function(){var a=this.animateRanges_.isEmpty()?this.getEffectiveLoadRangeSet():this.animateRanges_,b=[];goog.iter.forEach(a.__iterator__(!1),function(a){b.push(a.getLength())});goog.array.sort(b);return b[0]};os.time.TimelineController.prototype.getOffset=function(){return this.offset_};os.time.TimelineController.prototype.setOffset=function(a){var b=this.offset_;this.offset_=Math.max(a,0);b!=this.offset_&&this.dispatchShowEvent_()};
os.time.TimelineController.prototype.setRangeStart=function(a){a=os.time.floor(new Date(a),this.getDuration()).getTime();var b=os.time.offset(new Date(a),this.getDuration(),1).getTime();this.setSuppressShowEvents(!0);this.setRange(this.buildRange(a,b));this.setSuppressShowEvents(!1);this.setCurrent(b)};os.time.TimelineController.prototype.buildRange=function(a,b){return new goog.math.Range(a,b)};
os.time.TimelineController.prototype.setRange=function(a){1==this.getLoadRanges().length&&this.hasExactRange(this.loadRanges_,a)||(this.clearLoadRanges(),this.addLoadRange(a))};os.time.TimelineController.prototype.getSkip=function(){return this.skip_};os.time.TimelineController.prototype.getNextFrame=function(a,b){var c=new goog.math.Range(0,0);a=this.getNextPosition_(a,b);b=a-this.getOffset();c.start=Math.min(a,b);c.end=Math.max(a,b);return c};
os.time.TimelineController.prototype.getCurrentFrame=function(){var a=new goog.math.Range(0,0),b=this.current_-this.getOffset();a.start=Math.min(this.current_,b);a.end=Math.max(this.current_,b);return a};os.time.TimelineController.prototype.setSkip=function(a){this.skip_=Math.max(a,-1)};os.time.TimelineController.prototype.getStart=function(){return this.getLoadRange().start};os.time.TimelineController.prototype.getRange=function(){return this.getLoadRange()};
os.time.TimelineController.prototype.getLoadRange=function(){return this.loadRanges_.getBounds()};os.time.TimelineController.prototype.getAnimationRange=function(){if(this.animateRanges_.isEmpty()){var a=this.getEffectiveLoadRangeSet();return a.isEmpty()?this.getLoadRange():a.getBounds()}return this.animateRanges_.getBounds()};os.time.TimelineController.prototype.getSuppressShowEvents=function(){return this.suppressShowEvents_};
os.time.TimelineController.prototype.setSuppressShowEvents=function(a){this.suppressShowEvents_=a};os.time.TimelineController.prototype.clamp=function(){var a=this.getAnimationRange();if(this.current_>a.end&&this.lastCurrent_>=a.end||this.lastCurrent_<=a.start+this.offset_&&this.current_<=a.start+this.offset_)0<this.current_-this.lastCurrent_?this.first():this.last()};
os.time.TimelineController.prototype.play=function(){this.animationTimer_&&!this.animationTimer_.enabled&&(this.animationTimer_.start(),this.dispatchEvent(os.time.TimelineEventType.PLAY))};os.time.TimelineController.prototype.stop=function(){this.animationTimer_&&this.animationTimer_.enabled&&(this.animationTimer_.stop(),this.dispatchEvent(os.time.TimelineEventType.STOP))};os.time.TimelineController.prototype.first=function(){var a=this.getAnimationRange();this.setCurrent(a.start+this.offset_)};
os.time.TimelineController.prototype.last=function(){var a=this.getAnimationRange();this.setCurrent(a.end)};os.time.TimelineController.prototype.hasNext=function(){if(this.hasNextFlag_)return this.hasNextFlag_=!1;var a=this.getAnimationRange(),b=this.getNextFrame(this.current_,1);b.start<a.end&&b.end>=a.end&&(this.hasNextFlag_=!0);return b.start<a.end};os.time.TimelineController.prototype.next=function(){this.step_(1);this.clamp()};
os.time.TimelineController.prototype.prev=function(){this.step_(-1);this.clamp()};os.time.TimelineController.prototype.createShowEvent_=function(){var a=new os.time.TimelineControllerEvent(os.time.TimelineEventType.SHOW);a.setData(this.current_,this.fade_,this.current_-this.offset_);return a};
os.time.TimelineController.prototype.reconcileRanges=function(){this.loadRanges_.isEmpty()||(this.reconcileRange_(this.animateRanges_)&&(this.dispatchEvent(os.time.TimelineEventType.ANIMATE_RANGE_CHANGED),this.dispatchShowEvent_()),this.reconcileRange_(this.holdRanges_)&&(this.dispatchEvent(os.time.TimelineEventType.HOLD_RANGE_CHANGED),this.dispatchShowEvent_()))};
os.time.TimelineController.prototype.reconcileRange_=function(a){for(var b=!1,c=goog.iter.toArray(a),d,e=0;e<c.length;e+=1)d=c[e],this.loadRanges_.contains(d)||(a.remove(d),b=!0);return b};os.time.TimelineController.prototype.onAnimationTimer_=function(a){this.step_(1);this.clamp()};os.time.TimelineController.prototype.onResetTimer_=function(){this.dispatchEvent(new os.time.TimelineControllerEvent(os.time.TimelineEventType.RESET))};
os.time.TimelineController.prototype.dispatchShowEvent_=function(){if(!this.suppressShowEvents_){var a=this.createShowEvent_();this.dispatchEvent(a);this.lastEvent_=a}};os.time.TimelineController.prototype.scheduleReset_=function(){this.resetTimer_.start()};
os.time.TimelineController.prototype.adjustCurrent_=function(a){var b=this.getNextFrame(this.current_,a),c=0<a?b.start:b.end;if(this.animateRanges_.isEmpty()){var d=this.getEffectiveLoadRangeSet();d.isEmpty()||d.containsValue(c)||(b=this.findNextNearestRange_(d,a,this.current_)||d.getBounds(),goog.math.Range.equals(this.lastRange_,b)&&(b=this.findNextNearestRange_(d,a,c)||d.getBounds()),this.current_=0<a?b.start+(this.offset_-this.skip_):b.end+this.skip_,c=this.getCurrentFrame(),goog.math.Range.contains(c,
b)&&(this.current_=0<a?b.start:b.end),this.lastRange_=b)}else this.animateRanges_.containsValue(c)||(b=this.findNextNearestRange_(this.animateRanges_,a,this.current_)||this.getRange(),goog.math.Range.equals(this.lastRange_,b)&&(b=this.findNextNearestRange_(this.animateRanges_,a,c)||this.getRange()),this.current_=0<a?b.start+(this.offset_-this.skip_):b.end+this.skip_,c=this.getCurrentFrame(),goog.math.Range.contains(c,b)&&(this.current_=0<a?b.start:b.end),this.lastRange_=b)};
os.time.TimelineController.prototype.getNextPosition_=function(a,b){return a+b*this.skip_};os.time.TimelineController.prototype.findNextNearestRange_=function(a,b,c){var d=null,e;try{var f=goog.iter.toArray(a);if(0>b)for(e=f.length-1;0<=e;--e){var g=f[e];if(g.end<=c){d=g;break}}else for(e=0;e<f.length;e+=1)if(g=f[e],g.start>=c){d=g;break}return d}catch(h){throw Error("findNextNearestRange_ exception:"+h.message);}};
os.time.TimelineController.prototype.step_=function(a){this.adjustCurrent_(a);this.setCurrent(this.getNextPosition_(this.current_,a))};
os.time.TimelineController.prototype.persist=function(a){a=a||{};a.start=this.getStart();a.end=this.getEnd();a.duration=this.getDuration();a.current=this.getCurrent();a.offset=this.getOffset();a.fade=this.getFade();a.skip=this.getSkip();a.playing=this.isPlaying();a.sliceRanges=this.sliceRanges_.clone();a.loadRanges=this.loadRanges_.clone();a.animateRanges=this.animateRanges_.clone();a.holdRanges=this.holdRanges_.clone();return a};
os.time.TimelineController.prototype.restore=function(a){this.setRange(this.buildRange(a.start,a.end));this.setDuration(a.duration);this.setOffset(a.offset);this.setFade(a.fade);this.setSkip(a.skip);this.setCurrent(a.current);this.setSliceRanges(a.sliceRanges);this.setLoadRanges(a.loadRanges);this.setAnimateRanges(a.animateRanges);this.setHoldRanges(a.holdRanges);this.updateOffetsAndCurrent_();a.playing?this.play():this.stop()};
os.time.TimelineController.prototype.updateOffetsAndCurrent_=function(){os.time.timeline.setDefaultOffsetForRange(this,this.getSmallestAnimateRangeLength())};os.time.TimelineController.prototype.moveToStart=function(){this.setCurrent(this.getAnimationRange().start)};os.time.TimelineController.prototype.moveToEnd=function(){this.setCurrent(this.getAnimationRange().end)};
os.time.TimelineController.prototype.clearSliceRanges=function(){this.sliceRanges_.isEmpty()||(this.sliceRanges_.clear(),this.calcRangeCache_.clear(),this.dispatchEvent(os.time.TimelineEventType.SLICE_RANGE_CHANGED),this.dispatchEvent(os.time.TimelineEventType.RANGE_CHANGED),this.dispatchShowEvent_())};
os.time.TimelineController.prototype.addSliceRange=function(a){var b=new goog.math.Range(0,1);b.start=a.start;b.end=a.end;if(a=this.cleanSliceRange(b)){b=this.sliceRanges_.clone();if(a.start>a.end){var c=new goog.math.Range(0,a.end);this.sliceRanges_.add(c);a=new goog.math.Range(a.start,os.time.millisecondsInDay)}this.sliceRanges_.add(a.clone());goog.math.RangeSet.equals(b,this.sliceRanges_)||(this.calcRangeCache_.clear(),this.dispatchEvent(os.time.TimelineEventType.SLICE_RANGE_CHANGED),this.dispatchEvent(os.time.TimelineEventType.RANGE_CHANGED),
b.isEmpty()&&!this.sliceRanges_.isEmpty()&&this.dispatchEvent(os.time.TimelineEventType.REFRESH_LOAD),this.dispatchShowEvent_(),this.scheduleReset_())}};
os.time.TimelineController.prototype.cleanSliceRange=function(a){if(a.end-a.start>=os.time.millisecondsInDay)return os.alert.AlertManager.getInstance().sendAlert("Slice size must be less than a day, setting to largest allowable",os.alert.AlertEventSeverity.INFO),new goog.math.Range(0,os.time.millisecondsInDay);var b=new goog.math.Range(0,1);b.start=a.start;b.end=a.end;a.start>os.time.millisecondsInDay&&(b.start=a.start%os.time.millisecondsInDay);a.end>os.time.millisecondsInDay&&(b.end=a.end%os.time.millisecondsInDay);
return b};os.time.TimelineController.prototype.updateSliceRange=function(a,b){a=this.cleanSliceRange(a);b=this.cleanSliceRange(b);if(a.start!=b.start||a.end!=b.end)b.end>=os.time.millisecondsInDay-1E3&&(b.end=os.time.millisecondsInDay),this.sliceRanges_.remove(b),this.addSliceRange(a);return!0};
os.time.TimelineController.prototype.removeSliceRange=function(a){a=this.cleanSliceRange(a);var b=this.sliceRanges_.clone();a.end>=os.time.millisecondsInDay-1E3&&(a.end=os.time.millisecondsInDay);this.sliceRanges_.remove(a);goog.math.RangeSet.equals(b,this.sliceRanges_)||(this.calcRangeCache_.clear(),this.dispatchEvent(os.time.TimelineEventType.SLICE_RANGE_CHANGED),this.dispatchEvent(os.time.TimelineEventType.RANGE_CHANGED),!b.isEmpty()&&this.sliceRanges_.isEmpty()&&this.dispatchEvent(os.time.TimelineEventType.REFRESH_LOAD),
this.dispatchShowEvent_(),this.scheduleReset_())};
os.time.TimelineController.prototype.setSliceRanges=function(a){if(a){var b=this.sliceRanges_.clone();this.sliceRanges_=a.clone();this.calcRangeCache_.clear();this.dispatchEvent(os.time.TimelineEventType.SLICE_RANGE_CHANGED);this.dispatchEvent(os.time.TimelineEventType.RANGE_CHANGED);(!b.isEmpty()&&this.sliceRanges_.isEmpty()||b.isEmpty()&&!this.sliceRanges_.isEmpty())&&this.dispatchEvent(os.time.TimelineEventType.REFRESH_LOAD);this.dispatchShowEvent_();this.scheduleReset_()}};
os.time.TimelineController.prototype.getSliceRanges=function(){return goog.iter.toArray(this.sliceRanges_)};os.time.TimelineController.prototype.getSliceRangeSet=function(){return this.sliceRanges_.clone()};os.time.TimelineController.prototype.hasSliceRanges=function(){return!this.sliceRanges_.isEmpty()};os.time.TimelineController.prototype.getEffectiveSliceRanges=function(){return goog.iter.toArray(this.hasSliceRanges()?this.getEffectiveLoadRangeSet():[])};
os.time.TimelineController.prototype.getEffectiveLoadRangeSet=function(){var a=this.getLoadRangeSet();if(this.hasSliceRanges()){if(this.calcRangeCache_.isEmpty()){a=new goog.math.RangeSet;for(var b=this.getSliceRanges(),c=this.getLoadRanges(),d=0;d<c.length;d++){var e=Math.ceil((c[d].end-c[d].start)/os.time.millisecondsInDay);c[d].end%os.time.millisecondsInDay<c[d].start%os.time.millisecondsInDay+1&&e++;for(var f=c[d].start-c[d].start%os.time.millisecondsInDay,g=0;g<e;g++){var h=f+g*os.time.millisecondsInDay,
k=this.buildRange(h,h+os.time.millisecondsInDay-1E3);k=goog.math.Range.intersection(k,c[d]);for(var l=0;l<b.length;l++){var m=this.buildRange(h+b[l].start,h+b[l].end);(m=goog.math.Range.intersection(m,k))&&a.add(m)}}}this.calcRangeCache_=a}a=this.calcRangeCache_.clone()}return a};os.time.TimelineController.prototype.getEffectiveLoadRanges=function(){return goog.iter.toArray(this.getEffectiveLoadRangeSet())};
os.time.TimelineController.prototype.clearLoadRanges=function(a){this.loadRanges_.isEmpty()||(this.loadRanges_.clear(),this.calcRangeCache_.clear(),a&&(this.dispatchEvent(os.time.TimelineEventType.SLICE_RANGE_CHANGED),this.dispatchEvent(os.time.TimelineEventType.RANGE_CHANGED),this.dispatchShowEvent_()))};
os.time.TimelineController.prototype.addLoadRange=function(a){var b=this.loadRanges_.clone();this.loadRanges_.add(a.clone());goog.math.RangeSet.equals(b,this.loadRanges_)||(this.calcRangeCache_.clear(),this.dispatchEvent(os.time.TimelineEventType.SLICE_RANGE_CHANGED),this.dispatchEvent(os.time.TimelineEventType.RANGE_CHANGED),a=goog.iter.toArray(b).length,b=this.getLoadRanges().length,(1===a&&1<b||1===b)&&this.dispatchEvent(os.time.TimelineEventType.REFRESH_LOAD),this.dispatchShowEvent_(),this.scheduleReset_())};
os.time.TimelineController.prototype.updateLoadRange=function(a,b){if(a.start!=b.start||a.end!=b.end)this.loadRanges_.remove(b.clone()),this.addLoadRange(a)};os.time.TimelineController.prototype.hasRange=function(a,b){return goog.iter.nextOrValue(goog.iter.filter(a,function(a){return a.start===b.start||a.end===b.end}),null)};os.time.TimelineController.prototype.hasExactRange=function(a,b){return goog.iter.nextOrValue(goog.iter.filter(a,function(a){return a.start===b.start&&a.end===b.end}),null)};
os.time.TimelineController.prototype.removeLoadRange=function(a){var b=this.loadRanges_.clone();this.loadRanges_.remove(a);this.loadRanges_.isEmpty()?(this.loadRanges_.remove(a),this.loadRanges_.add(a.clone()),os.alert.AlertManager.getInstance().sendAlert("At least one load range must always be present",os.alert.AlertEventSeverity.INFO),this.calcRangeCache_.clear(),this.dispatchEvent(os.time.TimelineEventType.SLICE_RANGE_CHANGED),this.dispatchEvent(os.time.TimelineEventType.RANGE_CHANGED),this.dispatchShowEvent_(),
this.scheduleReset_()):goog.math.RangeSet.equals(b,this.loadRanges_)||(this.calcRangeCache_.clear(),this.dispatchEvent(os.time.TimelineEventType.SLICE_RANGE_CHANGED),this.dispatchEvent(os.time.TimelineEventType.RANGE_CHANGED),a=goog.iter.toArray(b).length,b=this.getLoadRanges().length,1<a&&1===b&&this.dispatchEvent(os.time.TimelineEventType.REFRESH_LOAD),this.dispatchShowEvent_(),this.scheduleReset_())};
os.time.TimelineController.prototype.setLoadRanges=function(a){if(a){var b=this.getLoadRanges().length,c=goog.iter.toArray(a).length;(1===b&&1!=c||1<b&&1===c)&&this.dispatchEvent(os.time.TimelineEventType.REFRESH_LOAD);this.loadRanges_=a.clone();this.calcRangeCache_.clear();this.dispatchEvent(os.time.TimelineEventType.SLICE_RANGE_CHANGED);this.dispatchEvent(os.time.TimelineEventType.RANGE_CHANGED);this.dispatchShowEvent_();this.scheduleReset_()}};
os.time.TimelineController.prototype.getLoadRanges=function(){return goog.iter.toArray(this.loadRanges_)};os.time.TimelineController.prototype.getLoadRangeSet=function(){return this.loadRanges_.clone()};os.time.TimelineController.prototype.clearAnimateRanges=function(){this.animateRanges_.isEmpty()||(this.animateRanges_.clear(),this.dispatchEvent(os.time.TimelineEventType.ANIMATE_RANGE_CHANGED),this.dispatchShowEvent_())};
os.time.TimelineController.prototype.addAnimateRange=function(a){var b=this.animateRanges_.clone();this.animateRanges_.add(a.clone());goog.math.RangeSet.equals(b,this.animateRanges_)||(this.dispatchEvent(os.time.TimelineEventType.ANIMATE_RANGE_CHANGED),this.dispatchShowEvent_())};os.time.TimelineController.prototype.updateAnimateRange=function(a,b){if(a.start!=b.start||a.end!=b.end)this.animateRanges_.remove(b),this.addAnimateRange(a)};
os.time.TimelineController.prototype.removeAnimateRange=function(a){var b=this.animateRanges_.clone();this.animateRanges_.remove(a);goog.math.RangeSet.equals(b,this.animateRanges_)||(this.dispatchEvent(os.time.TimelineEventType.ANIMATE_RANGE_CHANGED),this.dispatchShowEvent_())};os.time.TimelineController.prototype.setAnimateRanges=function(a){a&&(this.animateRanges_=a.clone(),this.dispatchEvent(os.time.TimelineEventType.ANIMATE_RANGE_CHANGED),this.dispatchShowEvent_())};
os.time.TimelineController.prototype.getAnimationRanges=function(){return goog.iter.toArray(this.animateRanges_)};os.time.TimelineController.prototype.hasAnimationRanges=function(){return!this.animateRanges_.isEmpty()};os.time.TimelineController.prototype.hasHoldRanges=function(){return!this.holdRanges_.isEmpty()};os.time.TimelineController.prototype.getHoldRanges=function(){return goog.iter.toArray(this.holdRanges_)};
os.time.TimelineController.prototype.setHoldRanges=function(a){a&&(this.holdRanges_=a.clone(),this.dispatchEvent(os.time.TimelineEventType.HOLD_RANGE_CHANGED),this.dispatchShowEvent_())};os.time.TimelineController.prototype.removeHoldRange=function(a){var b=this.holdRanges_.clone();this.holdRanges_.remove(a);goog.math.RangeSet.equals(b,this.holdRanges_)||(this.dispatchEvent(os.time.TimelineEventType.HOLD_RANGE_CHANGED),this.dispatchShowEvent_())};
os.time.TimelineController.prototype.clearHoldRanges=function(){this.holdRanges_.isEmpty()||(this.holdRanges_.clear(),this.dispatchEvent(os.time.TimelineEventType.HOLD_RANGE_CHANGED),this.dispatchShowEvent_())};os.time.TimelineController.prototype.addHoldRange=function(a){var b=this.holdRanges_.clone();this.holdRanges_.add(a.clone());goog.math.RangeSet.equals(b,this.holdRanges_)||(this.dispatchEvent(os.time.TimelineEventType.HOLD_RANGE_CHANGED),this.dispatchShowEvent_())};
os.time.TimelineController.prototype.updateHoldRange=function(a,b){if(a.start!=b.start||a.end!=b.end)this.holdRanges_.remove(b),this.addHoldRange(a)};os.time.TimelineController.prototype.holdRangeContains=function(a){return this.holdRanges_.contains(a)};
os.time.TimelineController.prototype.holdRangeContainsTime=function(a){return a&&!this.holdRanges_.isEmpty()?a.getStart()===a.getEnd()?this.holdRanges_.containsValue(a.getStart()):this.holdRangeContains(new goog.math.Range(a.getStart(),a.getEnd())):!1};os.source.Vector=function(a){a=a?goog.object.clone(a):{};delete a.url;this.log=os.source.Vector.LOGGER_;this.cesiumEnabled=this.animationEnabled_=!1;this.columns=[];this.columnAutoDetectLimit=1;this.id_="";this.externalColumns=!1;this.geometryShape_=os.style.DEFAULT_SHAPE;this.centerGeometryShape_=os.style.DEFAULT_CENTER_SHAPE;this.lastEllipseNotification_=0;this.locked_=this.loading_=!1;this.maxDate_=this.minDate_=0;this.title_="";this.replaceDupes_=!0;this.supportedActions_={};this.setSupportsAction(os.action.EventType.GOTO,
!0);this.setSupportsAction(os.action.EventType.IDENTIFY,!0);this.setSupportsAction(os.action.EventType.BUFFER,!0);this.setSupportsAction(os.action.EventType.EXPORT,!0);this.setSupportsAction(os.action.EventType.CLEAR_SELECTION,!0);this.timeEnabled_=!1;this.timeModel=new os.time.xf.TimeModel(os.source.getRecordTime,os.source.getHoldRecordTime);this.colorModel=null;this.visible=!0;this.highlightedItems_=null;this.selected_=[];this.selectedById_={};this.shownRecordMap={};this.previousFade_=!1;this.processQueue_=
[];this.processTimer=new goog.async.Delay(this.onProcessTimer_,250,this);this.unprocessQueue_=[];this.unprocessTimer=new goog.async.Delay(this.onUnprocessTimer_,250,this);this.tlc=os.time.TimelineController.getInstance();this.animationOverlay=null;this.rangeCollections_={};this.previousRange_=this.displayRange_=os.time.UNBOUNDED;this.timeFilterEnabled_=!0;this.featureCount_=0;this.hoverHandler_=a.hoverHandler||void 0;this.lockable_=!1;this.altitudeEnabled_=!0;this.refreshInterval=0;this.refreshTimer=
null;this.refreshEnabled=!1;this.toClear=null;a.disableAreaSelection||(os.dispatcher.listen(os.action.EventType.SELECT,this.onFeatureAction_,!1,this),os.dispatcher.listen(os.action.EventType.SELECT_EXCLUSIVE,this.onFeatureAction_,!1,this),os.dispatcher.listen(os.action.EventType.DESELECT,this.onFeatureAction_,!1,this),os.dispatcher.listen(os.action.EventType.REMOVE_FEATURE,this.onFeatureAction_,!1,this),os.dispatcher.listen(os.action.EventType.REMOVE_FEATURES,this.onFeatureAction_,!1,this));this.tlc.listen(os.time.TimelineEventType.FADE_TOGGLE,
this.fadeToggle_,!1,this);this.tlc.listen(os.time.TimelineEventType.HOLD_RANGE_CHANGED,this.reindexTimeModel,!1,this);ol.source.Vector.call(this,a)};goog.inherits(os.source.Vector,ol.source.Vector);os.implements(os.source.Vector,os.source.ISource.ID);os.source.Vector.NAME="os.source.Vector";os.registerClass(os.source.Vector.NAME,os.source.Vector);os.source.Vector.LOGGER_=goog.log.getLogger(os.source.Vector.NAME);os.source.Vector.HIDDEN="hidden";os.source.Vector.VISIBLE="visible";
os.source.Vector.prototype.disposeInternal=function(){os.source.Vector.superClass_.disposeInternal.call(this);this.refreshTimer&&(this.refreshTimer.unlisten(goog.Timer.TICK,this.onRefreshTimer,!1,this),this.refreshTimer=null);os.dispatcher.unlisten(os.action.EventType.SELECT,this.onFeatureAction_,!1,this);os.dispatcher.unlisten(os.action.EventType.DESELECT,this.onFeatureAction_,!1,this);os.dispatcher.unlisten(os.action.EventType.SELECT_EXCLUSIVE,this.onFeatureAction_,!1,this);os.dispatcher.unlisten(os.action.EventType.REMOVE_FEATURE,
this.onFeatureAction_,!1,this);os.dispatcher.unlisten(os.action.EventType.REMOVE_FEATURES,this.onFeatureAction_,!1,this);this.tlc.unlisten(os.time.TimelineEventType.SHOW,this.onTimelineShow_,!1,this);this.tlc.unlisten(os.time.TimelineEventType.FADE_TOGGLE,this.fadeToggle_,!1,this);this.tlc.unlisten(os.time.TimelineEventType.HOLD_RANGE_CHANGED,this.reindexTimeModel,!1,this);this.tlc=null;this.disposeAnimationOverlay();this.processTimer.dispose();this.processTimer=null;this.processQueue_.length=0;this.unprocessTimer.dispose();
this.unprocessTimer=null;this.unprocessQueue_.length=0;this.timeModel&&(this.timeModel.dispose(),this.timeModel=null);this.colorModel&&(this.colorModel.dispose(),this.colorModel=null);this.setLocked(!1);this.clear()};os.source.Vector.prototype.changed=function(){this.cesiumEnabled||(os.source.Vector.superClass_.changed.call(this),this.animationOverlay&&this.animationOverlay.changed())};
os.source.Vector.prototype.setupChangeEvents_=function(a,b){this.featureChangeKeys_[a]=[ol.events.listen(b,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)]};
os.source.Vector.prototype.clear=function(a){if(!this.isLocked()){this.selectNone();this.shownRecordMap={};this.maxDate_=this.minDate_=0;this.timeModel&&this.timeModel.clear();if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal,this);for(var b in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[b])}this.featuresCollection_&&this.featuresCollection_.clear();this.featuresRtree_&&this.featuresRtree_.clear();this.loadedExtentsRtree_.clear();this.nullGeometryFeatures_=
{};a=new ol.source.Vector.Event(ol.source.VectorEventType.CLEAR);this.dispatchEvent(a);this.changed();this.unprocessNow();this.processTimer&&this.processQueue_&&(this.processTimer.stop(),this.processQueue_.length=0);this.updateLabels();this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.CLEARED))}};os.source.Vector.prototype.clearQueue=function(){this.toClear&&(this.removeFeatures(this.toClear),this.toClear=null)};
os.source.Vector.prototype.reindexRtree_=function(){if(this.featuresRtree_){var a,b=[],c=[],d=[],e=this.getFeatures();var f=0;for(a=e.length;f<a;f++){var g=e[f];void 0!==this.idIndex_[g.id_.toString()]&&c.push(g)}f=0;for(a=c.length;f<a;f++)if(g=c[f],e=g.getGeometry())e=e.getExtent(),b.push(e),d.push(g);this.featuresRtree_.clear();this.featuresRtree_.load(b,d)}};os.source.Vector.prototype.refresh=goog.nullFunction;os.source.Vector.prototype.isRefreshEnabled=function(){return this.refreshEnabled};
os.source.Vector.prototype.getRefreshInterval=function(){return this.refreshInterval};
os.source.Vector.prototype.setRefreshInterval=function(a){this.refreshInterval!=a&&(this.refreshInterval=a,this.refreshTimer&&(this.refreshTimer.unlisten(goog.Timer.TICK,this.onRefreshTimer,!1,this),this.refreshTimer.hasListener()||this.refreshTimer.stop()),this.refreshTimer=null,0<this.refreshInterval&&(this.refreshTimer=os.source.RefreshTimers[a],this.refreshTimer||(this.refreshTimer=new goog.Timer(1E3*a),os.source.RefreshTimers[a]=this.refreshTimer),this.refreshTimer.listen(goog.Timer.TICK,this.onRefreshTimer,
!1,this),this.refreshTimer.start()),this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.REFRESH_INTERVAL)))};os.source.Vector.prototype.onRefreshTimer=function(){this.isRefreshEnabled()&&!this.isLoading()&&this.refresh()};os.source.Vector.prototype.getColumns=function(){return this.columns};
os.source.Vector.prototype.getEmptyColumns=function(){var a=this.columns?this.columns.slice():[];if(0<a.length){a=a.filter(function(a){return!!a&&!!a.field});for(var b=this.getFeatures(),c=0;c<b.length&&0<a.length;c++)for(var d=a.length;d--;)goog.string.isEmptyOrWhitespace(goog.string.makeSafe(b[c].values_[a[d].field]))||a.splice(d,1)}return a};
os.source.Vector.prototype.setColumns=function(a){this.externalColumns=!0;this.columns=a.map(os.source.column.mapStringOrDef);os.source.column.addDefaults(this);this.testShapeFields_(this.geometryShape_);this.processColumns()};os.source.Vector.prototype.addColumn=function(a,b,c,d){this.hasColumn(a)||(a=os.source.column.create(a,b,c),this.columns.push(a),d&&this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.COLUMN_ADDED,a)))};
os.source.Vector.prototype.processColumns=function(a){if(this.columns){var b=os.object.getValueExtractor("name");goog.array.removeDuplicates(this.columns,this.columns,b);this.columns.forEach(function(a){os.fields.markDerived(a);os.source.column.addFormatter(a)},this);if(b=os.dataManager.getDescriptor(this.getId())){var c=b.getColumns();c&&os.ui.slick.column.restore(c,this.columns);b.setColumns(this.columns)}this.columns.some(os.ui.slick.column.isUserModified)||(this.columns.sort(os.ui.slick.column.autoSizeAndSortColumns),
this.columns.forEach(function(a){os.fields.hideSpecialColumns(a)}));a||this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.COLUMNS,this.columns))}};
os.source.Vector.prototype.updateColumns=function(a){if(!this.externalColumns&&0<a.length){for(var b=!1,c,d=0;d<a.length;d++){c=a[d];c=c.values_;for(var e in c)this.hasColumn(e)||os.feature.isInternalField(e)?e!==os.data.RecordField.TIME||this.hasColumn(os.data.RecordField.TIME)||this.hasColumn(os.Fields.TIME)||(this.addColumn(os.data.RecordField.TIME,"TIME"),b=!0):(this.addColumn(e),b=!0)}b&&this.processColumns()}};
os.source.Vector.prototype.hasColumn=function(a){var b=null;goog.isString(a)?b=a:goog.isObject(a)&&(b=a.field);if(b)for(a=this.columns.length;a--;)if(this.columns[a].field==b)return!0;return!1};os.source.Vector.prototype.getColumnAutoDetectLimit=function(){return this.columnAutoDetectLimit};os.source.Vector.prototype.setColumnAutoDetectLimit=function(a){this.columnAutoDetectLimit=a};os.source.Vector.prototype.getGeometryShape=function(){return this.geometryShape_};
os.source.Vector.prototype.setGeometryShape=function(a){this.geometryShape_=a;this.testShapeFields_(a);if(os.style.ELLIPSE_REGEXP.test(a)){a=this.getFeatures();for(var b=0,c=a.length;b<c;b++)os.feature.createEllipse(a[b])}else if(os.style.LOB_REGEXP.test(a))for(a=this.getFeatures(),b=0,c=a.length;b<c;b++)os.feature.createLineOfBearing(a[b])};
os.source.Vector.prototype.supportsShape=function(a){return!os.style.ELLIPSE_REGEXP.test(a)||this.hasColumn(os.Fields.RADIUS)||this.hasColumn(os.Fields.SEMI_MAJOR)&&this.hasColumn(os.Fields.SEMI_MINOR)||this.hasColumn(os.fields.DEFAULT_SEMI_MAJ_COL_NAME)&&this.hasColumn(os.fields.DEFAULT_SEMI_MIN_COL_NAME)?!0:!1};os.source.Vector.prototype.getCenterGeometryShape=function(){return this.centerGeometryShape_};os.source.Vector.prototype.setCenterGeometryShape=function(a){this.centerGeometryShape_=a};
os.source.Vector.prototype.isNotEllipseOrLOBOrDefault=function(a){return!os.style.ELLIPSE_REGEXP.test(a)&&!os.style.DEFAULT_REGEXP.test(a)&&!os.style.LOB_REGEXP.test(a)};
os.source.Vector.prototype.testShapeFields_=function(a){var b=os.alert.AlertManager.getInstance(),c=goog.now();0<this.columns.length&&os.style.ELLIPSE_REGEXP.test(a)&&(this.hasColumn(os.fields.DEFAULT_SEMI_MAJ_COL_NAME)&&this.hasColumn(os.fields.DEFAULT_SEMI_MIN_COL_NAME)||this.hasColumn(os.Fields.RADIUS)?!(0==this.lastEllipseNotification_||3E5<c-this.lastEllipseNotification_)||this.hasColumn(os.Fields.SEMI_MAJOR_UNITS)&&this.hasColumn(os.Fields.SEMI_MINOR_UNITS)||this.hasColumn(os.Fields.RADIUS)||
(b.sendAlert("The "+a+" style assumes that the SEMI_MAJOR, SEMI_MINOR or RADIUS/CEP fields are in nautical miles. If the values are greater than or equal to 250, they are assumed to be in meters.",os.alert.AlertEventSeverity.INFO,this.log,1),this.lastEllipseNotification_=c):b.sendAlert("The "+a+" style assumes that the SEMI_MAJOR & SEMI_MINOR fields or RADIUS/CEP exist. If not, a point will be shown instead.",os.alert.AlertEventSeverity.WARNING,this.log,1))};os.source.Vector.prototype.getId=function(){return this.id_};
os.source.Vector.prototype.setId=function(a){if(this.id_!==a){var b=this.id_;this.id_=a;this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.ID,a,b))}};os.source.Vector.prototype.isLoading=function(){return this.loading_};
os.source.Vector.prototype.setLoading=function(a){if(this.loading_!==a){var b=this.loading_;this.loading_=a;this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.LOADING,a,b));b=os.load.LoadingManager.getInstance();a?b.addLoadingTask(this.getId(),this.getTitle()):b.removeLoadingTask(this.getId());!a&&this.processTimer&&(this.processTimer.start(),this.dispatchEvent(goog.events.EventType.LOAD))}};
os.source.Vector.prototype.getColor=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.getId());return os.style.getConfigColor(a)||os.style.DEFAULT_LAYER_COLOR};os.source.Vector.prototype.hasAltitudeEnabled=function(){return this.altitudeEnabled_};os.source.Vector.prototype.setAltitudeEnabled=function(a){var b=this.altitudeEnabled_;this.altitudeEnabled_=a;this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.ALTITUDE,a,b))};
os.source.Vector.prototype.isLockable=function(){return this.lockable_};os.source.Vector.prototype.setLockable=function(a){this.lockable_=a};os.source.Vector.prototype.isLocked=function(){return this.locked_};os.source.Vector.prototype.setLocked=function(a){var b=this.locked_;this.locked_=a;this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.LOCK,a,b))};os.source.Vector.prototype.getMinDate=function(){return this.minDate_};os.source.Vector.prototype.getMaxDate=function(){return this.maxDate_};
os.source.Vector.prototype.getTitle=function(a){var b=os.MapContainer.getInstance().getLayer(this.getId());return(a=!a&&b?b.getExplicitType():"")?this.title_+" "+a:this.title_};os.source.Vector.prototype.setTitle=function(a){if(this.title_!==a){var b=this.title_;this.title_=a;this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.TITLE,a,b))}};os.source.Vector.prototype.getAnimationEnabled=function(){return this.animationEnabled_};
os.source.Vector.prototype.setAnimationEnabled=function(a){this.animationEnabled_!==a&&(this.animationEnabled_=a,this.updateAnimationState_(),this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.FEATURE_VISIBILITY)))};
os.source.Vector.prototype.setCesiumEnabled=function(a){(this.cesiumEnabled=a)||this.changed();this.animationOverlay&&(a?(this.animationOverlay.setMap(null),this.dispatchAnimationFrame(void 0,this.animationOverlay.getFeatures())):(this.dispatchAnimationFrame(this.animationOverlay.getFeatures()),this.animationOverlay.setMap(os.MapContainer.getInstance().getMap()),this.animationOverlay.changed()))};os.source.Vector.prototype.getSupportsAction=function(a){return this.supportedActions_[a]};
os.source.Vector.prototype.setSupportsAction=function(a,b){this.supportedActions_[a]=b};os.source.Vector.prototype.hasTimeData=function(){return 0!==this.minDate_||0!==this.maxDate_};os.source.Vector.prototype.getTimeEnabled=function(){return this.timeEnabled_};
os.source.Vector.prototype.setTimeEnabled=function(a){this.timeEnabled_!==a&&(this.timeEnabled_=a,this.updateAnimationState_(),this.updateAnimationOverlay(),this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.TIME_ENABLED,a,!a)))};os.source.Vector.prototype.setDisplayRange=function(a,b){(a=a||os.time.UNBOUNDED)&&this.displayRange_!=a&&(this.displayRange_=a,(null!=b?b:1)&&this.timeModel&&this.timeModel.intersection(a,!1,!1))};
os.source.Vector.prototype.getReplaceDuplicates=function(){return this.replaceDupes_};os.source.Vector.prototype.setReplaceDuplicates=function(a){this.replaceDupes_=a};os.source.Vector.prototype.setTimeFilterEnabled=function(a){this.timeFilterEnabled_!=a&&(this.timeFilterEnabled_=a,this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.TIME_FILTER,a,!a)))};os.source.Vector.prototype.getTimeFilterEnabled=function(){return this.timeFilterEnabled_};
os.source.Vector.prototype.updateAnimationState_=function(){if(this.animationEnabled_&&this.timeEnabled_){var a=this.tlc.getLastEvent();this.setDisplayRange(a?a.getRange():os.time.UNBOUNDED,!1);this.createAnimationOverlay();this.tlc.listen(os.time.TimelineEventType.SHOW,this.onTimelineShow_,!1,this);this.tlc.listen(os.time.TimelineEventType.PLAY,this.onTimelinePlayChange_,!1,this);this.tlc.listen(os.time.TimelineEventType.STOP,this.onTimelinePlayChange_,!1,this)}else this.setDisplayRange(os.time.UNBOUNDED),
this.tlc.unlisten(os.time.TimelineEventType.SHOW,this.onTimelineShow_,!1,this),this.tlc.unlisten(os.time.TimelineEventType.PLAY,this.onTimelinePlayChange_,!1,this),this.tlc.unlisten(os.time.TimelineEventType.STOP,this.onTimelinePlayChange_,!1,this),this.disposeAnimationOverlay()};os.source.Vector.prototype.createHistogram=function(a){return new os.data.histo.SourceHistogram(this,a)};
os.source.Vector.prototype.createColorModel=function(a,b){b=new os.data.histo.ColorModel(b);b.setHistogram(a||this.createHistogram());return b};os.source.Vector.prototype.getColorModel=function(){return this.colorModel};os.source.Vector.prototype.setColorModel=function(a){a!==this.colorModel&&(this.colorModel&&(this.colorModel.dispose(),this.colorModel=null),(this.colorModel=a)&&this.colorModel.listen(goog.events.EventType.PROPERTYCHANGE,this.onColorModelChange_,!1,this),this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.COLOR_MODEL)))};
os.source.Vector.prototype.onColorModelChange_=function(a){a.getProperty()===os.source.PropertyChange.STYLE&&(this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.STYLE)),this.changed())};os.source.Vector.prototype.getTimeModel=function(){return this.timeModel};os.source.Vector.prototype.reindexTimeModel=function(){this.timeModel&&(this.rangeCollections_={},this.timeModel.clear(),this.timeModel.add(this.getFeatures()),this.updateAnimationOverlay(),this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.TIME_MODEL)))};
os.source.Vector.prototype.getFilteredFeatures=function(a){if(this.getVisible()){var b=!this.timeFilterEnabled_||this.tlc.isPlaying(),c=(a=null!=a?a:b)?os.time.UNBOUNDED:this.displayRange_,d=this.timeModel.intersection(c,!0);a!=b&&(c=b?os.time.UNBOUNDED:this.displayRange_,this.timeModel.intersection(c,!0));return d}return[]};os.source.Vector.prototype.isHidden=function(a){return!this.shownRecordMap["string"==typeof a?a:a.id_]};os.source.Vector.prototype.getVisible=function(){return this.visible};
os.source.Vector.prototype.setVisible=function(a){a!==this.visible&&(this.visible=a,this.updateAnimationOverlay(),this.updateLabels(),this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.VISIBLE,a,!a)))};os.source.Vector.prototype.addFeature=function(a){this.addFeatures([a])};
os.source.Vector.prototype.addFeatures=function(a){this.clearQueue();a&&0<a.length&&(this.unprocessNow(),this.dedupeFeatures(a),this.processFeatures(a),os.source.Vector.superClass_.addFeatures.call(this,a))};os.source.Vector.prototype.dedupeFeatures=function(a){for(var b=[],c={},d=a.length;d--;){var e=a[d].id_;if(null!=e){var f=this.getFeatureById(e);f?this.replaceDupes_?b.push(f):a.splice(d,1):c[e]?a.splice(d,1):c[e]=!0}}0<b.length&&(this.removeFeatures(b),this.unprocessNow())};
os.source.Vector.prototype.removeFeature=function(a,b){var c=ol.getUid(a).toString();c in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[c]:!b&&this.featuresRtree_&&this.featuresRtree_.remove(a);this.removeFeatureInternal(a);this.changed()};os.source.Vector.prototype.removeFeatures=function(a){for(var b=1E4<a.length,c=0,d=a.length;c<d;c++)try{this.removeFeature(a[c],b)}catch(e){}b&&this.reindexRtree_()};
os.source.Vector.prototype.removeFeatureInternal=function(a){if(a){this.processNow();this.featureCount_=Math.max(this.featureCount_-1,0);this.unprocessFeature(a);var b=ol.getUid(a).toString();this.featureChangeKeys_[b].forEach(ol.events.unlistenByKey);this.featureChangeKeys_[b]=void 0;void 0!==a.id_?this.idIndex_[a.id_.toString()]=void 0:this.undefIdIndex_[b]=void 0}};os.source.Vector.prototype.getFeatureCount=function(){return this.featureCount_};
os.source.Vector.prototype.processFeatures=function(a){var b=os.data.DataManager.getInstance().getTotalFeatureCount(),c=os.ogc.getMaxFeatures();b+a.length>c&&(a.length=Math.max(c-b,0),os.source.handleMaxFeatureCount(c));this.featureCount_+=a.length;b=0;for(c=a.length;b<c;b++)a[b].suppressEvents(),this.processImmediate(a[b]),a[b].enableEvents();this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.PREPROCESS_FEATURES,a));this.processTimer&&(this.processQueue_=this.processQueue_.concat(a),
this.cesiumEnabled&&this.isLoading()||this.processTimer.start())};
os.source.Vector.prototype.processImmediate=function(a){var b=a.id_;this.shownRecordMap[b]=!0;a.values_[os.data.RecordField.SOURCE_ID]=this.getId();os.interpolate.interpolateFeature(a);var c=a.getGeometry();if(c){c.getExtent().some(isNaN)&&a.setGeometry(null);var d=c.getType();d===ol.geom.GeometryType.POINT?(os.style.ELLIPSE_REGEXP.test(this.geometryShape_)&&os.feature.createEllipse(a),os.feature.populateCoordFields(a)):d===ol.geom.GeometryType.LINE_STRING||d===ol.geom.GeometryType.MULTI_LINE_STRING?
(c.toLonLat(),c=os.geo.splitOnDateLine(c),c.osTransform(),a.setGeometry(c)):c.get(os.geom.GeometryField.NORMALIZED)||(c.toLonLat(),os.geo.normalizeGeometryCoordinates(c),c.osTransform())}null==a.values_[os.Fields.ID]&&(a.values_[os.Fields.ID]=b);null==a.values_[os.style.StyleField.SHOW_LABELS]&&(a.values_[os.style.StyleField.SHOW_LABELS]=!1);os.style.setFeatureStyle(a,this)};os.source.Vector.prototype.onProcessTimer_=function(){var a=this.processQueue_;this.processQueue_=[];a&&0<a.length&&this.processDeferred(a)};
os.source.Vector.prototype.processDeferred=function(a){goog.log.fine(this.log,this.getTitle()+" processing "+a.length+" new features.");this.updateColumns(a);if(this.timeModel){this.timeModel.add(a);var b=this.timeModel.getRange();this.minDate_=b.getStart();this.maxDate_=b.getEnd()}this.rangeCollections_={};this.updateLabels();this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.FEATURES,a));if(this.animationOverlay&&this.tlc.getLastEvent())this.onTimelineShow_(this.tlc.getLastEvent());
(a=os.ui.onboarding.OnboardingManager.getInstance())&&a.displayOnboarding(os.ROOT+"onboarding/features.json")};os.source.Vector.prototype.processNow=function(){this.processTimer&&this.processTimer.isActive()&&this.processTimer.fire()};os.source.Vector.prototype.unprocessFeature=function(a){a.suppressEvents();this.unprocessImmediate(a);a.enableEvents();this.unprocessTimer&&(this.unprocessQueue_.push(a),this.unprocessTimer.startIfNotActive())};
os.source.Vector.prototype.unprocessImmediate=function(a){this.shownRecordMap[a.id_]=void 0};os.source.Vector.prototype.onUnprocessTimer_=function(){var a=this.unprocessQueue_;this.unprocessQueue_=[];a&&0<a.length&&this.unprocessDeferred(a)};
os.source.Vector.prototype.unprocessDeferred=function(a){goog.log.fine(this.log,this.getTitle()+" unprocessing "+a.length+" features.");this.rangeCollections_={};this.shownRecordMap=os.object.prune(this.shownRecordMap);this.idIndex_=os.object.prune(this.idIndex_);this.undefIdIndex_=os.object.prune(this.undefIdIndex_);this.removeFromSelected(a);if(this.timeModel){this.timeModel.setData(this.getFeatures());var b=this.timeModel.getRange();this.minDate_=b.getStart();this.maxDate_=b.getEnd()}this.updateLabels();
if(this.animationOverlay&&this.tlc.getLastEvent())this.onTimelineShow_(this.tlc.getLastEvent());this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.FEATURES,void 0,a))};os.source.Vector.prototype.unprocessNow=function(){this.unprocessTimer&&this.unprocessTimer.isActive()&&this.unprocessTimer.fire()};
os.source.Vector.prototype.onTimelineShow_=function(a){this.animationEnabled_&&(this.previousRange_=this.displayRange_,this.setDisplayRange(a.getRange(),!1),this.updateAnimationOverlay(),this.updateLabels(),!this.tlc.isPlaying()&&this.timeFilterEnabled_&&this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.FEATURE_VISIBILITY)))};os.source.Vector.prototype.onTimelinePlayChange_=function(a){this.timeFilterEnabled_&&this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.FEATURE_VISIBILITY))};
os.source.Vector.prototype.getAnimationOverlay=function(){return this.animationOverlay};
os.source.Vector.prototype.createAnimationOverlay=function(){if(!this.animationOverlay){var a=os.MapContainer.getInstance().getLayer(this.getId()),b=a.getOpacity();a=a.getZIndex();this.animationOverlay=new os.layer.AnimationOverlay({map:this.cesiumEnabled?null:os.MapContainer.getInstance().getMap(),opacity:b,zIndex:a});this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.ANIMATION_ENABLED,!0))}};
os.source.Vector.prototype.refreshAnimationFade=function(){this.tlc.getFade()&&this.updateAnimationOverlay()};os.source.Vector.prototype.fadeToggle_=function(){!this.tlc.getFade()&&this.previousFade_&&this.animationOverlay&&(this.updateFadeStyle_(this.animationOverlay.getFeatures(),1),this.cesiumEnabled&&this.dispatchAnimationFrame(void 0,this.animationOverlay.getFeatures()));this.previousFade_=this.tlc.getFade()};
os.source.Vector.prototype.updateAnimationOverlay=function(){if(this.animationOverlay)if(this.visible){var a,b;var c=b=a=os.time.UNBOUNDED;var d=.25*(this.displayRange_.getEnd()-this.displayRange_.getStart());var e=!1;this.tlc.getFade()&&this.previousRange_!=os.time.UNBOUNDED&&(this.previousRange_.getEnd()<this.displayRange_.getEnd()?(a=new os.time.TimeRange(this.displayRange_.getStart()-d,this.displayRange_.getStart()),b=new os.time.TimeRange(a.getStart()-d,a.getStart()),c=new os.time.TimeRange(b.getStart()-
d,b.getStart()),e=!0):this.previousRange_.getStart()>this.displayRange_.getStart()&&(a=new os.time.TimeRange(this.displayRange_.getEnd(),this.displayRange_.getEnd()+d),b=new os.time.TimeRange(a.getEnd(),a.getEnd()+d),c=new os.time.TimeRange(b.getEnd(),b.getEnd()+d),e=!0));this.tlc.isPlaying()?(d=this.displayRange_.toISOString(),d in this.rangeCollections_||(this.rangeCollections_[d]=this.timeModel.intersection(this.displayRange_,!0)),d=this.rangeCollections_[d]):d=this.timeModel.intersection(this.displayRange_,
!0);e&&(this.updateFadeStyle_(this.animationOverlay.getFeatures(),1),a=this.timeModel.intersection(a),b=this.timeModel.intersection(b),c=this.timeModel.intersection(c),this.updateFadeStyle_(a,.75),this.updateFadeStyle_(b,.5),this.updateFadeStyle_(c,.25),d=d.concat(a,b,c));this.cesiumEnabled&&(this.dispatchAnimationFrame(void 0,this.animationOverlay.getFeatures()),this.dispatchAnimationFrame(this.animationOverlay.getFeatures(),d));this.animationOverlay.setFeatures(d)}else this.animationOverlay.setFeatures(void 0),
this.cesiumEnabled&&this.dispatchAnimationFrame(this.getFeatures(),[])};os.source.Vector.prototype.updateFadeStyle_=function(a,b){os.feature.updateFeaturesFadeStyle(a,b,this)};os.source.Vector.prototype.setOverlayOpacity=function(a){this.animationOverlay&&this.animationOverlay.setOpacity(a)};os.source.Vector.prototype.setOverlayZIndex=function(a){this.animationOverlay&&this.animationOverlay.setZIndex(a)};
os.source.Vector.prototype.dispatchAnimationFrame=function(a,b){var c={};if(a)for(var d=0,e=a.length;d<e;d++)c[a[d].id_]=!1;if(b)for(d=0,e=b.length;d<e;d++)a=b[d].id_,a in c&&!this.tlc.getFade()?delete c[a]:c[a]=!0;this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.ANIMATION_FRAME,c))};
os.source.Vector.prototype.disposeAnimationOverlay=function(){this.animationOverlay&&(this.tlc&&this.tlc.getFade()&&(this.updateFadeStyle_(this.getFeatures(),1),this.cesiumEnabled&&this.dispatchAnimationFrame(void 0,this.animationOverlay.getFeatures())),this.animationOverlay.dispose(),this.animationOverlay=null,this.rangeCollections_={},this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.ANIMATION_ENABLED,!1)))};os.source.Vector.prototype.getHighlightedItems=function(){return this.highlightedItems_};
os.source.Vector.prototype.setHighlightedItems=function(a){if(a!==this.highlightedItems_){var b=this.highlightedItems_;if(b){for(var c=0,d=b.length;c<d;c++)b[c].set(os.style.StyleType.HIGHLIGHT,null);os.style.setFeaturesStyle(b,this)}if(this.highlightedItems_=a){var e=os.style.DEFAULT_HIGHLIGHT_CONFIG,f=!1;0<a.length&&(f=(c=os.style.getLayerConfig(a[0],this))?c[os.style.StyleField.REPLACE_STYLE]:!1);c=0;for(d=a.length;c<d;c++){var g=a[c].get(os.style.StyleType.CUSTOM_HIGHLIGHT);a[c].set(os.style.StyleType.HIGHLIGHT,
f?e:g||e)}os.style.setFeaturesStyle(a,this)}this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.HIGHLIGHTED_ITEMS,a,b,this));this.changed()}};
os.source.Vector.prototype.onFeatureAction_=function(a){var b=a.getContext();if(b&&os.action){b=goog.isArray(b)?b:[b];for(var c=[],d=0,e=b.length;d<e;d++)if(a.type==os.action.EventType.REMOVE_FEATURE){var f=b[d].feature;f&&this.idIndex_[f.id_]&&c.push(f)}else(f=b[d].geometry)&&(c=c.concat(this.getFeaturesInGeometry(f)));if(0<c.length)switch(a.type){case os.action.EventType.SELECT:this.addToSelected(c);break;case os.action.EventType.SELECT_EXCLUSIVE:this.setSelectedItems(c);break;case os.action.EventType.DESELECT:this.removeFromSelected(c);
break;case os.action.EventType.REMOVE_FEATURE:case os.action.EventType.REMOVE_FEATURES:c&&this.removeFeatures(c)}}};os.source.Vector.prototype.getFeaturesInExtent=function(a){return this.getVisible()?os.source.Vector.superClass_.getFeaturesInExtent.call(this,a):[]};
os.source.Vector.prototype.getFeaturesInGeometry=function(a,b){var c=a.getExtent(),d=!1;if(!b)if(this.animationEnabled_&&this.timeEnabled_)b=this.getFilteredFeatures(!1);else switch(b=this.getFeaturesInExtent(c),a.getType()){case ol.geom.GeometryType.LINE_STRING:d=a.getCoordinates();d=os.geo.isRectangular(d,c);break;case ol.geom.GeometryType.POLYGON:d=a.getCoordinates(),d=1==d.length&&os.geo.isRectangular(d[0],c)}var e=[];if((a=os.geo.jsts.OLParser.getInstance().read(a))&&0<b.length){var f=a.getCoordinates().length;
if(100<f){c=Math.max(ol.extent.getWidth(c),ol.extent.getHeight(c));var g=b.length;c*=1E5<g?.01:5E4<g?.005:1E4<g?.0025:0;0<c&&(goog.log.fine(this.log,"Simplifying geometry with "+f+" vertices and threshold "+c),a=jsts.simplify.DouglasPeuckerSimplifier.simplify(a,c),goog.log.fine(this.log,"New geometry: "+a.getCoordinates().length+" vertices"))}f=[];if(a.getGeometryType()==ol.geom.GeometryType.MULTI_POLYGON)for(g=a.getNumGeometries(),c=0;c<g;c++){var h=a.getGeometryN(c);h&&f.push(h)}else f.push(a);
c=0;for(g=f.length;c<g;c++){h=f[c].getCoordinates();f[c].nVert=h.length;f[c].vertX=[];f[c].vertY=[];for(var k=0;k<f[c].nVert;k++)f[c].vertX.push(h[k].x),f[c].vertY.push(h[k].y)}c=0;for(g=b.length;c<g;c++)(f=b[c].getGeometry())&&this.isGeometryInArea_(a,f,d)&&e.push(b[c])}return e};
os.source.Vector.prototype.isGeometryInArea_=function(a,b,c){var d=!1;switch(b.getType()){case ol.geom.GeometryType.GEOMETRY_COLLECTION:if(c=b.getGeometriesArray()){b=0;for(var e=c.length;b<e;b++){var f=c[b];if(f&&this.isGeometryInArea_(a,f,!1)){d=!0;break}}}break;case ol.geom.GeometryType.MULTI_POINT:if(c=b.getPoints())for(b=0,e=c.length;b<e;b++)if((f=c[b])&&this.isGeometryInArea_(a,f,!1)){d=!0;break}break;case ol.geom.GeometryType.MULTI_POLYGON:if(c=b.getPolygons())for(b=0,e=c.length;b<e;b++)if((f=
c[b])&&this.isGeometryInArea_(a,f,!1)){d=!0;break}break;case ol.geom.GeometryType.LINE_STRING:case ol.geom.GeometryType.LINEAR_RING:case ol.geom.GeometryType.POLYGON:case ol.geom.GeometryType.CIRCLE:case ol.geom.GeometryType.MULTI_LINE_STRING:d=os.geo.jsts.OLParser.getInstance().read(b);d=null!=d&&(a.contains(d)||a.crosses(d)||a.overlaps(d));break;case ol.geom.GeometryType.POINT:f=b.flatCoordinates[0];var g=b.flatCoordinates[1],h=[];if(a.getGeometryType()==ol.geom.GeometryType.MULTI_POLYGON)for(e=
a.getNumGeometries(),b=0;b<e;b++){var k=a.getGeometryN(b);k&&h.push(k)}else h.push(a);b=0;for(e=h.length;b<e;b++){if(c||os.geo.isCoordInArea(f,g,h[b].vertX,h[b].vertY,h[b].nVert)){d=!0;break}d=!1}}return d};os.source.Vector.prototype.isSelected=function(a){return("object"==typeof a?a.id:a)in this.selectedById_};os.source.Vector.prototype.forEachFeature=function(a,b){this.getFeatures().forEach(a,b)};os.source.Vector.prototype.getSelectedItems=function(){return this.selected_.slice()};
os.source.Vector.prototype.setSelectedItems=function(a){goog.isArray(a)||(a=[a]);if(this.selected_!==a){var b=this.selected_.slice();this.selected_.length=0;for(var c=b.length;c--;)this.deselect(b[c]);if(a&&0<a.length)for(c=a.length;c--;)this.select(a[c]);os.style.setFeaturesStyle(b,this);os.style.setFeaturesStyle(this.selected_,this);this.dispatchEvent(new os.events.PropertyChangeEvent(os.events.SelectionType.CHANGED,this.selected_,b));this.changed()}};
os.source.Vector.prototype.addToSelected=function(a){goog.isArray(a)||(a=[a]);if(a&&0<a.length){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c];this.select(e)&&b.push(e)}0<b.length&&(os.style.setFeaturesStyle(b,this),this.dispatchEvent(new os.events.PropertyChangeEvent(os.events.SelectionType.ADDED,b)),this.changed())}};
os.source.Vector.prototype.removeFromSelected=function(a){goog.isArray(a)||(a=[a]);if(a&&0<a.length){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c];this.deselect(e)&&b.push(e)}0<b.length&&(os.style.setFeaturesStyle(b,this),this.dispatchEvent(new os.events.PropertyChangeEvent(os.events.SelectionType.REMOVED,b)),this.changed())}};
os.source.Vector.prototype.selectAll=function(){for(var a=[],b=this.getFilteredFeatures(),c=0,d=b.length;c<d;c++)this.select(b[c])&&a.push(b[c]);0<a.length&&(os.style.setFeaturesStyle(a,this),this.dispatchEvent(new os.events.PropertyChangeEvent(os.events.SelectionType.ADDED,a)),this.changed())};
os.source.Vector.prototype.selectNone=function(){var a=this.selected_.length;if(0<a){var b=this.selected_.slice();this.selected_.length=0;for(this.selectedById_={};a--;)b[a].set(os.style.StyleType.SELECT,null);os.style.setFeaturesStyle(b,this);this.dispatchEvent(new os.events.PropertyChangeEvent(os.events.SelectionType.REMOVED,b));this.changed()}};
os.source.Vector.prototype.select=function(a){if(a){var b=a.id;if(null!=b&&!this.selectedById_[b]&&null!=a.id_&&this.idIndex_[a.id_]&&this.shownRecordMap[a.id_])return goog.array.binaryInsert(this.selected_,a,os.feature.idCompare),this.selectedById_[b]=!0,a.set(os.style.StyleType.SELECT,os.style.DEFAULT_SELECT_CONFIG),!0}return!1};
os.source.Vector.prototype.deselect=function(a){if(a){var b=a.id;if(null!=b&&this.selectedById_[b])return goog.array.binaryRemove(this.selected_,a,os.feature.idCompare),delete this.selectedById_[b],a.set(os.style.StyleType.SELECT,null),!0}return!1};os.source.Vector.prototype.displayAll=function(){this.showFeatures(this.getFeatures())};os.source.Vector.prototype.hideAll=function(){this.hideFeatures(this.getFeatures())};
os.source.Vector.prototype.hideFeatures=function(a){goog.isArray(a)||(a=[a]);this.updateFeaturesVisibility(a,!1)};os.source.Vector.prototype.showFeatures=function(a){goog.isArray(a)||(a=[a]);this.updateFeaturesVisibility(a,!0)};os.source.Vector.prototype.hideSelected=function(){this.hideFeatures(this.selected_)};os.source.Vector.prototype.hideUnselected=function(){this.hideFeatures(this.getUnselectedItems())};
os.source.Vector.prototype.getHiddenItems=function(){var a=this.shownRecordMap;return this.getFeatures().filter(function(b){return b&&!a[b.id_]})};os.source.Vector.prototype.getUnselectedItems=function(){return this.getFilteredFeatures().filter(function(a){return a&&!this.isSelected(a)},this)};
os.source.Vector.prototype.updateFeaturesVisibility=function(a,b){for(var c=[],d=[],e=b,f=0,g=a.length;f<g;f++){var h=a[f],k=h.id_;null!=k&&b!=this.shownRecordMap[k]&&(this.shownRecordMap[k]=b,b?h.values_[os.style.StyleField.LAST_SHOW_LABELS]&&(os.feature.showLabel(h),h.values_[os.style.StyleField.LAST_SHOW_LABELS]=void 0,e=!0):(os.feature.hideLabel(h)&&(e=h.values_[os.style.StyleField.LAST_SHOW_LABELS]=!0),d.push(h)),c.push(h))}0<d.length&&this.removeFromSelected(d);0<c.length&&(this.timeModel&&
(this.timeModel.addDimension("hidden",this.isHidden.bind(this)),this.timeModel.filterDimension("hidden",!1),this.rangeCollections_={},this.updateAnimationOverlay()),e&&this.updateLabels(),this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.FEATURE_VISIBILITY,c)))};os.source.Vector.prototype.updateLabels=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.getId());a&&a[os.style.StyleField.LABELS]&&a[os.style.StyleField.SHOW_LABELS]&&os.style.label.updateShown()};
os.source.Vector.prototype.handleFeatureHover=function(a){null!=this.hoverHandler_&&this.hoverHandler_(a)||this.defaultFeatureHover_(a)};os.source.Vector.prototype.setHoverHandler=function(a,b){a=a||void 0;b=b||this;this.hoverHandler_=goog.isDef(a)?a.bind(b):void 0};os.source.Vector.prototype.defaultFeatureHover_=function(a){this.setHighlightedItems(a?[a]:null)};
os.source.Vector.prototype.persist=function(a){a=a||{};a.shapeName=this.getGeometryShape();a.centerShapeName=this.getCenterGeometryShape();a.timeEnabled=this.getTimeEnabled();a.altitudeEnabled=this.hasAltitudeEnabled();a.refreshInterval=this.refreshInterval;this.colorModel&&(a.colorModel=this.colorModel.persist());return a};
os.source.Vector.prototype.restore=function(a){a.shapeName&&this.setGeometryShape(a.shapeName);a.centerShapeName&&this.setCenterGeometryShape(a.centerShapeName);void 0!=a.timeEnabled&&this.setTimeEnabled(a.timeEnabled);null!=a.columnDetectLimit&&this.setColumnAutoDetectLimit(a.columnDetectLimit);void 0!=a.altitudeEnabled&&this.setAltitudeEnabled(a.altitudeEnabled);a.refreshInterval&&this.setRefreshInterval(a.refreshInterval);if(a.colorModel){var b=this.createColorModel();b.restore(a.colorModel);this.setColorModel(b)}};os.source.Request=function(a){os.source.Vector.call(this,a);this.log=os.source.Request.LOGGER_;this.refreshEnabled=!0;this.request=this.importer=null;this.durationStart=0;this.useCache_=!0;this.lockAfterQuery_=!1;os.dispatcher.listen(os.data.event.DataEventType.MAX_FEATURES,this.onMaxFeaturesReached_,!1,this)};goog.inherits(os.source.Request,os.source.Vector);os.implements(os.source.Request,os.source.IImportSource.ID);os.source.Request.NAME="os.source.Request";
os.registerClass(os.source.Request.NAME,os.source.Request);os.source.Request.LOGGER_=goog.log.getLogger(os.source.Request.NAME);os.source.Request.prototype.clear=function(){this.abortRequest();this.importer&&this.importer.reset();os.source.Request.superClass_.clear.call(this)};
os.source.Request.prototype.disposeInternal=function(){os.source.Request.superClass_.disposeInternal.call(this);os.dispatcher.unlisten(os.data.event.DataEventType.MAX_FEATURES,this.onMaxFeaturesReached_,!1,this);this.setRequest(null);this.setImporter(null)};os.source.Request.prototype.onMaxFeaturesReached_=function(a){this.abortRequest()};os.source.Request.prototype.abortRequest=function(){this.isLoading()&&(this.setLoading(!1),this.request&&this.request.abort())};
os.source.Request.prototype.loadRequest=function(){if(this.request&&!this.isLocked()){5E4<this.getFeatureCount()?this.clear():this.toClear=this.getFeatures().slice();this.abortRequest();this.durationStart=goog.now();this.setLoading(!0);try{this.request.load(!this.useCache_),this.lockAfterQuery_&&this.setLocked(!0)}catch(a){this.handleError("There was an error loading the request. Please see the log for more details.")}}};
os.source.Request.prototype.setLocked=function(a){var b=this.isLocked();os.source.Request.superClass_.setLocked.call(this,a);b&&!a&&this.refresh();this.setLockAfterQuery(!1)};os.source.Request.prototype.setLockAfterQuery=function(a){this.lockAfterQuery_=a};os.source.Request.prototype.refresh=function(){this.isLocked()||(this.importer&&this.importer.reset(),this.request&&this.loadRequest())};os.source.Request.prototype.getImporter=function(){return this.importer};
os.source.Request.prototype.setImporter=function(a){a!==this.importer&&(this.importer&&(this.importer.unlisten(os.thread.EventType.PROGRESS,this.onImportProgress,!1,this),this.importer.unlisten(os.events.EventType.COMPLETE,this.onImportComplete,!1,this),this.importer.reset()),this.importer=a)&&(this.importer.listen(os.thread.EventType.PROGRESS,this.onImportProgress,!1,this),this.importer.listen(os.events.EventType.COMPLETE,this.onImportComplete,!1,this))};os.source.Request.prototype.getRequest=function(){return this.request};
os.source.Request.prototype.setRequest=function(a){a!==this.request&&(this.request&&(this.request.unlisten(goog.net.EventType.SUCCESS,this.onRequestComplete,!1,this),this.request.unlisten(goog.net.EventType.ERROR,this.onRequestError,!1,this),this.isLoading()&&this.setLoading(!1),this.request.dispose()),this.request=a)&&(this.request.listen(goog.net.EventType.SUCCESS,this.onRequestComplete,!1,this),this.request.listen(goog.net.EventType.ERROR,this.onRequestError,!1,this))};
os.source.Request.prototype.onRequestComplete=function(a){var b="Request complete for "+this.getTitle()+this.urlLogString()+this.durationString();goog.log.info(this.log,b);a=a.target;b=a.getResponse();a.clearResponse();this.doImport(b)};os.source.Request.prototype.onRequestError=function(a){a="There was an error loading the data source: "+this.request.getErrors().join(" ");this.handleError(a)};
os.source.Request.prototype.handleError=function(a,b){os.alert.AlertManager.getInstance().sendAlert(a,os.alert.AlertEventSeverity.ERROR);goog.log.error(this.log,a,b);this.setLoading(!1)};os.source.Request.prototype.doImport=function(a){this.importer?(this.setLoading(!0),this.importer.startImport(a)):(a='No importer set on source "'+this.getTitle()+'"!',this.handleError(a))};os.source.Request.prototype.onImportProgress=function(a){this.importer&&this.addFeatures(this.importer.getData())};
os.source.Request.prototype.onImportComplete=function(a){this.onImportProgress(a);this.setLoading(!1);a="Import complete for "+this.getTitle()+this.urlLogString()+this.durationString();goog.log.info(this.log,a)};os.source.Request.prototype.onImporterError=function(a){this.setLoading(!1);a="Import completed with errors for "+this.getTitle()+this.urlLogString();goog.log.warning(this.log,a)};
os.source.Request.prototype.durationString=function(){var a=goog.now(),b=" in "+os.time.formatDate(new Date(a-this.durationStart),"mm:ss.SSS");this.durationStart=a;return b};os.source.Request.prototype.urlLogString=function(){var a="";this.request&&this.request.getUri()&&(a+=" ("+this.request.getUri().toString()+")");return a};os.source.Request.prototype.getUseCache=function(){return this.useCache_};os.source.Request.prototype.setUseCache=function(a){this.useCache_=a};goog.crypt.hash32={};goog.crypt.hash32.SEED32=314159265;goog.crypt.hash32.CONSTANT32=-1640531527;goog.crypt.hash32.encodeString=function(a){return goog.crypt.hash32.encodeByteArray(goog.crypt.stringToByteArray(a))};goog.crypt.hash32.encodeStringUtf8=function(a){return goog.crypt.hash32.encodeByteArray(goog.crypt.stringToUtf8ByteArray(a))};goog.crypt.hash32.encodeInteger=function(a){return goog.crypt.hash32.mix32_({a:a,b:goog.crypt.hash32.CONSTANT32,c:goog.crypt.hash32.SEED32})};
goog.crypt.hash32.encodeByteArray=function(a,b,c,d){b=b||0;c=c||a.length;d={a:goog.crypt.hash32.CONSTANT32,b:goog.crypt.hash32.CONSTANT32,c:d||goog.crypt.hash32.SEED32};var e;for(e=c;12<=e;e-=12,b+=12)d.a+=goog.crypt.hash32.wordAt_(a,b),d.b+=goog.crypt.hash32.wordAt_(a,b+4),d.c+=goog.crypt.hash32.wordAt_(a,b+8),goog.crypt.hash32.mix32_(d);d.c+=c;switch(e){case 11:d.c+=a[b+10]<<24;case 10:d.c+=(a[b+9]&255)<<16;case 9:d.c+=(a[b+8]&255)<<8;case 8:d.b+=goog.crypt.hash32.wordAt_(a,b+4);d.a+=goog.crypt.hash32.wordAt_(a,
b);break;case 7:d.b+=(a[b+6]&255)<<16;case 6:d.b+=(a[b+5]&255)<<8;case 5:d.b+=a[b+4]&255;case 4:d.a+=goog.crypt.hash32.wordAt_(a,b);break;case 3:d.a+=(a[b+2]&255)<<16;case 2:d.a+=(a[b+1]&255)<<8;case 1:d.a+=a[b+0]&255}return goog.crypt.hash32.mix32_(d)};goog.crypt.hash32.mix32_=function(a){var b=a.a,c=a.b,d=a.c;b=b-c-d^d>>>13;c=c-d-b^b<<8;d-=b;d=d-c^c>>>13;b-=c;b-=d;b^=d>>>12;c=c-d-b^b<<16;d-=b;d=d-c^c>>>5;b-=c;b-=d;b^=d>>>3;c=c-d-b^b<<10;d-=b;d=d-c^c>>>15;a.a=b;a.b=c;return a.c=d};
goog.crypt.hash32.wordAt_=function(a,b){var c=goog.crypt.hash32.toSigned_(a[b+0]),d=goog.crypt.hash32.toSigned_(a[b+1]),e=goog.crypt.hash32.toSigned_(a[b+2]);a=goog.crypt.hash32.toSigned_(a[b+3]);return c+(d<<8)+(e<<16)+(a<<24)};goog.crypt.hash32.toSigned_=function(a){return 127<a?a-256:a};os.ui.IconsSVG={FEATURES:'<image xlink:href="'+os.ROOT+'images/features-base.png" x="0" y="0" width="16px" height="16px"><title>Feature layer</title></image>',TILES:'<image xlink:href="'+os.ROOT+'images/tiles-base.png" x="0" y="0" width="16px" height="16px"><title>Tile layer</title></image>',TIME:'<image class="time-icon" xlink:href="'+os.ROOT+'images/time-base.png" x="0" y="0" width="16px" height="16px"><title>This layer supports animation over time</title></image>',LOCK:'<image xlink:href="'+os.ROOT+
'images/lock_tiny_white.png" x="0" y="0" width="16px" height="16px"><title>This layer is locked.</title></image>'};
os.ui.Icons={DAYNIGHT:'<i class="fa fa-sun-o"></i><i class="fa fa-moon-o"></i>',FEATURES:'<img src="'+os.ROOT+'images/features-base.png" title="Feature layer"/>',STATE:'<i class="fa fa-bookmark" title="State file"/>',TERRAIN:'<i class="fa fa-area-chart" title="This layer provides terrain in 3D mode"></i>',TILES:'<img src="'+os.ROOT+'images/tiles-base.png" title="Tile layer"/>',TIME:'<img class="time-icon" src="'+os.ROOT+'images/time-base.png" title="This layer supports animation over time"/>',DEPRECATED:'<i class="fa fa-exclamation-circle red-icon" title="This layer is soon to be deleted"></i>',
LOCK:'<i class="fa fa-lock" title="This layer is locked."></i>',COLOR_MODEL:'<i class="fa fa-tint" title="This layer has auto/manual coloring rules applied"></i>'};os.ui.white_=[255,255,255];os.ui.ICON_WIDTH=16;
os.ui.createIconSet=function(a,b,c,d){var e="";a=os.ui.hashIconId(a);if(b&&0<b.length){var f=goog.isString(d)?os.color.toRgbArray(d):d;f=os.color.changeColor(os.ui.white_,f||os.ui.white_);e=e+('<svg width="'+os.ui.ICON_WIDTH*b.length+'px" height="16px" style="vertical-align:middle" xmlns="http://www.w3.org/2000/svg" filter="url(#filter_'+a+')">')+b.join("");os.ui.xReplaceI_=0;e=e.replace(/x="(\d+)"/g,os.ui.xReplace_);e=e+('<filter id="filter_'+a+'">')+('<feColorMatrix id="matrix_'+a+'" values="'+
f.join(" ")+'"/>');e+="</filter></svg>"}if(c&&0<c.length)for(b=os.color.toHexString(d),d=0,f=c.length;d<f;d++){var g=c[d].replace('class="','class="layer-icon-'+a+" ");g=g.replace(">",' style="color:'+b+'">');e+=g}return e};os.ui.hashIconId=function(a){return String(goog.crypt.hash32.encodeString(a))};os.ui.xReplaceI_=0;os.ui.xReplace_=function(a,b,c,d){c=os.ui.xReplaceI_*os.ui.ICON_WIDTH;os.ui.xReplaceI_++;return a.replace(b,c.toString())};
os.ui.adjustIconSet=function(a,b){goog.isString(b)&&(b=os.color.toRgbArray(b));var c=os.color.changeColor(os.ui.white_,b||os.ui.white_);a=os.ui.hashIconId(a);angular.element("#matrix_"+a).attr("values",c.join(" "));b=os.color.toHexString(b||os.ui.white_);angular.element("i.fa.layer-icon-"+a).css("color",b)};os.command.VectorLayerAutoRefresh=function(a,b){this.isAsync=!1;this.title="Change Layer Auto Refresh";this.details=null;this.state=os.command.State.READY;this.layerId=a;this.oldInterval=0;this.interval=b};
os.command.VectorLayerAutoRefresh.prototype.getSource=function(){var a=os.MapContainer.getInstance().getLayer(this.layerId);if(!a)return this.state=os.command.State.ERROR,this.details='Unable to locate layer with id "'+this.layerId+'".',null;a=a.getSource();return a instanceof os.source.Vector&&a.isRefreshEnabled()?a:(this.state=os.command.State.ERROR,this.details='Source for layer with id "'+this.layerId+'" does not support refresh.',null)};
os.command.VectorLayerAutoRefresh.prototype.execute=function(){this.state=os.command.State.EXECUTING;var a=this.getSource();return a?(this.oldInterval=a.getRefreshInterval(),a.setRefreshInterval(this.interval),os.metrics.Metrics.getInstance().updateMetric(os.metrics.Layer.VECTOR_AUTO_REFRESH,1),this.state=os.command.State.SUCCESS,!0):!1};
os.command.VectorLayerAutoRefresh.prototype.revert=function(){this.state=os.command.State.REVERTING;var a=this.getSource();return a?(a.setRefreshInterval(this.oldInterval),this.state=os.command.State.READY,!0):!1};os.command.AbstractStyle=function(a,b,c){this.isAsync=!1;this.title="Change Style";this.details=null;this.state=os.command.State.READY;this.layerId=a;this.oldValue=null!=c?c:this.getOldValue();this.value=b;this.metricKey=null};os.command.AbstractStyle.prototype.execute=function(){return this.canExecute()?(this.state=os.command.State.EXECUTING,this.setValue(this.value),this.metricKey&&os.metrics.Metrics.getInstance().updateMetric(this.metricKey,1),this.state=os.command.State.SUCCESS,!0):!1};
os.command.AbstractStyle.prototype.revert=function(){this.state=os.command.State.REVERTING;this.setValue(this.oldValue);this.state=os.command.State.READY;return!0};os.command.AbstractStyle.prototype.canExecute=function(){return this.state!==os.command.State.READY?(this.details="Command not in ready state.",!1):this.layerId?goog.isDef(this.value)?!0:(this.state=os.command.State.ERROR,this.details="Value not provided",!1):(this.state=os.command.State.ERROR,this.details="Layer ID not provided.",!1)};
os.command.AbstractStyle.prototype.getOldValue=goog.abstractMethod;os.command.AbstractStyle.prototype.applyValue=goog.abstractMethod;os.command.AbstractStyle.prototype.finish=function(a){};os.command.AbstractStyle.prototype.getLayerConfig=function(a){return a instanceof os.layer.Tile?a.getLayerOptions():a instanceof os.layer.Vector?os.style.StyleManager.getInstance().getLayerConfig(a.getId()):null};
os.command.AbstractStyle.prototype.setValue=function(a){goog.asserts.assert(null!=a,"style value must be defined");var b=this.getLayer();goog.asserts.assert(b,"layer must be defined");b=this.getLayerConfig(b);goog.asserts.assert(b,"layer config must be defined");this.applyValue(b,a);this.finish(b)};os.command.AbstractStyle.prototype.getLayer=function(){return os.MapContainer.getInstance().getLayer(this.layerId)};os.command.AbstractVectorStyle=function(a,b,c){os.command.AbstractStyle.call(this,a,b,c)};goog.inherits(os.command.AbstractVectorStyle,os.command.AbstractStyle);os.command.AbstractVectorStyle.prototype.getLayerConfig=function(a){return a?os.style.StyleManager.getInstance().getLayerConfig(a.getId()):null};
os.command.AbstractVectorStyle.prototype.applyValue=function(a,b){a=os.osDataManager.getSource(this.layerId);goog.asserts.assert(a,"source must be defined");os.style.setFeaturesStyle(a.getFeatures());a.refreshAnimationFade()};os.command.AbstractVectorStyle.prototype.finish=function(a){a=os.MapContainer.getInstance().getLayer(this.layerId);goog.asserts.assert(a);os.style.notifyStyleChange(a)};os.command.VectorLayerCenterShape=function(a,b,c){os.command.AbstractVectorStyle.call(this,a,b,c);this.title="Change Center Style";a=b?b.replace(/ /g,"_"):"Unknown";this.metricKey=os.metrics.Layer.VECTOR_CENTER_SHAPE+os.metrics.SUB_DELIMITER+a};goog.inherits(os.command.VectorLayerCenterShape,os.command.AbstractVectorStyle);os.command.VectorLayerCenterShape.prototype.getOldValue=function(){var a,b=os.osDataManager.getSource(this.layerId);b&&(a=b.getCenterGeometryShape());return a||os.style.DEFAULT_CENTER_SHAPE};
os.command.VectorLayerCenterShape.prototype.applyValue=function(a,b){var c=os.osDataManager.getSource(this.layerId);c&&b&&(c.setCenterGeometryShape(b),b!=os.style.ShapeType.ICON||os.style.getConfigIcon(a)||os.style.setConfigIcon(a,os.ui.file.kml.getDefaultIcon()));os.command.VectorLayerCenterShape.superClass_.applyValue.call(this,a,b)};
os.command.VectorLayerCenterShape.prototype.finish=function(a){os.osDataManager.getSource(this.layerId).dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.GEOMETRY_CENTER_SHAPE,this.value,this.oldValue));os.command.VectorLayerCenterShape.superClass_.finish.call(this,a)};os.command.VectorLayerColor=function(a,b,c){os.command.AbstractVectorStyle.call(this,a,b,c);this.title="Change Color";this.metricKey=os.metrics.Layer.VECTOR_COLOR;!b&&(a=os.MapContainer.getInstance().getLayer(this.layerId))&&(b=(b=a.getLayerOptions())&&b.baseColor||os.command.VectorLayerColor.DEFAULT_COLOR);this.value=os.style.toRgbaString(b)};goog.inherits(os.command.VectorLayerColor,os.command.AbstractVectorStyle);os.command.VectorLayerColor.DEFAULT_COLOR="rgba(255,255,255,1)";
os.command.VectorLayerColor.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return a?os.style.getConfigColor(a):os.command.VectorLayerColor.DEFAULT_COLOR};os.command.VectorLayerColor.prototype.applyValue=function(a,b){var c=os.style.toRgbaString(b);os.style.setConfigColor(a,c);os.ui.adjustIconSet(this.layerId,c);os.command.VectorLayerColor.superClass_.applyValue.call(this,a,b)};
os.command.VectorLayerColor.prototype.finish=function(a){var b=os.osDataManager.getSource(this.layerId);b.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.COLOR,this.value));b instanceof os.source.Vector&&b.setColorModel(null);os.command.VectorLayerColor.superClass_.finish.call(this,a)};os.command.VectorLayerIcon=function(a,b,c){os.command.AbstractVectorStyle.call(this,a,b,c);this.title="Change Icon";this.metricKey=os.metrics.Layer.VECTOR_ICON};goog.inherits(os.command.VectorLayerIcon,os.command.AbstractVectorStyle);os.command.VectorLayerIcon.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return os.style.getConfigIcon(a)||os.ui.file.kml.getDefaultIcon()};
os.command.VectorLayerIcon.prototype.applyValue=function(a,b){b&&os.style.setConfigIcon(a,b);os.command.VectorLayerIcon.superClass_.applyValue.call(this,a,b)};os.command.VectorLayerIcon.prototype.finish=function(a){var b=os.osDataManager.getSource(this.layerId);b&&b.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.GEOMETRY_SHAPE));os.command.VectorLayerIcon.superClass_.finish.call(this,a)};os.command.VectorLayerLabel=function(a,b,c){os.command.AbstractVectorStyle.call(this,a,b,c);this.title="Change Label";this.metricKey=os.metrics.Layer.LABEL_COLUMN_SELECT;this.value=b||[os.style.label.cloneConfig()]};goog.inherits(os.command.VectorLayerLabel,os.command.AbstractVectorStyle);os.command.VectorLayerLabel.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return a&&a[os.style.StyleField.LABELS]||[os.style.label.cloneConfig()]};
os.command.VectorLayerLabel.prototype.applyValue=function(a,b){a[os.style.StyleField.LABELS]=b;os.command.VectorLayerLabel.superClass_.applyValue.call(this,a,b)};os.command.VectorLayerLabel.prototype.finish=function(a){os.osDataManager.getSource(this.layerId).dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.LABEL,this.value));os.style.label.updateShown();os.command.VectorLayerLabel.superClass_.finish.call(this,a)};os.command.VectorLayerLabelColor=function(a,b,c){os.command.AbstractVectorStyle.call(this,a,b,c);this.title="Change Label Color";this.metricKey=os.metrics.Layer.LABEL_COLOR;""!=b&&(this.value=os.style.toRgbaString(b))};goog.inherits(os.command.VectorLayerLabelColor,os.command.AbstractVectorStyle);os.command.VectorLayerLabelColor.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return a&&a[os.style.StyleField.LABEL_COLOR]||""};
os.command.VectorLayerLabelColor.prototype.applyValue=function(a,b){a[os.style.StyleField.LABEL_COLOR]=b;os.command.VectorLayerLabelColor.superClass_.applyValue.call(this,a,b)};os.command.VectorLayerLabelSize=function(a,b,c){os.command.AbstractVectorStyle.call(this,a,b,c);this.title="Change Label Size";this.metricKey=os.metrics.Layer.LABEL_SIZE};goog.inherits(os.command.VectorLayerLabelSize,os.command.AbstractVectorStyle);os.command.VectorLayerLabelSize.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return a?a[os.style.StyleField.LABEL_SIZE]:void 0};
os.command.VectorLayerLabelSize.prototype.applyValue=function(a,b){a[os.style.StyleField.LABEL_SIZE]=b;os.command.VectorLayerLabelSize.superClass_.applyValue.call(this,a,b)};os.command.VectorLayerLabelSize.prototype.finish=function(a){os.style.label.updateShown();os.command.VectorLayerLabelSize.superClass_.finish.call(this,a)};os.command.VectorLayerReplaceStyle=function(a,b){os.command.AbstractVectorStyle.call(this,a,b);this.title="Force Layer Color";this.metricKey=os.metrics.Layer.FORCE_LAYER_COLOR};goog.inherits(os.command.VectorLayerReplaceStyle,os.command.AbstractVectorStyle);os.command.VectorLayerReplaceStyle.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return a?!!a[os.style.StyleField.REPLACE_STYLE]:!1};
os.command.VectorLayerReplaceStyle.prototype.applyValue=function(a,b){a[os.style.StyleField.REPLACE_STYLE]=b;os.command.VectorLayerReplaceStyle.superClass_.applyValue.call(this,a,b);a=os.osDataManager.getSource(this.layerId);goog.asserts.assert(a,"source must be defined");a.setHighlightedItems(a.getHighlightedItems())};
os.command.VectorLayerReplaceStyle.prototype.finish=function(a){os.osDataManager.getSource(this.layerId).dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.REPLACE_STYLE,this.value));os.command.VectorLayerReplaceStyle.superClass_.finish.call(this,a)};os.command.VectorLayerShape=function(a,b,c){os.command.AbstractVectorStyle.call(this,a,b,c);this.title="Change Style";a=b?b.replace(/ /g,"_"):"Unknown";this.metricKey=os.metrics.Layer.VECTOR_SHAPE+os.metrics.SUB_DELIMITER+a};goog.inherits(os.command.VectorLayerShape,os.command.AbstractVectorStyle);os.command.VectorLayerShape.prototype.getOldValue=function(){var a,b=os.osDataManager.getSource(this.layerId);b&&(a=b.getGeometryShape());return a||os.style.DEFAULT_SHAPE};
os.command.VectorLayerShape.prototype.applyValue=function(a,b){var c=os.osDataManager.getSource(this.layerId);c&&b&&(c.setGeometryShape(b),b!=os.style.ShapeType.ICON||os.style.getConfigIcon(a)||os.style.setConfigIcon(a,os.ui.file.kml.getDefaultIcon()));os.command.VectorLayerShape.superClass_.applyValue.call(this,a,b)};
os.command.VectorLayerShape.prototype.finish=function(a){os.osDataManager.getSource(this.layerId).dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.GEOMETRY_SHAPE,this.value,this.oldValue));os.command.VectorLayerShape.superClass_.finish.call(this,a)};os.command.VectorLayerShowLabel=function(a,b,c){os.command.AbstractVectorStyle.call(this,a,b,c);this.metricKey=os.metrics.Layer.LABEL_TOGGLE;this.value=b||!1;this.title=b?"Show Labels":"Hide Labels"};goog.inherits(os.command.VectorLayerShowLabel,os.command.AbstractVectorStyle);os.command.VectorLayerShowLabel.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return a&&a[os.style.StyleField.SHOW_LABELS]||!1};
os.command.VectorLayerShowLabel.prototype.applyValue=function(a,b){a[os.style.StyleField.SHOW_LABELS]=b;if(!b){var c=os.osDataManager.getSource(this.layerId);goog.asserts.assert(c);var d=[];c.forEachFeature(function(a){os.feature.hideLabel(a)&&d.push(a)});0<d.length&&(os.style.setFeaturesStyle(d),c.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.STYLE,d)))}os.command.VectorLayerShowLabel.superClass_.applyValue.call(this,a,b)};
os.command.VectorLayerShowLabel.prototype.finish=function(a){os.style.label.updateShown();os.command.VectorLayerShowLabel.superClass_.finish.call(this,a)};os.command.VectorLayerSize=function(a,b,c){os.command.AbstractVectorStyle.call(this,a,b,c);this.title="Change Size";this.metricKey=os.metrics.Layer.VECTOR_SIZE};goog.inherits(os.command.VectorLayerSize,os.command.AbstractVectorStyle);os.command.VectorLayerSize.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return os.style.getConfigSize(a)};
os.command.VectorLayerSize.prototype.applyValue=function(a,b){os.style.setConfigSize(a,b);os.command.VectorLayerSize.superClass_.applyValue.call(this,a,b)};os.ui.icon={};os.ui.icon.IconSelectorManager=function(){os.data.CollectionManager.call(this);this.add({id:"google_icons",name:"Google Icons",html:'<iconpalette accept-callback="acceptCallback" selected="selected" icon-set="iconSet" icon-src="iconSrc"></iconpalette>'})};goog.inherits(os.ui.icon.IconSelectorManager,os.data.CollectionManager);goog.addSingletonGetter(os.ui.icon.IconSelectorManager);os.ui.icon.ICON_PALETTE_TEMPLATE='<div ng-repeat="icon in iconSet" ng-click="palette.pick(icon.path)" title="{{icon.title}}" class="iconchooser" ng-class="{\'selected\' : icon.path === selected.path}"><img ng-src="{{palette.getIconSrc(icon.path)}}"/></div>';os.ui.icon.iconPaletteDirective=function(){return{restrict:"E",scope:{selected:"=",acceptCallback:"=",iconSet:"=",iconSrc:"=?"},template:os.ui.icon.ICON_PALETTE_TEMPLATE,controller:os.ui.icon.IconPaletteCtrl,controllerAs:"palette"}};
os.ui.Module.directive("iconpalette",[os.ui.icon.iconPaletteDirective]);os.ui.icon.IconPaletteEventType={SELECTED:"palette.selected"};os.ui.icon.IconPaletteCtrl=function(a){this.scope_=a;var b=this.scope_.iconSet?this.scope_.iconSet:[];if(this.scope_.selected&&b){var c=this.scope_.selected;if(c&&c.path)for(var d=0;d<b.length;d++)if(b[d].path==c.path){this.pick(b[d].path);break}}a.$on("$destroy",this.destroy_.bind(this))};os.ui.icon.IconPaletteCtrl.prototype.destroy_=function(){this.scope_=null};
os.ui.icon.IconPaletteCtrl.prototype.getIconSrc=function(a){return this.scope_&&this.scope_.iconSrc?this.scope_.iconSrc(a):a};goog.exportProperty(os.ui.icon.IconPaletteCtrl.prototype,"getIconSrc",os.ui.icon.IconPaletteCtrl.prototype.getIconSrc);os.ui.icon.IconPaletteCtrl.prototype.pick=function(a){this.scope_.selected.path=a;os.ui.apply(this.scope)};goog.exportProperty(os.ui.icon.IconPaletteCtrl.prototype,"pick",os.ui.icon.IconPaletteCtrl.prototype.pick);os.ui.list={};os.ui.list.ListEventType={CHANGE:"list:change"};os.ui.list.map_={};os.ui.list.dispatcher_=new goog.events.EventTarget;os.ui.list.add=function(a,b,c){var d=os.ui.list.map_;a in d||(d[a]=[]);d[a].push({markup:b,priority:c||0});d[a].sort(os.ui.list.sort_);os.ui.list.dispatcher_.dispatchEvent(new os.events.PropertyChangeEvent(a))};
os.ui.list.remove=function(a,b){var c=os.ui.list.map_[a];if(c){var d=goog.array.find(c,function(a){return a.markup==b});d&&(d.scope&&(d.scope.$destroy(),d.scope=void 0),goog.array.remove(c,d),os.ui.list.map_[a]=c,os.ui.list.dispatcher_.dispatchEvent(new os.events.PropertyChangeEvent(a,null,d)))}};os.ui.list.sort_=function(a,b){return a.priority-b.priority};os.ui.list.get=function(a){return os.ui.list.map_[a]||null};
os.ui.list.exists=function(a,b){var c=null;(a=os.ui.list.map_[a])&&(c=goog.array.find(a,function(a){return a.markup==b}));return!!c};os.ui.listDirective=function(){return{restrict:"A",controller:os.ui.ListCtrl,link:os.ui.listLink}};os.ui.Module.directive("list",[os.ui.listDirective]);os.ui.listLink=function(a,b,c,d){b=c.listId;d.id=b;if(a=os.ui.list.get(b)||a.$eval(c.listItems))d.items=a;d.prefix=c.listPrefix;d.suffix=c.listSuffix;d.update_()};
os.ui.ListCtrl=function(a,b,c){this.scope=a;this.element_=b;this.compile_=c;this.id=null;this.items=[];this.suffix=this.prefix="";os.ui.list.dispatcher_.listen(goog.events.EventType.PROPERTYCHANGE,this.onChange,!1,this);a.$on("$destroy",this.onDestroy_.bind(this))};
os.ui.ListCtrl.prototype.onDestroy_=function(){os.ui.list.dispatcher_.unlisten(goog.events.EventType.PROPERTYCHANGE,this.onChange,!1,this);this.compile_=this.element_=this.scope=null;this.items.forEach(function(a){a.element=void 0});this.items.length=0};os.ui.ListCtrl.prototype.onChange=function(a){var b=a.getOldValue(),c=a.getNewValue();a.getProperty()===this.id&&(b&&!c?(goog.dom.removeNode(b.element[0]),this.scope.$emit(os.ui.list.ListEventType.CHANGE)):this.update_())};
os.ui.ListCtrl.prototype.update_=function(){var a=os.ui.list.get(this.id||"")||this.items,b=this.prefix||"",c=this.suffix||"";if(a){for(var d=0,e=a.length;d<e;d++){var f=a[d];if(!f.element){var g=f.markup;-1===g.indexOf("<")&&(g="<"+g+"></"+g+">");g=b+g+c;if(this.scope){var h=this.scope.$new();f.element=this.compile_(g)(h);f.scope=h}}f.element&&this.element_.append(f.element)}this.scope.$emit(os.ui.list.ListEventType.CHANGE)}};os.ui.icon.ICON_SELECTORS="nav-icon-selectors";os.ui.icon.iconSelectorDirective=function(){return{restrict:"E",scope:{selected:"=",acceptCallback:"=",iconSet:"=",iconSrc:"=?"},templateUrl:os.ROOT+"views/icon/iconselector.html",controller:os.ui.icon.IconSelectorCtrl,controllerAs:"selector"}};os.ui.Module.directive("iconselector",[os.ui.icon.iconSelectorDirective]);
os.ui.icon.IconSelectorCtrl=function(a,b){this.scope_=a;this.element_=b;this.scope_.tabs=os.ui.icon.IconSelectorManager.getInstance().getAll();this.scope_.showtabs=1===this.scope_.tabs.length?!1:!0;this.scope_.activeTab=0<this.scope_.tabs.length?this.scope_.tabs[0].name:"";for(b=0;b<this.scope_.tabs.length;b++)os.ui.list.add(os.ui.icon.ICON_SELECTORS,'<div class="properties-tab tab" ng-show="activeTab == \''+this.scope_.tabs[b].name+"'\">"+this.scope_.tabs[b].html+"</div>",201);a.$on("$destroy",this.destroy_.bind(this))};
goog.inherits(os.ui.icon.IconSelectorCtrl,goog.events.EventTarget);os.ui.icon.IconSelectorCtrl.prototype.destroy_=function(){this.element_=this.scope_=null};os.ui.icon.IconSelectorCtrl.prototype.isValid=function(){return this.scope_.selected&&!!this.scope_.selected.path};goog.exportProperty(os.ui.icon.IconSelectorCtrl.prototype,"isValid",os.ui.icon.IconSelectorCtrl.prototype.isValid);os.ui.icon.IconSelectorCtrl.prototype.cancel=function(){this.close_()};
goog.exportProperty(os.ui.icon.IconSelectorCtrl.prototype,"cancel",os.ui.icon.IconSelectorCtrl.prototype.cancel);os.ui.icon.IconSelectorCtrl.prototype.close_=function(){os.ui.window.close(this.element_)};os.ui.icon.IconSelectorCtrl.prototype.okay=function(){this.scope_.acceptCallback&&this.scope_.acceptCallback(this.scope_.selected);this.close_()};goog.exportProperty(os.ui.icon.IconSelectorCtrl.prototype,"okay",os.ui.icon.IconSelectorCtrl.prototype.okay);
os.ui.icon.IconSelectorCtrl.prototype.setTab=function(a){this.scope_.activeTab=a};goog.exportProperty(os.ui.icon.IconSelectorCtrl.prototype,"setTab",os.ui.icon.IconSelectorCtrl.prototype.setTab);os.ui.icon.IconSelectorCtrl.prototype.getPath=function(a){return os.ui.file.kml.GMAPS_SEARCH.test(a)?os.ui.file.kml.replaceGoogleUri(a):a};goog.exportProperty(os.ui.icon.IconSelectorCtrl.prototype,"getPath",os.ui.icon.IconSelectorCtrl.prototype.getPath);os.ui.icon.ICON_PICKER_TEMPLATE='<button type="button" class="btn btn-default btn-icon-picker btn-invisible" ng-click="iconPicker.show()" ng-disabled=iconPicker.disabled><img ng-src="{{iconPicker.getPath(ngModel.path)}}" style="height:100%;width:100%;"/></button>';os.ui.icon.IconPickerEventType={CHANGE:"icon:change"};
os.ui.icon.iconPickerDirective=function(){return{restrict:"AE",scope:{disabled:"=",ngModel:"=",iconSet:"=",iconSrc:"=?"},template:os.ui.icon.ICON_PICKER_TEMPLATE,controller:os.ui.icon.IconPickerCtrl,controllerAs:"iconPicker"}};os.ui.Module.directive("iconpicker",[os.ui.icon.iconPickerDirective]);os.ui.icon.IconPickerCtrl=function(a){this.scope=a;this.disabled=this.scope.disabled||!this.scope.iconSet};
os.ui.icon.IconPickerCtrl.prototype.onSelection_=function(a){this.scope&&(this.scope.ngModel=a,this.scope.$emit(os.ui.icon.IconPickerEventType.CHANGE,a))};
os.ui.icon.IconPickerCtrl.prototype.show=function(){var a={acceptCallback:this.onSelection_.bind(this),icon:os.object.unsafeClone(this.scope.ngModel),iconSet:this.scope.iconSet,iconSrc:this.scope.iconSrc};os.ui.icon.IconPickerCtrl.launch('<iconselector accept-callback="acceptCallback" selected="icon" icon-set="iconSet" icon-src="iconSrc"></iconselector>',a)};os.ui.icon.IconPickerCtrl.prototype.getPath=function(a){return os.ui.file.kml.GMAPS_SEARCH.test(a)?os.ui.file.kml.replaceGoogleUri(a):a};
goog.exportProperty(os.ui.icon.IconPickerCtrl.prototype,"getPath",os.ui.icon.IconPickerCtrl.prototype.getPath);os.ui.icon.IconPickerCtrl.launch=function(a,b){os.ui.window.exists("iconselector")?os.ui.window.bringToFront("iconselector"):os.ui.window.create({id:"iconselector",label:"Choose an Icon",icon:"fa fa-flag",x:"center",y:"center",width:"510","min-width":"510","max-width":"800",height:"510","min-height":"510","max-height":"600","show-close":"true",modal:"true"},a,void 0,void 0,void 0,b)};os.ui.layer={};os.ui.layer.REFRESH_DURATIONS=[{label:"-- None --",interval:0},{label:"15 seconds",interval:15},{label:"30 seconds",interval:30},{label:"1 minute",interval:60},{label:"5 minutes",interval:300},{label:"10 minutes",interval:600},{label:"15 minutes",interval:900},{label:"30 minutes",interval:1800},{label:"1 hour",interval:3600},{label:"2 hours",interval:7200},{label:"3 hours",interval:10800},{label:"6 hours",interval:21600},{label:"12 hours",interval:43200},{label:"1 day",interval:86400}];
os.ui.layer.getColumn=function(a){return(a=os.style.StyleManager.getInstance().getLayerConfig(a.getId()))&&a[os.style.StyleField.LABELS]||[os.style.label.cloneConfig()]};os.ui.layer.getShowLabel=function(a){return(a=os.style.StyleManager.getInstance().getLayerConfig(a.getId()))&&a[os.style.StyleField.SHOW_LABELS]||!1};os.ui.layer.getLabelColor=function(a){return(a=os.style.StyleManager.getInstance().getLayerConfig(a.getId()))&&a[os.style.StyleField.LABEL_COLOR]||os.style.getConfigColor(a)};
os.ui.layer.getLabelSize=function(a){return(a=os.style.StyleManager.getInstance().getLayerConfig(a.getId()))&&a[os.style.StyleField.LABEL_SIZE]||!1};os.ui.layer.getColumns=function(a){var b=null;(a=a.getSource())&&os.instanceOf(a,os.source.Vector.NAME)&&(b=a.getColumns().slice(),b.sort(os.ui.slick.column.nameCompare));return b};os.ui.layer.getStyles=function(a){return a.getStyles()};os.ui.layer.getStyle=function(a){a=a.getStyle();return goog.isObject(a)?a:null};os.ui.layer.setStyle=function(a,b){a.setStyle(b)};
os.ui.layer.getColorize=function(a){return a.getColorize()};os.ui.layer.setColorize=function(a,b){a.setColorize(b)};os.command.LayerAutoRefresh=function(a,b){this.isAsync=!1;this.title="Change Layer Auto Refresh";this.details=null;this.state=os.command.State.READY;this.layerId=a;this.oldInterval=0;this.interval=b};
os.command.LayerAutoRefresh.prototype.getSource=function(){var a=os.MapContainer.getInstance().getLayer(this.layerId);if(!a)return this.state=os.command.State.ERROR,this.details='Unable to locate layer with id "'+this.layerId+'".',null;a=a.getSource();return(a instanceof os.source.Vector||a instanceof ol.source.UrlTile)&&a.isRefreshEnabled()?a:(this.state=os.command.State.ERROR,this.details='Source for layer with id "'+this.layerId+'" does not support refresh.',null)};
os.command.LayerAutoRefresh.prototype.execute=function(){this.state=os.command.State.EXECUTING;var a=this.getSource();return a?(this.oldInterval=a.getRefreshInterval(),a.setRefreshInterval(this.interval),os.metrics.Metrics.getInstance().updateMetric(os.metrics.Layer.VECTOR_AUTO_REFRESH,1),this.state=os.command.State.SUCCESS,!0):!1};
os.command.LayerAutoRefresh.prototype.revert=function(){this.state=os.command.State.REVERTING;var a=this.getSource();return a?(a.setRefreshInterval(this.oldInterval),this.state=os.command.State.READY,!0):!1};os.command.LayerStyle=function(a,b,c,d){os.command.AbstractStyle.call(this,a,c,d);this.callback=b};goog.inherits(os.command.LayerStyle,os.command.AbstractStyle);os.command.LayerStyle.prototype.getOldValue=function(){var a=os.MapContainer.getInstance().getLayer(this.layerId);return a instanceof os.layer.Tile||a instanceof os.layer.Vector||a instanceof os.layer.Image?a.getOpacity():null};
os.command.LayerStyle.prototype.applyValue=function(a,b){a=os.MapContainer.getInstance().getLayer(this.layerId);(a instanceof os.layer.Tile||a instanceof os.layer.Vector||a instanceof os.layer.Image)&&this.callback(a,b)};os.command.LayerStyle.prototype.finish=function(a){a=os.MapContainer.getInstance().getLayer(this.layerId);a instanceof os.layer.Vector&&os.style.notifyStyleChange(a)};
os.command.LayerStyle.prototype.setValue=function(a){goog.asserts.assert(null!=a,"style value must be defined");var b=os.MapContainer.getInstance().getLayer(this.layerId);goog.asserts.assert(b,"layer must be defined");b=this.getLayerConfig(b)||{};this.applyValue(b,a);this.finish(b)};os.command.ParallelCommand=function(){os.command.AbstractCommandSet.call(this)};goog.inherits(os.command.ParallelCommand,os.command.AbstractCommandSet);os.command.ParallelCommand.prototype.count_=0;os.command.ParallelCommand.prototype.etype_=os.command.EventType.EXECUTED;os.command.ParallelCommand.prototype.execute=function(){this.etype_=os.command.EventType.EXECUTED;return this.run_()};os.command.ParallelCommand.prototype.revert=function(){this.etype_=os.command.EventType.REVERTED;return this.run_()};
os.command.ParallelCommand.prototype.run_=function(){var a;this.count_=0;var b=this.getCommands();var c=0;for(a=b.length;c<a;c++){b[c].isAsync&&b[c].listenOnce(this.etype_,this.onCommandComplete_,!1,this);var d=!1;try{d=this.etype_==os.command.EventType.EXECUTED?b[c].execute():b[c].revert()}catch(e){}if(!d)return this.state=os.command.State.ERROR,this.dispatchEvent(new goog.events.Event(os.command.EventType.EXECUTED)),!1;if(!b[c].isAsync)this.onCommandComplete_(null)}this.state=this.etype_===os.command.EventType.EXECUTED?
os.command.State.SUCCESS:os.command.State.READY;return!0};os.command.ParallelCommand.prototype.onCommandComplete_=function(a){this.count_++;this.count_==this.getCommands().length&&this.dispatchEvent(new goog.events.Event(this.etype_))};os.ui.ControlType={COLOR:"colorControl"};os.ui.ColorControlType={PICKER_RESET:os.ui.ControlType.COLOR+":pickerReset",PICKER:os.ui.ControlType.COLOR+":picker",HUE:os.ui.ControlType.COLOR+":hue",BASIC:os.ui.ControlType.COLOR+":basic",NONE:os.ui.ControlType.COLOR+":none"};os.ui.layer.AbstractLayerUICtrl=function(a,b){goog.Disposable.call(this);this.scope=a;this.element=b;this.initDelay_=new goog.async.Delay(this.onInitDelay_,25,this);this.initEvents=[os.layer.PropertyChange.STYLE];this.layerListenKeys_=[];this.is3DEnabled=os.MapContainer.getInstance().is3DEnabled();os.MapContainer.getInstance().listen(goog.events.EventType.PROPERTYCHANGE,this.onMapChange_,!1,this);a.$watch("items",this.onItemsChange.bind(this));a.$on("$destroy",this.dispose.bind(this))};
goog.inherits(os.ui.layer.AbstractLayerUICtrl,goog.Disposable);os.ui.layer.AbstractLayerUICtrl.prototype.disposeInternal=function(){os.ui.layer.AbstractLayerUICtrl.superClass_.disposeInternal.call(this);this.removeLayerListeners_();os.MapContainer.getInstance().unlisten(goog.events.EventType.PROPERTYCHANGE,this.onMapChange_,!1,this);goog.dispose(this.initDelay_);this.element=this.scope=this.initDelay_=null};
os.ui.layer.AbstractLayerUICtrl.prototype.getValue=function(a,b){b=goog.isDef(b)?b:1;for(var c=this.getLayerNodes(),d=0,e=c.length;d<e;d++)try{var f=c[d].getLayer();if(f){var g=a(f);return goog.isDef(g)?g:b}}catch(h){}return 1};
os.ui.layer.AbstractLayerUICtrl.prototype.createCommand=function(a){for(var b=[],c=this.getLayerNodes(),d=0,e=c.length;d<e;d++)try{var f=c[d].getLayer();if(f){var g=a(f);g&&b.push(g)}}catch(h){}g=null;1<b.length?(g=new os.command.ParallelCommand,g.setCommands(b),g.title=b[0].title+" ("+b.length+" layers)"):0<b.length&&(g=b[0]);g&&os.command.CommandProcessor.getInstance().addCommand(g)};
os.ui.layer.AbstractLayerUICtrl.prototype.getLayerNodes=function(){var a=[],b=this.scope.items||[];b=b.filter(os.ui.layer.isLayerNode);for(var c=0;c<b.length;c++){var d=b[c];d.getLayer()instanceof os.layer.LayerGroup?(d=d.getChildren())&&(a=a.concat(d)):a.push(d)}return a};os.ui.layer.AbstractLayerUICtrl.prototype.initUI=function(){goog.async.nextTick(goog.partial(os.ui.apply,this.scope))};os.ui.layer.AbstractLayerUICtrl.prototype.refreshUI=function(){!this.isDisposed()&&this.initDelay_&&this.initDelay_.start()};
os.ui.layer.AbstractLayerUICtrl.prototype.onInitDelay_=function(){this.isDisposed()||this.initUI()};os.ui.layer.AbstractLayerUICtrl.prototype.onItemsChange=function(a,b){if(!this.isDisposed()&&(this.removeLayerListeners_(),this.initUI(),a)){a=a.filter(os.ui.layer.isLayerNode);b=0;for(var c=a.length;b<c;b++){var d=a[b].getLayer();d&&this.layerListenKeys_.push(ol.events.listen(d,goog.events.EventType.PROPERTYCHANGE,this.onLayerPropertyChange,this))}}};
os.ui.layer.AbstractLayerUICtrl.prototype.onLayerPropertyChange=function(a){this.isDisposed()||(a instanceof ol.Object.Event&&null!=this.scope[a.key]?this.refreshUI():a instanceof os.events.PropertyChangeEvent&&(a=a.getProperty())&&-1!=this.initEvents.indexOf(a)&&this.refreshUI())};os.ui.layer.AbstractLayerUICtrl.prototype.removeLayerListeners_=function(){this.layerListenKeys_.forEach(ol.events.unlistenByKey);this.layerListenKeys_.length=0};
os.ui.layer.AbstractLayerUICtrl.prototype.onMapChange_=function(a){a.getProperty()==os.MapChange.VIEW3D&&(this.is3DEnabled=os.MapContainer.getInstance().is3DEnabled(),os.ui.apply(this.scope))};os.ui.layer.isLayerNode=function(a){return a instanceof os.data.LayerNode};os.ui.layer.defaultLayerUIDirective=function(){return{restrict:"AE",replace:!0,templateUrl:os.ROOT+"views/layer/default.html",controller:os.ui.layer.DefaultLayerUICtrl,controllerAs:"defaultCtrl"}};os.ui.Module.directive("defaultlayerui",[os.ui.layer.defaultLayerUIDirective]);
os.ui.layer.DefaultLayerUICtrl=function(a,b,c){os.ui.layer.AbstractLayerUICtrl.call(this,a,b);this.initEvents.push(os.layer.PropertyChange.REFRESH_INTERVAL);this.refresh=null;this.refreshOptions=os.ui.layer.REFRESH_DURATIONS;this.showBasicColor=this.showHue=this.showColorReset=this.showColorPicker=this.showRefresh=!1;this.defaults={brightness:0,contrast:1,hue:0,opacity:1,saturation:1};this.defaultColorControl=os.ui.ColorControlType.NONE;this.initialValues={};for(var d in os.ui.layer.DefaultLayerUICtrl.PROPERTIES_)b=
os.ui.layer.DefaultLayerUICtrl.PROPERTIES_[d],a.$on(d+".slide",this.onValueChange.bind(this,b)),a.$on(d+".slidestart",this.onSliderStart.bind(this)),a.$on(d+".slidestop",this.onSliderStop.bind(this,b,d));this.initUI();this.setInitialValues_();c(goog.bind(function(){if(this.element){var a=os.settings.get(["layercontrols"],"");a&&(a=this.element.find(a))&&!a.hasClass("in")&&(a.addClass("in"),a.siblings(".accordion-heading").addClass("open"))}},this))};goog.inherits(os.ui.layer.DefaultLayerUICtrl,os.ui.layer.AbstractLayerUICtrl);
os.ui.layer.DefaultLayerUICtrl.PROPERTIES_={opacity:os.layer.setOpacity,brightness:os.layer.setBrightness,contrast:os.layer.setContrast,hue:os.layer.setHue,saturation:os.layer.setSaturation};
os.ui.layer.DefaultLayerUICtrl.prototype.initUI=function(){os.ui.layer.DefaultLayerUICtrl.superClass_.initUI.call(this);this.isDisposed()||(this.scope.brightness=this.getValue(os.layer.getBrightness,0),this.scope.contrast=this.getValue(os.layer.getContrast),this.scope.hue=this.getValue(os.layer.getHue,0),this.scope.opacity=this.getValue(os.layer.getOpacity),this.scope.saturation=this.getValue(os.layer.getSaturation),this.updateRefresh_(),this.initColorControls_())};
os.ui.layer.DefaultLayerUICtrl.prototype.updateRefresh_=function(){this.showRefresh=!1;this.refresh=null;var a=this.getLayerNodes();if(a&&0<a.length){var b;this.showRefresh=goog.array.every(a,function(a){a=a.getLayer();return a instanceof ol.layer.Layer&&(a=a.getSource(),a instanceof os.source.Vector||a instanceof ol.source.UrlTile&&a.isRefreshEnabled())?(null==b&&(b=a.getRefreshInterval()),!0):!1});null!=b&&(this.refresh=goog.array.find(this.refreshOptions,function(a){return a.interval==b}))}};
os.ui.layer.DefaultLayerUICtrl.prototype.initColorControls_=function(){this.showHue=this.showBasicColor=this.showColorReset=this.showColorPicker=!1;var a=this.getLayerNodes();if(a&&0<a.length)try{for(var b,c=0,d=a.length;c<d;c++){var e=a[c].getLayer();if(null==b){if(b=this.getColorControlType(e),b==os.ui.ColorControlType.NONE)break}else if(this.getColorControlType(e)!==b){b=os.ui.ColorControlType.NONE;break}}switch(b){case os.ui.ColorControlType.PICKER_RESET:this.showBasicColor=this.showColorReset=
this.showColorPicker=!0;break;case os.ui.ColorControlType.PICKER:this.showColorPicker=!0;this.showColorReset=this.showBasicColor=!1;break;case os.ui.ColorControlType.BASIC:this.showBasicColor=!0;this.showColorReset=this.showColorPicker=!1;break;default:this.showColorReset=this.showColorPicker=this.showBasicColor=!1}}catch(f){}};os.ui.layer.DefaultLayerUICtrl.prototype.getColorControlType=function(a){return a&&(a=a.getLayerOptions())&&a[os.ui.ControlType.COLOR]?a[os.ui.ControlType.COLOR]:this.defaultColorControl};
os.ui.layer.DefaultLayerUICtrl.prototype.setInitialValues_=function(){for(var a=this.getLayerNodes(),b=0,c=a.length;b<c;b++)try{var d=a[b].getLayer();if(d){var e=d.getId(),f={},g=os.layer.getOpacity(d);f.opacity=goog.isDefAndNotNull(g)?g:0;var h=os.layer.getBrightness(d);f.brightness=goog.isDefAndNotNull(h)?h:0;var k=os.layer.getContrast(d);f.contrast=goog.isDefAndNotNull(k)?k:0;var l=os.layer.getSaturation(d);f.saturation=goog.isDefAndNotNull(l)?l:0;this.initialValues[e]=f}}catch(m){}};
os.ui.layer.DefaultLayerUICtrl.prototype.onValueChange=function(a,b,c){b=this.getLayerNodes();for(var d=0,e=b.length;d<e;d++)a(b[d].getLayer(),c)};os.ui.layer.DefaultLayerUICtrl.prototype.onSliderStart=function(a,b){this.setInitialValues_()};
os.ui.layer.DefaultLayerUICtrl.prototype.onSliderStop=function(a,b,c,d){this.createCommand(function(c){var e=this.initialValues[c.getId()],g=1;e&&goog.isDef(e[b])&&(g=e[b]);if(c=g!==d?new os.command.LayerStyle(c.getId(),a,d,g):null)c.title="Change "+b;return c}.bind(this));this.setInitialValues_()};
os.ui.layer.DefaultLayerUICtrl.prototype.onRefreshChange=function(){var a=this.getLayerNodes();if(a&&0<a.length){var b=(a=this.refresh)?a.interval:0;this.createCommand(function(a){return new os.command.LayerAutoRefresh(a.getId(),b)})}};goog.exportProperty(os.ui.layer.DefaultLayerUICtrl.prototype,"onRefreshChange",os.ui.layer.DefaultLayerUICtrl.prototype.onRefreshChange);
os.ui.layer.DefaultLayerUICtrl.prototype.reset=function(a){var b=this.defaults[a];if(null!=b)this.onSliderStop(os.ui.layer.DefaultLayerUICtrl.PROPERTIES_[a],a,null,b)};goog.exportProperty(os.ui.layer.DefaultLayerUICtrl.prototype,"reset",os.ui.layer.DefaultLayerUICtrl.prototype.reset);
os.ui.layer.DefaultLayerUICtrl.prototype.setOpenSection=function(a){var b=os.settings.get(["layercontrols"],"");b&&this.element.find(b).siblings(".accordion-heading").removeClass("open");var c=this.element.find(a);c&&(b==a?c.hasClass("in")&&os.settings.set(["layercontrols"],""):(os.settings.set(["layercontrols"],a),c.siblings(".accordion-heading").addClass("open")))};goog.exportProperty(os.ui.layer.DefaultLayerUICtrl.prototype,"setOpenSection",os.ui.layer.DefaultLayerUICtrl.prototype.setOpenSection);os.command.VectorLayerShowEllipsoids=function(a,b,c){os.command.AbstractVectorStyle.call(this,a,b,c);this.metricKey=os.metrics.Layer.VECTOR_ELLIPSOID;this.value=!!b;this.title=b?"Enable Ellipsoids":"Disable Ellipsoids"};goog.inherits(os.command.VectorLayerShowEllipsoids,os.command.AbstractVectorStyle);os.command.VectorLayerShowEllipsoids.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return null!=a&&a[os.style.StyleField.SHOW_ELLIPSOIDS]||!1};
os.command.VectorLayerShowEllipsoids.prototype.applyValue=function(a,b){a[os.style.StyleField.SHOW_ELLIPSOIDS]=b;os.command.VectorLayerShowEllipsoids.superClass_.applyValue.call(this,a,b)};os.command.VectorLayerShowEllipsoids.prototype.finish=function(a){var b=os.osDataManager.getSource(this.layerId);if(b){var c=b.getGeometryShape();b.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.GEOMETRY_SHAPE,c))}os.command.VectorLayerShowEllipsoids.superClass_.finish.call(this,a)};os.command.AbstractVectorLayerLOB=function(a,b,c){os.command.AbstractVectorStyle.call(this,a,b,c)};goog.inherits(os.command.AbstractVectorLayerLOB,os.command.AbstractVectorStyle);
os.command.AbstractVectorLayerLOB.prototype.applyValue=function(a,b){var c=os.osDataManager.getSource(this.layerId);if(c){c=c.getFeatures();for(var d=0,e=c.length;d<e;d++)c[d].values_[os.data.RecordField.LINE_OF_BEARING]=null,c[d].values_[os.data.RecordField.LINE_OF_BEARING_ERROR_HIGH]=null,c[d].values_[os.data.RecordField.LINE_OF_BEARING_ERROR_LOW]=null,c[d].values_[os.data.RecordField.ELLIPSE]=null}os.command.AbstractVectorLayerLOB.superClass_.applyValue.call(this,a,b)};
os.command.AbstractVectorLayerLOB.prototype.finish=function(a){var b=os.osDataManager.getSource(this.layerId);if(b){var c=b.getGeometryShape();b.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.GEOMETRY_SHAPE,c))}os.command.AbstractVectorLayerLOB.superClass_.finish.call(this,a)};os.command.VectorLayerShowGroundReference=function(a,b,c){os.command.AbstractVectorLayerLOB.call(this,a,b,c);this.metricKey=os.metrics.Layer.VECTOR_GROUND_REF;this.value=!!b;this.title=b?"Enable Ground Reference":"Disable Ground Reference"};goog.inherits(os.command.VectorLayerShowGroundReference,os.command.AbstractVectorLayerLOB);
os.command.VectorLayerShowGroundReference.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return null!=a&&a[os.style.StyleField.SHOW_GROUND_REF]||!1};os.command.VectorLayerShowGroundReference.prototype.applyValue=function(a,b){a[os.style.StyleField.SHOW_GROUND_REF]=b;os.command.VectorLayerShowGroundReference.superClass_.applyValue.call(this,a,b)};os.ui.layer.ellipseOptionsDirective=function(){return{restrict:"E",replace:!0,templateUrl:os.ROOT+"views/layer/ellipseoptions.html",controller:os.ui.layer.EllipseOptionsCtrl,controllerAs:"ctrl"}};os.ui.Module.directive("ellipseoptions",[os.ui.layer.ellipseOptionsDirective]);os.ui.layer.EllipseOptionsCtrl=function(a,b){os.ui.layer.AbstractLayerUICtrl.call(this,a,b);this.showGroundReference=this.showEllipsoids=!1};goog.inherits(os.ui.layer.EllipseOptionsCtrl,os.ui.layer.AbstractLayerUICtrl);
os.ui.layer.EllipseOptionsCtrl.prototype.disposeInternal=function(){os.ui.layer.EllipseOptionsCtrl.superClass_.disposeInternal.call(this);this.element=this.scope=null};os.ui.layer.EllipseOptionsCtrl.prototype.initUI=function(){os.ui.layer.EllipseOptionsCtrl.superClass_.initUI.call(this);this.isDisposed()||(this.showEllipsoids=this.getShowEllipsoids_(),this.showGroundReference=this.getShowGroundReference_())};
os.ui.layer.EllipseOptionsCtrl.prototype.getShowEllipsoids_=function(){var a=this.scope.items;return a&&0<a.length&&(a=os.style.StyleManager.getInstance().getLayerConfig(a[0].getId()))?!!a[os.style.StyleField.SHOW_ELLIPSOIDS]:!1};os.ui.layer.EllipseOptionsCtrl.prototype.getShowGroundReference_=function(){var a=this.scope.items;return a&&0<a.length&&(a=os.style.StyleManager.getInstance().getLayerConfig(a[0].getId()))?!!a[os.style.StyleField.SHOW_GROUND_REF]:!1};
os.ui.layer.EllipseOptionsCtrl.prototype.onShowEllipsoidsChange=function(){var a=this.scope.items;if(a&&0<a.length){var b=this.showEllipsoids;this.createCommand(function(a){return new os.command.VectorLayerShowEllipsoids(a.getId(),b)})}};goog.exportProperty(os.ui.layer.EllipseOptionsCtrl.prototype,"onShowEllipsoidsChange",os.ui.layer.EllipseOptionsCtrl.prototype.onShowEllipsoidsChange);
os.ui.layer.EllipseOptionsCtrl.prototype.onShowGroundReferenceChange=function(){var a=this.scope.items;if(a&&0<a.length){var b=this.showGroundReference;this.createCommand(function(a){return new os.command.VectorLayerShowGroundReference(a.getId(),b)})}};goog.exportProperty(os.ui.layer.EllipseOptionsCtrl.prototype,"onShowGroundReferenceChange",os.ui.layer.EllipseOptionsCtrl.prototype.onShowGroundReferenceChange);os.ui.layer.LabelControlsEventType={COLUMN_CHANGE:"labelcontrols:columnChange",SHOW_LABELS_CHANGE:"labelcontrols:showLabelsChange"};os.ui.layer.labelControlsDirective=function(){return{restrict:"E",replace:!0,scope:{labels:"=",columns:"=",labelColor:"=",labelSize:"=",showLabels:"=?",required:"=?",alwaysShowLabels:"@"},templateUrl:os.ROOT+"views/layer/labelcontrols.html",controller:os.ui.layer.LabelControlsCtrl,controllerAs:"labelCtrl"}};os.ui.Module.directive("labelcontrols",[os.ui.layer.labelControlsDirective]);
os.ui.layer.LabelControlsCtrl=function(a,b,c){goog.Disposable.call(this);this.scope=a;this.element=b;this.startIndex_=-1;this.labelLimit=os.settings.get(["maxLabels"],5);this.element.find(".c-labelcontainer").sortable(this.getSortOptions());c(this.validate_.bind(this));a.$on("$destroy",this.dispose.bind(this))};goog.inherits(os.ui.layer.LabelControlsCtrl,goog.Disposable);
os.ui.layer.LabelControlsCtrl.prototype.disposeInternal=function(){os.ui.layer.LabelControlsCtrl.superClass_.disposeInternal.call(this);this.element=this.scope=null};os.ui.layer.LabelControlsCtrl.prototype.getSortOptions=function(){return{items:"tr",handle:".handle",axis:"y",containment:"parent",snap:!0,tolerance:"pointer",start:this.onDragStart.bind(this),stop:this.onDragEnd.bind(this)}};
os.ui.layer.LabelControlsCtrl.prototype.onColumnChange=function(){this.scope&&(this.sort_(),this.validate_(),this.scope.$emit(os.ui.layer.LabelControlsEventType.COLUMN_CHANGE))};goog.exportProperty(os.ui.layer.LabelControlsCtrl.prototype,"onColumnChange",os.ui.layer.LabelControlsCtrl.prototype.onColumnChange);os.ui.layer.LabelControlsCtrl.prototype.onShowLabelsChange=function(){this.scope&&this.scope.$emit(os.ui.layer.LabelControlsEventType.SHOW_LABELS_CHANGE,this.scope.showLabels)};
goog.exportProperty(os.ui.layer.LabelControlsCtrl.prototype,"onShowLabelsChange",os.ui.layer.LabelControlsCtrl.prototype.onShowLabelsChange);os.ui.layer.LabelControlsCtrl.prototype.addLabel=function(){this.scope.labels.push(os.style.label.cloneConfig());this.onColumnChange();os.metrics.Metrics.getInstance().updateMetric(os.metrics.Layer.LABEL_COLUMN_ADD,1)};goog.exportProperty(os.ui.layer.LabelControlsCtrl.prototype,"addLabel",os.ui.layer.LabelControlsCtrl.prototype.addLabel);
os.ui.layer.LabelControlsCtrl.prototype.removeLabel=function(a){goog.array.remove(this.scope.labels,a);this.onColumnChange();os.metrics.Metrics.getInstance().updateMetric(os.metrics.Layer.LABEL_COLUMN_REMOVE,1)};goog.exportProperty(os.ui.layer.LabelControlsCtrl.prototype,"removeLabel",os.ui.layer.LabelControlsCtrl.prototype.removeLabel);
os.ui.layer.LabelControlsCtrl.prototype.sort_=function(){if(this.scope&&this.scope.labels){for(var a=this.scope.labels,b=a.length;b--;)null==a[b].column&&a.push(a.splice(b,1)[0]);os.ui.apply(this.scope)}};os.ui.layer.LabelControlsCtrl.prototype.validate_=function(){if(this.scope&&this.scope.labels){var a=this.scope.labelForm;a&&(this.scope.required?a.$setValidity("columnRequired",this.scope.labels.some(function(a){return!!a.column})):a.$setValidity("columnRequired",!0));os.ui.apply(this.scope)}};
os.ui.layer.LabelControlsCtrl.prototype.onDragStart=function(a,b){(a=this.element.find(".c-labelcontainer").sortable("instance"))&&a.containment&&(a.containment[3]+=3);b.helper&&b.placeholder&&b.placeholder.height(b.helper.height());b.item&&(b.item.find(".handle").addClass("moving"),this.startIndex_=b.item.index())};
os.ui.layer.LabelControlsCtrl.prototype.onDragEnd=function(a,b){b.item&&(b.item.find(".handle").removeClass("moving"),a=b.item.index(),this.startIndex_!=a&&(goog.array.moveItem(this.scope.labels,this.startIndex_,a),os.ui.apply(this.scope),this.onColumnChange()))};os.command.VectorLayerArrowSize=function(a,b,c){os.command.AbstractVectorLayerLOB.call(this,a,b,c);this.title="Change Line of Bearing arrow size";this.value=b;this.metricKey=os.metrics.Layer.VECTOR_ARROW_SIZE};goog.inherits(os.command.VectorLayerArrowSize,os.command.AbstractVectorLayerLOB);os.command.VectorLayerArrowSize.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return a?a[os.style.StyleField.ARROW_SIZE]:os.style.DEFAULT_ARROW_SIZE};
os.command.VectorLayerArrowSize.prototype.applyValue=function(a,b){a[os.style.StyleField.ARROW_SIZE]=b;os.command.VectorLayerArrowSize.superClass_.applyValue.call(this,a,b)};os.command.VectorLayerBearing=function(a,b,c){os.command.AbstractVectorLayerLOB.call(this,a,b,c);this.title="Change bearing column";this.value=b||"";this.metricKey=os.metrics.Layer.VECTOR_LOB_BEARING_COLUMN};goog.inherits(os.command.VectorLayerBearing,os.command.AbstractVectorLayerLOB);os.command.VectorLayerBearing.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return a&&a[os.style.StyleField.LOB_BEARING_COLUMN]||""};
os.command.VectorLayerBearing.prototype.applyValue=function(a,b){a[os.style.StyleField.LOB_BEARING_COLUMN]=b;os.command.VectorLayerBearing.superClass_.applyValue.call(this,a,b)};os.command.VectorLayerBearingError=function(a,b,c){os.command.AbstractVectorLayerLOB.call(this,a,b,c);this.title="Change Line of Bearing error multiplier";this.value=b;this.metricKey=os.metrics.Layer.VECTOR_LOB_BEARING_ERROR};goog.inherits(os.command.VectorLayerBearingError,os.command.AbstractVectorLayerLOB);os.command.VectorLayerBearingError.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return a?a[os.style.StyleField.LOB_BEARING_ERROR]:os.style.DEFAULT_LOB_BEARING_ERROR};
os.command.VectorLayerBearingError.prototype.applyValue=function(a,b){a[os.style.StyleField.LOB_BEARING_ERROR]=b;os.command.VectorLayerBearingError.superClass_.applyValue.call(this,a,b)};os.command.VectorLayerBearingErrorColumn=function(a,b,c){os.command.AbstractVectorLayerLOB.call(this,a,b,c);this.title="Change bearing error column";this.value=b||"";this.metricKey=os.metrics.Layer.VECTOR_LOB_BEARING_ERROR_COLUMN};goog.inherits(os.command.VectorLayerBearingErrorColumn,os.command.AbstractVectorLayerLOB);
os.command.VectorLayerBearingErrorColumn.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return a&&a[os.style.StyleField.LOB_BEARING_ERROR_COLUMN]||""};os.command.VectorLayerBearingErrorColumn.prototype.applyValue=function(a,b){a[os.style.StyleField.LOB_BEARING_ERROR_COLUMN]=b;os.command.VectorLayerBearingErrorColumn.superClass_.applyValue.call(this,a,b)};os.command.VectorLayerLOBError=function(a,b,c){os.command.AbstractVectorLayerLOB.call(this,a,b,c);this.title="Change Line of Bearing bearing error column";this.value=b||"";this.metricKey=os.metrics.Layer.VECTOR_LOB_LENGTH_ERROR_COLUMN};goog.inherits(os.command.VectorLayerLOBError,os.command.AbstractVectorLayerLOB);
os.command.VectorLayerLOBError.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return a&&a[os.style.StyleField.LOB_LENGTH_ERROR_COLUMN]||""};os.command.VectorLayerLOBError.prototype.applyValue=function(a,b){a[os.style.StyleField.LOB_LENGTH_ERROR_COLUMN]=b;os.command.VectorLayerLOBError.superClass_.applyValue.call(this,a,b)};os.command.VectorLayerLOBLength=function(a,b,c){os.command.AbstractVectorLayerLOB.call(this,a,b,c);this.title="Change Line of Bearing length";this.value=b;this.metricKey=os.metrics.Layer.VECTOR_LOB_LENGTH};goog.inherits(os.command.VectorLayerLOBLength,os.command.AbstractVectorLayerLOB);os.command.VectorLayerLOBLength.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return a?a[os.style.StyleField.LOB_LENGTH]:os.style.DEFAULT_LOB_LENGTH};
os.command.VectorLayerLOBLength.prototype.applyValue=function(a,b){a[os.style.StyleField.LOB_LENGTH]=b;os.command.VectorLayerLOBLength.superClass_.applyValue.call(this,a,b)};os.command.VectorLayerLOBLengthError=function(a,b,c){os.command.AbstractVectorLayerLOB.call(this,a,b,c);this.title="Change Line of Bearing length error column multiplier";this.value=b;this.metricKey=os.metrics.Layer.VECTOR_LOB_LENGTH_ERROR};goog.inherits(os.command.VectorLayerLOBLengthError,os.command.AbstractVectorLayerLOB);
os.command.VectorLayerLOBLengthError.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return a?a[os.style.StyleField.LOB_LENGTH_ERROR]:os.style.DEFAULT_LOB_LENGTH_ERROR};os.command.VectorLayerLOBLengthError.prototype.applyValue=function(a,b){a[os.style.StyleField.LOB_LENGTH_ERROR]=b;os.command.VectorLayerLOBLengthError.superClass_.applyValue.call(this,a,b)};os.command.VectorLayerLOBMultiplier=function(a,b,c){os.command.AbstractVectorLayerLOB.call(this,a,b,c);this.title="Change Line of Bearing length column";this.value=b||"";this.metricKey=os.metrics.Layer.VECTOR_LOB_LENGTH_COLUMN};goog.inherits(os.command.VectorLayerLOBMultiplier,os.command.AbstractVectorLayerLOB);
os.command.VectorLayerLOBMultiplier.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return a&&a[os.style.StyleField.LOB_LENGTH_COLUMN]||""};os.command.VectorLayerLOBMultiplier.prototype.applyValue=function(a,b){a[os.style.StyleField.LOB_LENGTH_COLUMN]=b;os.command.VectorLayerLOBMultiplier.superClass_.applyValue.call(this,a,b)};os.command.VectorLayerShowArrow=function(a,b,c){os.command.AbstractVectorLayerLOB.call(this,a,b,c);this.metricKey=os.metrics.Layer.VECTOR_SHOW_ARROW;this.value=!!b;this.title=b?"Enable Arrow":"Disable Arrow"};goog.inherits(os.command.VectorLayerShowArrow,os.command.AbstractVectorLayerLOB);os.command.VectorLayerShowArrow.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return null!=a&&a[os.style.StyleField.SHOW_ARROW]||!1};
os.command.VectorLayerShowArrow.prototype.applyValue=function(a,b){a[os.style.StyleField.SHOW_ARROW]=b;os.command.VectorLayerShowArrow.superClass_.applyValue.call(this,a,b)};os.command.VectorLayerShowEllipse=function(a,b,c){os.command.AbstractVectorLayerLOB.call(this,a,b,c);this.metricKey=os.metrics.Layer.VECTOR_SHOW_ELLIPSE;this.value=!!b;this.title=b?"Enable Show Ellipse":"Disable Show Ellipse"};goog.inherits(os.command.VectorLayerShowEllipse,os.command.AbstractVectorLayerLOB);
os.command.VectorLayerShowEllipse.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return null!=a&&a[os.style.StyleField.SHOW_ELLIPSE]||!1};os.command.VectorLayerShowEllipse.prototype.applyValue=function(a,b){a[os.style.StyleField.SHOW_ELLIPSE]=b;os.command.VectorLayerShowEllipse.superClass_.applyValue.call(this,a,b)};os.command.VectorLayerShowError=function(a,b,c){os.command.AbstractVectorLayerLOB.call(this,a,b,c);this.metricKey=os.metrics.Layer.VECTOR_SHOW_ERROR;this.value=!!b;this.title=b?"Enable Show Error":"Disable Show Error"};goog.inherits(os.command.VectorLayerShowError,os.command.AbstractVectorLayerLOB);os.command.VectorLayerShowError.prototype.getOldValue=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.layerId);return null!=a&&a[os.style.StyleField.SHOW_ERROR]||!1};
os.command.VectorLayerShowError.prototype.applyValue=function(a,b){a[os.style.StyleField.SHOW_ERROR]=b;os.command.VectorLayerShowError.superClass_.applyValue.call(this,a,b)};os.ui.layer.lobOptionsDirective=function(){return{restrict:"E",replace:!0,templateUrl:os.ROOT+"views/layer/loboptions.html",controller:os.ui.layer.LobOptionsCtrl,controllerAs:"ctrl"}};os.ui.Module.directive("loboptions",[os.ui.layer.lobOptionsDirective]);
os.ui.layer.LobOptionsCtrl=function(a,b){os.ui.layer.AbstractLayerUICtrl.call(this,a,b);this.showEllipse=this.showError=this.showArrow=!1;this.bearingErrorColumn=this.bearingColumn=this.lengthErrorColumn=this.lengthColumn="";this.scope.length=os.style.DEFAULT_LOB_LENGTH;this.scope.size=os.style.DEFAULT_ARROW_SIZE;this.scope.lengthErrorMultiplier=os.style.DEFAULT_LOB_LENGTH_ERROR;this.scope.bearingErrorMultiplier=os.style.DEFAULT_LOB_BEARING_ERROR;this.lengthDelay_=new goog.async.Delay(this.onLengthDelay_,
1E3,this);this.lengthErrorDelay_=new goog.async.Delay(this.onLengthErrorDelay_,1E3,this);this.bearingErrorDelay_=new goog.async.Delay(this.onBearingErrorDelay_,1E3,this);this.sizeDelay_=new goog.async.Delay(this.onSizeDelay_,1E3,this);this.helpText='<p>Line of Bearing Error allows you to show a +/- error range on the line length and orientation with arcs. Absence of bearing error shows lines instead of arcs. Absence of length error shows a single arc.</p><img src="'+os.ROOT+'/images/loberror.png"></img>'};
goog.inherits(os.ui.layer.LobOptionsCtrl,os.ui.layer.AbstractLayerUICtrl);
os.ui.layer.LobOptionsCtrl.prototype.initUI=function(){os.ui.layer.LobOptionsCtrl.superClass_.initUI.call(this);this.isDisposed()||(this.columns=this.getValue(os.ui.layer.getColumns),this.showArrow=this.getShowArrow_(),this.showError=this.getShowError_(),this.showEllipse=this.getShowEllipse_(),this.lengthColumn=this.getLengthColumn_(),this.lengthErrorColumn=this.getLengthErrorColumn_(),this.bearingColumn=this.getBearingColumn_(),this.bearingErrorColumn=this.getBearingErrorColumn_(),this.scope.length=
this.getLOBLength_(),this.scope.size=this.getSize_(),this.scope.ellipseSupport=this.supportsEllipse(),this.scope.lengthErrorMultiplier=this.getLengthErrorMultiplier_(),this.scope.bearingErrorMultiplier=this.getBearingErrorMultiplier_())};
os.ui.layer.LobOptionsCtrl.prototype.supportsEllipse=function(){var a=this.scope.items[0].getLayer();return a&&(a=a.getSource())&&os.instanceOf(a,os.source.Vector.NAME)?a.hasColumn(os.Fields.RADIUS)||a.hasColumn(os.Fields.SEMI_MAJOR)&&a.hasColumn(os.Fields.SEMI_MINOR)||a.hasColumn(os.fields.DEFAULT_SEMI_MAJ_COL_NAME)&&a.hasColumn(os.fields.DEFAULT_SEMI_MIN_COL_NAME)?!0:!1:!1};
os.ui.layer.LobOptionsCtrl.prototype.getSize_=function(){var a=this.scope.items;return a&&0<a.length&&(a=os.style.StyleManager.getInstance().getLayerConfig(a[0].getId()))?a[os.style.StyleField.ARROW_SIZE]:os.style.DEFAULT_ARROW_SIZE};os.ui.layer.LobOptionsCtrl.prototype.getLOBLength_=function(){var a=this.scope.items;return a&&0<a.length&&(a=os.style.StyleManager.getInstance().getLayerConfig(a[0].getId()))?a[os.style.StyleField.LOB_LENGTH]:os.style.DEFAULT_LOB_LENGTH};
os.ui.layer.LobOptionsCtrl.prototype.getLengthErrorMultiplier_=function(){var a=this.scope.items;return a&&0<a.length&&(a=os.style.StyleManager.getInstance().getLayerConfig(a[0].getId()))?a[os.style.StyleField.LOB_LENGTH_ERROR]:os.style.DEFAULT_LOB_LENGTH_ERROR};os.ui.layer.LobOptionsCtrl.prototype.getBearingErrorMultiplier_=function(){var a=this.scope.items;return a&&0<a.length&&(a=os.style.StyleManager.getInstance().getLayerConfig(a[0].getId()))?a[os.style.StyleField.LOB_BEARING_ERROR]:os.style.DEFAULT_LOB_BEARING_ERROR};
os.ui.layer.LobOptionsCtrl.prototype.getLengthColumn_=function(){var a=this.scope.items;return a&&0<a.length&&(a=os.style.StyleManager.getInstance().getLayerConfig(a[0].getId()))?a[os.style.StyleField.LOB_LENGTH_COLUMN]:""};os.ui.layer.LobOptionsCtrl.prototype.getLengthErrorColumn_=function(){var a=this.scope.items;return a&&0<a.length&&(a=os.style.StyleManager.getInstance().getLayerConfig(a[0].getId()))?a[os.style.StyleField.LOB_LENGTH_ERROR_COLUMN]:""};
os.ui.layer.LobOptionsCtrl.prototype.getBearingColumn_=function(){var a=this.scope.items;return a&&0<a.length&&(a=os.style.StyleManager.getInstance().getLayerConfig(a[0].getId()))?a[os.style.StyleField.LOB_BEARING_COLUMN]:""};os.ui.layer.LobOptionsCtrl.prototype.getBearingErrorColumn_=function(){var a=this.scope.items;return a&&0<a.length&&(a=os.style.StyleManager.getInstance().getLayerConfig(a[0].getId()))?a[os.style.StyleField.LOB_BEARING_ERROR_COLUMN]:""};
os.ui.layer.LobOptionsCtrl.prototype.getShowArrow_=function(){var a=this.scope.items;return a&&0<a.length&&(a=os.style.StyleManager.getInstance().getLayerConfig(a[0].getId()))?!!a[os.style.StyleField.SHOW_ARROW]:!1};os.ui.layer.LobOptionsCtrl.prototype.getShowError_=function(){var a=this.scope.items;return a&&0<a.length&&(a=os.style.StyleManager.getInstance().getLayerConfig(a[0].getId()))?!!a[os.style.StyleField.SHOW_ERROR]:!1};
os.ui.layer.LobOptionsCtrl.prototype.getShowEllipse_=function(){var a=this.scope.items;return a&&0<a.length&&(a=os.style.StyleManager.getInstance().getLayerConfig(a[0].getId()))?!!a[os.style.StyleField.SHOW_ELLIPSE]:!1};os.ui.layer.LobOptionsCtrl.prototype.onShowArrowChange=function(){var a=this.scope.items;if(a&&0<a.length){var b=this.showArrow;this.createCommand(function(a){return new os.command.VectorLayerShowArrow(a.getId(),b)})}};
goog.exportProperty(os.ui.layer.LobOptionsCtrl.prototype,"onShowArrowChange",os.ui.layer.LobOptionsCtrl.prototype.onShowArrowChange);os.ui.layer.LobOptionsCtrl.prototype.onShowErrorChange=function(){var a=this.scope.items;if(a&&0<a.length){var b=this.showError;this.createCommand(function(a){return new os.command.VectorLayerShowError(a.getId(),b)})}};goog.exportProperty(os.ui.layer.LobOptionsCtrl.prototype,"onShowErrorChange",os.ui.layer.LobOptionsCtrl.prototype.onShowErrorChange);
os.ui.layer.LobOptionsCtrl.prototype.onShowEllipseChange=function(){var a=this.scope.items;if(a&&0<a.length){var b=this.showEllipse;this.createCommand(function(a){return new os.command.VectorLayerShowEllipse(a.getId(),b)})}};goog.exportProperty(os.ui.layer.LobOptionsCtrl.prototype,"onShowEllipseChange",os.ui.layer.LobOptionsCtrl.prototype.onShowEllipseChange);os.ui.layer.LobOptionsCtrl.prototype.onSizeChange=function(a,b){this.isDisposed()||this.sizeDelay_.start()};
goog.exportProperty(os.ui.layer.LobOptionsCtrl.prototype,"onSizeChange",os.ui.layer.LobOptionsCtrl.prototype.onSizeChange);os.ui.layer.LobOptionsCtrl.prototype.onSizeDelay_=function(){var a=goog.bind(function(a){return new os.command.VectorLayerArrowSize(a.getId(),this.scope.size)},this);this.createCommand(a)};os.ui.layer.LobOptionsCtrl.prototype.onLengthChange=function(a,b){this.isDisposed()||this.lengthDelay_.start()};goog.exportProperty(os.ui.layer.LobOptionsCtrl.prototype,"onLengthChange",os.ui.layer.LobOptionsCtrl.prototype.onLengthChange);
os.ui.layer.LobOptionsCtrl.prototype.onLengthDelay_=function(){var a=goog.bind(function(a){return new os.command.VectorLayerLOBLength(a.getId(),this.scope.length)},this);this.createCommand(a)};os.ui.layer.LobOptionsCtrl.prototype.onBearingErrorChange=function(a,b){this.isDisposed()||this.bearingErrorDelay_.start()};goog.exportProperty(os.ui.layer.LobOptionsCtrl.prototype,"onBearingErrorChange",os.ui.layer.LobOptionsCtrl.prototype.onBearingErrorChange);
os.ui.layer.LobOptionsCtrl.prototype.onBearingErrorDelay_=function(){var a=goog.bind(function(a){return new os.command.VectorLayerBearingError(a.getId(),this.scope.bearingErrorMultiplier)},this);this.createCommand(a)};os.ui.layer.LobOptionsCtrl.prototype.onLengthErrorChange=function(a,b){this.isDisposed()||this.lengthErrorDelay_.start()};goog.exportProperty(os.ui.layer.LobOptionsCtrl.prototype,"onLengthErrorChange",os.ui.layer.LobOptionsCtrl.prototype.onLengthErrorChange);
os.ui.layer.LobOptionsCtrl.prototype.onLengthErrorDelay_=function(){var a=goog.bind(function(a){return new os.command.VectorLayerLOBLengthError(a.getId(),this.scope.lengthErrorMultiplier)},this);this.createCommand(a)};os.ui.layer.LobOptionsCtrl.prototype.onLengthColumnChange=function(){var a=goog.bind(function(a){return new os.command.VectorLayerLOBMultiplier(a.getId(),this.lengthColumn)},this);this.createCommand(a)};
goog.exportProperty(os.ui.layer.LobOptionsCtrl.prototype,"onLengthColumnChange",os.ui.layer.LobOptionsCtrl.prototype.onLengthColumnChange);os.ui.layer.LobOptionsCtrl.prototype.onLengthErrorColumnChange=function(){var a=goog.bind(function(a){return new os.command.VectorLayerLOBError(a.getId(),this.lengthErrorColumn)},this);this.createCommand(a)};goog.exportProperty(os.ui.layer.LobOptionsCtrl.prototype,"onLengthErrorColumnChange",os.ui.layer.LobOptionsCtrl.prototype.onLengthErrorColumnChange);
os.ui.layer.LobOptionsCtrl.prototype.onBearingColumnChange=function(){var a=goog.bind(function(a){return new os.command.VectorLayerBearing(a.getId(),this.bearingColumn)},this);this.createCommand(a)};goog.exportProperty(os.ui.layer.LobOptionsCtrl.prototype,"onBearingColumnChange",os.ui.layer.LobOptionsCtrl.prototype.onBearingColumnChange);
os.ui.layer.LobOptionsCtrl.prototype.onBearingErrorColumnChange=function(){var a=goog.bind(function(a){return new os.command.VectorLayerBearingErrorColumn(a.getId(),this.bearingErrorColumn)},this);this.createCommand(a)};goog.exportProperty(os.ui.layer.LobOptionsCtrl.prototype,"onBearingErrorColumnChange",os.ui.layer.LobOptionsCtrl.prototype.onBearingErrorColumnChange);os.ui.sliderDirective=function(){return{restrict:"AE",replace:!0,scope:{live:"&",min:"=",max:"=",name:"@",value:"=",step:"=",disabled:"=?"},template:'<div class="slider-container"></div>',controller:os.ui.SliderCtrl}};os.ui.Module.directive("slider",[os.ui.sliderDirective]);
os.ui.SliderCtrl=function(a,b){var c={min:a.min,max:a.max,value:a.value,disabled:goog.isDef(a.disabled)?a.disabled:!1};goog.isDef(a.step)&&(c.step=a.step);var d=!0;goog.isDef(a.live)&&goog.isDef(a.live())&&(d=a.live());d?(d=this.onSlideStartStop.bind(this),c.slide=this.onSlide_.bind(this),c.start=d,c.stop=d):c.stop=this.onSlide_.bind(this);a.$on("$destroy",this.onDestroy_.bind(this));this.scope_=a;this.element_=b;this.element_.slider(c);b=this.onChange_.bind(this);a.$watch("disabled",b);a.$watch("value",
b);a.$watch("min",b);a.$watch("max",b);a.$watch("step",b)};os.ui.SliderCtrl.prototype.onDestroy_=function(){this.element_=this.scope_=null};os.ui.SliderCtrl.prototype.onChange_=function(a,b){if(a!==b){a=["min","max","step","value","disabled"];b=0;for(var c=a.length;b<c;b++){var d=a[b];d in this.scope_&&this.element_.slider("option",d,this.scope_[d])}}};
os.ui.SliderCtrl.prototype.onSlide_=function(a,b){if(b=this.getBounds_(b))b=1===b.length?b[0]:b,this.scope_.value=b,this.scope_.$emit(this.scope_.name+"."+a.type,b),os.ui.apply(this.scope_)};os.ui.SliderCtrl.prototype.onSlideStartStop=function(a,b){this.scope_.$emit(this.scope_.name+"."+a.type,this.scope_.value)};os.ui.SliderCtrl.prototype.getBounds_=function(a){if("values"in a){var b=a.values;a=b[0];b=b[1];return[Math.min(a,b),Math.max(a,b)]}return[a.value]};os.ui.layer.VectorStyleControlsEventType={SHAPE_CHANGE:"vector:shapeChange",CENTER_SHAPE_CHANGE:"vector:centerShapeChange"};
os.ui.layer.vectorStyleControlsDirective=function(){return{restrict:"E",replace:!0,scope:{color:"=",opacity:"=",icon:"=?",centerIcon:"=?",iconSet:"=?",iconSrc:"=?",showIcon:"=?",showCenterIcon:"=?",size:"=",shape:"=",shapes:"=",centerShape:"=?",centerShapes:"=?",showColorReset:"=?"},templateUrl:os.ROOT+"views/layer/vectorstylecontrols.html",controller:os.ui.layer.VectorStyleControlsCtrl,controllerAs:"ctrl"}};os.ui.Module.directive("vectorstylecontrols",[os.ui.layer.vectorStyleControlsDirective]);
os.ui.layer.VectorStyleControlsCtrl=function(a){goog.Disposable.call(this);this.scope=a;null==this.scope.showIcon&&(this.scope.showIcon=!0);null==this.scope.showCenterIcon&&(this.scope.showCenterIcon=!0);a.$on("$destroy",goog.bind(this.dispose,this))};goog.inherits(os.ui.layer.VectorStyleControlsCtrl,goog.Disposable);os.ui.layer.VectorStyleControlsCtrl.prototype.disposeInternal=function(){this.scope=null};
os.ui.layer.VectorStyleControlsCtrl.prototype.onShapeChange=function(){this.scope&&this.scope.$emit(os.ui.layer.VectorStyleControlsEventType.SHAPE_CHANGE,this.scope.shape)};goog.exportProperty(os.ui.layer.VectorStyleControlsCtrl.prototype,"onShapeChange",os.ui.layer.VectorStyleControlsCtrl.prototype.onShapeChange);os.ui.layer.VectorStyleControlsCtrl.prototype.hasCenter=function(){return this.scope&&this.scope.shape?os.style.CENTER_LOOKUP[this.scope.shape]:!1};
goog.exportProperty(os.ui.layer.VectorStyleControlsCtrl.prototype,"hasCenter",os.ui.layer.VectorStyleControlsCtrl.prototype.hasCenter);os.ui.layer.VectorStyleControlsCtrl.prototype.onCenterShapeChange=function(a){this.scope&&(this.scope.$emit(os.ui.layer.VectorStyleControlsEventType.CENTER_SHAPE_CHANGE,a),this.scope.centerShape=a)};goog.exportProperty(os.ui.layer.VectorStyleControlsCtrl.prototype,"onCenterShapeChange",os.ui.layer.VectorStyleControlsCtrl.prototype.onCenterShapeChange);os.ui.layer.vectorLayerUIDirective=function(){return{restrict:"AE",replace:!0,templateUrl:os.ROOT+"views/layer/vector.html",controller:os.ui.layer.VectorLayerUICtrl,controllerAs:"vector"}};os.ui.Module.directive("vectorlayerui",[os.ui.layer.vectorLayerUIDirective]);
os.ui.layer.VectorLayerUICtrl=function(a,b,c){this.iconSet=os.ui.file.kml.GOOGLE_EARTH_ICON_SET;this.iconSrc=os.ui.file.kml.replaceGoogleUri;this.replaceStyle=this.showReplaceStyle=!1;this.getShapeUI=this.getShapeUIInternal.bind(this);os.ui.layer.DefaultLayerUICtrl.call(this,a,b,c);this.defaultColorControl=os.ui.ColorControlType.PICKER;this.initEvents.push(os.layer.PropertyChange.LOCK);a.$on("size.slidestop",this.onSizeChange.bind(this));a.$on("color.change",this.onColorChange.bind(this));a.$on("color.reset",
this.onColorReset.bind(this));a.$on(os.ui.icon.IconPickerEventType.CHANGE,this.onIconChange.bind(this));a.$on(os.ui.layer.VectorStyleControlsEventType.SHAPE_CHANGE,this.onShapeChange.bind(this));a.$on(os.ui.layer.VectorStyleControlsEventType.CENTER_SHAPE_CHANGE,this.onCenterShapeChange.bind(this));a.$on("labelColor.change",this.onLabelColorChange.bind(this));a.$on("labelColor.reset",this.onLabelColorReset.bind(this));a.$on("labelSize.spinstop",this.onLabelSizeChange.bind(this));a.$on(os.ui.layer.LabelControlsEventType.COLUMN_CHANGE,
this.onLabelColumnChange.bind(this));a.$on(os.ui.layer.LabelControlsEventType.SHOW_LABELS_CHANGE,this.onShowLabelsChange.bind(this))};goog.inherits(os.ui.layer.VectorLayerUICtrl,os.ui.layer.DefaultLayerUICtrl);
os.ui.layer.VectorLayerUICtrl.prototype.initUI=function(){os.ui.layer.VectorLayerUICtrl.superClass_.initUI.call(this);if(this.scope){this.scope.color=this.getColor_();this.scope.size=this.getSize_();this.scope.icon=this.getIcon_();this.scope.centerIcon=this.getCenterIcon_();this.scope.shape=this.getShape_();this.scope.shapes=this.getShapes_();this.scope.centerShape=this.getCenterShape_();this.scope.centerShapes=this.getCenterShapes_();this.scope.lockable=this.getLockable_();this.scope.altitude=this.getAltitudeEnabled_();
this.updateReplaceStyle_();if(this.scope.items&&1==this.scope.items.length){if(this.scope.columns=this.getValue(os.ui.layer.getColumns),this.reconcileLabelsState_(),this.scope.showLabels!==this.getValue(os.ui.layer.getShowLabel)&&(this.scope.showLabels=this.getValue(os.ui.layer.getShowLabel)),this.scope.labelColor!==this.getValue(os.ui.layer.getLabelColor)&&(this.scope.labelColor=this.getValue(os.ui.layer.getLabelColor)),this.scope.labelSize!==this.getValue(os.ui.layer.getLabelSize)||this.scope.labelSize!==
os.style.label.DEFAULT_SIZE)this.scope.labelSize=this.getValue(os.ui.layer.getLabelSize)||os.style.label.DEFAULT_SIZE}else this.scope.columns=null,this.scope.column=null,this.scope.showLabels=!1,this.scope.labelColor="",this.scope.labelSize=0;this.scope.$broadcast(os.ui.UISwitchEventType.UPDATE)}};os.ui.layer.VectorLayerUICtrl.prototype.getShapeUIInternal=function(){if(null!=this.scope){var a=this.scope.shape||"";if(os.style.ELLIPSE_REGEXP.test(a))return"ellipseoptions";if(os.style.LOB_REGEXP.test(a))return"loboptions"}};
os.ui.layer.VectorLayerUICtrl.prototype.reconcileLabelsState_=function(){var a=this.getValue(os.ui.layer.getColumn,[]),b=[];goog.array.forEach(a,function(a){b.push(os.style.label.cloneConfig(a))},this);0===b.length&&b.push(os.style.label.cloneConfig());this.scope.labels=b};os.ui.layer.VectorLayerUICtrl.prototype.onColorChange=function(a,b){a.stopPropagation();this.createCommand(function(a){return new os.command.VectorLayerColor(a.getId(),b)})};
os.ui.layer.VectorLayerUICtrl.prototype.onColorReset=function(a){a.stopPropagation();this.onColorChange(a,"");this.scope.color=this.getColor_()};os.ui.layer.VectorLayerUICtrl.prototype.onSizeChange=function(a,b){a.stopPropagation();this.createCommand(function(a){return new os.command.VectorLayerSize(a.getId(),b)})};os.ui.layer.VectorLayerUICtrl.prototype.onIconChange=function(a,b){a.stopPropagation();b&&this.createCommand(function(a){return new os.command.VectorLayerIcon(a.getId(),b)})};
goog.exportProperty(os.ui.layer.VectorLayerUICtrl.prototype,"onIconChange",os.ui.layer.VectorLayerUICtrl.prototype.onIconChange);os.ui.layer.VectorLayerUICtrl.prototype.onShapeChange=function(a,b){a.stopPropagation();b&&this.createCommand(function(a){return new os.command.VectorLayerShape(a.getId(),b)})};goog.exportProperty(os.ui.layer.VectorLayerUICtrl.prototype,"onShapeChange",os.ui.layer.VectorLayerUICtrl.prototype.onShapeChange);
os.ui.layer.VectorLayerUICtrl.prototype.onCenterShapeChange=function(a,b){a.stopPropagation();b&&this.createCommand(function(a){return new os.command.VectorLayerCenterShape(a.getId(),b)})};goog.exportProperty(os.ui.layer.VectorLayerUICtrl.prototype,"onCenterShapeChange",os.ui.layer.VectorLayerUICtrl.prototype.onCenterShapeChange);
os.ui.layer.VectorLayerUICtrl.prototype.onLabelColorChange=function(a,b){a.stopPropagation();this.createCommand(function(a){return new os.command.VectorLayerLabelColor(a.getId(),b)})};os.ui.layer.VectorLayerUICtrl.prototype.onLabelColorReset=function(a){a.stopPropagation();var b=this.scope.items;b&&0<b.length&&(b=b[0].getLayer())&&(b=os.style.StyleManager.getInstance().getLayerConfig(b.getId()),this.scope.labelColor=os.style.getConfigColor(b));this.onLabelColorChange(a,"")};
os.ui.layer.VectorLayerUICtrl.prototype.onLabelSizeChange=function(a,b){a.stopPropagation();this.createCommand(function(a){return new os.command.VectorLayerLabelSize(a.getId(),b)})};os.ui.layer.VectorLayerUICtrl.prototype.onLabelColumnChange=function(a){a.stopPropagation();(a=this.scope.items)&&1===a.length&&(a=goog.bind(function(a){return new os.command.VectorLayerLabel(a.getId(),this.scope.labels)},this),this.createCommand(a))};
os.ui.layer.VectorLayerUICtrl.prototype.onShowLabelsChange=function(a,b){a.stopPropagation();(a=this.scope.items)&&1===a.length&&this.createCommand(function(a){return new os.command.VectorLayerShowLabel(a.getId(),b)})};
os.ui.layer.VectorLayerUICtrl.prototype.getColor_=function(){var a=this.scope.items;if(a)for(var b=0,c=a.length;b<c;b++)try{if(a[b].getLayer()){var d=os.style.StyleManager.getInstance().getLayerConfig(a[0].getId());if(d){var e=os.style.getConfigColor(d,!0);return e?goog.color.rgbArrayToHex(e):e}}}catch(f){}return null};
os.ui.layer.VectorLayerUICtrl.prototype.getSize_=function(){var a=this.scope.items,b;if(a)for(var c=0,d=a.length;c<d;c++)try{if(a[c].getLayer()){var e=os.style.StyleManager.getInstance().getLayerConfig(a[0].getId());e&&(b=os.style.getConfigSize(e))}}catch(f){}return b||os.style.DEFAULT_FEATURE_SIZE};
os.ui.layer.VectorLayerUICtrl.prototype.getIcon_=function(){var a=this.scope.items,b=null;if(a&&0<a.length)try{var c=os.data.DataManager.getInstance().getSource(a[0].getId());if(c&&c.getGeometryShape()==os.style.ShapeType.ICON){var d=os.style.StyleManager.getInstance().getLayerConfig(a[0].getId());b=os.style.getConfigIcon(d)||os.ui.file.kml.getDefaultIcon()}}catch(e){}return b};
os.ui.layer.VectorLayerUICtrl.prototype.getCenterIcon_=function(){var a=this.scope.items,b=null;if(a&&0<a.length)try{var c=os.data.DataManager.getInstance().getSource(a[0].getId());if(c&&c.getCenterGeometryShape()==os.style.ShapeType.ICON){var d=os.style.StyleManager.getInstance().getLayerConfig(a[0].getId());b=os.style.getConfigIcon(d)||os.ui.file.kml.getDefaultIcon()}}catch(e){}return b};
os.ui.layer.VectorLayerUICtrl.prototype.getShape_=function(){var a=this.scope.items,b;if(a&&0<a.length)try{var c=os.osDataManager.getSource(a[0].getId());c&&(b=c.getGeometryShape())}catch(d){}return b||os.style.DEFAULT_SHAPE};
os.ui.layer.VectorLayerUICtrl.prototype.getShapes_=function(){var a=this.scope.items,b=goog.object.getKeys(os.style.SHAPES);if(a&&0<a.length)for(var c=0,d=a.length;c<d;c++)try{var e=os.osDataManager.getSource(a[c].getId());e&&e instanceof os.source.Vector&&(b=goog.array.filter(b,e.supportsShape,e))}catch(f){}return b};
os.ui.layer.VectorLayerUICtrl.prototype.getCenterShape_=function(){var a=this.scope.items,b;if(a&&0<a.length)try{var c=os.osDataManager.getSource(a[0].getId());if(c){var d=c.getCenterGeometryShape();os.style.ELLIPSE_REGEXP.test(d)||os.style.DEFAULT_REGEXP.test(d)||(b=d)}}catch(e){}return b||os.style.DEFAULT_CENTER_SHAPE};
os.ui.layer.VectorLayerUICtrl.prototype.getCenterShapes_=function(){var a=this.scope.items,b=goog.object.getKeys(os.style.SHAPES);if(a&&0<a.length)for(var c=0,d=a.length;c<d;c++)try{var e=os.osDataManager.getSource(a[c].getId());e&&e instanceof os.source.Vector&&(b=goog.array.filter(b,e.isNotEllipseOrLOBOrDefault,e))}catch(f){}return b};
os.ui.layer.VectorLayerUICtrl.prototype.getLockable_=function(){this.lock=!1;var a=!0,b=this.scope.items;if(b&&0<b.length)for(var c=0,d=b.length;c<d;c++)try{var e=os.osDataManager.getSource(b[c].getId());if(e&&e instanceof os.source.Vector&&!e.isLockable()){a=!1;break}else this.lock=e.isLocked()}catch(f){a=!1}return a};
os.ui.layer.VectorLayerUICtrl.prototype.onLockChange=function(){var a=this.scope.items;if(a&&0<a.length)for(var b=0,c=a.length;b<c;b++)try{var d=os.osDataManager.getSource(a[b].getId());d&&d instanceof os.source.Vector&&d.isLockable()&&d.setLocked(this.lock)}catch(e){}};goog.exportProperty(os.ui.layer.VectorLayerUICtrl.prototype,"onLockChange",os.ui.layer.VectorLayerUICtrl.prototype.onLockChange);
os.ui.layer.VectorLayerUICtrl.prototype.updateReplaceStyle_=function(){this.replaceStyle=this.showReplaceStyle=!1;var a=this.getLayerNodes();if(a&&0<a.length){var b;this.showReplaceStyle=goog.array.every(a,function(a){a=a.getLayer();if(os.implements(a,os.layer.ILayer.ID)){var c=a.getLayerOptions();if(c&&c[os.layer.LayerOption.SHOW_FORCE_COLOR])return null==b&&(a=os.style.StyleManager.getInstance().getLayerConfig(a.getId()))&&(b=!!a[os.style.StyleField.REPLACE_STYLE]),!0}return!1});null!=b&&(this.replaceStyle=
b)}};os.ui.layer.VectorLayerUICtrl.prototype.onReplaceStyleChange=function(){var a=this.scope.items;if(a&&0<a.length){var b=this.replaceStyle;this.createCommand(function(a){return new os.command.VectorLayerReplaceStyle(a.getId(),b)})}};goog.exportProperty(os.ui.layer.VectorLayerUICtrl.prototype,"onReplaceStyleChange",os.ui.layer.VectorLayerUICtrl.prototype.onReplaceStyleChange);
os.ui.layer.VectorLayerUICtrl.prototype.getAltitudeEnabled_=function(){var a=!0,b=this.scope.items;if(b&&0<b.length)for(var c=0,d=b.length;c<d;c++)try{var e=os.osDataManager.getSource(b[c].getId());if(e&&e instanceof os.source.Vector){a=e.hasAltitudeEnabled();break}}catch(f){}return a};
os.ui.layer.VectorLayerUICtrl.prototype.onAltitudeChange=function(){var a=this.scope.items;if(a&&0<a.length)for(var b=0,c=a.length;b<c;b++)try{var d=os.osDataManager.getSource(a[b].getId());d&&d instanceof os.source.Vector&&d.setAltitudeEnabled(this.scope.altitude)}catch(e){}};goog.exportProperty(os.ui.layer.VectorLayerUICtrl.prototype,"onAltitudeChange",os.ui.layer.VectorLayerUICtrl.prototype.onAltitudeChange);os.command.AbstractSource=function(a){this.sourceId=a;this.state=os.command.State.READY};os.command.AbstractSource.prototype.getSource=function(){return os.osDataManager.getSource(this.sourceId)};os.command.AbstractSource.prototype.isAsync=!1;os.command.AbstractSource.prototype.execute=goog.abstractMethod;os.command.AbstractSource.prototype.revert=goog.abstractMethod;os.command.AbstractSource.prototype.title="Source";os.command.AbstractSource.prototype.details=null;
os.command.AbstractSource.prototype.canExecute=function(){return this.state!==os.command.State.READY?(this.details="Command not in ready state.",!1):this.getSource()?!0:(this.state=os.command.State.ERROR,this.details='Data source "'+this.sourceId+'" does not exist',!1)};os.ui.query.ui.comboNodeUIDirective=function(){return{restrict:"AE",replace:!0,template:'<span class="pull-right slick-node-ui""><span class="group" ng-if="nodeUi.isGroup()" title="Whether to pass all filters (AND) or any filter (OR)"><span class="glyph" style="text-decoration:underline;" ng-click="nodeUi.toggleGroup()">{{nodeUi.group ? "All (AND)" : "Any (OR)"}}</span></span><span class="glyphs"><span ng-if="nodeUi.isArea() && nodeUi.isEnabled()" ng-click="nodeUi.toggleQuery()" title="Toggles between querying and excluding the area"><i class="fa fa-fw glyph" ng-class="{\'fa-ban red-icon\': !nodeUi.include, \'fa-circle-o yellow-icon\': nodeUi.include}"></i></span><span ng-if="nodeUi.isFilter() && nodeUi.showCopy()" ng-click="nodeUi.copy()"><i class="fa fa-copy fa-fw glyph" title="Copy"></i></span><span ng-if="nodeUi.isFilter() || nodeUi.isArea()" ng-click="nodeUi.edit()"><i class="fa fa-pencil fa-fw glyph" title="Edit"></i></span><span ng-if="nodeUi.isFilter() || nodeUi.isArea()" ng-click="nodeUi.remove()"><i class="fa fa-times fa-fw glyph glyph-remove" title="Remove"></i></span></span></span>',
controller:os.ui.query.ui.ComboNodeUICtrl,controllerAs:"nodeUi"}};os.ui.Module.directive("combonodeui",[os.ui.query.ui.comboNodeUIDirective]);os.ui.query.ui.ComboNodeUICtrl=function(a,b){this.scope_=a;this.node_=a.item;this.group=this.getFilterGroup();this.include=this.getInclude();(b=this.getEntry())&&!goog.isDef(b.filterGroup)&&(b.filterGroup=this.group);a.$on("$destroy",this.onDestroy_.bind(this))};os.ui.query.ui.ComboNodeUICtrl.prototype.onDestroy_=function(){this.scope_=null};
os.ui.query.ui.ComboNodeUICtrl.prototype.getFilterGroup=function(){var a=this.node_.getChildren();if(a&&a.length){for(var b=!0,c=0;c<a.length;c++){var d=a[c].getEntry();d&&goog.isDef(d.filterGroup)&&!d.filterGroup&&(b=!1)}return b}return!0};os.ui.query.ui.ComboNodeUICtrl.prototype.getInclude=function(){var a=this.node_.getEntry();return a&&a.areaId?(a=a.includeArea,goog.isDef(a)?a:!0):!0};
os.ui.query.ui.ComboNodeUICtrl.prototype.toggleGroup=function(){this.group=!this.group;this.getEntry().filterGroup=this.group;var a=this.node_.getChildren();if(a)for(var b=0,c=a.length;b<c;b++){var d=a[b];d&&(d=d.getEntry())&&d.filterId&&(d.filterGroup=this.group)}this.scope_.$emit("dirty")};goog.exportProperty(os.ui.query.ui.ComboNodeUICtrl.prototype,"toggleGroup",os.ui.query.ui.ComboNodeUICtrl.prototype.toggleGroup);
os.ui.query.ui.ComboNodeUICtrl.prototype.isGroup=function(){var a=this.node_.getChildren();return a&&a.length?(a=a[0].getEntry(),!!a&&!!a.filterId&&"*"!==a.filterId):!1};goog.exportProperty(os.ui.query.ui.ComboNodeUICtrl.prototype,"isGroup",os.ui.query.ui.ComboNodeUICtrl.prototype.isGroup);os.ui.query.ui.ComboNodeUICtrl.prototype.getEntry=function(){return this.node_.getEntry()};
os.ui.query.ui.ComboNodeUICtrl.prototype.toggleQuery=function(){this.include=!this.include;var a=this.getEntry();a&&(a.includeArea=this.include);os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Filters.ADVANCED_AREA_INCLUDE_TOGGLE,1);this.scope_.$emit("dirty")};goog.exportProperty(os.ui.query.ui.ComboNodeUICtrl.prototype,"toggleQuery",os.ui.query.ui.ComboNodeUICtrl.prototype.toggleQuery);
os.ui.query.ui.ComboNodeUICtrl.prototype.isArea=function(){var a=this.getEntry();return!!a&&!!a.areaId&&"*"!==a.areaId};goog.exportProperty(os.ui.query.ui.ComboNodeUICtrl.prototype,"isArea",os.ui.query.ui.ComboNodeUICtrl.prototype.isArea);os.ui.query.ui.ComboNodeUICtrl.prototype.isEnabled=function(){return this.node_.getState()!==os.structs.TriState.OFF};goog.exportProperty(os.ui.query.ui.ComboNodeUICtrl.prototype,"isEnabled",os.ui.query.ui.ComboNodeUICtrl.prototype.isEnabled);
os.ui.query.ui.ComboNodeUICtrl.prototype.isFilter=function(){var a=this.getEntry();return!!a&&!!a.filterId&&"*"!==a.filterId};goog.exportProperty(os.ui.query.ui.ComboNodeUICtrl.prototype,"isFilter",os.ui.query.ui.ComboNodeUICtrl.prototype.isFilter);os.ui.query.ui.ComboNodeUICtrl.prototype.edit=function(){this.scope_.$emit("edit",this.isFilter(),this.getEntry());os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Filters.ADVANCED_AREA_EDIT,1)};
goog.exportProperty(os.ui.query.ui.ComboNodeUICtrl.prototype,"edit",os.ui.query.ui.ComboNodeUICtrl.prototype.edit);os.ui.query.ui.ComboNodeUICtrl.prototype.view=function(){this.scope_.$emit("view",this.isFilter(),this.getEntry())};goog.exportProperty(os.ui.query.ui.ComboNodeUICtrl.prototype,"view",os.ui.query.ui.ComboNodeUICtrl.prototype.view);
os.ui.query.ui.ComboNodeUICtrl.prototype.showCopy=function(){var a=this.getEntry().layerId;a=os.dataManager.getDescriptor(a);var b=os.ui.queryManager.getLayerSet();return 0<goog.object.getCount(b)&&!!a};goog.exportProperty(os.ui.query.ui.ComboNodeUICtrl.prototype,"showCopy",os.ui.query.ui.ComboNodeUICtrl.prototype.showCopy);
os.ui.query.ui.ComboNodeUICtrl.prototype.copy=function(){this.scope_.$emit("copy",this.getEntry());os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Filters.ADVANCED_AREA_COPY,1)};goog.exportProperty(os.ui.query.ui.ComboNodeUICtrl.prototype,"copy",os.ui.query.ui.ComboNodeUICtrl.prototype.copy);
os.ui.query.ui.ComboNodeUICtrl.prototype.remove=function(){this.scope_.$emit("remove",this.isFilter(),this.getEntry());this.scope_.$emit("dirty");os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Filters.ADVANCED_AREA_REMOVE,1)};goog.exportProperty(os.ui.query.ui.ComboNodeUICtrl.prototype,"remove",os.ui.query.ui.ComboNodeUICtrl.prototype.remove);os.ui.query.ComboNode=function(a){os.ui.slick.SlickTreeNode.call(this);this.entry_=null;this.collapsed=!1;a=a||"combonodeui";this.nodeUI="<"+a+"></"+a+">"};goog.inherits(os.ui.query.ComboNode,os.ui.slick.SlickTreeNode);os.ui.query.ComboNode.prototype.getEntry=function(){return this.entry_};
os.ui.query.ComboNode.prototype.setEntry=function(a){this.entry_=a;a="";if(this.entry_&&this.entry_.filterId){var b=os.ui.filterManager.getFilter(this.entry_.filterId);b&&(a=os.ui.filter.toFilterString(b.getFilterNode(),1E3))}this.setToolTip(a)};os.ui.query.ComboNode.prototype.formatIcons=function(){var a=null;this.entry_&&this.entry_.layerId&&!this.entry_.filterId&&!this.entry_.areaId&&(a=(a=os.dataManager.getDescriptor(this.entry_.layerId))?a.getIcons():"");return a?a:os.ui.query.ComboNode.superClass_.formatIcons.call(this)};
os.ui.query.ComboNode.prototype.updateFrom=function(a){this.setEntry(a.getEntry());os.ui.query.ComboNode.superClass_.updateFrom.call(this,a)};os.ui.query.ComboNode.prototype.onMouseEnter=function(){if(this.entry_){var a=this.entry_.areaId;a&&"*"!==a&&os.ui.areaManager.highlight(a)}};os.ui.query.ComboNode.prototype.onMouseLeave=function(){if(this.entry_){var a=this.entry_.areaId;a&&"*"!==a&&os.ui.areaManager.unhighlight(a)}};
os.ui.query.ComboNode.prototype.isNoEntry=function(){var a=this.getLabel(),b=/^No (layers|filters|areas)$/;return!!a&&b.test(a)};os.ui.query.ComboNode.prototype.getState=function(){var a=os.ui.query.ComboNode.superClass_.getState.call(this);return a==os.structs.TriState.BOTH?os.structs.TriState.ON:a};
os.ui.query.ComboNode.prototype.setState=function(a){var b=this.isNoEntry(),c=this.getParent();if(c){var d=c.getEntry();this.entry_&&d&&goog.isDef(d.filterGroup)&&(this.entry_.filterGroup=d.filterGroup);if(a!==os.structs.TriState.OFF&&!this.getChildren()){var e=c.getChildren();if(e){d=0;for(var f=e.length;d<f;d++){var g=e[d];g!==this&&(b||g.isNoEntry())&&g.setState(os.structs.TriState.OFF)}}if(d=c.getParent())for(b=c.isNoEntry(),e=d.getChildren(),d=0,f=e.length;d<f;d++)if(g=e[d],g!==c){var h=g.getChildren();
if(h)for(var k=0,l=h.length;k<l;k++){var m=h[k];m.getId()===this.getId()&&(b||g.isNoEntry())&&m.setState(os.structs.TriState.OFF)}}}}os.ui.query.ComboNode.superClass_.setState.call(this,a)};os.ui.query.QueryManager=function(){goog.events.EventTarget.call(this);this.entries=[];this.expandedEntries=[];this.handlers=[];this.idsToUpdate={};this.refreshTimer=new goog.async.Delay(this.onRefreshTimer_,20,this);this.updateTimer=new goog.async.Delay(this.onUpdateTimer_,20,this);os.ui.areaManager.listen(goog.events.EventType.PROPERTYCHANGE,this.onAreaToggle,!1,this);os.ui.filterManager.listen(goog.events.EventType.PROPERTYCHANGE,this.onFilterToggle,!1,this);this.load()};
goog.inherits(os.ui.query.QueryManager,goog.events.EventTarget);goog.addSingletonGetter(os.ui.query.QueryManager);os.ui.query.QueryManager.LOGGER_=goog.log.getLogger("os.ui.query.QueryManager");os.ui.query.QueryManager.prototype.save=function(){};os.ui.query.QueryManager.prototype.load=function(){};
os.ui.query.QueryManager.prototype.getEntries=function(a,b,c,d,e){d=d?this.expandedEntries:this.entries;e=!!e;return a||b||c?d.filter(function(d,g,h){return(e||!("negate"in d))&&(!a||a==d.layerId)&&(!b||b==d.areaId)&&(!c||c==d.filterId)}):d.slice()};os.ui.query.QueryManager.prototype.addIdsToUpdate_=function(a,b){for(var c=0;c<b.length;c++)-1==goog.array.findIndex(a,function(a){return goog.object.equals(a,b[c])})&&this.isActive(b[c].areaId)&&(this.idsToUpdate[b[c].layerId]=!0)};
os.ui.query.QueryManager.prototype.onUpdateTimer_=function(){var a=this.getExpanded();this.addIdsToUpdate_(this.expandedEntries,a);this.expandedEntries=a;this.onRefreshTimer_();this.save()};
os.ui.query.QueryManager.prototype.addEntry=function(a,b,c,d,e,f,g){var h=this.getEntries(a,b,c);if(0===h.length||h[0].includeArea!==d||h[0].filterGroup!==e)this.removeEntries(a,b,c),b={layerId:a,areaId:b,filterId:c,includeArea:goog.isDef(d)?d:!0,filterGroup:goog.isDef(e)?e:!0},f&&(b.temp=!0),this.entries.push(b),this.idsToUpdate[a]=!0;if(g)this.onUpdateTimer_();else this.updateTimer.start()};
os.ui.query.QueryManager.prototype.hasActiveExplicitEntries=function(){for(var a=this.getLayerSet(),b=0,c=this.entries.length;b<c;b++){var d=this.entries[b],e=d.layerId;if("*"!==e&&e in a&&"*"!==d.areaId&&"*"!==d.filterId)return!0}return!1};
os.ui.query.QueryManager.prototype.addEntries=function(a,b,c){(c=c?c===os.ui.query.ALL_ID?"*":c:void 0)&&(this.idsToUpdate[c]=!0);for(var d=0,e=a.length;d<e;d++)this.entries.push(a[d]),!c&&this.isActive(a[d].areaId)&&(this.idsToUpdate[a[d].layerId]=!0);if(b)this.onUpdateTimer_();else this.updateTimer.start()};
os.ui.query.QueryManager.prototype.getActiveEntries=function(a){var b=this.getLayerSet(),c=os.ui.areaManager,d=os.ui.filterManager;return(a?this.expandedEntries:this.entries).filter(function(a,f,g){g=a.layerId;f=a.areaId;a=a.filterId;if(g&&"*"!==g&&!(g in b))return!1;g=c.get(f);if(f&&"*"!==f&&(!g||!g.get("shown")))return!1;f=d.getFilter(a);return!a||"*"===a||f&&f.isEnabled()?!0:!1})};
os.ui.query.QueryManager.prototype.removeEntries=function(a,b,c,d){if(a||b||c){d=this.entries.length;for(var e=0;d--;){var f=this.entries[d];a&&a!=f.layerId||b&&b!=f.areaId||c&&c!=f.filterId||(this.entries.splice(d,1),"negate"in f||(this.idsToUpdate[f.layerId]=!0),e++)}0<e&&(goog.log.fine(os.ui.query.QueryManager.LOGGER_,"Removed "+e+" entries matching layer: "+a+" area: "+b+" filter: "+c),this.updateTimer.start())}else goog.log.fine(os.ui.query.QueryManager.LOGGER_,"Clearing all query entries"),
this.entries.length=0,d||(this.idsToUpdate["*"]=!0,this.updateTimer.start())};os.ui.query.QueryManager.prototype.removeEntriesArr=function(a){goog.asserts.assert(goog.isDefAndNotNull(a));for(var b=this.entries.length,c=0;b--;){var d=this.entries[b];-1<a.indexOf(d)&&("negate"in d||!this.isActive(d.areaId)||(this.idsToUpdate[d.layerId]=!0),this.entries.splice(b,1),c++)}0<c&&(goog.log.fine(os.ui.query.QueryManager.LOGGER_,"Removed "+c+" entries."),this.updateTimer.start())};
os.ui.query.QueryManager.prototype.registerHandler=function(a,b){goog.asserts.assert(a);this.handlers.push(a);b?this.onUpdateTimer_():this.updateTimer.start()};os.ui.query.QueryManager.prototype.unregisterHandler=function(a){for(var b=!1,c=0,d=this.handlers.length;c<d;c++)if(this.handlers[c]===a||this.handlers[c].getLayerId()===a){this.handlers.splice(c,1);b=!0;break}b&&this.updateTimer.start()};
os.ui.query.QueryManager.prototype.getHandlerById=function(a){for(var b=0,c=this.handlers.length;b<c;b++)if(this.handlers[b].getLayerId()===a)return this.handlers[b];return null};os.ui.query.QueryManager.prototype.hasArea=function(a){var b=typeof a;a="string"==b||"number"==b?a:a.getId();b=os.ui.areaManager;for(var c=!1,d=!1,e=0,f=this.entries.length;e<f;e++){var g=this.entries[e],h=g.areaId;h===a&&(h=b.get(h))&&h.get("shown")&&(g.includeArea?c=!0:d=!0)}return c&&d?3:c?2:d?1:0};
os.ui.query.QueryManager.prototype.hasFilter=function(a){var b=typeof a;a="string"==b||"number"==b?a:a.getId();b=os.ui.filterManager;for(var c=0,d=this.entries.length;c<d;c++){var e=this.entries[c].filterId;if(e===a&&(e=b.getFilter(e))&&e.isEnabled())return!0}return!1};os.ui.query.QueryManager.prototype.isAnd=function(a,b){var c=typeof a;a="string"==c||"number"==c?a:a.getId();c=0;for(var d=this.entries.length;c<d;c++){var e=this.entries[c],f=e.filterId,g=e.layerId;if((!b||b===g)&&f===a)return e.filterGroup}return!0};
os.ui.query.QueryManager.prototype.scheduleRefresh=function(a){this.idsToUpdate[a]=!0;this.refreshTimer.start()};os.ui.query.QueryManager.prototype.onRefreshTimer_=function(){goog.log.fine(os.ui.query.QueryManager.LOGGER_,"Refreshing layers");this.dispatchEvent(new os.events.PropertyChangeEvent("queries",this.idsToUpdate));this.idsToUpdate={}};os.ui.query.QueryManager.prototype.isActive=function(a){return 0<this.hasArea(a)};os.ui.query.QueryManager.prototype.isInclusion=function(a){return 1<this.hasArea(a)};
os.ui.query.QueryManager.prototype.isExclusion=function(a){return 0!==this.hasArea(a)%2};os.ui.query.QueryManager.prototype.hasInclusion=function(a){for(var b=os.ui.areaManager,c=0,d=this.entries.length;c<d;c++){var e=this.entries[c],f=e.areaId,g=b.get(f);if(e.layerId===a&&f&&e.includeArea&&g&&g.get("shown"))return!0}return!1};
os.ui.query.QueryManager.prototype.getLayerSet=function(){for(var a={},b=0,c=this.handlers.length;b<c;b++){var d=this.handlers[b].getLayerId(),e=this.handlers[b].getLayerName();d&&(a[d]=e)}return a};os.ui.query.QueryManager.prototype.onToggle=function(a){this.updateTimer.start();for(var b={},c=0,d=a.length;c<d;c++)b[a[c].layerId]=!0;if("*"in b)this.scheduleRefresh("*");else for(var e in b)this.scheduleRefresh(e)};
os.ui.query.QueryManager.prototype.onAreaToggle=function(a){"toggle"===a.getProperty()&&(a=a.getNewValue(),goog.asserts.assert(!!a),a=a.getId(),this.onToggle(this.getEntries(null,a)))};os.ui.query.QueryManager.prototype.onFilterToggle=function(a){"toggle"===a.getProperty()&&(a=a.getNewValue(),goog.asserts.assert(!!a),a=a.getId(),this.onToggle(this.getEntries(null,null,a)))};os.ui.query.QueryManager.prototype.getLayerIds=function(){return goog.object.getKeys(this.getLayerSet())};
os.ui.query.QueryManager.getKey_=function(a){var b=[a.layerId,a.areaId,a.filterId,a.includeArea,a.filterGroup];"negate"in a&&b.push(a.negate);return b.join("|")};
os.ui.query.QueryManager.prototype.getExpanded=function(a){var b=a||this.entries;a={};for(var c,d=[],e=0,f=b.length;e<f;e++){var g=b[e];"*"===g.layerId||"*"===g.areaId||"*"===g.filterId?d.push(g):(c=os.ui.query.QueryManager.getKey_(g),a[c]=g)}if(!d.length)return this.entries.slice();b=[];var h={};e=0;for(f=this.handlers.length;e<f;e++){var k=this.handlers[e].getLayerId();!k||k in h||(b.push({layerId:k}),h[k]=!0)}h={"*|*":[]};k={};var l={};for(e=d.length;e--;){g=d[e];var m=g.areaId,n=g.layerId;f=g.filterId;
var p=g.includeArea,q=g.filterGroup,r=g.negate;m&&"*"!==m&&(g=n+"|"+f,r||(g in h||(h[g]=[]),h[g].push({areaId:m,includeArea:p})),r||"*"!==n)&&(m in k||(k[m]={}),k[m][n]=!0);f&&"*"!==f&&(n in l||(l[n]=[]),l[n].push({filterId:f,filterGroup:q}));r&&d.splice(e,1)}if("*"in l){p=l["*"];e=0;for(f=p.length;e<f;e++)for(var u=0,t=b.length;u<t;u++)q=goog.object.clone(p[e]),g=b[u],g in l||(l[g]=[]),l[g].push(q);delete l["*"]}p=["layerId","areaId","filterId"];q=0;for(r=p.length;q<r;q++){var w=p[q],v=[];e=0;for(f=
d.length;e<f;e++)if(g=d[e],"*"===g[w]){n=g.layerId;u=null;if(0===q){if(m=g.areaId,u=b,m&&"*"!==m){var A=k[m];A&&(u=b.filter(function(a){return!(a.layerId in A)}))}}else if(1===q){var y=h[n+"|*"],x=h["*|*"];y=y?y.slice():[];x=x?x.slice():[];for(u=x.length;u--;){m=x[u].areaId;var B=!1;t=y.length;var z=k[m];z&&n in z&&(B=!0);if(!B)for(z=0;z<t;z++)if(y[z].areaId===m){B=!0;break}B&&x.splice(u,1)}u=y.concat(x)}else u=l[n];if(u&&u.length)for(m=0,n=u.length;m<n;m++){t=goog.object.clone(g);y=u[m];for(c in y)t[c]=
y[c];y=!1;x=0;for(B=p.length;x<B;x++)if("*"===t[p[x]]){y=!0;break}y?v.push(t):(c=os.ui.query.QueryManager.getKey_(t),a[c]=t)}else g.includeArea&&l[n]?v.push(g):(c=os.ui.query.QueryManager.getKey_(g),a[c]=g)}else v.push(g);d=v}return goog.object.getValues(a).concat(v)};os.ui.query.QueryManager.sortFields_=["layerId","areaId","filterId","includeArea","filterGroup"];
os.ui.query.QueryManager.sortEntries=function(a,b){for(var c=os.ui.query.QueryManager.sortFields_,d=0,e=0,f=c.length;e<f&&!(d=goog.array.defaultCompare(a[c[e]],b[c[e]]));e++);return d};
os.ui.query.QueryManager.prototype.getPivotData=function(a,b,c,d,e,f){b=goog.isDef(b)?b:0;a=a||["layer","area","filter"];if(b>=a.length)return null;c||(c=new os.ui.query.ComboNode(f),c.setId("root"));var g=a[b].toLowerCase();b++;for(var h=null,k=null,l,m=c;m;){if(l=m.getEntry()){var n=l.filterId;h||"*"===n||(h=n);l=l.layerId;k||"*"===l||(k=l)}m=m.getParent()}m=os.ui.filterManager;if(d&&2==b&&"*"!==c.getId()){for(h=b-1;h<a.length;h++)g=a[h].toLowerCase(),n=a[h===b-1?b:h].toLowerCase(),m=new os.ui.query.ComboNode(f),
m.setId([k,g,"*"].join("|")),m.setLabel(g.charAt(0).toUpperCase()+g.substring(1)+"s"),l={},l[n+"Id"]="*",m.setEntry(l),c.addChild(m),this.getPivotData([g],0,m,d,e,f);return c}switch(g){case "layer":k=null;h?(m=m.getFilter(h))&&(k=[m.type]):e?(h=e.label,n=e.id,m=new os.ui.query.ComboNode(f),m.setId(n),m.setLabel((d?"":"Layer: ")+h),m.setEntry({layerId:n}),c.addChild(m),this.getPivotData(a,b,m,d,e,f)):k=this.getLayerIds();if(k)for(n=this.getLayerSet(),h=0,l=k.length;h<l;h++){var p=n[k[h]];p&&(m=new os.ui.query.ComboNode(f),
m.setId(k[h]),m.setLabel((d?"":"Layer: ")+p),m.setEntry({layerId:k[h]}),c.addChild(m),this.getPivotData(a,b,m,d,e,f))}break;case "area":k=os.ui.areaManager.getAll();h=0;for(l=k.length;h<l;h++)k[h].get("shown")&&(m=new os.ui.query.ComboNode(f),n=k[h].getId(),m.setId(n),m.setLabel((d?"":"Area: ")+k[h].get("title")),m.setEntry({areaId:n}),c.addChild(m),this.getPivotData(a,b,m,d,e,f));break;case "filter":if((n=m.getFilters(k))&&n.length)for(h=0,l=n.length;h<l;h++)n[h].isEnabled()&&(m=new os.ui.query.ComboNode(f),
m.setId(n[h].getId()),m.setLabel((d?"":"Filter: ")+n[h].getTitle()),m.setEntry({filterId:n[h].getId(),layerId:k}),c.addChild(m),this.getPivotData(a,b,m,d,e,f));d||(m=new os.ui.query.ComboNode(f),m.setLabel("No filters"),m.setId("nofilters"),c.addChild(m),this.getPivotData(a,b,m,d,e,f))}m=c.getChildren();d||m&&m.length?m&&m.sort(function(a,b){a=a.getLabel();b=b.getLabel();return goog.isString(a)&&goog.isString(b)?goog.string.caseInsensitiveCompare(a,b):goog.array.defaultCompare(a,b)}):(m=new os.ui.query.ComboNode(f),
m.setLabel("No "+g+"s"),c.addChild(m),this.getPivotData(a,b,m,d,e,f));return c};os.ui.queryManager=null;os.query.QueryManager=function(){os.dataManager.listen(os.data.event.DataEventType.SOURCE_REMOVED,this.onDataSourceRemoved_,!1,this);os.ui.query.QueryManager.call(this)};goog.inherits(os.query.QueryManager,os.ui.query.QueryManager);goog.addSingletonGetter(os.query.QueryManager);goog.object.extend(os.ui.query.QueryManager,{getInstance:function(){return os.query.QueryManager.getInstance()}});os.query.QueryManager.LOGGER_=goog.log.getLogger("os.query.QueryManager");
os.query.QueryManager.prototype.onDataSourceRemoved_=function(a){if(a.source){a=a.source.getId();for(var b=this.handlers.length;b--;)if(this.handlers[b].getLayerId()===a){var c=this.handlers.splice(b,1);c&&c.forEach(function(a){goog.dispose(a)})}goog.log.info(os.query.QueryManager.LOGGER_,"Removed all query handlers for "+a)}};
os.query.QueryManager.prototype.load=function(){this.entries=(this.entries=os.settings.get(["query","entries"],[]))||[];var a=os.ui.areaManager,b=os.ui.filterManager;this.entries=this.entries.filter(function(c){var d=c.areaId;c=c.filterId;return d&&"*"!==d&&!a.get(d)||c&&"*"!==c&&!b.getFilter(c)?!1:!0});this.updateTimer.start()};os.query.QueryManager.prototype.save=function(){var a=this.entries.filter(function(a,c,d){return!a.temp});os.settings.set(["query","entries"],a)};os.command.RenameLayer=function(a,b,c){this.layer_=a;this.newName_=b;this.oldName_=c;this.details=this.title="Rename layer from "+this.oldName_+" to "+this.newName_;this.isAsync=!1;this.state=os.command.State.READY};os.command.RenameLayer.prototype.execute=function(){return this.state===os.command.State.READY?(this.state=os.command.State.EXECUTING,this.renameLayer_(this.newName_),this.state=os.command.State.SUCCESS,!0):!1};
os.command.RenameLayer.prototype.revert=function(){this.state=os.command.State.REVERTING;this.renameLayer_(this.oldName_);this.state=os.command.State.SUCCESS;return this.layer_?(this.renameLayer_(this.oldName_),this.state=os.command.State.READY,!0):!1};os.command.RenameLayer.prototype.renameLayer_=function(a){this.layer_.setTitle(a);var b=this.layer_.getSource();os.implements(b,os.source.ISource.ID)&&(b.setTitle(a),os.MapContainer.getInstance().dispatchEvent(new goog.events.Event(os.events.LayerEventType.RENAME)))};os.ui.renamelayer={};os.ui.renamelayer.launchRenameDialog=function(a){a&&os.ui.window.launchConfirmText({confirm:goog.partial(os.ui.renamelayer.addRenameLayer,a),defaultValue:a.getTitle(),prompt:"Please choose a layer name:",select:!0,windowOptions:{icon:"fa fa-i-cursor",label:"Rename Layer"}})};os.ui.renamelayer.addRenameLayer=function(a,b){a=new os.command.RenameLayer(a,b,a.getTitle());os.command.CommandProcessor.getInstance().addCommand(a)};os.layer.Vector=function(a){ol.layer.Vector.call(this,a);this.id_=goog.string.getRandomString();this.osType_=os.layer.LayerType.FEATURES;this.explicitType_=os.layer.ExplicitLayerType.FEATURES;this.title_="New Layer";this.loading_=!1;this.tags_=this.provider_=null;this.removable_=!0;this.layerOptions_=null;this.nodeUi_="<defaultlayernodeui></defaultlayernodeui>";this.layerUi_="vectorlayerui";this.visible_=!0;this.mapVisibilityLocked_=this.animationEnabled_=!1;this.doubleClickHandler_=os.layer.Vector.defaultDoubleClickHandler_.bind(this);
this.filterColumns_=this.filterLauncher_=null;this.sticky_=!1;this.syncType_=os.layer.SynchronizerType.VECTOR;this.hidden_=!1;this.setRenderOrder(null);os.MapContainer.getInstance().listen(goog.events.EventType.PROPERTYCHANGE,this.onMapChange_,!1,this)};goog.inherits(os.layer.Vector,ol.layer.Vector);os.implements(os.layer.Vector,os.layer.ILayer.ID);os.implements(os.layer.Vector,os.filter.IFilterable.ID);os.implements(os.layer.Vector,os.legend.ILegendRenderer.ID);os.layer.Vector.NAME="os.layer.Vector";
os.registerClass(os.layer.Vector.NAME,os.layer.Vector);os.layer.Vector.prototype.disposeInternal=function(){os.layer.Vector.superClass_.disposeInternal.call(this);os.MapContainer.getInstance().unlisten(goog.events.EventType.PROPERTYCHANGE,this.onMapChange_,!1,this);this.setLoading(!1);var a=this.getSource();a&&a.dispose();os.style.StyleManager.getInstance().removeLayerConfig(this.getId())};
os.layer.Vector.prototype.setSource=function(a){var b=this.getSource();b&&b instanceof os.source.Vector&&(ol.events.unlisten(b,goog.events.EventType.PROPERTYCHANGE,this.onSourceChange,this),b.setCesiumEnabled(!1));os.layer.Vector.superClass_.setSource.call(this,a);a&&a instanceof os.source.Vector&&(ol.events.listen(a,goog.events.EventType.PROPERTYCHANGE,this.onSourceChange,this),a.setCesiumEnabled(os.MapContainer.getInstance().is3DEnabled()))};
os.layer.Vector.prototype.onMapChange_=function(a){if(a.getProperty()==os.MapChange.VIEW3D){a=a.getNewValue();this.updateMapVisibility_();var b=this.getSource();b instanceof os.source.Vector&&b.setCesiumEnabled(a)}};
os.layer.Vector.prototype.onSourceChange=function(a){var b=a.getProperty();switch(b){case os.source.PropertyChange.FEATURE_VISIBILITY:b=this.getSource();if(a=a.getNewValue())for(var c=0,d=a.length;c<d;c++){var e=a[c];os.MapContainer.getInstance().updateFeatureVisibility(e,!b.isHidden(e))}break;case os.source.PropertyChange.LOADING:this.setLoading(a.getNewValue());break;case os.source.PropertyChange.VISIBLE:this.setLayerVisible(a.getNewValue());break;case os.source.PropertyChange.ANIMATION_ENABLED:this.animationEnabled_=
a.getNewValue();this.updateMapVisibility_();break;case os.source.PropertyChange.TIME_ENABLED:b=new os.events.PropertyChangeEvent(os.layer.PropertyChange.TIME_ENABLED,a.getNewValue(),a.getOldValue());this.dispatchEvent(b);break;case os.source.PropertyChange.STYLE:b=new os.events.PropertyChangeEvent(os.layer.PropertyChange.STYLE,a.getNewValue(),a.getOldValue());this.dispatchEvent(b);break;case os.source.PropertyChange.LOCK:b=new os.events.PropertyChangeEvent(os.layer.PropertyChange.LOCK,a.getNewValue(),
a.getOldValue());this.dispatchEvent(b);break;case os.source.PropertyChange.REFRESH_INTERVAL:b=new os.events.PropertyChangeEvent(os.layer.PropertyChange.REFRESH_INTERVAL,a.getNewValue(),a.getOldValue());this.dispatchEvent(b);break;case os.source.PropertyChange.COLOR_MODEL:b=new os.events.PropertyChangeEvent(os.layer.PropertyChange.COLOR_MODEL,a.getNewValue(),a.getOldValue());this.dispatchEvent(b);break;case os.source.PropertyChange.COLUMNS:case os.source.PropertyChange.COLUMN_ADDED:this.dispatchEvent(new os.events.PropertyChangeEvent(b))}};
os.layer.Vector.prototype.updateMapVisibility_=function(){this.animationEnabled_&&!os.MapContainer.getInstance().is3DEnabled()?this.lockMapVisibility(!1):this.unlockMapVisibility()};os.layer.Vector.prototype.getId=function(){return this.id_};os.layer.Vector.prototype.setId=function(a){this.id_=a};
os.layer.Vector.prototype.getIcons=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.getId());return a?(a=os.style.getConfigColor(a,!0),os.ui.createIconSet(this.getId(),this.getSVGSet(),this.getFASet(),a)):this.getIconSet().join("")};os.layer.Vector.prototype.getFASet=function(){var a=[],b=this.getSource();b instanceof os.source.Vector&&b.getColorModel()&&a.push(os.ui.Icons.COLOR_MODEL);return a};
os.layer.Vector.prototype.getSVGSet=function(){var a=[os.ui.IconsSVG.FEATURES],b=this.getSource();b instanceof os.source.Vector&&(b.getTimeEnabled()&&a.push(os.ui.IconsSVG.TIME),b.isLocked()&&a.push(os.ui.IconsSVG.LOCK));return a};os.layer.Vector.prototype.getIconSet=function(){var a=[os.ui.Icons.FEATURES],b=this.getSource();b instanceof os.source.Vector&&(b.getTimeEnabled()&&a.push(os.ui.Icons.TIME),b.isLocked()&&a.push(os.ui.Icons.LOCK),b.getColorModel()&&a.push(os.ui.Icons.COLOR_MODEL));return a};
os.layer.Vector.prototype.getLayerOptions=function(){return this.layerOptions_};os.layer.Vector.prototype.setLayerOptions=function(a){this.layerOptions_=a};os.layer.Vector.prototype.isLoading=function(){return this.loading_};os.layer.Vector.prototype.setLoading=function(a){if(this.loading_!==a){var b=this.loading_;this.loading_=a;this.dispatchEvent(new os.events.PropertyChangeEvent(os.layer.PropertyChange.LOADING,a,b))}};os.layer.Vector.prototype.getProvider=function(){return this.provider_};
os.layer.Vector.prototype.setProvider=function(a){this.provider_=a};os.layer.Vector.prototype.isRemovable=function(){return this.removable_};os.layer.Vector.prototype.setRemovable=function(a){this.removable_=a};os.layer.Vector.prototype.isSticky=function(){return this.sticky_};os.layer.Vector.prototype.setSticky=function(a){this.sticky_=a};os.layer.Vector.prototype.getTags=function(){return this.tags_};os.layer.Vector.prototype.setTags=function(a){this.tags_=a};
os.layer.Vector.prototype.getTitle=function(){return this.title_};os.layer.Vector.prototype.setTitle=function(a){if(this.title_!==a){var b=this.title_;this.title_=a;this.dispatchEvent(new os.events.PropertyChangeEvent("title",a,b))}};os.layer.Vector.prototype.getOSType=function(){return this.osType_};os.layer.Vector.prototype.setOSType=function(a){this.osType_=a};os.layer.Vector.prototype.getExplicitType=function(){return this.explicitType_};
os.layer.Vector.prototype.setExplicitType=function(a){this.explicitType_=a};os.layer.Vector.prototype.getLayerVisible=function(){return this.visible_};os.layer.Vector.prototype.setLayerVisible=function(a){a=!!a;if(a!=this.visible_){this.visible_=a;this.mapVisibilityLocked_||this.setVisible(a);this.dispatchEvent(new os.events.PropertyChangeEvent("visible",a,!a));var b=this.getSource();b instanceof os.source.Vector&&b.setVisible(a)}};os.layer.Vector.prototype.setBaseVisible=function(a){this.setVisible(a)};
os.layer.Vector.prototype.getBaseVisible=function(){return this.getVisible()};os.layer.Vector.prototype.getNodeUI=function(){return this.nodeUi_};os.layer.Vector.prototype.setNodeUI=function(a){this.nodeUi_=a};os.layer.Vector.prototype.setOpacity=function(a){var b=this.getSource();b instanceof os.source.Vector&&(b.setOverlayOpacity(a),b.set(ol.layer.Property.OPACITY,a,!0));os.layer.Vector.superClass_.setOpacity.call(this,a)};
os.layer.Vector.prototype.setZIndex=function(a){var b=this.getSource();b instanceof os.source.Vector&&(b.setOverlayZIndex(a),b.set(ol.layer.Property.Z_INDEX,a,!0));os.layer.Vector.superClass_.setZIndex.call(this,a);os.style.label.updateShown()};os.layer.Vector.prototype.getFeatureDirective=function(){return this.featureDirective_};os.layer.Vector.prototype.setFeatureDirective=function(a){this.featureDirective_=a};
os.layer.Vector.prototype.lockMapVisibility=function(a){this.mapVisibilityLocked_=!0;this.getVisible()!=a&&this.setVisible(a)};os.layer.Vector.prototype.unlockMapVisibility=function(){this.mapVisibilityLocked_=!1;this.getVisible()!=this.visible_&&this.setVisible(this.visible_)};os.layer.Vector.prototype.identify=function(){var a=this.getSource();a instanceof os.source.Vector?os.source.identifySource(a):os.layer.identifyLayer(this)};
os.layer.Vector.prototype.callAction=function(a){var b=this.getSource();if(os.action)switch(a){case os.action.EventType.IDENTIFY:this.identify();break;case os.action.EventType.CLEAR_SELECTION:b instanceof os.source.Vector&&b.selectNone();break;case os.action.EventType.DISABLE_TIME:b instanceof os.source.Vector&&b.setTimeEnabled(!1);break;case os.action.EventType.ENABLE_TIME:b instanceof os.source.Vector&&b.setTimeEnabled(!0);break;case os.action.EventType.MOST_RECENT:!os.dataManager.setTimeFromDescriptor(this.getId())&&
b instanceof os.source.Vector&&(a=b.getTimeModel())&&(a=a.getRange().getEnd(),0<a&&a<os.time.TimeInstant.MAX_TIME&&os.time.TimelineController.getInstance().setRangeStart(a));break;case os.action.EventType.REFRESH:b instanceof os.source.Request&&b.refresh();break;case os.action.EventType.LOCK:case os.action.EventType.UNLOCK:b instanceof os.source.Vector&&b.isLockable()&&b.setLocked(a==os.action.EventType.LOCK);break;case os.action.EventType.REMOVE_LAYER:a=new os.events.LayerEvent(os.events.LayerEventType.REMOVE,
this.getId());os.dispatcher.dispatchEvent(a);break;case os.action.EventType.RENAME:os.ui.renamelayer.launchRenameDialog(this);break;case os.action.EventType.RESET_COLOR:b instanceof os.source.Vector&&b.setColorModel(null)}};os.layer.Vector.prototype.getLayerUI=function(){return this.layerUi_};os.layer.Vector.prototype.setLayerUI=function(a){this.layerUi_=a};os.layer.Vector.prototype.getGroupUI=function(){return null};os.layer.Vector.prototype.isFilterable=function(){return goog.isDefAndNotNull(this.filterLauncher_)};
os.layer.Vector.prototype.getFilterKey=function(){var a=this.getLayerOptions(),b=os.dataManager.getDescriptor(a.id);if(os.implements(b,os.filter.IFilterable.ID))return b.getFilterKey();b=a.url;a=(a=a.params)?a.get("typename"):null;return b&&a?b+"!!"+a:null};os.layer.Vector.prototype.getFilterableTypes=function(){return[this.getId()]};os.layer.Vector.prototype.launchFilterManager=function(){goog.isDefAndNotNull(this.filterLauncher_)&&this.filterLauncher_(this)};
os.layer.Vector.prototype.getFilterColumns=function(){return goog.isDefAndNotNull(this.filterColumns_)?this.filterColumns_(this):null};os.layer.Vector.prototype.getFilterLauncher=function(){return this.filterLauncher_};os.layer.Vector.prototype.setFilterLauncher=function(a){this.filterLauncher_=a};os.layer.Vector.prototype.getFilterColumnsFn=function(){return this.filterColumns_};os.layer.Vector.prototype.setFilterColumnsFn=function(a){this.filterColumns_=a};
os.layer.Vector.prototype.supportsAction=function(a,b){var c=this.getSource(),d=c instanceof os.source.Vector;if(os.action)switch(a){case os.action.EventType.GOTO:case os.action.EventType.IDENTIFY:case os.action.EventType.SHOW_DESCRIPTION:return!0;case os.action.EventType.RENAME:return!!b&&goog.isArrayLike(b)&&1===b.length;case os.action.EventType.BUFFER:case os.action.EventType.EXPORT:case os.action.EventType.CLEAR_SELECTION:return d&&c.getSupportsAction(a);case os.action.EventType.DISABLE_TIME:return d&&
c.getTimeEnabled();case os.action.EventType.ENABLE_TIME:return d&&!c.getTimeEnabled();case os.action.EventType.MOST_RECENT:return a=NaN,d&&(d=os.dataManager.getDescriptor(this.getId()),goog.isDefAndNotNull(d)&&(a=d.getMaxDate()),(isNaN(a)||0>=a)&&(c=c.getTimeModel())&&(a=c.getRange().getEnd())),0<a&&a<os.time.TimeInstant.MAX_TIME;case os.action.EventType.REMOVE_LAYER:return this.isRemovable();case os.action.EventType.REFRESH:return this.osType_!==os.layer.LayerType.REF&&d&&c.isRefreshEnabled();case os.action.EventType.LOCK:return d&&
c.isLockable()&&!c.isLocked();case os.action.EventType.UNLOCK:return d&&c.isLockable()&&c.isLocked();case os.action.EventType.RESET_COLOR:return d&&null!=c.getColorModel();default:return d&&c.getSupportsAction(a)}return!1};os.layer.Vector.prototype.getDoubleClickHandler=function(){return this.doubleClickHandler_};os.layer.Vector.prototype.setDoubleClickHandler=function(a){this.doubleClickHandler_=a};os.layer.Vector.prototype.getSynchronizerType=function(){return this.syncType_};
os.layer.Vector.prototype.setSynchronizerType=function(a){this.syncType_=a};os.layer.Vector.prototype.getHidden=function(){return this.hidden_};os.layer.Vector.prototype.setHidden=function(a){this.hidden_=a};os.layer.Vector.prototype.renderLegend=function(a){os.legend.drawVectorLayer(this,a)};
os.layer.Vector.prototype.persist=function(a){a=a||{};a.visible=this.getLayerVisible();a.opacity=this.getOpacity();a.minResolution=this.getMinResolution();a.maxResolution=this.getMaxResolution();var b=os.style.StyleManager.getInstance().getLayerConfig(this.getId());b&&(a[os.style.StyleField.ARROW_SIZE]=b[os.style.StyleField.ARROW_SIZE],a[os.style.StyleField.COLOR]=os.style.getConfigColor(b),a[os.style.StyleField.REPLACE_STYLE]=b[os.style.StyleField.REPLACE_STYLE],a[os.style.StyleField.SIZE]=os.style.getConfigSize(b),
a[os.style.StyleField.ICON]=os.style.getConfigIcon(b),a[os.style.StyleField.LABELS]=b[os.style.StyleField.LABELS],a[os.style.StyleField.LABEL_COLOR]=b[os.style.StyleField.LABEL_COLOR],a[os.style.StyleField.LABEL_SIZE]=b[os.style.StyleField.LABEL_SIZE],a[os.style.StyleField.LOB_LENGTH]=b[os.style.StyleField.LOB_LENGTH],a[os.style.StyleField.LOB_LENGTH_COLUMN]=b[os.style.StyleField.LOB_LENGTH_COLUMN],a[os.style.StyleField.LOB_LENGTH_ERROR]=b[os.style.StyleField.LOB_LENGTH_ERROR],a[os.style.StyleField.LOB_LENGTH_ERROR_COLUMN]=
b[os.style.StyleField.LOB_LENGTH_ERROR_COLUMN],a[os.style.StyleField.LOB_BEARING_COLUMN]=b[os.style.StyleField.LOB_BEARING_COLUMN],a[os.style.StyleField.LOB_BEARING_ERROR]=b[os.style.StyleField.LOB_BEARING_ERROR],a[os.style.StyleField.LOB_BEARING_ERROR_COLUMN]=b[os.style.StyleField.LOB_BEARING_ERROR_COLUMN],a[os.style.StyleField.SHOW_ARROW]=b[os.style.StyleField.SHOW_ARROW],a[os.style.StyleField.SHOW_ELLIPSE]=b[os.style.StyleField.SHOW_ELLIPSE],a[os.style.StyleField.SHOW_ERROR]=b[os.style.StyleField.SHOW_ERROR],
a[os.style.StyleField.SHOW_LABELS]=b[os.style.StyleField.SHOW_LABELS],a[os.style.StyleField.SHOW_ELLIPSOIDS]=b[os.style.StyleField.SHOW_ELLIPSOIDS],a[os.style.StyleField.SHOW_GROUND_REF]=b[os.style.StyleField.SHOW_GROUND_REF]);(b=this.getSource())&&os.implements(b,os.source.ISource.ID)&&(a=b.persist(a));return a};
os.layer.Vector.prototype.restore=function(a){null!=a.id&&this.setId(a.id);var b=os.style.StyleManager.getInstance().getOrCreateLayerConfig(this.getId());null!=a.provider&&this.setProvider(a.provider);null!=a.tags&&this.setTags(a.tags);null!=a.title&&this.setTitle(a.title);null!=a.layerType&&this.setOSType(a.layerType);null!=a.explicitType&&this.setExplicitType(a.explicitType);null!=a.visible&&this.setLayerVisible(a.visible);null!=a.featureDirective&&this.setFeatureDirective(a.featureDirective);null!=
a.layerUI&&this.setLayerUI(a.layerUI);null!=a.nodeUI&&this.setNodeUI(a.nodeUI);var c=a.alpha||a.opacity;null!=c&&this.setOpacity(c);this.setMinResolution(a.minResolution||this.getMinResolution());this.setMaxResolution(a.maxResolution||this.getMaxResolution());null!=a[os.style.StyleField.COLOR]&&os.style.setConfigColor(b,os.style.toRgbaString(a[os.style.StyleField.COLOR]));null!=a[os.style.StyleField.REPLACE_STYLE]&&(b[os.style.StyleField.REPLACE_STYLE]=a[os.style.StyleField.REPLACE_STYLE]);null!=
a[os.style.StyleField.SIZE]&&os.style.setConfigSize(b,a[os.style.StyleField.SIZE]);null!=a[os.style.StyleField.ICON]&&os.style.setConfigIcon(b,a[os.style.StyleField.ICON]);null!=a[os.style.StyleField.SHOW_ARROW]&&(b[os.style.StyleField.SHOW_ARROW]=a[os.style.StyleField.SHOW_ARROW]);null!=a[os.style.StyleField.SHOW_ERROR]&&(b[os.style.StyleField.SHOW_ERROR]=a[os.style.StyleField.SHOW_ERROR]);null!=a[os.style.StyleField.SHOW_ELLIPSE]&&(b[os.style.StyleField.SHOW_ELLIPSE]=a[os.style.StyleField.SHOW_ELLIPSE]);
null!=a[os.style.StyleField.SHOW_ELLIPSOIDS]&&(b[os.style.StyleField.SHOW_ELLIPSOIDS]=a[os.style.StyleField.SHOW_ELLIPSOIDS]);null!=a[os.style.StyleField.SHOW_GROUND_REF]&&(b[os.style.StyleField.SHOW_GROUND_REF]=a[os.style.StyleField.SHOW_GROUND_REF]);b[os.style.StyleField.ARROW_SIZE]=a[os.style.StyleField.ARROW_SIZE]||os.style.DEFAULT_ARROW_SIZE;b[os.style.StyleField.LOB_LENGTH]=a[os.style.StyleField.LOB_LENGTH]||os.style.DEFAULT_LOB_LENGTH;b[os.style.StyleField.LOB_LENGTH_ERROR]=a[os.style.StyleField.LOB_LENGTH_ERROR]||
os.style.DEFAULT_LOB_LENGTH_ERROR;b[os.style.StyleField.LOB_LENGTH_COLUMN]=a[os.style.StyleField.LOB_LENGTH_COLUMN]||"";b[os.style.StyleField.LOB_LENGTH_ERROR_COLUMN]=a[os.style.StyleField.LOB_LENGTH_ERROR_COLUMN]||"";b[os.style.StyleField.LOB_BEARING_COLUMN]=a[os.style.StyleField.LOB_BEARING_COLUMN]||"";b[os.style.StyleField.LOB_BEARING_ERROR]=a[os.style.StyleField.LOB_BEARING_ERROR]||os.style.DEFAULT_LOB_BEARING_ERROR;b[os.style.StyleField.LOB_BEARING_ERROR_COLUMN]=a[os.style.StyleField.LOB_BEARING_ERROR_COLUMN]||
"";b[os.style.StyleField.LABELS]=a[os.style.StyleField.LABELS]||[os.style.label.cloneConfig()];b[os.style.StyleField.LABEL_COLOR]=a[os.style.StyleField.LABEL_COLOR];b[os.style.StyleField.LABEL_SIZE]=a[os.style.StyleField.LABEL_SIZE]||os.style.label.DEFAULT_SIZE;b[os.style.StyleField.SHOW_LABELS]=a[os.style.StyleField.SHOW_LABELS]||!1;(b=this.getSource())&&os.implements(b,os.source.ISource.ID)&&b.restore(a)};
os.layer.Vector.defaultDoubleClickHandler_=function(a){if(a){var b=os.feature.getTitle(a)||this.getTitle();os.ui.launchFeatureInfo(a,b,this.getFeatureDirective())}};os.ui.node.featureCountDirective=function(){return{restrict:"AE",replace:!0,template:'<span class="feature-count"></span>',controller:os.ui.node.FeatureCountCtrl,controllerAs:"featureCount"}};os.ui.Module.directive("featurecount",[os.ui.node.featureCountDirective]);
os.ui.node.FeatureCountCtrl=function(a,b){this.source_=null;this.element_=b;"item"in a&&(b=a.item.getLayer().getSource())&&b instanceof os.source.Vector&&(this.source_=b,ol.events.listen(this.source_,goog.events.EventType.PROPERTYCHANGE,this.onPropertyChange_,this));a.$on("$destroy",this.onDestroy_.bind(this));this.element_.html(this.getTotal())};
os.ui.node.FeatureCountCtrl.prototype.onDestroy_=function(){this.source_&&ol.events.unlisten(this.source_,goog.events.EventType.PROPERTYCHANGE,this.onPropertyChange_,this);this.element_=null};
os.ui.node.FeatureCountCtrl.prototype.onPropertyChange_=function(a){a=a.getProperty();a!=os.source.PropertyChange.FEATURES&&a!=os.source.PropertyChange.FEATURE_VISIBILITY&&a!=os.source.PropertyChange.LOADING&&a!=os.source.PropertyChange.VISIBLE&&a!==os.source.PropertyChange.TIME_ENABLED&&a!=os.source.PropertyChange.TIME_FILTER||this.element_.html(this.getTotal())};
os.ui.node.FeatureCountCtrl.prototype.getTotal=function(){try{if(this.source_&&!this.source_.isDisposed()){if(this.source_.isLoading())return"(Loading...)";var a=this.source_.getTimeModel(),b=this.source_.getFilteredFeatures().length,c=a.getSize();return"("+(b==c?c:b+"/"+c)+")"}}catch(d){}return""};os.ui.node.layerTypeDirective=function(){return{restrict:"AE",replace:!0,template:"<span>{{layerType.getType()}}</span>",controller:os.ui.node.LayerTypeCtrl,controllerAs:"layerType"}};os.ui.Module.directive("layertype",[os.ui.node.layerTypeDirective]);os.ui.node.LayerTypeCtrl=function(a,b){this.scope_=a};os.ui.node.LayerTypeCtrl.prototype.getType=function(){if(os.settings.get(["ui","layers","showLayerTypes"],!0)){var a=this.scope_.item;if(a&&(a=a.getLayer()))return a.getExplicitType()}return""};
goog.exportProperty(os.ui.node.LayerTypeCtrl.prototype,"getType",os.ui.node.LayerTypeCtrl.prototype.getType);os.ui.node.tileLoadingDirective=function(){return{restrict:"AE",replace:!0,template:'<span class="tile-loading"></span>',controller:os.ui.node.TileLoadingCtrl,controllerAs:"tileLoading"}};os.ui.Module.directive("tileloading",[os.ui.node.tileLoadingDirective]);
os.ui.node.TileLoadingCtrl=function(a,b){this.element_=b;this.source_=null;"item"in a&&(b=a.item.getLayer().getSource())&&b instanceof ol.source.TileImage&&(this.source_=b,ol.events.listen(this.source_,goog.events.EventType.PROPERTYCHANGE,this.onPropertyChange_,this));this.element_.html(this.getText());a.$on("$destroy",this.onDestroy_.bind(this))};
os.ui.node.TileLoadingCtrl.prototype.onDestroy_=function(){this.source_&&ol.events.unlisten(this.source_,goog.events.EventType.PROPERTYCHANGE,this.onPropertyChange_,this);this.element_=null};os.ui.node.TileLoadingCtrl.prototype.onPropertyChange_=function(a){a.getProperty&&(a=a.getProperty(),a!=os.layer.PropertyChange.TILE_COUNT&&a!=os.source.PropertyChange.LOADING||this.element_.html(this.getText()))};
os.ui.node.TileLoadingCtrl.prototype.getText=function(){try{if(this.source_){var a=this.source_.get(os.layer.PropertyChange.TILE_COUNT);if(this.source_.isLoading())return null!=a?"("+a+" In View) Loading...":"(Loading...)";if(null!=a)return"("+a+" In View)"}}catch(b){}return""};os.data.LayerNode=function(){os.ui.slick.SlickTreeNode.call(this);this.layer_=null};goog.inherits(os.data.LayerNode,os.ui.slick.SlickTreeNode);os.data.LayerNode.prototype.disposeInternal=function(){os.data.LayerNode.superClass_.disposeInternal.call(this);this.onMouseLeave();this.setLayer(null)};os.data.LayerNode.prototype.getExtent=function(){var a=null,b=this.getLayer();b instanceof os.layer.Vector&&(a=b.getSource().getExtent());return a};
os.data.LayerNode.prototype.setState=function(a){var b=this.getChildren();if(a!==os.structs.TriState.BOTH||b&&b.length){b=this.getState();os.data.LayerNode.superClass_.setState.call(this,a);var c=this.getState();b!=c&&a!==os.structs.TriState.BOTH&&this.layer_&&this.layer_.setLayerVisible(c!==os.structs.TriState.OFF)}};os.data.LayerNode.prototype.getLayer=function(){return this.layer_};
os.data.LayerNode.prototype.setLayer=function(a){if(a!==this.layer_){this.layer_&&ol.events.unlisten(this.layer_,goog.events.EventType.PROPERTYCHANGE,this.onPropertyChange,this);var b=this.layer_;if(this.layer_=a){ol.events.listen(a,goog.events.EventType.PROPERTYCHANGE,this.onPropertyChange,this);this.setId(a.getId());this.setLabel(a.getTitle());var c=void 0;if(a instanceof os.layer.LayerGroup)for(var d=a.getLayers(),e=0,f=d.length;e<f;e++)if(void 0===c)c=d[e].getLayerVisible();else{if(c!=d[e].getLayerVisible()){this.setState(os.structs.TriState.BOTH);
c=void 0;break}}else c=a.getLayerVisible();void 0!==c&&this.setState(c?os.structs.TriState.ON:os.structs.TriState.OFF);this.nodeUI=a.getNodeUI()}this.dispatchEvent(new os.events.PropertyChangeEvent("layer",a,b))}};os.data.LayerNode.prototype.getId=function(){return this.layer_?this.layer_.getId():os.data.LayerNode.superClass_.getId.call(this)};os.data.LayerNode.prototype.getLabel=function(){return this.layer_?this.layer_.getTitle():os.data.LayerNode.superClass_.getId.call(this)};
os.data.LayerNode.prototype.getSearchText=function(){var a="";if(this.layer_){a+=this.layer_.getTitle();a+=this.getTags()?" "+this.getTags().join(" "):"";a+=" "+this.layer_.getOSType();var b=os.dataManager.getDescriptor(this.layer_.getId());b&&(a+=" "+b.getSearchText())}return a};os.data.LayerNode.prototype.getTags=function(){return this.layer_?this.layer_.getTags():null};os.data.LayerNode.prototype.formatIcons=function(){var a=null;this.layer_&&(a=this.layer_.getIcons());return a?a:os.data.LayerNode.superClass_.formatIcons.call(this)};
os.data.LayerNode.prototype.isLoading=function(){return this.layer_?this.layer_.isLoading():!1};goog.exportProperty(os.data.LayerNode.prototype,"isLoading",os.data.LayerNode.prototype.isLoading);
os.data.LayerNode.prototype.onPropertyChange=function(a){if(a instanceof os.events.PropertyChangeEvent)switch(a.getProperty()){case os.layer.PropertyChange.LOADING:this.dispatchEvent(new os.events.PropertyChangeEvent("loading",a.getOldValue(),a.getNewValue()));break;case os.layer.PropertyChange.VISIBLE:this.setState(a.getNewValue()?os.structs.TriState.ON:os.structs.TriState.OFF);this.dispatchEvent(new os.events.PropertyChangeEvent("loading"));break;case os.layer.PropertyChange.TITLE:this.setLabel(this.layer_.getTitle());
this.dispatchEvent(new os.events.PropertyChangeEvent("label"));break;case os.layer.PropertyChange.COLOR_MODEL:case os.layer.PropertyChange.ERROR:case os.layer.PropertyChange.ICONS:case os.layer.PropertyChange.LOCK:case os.layer.PropertyChange.STYLE:case os.layer.PropertyChange.TIME_ENABLED:this.dispatchEvent(new os.events.PropertyChangeEvent("icons"))}};os.data.LayerNode.prototype.updateFrom=function(a){this.setLayer(a.getLayer());os.data.LayerNode.superClass_.updateFrom.call(this,a)};
os.data.LayerNode.prototype.formatValue=function(a){a=os.data.LayerNode.superClass_.formatValue.call(this,a);var b=this.getLayer();b instanceof os.layer.LayerGroup?a+=" ("+this.getLayer().getProvider()+")":(a+=" <layertype></layertype>",b instanceof os.layer.Vector?a+=" <featurecount></featurecount>":b instanceof os.layer.Tile&&(a+=" <tileloading></tileloading>"));return a};os.data.DrawingLayerNode=function(){os.data.LayerNode.call(this);this.setBubbleState(!1);this.sortDelay_=new goog.async.Delay(this.onSortDelay,50,this)};goog.inherits(os.data.DrawingLayerNode,os.data.LayerNode);os.data.DrawingLayerNode.prototype.disposeInternal=function(){this.sortDelay_.dispose();os.data.DrawingLayerNode.superClass_.disposeInternal.call(this)};
os.data.DrawingLayerNode.prototype.getState=function(){var a=this.getChildren();return a&&0!==a.length?os.data.DrawingLayerNode.superClass_.getState.call(this):os.structs.TriState.ON};
os.data.DrawingLayerNode.prototype.setLayer=function(a){var b=this.getLayer(),c=null,d=os.query.AreaManager.getInstance();a!==b&&b&&(c=b.getSource(),ol.events.unlisten(c,ol.source.VectorEventType.ADDFEATURE,this.onFeatureAdded,this),ol.events.unlisten(c,ol.source.VectorEventType.REMOVEFEATURE,this.onFeatureRemoved,this),d.unlisten(goog.events.EventType.PROPERTYCHANGE,this.onAreasChanged_,!1,this),this.setChildren(null));os.data.DrawingLayerNode.superClass_.setLayer.call(this,a);a!==b&&a&&(c=a.getSource(),
ol.events.listen(c,ol.source.VectorEventType.ADDFEATURE,this.onFeatureAdded,this),ol.events.listen(c,ol.source.VectorEventType.REMOVEFEATURE,this.onFeatureRemoved,this),d.listen(goog.events.EventType.PROPERTYCHANGE,this.onAreasChanged_,!1,this),a=d.getAll().map(os.data.DrawingLayerNode.createNode_),c=c.getFeatures().filter(function(a){return!d.contains(a)&&!os.data.DrawingLayerNode.isHidden(a)}).map(os.data.DrawingLayerNode.createNode_),c=a.concat(c).filter(os.fn.filterFalsey),c.sort(os.data.DrawingLayerNode.childSort_),
this.setChildren(c))};os.data.DrawingLayerNode.prototype.onAreasChanged_=function(a){var b=a.getNewValue();a=a.getProperty();"add"===a||"add/edit"===a?this.addFeature(b):"remove"===a&&this.removeFeature(b)};os.data.DrawingLayerNode.prototype.onFeatureAdded=function(a){this.addFeature(a.feature)};
os.data.DrawingLayerNode.prototype.addFeature=function(a){if(a&&!os.data.DrawingLayerNode.isHidden(a)){var b=!1,c=this.getChildByFeature(a);if(c instanceof os.ui.query.AreaNode)c.setArea(a),b=!0;else if(c instanceof os.data.DrawingFeatureNode)c.setFeature(a),b=!0;else if(c&&this.removeChild(c),c=os.data.DrawingLayerNode.createNode_(a))this.addChild(c),b=!0;b&&this.sortDelay_.start()}};
os.data.DrawingLayerNode.prototype.onSortDelay=function(){var a=this.getChildren();a&&(a.sort(os.data.DrawingLayerNode.childSort_),this.dispatchEvent(new os.events.PropertyChangeEvent("children",a,null)))};
os.data.DrawingLayerNode.childSort_=function(a,b){if(a instanceof os.data.AreaNode&&!(b instanceof os.data.AreaNode))return-1;if(!(a instanceof os.data.AreaNode)&&b instanceof os.data.AreaNode)return 1;var c=goog.string.numerateCompare(a.getLabel()||"",b.getLabel()||"");0===c&&(c=goog.string.numerateCompare(a.getId(),b.getId()));return c};
os.data.DrawingLayerNode.createNode_=function(a){if(!os.data.DrawingLayerNode.isHidden(a)){var b=os.query.AreaManager.getInstance().contains(a)?new os.data.AreaNode(a):new os.data.DrawingFeatureNode(a);b.setId(""+a.getId());return b}return null};os.data.DrawingLayerNode.prototype.onFeatureRemoved=function(a){this.removeFeature(a.feature)};os.data.DrawingLayerNode.prototype.getChildByFeature=function(a){return this.childIdMap[""+a.getId()]||null};
os.data.DrawingLayerNode.prototype.removeFeature=function(a){var b=os.query.AreaManager.getInstance();!a||os.data.DrawingLayerNode.isHidden(a)||b.contains(a)||(a=this.getChildByFeature(a))&&this.removeChild(a)};os.data.DrawingLayerNode.isHidden=function(a){a=a.get(os.data.RecordField.DRAWING_LAYER_NODE);return!(void 0===a||a)};os.structs.ITreeNodeSupplier=function(){};os.layer.Drawing=function(a){os.layer.Vector.call(this,a);os.dispatcher.listen(os.action.EventType.REMOVE_FEATURE,this.onRemoveFeature_,!1,this)};goog.inherits(os.layer.Drawing,os.layer.Vector);os.layer.Drawing.ID="draw";os.layer.Drawing.prototype.getTreeNode=function(){var a=new os.data.DrawingLayerNode;a.collapsed=!0;a.setLayer(this);return a};os.layer.Drawing.prototype.getId=function(){return os.layer.Drawing.ID};
os.layer.Drawing.prototype.onRemoveFeature_=function(a){a=a.getContext();if(os.instanceOf(a.feature,ol.Feature.NAME)){a=a.feature;var b=this.getSource();b&&b.getFeatureById(a.getId())===a&&b.removeFeature(a)}};os.layer.Group=function(a){ol.layer.Group.call(this,a);this.priority_=0;this.osType_=this.checkFunc_=null;if(a=this.getLayers())ol.events.listen(a,ol.CollectionEventType.ADD,this.onLayerAdded,this),ol.events.listen(a,ol.CollectionEventType.REMOVE,this.onLayerRemoved,this)};goog.inherits(os.layer.Group,ol.layer.Group);
os.layer.Group.prototype.disposeInternal=function(){os.layer.Group.superClass_.disposeInternal.call(this);var a=this.getLayers();a&&(ol.events.unlisten(a,ol.CollectionEventType.ADD,this.onLayerAdded,this),ol.events.unlisten(a,ol.CollectionEventType.REMOVE,this.onLayerRemoved,this))};
os.layer.Group.prototype.setLayers=function(a){var b=this.getLayers();b&&(ol.events.unlisten(b,ol.CollectionEventType.ADD,this.onLayerAdded,this),ol.events.unlisten(b,ol.CollectionEventType.REMOVE,this.onLayerRemoved,this));a&&(ol.events.listen(a,ol.CollectionEventType.ADD,this.onLayerAdded,this),ol.events.listen(a,ol.CollectionEventType.REMOVE,this.onLayerRemoved,this));os.layer.Group.superClass_.setLayers.call(this,a)};os.layer.Group.prototype.getPriority=function(){return this.priority_};
os.layer.Group.prototype.setPriority=function(a){this.priority_=a};os.layer.Group.prototype.getCheckFunc=function(){return this.checkFunc_};os.layer.Group.prototype.setCheckFunc=function(a){this.checkFunc_=a};os.layer.Group.prototype.getOSType=function(){return this.osType_};os.layer.Group.prototype.setOSType=function(a){this.osType_=a};os.layer.Group.prototype.onLayerAdded=function(a){a.element instanceof ol.layer.Layer&&(a=new os.events.LayerEvent(os.events.LayerEventType.ADD,a.element),this.dispatchEvent(a))};
os.layer.Group.prototype.onLayerRemoved=function(a){a.element instanceof ol.layer.Layer&&(a=new os.events.LayerEvent(os.events.LayerEventType.REMOVE,a.element),this.dispatchEvent(a))};os.layer.Terrain=function(){ol.layer.Layer.call(this,{});this.id_=goog.string.getRandomString();this.osType_=os.layer.LayerType.TERRAIN;this.title_="";this.loading_=!1;this.tags_=this.provider_=null;this.removable_=!0;this.layerOptions_=null;this.nodeUI_="<defaultlayernodeui></defaultlayernodeui>";this.layerUi_="terrainlayerui";this.hidden_=!1;this.numLoadingTiles_=0;this.loadingDelay_=null;this.type=os.layer.LayerType.TERRAIN};goog.inherits(os.layer.Terrain,ol.layer.Layer);
os.implements(os.layer.Terrain,os.layer.ILayer.ID);os.layer.Terrain.prototype.disposeInternal=function(){os.layer.Terrain.superClass_.disposeInternal.call(this);this.loadingDelay_&&(this.loadingDelay_.dispose(),this.loadingDelay_=null)};os.layer.Terrain.prototype.getId=function(){return this.id_};os.layer.Terrain.prototype.setId=function(a){this.id_=a};os.layer.Terrain.prototype.getDefaultColor=function(){return null};os.layer.Terrain.prototype.getColor=function(){return null};
os.layer.Terrain.prototype.setColor=function(a,b){};os.layer.Terrain.prototype.getStyle=function(){return null};os.layer.Terrain.prototype.setStyle=function(a){};os.layer.Terrain.prototype.getIcons=function(){return os.ui.Icons.TERRAIN};os.layer.Terrain.prototype.isLoading=function(){return this.loading_};os.layer.Terrain.prototype.setLoading=function(a){this.loading_!==a&&(this.loading_=a,a=this.getLoadingDelay())&&(this.loading_?a.fire():(a.start(),this.numLoadingTiles_=0))};
os.layer.Terrain.prototype.getLoadingDelay=function(){this.loadingDelay_||this.isDisposed()||(this.loadingDelay_=new goog.async.Delay(this.fireLoadingEvent_,500,this));return this.loadingDelay_};os.layer.Terrain.prototype.fireLoadingEvent_=function(){this.isDisposed()||this.dispatchEvent(new os.events.PropertyChangeEvent("loading",this.loading_,!this.loading_))};os.layer.Terrain.prototype.getTitle=function(){return this.title_};
os.layer.Terrain.prototype.setTitle=function(a){this.title_=a;this.dispatchEvent(new os.events.PropertyChangeEvent(os.layer.PropertyChange.TITLE,a))};os.layer.Terrain.prototype.getOSType=function(){return this.osType_};os.layer.Terrain.prototype.setOSType=function(a){this.osType_=a};os.layer.Terrain.prototype.getExplicitType=function(){return os.layer.LayerType.TERRAIN};os.layer.Terrain.prototype.setExplicitType=function(a){};os.layer.Terrain.prototype.getProvider=function(){return this.provider_};
os.layer.Terrain.prototype.setProvider=function(a){this.provider_=a};os.layer.Terrain.prototype.getTags=function(){return this.tags_};os.layer.Terrain.prototype.setTags=function(a){this.tags_=a};os.layer.Terrain.prototype.isRemovable=function(){return this.removable_};os.layer.Terrain.prototype.setRemovable=function(a){this.removable_=a};os.layer.Terrain.prototype.getNodeUI=function(){return this.nodeUI_};os.layer.Terrain.prototype.setNodeUI=function(a){this.nodeUI_=a};
os.layer.Terrain.prototype.getLayerUI=function(){return this.layerUi_};os.layer.Terrain.prototype.setLayerUI=function(a){this.layerUi_=a};os.layer.Terrain.prototype.getRefreshFunction=function(){return goog.nullFunction};os.layer.Terrain.prototype.setRefreshFunction=function(a){};os.layer.Terrain.prototype.refresh=goog.nullFunction;os.layer.Terrain.prototype.identify=goog.nullFunction;os.layer.Terrain.prototype.getLayerVisible=function(){return!0};os.layer.Terrain.prototype.setLayerVisible=function(a){};
os.layer.Terrain.prototype.setBaseVisible=function(a){};os.layer.Terrain.prototype.getBaseVisible=function(){};os.layer.Terrain.prototype.getLayerOptions=function(){return this.layerOptions_};os.layer.Terrain.prototype.setLayerOptions=function(a){this.layerOptions_=a};os.layer.Terrain.prototype.callAction=function(a){if(os.action)switch(a){case os.action.EventType.REMOVE_LAYER:a=new os.events.LayerEvent(os.events.LayerEventType.REMOVE,this.getId()),os.dispatcher.dispatchEvent(a)}};
os.layer.Terrain.prototype.getGroupUI=function(){return null};os.layer.Terrain.prototype.supportsAction=function(a,b){if(os.action)switch(a){case os.action.EventType.REMOVE_LAYER:return this.isRemovable()}return!1};os.layer.Terrain.prototype.getSynchronizerType=function(){return null};os.layer.Terrain.prototype.setSynchronizerType=function(a){};os.layer.Terrain.prototype.getHidden=function(){return this.hidden_};os.layer.Terrain.prototype.setHidden=function(a){this.hidden_=a};
os.layer.Terrain.prototype.persist=function(a){};os.layer.Terrain.prototype.restore=function(a){};os.layer.Terrain.prototype.getOpacity=function(){return 1};os.layer.Terrain.prototype.setOpacity=function(a){};os.layer.Terrain.prototype.getLayerStatesArray=function(){return[]};os.layer.Terrain.prototype.setLayerVisible=function(a){os.MapContainer.getInstance().showTerrain(a)};os.layer.Terrain.prototype.decrementLoading=function(){this.numLoadingTiles_--;0===this.numLoadingTiles_&&this.setLoading(!1)};
os.layer.Terrain.prototype.incrementLoading=function(){this.numLoadingTiles_++;1===this.numLoadingTiles_&&this.setLoading(!0)};os.olcs={};os.olcs.RenderLoop={};os.olcs.RenderLoop.REPAINT="repaint";os.mixin.renderloop={};
(function(){var a=olcs.AutoRenderLoop.prototype.enable;olcs.AutoRenderLoop.prototype.enable=function(){os.dispatcher.listen(os.olcs.RenderLoop.REPAINT,this.notifyRepaintRequired,!1,this);os.time.TimelineController.getInstance().listen(os.time.TimelineEventType.SHOW,this.notifyRepaintRequired,!1,this);a.call(this)};var b=olcs.AutoRenderLoop.prototype.disable;olcs.AutoRenderLoop.prototype.disable=function(){os.dispatcher.unlisten(os.olcs.RenderLoop.REPAINT,this.notifyRepaintRequired,!1,this);os.time.TimelineController.getInstance().unlisten(os.time.TimelineEventType.SHOW,
this.notifyRepaintRequired,!1,this);b.call(this)};var c=olcs.AutoRenderLoop.prototype.notifyRepaintRequired;olcs.AutoRenderLoop.prototype.notifyRepaintRequired=function(a){a&&a.type&&-1<a.type.indexOf("move")&&!(a.buttons||a.touches&&a.touches.length||a.pointerId&&0<a.pressure)||c.call(this)}})();ol.control.MousePosition=function(a){a=a?a:{};var b=document.createElement("DIV");b.className=void 0!==a.className?a.className:"ol-mouse-position";ol.control.Control.call(this,{element:b,render:a.render?a.render:ol.control.MousePosition.render,target:a.target});ol.events.listen(this,ol.Object.getChangeEventType(ol.control.MousePosition.Property_.PROJECTION),this.handleProjectionChanged_,this);a.coordinateFormat&&this.setCoordinateFormat(a.coordinateFormat);a.projection&&this.setProjection(a.projection);
this.undefinedHTML_=void 0!==a.undefinedHTML?a.undefinedHTML:"";this.renderedHTML_=b.innerHTML;this.lastMouseMovePixel_=this.transform_=this.mapProjection_=null};ol.inherits(ol.control.MousePosition,ol.control.Control);ol.control.MousePosition.render=function(a){a=a.frameState;a?this.mapProjection_!=a.viewState.projection&&(this.mapProjection_=a.viewState.projection,this.transform_=null):this.mapProjection_=null;this.updateHTML_(this.lastMouseMovePixel_)};
ol.control.MousePosition.prototype.handleProjectionChanged_=function(){this.transform_=null};ol.control.MousePosition.prototype.getCoordinateFormat=function(){return this.get(ol.control.MousePosition.Property_.COORDINATE_FORMAT)};ol.control.MousePosition.prototype.getProjection=function(){return this.get(ol.control.MousePosition.Property_.PROJECTION)};ol.control.MousePosition.prototype.handleMouseMove=function(a){this.lastMouseMovePixel_=this.getMap().getEventPixel(a);this.updateHTML_(this.lastMouseMovePixel_)};
ol.control.MousePosition.prototype.handleMouseOut=function(a){this.updateHTML_(null);this.lastMouseMovePixel_=null};ol.control.MousePosition.prototype.setMap=function(a){ol.control.Control.prototype.setMap.call(this,a);a&&(a=a.getViewport(),this.listenerKeys.push(ol.events.listen(a,ol.events.EventType.MOUSEMOVE,this.handleMouseMove,this),ol.events.listen(a,ol.events.EventType.MOUSEOUT,this.handleMouseOut,this)))};
ol.control.MousePosition.prototype.setCoordinateFormat=function(a){this.set(ol.control.MousePosition.Property_.COORDINATE_FORMAT,a)};ol.control.MousePosition.prototype.setProjection=function(a){this.set(ol.control.MousePosition.Property_.PROJECTION,ol.proj.get(a))};
ol.control.MousePosition.prototype.updateHTML_=function(a){var b=this.undefinedHTML_;if(a&&this.mapProjection_){if(!this.transform_){var c=this.getProjection();this.transform_=c?ol.proj.getTransformFromProjections(this.mapProjection_,c):ol.proj.identityTransform}if(a=this.getMap().getCoordinateFromPixel(a))this.transform_(a,a),b=(b=this.getCoordinateFormat())?b(a):a.toString()}this.renderedHTML_&&b==this.renderedHTML_||(this.renderedHTML_=this.element.innerHTML=b)};
ol.control.MousePosition.Property_={PROJECTION:"projection",COORDINATE_FORMAT:"coordinateFormat"};os.bearing={};os.bearing.BearingType={TRUE_NORTH:"trueNorth",MAGNETIC:"magnetic"};os.bearing.BASE_KEY="bearing.";os.bearing.BearingSettingsKeys={COF_URL:os.bearing.BASE_KEY+"cofUrl",COF_VERSION:os.bearing.BASE_KEY+"cofVersion",BEARING_TYPE:os.bearing.BASE_KEY+"type",MAGNETIC_NORTH_HELP_URL:os.bearing.BASE_KEY+"magneticNorthHelpUrl"};os.bearing.geomag_=null;
os.bearing.loadGeomag=function(){if(!os.bearing.geomag_){var a=os.ROOT+os.settings.get(os.bearing.BearingSettingsKeys.COF_URL);a=new os.net.Request(a);a.listenOnce(goog.net.EventType.SUCCESS,os.bearing.onGeomag);a.listenOnce(goog.net.EventType.ERROR,os.bearing.onGeomag);a.load()}};os.bearing.onGeomag=function(a){if(a.type===goog.net.EventType.SUCCESS){var b=a.target.getResponse();b=cof2Obj(b);os.bearing.geomag_=geoMagFactory(b)}goog.dispose(a.target)};
os.bearing.geomag=function(a,b){return os.bearing.geomag_&&(a=ol.proj.toLonLat(a,os.map.PROJECTION))?os.bearing.geomag_(a[1],a[0],3.28084*(a[2]||0),b):{}};os.bearing.getBearing=function(a,b,c,d){d=d||os.interpolate.Method.GEODESIC;b=d===os.interpolate.Method.GEODESIC?osasm.geodesicInverse(a,b).initialBearing:osasm.rhumbInverse(a,b).bearing;return os.bearing.modifyBearing(b,a,c)};
os.bearing.modifyBearing=function(a,b,c){os.settings.get(os.bearing.BearingSettingsKeys.BEARING_TYPE,os.bearing.BearingType.TRUE_NORTH)==os.bearing.BearingType.MAGNETIC&&os.bearing.geomag_&&(b=os.bearing.geomag(b,c),a-=b.dec);return 0>a?360+a:a};os.bearing.getFormattedBearing=function(a,b){b=goog.isDef(b)?b:5;var c=os.settings.get(os.bearing.BearingSettingsKeys.BEARING_TYPE,os.bearing.BearingType.TRUE_NORTH)==os.bearing.BearingType.TRUE_NORTH?"T":"M";return os.math.toFixed(a,b)+"\u00b0 "+c};os.ui.user={};os.ui.user.settings={};os.ui.user.settings.LocationSetting={};os.ui.user.settings.LocationSettings=function(){os.ui.config.SettingPlugin.call(this);this.setLabel("Location Format");this.setDescription("Set Your Location Format");this.setTags(["Latitude","Longitude"]);this.setIcon("fa fa-location-arrow");this.setUI("location-setting")};goog.inherits(os.ui.user.settings.LocationSettings,os.ui.config.SettingPlugin);
os.ui.user.settings.LocationSettingsDirective=function(){return{restrict:"AE",replace:!0,templateUrl:os.ROOT+"views/config/locationsettings.html",controller:os.ui.user.settings.LocationSettingsCtrl,controllerAs:"locSet"}};os.ui.Module.directive("locationSetting",[os.ui.user.settings.LocationSettingsDirective]);
os.ui.user.settings.LocationSettingsCtrl=function(a){this.scope_=a;os.settings.listen(os.ui.location.LocationSetting.POSITION,this.onFormatChange_,!1,this);this.format=os.settings.get(os.ui.location.LocationSetting.POSITION,os.ui.location.Format.DEG);this.scope_.$watch("locSet.format",this.update.bind(this));this.scope_.$on("$destroy",this.destroy_.bind(this))};
os.ui.user.settings.LocationSettingsCtrl.prototype.destroy_=function(){os.settings.unlisten(os.ui.location.LocationSetting.POSITION,this.onFormatChange_,!1,this)};os.ui.user.settings.LocationSettingsCtrl.prototype.onFormatChange_=function(a){a&&"string"==typeof a.newVal&&a.newVal!==a.oldVal&&(this.format=a.newVal,os.ui.apply(this.scope_))};os.ui.user.settings.LocationSettingsCtrl.prototype.update=function(a,b){os.settings&&a&&b&&a!==b&&os.settings.set(os.ui.location.LocationSetting.POSITION,a)};
goog.exportProperty(os.ui.user.settings.LocationSettingsCtrl.prototype,"update",os.ui.user.settings.LocationSettingsCtrl.prototype.update);os.ol.control={};
os.ol.control.MousePosition=function(a){a=a||{};a.undefinedHTML="No coordinate";ol.control.MousePosition.call(this,a);this.format_="deg";this.formatMap_=os.ol.control.MousePosition.FormatMap;this.lastBrowserEvent_=null;a&&a.useSettings&&(os.settings.listen(os.ui.location.LocationSetting.POSITION,this.onFormatChange_,!1,this),this.format_=os.settings.get(os.ui.location.LocationSetting.POSITION,os.ui.location.Format.DEG));this.setFormat_(this.format_);this.clickListenKey_=null;this.element&&(this.clickListenKey_=
goog.events.listen(this.element,goog.events.EventType.CLICK,this.onMouseClick_,!1,this));os.unit.UnitManager.getInstance().listen(goog.events.EventType.PROPERTYCHANGE,this.onUnitChange_,!1,this);os.settings.listen(os.bearing.BearingSettingsKeys.BEARING_TYPE,this.onBearingChange_,!1,this)};goog.inherits(os.ol.control.MousePosition,ol.control.MousePosition);
os.ol.control.MousePosition.LON_LAT_FORMAT=function(a){if(!a)return"No coordinate";var b=os.geo.padCoordinate(os.geo.normalizeLongitude(a[0]),!0,5);a=os.geo.padCoordinate(a[1],!1,5);10>b.length&&(b="+"+b);9>a.length&&(a="+"+a);return a+", "+b};os.ol.control.MousePosition.MGRS_FORMAT=function(a){return osasm.toMGRS(a)};
os.ol.control.MousePosition.SEXAGESIMAL_FORMAT=function(a){return(os.geo.toSexagesimal(a[1],!1,!1)+" "+os.geo.toSexagesimal(os.geo.normalizeLongitude(a[0]),!0,!1)).replace(/\u00b0/g,"&deg;")};os.ol.control.MousePosition.FormatMap={deg:os.ol.control.MousePosition.LON_LAT_FORMAT,dms:os.ol.control.MousePosition.SEXAGESIMAL_FORMAT,mgrs:os.ol.control.MousePosition.MGRS_FORMAT};
os.ol.control.MousePosition.prototype.disposeInternal=function(){os.settings.unlisten(os.ui.location.LocationSetting.POSITION,this.onFormatChange_,!1,this);this.clickListenKey_&&(goog.events.unlistenByKey(this.clickListenKey_),this.clickListenKey_=null);os.unit.UnitManager.getInstance().unlisten(goog.events.EventType.PROPERTYCHANGE,this.onUnitChange_,!1,this);os.settings.unlisten(os.bearing.BearingSettingsKeys.BEARING_TYPE,this.onBearingChange_,!1,this);os.ol.control.MousePosition.superClass_.disposeInternal.call(this)};
os.ol.control.MousePosition.prototype.onFormatChange_=function(a){a&&"string"==typeof a.newVal&&this.setFormat_(a.newVal)};os.ol.control.MousePosition.prototype.onUnitChange_=function(a){this.setFormat_(this.format_)};
os.ol.control.MousePosition.prototype.setFormat_=function(a){a in this.formatMap_||(a="deg");this.setCoordinateFormat(this.formatMap_[a]);a!==this.format_&&(this.format_=a,-1<goog.object.getValues(os.ui.location.Format).indexOf(this.format_)&&os.settings.set(os.ui.location.LocationSetting.POSITION,this.format_));this.lastBrowserEvent_&&os.ol.control.MousePosition.superClass_.handleMouseMove.call(this,this.lastBrowserEvent_)};
os.ol.control.MousePosition.prototype.handleMouseMove=function(a){os.ol.control.MousePosition.superClass_.handleMouseMove.call(this,a);this.lastBrowserEvent_=a};os.ol.control.MousePosition.prototype.updateHTML_=function(a){var b=this.getMap();b&&0>=b.getView().getHints()[ol.ViewHint.INTERACTING]&&os.ol.control.MousePosition.superClass_.updateHTML_.call(this,a)};os.ol.control.MousePosition.prototype.handleMouseOut=function(a){};
os.ol.control.MousePosition.prototype.onMouseClick_=function(a){a=goog.object.getKeys(this.formatMap_);var b=a.indexOf(this.format_);b>a.length&&(b=0);this.setFormat_(a[b+1]);this.lastBrowserEvent_&&os.ol.control.MousePosition.superClass_.handleMouseMove.call(this,this.lastBrowserEvent_)};
os.ol.control.MousePosition.prototype.getPositionString=function(a){if(a=a||this.map_.getCoordinateFromPixel(this.lastMouseMovePixel_)){var b="";a=ol.proj.toLonLat(a,this.map_.getView().getProjection());for(var c in this.formatMap_)b+=(0,this.formatMap_[c])(a)+"\n";b=b.substring(0,b.length-1);return b.replace(/&deg;/g,"\u00b0")}return""};os.ol.control.MousePosition.prototype.onBearingChange_=function(){this.lastBrowserEvent_&&this.handleMouseMove(this.lastBrowserEvent_)};goog.async.Throttle=function(a,b,c){goog.Disposable.call(this);this.listener_=null!=c?goog.bind(a,c):a;this.interval_=b;this.callback_=goog.bind(this.onTimer_,this);this.args_=[]};goog.inherits(goog.async.Throttle,goog.Disposable);goog.Throttle=goog.async.Throttle;goog.async.Throttle.prototype.shouldFire_=!1;goog.async.Throttle.prototype.pauseCount_=0;goog.async.Throttle.prototype.timer_=null;
goog.async.Throttle.prototype.fire=function(a){this.args_=arguments;this.timer_||this.pauseCount_?this.shouldFire_=!0:this.doAction_()};goog.async.Throttle.prototype.stop=function(){this.timer_&&(goog.Timer.clear(this.timer_),this.timer_=null,this.shouldFire_=!1,this.args_=[])};goog.async.Throttle.prototype.pause=function(){this.pauseCount_++};goog.async.Throttle.prototype.resume=function(){this.pauseCount_--;this.pauseCount_||!this.shouldFire_||this.timer_||(this.shouldFire_=!1,this.doAction_())};
goog.async.Throttle.prototype.disposeInternal=function(){goog.async.Throttle.superClass_.disposeInternal.call(this);this.stop()};goog.async.Throttle.prototype.onTimer_=function(){this.timer_=null;this.shouldFire_&&!this.pauseCount_&&(this.shouldFire_=!1,this.doAction_())};goog.async.Throttle.prototype.doAction_=function(){this.timer_=goog.Timer.callOnce(this.callback_,this.interval_);this.listener_.apply(null,this.args_)};ol.source.WMTSRequestEncoding={KVP:"KVP",REST:"REST"};ol.tilegrid.WMTS=function(a){this.matrixIds_=a.matrixIds;ol.tilegrid.TileGrid.call(this,{extent:a.extent,origin:a.origin,origins:a.origins,resolutions:a.resolutions,tileSize:a.tileSize,tileSizes:a.tileSizes,sizes:a.sizes})};ol.inherits(ol.tilegrid.WMTS,ol.tilegrid.TileGrid);ol.tilegrid.WMTS.prototype.getMatrixId=function(a){return this.matrixIds_[a]};ol.tilegrid.WMTS.prototype.getMatrixIds=function(){return this.matrixIds_};
ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet=function(a,b,c){var d=[],e=[],f=[],g=[],h=[],k=void 0!==c?c:[];c=ol.proj.get(a.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var l=c.getMetersPerUnit(),m="ne"==c.getAxisOrientation().substr(0,2);a.TileMatrix.sort(function(a,b){return b.ScaleDenominator-a.ScaleDenominator});a.TileMatrix.forEach(function(a,b,c){if(0<k.length?ol.array.find(k,function(b,c,d){return a.Identifier==b.TileMatrix}):1){e.push(a.Identifier);b=2.8E-4*a.ScaleDenominator/
l;c=a.TileWidth;var n=a.TileHeight;m?f.push([a.TopLeftCorner[1],a.TopLeftCorner[0]]):f.push(a.TopLeftCorner);d.push(b);g.push(c==n?c:[c,n]);h.push([a.MatrixWidth,-a.MatrixHeight])}});return new ol.tilegrid.WMTS({extent:b,origins:f,resolutions:d,matrixIds:e,tileSizes:g,sizes:h})};ol.uri={};ol.uri.appendParams=function(a,b){var c=[];Object.keys(b).forEach(function(a){null!==b[a]&&void 0!==b[a]&&c.push(a+"="+encodeURIComponent(b[a]))});var d=c.join("&");a=a.replace(/[?&]$/,"");a=-1===a.indexOf("?")?a+"?":a+"&";return a+d};ol.source.WMTS=function(a){function b(a){a=d==ol.source.WMTSRequestEncoding.KVP?ol.uri.appendParams(a,f):a.replace(/\{(\w+?)\}/g,function(a,b){return b.toLowerCase()in f?f[b.toLowerCase()]:a});return function(b,c,f){if(b){var h={TileMatrix:e.getMatrixId(b[0]),TileCol:b[1],TileRow:-b[2]-1};ol.obj.assign(h,g);b=a;return b=d==ol.source.WMTSRequestEncoding.KVP?ol.uri.appendParams(b,h):b.replace(/\{(\w+?)\}/g,function(a,b){return h[b]})}}}this.version_=void 0!==a.version?a.version:"1.0.0";this.format_=
void 0!==a.format?a.format:"image/jpeg";this.dimensions_=void 0!==a.dimensions?a.dimensions:{};this.layer_=a.layer;this.matrixSet_=a.matrixSet;this.style_=a.style;var c=a.urls;void 0===c&&void 0!==a.url&&(c=ol.TileUrlFunction.expandUrl(a.url));var d=this.requestEncoding_=void 0!==a.requestEncoding?a.requestEncoding:ol.source.WMTSRequestEncoding.KVP,e=a.tileGrid,f={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};d==ol.source.WMTSRequestEncoding.KVP&&ol.obj.assign(f,{Service:"WMTS",
Request:"GetTile",Version:this.version_,Format:this.format_});var g=this.dimensions_,h=c&&0<c.length?ol.TileUrlFunction.createFromTileUrlFunctions(c.map(b)):ol.TileUrlFunction.nullTileUrlFunction;ol.source.TileImage.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:e,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:h,
urls:c,wrapX:void 0!==a.wrapX?a.wrapX:!1,transition:a.transition});this.setKey(this.getKeyForDimensions_())};ol.inherits(ol.source.WMTS,ol.source.TileImage);ol.source.WMTS.prototype.getDimensions=function(){return this.dimensions_};ol.source.WMTS.prototype.getFormat=function(){return this.format_};ol.source.WMTS.prototype.getLayer=function(){return this.layer_};ol.source.WMTS.prototype.getMatrixSet=function(){return this.matrixSet_};ol.source.WMTS.prototype.getRequestEncoding=function(){return this.requestEncoding_};
ol.source.WMTS.prototype.getStyle=function(){return this.style_};ol.source.WMTS.prototype.getVersion=function(){return this.version_};ol.source.WMTS.prototype.getKeyForDimensions_=function(){var a=0,b=[],c;for(c in this.dimensions_)b[a++]=c+"-"+this.dimensions_[c];return b.join("/")};ol.source.WMTS.prototype.updateDimensions=function(a){ol.obj.assign(this.dimensions_,a);this.setKey(this.getKeyForDimensions_())};
ol.source.WMTS.optionsFromCapabilities=function(a,b){var c=ol.array.find(a.Contents.Layer,function(a,c,d){return a.Identifier==b.layer});if(null===c)return null;var d=a.Contents.TileMatrixSet;var e=1<c.TileMatrixSetLink.length?"projection"in b?ol.array.findIndex(c.TileMatrixSetLink,function(a,c,e){c=ol.array.find(d,function(b){return b.Identifier==a.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3");e=ol.proj.get(c);var f=ol.proj.get(b.projection);return e&&f?ol.proj.equivalent(e,
f):c==b.projection}):ol.array.findIndex(c.TileMatrixSetLink,function(a,c,d){return a.TileMatrixSet==b.matrixSet}):0;0>e&&(e=0);var f=c.TileMatrixSetLink[e].TileMatrixSet;var g=c.TileMatrixSetLink[e].TileMatrixSetLimits;var h=c.Format[0];"format"in b&&(h=b.format);e=ol.array.findIndex(c.Style,function(a,c,d){return"style"in b?a.Title==b.style:a.isDefault});0>e&&(e=0);e=c.Style[e].Identifier;var k={};"Dimension"in c&&c.Dimension.forEach(function(a,b,c){b=a.Identifier;c=a.Default;void 0===c&&(c=a.Value[0]);
k[b]=c});var l=ol.array.find(a.Contents.TileMatrixSet,function(a,b,c){return a.Identifier==f});var m="projection"in b?ol.proj.get(b.projection):ol.proj.get(l.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var n=c.WGS84BoundingBox;if(void 0!==n){var p=ol.proj.get("EPSG:4326").getExtent();p=n[0]==p[0]&&n[2]==p[2];var q=ol.proj.transformExtent(n,"EPSG:4326",m);(n=m.getExtent())&&(ol.extent.containsExtent(n,q)||(q=void 0))}g=ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet(l,q,g);
var r=[];l=b.requestEncoding;l=void 0!==l?l:"";if("OperationsMetadata"in a&&"GetTile"in a.OperationsMetadata)for(a=a.OperationsMetadata.GetTile.DCP.HTTP.Get,q=0,n=a.length;q<n;++q){var u=ol.array.find(a[q].Constraint,function(a){return"GetEncoding"==a.name}).AllowedValues.Value;""===l&&(l=u[0]);if(l===ol.source.WMTSRequestEncoding.KVP)ol.array.includes(u,ol.source.WMTSRequestEncoding.KVP)&&r.push(a[q].href);else break}0===r.length&&(l=ol.source.WMTSRequestEncoding.REST,c.ResourceURL.forEach(function(a){"tile"===
a.resourceType&&(h=a.format,r.push(a.template))}));return{urls:r,layer:b.layer,matrixSet:f,format:h,projection:m,requestEncoding:l,tileGrid:g,style:e,dimensions:k,wrapX:p,crossOrigin:b.crossOrigin}};ol.source.XYZ=function(a){a=a||{};var b=void 0!==a.projection?a.projection:"EPSG:3857",c=void 0!==a.tileGrid?a.tileGrid:ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(b),maxZoom:a.maxZoom,minZoom:a.minZoom,tileSize:a.tileSize});ol.source.TileImage.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:a.opaque,projection:b,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:c,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,
tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:!0,transition:a.transition})};ol.inherits(ol.source.XYZ,ol.source.TileImage);os.tile={};os.tile.filterImage=function(a,b){var c=ol.dom.createCanvasContext2D(a.width,a.height);c.drawImage(a,0,0);a=c.canvas;var d=c.getImageData(0,0,a.width,a.height),e=d.data;b.forEach(function(a){a(e)});c.putImageData(d,0,0);return a};os.source.IFilterableTileSource=function(){};os.source.IFilterableTileSource.ID="os.source.IFilterableTileSource";os.olcs.ImageryProvider=function(a,b){this.disposed_=!1;this.errorEvent_=new Cesium.Event;this.ready_=!1;this.source=a;this.projection=null;this.fallbackProj=goog.isDef(b)?b:null;this.emptyCanvas=goog.dom.createElement("CANVAS");this.emptyCanvas.width=1;this.emptyCanvas.height=1;ol.events.listen(this.source,goog.events.EventType.CHANGE,this.onSourceChange_,this);this.onSourceChange_()};goog.inherits(os.olcs.ImageryProvider,Cesium.ImageryProvider);
os.olcs.ImageryProvider.prototype.dispose=function(){this.disposed_=!0;if(this.source){ol.events.unlisten(this.source,goog.events.EventType.CHANGE,this.onSourceChange_,this);try{this.source.setLoading(!1)}catch(a){}this.source=null}};os.olcs.ImageryProvider.prototype.isDisposed=function(){return this.disposed_};
os.olcs.ImageryProvider.prototype.onSourceChange_=function(a){if(!this.ready_&&"ready"==this.source.getState()){a=this.source.getProjection();this.projection=goog.isDefAndNotNull(a)?a:this.fallbackProj;if(this.projection==ol.proj.get(os.proj.EPSG4326))this.tilingScheme_=new Cesium.GeographicTilingScheme;else if(this.projection==ol.proj.get(os.proj.EPSG3857))this.tilingScheme_=new Cesium.WebMercatorTilingScheme;else return;this.rectangle_=this.tilingScheme_.rectangle;a=os.olcs.ImageryProvider.createCreditForSource(this.source);
this.credit_=goog.isNull(a)?void 0:a;this.ready_=!0}};os.olcs.ImageryProvider.prototype.getTileCredits=function(a,b,c){};goog.exportProperty(os.olcs.ImageryProvider.prototype,"getTileCredits",os.olcs.ImageryProvider.prototype.getTileCredits);os.olcs.ImageryProvider.prototype.incrementLoading=function(){try{this.source.incrementLoading()}catch(a){}};os.olcs.ImageryProvider.prototype.decrementLoading=function(a){try{this.source instanceof ol.source.UrlTile&&this.source.loadCount_++,this.source.decrementLoading()}catch(b){}};
os.olcs.ImageryProvider.prototype.decrementLoadingError=function(a){try{this.source instanceof ol.source.UrlTile&&this.source.errorCount_++,this.source.decrementLoading()}catch(b){}};
os.olcs.ImageryProvider.prototype.requestImage=function(a,b,c){var d=this.source.getTileUrlFunction();if(!goog.isNull(d)&&!goog.isNull(this.projection)){c=this.tilingScheme_ instanceof Cesium.GeographicTilingScheme?c+1:c;var e=this.source.get(ol.layer.Property.MAX_RESOLUTION),f=this.source.get(ol.layer.Property.MIN_RESOLUTION);e=goog.isDef(e)?os.map.resolutionToZoom(e,this.projection):0;f=goog.isDef(f)?os.map.resolutionToZoom(f,this.projection):42;if(e-1<=c&&c<=f&&(a=d([c,a,-b-1],1,this.projection),
goog.isDef(a)))return a=Cesium.ImageryProvider.loadImage(this,a),goog.isDef(a)&&(this.incrementLoading(),b=this.decrementLoading.bind(this),d=this.decrementLoadingError.bind(this),Cesium.when(a,b,d),os.implements(this.source,os.source.IFilterableTileSource.ID)&&(d=this.source.getTileFilters(),0<d.length))?(c=Cesium.when.defer(),b=c.promise,d=os.olcs.ImageryProvider.resolver.bind(this,d,c),Cesium.when(a,d,d),b):a}return this.emptyCanvas};
goog.exportProperty(os.olcs.ImageryProvider.prototype,"requestImage",os.olcs.ImageryProvider.prototype.requestImage);os.olcs.ImageryProvider.resolver=function(a,b,c){c?(a=os.tile.filterImage(c,a),b.resolve(a)):b.resolve(c)};
os.olcs.ImageryProvider.createCreditForSource=function(a){var b="",c=a.getAttributions();goog.isNull(c)||goog.array.forEach(c,function(a,c,d){b+=a.getHTML().replace(/<\/?[^>]+(>|$)/g,"")+" "});if(0==b.length&&(a=a.getLogo(),goog.isDef(a)))if(goog.isString(a))var d=a;else{d=a.src;var e=a.href}return goog.isDef(d)||0<b.length?new Cesium.Credit(b,d,e):null};
Object.defineProperties(os.olcs.ImageryProvider.prototype,{ready:{get:function(){return this.ready_}},rectangle:{get:function(){return this.rectangle_}},tileWidth:{get:function(){var a=this.source.getTileGrid();return a?(a=a.getTileSize(0),goog.isNumber(a)?a:a[0]):512}},tileHeight:{get:function(){return this.tileWidth}},maximumLevel:{get:function(){var a=os.map.MAX_ZOOM,b=this.source.get(ol.layer.Property.MIN_RESOLUTION);null!=b?a=Math.round(os.MapContainer.getInstance().resolutionToZoom(b)):(b=this.source.getTileGrid())&&
(a=b.getMaxZoom());return a}},minimumLevel:{get:function(){return 1}},tilingScheme:{get:function(){return this.tilingScheme_}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this.errorEvent_}},credit:{get:function(){return this.credit_}},proxy:{get:function(){}},hasAlphaChannel:{get:function(){return!0}}});os.olcs.GeometryInstanceId={ELLIPSOID:"ellipsoid",ELLIPSOID_OUTLINE:"ellipsoidOutline",GEOM:"geometry",GEOM_OUTLINE:"geometryOutline"};os.olcs.ELLIPSOID_REGEXP=/ellipsoid/i;os.olcs.OUTLINE_REGEXP=/outline/i;os.olcs.DIRTY_BIT="dirty";os.olcs.CESIUM_CANVAS_SELECTOR="#map-container .ol-viewport > div > canvas";os.olcs.MAX_FOG_DENSITY=3E-4;os.olcs.DEFAULT_FOG_DENSITY=os.olcs.MAX_FOG_DENSITY/2;
os.olcs.tileLayerToImageryLayer=function(a,b){if(!(a instanceof ol.layer.Tile))return null;var c=a.getSource();if(!(c instanceof ol.source.WMTS)&&c instanceof ol.source.TileImage){var d=c.getProjection();d||(d=b);var e=d===ol.proj.get(os.proj.EPSG3857);d=d===ol.proj.get(os.proj.EPSG4326);if(e||d)c=new os.olcs.ImageryProvider(c,b);else return null}else return null;e={};a=a.getExtent();goog.isDefAndNotNull(a)&&!goog.isNull(b)&&(e.rectangle=olcs.core.extentToRectangle(a,b));return new Cesium.ImageryLayer(c,
e)};
os.olcs.generateRectanglePositions=function(a,b,c){a=Cesium.Rectangle.fromDegrees(a[0],a[1],a[2],a[3]);b=new Cesium.RectangleGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:a,height:b?b:0,extrudedHeight:c?0:void 0});b=Cesium.RectangleGeometryLibrary.computeOptions(b,a,new Cesium.Cartographic);c=b.height;a=b.width;var d=[],e=0,f;for(f=0;f<a;f++){var g=new Cesium.Cartesian3;Cesium.RectangleGeometryLibrary.computePosition(b,e,f,g);d.push(g)}f=a-1;for(e=1;e<c;e++)g=new Cesium.Cartesian3,Cesium.RectangleGeometryLibrary.computePosition(b,e,
f,g),d.push(g);e=c-1;for(f=a-2;0<=f;f--)g=new Cesium.Cartesian3,Cesium.RectangleGeometryLibrary.computePosition(b,e,f,g),d.push(g);f=0;for(e=c-2;0<e;e--)g=new Cesium.Cartesian3,Cesium.RectangleGeometryLibrary.computePosition(b,e,f,g),d.push(g);0<d.length&&d.push(d[0]);return d};
os.olcs.generateCirclePositions=function(a,b){a=Cesium.EllipseGeometryLibrary.computeEllipsePositions({center:a,semiMajorAxis:b,semiMinorAxis:b,granularity:Cesium.Math.RADIANS_PER_DEGREE,rotation:0},!1,!0).outerPositions;for(b=[];0<a.length;){var c=goog.array.splice(a,0,3);c=new Cesium.Cartesian3(c[0],c[1],c[2]);b.push(c)}0<b.length&&b.push(b[0]);return b};
os.olcs.updateCesiumLayerProperties=function(a,b){olcs.core.updateCesiumLayerProperties({layer:a,parents:[]},b);var c=a.getSaturation();null!=c&&(b.saturation=c);c=a.getContrast();b.contrast=null==c||1==c?1.01:c;c=a.getHue();null!=c&&(b.hue=c*Cesium.Math.RADIANS_PER_DEGREE);a=a.getBrightness();null!=a&&(b.brightness=Math.pow(1+parseFloat(a),2))};os.olcs.Camera=function(a,b){this.scene_=a;this.cam_=a.camera;this.map_=b;this.distance_=this.tilt_=0;this.lastCameraViewMatrix_=null;this.enabled_=this.viewUpdateInProgress_=!1;this.updateThrottle_=new goog.async.Throttle(this.updateView,100,this)};goog.inherits(os.olcs.Camera,olcs.Camera);os.olcs.replaceCamera=function(){olcs.Camera=os.olcs.Camera};os.olcs.replaceCamera();os.olcs.Camera.prototype.getEnabled=function(){return this.enabled_};
os.olcs.Camera.prototype.setEnabled=function(a){(this.enabled_=a)&&this.readFromView()};os.olcs.Camera.prototype.getHeading=function(){return this.cam_.heading};os.olcs.Camera.prototype.setHeading=function(a){this.cam_.setView({destionation:this.cam_.positionCartographic,orientation:{heading:0,pitch:this.cam_.pitch,roll:this.cam_.roll}})};os.olcs.Camera.prototype.getTilt=function(){return this.tilt_};os.olcs.Camera.prototype.setTilt=function(a){this.tilt_=a;this.updateCamera_()};
os.olcs.Camera.prototype.getCenter=function(){var a=this.map_.getView();if(a)return a.getCenter()};os.olcs.Camera.prototype.setCenter=function(a){this.flyTo(a)};os.olcs.Camera.prototype.setPosition=function(a){this.flyTo(a)};os.olcs.Camera.prototype.getAltitude=function(){return this.cam_.positionCartographic.height};os.olcs.Camera.prototype.setAltitude=function(a){this.flyTo(void 0,a)};
os.olcs.Camera.prototype.getExtent=function(){var a=this.cam_.computeViewRectangle();if(a)return[a.west,a.south,a.east,a.north]};
os.olcs.Camera.prototype.flyTo=function(a,b,c){if(this.enabled_){if(a){a=ol.proj.transform(a,os.map.PROJECTION,os.proj.EPSG4326);var d=ol.math.toRadians(a[0]);a=ol.math.toRadians(a[1]);a=new Cesium.Cartographic(d,a)}else a=this.cam_.positionCartographic.clone();a.height=0;b=null!=b?b:this.getAltitude();d=this.scene_.screenSpaceCameraController.maximumZoomDistance;a=Cesium.Ellipsoid.WGS84.cartographicToCartesian(a);c=null!=c?c:500;a=new Cesium.BoundingSphere(a);b=new Cesium.HeadingPitchRange(this.cam_.heading,
this.cam_.pitch,Math.min(b,d));this.cam_.flyToBoundingSphere(a,{offset:b,duration:c/1E3})}};os.olcs.Camera.prototype.getDistanceToCenter=function(){var a,b=document.querySelector(os.olcs.CESIUM_CANVAS_SELECTOR);b&&(a=this.cam_.pickEllipsoid(new Cesium.Cartesian2(b.width/2,b.height/2)));return a?Cesium.Cartesian3.distance(this.cam_.positionWC,a):this.getAltitude()};
os.olcs.Camera.prototype.getDistanceToPosition=function(a){var b=Cesium.SceneTransforms.wgs84ToWindowCoordinates(this.scene_,a);if(b&&0<b.x&&0<b.y){var c=document.querySelector(os.olcs.CESIUM_CANVAS_SELECTOR);if(b.x<=c.width&&b.y<=c.height){var d=Cesium.Cartesian3.distance(a,this.cam_.positionWC);(a=this.cam_.pickEllipsoid(b))&&Cesium.Cartesian3.distance(a,this.cam_.positionWC)<d&&(d=void 0)}}return d};
os.olcs.Camera.prototype.zoomByDelta=function(a){var b=this.getDistanceToCenter();a=b-b*a;var c=this.scene_.screenSpaceCameraController,d=c.maximumZoomDistance;a<b-d&&(a=b-d);Math.abs(a)>c.minimumZoomDistance&&this.cam_.zoomIn(a)};
os.olcs.Camera.prototype.updateCamera_=function(){var a=this.map_.getView();if(a){var b=a.getCenter();if(b){b=ol.proj.transform(b,os.map.PROJECTION,os.proj.EPSG4326);goog.asserts.assert(null!=b);b=new Cesium.Cartographic(ol.math.toRadians(b[0]),ol.math.toRadians(b[1]));if(this.scene_.globe){var c=this.scene_.globe.getHeight(b);b.height=null!=c?c:0}b=Cesium.Ellipsoid.WGS84.cartographicToCartesian(b);a={pitch:this.tilt_-Cesium.Math.PI_OVER_TWO,heading:-a.getRotation(),roll:void 0};this.cam_.setView({destination:b,
orientation:a});this.cam_.moveBackward(this.distance_);this.checkCameraChange(!0)}}};os.olcs.Camera.prototype.readFromView=function(){var a=this.map_.getView();if(this.enabled_&&a){var b=a.getCenter();b&&(b=ol.proj.transform(b,os.map.PROJECTION,os.proj.EPSG4326),goog.asserts.assert(null!=b),a=a.getResolution()||0,this.distance_=this.calcDistanceForResolution(a,0),this.updateCamera_())}};
os.olcs.Camera.prototype.updateView=function(){var a=this.map_.getView();if(this.enabled_&&a){this.viewUpdateInProgress_=!0;var b=Cesium.Ellipsoid.WGS84,c=this.scene_,d=olcs.core.pickCenterPoint(c),e=d;e||(e=c.globe,c=this.cam_.positionCartographic.clone(),e=e.getHeight(c),c.height=null!=e?e:0,e=Cesium.Ellipsoid.WGS84.cartographicToCartesian(c));this.distance_=Cesium.Cartesian3.distance(e,this.cam_.position);e=(c=b.cartesianToCartographic(e))?c.latitude:0;a.setCenter(ol.proj.transform([ol.math.toDegrees(c?
c.longitude:0),ol.math.toDegrees(e)],os.proj.EPSG4326,os.map.PROJECTION));c=this.calcResolutionForDistance(this.distance_,0);a.setResolution(a.constrainResolution(c,0,0));if(d){e=this.cam_.position;c=new Cesium.Cartesian3;b.geocentricSurfaceNormal(d,c);b=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(e,d,b);Cesium.Cartesian3.normalize(b,b);e=this.cam_.up;var f=this.cam_.right,g=new Cesium.Cartesian3(-d.y,d.x,0);f=Cesium.Cartesian3.angleBetween(f,g);d=Cesium.Cartesian3.cross(d,e,new Cesium.Cartesian3).z;
a.setRotation(0>d?f:-f);a=Math.acos(Cesium.Cartesian3.dot(c,b));this.tilt_=isNaN(a)?0:a}else a.setRotation(this.cam_.heading),this.tilt_=-this.cam_.pitch+Math.PI/2;this.viewUpdateInProgress_=!1}};os.olcs.Camera.prototype.checkCameraChange=function(a){var b=this.lastCameraViewMatrix_,c=this.cam_.viewMatrix;b&&Cesium.Matrix4.equalsEpsilon(b,c,1E-5)||(this.lastCameraViewMatrix_=c.clone(),!0!==a&&this.updateThrottle_.fire())};
os.olcs.Camera.prototype.calcDistanceForResolution=function(a,b){var c=this.scene_.canvas,d=this.cam_.frustum.fovy,e=this.map_.getView().getProjection().getMetersPerUnit();return a*(c.clientHeight||300)*e*Math.cos(Math.abs(b))/2/Math.tan(d/2)};os.olcs.Camera.prototype.calcResolutionForDistance=function(a,b){var c=this.scene_.canvas,d=this.cam_.frustum.fovy,e=this.map_.getView().getProjection().getMetersPerUnit();return 2*a*Math.tan(d/2)/e/Math.cos(Math.abs(b))/c.clientHeight};os.layer.Image=function(a){ol.layer.Image.call(this,a);this.id_=goog.string.getRandomString();this.osType_=os.layer.LayerType.IMAGE;this.explicitType_=os.layer.ExplicitLayerType.IMAGE;this.title_="Image Overlay";a.title&&this.setTitle(this.title_+" - "+a.title);this.loading_=!1;this.tags_=this.provider_=null;this.removable_=!0;this.layerOptions_=null;this.layerUi_="imagelayerui";this.visible_=!0;this.mapVisibilityLocked_=!1;this.syncType_=os.layer.SynchronizerType.IMAGE;this.hidden_=!0;this.setZIndex(999)};
goog.inherits(os.layer.Image,ol.layer.Image);os.implements(os.layer.Image,os.layer.ILayer.ID);os.layer.Image.prototype.disposeInternal=function(){os.layer.Image.superClass_.disposeInternal.call(this);os.MapContainer.getInstance().unlisten(goog.events.EventType.PROPERTYCHANGE,this.onMapChange_,!1,this);this.setLoading(!1);var a=this.getSource();a&&a.dispose();os.style.StyleManager.getInstance().removeLayerConfig(this.getId())};os.layer.Image.prototype.getLayerOptions=function(){return this.layerOptions_};
os.layer.Image.prototype.setLayerOptions=function(a){this.layerOptions_=a};os.layer.Image.prototype.isLoading=function(){return this.loading_};os.layer.Image.prototype.setLoading=function(a){if(this.loading_!==a){var b=this.loading_;this.loading_=a;this.dispatchEvent(new os.events.PropertyChangeEvent(os.layer.PropertyChange.LOADING,a,b))}};os.layer.Image.prototype.getId=function(){return this.id_};os.layer.Image.prototype.setId=function(a){this.id_=a};os.layer.Image.prototype.getProvider=function(){return this.provider_};
os.layer.Image.prototype.setProvider=function(a){this.provider_=a};os.layer.Image.prototype.isRemovable=function(){return this.removable_};os.layer.Image.prototype.setRemovable=function(a){this.removable_=a};os.layer.Image.prototype.getTags=function(){return this.tags_};os.layer.Image.prototype.setTags=function(a){this.tags_=a};os.layer.Image.prototype.getTitle=function(){return this.title_};
os.layer.Image.prototype.setTitle=function(a){if(this.title_!==a){var b=this.title_;this.title_=a;this.dispatchEvent(new os.events.PropertyChangeEvent("title",a,b))}};os.layer.Image.prototype.getOSType=function(){return this.osType_};os.layer.Image.prototype.setOSType=function(a){this.osType_=a};os.layer.Image.prototype.getExplicitType=function(){return this.explicitType_};os.layer.Image.prototype.setExplicitType=function(a){this.explicitType_=a};os.layer.Image.prototype.getLayerVisible=function(){return this.visible_};
os.layer.Image.prototype.setLayerVisible=function(a){this.visible_=a=!!a;this.mapVisibilityLocked_||this.setVisible(a);this.dispatchEvent(new os.events.PropertyChangeEvent("visible",a,!a));var b=this.getSource();b instanceof os.source.Vector&&b.setVisible(a)};os.layer.Image.prototype.setBaseVisible=function(a){this.setVisible(a)};os.layer.Image.prototype.getBaseVisible=function(){return this.getVisible()};os.layer.Image.prototype.getNodeUI=function(){return"<defaultlayernodeui></defaultlayernodeui>"};
os.layer.Image.prototype.setNodeUI=function(a){};os.layer.Image.prototype.getLayerUI=function(){return this.layerUi_};os.layer.Image.prototype.setLayerUI=function(a){this.layerUi_=a};os.layer.Image.prototype.onMapChange_=function(a){if(a.getProperty()==os.MapChange.VIEW3D){a=a.getNewValue();var b=this.getSource();b instanceof os.source.Vector&&b.setCesiumEnabled(a)}};
os.layer.Image.prototype.getSVGSet=function(){var a=[os.ui.IconsSVG.FEATURES],b=this.getSource();b instanceof os.source.Vector&&b.getTimeEnabled()&&a.push(os.ui.IconsSVG.TIME);return a};os.layer.Image.prototype.getIconSet=function(){var a=[os.ui.Icons.FEATURES],b=this.getSource();b instanceof os.source.Vector&&b.getTimeEnabled()&&a.push(os.ui.Icons.TIME);return a};
os.layer.Image.prototype.getIcons=function(){var a=os.style.StyleManager.getInstance().getLayerConfig(this.getId());return a?(a=os.style.getConfigColor(a,!0),os.ui.createIconSet(this.getId(),this.getSVGSet(),this.getFASet(),a)):this.getIconSet().join("")};os.layer.Image.prototype.getFASet=function(){return[]};os.layer.Image.prototype.identify=function(){os.layer.identifyLayer(this)};os.layer.Image.prototype.getGroupUI=function(){return null};os.layer.Image.prototype.getSynchronizerType=function(){return this.syncType_};
os.layer.Image.prototype.setSynchronizerType=function(a){this.syncType_=a};os.layer.Image.prototype.getHidden=function(){return this.hidden_};os.layer.Image.prototype.setHidden=function(a){this.hidden_=a};os.layer.Image.prototype.supportsAction=function(a,b){if(os.action)switch(a){case os.action.EventType.IDENTIFY:case os.action.EventType.GOTO:return!0;case os.action.EventType.RENAME:return!!b&&goog.isArrayLike(b)&&1===b.length;case os.action.EventType.REMOVE_LAYER:return this.isRemovable();case os.action.EventType.REFRESH:return!0}return!1};
os.layer.Image.prototype.callAction=function(a){if(os.action)switch(a){case os.action.EventType.IDENTIFY:this.identify();break;case os.action.EventType.REMOVE_LAYER:a=new os.events.LayerEvent(os.events.LayerEventType.REMOVE,this.getId());os.dispatcher.dispatchEvent(a);break;case os.action.EventType.RENAME:os.ui.renamelayer.launchRenameDialog(this)}};
os.layer.Image.prototype.persist=function(a){a=a||{};a.visible=this.getLayerVisible();a.opacity=this.getOpacity();a.minResolution=this.getMinResolution();a.maxResolution=this.getMaxResolution();var b=os.style.StyleManager.getInstance().getLayerConfig(this.getId());b&&(a[os.style.StyleField.COLOR]=os.style.getConfigColor(b),a[os.style.StyleField.SIZE]=os.style.getConfigSize(b));return a};
os.layer.Image.prototype.restore=function(a){goog.isDef(a.id)&&this.setId(a.id);goog.isDef(a.provider)&&this.setProvider(a.provider);goog.isDef(a.tags)&&this.setTags(a.tags);goog.isDef(a.title)&&this.setTitle(a.title);goog.isDef(a.layerType)&&this.setOSType(a.layerType);goog.isDef(a.explicitType)&&this.setExplicitType(a.explicitType);goog.isDef(a.visible)&&this.setLayerVisible(a.visible);var b=a.opacity;goog.isDef(b)&&this.setOpacity(b);this.setMinResolution(a.minResolution||this.getMinResolution());
this.setMaxResolution(a.maxResolution||this.getMaxResolution())};os.command.AbstractTileStyle=function(a,b,c){os.command.AbstractStyle.call(this,a,b,c)};goog.inherits(os.command.AbstractTileStyle,os.command.AbstractStyle);os.command.AbstractTileStyle.prototype.getLayerConfig=function(a){return a instanceof os.layer.Tile?a.getLayerOptions():null};os.command.AbstractTileStyle.prototype.applyValue=function(a,b){};os.command.TileLayerColor=function(a,b,c){os.command.AbstractTileStyle.call(this,a,b,c);this.title="Change Layer Color";b&&(this.value=os.style.toRgbaString(b))};goog.inherits(os.command.TileLayerColor,os.command.AbstractTileStyle);os.command.TileLayerColor.prototype.getOldValue=function(){var a=os.MapContainer.getInstance().getLayer(this.layerId);return a instanceof os.layer.Tile?a.getColor():null};
os.command.TileLayerColor.prototype.applyValue=function(a,b){var c=os.MapContainer.getInstance().getLayer(this.layerId);c instanceof os.layer.Tile&&c.setColor(b);os.command.TileLayerColor.superClass_.applyValue.call(this,a,b)};os.command.TileLayerColorize=function(a,b,c){os.command.AbstractTileStyle.call(this,a,b,c);this.title="Colorize Layer";this.value=b};goog.inherits(os.command.TileLayerColorize,os.command.AbstractTileStyle);os.command.TileLayerColorize.prototype.getOldValue=function(){var a=os.MapContainer.getInstance().getLayer(this.layerId);return a instanceof os.layer.Tile?a.getColorize():null};
os.command.TileLayerColorize.prototype.applyValue=function(a,b){var c=os.MapContainer.getInstance().getLayer(this.layerId);c instanceof os.layer.Tile&&c.setColorize(b);os.command.TileLayerColorize.superClass_.applyValue.call(this,a,b)};os.command.TileLayerStyle=function(a,b,c){os.command.AbstractTileStyle.call(this,a,b,c);this.title="Change Layer Style"};goog.inherits(os.command.TileLayerStyle,os.command.AbstractTileStyle);os.command.TileLayerStyle.prototype.getOldValue=function(){var a=os.MapContainer.getInstance().getLayer(this.layerId);return a instanceof os.layer.Tile?a.getStyle():null};
os.command.TileLayerStyle.prototype.applyValue=function(a,b){var c=os.MapContainer.getInstance().getLayer(this.layerId);c instanceof os.layer.Tile&&c.setStyle(b);os.command.TileLayerStyle.superClass_.applyValue.call(this,a,b)};os.ui.layer.tileLayerUIDirective=function(){return{restrict:"AE",replace:!0,templateUrl:os.ROOT+"views/layer/tile.html",controller:os.ui.layer.TileLayerUICtrl,controllerAs:"tile"}};os.ui.Module.directive("tilelayerui",[os.ui.layer.tileLayerUIDirective]);os.ui.layer.TileLayerUICtrl=function(a,b,c){os.ui.layer.DefaultLayerUICtrl.call(this,a,b,c);a.$on("color.change",this.onColorChange.bind(this));a.$on("color.reset",this.onColorReset.bind(this))};goog.inherits(os.ui.layer.TileLayerUICtrl,os.ui.layer.DefaultLayerUICtrl);
os.ui.layer.TileLayerUICtrl.prototype.initUI=function(){os.ui.layer.TileLayerUICtrl.superClass_.initUI.call(this);this.scope&&(this.scope.color=this.getColor_(),this.scope.styles=this.getValue(os.ui.layer.getStyles),this.scope.style=this.getValue(os.ui.layer.getStyle),this.scope.colorize=this.getValue(os.ui.layer.getColorize))};
os.ui.layer.TileLayerUICtrl.prototype.getColor_=function(){var a=this.scope.items;if(a)for(var b=0,c=a.length;b<c;b++)try{var d=a[b].getLayer();if(d instanceof os.layer.Tile){var e=d.getColor();return e?os.color.toHexString(e):e}}catch(f){}return null};os.ui.layer.TileLayerUICtrl.prototype.onColorChange=function(a,b){this.createCommand(function(a){return new os.command.TileLayerColor(a.getId(),b)})};
os.ui.layer.TileLayerUICtrl.prototype.onColorReset=function(a){this.onColorChange(a,"");this.scope.color=this.getColor_()};os.ui.layer.TileLayerUICtrl.prototype.onStyleChange=function(){var a=this.scope.items;if(a&&1===a.length&&null!=this.scope.style){var b=this.scope.style;this.createCommand(function(a){return new os.command.TileLayerStyle(a.getId(),b)})}};goog.exportProperty(os.ui.layer.TileLayerUICtrl.prototype,"onStyleChange",os.ui.layer.TileLayerUICtrl.prototype.onStyleChange);
os.ui.layer.TileLayerUICtrl.prototype.onColorizeChange=function(){var a=this.scope.colorize;this.createCommand(function(b){return new os.command.TileLayerColorize(b.getId(),a)})};goog.exportProperty(os.ui.layer.TileLayerUICtrl.prototype,"onColorizeChange",os.ui.layer.TileLayerUICtrl.prototype.onColorizeChange);os.layer.Tile=function(a){ol.layer.Tile.call(this,a);this.id_=goog.string.getRandomString();this.osType_=os.layer.LayerType.TILES;this.explicitType_=os.layer.ExplicitLayerType.TILES;this.title_="New Layer";this.loading_=this.error_=!1;this.tags_=this.provider_=null;this.removable_=!0;this.styles_=this.style_=this.layerOptions_=null;this.nodeUI_="<defaultlayernodeui></defaultlayernodeui>";this.layerUi_="tilelayerui";this.syncType_=os.layer.SynchronizerType.TILE;this.hidden_=!1;this.colorFilter_=this.applyColors.bind(this);
(a=this.getSource())&&ol.events.listen(a,goog.events.EventType.PROPERTYCHANGE,this.onSourcePropertyChange_,this)};goog.inherits(os.layer.Tile,ol.layer.Tile);os.implements(os.layer.Tile,os.layer.ILayer.ID);os.implements(os.layer.Tile,os.legend.ILegendRenderer.ID);os.layer.Tile.prototype.disposeInternal=function(){os.layer.Tile.superClass_.disposeInternal.call(this);var a=this.getSource();a&&a.dispose()};
os.layer.Tile.prototype.setMinResolution=function(a){var b=this.getSource();b&&(b.suppressEvents(),b.set(ol.layer.Property.MIN_RESOLUTION,a),b.enableEvents());os.layer.Tile.superClass_.setMinResolution.call(this,a)};os.layer.Tile.prototype.setMaxResolution=function(a){if(isFinite(a)){var b=os.math.precision(a);a+=Math.pow(10,-b)}if(b=this.getSource())b.suppressEvents(),b.set(ol.layer.Property.MAX_RESOLUTION,a),b.enableEvents();os.layer.Tile.superClass_.setMaxResolution.call(this,a)};
os.layer.Tile.prototype.updateIcons_=function(){var a=this.getColor();a&&os.ui.adjustIconSet(this.getId(),os.color.toHexString(a))};os.layer.Tile.prototype.onSourcePropertyChange_=function(a){if(a instanceof os.events.PropertyChangeEvent){var b=a.getProperty();b==os.source.PropertyChange.LOADING?this.setLoading(a.getNewValue()):b==os.source.PropertyChange.REFRESH_INTERVAL&&(a=new os.events.PropertyChangeEvent(os.layer.PropertyChange.REFRESH_INTERVAL,a.getNewValue(),a.getOldValue()),this.dispatchEvent(a))}};
os.layer.Tile.prototype.getId=function(){return this.id_};os.layer.Tile.prototype.setId=function(a){this.id_=a};os.layer.Tile.prototype.getDefaultColor=function(){return this.layerOptions_?this.layerOptions_.baseColor:null};os.layer.Tile.prototype.getColor=function(){return this.layerOptions_?this.layerOptions_.color||this.layerOptions_.baseColor:null};os.layer.Tile.prototype.getColorize=function(){return this.layerOptions_?this.layerOptions_.colorize||!1:!1};
os.layer.Tile.prototype.setColorize=function(a){this.layerOptions_&&(this.layerOptions_.colorize=a,this.updateColorFilter(),os.style.notifyStyleChange(this))};os.layer.Tile.prototype.setColor=function(a,b){if(b=b||this.layerOptions_)b.color=a&&"string"==typeof a?os.color.toHexString(a):null,this.updateColorFilter(),this.updateIcons_(),os.style.notifyStyleChange(this)};
os.layer.Tile.prototype.updateColorFilter=function(){var a=this.getSource();a instanceof ol.source.TileImage&&(this.getColorize()||!os.color.equals(this.getColor(),this.getDefaultColor())?a.addTileFilter(this.colorFilter_):a.removeTileFilter(this.colorFilter_))};os.layer.Tile.prototype.applyColors=function(a){var b=this.getDefaultColor()||"#fffffe",c=this.getColor()||"#fffffe",d=this.getColorize();(d||!os.color.equals(b,c))&&c&&(d?os.color.colorize(a,c):os.color.transformColor(a,b,c))};
os.layer.Tile.prototype.getStyles=function(){return this.styles_};os.layer.Tile.prototype.setStyles=function(a){this.styles_=a};os.layer.Tile.prototype.getDefaultStyle=function(){if(this.styles_)for(var a=0;a<this.styles_.length;a++)if(this.styles_[a].label==os.ogc.DEFAULT_TILE_STYLE.label)return this.styles_[a];return null};
os.layer.Tile.prototype.getStyle=function(){var a=this.style_;if(!a)try{var b=this.getSource(),c=this.getStyles();a=b.getStyle();if(c){b=0;for(var d=c.length;b<d;b++)if(c[b].data==a)return c[b]}}catch(e){}return a};os.layer.Tile.prototype.setStyle=function(a){"string"==typeof a&&(a=this.styles_?goog.array.find(this.styles_,os.layer.Tile.findStyleByData.bind(this,a)):null);this.style_=a;try{this.getSource().setStyle(a),os.style.notifyStyleChange(this)}catch(b){}};
os.layer.Tile.prototype.getIcons=function(){var a,b="";this.error_&&(b+='<i class="fa fa-warning orange-icon" title="There were errors accessing the tiles for this layer"></i>');var c=this.getColor();c&&(a=os.color.toRgbArray(c));return b+=a?os.ui.createIconSet(this.getId(),[os.ui.IconsSVG.TILES],null,a):os.ui.Icons.TILES};os.layer.Tile.prototype.isLoading=function(){return this.loading_};
os.layer.Tile.prototype.setLoading=function(a){if(this.loading_!==a){var b=this.loading_;this.loading_=a;this.dispatchEvent(new os.events.PropertyChangeEvent(os.layer.PropertyChange.LOADING,a,b));a=this.getSource();a instanceof ol.source.UrlTile&&(a=a.hasError(),a!==this.error_&&(this.error_=a,this.dispatchEvent(new os.events.PropertyChangeEvent(os.layer.PropertyChange.ERROR,this.error_,!this.error_))))}};os.layer.Tile.prototype.getTitle=function(){return this.title_};
os.layer.Tile.prototype.setTitle=function(a){this.title_=a;this.dispatchEvent(new os.events.PropertyChangeEvent(os.layer.PropertyChange.TITLE,a))};os.layer.Tile.prototype.getOSType=function(){return this.osType_};os.layer.Tile.prototype.setOSType=function(a){this.osType_=a};os.layer.Tile.prototype.getExplicitType=function(){return this.explicitType_};os.layer.Tile.prototype.setExplicitType=function(a){this.explicitType_=a};os.layer.Tile.prototype.getProvider=function(){return this.provider_};
os.layer.Tile.prototype.setProvider=function(a){this.provider_=a};os.layer.Tile.prototype.getTags=function(){return this.tags_};os.layer.Tile.prototype.setTags=function(a){this.tags_=a};os.layer.Tile.prototype.getError=function(){return this.error_};os.layer.Tile.prototype.isRemovable=function(){return this.removable_};os.layer.Tile.prototype.setRemovable=function(a){this.removable_=a};os.layer.Tile.prototype.getNodeUI=function(){return this.nodeUI_};
os.layer.Tile.prototype.setNodeUI=function(a){this.nodeUI_=a};os.layer.Tile.prototype.getLayerUI=function(){return this.layerUi_};os.layer.Tile.prototype.setLayerUI=function(a){this.layerUi_=a};os.layer.Tile.prototype.identify=function(){os.layer.identifyLayer(this)};os.layer.Tile.prototype.getLayerVisible=function(){return os.layer.Tile.superClass_.getVisible.call(this)};
os.layer.Tile.prototype.setLayerVisible=function(a){a!==this.getLayerVisible()&&(this.setVisible(a),this.dispatchEvent(new os.events.PropertyChangeEvent(os.layer.PropertyChange.VISIBLE,a,!a)))};os.layer.Tile.prototype.setBaseVisible=function(a){this.setVisible(a)};os.layer.Tile.prototype.getBaseVisible=function(){return this.getVisible()};os.layer.Tile.prototype.getLayerOptions=function(){return this.layerOptions_};os.layer.Tile.prototype.setLayerOptions=function(a){this.layerOptions_=a;this.updateColorFilter()};
os.layer.Tile.prototype.callAction=function(a){var b=this.getSource();if(os.action)switch(a){case os.action.EventType.IDENTIFY:this.identify();break;case os.action.EventType.MOST_RECENT:os.dataManager.setTimeFromDescriptor(this.getId());break;case os.action.EventType.REFRESH:b.refresh();break;case os.action.EventType.REMOVE_LAYER:a=new os.events.LayerEvent(os.events.LayerEventType.REMOVE,this.getId());os.dispatcher.dispatchEvent(a);break;case os.action.EventType.RENAME:os.ui.renamelayer.launchRenameDialog(this)}};
os.layer.Tile.prototype.getGroupUI=function(){return null};
os.layer.Tile.prototype.supportsAction=function(a,b){if(os.action)switch(a){case os.action.EventType.IDENTIFY:case os.action.EventType.REFRESH:case os.action.EventType.SHOW_DESCRIPTION:return!0;case os.action.EventType.RENAME:return!!b&&goog.isArrayLike(b)&&1===b.length;case os.action.EventType.MOST_RECENT:a=os.dataManager.getDescriptor(this.getId());if(goog.isDefAndNotNull(a))return a=a.getMaxDate(),0<a&&a<os.time.TimeInstant.MAX_TIME;break;case os.action.EventType.REMOVE_LAYER:return this.isRemovable()}return!1};
os.layer.Tile.prototype.getSynchronizerType=function(){return this.syncType_};os.layer.Tile.prototype.setSynchronizerType=function(a){this.syncType_=a};os.layer.Tile.prototype.getHidden=function(){return this.hidden_};os.layer.Tile.prototype.setHidden=function(a){this.hidden_=a};os.layer.Tile.prototype.renderLegend=function(a){os.legend.drawTileLayer(this,a)};
os.layer.Tile.prototype.persist=function(a){a=a||{};a.visible=this.getLayerVisible();a.opacity=this.getOpacity();a.contrast=this.getContrast();a.brightness=this.getBrightness();a.saturation=this.getSaturation();a.color=this.getColor();a.colorize=this.getColorize();var b=os.MapContainer.getInstance();a.maxZoom=b.resolutionToZoom(this.getMinResolution());a.minZoom=b.resolutionToZoom(this.getMaxResolution());(b=this.getStyle())&&(a.style=goog.isString(b)?b:b.data);(b=this.getSource())&&b instanceof ol.source.UrlTile&&
(a.refreshInterval=b.getRefreshInterval());return a};
os.layer.Tile.prototype.restore=function(a){null!=a.id&&this.setId(a.id);null!=a.provider&&this.setProvider(a.provider);null!=a.tags&&this.setTags(a.tags);null!=a.title&&this.setTitle(a.title);null!=a.layerType&&this.setOSType(a.layerType);null!=a.visible&&this.setLayerVisible(a.visible);var b=a.alpha||a.opacity;null!=b&&this.setOpacity(b);null!=a.contrast&&this.setContrast(a.contrast);null!=a.brightness&&this.setBrightness(a.brightness);null!=a.saturation&&this.setSaturation(a.saturation);a.color&&
this.setColor(a.color,a);a.colorize&&this.setColorize(a.colorize);goog.isDef(a.refreshInterval)&&(b=this.getSource())&&b instanceof ol.source.UrlTile&&b.setRefreshInterval(a.refreshInterval);b=os.MapContainer.getInstance();a.minZoom&&this.setMaxResolution(b.zoomToResolution(a.minZoom));a.maxZoom&&this.setMinResolution(b.zoomToResolution(a.maxZoom));a=a.style||"";b=this.getStyle();(!b||goog.isString(b)&&a!=b||a!=b.data)&&this.setStyle(a)};
os.layer.Tile.findStyleByData=function(a,b){return b.data==a};os.olcs.sync={};os.olcs.sync.AbstractSynchronizer=function(a,b,c){this.active=!1;this.layer=a;this.map=b;this.view=b.getView();this.scene=c;this.tlc=os.time.TimelineController.getInstance()};goog.inherits(os.olcs.sync.AbstractSynchronizer,goog.Disposable);os.olcs.sync.AbstractSynchronizer.prototype.synchronize=goog.abstractMethod;os.olcs.sync.AbstractSynchronizer.prototype.reset=goog.abstractMethod;os.olcs.sync.AbstractSynchronizer.prototype.setActive=function(a){this.active=a};
os.olcs.sync.AbstractSynchronizer.prototype.reposition=function(a,b){return++a};os.olcs.sync.AbstractSynchronizer.prototype.updateFromCamera=goog.nullFunction;os.olcs.VectorContext=function(a,b,c){Cesium.PrimitiveCollection.call(this);this.log=os.olcs.VectorContext.LOGGER_;this.disposed_=!1;this.billboards=new Cesium.BillboardCollection({scene:a});this.labels=new Cesium.LabelCollection({scene:a});this.polylines=new Cesium.PolylineCollection;this.layer=b;this.projection=c;this.featureToCesiumMap={};this.geometryToCesiumMap={};this.geometryToLabelsMap={};this.featureToShownMap={};this.scene=a;this.add(this.billboards);this.add(this.labels);this.add(this.polylines)};
goog.inherits(os.olcs.VectorContext,Cesium.PrimitiveCollection);os.olcs.VectorContext.LOGGER_=goog.log.getLogger("os.olcs.VectorContext");
os.olcs.VectorContext.prototype.dispose=function(){if(!this.isDisposed()){this.destroyPrimitives=!0;try{this.billboards&&(this.removeOLReferences(this.billboards),this.remove(this.billboards),this.billboards=null),this.labels&&(this.removeOLReferences(this.labels),this.remove(this.labels),this.labels=null),this.polylines&&(this.removeOLReferences(this.polylines),this.remove(this.polylines),this.polylines=null),this.removeOLReferences(this)}catch(a){goog.log.error(this.log,"Failed disposing vector context",
a)}finally{this.disposed_=!0}}};os.olcs.VectorContext.prototype.isDisposed=function(){return this.disposed_};os.olcs.VectorContext.prototype.pruneMaps=function(){this.featureToCesiumMap=os.object.prune(this.featureToCesiumMap);this.geometryToCesiumMap=os.object.prune(this.geometryToCesiumMap);this.geometryToLabelsMap=os.object.prune(this.geometryToLabelsMap);this.featureToShownMap=os.object.prune(this.featureToShownMap);this.scene.context.cleanupPickIds()};
os.olcs.VectorContext.prototype.addOLReferences=function(a,b,c){if(a&&(a.olLayer=this.layer,a.olFeature=b,a.olGeometry=c,a instanceof Cesium.PrimitiveCollection))for(var d=0,e=a.length;d<e;d++){var f=a.get(d);f&&this.addOLReferences(f,b,c)}};
os.olcs.VectorContext.prototype.removeOLReferences=function(a){if(a&&(a.olLayer=void 0,a.olFeature=void 0,a.olGeometry=void 0,a instanceof Cesium.PrimitiveCollection||a instanceof Cesium.BillboardCollection||a instanceof Cesium.LabelCollection))for(var b=0,c=a.length;b<c;b++){var d=a.get(b);d&&this.removeOLReferences(d)}};os.olcs.VectorContext.prototype.markDirty=function(a){if(a=this.featureToCesiumMap[a.id])for(var b=0,c=a.length;b<c;b++)a[b].dirty=!0};
os.olcs.VectorContext.prototype.removeDirty=function(a){if(a=this.featureToCesiumMap[a.id])for(var b=a.length;b--;)a[b].dirty&&this.removePrimitive(a[b])};os.olcs.VectorContext.prototype.cleanup=function(a){var b=a.id;if(a=this.featureToCesiumMap[b]){this.featureToCesiumMap[b]=void 0;this.featureToShownMap[b]=void 0;b=0;for(var c=a.length;b<c;b++)this.removePrimitive(a[b])}};
os.olcs.VectorContext.prototype.addBillboard=function(a,b,c){var d=ol.getUid(c),e=this.geometryToCesiumMap[d];e&&this.removePrimitive(e);b.isDisposed()||(a=this.billboards.add(a),this.geometryToCesiumMap[d]=a,this.addFeaturePrimitive(b,a),this.addOLReferences(a,b,c))};
os.olcs.VectorContext.prototype.addPolyline=function(a,b,c){var d=ol.getUid(c),e=this.geometryToCesiumMap[d];e&&this.removePrimitive(e);b.isDisposed()||(a=this.polylines.add(a),this.geometryToCesiumMap[d]=a,this.addFeaturePrimitive(b,a),this.addOLReferences(a,b,c))};
os.olcs.VectorContext.prototype.addPrimitive=function(a,b,c){var d=ol.getUid(c),e=this.geometryToCesiumMap[d];e&&this.removePrimitive(e);b.isDisposed()||(this.add(a),this.geometryToCesiumMap[d]=a,this.addFeaturePrimitive(b,a),this.addOLReferences(a,b,c))};
os.olcs.VectorContext.prototype.addLabels=function(a,b,c){var d=ol.getUid(c),e=this.geometryToLabelsMap[d];e&&e.forEach(this.removePrimitive,this);b.isDisposed()||(a&&0<a.length?(this.geometryToLabelsMap[d]=this.geometryToLabelsMap[d]||[],a.forEach(function(a){a=this.labels.add(a);this.geometryToLabelsMap[d].push(a);this.addFeaturePrimitive(b,a);this.addOLReferences(a,b,c)},this)):this.geometryToLabelsMap[d]=void 0)};
os.olcs.VectorContext.prototype.removePrimitive=function(a){var b=ol.getUid(a.olGeometry);if(a instanceof Cesium.Billboard)this.billboards.remove(a),this.geometryToCesiumMap[b]=void 0;else if(a instanceof Cesium.Label){this.labels.remove(a);var c=this.geometryToLabelsMap[b];c&&(goog.array.remove(c,a),0==c.length&&(this.geometryToLabelsMap[b]=void 0))}else a instanceof Cesium.Polyline?this.polylines.remove(a):this.remove(a),this.geometryToCesiumMap[b]=void 0;a.olFeature&&this.removeFeaturePrimitive(a.olFeature,
a);this.removeOLReferences(a)};os.olcs.VectorContext.prototype.addFeaturePrimitive=function(a,b){a=a.id;var c=this.featureToShownMap[a];c=goog.isDef(c)?c:b.show;b.show=c;this.featureToCesiumMap[a]=this.featureToCesiumMap[a]||[];this.featureToCesiumMap[a].push(b);this.featureToShownMap[a]=c};os.olcs.VectorContext.prototype.removeFeaturePrimitive=function(a,b){(a=this.featureToCesiumMap[a.id])&&goog.array.remove(a,b)};
os.olcs.VectorContext.prototype.getLabelsForGeometry=function(a){return this.geometryToLabelsMap[ol.getUid(a)]||null};os.olcs.VectorContext.prototype.getPrimitiveForGeometry=function(a){return this.geometryToCesiumMap[ol.getUid(a)]||null};os.olcs.sync.FeatureConverter=function(a){this.scene=a;this.transformFunction=this.lastProjection=null;this.heightReference_=Cesium.HeightReference.NONE;this.eyeOffset_=os.olcs.sync.FeatureConverter.ZERO_OFFSET;this.labelEyeOffset_=os.olcs.sync.FeatureConverter.DEFAULT_LABEL_OFFSET;this.listenerMap_={}};os.olcs.sync.FeatureConverter.ZERO_OFFSET=new Cesium.Cartesian3(0,0,0);os.olcs.sync.FeatureConverter.DEFAULT_LABEL_OFFSET=new Cesium.Cartesian3(0,0,1E4);
os.olcs.sync.FeatureConverter.ELLIPSE_GRANULARITY=.002;os.olcs.sync.FeatureConverter.BASE_PRIMITIVE_OPTIONS={flat:!0,renderState:{depthTest:{enabled:!0}}};os.olcs.sync.FeatureConverter.prototype.getTransformFunction=function(){var a=os.map.PROJECTION;if(this.lastProjection!==a){var b=ol.proj.get(os.proj.EPSG4326);this.transformFunction=ol.proj.equivalent(b,a)?null:ol.proj.getTransform(a,b);this.lastProjection=a}return this.transformFunction};
os.olcs.sync.FeatureConverter.prototype.createGeometryInstance=function(a,b,c){return new Cesium.GeometryInstance({id:a,geometry:b,attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(c)}})};
os.olcs.sync.FeatureConverter.prototype.createColoredPrimitive=function(a,b,c,d){var e=os.object.unsafeClone(os.olcs.sync.FeatureConverter.BASE_PRIMITIVE_OPTIONS);null!=c&&(e.renderState.lineWidth=c);c=null!=c?os.olcs.GeometryInstanceId.GEOM_OUTLINE:os.olcs.GeometryInstanceId.GEOM;a=d?d(c,a,b):this.createGeometryInstance(c,a,b);e=new Cesium.PerInstanceColorAppearance(e);return new Cesium.Primitive({geometryInstances:a,appearance:e})};
os.olcs.sync.FeatureConverter.prototype.extractColorFromOlStyle=function(a,b){var c=a.getFill()?a.getFill().getColor():null;a=a.getStroke()?a.getStroke().getColor():null;var d="black";a&&b?d=a:c&&(d=c);return olcs.core.convertColorToCesium(d)};os.olcs.sync.FeatureConverter.prototype.extractLineWidthFromOlStyle=function(a){return Math.max(1,a.getStroke()&&a.getStroke().getWidth()||os.style.DEFAULT_FEATURE_SIZE)};
os.olcs.sync.FeatureConverter.prototype.wrapFillAndOutlineGeometries=function(a,b,c,d){var e=this.extractLineWidthFromOlStyle(c);d=d.layer.getOpacity();var f=new Cesium.PrimitiveCollection;f.olLineWidth=e;if(a){var g=this.extractColorFromOlStyle(c,!1);g.alpha*=d;f.add(this.createColoredPrimitive(a,g))}b&&(a=this.extractColorFromOlStyle(c,!0),a.alpha=null!=c.getStroke()?a.alpha*d:0,f.add(this.createColoredPrimitive(b,a,e)));return f};
os.olcs.sync.FeatureConverter.prototype.createLabels=function(a,b,c,d){var e=[];goog.array.forEach(c,function(c){if(!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(c.getText()))){var f={heightReference:this.getHeightReference(d.layer,a,b)};this.updateLabel(f,b,c,d);e.push(f)}},this);d.addLabels(e,a,b)};
os.olcs.sync.getLabelPosition=function(a){switch(a.getType()){case ol.geom.GeometryType.POINT:return a.getFlatCoordinates().slice();case ol.geom.GeometryType.MULTI_POINT:return a.getFlatCoordinates().slice(0,2);default:return ol.extent.getCenter(a.getExtent())}};
os.olcs.sync.FeatureConverter.prototype.updateLabel=function(a,b,c,d){var e=c.getGeometry();e instanceof ol.geom.Geometry&&(b=e);c=c.getText();e=b.getRevision();if(null===a.geomRevision||a.geomRevision!==e){var f=this.getTransformFunction(),g=os.olcs.sync.getLabelPosition(b);if(g){f&&(g=f(g));if(b instanceof ol.geom.SimpleGeometry){var h=b.getFirstCoordinate();f&&(h=f(h,void 0,h.length));g[2]=h[2]||0}a.position=olcs.core.ol4326CoordinateToCesiumCartesian(g);a.geomRevision=e}}e=void 0;f=d.layer.getOpacity();
c.getFill()&&(a.fillColor=this.extractColorFromOlStyle(c,!1),a.fillColor.alpha*=f,e=Cesium.LabelStyle.FILL);c.getStroke()&&(a.outlineWidth=this.extractLineWidthFromOlStyle(c),a.outlineColor=this.extractColorFromOlStyle(c,!0),a.outlineColor.alpha*=f,e=Cesium.LabelStyle.OUTLINE);c.getFill()&&c.getStroke()&&(e=Cesium.LabelStyle.FILL_AND_OUTLINE);e&&(a.style=e);if(c.getTextAlign()){switch(c.getTextAlign()){case "center":var k=Cesium.HorizontalOrigin.CENTER;break;case "left":k=Cesium.HorizontalOrigin.LEFT;
break;case "right":k=Cesium.HorizontalOrigin.RIGHT;break;default:goog.asserts.fail("unhandled text align "+c.getTextAlign())}a.horizontalOrigin=k}if(c.getTextBaseline()){switch(c.getTextBaseline()){case "top":var l=Cesium.VerticalOrigin.TOP;break;case "middle":l=Cesium.VerticalOrigin.CENTER;break;case "bottom":l=Cesium.VerticalOrigin.BOTTOM;break;case "alphabetic":l=Cesium.VerticalOrigin.TOP;break;case "hanging":l=Cesium.VerticalOrigin.BOTTOM;break;default:goog.asserts.fail("unhandled baseline "+
c.getTextBaseline())}a.verticalOrigin=l}k=c.getText()||"";a.text=k.replace(/[^\x20-\x7e\xa0-\xff]/g,"");a.font=c.getFont()||"normal 12px Arial";a.pixelOffset=new Cesium.Cartesian2(c.getOffsetX(),c.getOffsetY());if(b=d.getPrimitiveForGeometry(b))a.show=b.show;d.scene&&this.setLabelEyeOffset(a,d.scene);a instanceof Cesium.Label&&(a.dirty=!1)};os.olcs.sync.FeatureConverter.prototype.setLabelEyeOffset=function(a,b,c){a.eyeOffset=c?c:this.labelEyeOffset_};
os.olcs.sync.FeatureConverter.prototype.olCircleGeometryToCesium=function(a,b,c,d){goog.asserts.assert("Circle"==b.getType());var e=this.getTransformFunction();a=b.getCenter();var f=a[2]||0,g=a.slice();g[0]+=b.getRadius();e&&(a=e(a,void 0,a.length),g=e(g,void 0,g.length));a=olcs.core.ol4326CoordinateToCesiumCartesian(a);g=olcs.core.ol4326CoordinateToCesiumCartesian(g);e=Cesium.Cartesian3.distance(a,g);b=new Cesium.CircleGeometry({center:a,radius:e,height:f});a=new Cesium.CircleOutlineGeometry({center:a,
radius:e,extrudedHeight:f,height:f});return this.wrapFillAndOutlineGeometries(b,a,d,c)};os.olcs.sync.FeatureConverter.prototype.olLineStringGeometryToCesium=function(a,b,c,d){goog.asserts.assert("LineString"==b.getType());var e=this.getTransformFunction();a=b.getCoordinates();if(2>a.length)return null;e&&(a=a.map(function(a){return e(a,void 0,a.length)}));b=b.get("extrude")?"WallGeometry":"PolylineGeometry";a=olcs.core.ol4326CoordinateArrayToCsCartesians(a);return this.createLinePrimitive(a,c,d,b)};
os.olcs.sync.FeatureConverter.prototype.createLinePrimitive=function(a,b,c,d){var e=d||"PolylineGeometry",f=new Cesium.PolylineColorAppearance;d=this.extractLineWidthFromOlStyle(c);c=this.extractColorFromOlStyle(c,!0);c.alpha*=b.layer.getOpacity();a=new Cesium[e]({positions:a,vertexFormat:f.vertexFormat,width:d});a=this.createGeometryInstance(os.olcs.GeometryInstanceId.GEOM_OUTLINE,a,c);f=new Cesium.Primitive({geometryInstances:a,appearance:f});f.olLineWidth=d;return f};
os.olcs.sync.FeatureConverter.prototype.createOrUpdatePolyline=function(a,b,c,d,e){e?this.updatePolyline(a,b,c,d,e):this.createPolyline(a,b,c,d)};os.olcs.sync.FeatureConverter.prototype.createPolyline=function(a,b,c,d){var e={};this.updatePolyline(a,b,c,d,e);c.addPolyline(e,a,b)};
os.olcs.sync.FeatureConverter.prototype.updatePolyline=function(a,b,c,d,e){a=b.getRevision();if(e.geomRevision!=a){var f=b.getCoordinates();f.length&&b instanceof os.geom.Ellipse&&(f=f[0]);var g=this.getTransformFunction();g&&(f=f.map(function(a){return g(a,void 0,a.length)}));e.positions=olcs.core.ol4326CoordinateArrayToCsCartesians(f);e.geomRevision=a}b=this.extractLineWidthFromOlStyle(d);d=this.extractColorFromOlStyle(d,!0);d.alpha*=c.layer.getOpacity();e.material=Cesium.Material.fromType(Cesium.Material.ColorType,
{color:d});e.width=b;e instanceof Cesium.Polyline&&(e.dirty=!1)};os.olcs.sync.FeatureConverter.prototype.getGroundReference=function(a,b,c){var d=a.slice();d[2]=0;a=olcs.core.ol4326CoordinateArrayToCsCartesians([a,d]);return this.createLinePrimitive(a,c,b)};
os.olcs.sync.FeatureConverter.prototype.createOrUpdateGroundReference=function(a,b,c,d){var e=null;if(os.implements(c.layer,os.layer.ILayer.ID)){var f=c.layer.getId();if((f=os.style.StyleManager.getInstance().getLayerConfig(f))&&f[os.style.StyleField.SHOW_GROUND_REF]&&(b=b.getCenter(),b[2])){e=b.slice();e[2]=0;f=[b,e];if(e=a.get("_groundRefGeom")){var g=e.getCoordinates();(1E-9<Math.abs(g[0][0]-b[0])||1E-9<Math.abs(g[0][1]-b[1]))&&e.setCoordinates(f)}else e=new ol.geom.LineString(f);a.set("_groundRefGeom",
e,!0)}}e&&(b=c.getPrimitiveForGeometry(e),this.createOrUpdatePolyline(a,e,c,d,b))};os.olcs.sync.FeatureConverter.prototype.getEllipsoidFill=function(a,b){a=this.extractColorFromOlStyle(a,!0);a.alpha=.3*b.layer.getOpacity();return a};os.olcs.sync.FeatureConverter.prototype.getEllipsoidStroke=function(a,b){a=new Cesium.Color(1,1,1,1);a.alpha=.75*b.layer.getOpacity();return a};
os.olcs.sync.FeatureConverter.prototype.wrapEllipsoidFillAndOutline=function(a,b,c,d,e){var f=this.extractLineWidthFromOlStyle(c),g=new Cesium.PrimitiveCollection;g.olLineWidth=f;f=this.getEllipsoidFill(c,d);c=this.getEllipsoidStroke(c,d);g.add(this.createColoredPrimitive(a,f,void 0,e));g.add(this.createColoredPrimitive(b,c,1,e));return g};
os.olcs.sync.FeatureConverter.prototype.olEllipseGeometryToEllipsoid=function(a,b,c,d){a=b.getCenter();var e=olcs.core.ol4326CoordinateToCesiumCartesian(a),f=a[2]||void 0,g=b.getSemiMajor(),h=b.getSemiMinor();b=Cesium.Math.toRadians(90+b.getOrientation());g=new Cesium.Cartesian3(g,h,h);b=new Cesium.HeadingPitchRoll(b,0,0);var k=Cesium.Transforms.headingPitchRollToFixedFrame(e,b,Cesium.Ellipsoid.WGS84,void 0,new Cesium.Matrix4);e=new Cesium.EllipsoidGeometry({radii:g});b=new Cesium.EllipsoidOutlineGeometry({radii:g,
stackPartitions:2,slicePartitions:4});e=this.wrapEllipsoidFillAndOutline(e,b,d,c,function(a,b,c){a=a===os.olcs.GeometryInstanceId.GEOM?os.olcs.GeometryInstanceId.ELLIPSOID:os.olcs.GeometryInstanceId.ELLIPSOID_OUTLINE;return new Cesium.GeometryInstance({id:a,geometry:b,modelMatrix:k,attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(c)}})});os.implements(c.layer,os.layer.ILayer.ID)&&(b=c.layer,(b=os.style.StyleManager.getInstance().getLayerConfig(b.getId()))&&b[os.style.StyleField.SHOW_GROUND_REF]&&
f&&(c=this.getGroundReference(a,d,c))&&e.add(c));return e};
os.olcs.sync.FeatureConverter.prototype.createPolygonHierarchy=function(a){var b=this.getTransformFunction(),c=a.getLinearRings();a=!!a.get("extrude");goog.asserts.assert(0<c.length);for(var d=0;d<c.length;++d){var e=c[d].getCoordinates(),f=c[d].getExtent();b&&(f=b(f),e=e.map(function(a){return b(a,void 0,a.length)}));if((e=1===c.length&&os.geo.isRectangular(e,f)?os.olcs.generateRectanglePositions(f,0,a):olcs.core.ol4326CoordinateArrayToCsCartesians(e))&&0<e.length)if(0==d)var g=e;else{var h=h||[];
h.push(new Cesium.PolygonHierarchy(e))}}return g?new Cesium.PolygonHierarchy(g,h):null};
os.olcs.sync.FeatureConverter.prototype.olPolygonGeometryToCesium=function(a,b,c,d){a=null;var e=this.getTransformFunction();var f=!!b.get("extrude");var g=b.clone();g.toLonLat();if(os.geo.isGeometryRectangular(g))g=os.geo.getAverageAltitude(b.getLinearRings()[0].getCoordinates()),b=b.getLinearRings()[0].getExtent(),e&&(b=e(b)),b=Cesium.Rectangle.fromDegrees(b[0],b[1],b[2],b[3]),d.getFill()&&(a=new Cesium.RectangleGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:b,height:g,closeTop:!0,closeBottom:!1,
extrudedHeight:f?0:void 0})),f=new Cesium.RectangleOutlineGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:b,height:g,extrudedHeight:f?0:void 0});else{b=this.createPolygonHierarchy(b);if(!b)return null;d.getFill()&&(a=new Cesium.PolygonGeometry({polygonHierarchy:b,perPositionHeight:!0,extrudedHeight:f?0:void 0}));f=new Cesium.PolygonOutlineGeometry({polygonHierarchy:b,perPositionHeight:!0,extrudedHeight:f?0:void 0})}return this.wrapFillAndOutlineGeometries(a,f,d,c)};
os.olcs.sync.FeatureConverter.prototype.olPolygonGeometryToCesiumPolyline=function(a,b,c,d){if(b.get("extrude")&&os.geo.hasAltitudeGeometry(b))return this.olPolygonGeometryToCesium(a,b,c,d);var e=this.createPolygonHierarchy(b);if(!e)return null;var f=[e.positions];e.holes&&e.holes.forEach(function(a){f.push(a.positions)});goog.asserts.assert(0<f.length);var g=new Cesium.PolylineColorAppearance;a=this.extractLineWidthFromOlStyle(d);b=c.layer.getOpacity();var h=this.extractColorFromOlStyle(d,!0);h.alpha=
null!=d.getStroke()?h.alpha*b:0;c=new Cesium.PrimitiveCollection;c.olLineWidth=a;for(var k=0;k<f.length;++k){var l=new Cesium.PolylineGeometry({positions:f[k],vertexFormat:g.vertexFormat,width:a});l=this.createGeometryInstance(os.olcs.GeometryInstanceId.GEOM_OUTLINE,l,h);l=new Cesium.Primitive({geometryInstances:l,appearance:g});c.add(l)}d.getFill()&&(e=new Cesium.PolygonGeometry({polygonHierarchy:e,perPositionHeight:!1,extrudedHeight:void 0}),d=this.extractColorFromOlStyle(d,!1),d.alpha*=b,d=this.createColoredPrimitive(e,
d),c.add(d));return 1==c.length?(d=c.get(0),d.olLineWidth=a,d):c};os.olcs.sync.FeatureConverter.prototype.setAltitudeEnabled=function(a){this.heightReference_=a?Cesium.HeightReference.NONE:Cesium.HeightReference.CLAMP_TO_GROUND};os.olcs.sync.FeatureConverter.prototype.getHeightReference=function(a,b,c){return this.heightReference_};
os.olcs.sync.FeatureConverter.prototype.createOrUpdateBillboard=function(a,b,c,d,e){var f=d.getImage();if(f){var g=f.getImageState();if(g<ol.ImageState.LOADED){e instanceof Cesium.Billboard&&(e.dirty=!1);g==ol.ImageState.IDLE&&f.load();var h=a.getId();if(!this.listenerMap_[h]){this.listenerMap_[h]=!0;var k=f.listenImageChange(function(){k&&ol.events.unlistenByKey(k);f.getImageState()<ol.ImageState.ERROR&&(!(e instanceof Cesium.Billboard)||c.billboards&&c.billboards.contains(e))&&this.createOrUpdateBillboard(a,
b,c,d,e);delete this.listenerMap_[h]},this)}}else e?this.updateBillboard(a,b,e,f,c.layer):this.createBillboard(a,b,c,f)}};os.olcs.sync.FeatureConverter.prototype.createBillboard=function(a,b,c,d){var e=d.getImage(1);if(e instanceof HTMLCanvasElement||e instanceof Image||e instanceof HTMLImageElement)e={heightReference:this.getHeightReference(c.layer,a,b)},this.updateBillboard(a,b,e,d,c.layer),c.addBillboard(e,a,b)};
os.olcs.sync.FeatureConverter.prototype.updateBillboard=function(a,b,c,d,e){a=b.getRevision();if(null==c.geomRevision||c.geomRevision!=a){var f=this.getTransformFunction();b=b.getCoordinates();b=f?f(b,void 0,b.length):b;c.position=olcs.core.ol4326CoordinateToCesiumCartesian(b);c.geomRevision=a}var g;d instanceof ol.style.Icon?(a=b=d.getSrc()||void 0,(f=d.getColor())&&(g=olcs.core.convertColorToCesium(f))):(a=d.getImage(1),b=d.id||ol.getUid(a));if(goog.isString(a)||a instanceof HTMLCanvasElement||
a instanceof Image||a instanceof HTMLImageElement)c instanceof Cesium.Billboard?(c.setImage(b,a),c.pixelOffset.x=0,c.pixelOffset.y=0):(c.image=a,c.imageId=b,c.pixelOffset=new Cesium.Cartesian2(0,0)),g=g||new Cesium.Color(1,1,1,1),g.alpha=e.getOpacity(),e=d.getOpacity(),null!=e&&(g.alpha*=e),c.color=g,e=d.getScale(),c.scale=null!=e?e:1,c.rotation=-d.getRotation()||0,c.alignedAxis=Cesium.Cartesian3.UNIT_Z,e=Cesium.HorizontalOrigin.CENTER,g=Cesium.VerticalOrigin.CENTER,b=c.pixelOffset,d instanceof ol.style.Icon&&
(a=d.getAnchor(),d=d.getSize(),a&&d&&(b.x=Math.round(c.scale*(d[0]-a[0])),e=Cesium.HorizontalOrigin.RIGHT,b.y=Math.round(c.scale*(d[1]-a[1])),g=Cesium.VerticalOrigin.BOTTOM)),c.heightReference=this.heightReference_,c.horizontalOrigin=e,c.verticalOrigin=g,c.pixelOffset=b,c instanceof Cesium.Billboard&&(c.dirty=!1)};os.olcs.sync.FeatureConverter.prototype.isHighlightStyle=function(a){return a&&a.getStroke()?os.style.DEFAULT_HIGHLIGHT_CONFIG.stroke.color===a.getStroke().getColor():!1};
os.olcs.sync.FeatureConverter.prototype.updatePrimitive=function(a,b,c,d,e){if(e.ready)if(e.isDestroyed()||a.isDisposed())e.dirty=!0;else{e.updateRetries=0;for(var f in os.olcs.GeometryInstanceId)try{var g=os.olcs.GeometryInstanceId[f],h=e.getGeometryInstanceAttributes(g);if(h){var k=os.olcs.ELLIPSOID_REGEXP.test(g),l=os.olcs.OUTLINE_REGEXP.test(g);if(k)var m=l?this.getEllipsoidStroke(c,d):this.getEllipsoidFill(c,d);else m=this.extractColorFromOlStyle(c,l),!l||this.isHighlightStyle(c)||c.getStroke()?
m.alpha*=d.layer.getOpacity():m.alpha=0;m&&(h.color=Cesium.ColorGeometryInstanceAttribute.toValue(m,h.color))}}catch(n){}e.dirty=!1}else e.updateRetries=goog.isDef(e.updateRetries)?e.updateRetries+1:1,20>e.updateRetries&&(a=goog.partial(this.updatePrimitive,a,b,c,d,e),(new goog.async.Delay(a,100,this)).start()),e.dirty=!1};
os.olcs.sync.FeatureConverter.prototype.olMultiGeometryToCesium=function(a,b,c,d){switch(b.getType()){case "MultiPoint":var e=b.getPoints();e.forEach(function(b){goog.asserts.assert(!goog.isNull(b));this.createOrUpdateBillboard(a,b,c,d)},this);break;case "MultiLineString":e=b.getLineStrings();if(b.get(os.geom.GeometryField.DYNAMIC))e.forEach(function(b){b&&this.createOrUpdatePolyline(a,b,c,d)},this);else{var f=new Cesium.PrimitiveCollection;e.forEach(function(b){b&&(b=this.olLineStringGeometryToCesium(a,
b,c,d))&&(f.add(b),f.olLineWidth=b.olLineWidth)},this);return f}break;case "MultiPolygon":e=b.getPolygons();if((b=b.get("extrude"))&&b.length==e.length)for(var g=0;g<b.length;g++)e[g].set("extrude",b[g],!0);f=new Cesium.PrimitiveCollection;e.forEach(function(b){b&&(b=this.olPolygonGeometryToCesiumPolyline(a,b,c,d))&&(f.add(b),f.olLineWidth=b.olLineWidth)},this);return f;default:goog.asserts.fail("Unhandled multi geometry type"+b.getType())}return null};
os.olcs.sync.FeatureConverter.prototype.getFeatureStyles=function(a,b,c){var d,e=a.getStyleFunction();goog.isDef(e)&&(d=e.call(a,b));goog.isDefAndNotNull(d)||(c=c.getStyleFunction())&&(d=c(a,b));if(!goog.isDef(d))return null;d instanceof ol.style.Style&&(d=[d]);return d};
os.olcs.sync.FeatureConverter.prototype.olGeometryToCesium=function(a,b,c,d,e){if(e){var f=d.getLabelsForGeometry(b);null==f||e.length!=f.length?this.createLabels(a,b,e,d):goog.array.forEach(e,function(a,c){this.updateLabel(f[c],b,a,d)},this)}if((e=d.getPrimitiveForGeometry(b))&&null!=e.olLineWidth){var g=b.get(os.olcs.DIRTY_BIT),h=this.extractLineWidthFromOlStyle(c);if(g||e.olLineWidth!=h){var k=e.show;d.removePrimitive(e);b.set(os.olcs.DIRTY_BIT,!1);e=null}}g=b.getType();b instanceof os.geom.Ellipse&&
(g="ellipse");if(e&&g!=ol.geom.GeometryType.GEOMETRY_COLLECTION)this.updatePrimitiveLike(a,b,c,d,e);else{switch(g){case ol.geom.GeometryType.GEOMETRY_COLLECTION:g=b.getGeometriesArray();h=0;for(var l=g.length;h<l;h++){var m=g[h];m&&this.olGeometryToCesium(a,m,c,d)}break;case ol.geom.GeometryType.POINT:this.createOrUpdateBillboard(a,b,d,c);break;case ol.geom.GeometryType.CIRCLE:e=this.olCircleGeometryToCesium(a,b,d,c);break;case ol.geom.GeometryType.LINE_STRING:b.get(os.geom.GeometryField.DYNAMIC)?
this.createOrUpdatePolyline(a,b,d,c):e=this.olLineStringGeometryToCesium(a,b,d,c);break;case "ellipse":e=d.layer;e=(e=os.style.StyleManager.getInstance().getLayerConfig(e.getId()))&&e[os.style.StyleField.SHOW_ELLIPSOIDS]?this.olEllipseGeometryToEllipsoid(a,b,d,c):this.olPolygonGeometryToCesiumPolyline(a,b,d,c);this.createOrUpdateGroundReference(a,b,d,c);break;case ol.geom.GeometryType.POLYGON:e=this.olPolygonGeometryToCesiumPolyline(a,b,d,c);break;case ol.geom.GeometryType.MULTI_POINT:case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.MULTI_POLYGON:e=
this.olMultiGeometryToCesium(a,b,d,c);break;case ol.geom.GeometryType.LINEAR_RING:throw Error("LinearRing should only be part of polygon.");default:throw Error("OL3 geometry type not handled : "+b.getType());}e&&(null!=k&&(e.show=k),d.addPrimitive(e,a,b))}};
os.olcs.sync.FeatureConverter.prototype.updatePrimitiveLike=function(a,b,c,d,e){if(e instanceof Cesium.PrimitiveCollection){for(var f=0,g=e.length;f<g;f++)this.updatePrimitiveLike(a,b,c,d,e.get(f));e.dirty=!1}else e instanceof Cesium.Billboard?this.createOrUpdateBillboard(a,b,d,c,e):e instanceof Cesium.Polyline?this.createOrUpdatePolyline(a,b,d,c,e):this.updatePrimitive(a,b,c,d,e);b instanceof os.geom.Ellipse&&this.createOrUpdateGroundReference(a,b,d,c)};
os.olcs.sync.FeatureConverter.prototype.olVectorLayerToCesium=function(a,b){var c=b.getProjection();b=b.getResolution();if(!goog.isDefAndNotNull(c)||!goog.isDef(b))throw Error("view not ready");c=new os.olcs.VectorContext(this.scene,a,c);a=a.getSource().getFeatures();for(var d=0,e=a.length;d<e;d++){var f=a[d];f&&this.convert(f,b,c)}return c};
os.olcs.sync.FeatureConverter.prototype.convert=function(a,b,c){c.markDirty(a);b=this.getFeatureStyles(a,b,c.layer);var d=goog.array.bucket(b,function(a){return a.getText()?"labels":"other"});b=d.other;d=d.labels;var e;if(d&&0<d.length){var f=a.get(os.style.StyleField.LABEL_GEOMETRY);f&&(e=a.get(f))}if(b){f=0;for(var g=b.length;f<g;f++){var h=b[f];if(h){var k=h.getGeometryFunction()(a);if(k){var l=e&&e!=k?void 0:d;this.olGeometryToCesium(a,k,h,c,l);l&&(d=void 0)}}}}c.removeDirty(a)};
os.olcs.sync.FeatureConverter.prototype.setLabelEyeOffsetDefault=function(a){this.labelEyeOffset_=a};os.olcs.sync.FeatureConverter.prototype.setEyeOffset=function(a){this.eyeOffset_=a};os.olcs.sync.FeatureConverter.prototype.getEyeOffset=function(){return this.eyeOffset_};os.olcs.sync.VectorSynchronizer=function(a,b,c,d){os.olcs.sync.AbstractSynchronizer.call(this,a,b,c);this.converter=d||new os.olcs.sync.FeatureConverter(c);this.csContext=null;this.source=this.layer.getSource();this.source instanceof os.source.Vector&&this.converter.setAltitudeEnabled(this.source.hasAltitudeEnabled());this.zIndexMax_=this.zIndex_=1};goog.inherits(os.olcs.sync.VectorSynchronizer,os.olcs.sync.AbstractSynchronizer);
os.olcs.sync.VectorSynchronizer.REFRESH_PROPERTIES_=[os.layer.PropertyChange.LABEL_VISIBILITY,os.layer.PropertyChange.STYLE];os.olcs.sync.VectorSynchronizer.prototype.disposeInternal=function(){this.disposeLayerPrimitives_();this.source=null;os.olcs.sync.VectorSynchronizer.superClass_.disposeInternal.call(this)};os.olcs.sync.VectorSynchronizer.prototype.synchronize=function(){this.disposeLayerPrimitives_();this.createLayerPrimitives_()};
os.olcs.sync.VectorSynchronizer.prototype.reset=function(){this.source&&this.resetFeatures_(this.source.getFeatures(),!0)};
os.olcs.sync.VectorSynchronizer.prototype.createLayerPrimitives_=function(){goog.asserts.assertInstanceof(this.layer,ol.layer.Vector);goog.asserts.assert(!goog.isNull(this.view));this.csContext=this.converter.olVectorLayerToCesium(this.layer,this.view);this.onLayerVisibility_();this.csContext&&(this.initializePrimitives_(this.source.getFeatures()),this.scene.primitives.add(this.csContext),ol.events.listen(this.layer,"change:visible",this.onLayerVisibility_,this),ol.events.listen(this.layer,"change:opacity",
this.onLayerOpacity_,this),ol.events.listen(this.layer,goog.events.EventType.PROPERTYCHANGE,this.onLayerPropertyChange_,this),ol.events.listen(this.source,ol.source.VectorEventType.CHANGEFEATURE,this.onChangeFeature_,this),this.source instanceof os.source.Vector?ol.events.listen(this.source,goog.events.EventType.PROPERTYCHANGE,this.onSourcePropertyChange_,this):(ol.events.listen(this.source,ol.source.VectorEventType.ADDFEATURE,this.onAddFeature_,this),ol.events.listen(this.source,ol.source.VectorEventType.REMOVEFEATURE,
this.onRemoveFeature_,this),ol.events.listen(this.source,ol.source.VectorEventType.CLEAR,this.clearFeatures_,this)))};
os.olcs.sync.VectorSynchronizer.prototype.disposeLayerPrimitives_=function(){this.csContext&&(ol.events.unlisten(this.layer,"change:visible",this.onLayerVisibility_,this),ol.events.unlisten(this.layer,"change:opacity",this.onLayerOpacity_,this),ol.events.unlisten(this.layer,goog.events.EventType.PROPERTYCHANGE,this.onLayerPropertyChange_,this),ol.events.unlisten(this.source,ol.source.VectorEventType.CHANGEFEATURE,this.onChangeFeature_,this),ol.events.unlisten(this.source,goog.events.EventType.PROPERTYCHANGE,
this.onSourcePropertyChange_,this),this.source instanceof os.source.Vector||(ol.events.unlisten(this.source,ol.source.VectorEventType.ADDFEATURE,this.onAddFeature_,this),ol.events.unlisten(this.source,ol.source.VectorEventType.REMOVEFEATURE,this.onRemoveFeature_,this),ol.events.unlisten(this.source,ol.source.VectorEventType.CLEAR,this.clearFeatures_,this)),this.csContext.dispose(),this.scene.primitives.remove(this.csContext),this.csContext=null,os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT))};
os.olcs.sync.VectorSynchronizer.prototype.onLayerVisibility_=function(a){this.csContext&&this.layer&&(this.csContext.show=this.layer.getVisible(),os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT))};os.olcs.sync.VectorSynchronizer.prototype.onLayerOpacity_=function(a){this.source&&this.refreshFeatures_(this.source.getFeatures())};
os.olcs.sync.VectorSynchronizer.prototype.onLayerPropertyChange_=function(a){goog.asserts.assertInstanceof(this.layer,os.layer.Vector,"not an os layer");try{var b=a.getProperty()}catch(c){return}this.source&&b&&-1<os.olcs.sync.VectorSynchronizer.REFRESH_PROPERTIES_.indexOf(b)&&(a=a.getNewValue()||this.source.getFeatures(),this.refreshFeatures_(a))};os.olcs.sync.VectorSynchronizer.prototype.onAddFeature_=function(a){a=a.feature;goog.asserts.assert(goog.isDefAndNotNull(a));this.addFeature(a)};
os.olcs.sync.VectorSynchronizer.prototype.onRemoveFeature_=function(a){a=a.feature;goog.asserts.assert(goog.isDefAndNotNull(a));this.removeFeature(a)};os.olcs.sync.VectorSynchronizer.prototype.onChangeFeature_=function(a){a=a.feature;goog.asserts.assert(goog.isDefAndNotNull(a));this.updateFeature_(a)};os.olcs.sync.VectorSynchronizer.prototype.clearFeatures_=function(a){goog.object.forEach(this.csContext.featureToCesiumMap,function(a,c){this.removeFeature(c)},this)};
os.olcs.sync.VectorSynchronizer.prototype.onSourcePropertyChange_=function(a){try{var b=a.getProperty()}catch(g){return}var c=this.source;switch(b){case os.source.PropertyChange.CLEARED:this.clearFeatures_();break;case os.source.PropertyChange.FEATURE_VISIBILITY:if(!c.getTimeEnabled()||!c.getAnimationEnabled()){var d=a.getNewValue();if(d){b=0;for(var e=d.length;b<e;b++)if((a=d[b])&&!a.isDisposed()){var f=!c.isHidden(a);this.updatePrimitiveVisibility_(a,f)}}}break;case os.source.PropertyChange.ANIMATION_FRAME:(a=
a.getNewValue())&&goog.object.forEach(a,function(a,b){(b=c.getFeatureById(b))&&this.updatePrimitiveVisibility_(b,a)},this);break;case os.source.PropertyChange.ALTITUDE:this.source instanceof os.source.Vector&&(this.converter.setAltitudeEnabled(this.source.hasAltitudeEnabled()),this.refreshFeatures_(c.getFeatures()));break;case os.source.PropertyChange.ANIMATION_ENABLED:this.initializePrimitives_(c.getFeatures());break;case os.source.PropertyChange.FEATURES:if(d=a.getNewValue())for(b=0,e=d.length;b<
e;b++)this.addFeature(d[b]);if(a=a.getOldValue()){b=0;for(e=a.length;b<e;b++)this.removeFeature(a[b]);this.csContext.pruneMaps()}break;case os.source.PropertyChange.HIGHLIGHTED_ITEMS:(d=a.getOldValue())&&this.updateHighlightedItems_(d,!1);(a=a.getNewValue())&&this.updateHighlightedItems_(a,!0);break;case os.events.SelectionType.ADDED:case os.events.SelectionType.REMOVED:case os.events.SelectionType.CHANGED:e=c.getGeometryShape().match(os.style.SELECTED_REGEXP);d=a.getNewValue();e?this.resetFeatures_(d):
this.refreshFeatures_(d);b==os.events.SelectionType.CHANGED&&(d=a.getOldValue(),e?this.resetFeatures_(d):this.refreshFeatures_(d));break;case os.source.PropertyChange.GEOMETRY_SHAPE:case os.source.PropertyChange.GEOMETRY_CENTER_SHAPE:if(d=a.getOldValue(),a=a.getNewValue(),os.style.ELLIPSE_REGEXP.test(a)||os.style.ELLIPSE_REGEXP.test(d)||os.style.LOB_REGEXP.test(a)||os.style.LOB_REGEXP.test(d))d=c.getFeatures(),this.resetFeatures_(d)}};
os.olcs.sync.VectorSynchronizer.prototype.updateFeature_=function(a){if(this.view&&this.csContext&&this.source&&null!=this.source.idIndex_[a.id_]){var b=this.view.getResolution();null!=b&&(this.converter.convert(a,b,this.csContext),!(this.source instanceof os.source.Vector)||this.source.getTimeEnabled()&&this.source.getAnimationEnabled()||this.initializePrimitives_([a]),os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT))}};
os.olcs.sync.VectorSynchronizer.prototype.refreshFeatures_=function(a){if(this.active)for(var b=0,c=a.length;b<c;b++)this.updateFeature_(a[b])};os.olcs.sync.VectorSynchronizer.prototype.resetFeatures_=function(a,b){if(this.active||b){b=0;for(var c=a.length;b<c;b++){var d=a[b];goog.asserts.assert(!goog.isNull(d));var e=this.csContext.featureToCesiumMap[d.id];e=e&&0<e.length&&e[0].show;this.removeFeature(d);this.addFeature(d);this.updatePrimitiveVisibility_(d,e)}os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT)}};
os.olcs.sync.VectorSynchronizer.prototype.addFeature=function(a){goog.asserts.assert(!goog.isNull(this.view));goog.asserts.assert(!goog.isNull(this.csContext));this.updateFeature_(a);var b=a.id,c=this.csContext.featureToCesiumMap[b];if(c){b=0;for(var d=c.length;b<d;b++)this.initializePrimitive(c[b],a);os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT)}else this.csContext.featureToShownMap[b]=this.shouldShowFeature(a)};
os.olcs.sync.VectorSynchronizer.prototype.removeFeature=function(a){if(goog.isNumber(a)||goog.isString(a))a=this.source.getFeatureById(a);!goog.isNull(a)&&this.csContext&&(this.csContext.cleanup(a),os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT))};os.olcs.sync.VectorSynchronizer.prototype.shouldShowFeature=function(a){return this.source instanceof os.source.Vector?!this.source.isHidden(a)&&(!this.source.getTimeEnabled()||!this.source.getAnimationEnabled()):!1};
os.olcs.sync.VectorSynchronizer.prototype.initializePrimitive=function(a,b){if(this.source instanceof os.source.Vector){var c=b.id;this.csContext.featureToShownMap[c]=this.shouldShowFeature(b);a.show=this.csContext.featureToShownMap[c];this.setPrimEyeOffset_(a)}};
os.olcs.sync.VectorSynchronizer.prototype.initializePrimitives_=function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b];if(d){var e=this.csContext.featureToCesiumMap[d.id];if(e)for(var f=0,g=e.length;f<g;f++)this.initializePrimitive(e[f],d)}}os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT)};
os.olcs.sync.VectorSynchronizer.prototype.updateHighlightedItems_=function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];this.updateFeature_(e);if(e=this.csContext.featureToCesiumMap[e.id])for(var f=0,g=e.length;f<g;f++)this.setFeatureHighlight_(e[f],b)}};
os.olcs.sync.VectorSynchronizer.prototype.updateLabelOffsets=function(){var a=os.MapContainer.getInstance().getCesiumCamera().getDistanceToCenter();this.converter.setLabelEyeOffsetDefault(new Cesium.Cartesian3(0,0,-(this.zIndex_*Math.round(a/(10*this.zIndexMax_)))));if(this.csContext&&this.csContext.labels){a=0;for(var b=this.csContext.labels.length;a<b;a++){var c=this.csContext.labels.get(a);c&&this.converter.setLabelEyeOffset(c,this.scene)}}};
os.olcs.sync.VectorSynchronizer.prototype.updatePrimitiveVisibility_=function(a,b){this.csContext.featureToShownMap[a.id]=b;var c=this.csContext.featureToCesiumMap[a.id];if(c){for(var d=0,e=c.length;d<e;d++)c[d].show=b;b&&this.updateFeature_(a)}os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT)};
os.olcs.sync.VectorSynchronizer.prototype.setFeatureHighlight_=function(a,b){var c=os.MapContainer.getInstance().getCesiumCamera();a instanceof Cesium.Billboard?b&&c?(b=c.getDistanceToPosition(a.position),null!=b&&(a.eyeOffset=new Cesium.Cartesian3(0,0,.99*-b))):a.eyeOffset=this.converter.getEyeOffset():a instanceof Cesium.Label&&(b&&this.scene&&c?(b=c.getDistanceToPosition(a.position),null!=b&&this.converter.setLabelEyeOffset(a,this.scene,new Cesium.Cartesian3(0,0,.99*-b))):this.converter.setLabelEyeOffset(a,
this.scene))};os.olcs.sync.VectorSynchronizer.prototype.reposition=function(a,b){if(this.zIndex_!=a||this.zIndexMax_!=b)this.zIndex_=a,this.zIndexMax_=b,this.updateLabelOffsets(),this.updateBillboardOffsets();return++a};
os.olcs.sync.VectorSynchronizer.prototype.updateBillboardOffsets=function(){var a=os.MapContainer.getInstance().getCesiumCamera().getDistanceToCenter();a=-(this.zIndex_*Math.round(a/(100*this.zIndexMax_)));if(a!=this.converter.getEyeOffset().z){this.converter.setEyeOffset(new Cesium.Cartesian3(0,0,a));a=this.source.getFeatures();for(var b=0,c=a.length;b<c;b++)this.setEyeOffset_(a[b])}};os.olcs.sync.VectorSynchronizer.prototype.updateFromCamera=function(){this.updateLabelOffsets();this.updateBillboardOffsets()};
os.olcs.sync.VectorSynchronizer.prototype.setEyeOffset_=function(a){if(a=this.csContext.featureToCesiumMap[a.id])for(var b=0,c=a.length;b<c;b++)this.setPrimEyeOffset_(a[b])};os.olcs.sync.VectorSynchronizer.prototype.setPrimEyeOffset_=function(a){a instanceof Cesium.Billboard&&(a.eyeOffset=this.converter.getEyeOffset())};os.olcs.sync.DrawingLayerSynchronizer=function(a,b,c){os.olcs.sync.VectorSynchronizer.call(this,a,b,c)};goog.inherits(os.olcs.sync.DrawingLayerSynchronizer,os.olcs.sync.VectorSynchronizer);
os.olcs.sync.DrawingLayerSynchronizer.prototype.initializePrimitive=function(a,b){os.olcs.sync.DrawingLayerSynchronizer.superClass_.initializePrimitive.call(this,a,b);if(a instanceof Cesium.PrimitiveCollection&&0<a.length){var c=a.get(0);c.olFeature=b}if(c&&b)try{var d=b.getGeometry();if(d instanceof ol.geom.Polygon){var e=d.getCoordinates(),f=d.getExtent();1==e.length&&os.geo.isRectangular(e[0],d.getExtent())&&(c.geometryInstances.geometry=new Cesium.RectangleOutlineGeometry({rectangle:Cesium.Rectangle.fromDegrees(f[0],
f[1],f[2],f[3])}))}}catch(g){}};os.olcs.WMSImageryProvider=function(a,b){a.minimumLevel=1;Cesium.WebMapServiceImageryProvider.call(this,a);this.disposed_=!1;this.loadCount_=0;this.source=b};goog.inherits(os.olcs.WMSImageryProvider,Cesium.WebMapServiceImageryProvider);os.olcs.WMSImageryProvider.prototype.dispose=function(){this.disposed_=!0;if(this.source){try{for(var a=this.loadCount_;0<a;a--)this.source.decrementLoading()}catch(b){}this.source=null}};os.olcs.WMSImageryProvider.prototype.isDisposed=function(){return this.disposed_};
os.olcs.WMSImageryProvider.prototype.incrementLoading=function(){try{this.source.incrementLoading(),this.loadCount_++}catch(a){}};os.olcs.WMSImageryProvider.prototype.decrementLoading=function(){try{this.source.decrementLoading(),this.loadCount_--}catch(a){}};
os.olcs.WMSImageryProvider.prototype.requestImage=function(a,b,c){a=os.olcs.WMSImageryProvider.superClass_.requestImage.call(this,a,b,c);if(goog.isDef(a)&&(this.incrementLoading(),b=this.decrementLoading.bind(this),Cesium.when(a,b,b),os.implements(this.source,os.source.IFilterableTileSource.ID)&&(c=this.source.getTileFilters(),0<c.length))){var d=Cesium.when.defer();b=d.promise;c=os.olcs.ImageryProvider.resolver.bind(this,c,d);Cesium.when(a,c,c);return b}return a};os.olcs.sync.ImageSynchronizer=function(a,b,c){os.olcs.sync.AbstractSynchronizer.call(this,a,b,c);this.activeLayer_=null;this.visible_=!0;ol.events.listen(this.layer,goog.events.EventType.PROPERTYCHANGE,this.onLayerPropertyChange_,this)};goog.inherits(os.olcs.sync.ImageSynchronizer,os.olcs.sync.AbstractSynchronizer);
os.olcs.sync.ImageSynchronizer.prototype.disposeInternal=function(){ol.events.unlisten(this.layer,goog.events.EventType.PROPERTYCHANGE,this.onLayerPropertyChange_,this);this.scene.imageryLayers.remove(this.activeLayer_);this.activeLayer_=null;os.olcs.sync.ImageSynchronizer.superClass_.disposeInternal.call(this)};
os.olcs.sync.ImageSynchronizer.prototype.synchronize=function(){var a=this.scene.imageryLayers;this.activeLayer_&&(a.remove(this.activeLayer_),this.activeLayer_=null);if(this.visible_){var b=this.layer.get("url");if(b){var c=this.layer.getExtent();a.addImageryProvider(new Cesium.SingleTileImageryProvider({url:b,rectangle:Cesium.Rectangle.fromDegrees(c[0],c[1],c[2],c[3])}));this.activeLayer_=a.get(a.length-1);this.activeLayer_.imageryProvider.errorEvent.addEventListener(this.providerError.bind(this))}}};
os.olcs.sync.ImageSynchronizer.prototype.providerError=function(a){this.scene.imageryLayers.remove(this.activeLayer_)};os.olcs.sync.ImageSynchronizer.prototype.reposition=function(a){this.synchronize();return++a};os.olcs.sync.ImageSynchronizer.prototype.reset=function(){this.synchronize()};
os.olcs.sync.ImageSynchronizer.prototype.onLayerPropertyChange_=function(a){a instanceof os.events.PropertyChangeEvent&&a.getProperty()==os.layer.PropertyChange.VISIBLE&&(this.visible_=a.getNewValue(),this.synchronize(),os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT))};ol.source.WMSServerType={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"};ol.source.TileWMS=function(a){a=a||{};var b=a.params||{};ol.source.TileImage.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:!("TRANSPARENT"in b?b.TRANSPARENT:1),projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:!0,transition:a.transition});this.gutter_=void 0!==a.gutter?a.gutter:0;
this.params_=b;this.v13_=!0;this.serverType_=a.serverType;this.hidpi_=void 0!==a.hidpi?a.hidpi:!0;this.tmpExtent_=ol.extent.createEmpty();this.updateV13_();this.setKey(this.getKeyForParams_())};ol.inherits(ol.source.TileWMS,ol.source.TileImage);
ol.source.TileWMS.prototype.getGetFeatureInfoUrl=function(a,b,c,d){c=ol.proj.get(c);var e=this.getTileGrid();e||(e=this.getTileGridForProjection(c));b=e.getTileCoordForCoordAndResolution(a,b);if(!(e.getResolutions().length<=b[0])){var f=e.getResolution(b[0]),g=e.getTileCoordExtent(b,this.tmpExtent_);e=ol.size.toSize(e.getTileSize(b[0]),this.tmpSize);var h=this.gutter_;0!==h&&(e=ol.size.buffer(e,h,this.tmpSize),g=ol.extent.buffer(g,f*h,g));h={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",
FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};ol.obj.assign(h,this.params_,d);d=Math.floor((g[3]-a[1])/f);h[this.v13_?"I":"X"]=Math.floor((a[0]-g[0])/f);h[this.v13_?"J":"Y"]=d;return this.getRequestUrl_(b,e,g,1,c,h)}};ol.source.TileWMS.prototype.getGutterInternal=function(){return this.gutter_};ol.source.TileWMS.prototype.getParams=function(){return this.params_};
ol.source.TileWMS.prototype.getRequestUrl_=function(a,b,c,d,e,f){var g=this.urls;if(g){f.WIDTH=b[0];f.HEIGHT=b[1];f[this.v13_?"CRS":"SRS"]=e.getCode();"STYLES"in this.params_||(f.STYLES="");if(1!=d)switch(this.serverType_){case ol.source.WMSServerType.GEOSERVER:b=90*d+.5|0;f.FORMAT_OPTIONS="FORMAT_OPTIONS"in f?f.FORMAT_OPTIONS+(";dpi:"+b):"dpi:"+b;break;case ol.source.WMSServerType.MAPSERVER:f.MAP_RESOLUTION=90*d;break;case ol.source.WMSServerType.CARMENTA_SERVER:case ol.source.WMSServerType.QGIS:f.DPI=
90*d;break;default:ol.asserts.assert(!1,52)}e=e.getAxisOrientation();this.v13_&&"ne"==e.substr(0,2)&&(e=c[0],c[0]=c[1],c[1]=e,e=c[2],c[2]=c[3],c[3]=e);f.BBOX=c.join(",");1==g.length?g=g[0]:(a=ol.math.modulo(ol.tilecoord.hash(a),g.length),g=g[a]);return ol.uri.appendParams(g,f)}};ol.source.TileWMS.prototype.getTilePixelRatio=function(a){return this.hidpi_&&void 0!==this.serverType_?a:1};
ol.source.TileWMS.prototype.getKeyForParams_=function(){var a=0,b=[],c;for(c in this.params_)b[a++]=c+"-"+this.params_[c];return b.join("/")};
ol.source.TileWMS.prototype.fixedTileUrlFunction=function(a,b,c){var d=this.getTileGrid();d||(d=this.getTileGridForProjection(c));if(!(d.getResolutions().length<=a[0])){1==b||this.hidpi_&&void 0!==this.serverType_||(b=1);var e=d.getResolution(a[0]),f=d.getTileCoordExtent(a,this.tmpExtent_);d=ol.size.toSize(d.getTileSize(a[0]),this.tmpSize);var g=this.gutter_;0!==g&&(d=ol.size.buffer(d,g,this.tmpSize),f=ol.extent.buffer(f,e*g,f));1!=b&&(d=ol.size.scale(d,b,this.tmpSize));e={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,
REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};ol.obj.assign(e,this.params_);return this.getRequestUrl_(a,d,f,b,c,e)}};ol.source.TileWMS.prototype.updateParams=function(a){ol.obj.assign(this.params_,a);this.updateV13_();this.setKey(this.getKeyForParams_())};ol.source.TileWMS.prototype.updateV13_=function(){this.v13_=0<=ol.string.compareVersions(this.params_.VERSION||ol.DEFAULT_WMS_VERSION,"1.3")};os.query.ITemporalFormatter=function(){};os.query.TemporalFormatter=function(){this.datePattern_=null};os.query.TemporalFormatter.prototype.setStartColumn=function(a){};os.query.TemporalFormatter.prototype.setEndColumn=function(a){};os.query.TemporalFormatter.prototype.setDateFormat=function(a){this.datePattern_=a};
os.query.TemporalFormatter.prototype.format=function(a){if(this.datePattern_){var b=os.time.momentFormat(new Date(a.getStart()),this.datePattern_,!0);a=os.time.momentFormat(new Date(a.getEnd()),this.datePattern_,!0)}else b=os.time.format(new Date(a.getStart()),void 0,!1,!0),a=os.time.format(new Date(a.getEnd()),void 0,!1,!0);return b+"/"+a};os.ui.screenOverlayDrective=function(){return{restrict:"E",transclude:!0,scope:!0,templateUrl:os.ROOT+"views/windows/screenoverlay.html",controller:os.ui.ScreenOverlayCtrl,controllerAs:"confirm"}};os.ui.Module.directive("screenoverlay",[os.ui.screenOverlayDrective]);
os.ui.launchScreenOverlay=function(a){var b={image:a.image},c=a.size&&75<a.size.y?a.size.y:75,d=a.size&&250<a.size.x?a.size.x:250,e=a.xy?a.xy.x:25,f=a.xy?a.xy.y:50,g=os.MapContainer.getInstance().getMap().getSize();c={id:a.id,label:a.name||"KML Screen Overlay",icon:"",x:e,y:f,width:d,"min-width":250,"max-width":g[0],height:c,"min-height":75,"max-height":g[1],modal:!1,"show-hide":a["show-hide"]?a["show-hide"]:!1,"show-close":a["show-close"]?a["show-close"]:!1,"no-scroll":!0,overlay:!0};os.ui.window.exists(a.id)||
os.ui.window.create(c,"<screenoverlay></screenoverlay>",void 0,void 0,void 0,b)};os.ui.ScreenOverlayCtrl=function(a){null==a.valid&&(a.valid=!0)};os.layer.AnimatedTile=function(a){os.layer.Tile.call(this,a);this.resetScheduled_=this.animationEnabled_=!1;this.legendId_=null;this.resetTimer_=new goog.async.Delay(this.onResetTimer_,25,this);this.timelineController_=os.time.TimelineController.getInstance();this.dateFormat_="YYYY-MM-DDTHH:mm:ss[Z]";this.timelineController_.listen(os.time.TimelineEventType.DURATION_CHANGE,this.scheduleReset_,!1,this);this.timelineController_.listen(os.time.TimelineEventType.RESET,this.scheduleReset_,!1,this);this.timelineController_.listen(os.time.TimelineEventType.SHOW,
this.scheduleReset_,!1,this);this.computeTime_()};goog.inherits(os.layer.AnimatedTile,os.layer.Tile);
os.layer.AnimatedTile.prototype.disposeInternal=function(){os.layer.AnimatedTile.superClass_.disposeInternal.call(this);this.timelineController_.unlisten(os.time.TimelineEventType.DURATION_CHANGE,this.scheduleReset_,!1,this);this.timelineController_.unlisten(os.time.TimelineEventType.RESET,this.scheduleReset_,!1,this);this.timelineController_.unlisten(os.time.TimelineEventType.SHOW,this.scheduleReset_,!1,this);this.timelineController_=null;this.resetTimer_.dispose();this.resetTimer_=null;this.legendId_&&
os.ui.window.getById(this.legendId_)&&os.ui.window.close(os.ui.window.getById(this.legendId_))};
os.layer.AnimatedTile.prototype.setLayerVisible=function(a){var b=this.getLayerVisible();os.layer.AnimatedTile.superClass_.setLayerVisible.call(this,a);a&&!b&&this.resetScheduled_&&(this.resetScheduled_=!1,this.scheduleReset_());if(b=this.getLegendOptions())a&&!this.legendId_?(os.ui.launchScreenOverlay(b),this.legendId_=b.id):!a&&this.legendId_&&(os.ui.window.getById(this.legendId_)&&os.ui.window.close(os.ui.window.getById(this.legendId_)),this.legendId_=null)};
os.layer.AnimatedTile.prototype.getLegendOptions=function(){if(this.getLayerOptions()&&this.getLayerOptions().legends&&this.getLayerOptions().legends[0]){var a=this.getLayerOptions().legends[0],b=null,c=null;a.size&&(b={x:a.size[0],y:a.size[1]+30},c=os.MapContainer.getInstance().getMap().getSize(),c={x:c[0]-b.x-250,y:c[1]-b.y-75});if(a.OnlineResource)a=a.OnlineResource;else if(!goog.isString(a))return null;return{image:a,name:this.getTitle()+" - Legend",id:goog.string.hashCode(a),"show-close":!0,
xy:c,size:b}}return null};os.layer.AnimatedTile.prototype.scheduleReset_=function(){this.resetTimer_&&!this.resetTimer_.isActive()&&this.resetTimer_.start()};os.layer.AnimatedTile.prototype.onResetTimer_=function(){this.getVisible()?this.computeTime_():this.resetScheduled_=!0};os.layer.AnimatedTile.prototype.getDateFormat=function(){return this.dateFormat_};os.layer.AnimatedTile.prototype.setDateFormat=function(a){this.dateFormat_=a;this.computeTime_()};
os.layer.AnimatedTile.prototype.getAnimationEnabled=function(){return this.animationEnabled_};os.layer.AnimatedTile.prototype.setAnimationEnabled=function(a){this.animationEnabled_!==a&&(this.animationEnabled_=a,this.dispatchEvent(new os.events.PropertyChangeEvent(os.layer.PropertyChange.ANIMATION_ENABLED,a)))};os.layer.AnimatedTile.prototype.computeTime_=function(){var a=this.getSource(),b=a.getParams(),c={TIME:this.getFormattedDate()};c.TIME!=b.TIME&&(goog.object.extend(b,c),a.updateParams(b))};
os.layer.AnimatedTile.prototype.getFormattedDate=function(){var a=os.time.TimelineController.getInstance(),b=a.getDuration(),c=b==os.time.Duration.CUSTOM?a.getStart():a.getCurrent()-a.getOffset();a=a.getCurrent();return os.layer.AnimatedTile.getTimeParameter(this.dateFormat_,c,a,b)};os.layer.AnimatedTile.prototype.persist=function(a){a=os.layer.AnimatedTile.superClass_.persist.call(this,a)||{};var b=this.getSource();b&&b instanceof ol.source.UrlTile&&(a.refreshInterval=b.getRefreshInterval());return a};
os.layer.AnimatedTile.prototype.restore=function(a){os.layer.AnimatedTile.superClass_.restore.call(this,a);if(goog.isDef(a.refreshInterval)){var b=this.getSource();b&&b instanceof ol.source.UrlTile&&b.setRefreshInterval(a.refreshInterval)}};
os.layer.AnimatedTile.getTimeParameter=function(a,b,c,d){if(d!=os.time.Duration.CUSTOM)var e=b=(b+c)/2;else e=b,b=c;e=os.time.floor(new Date(e),d);b=os.time.ceil(new Date(b),d);b=b.getTime()==e.getTime()?os.time.ceil(new Date(c),d):b;c=os.time.momentFormat(e,a||void 0,!0);a=os.time.momentFormat(b,a||void 0,!0);return c+"/"+a};
os.layer.AnimatedTile.getFormattedTimes=function(a,b,c){if(goog.isDefAndNotNull(a)){var d=new Date(a.getStart()),e=a.getDuration();d=os.time.floor(d,e);var f=[];if(e==os.time.Duration.CUSTOM)return a=os.time.ceil(new Date(a.getEnd()),"day"),[c.replace(/{start}/g,os.time.momentFormat(d,b,!0)).replace(/{end}/g,os.time.momentFormat(a,b,!0))];for(;d.getTime()<a.getEnd();){var g=c;g=g.replace(/{start}/g,os.time.momentFormat(d,b,!0));e==os.time.Duration.YEAR?d.setUTCFullYear(d.getUTCFullYear()+1):e==os.time.Duration.MONTH?
d.setUTCMonth(d.getUTCMonth()+1):e==os.time.Duration.WEEK?d.setUTCDate(d.getUTCDate()+7):d.setUTCDate(d.getUTCDate()+1);g=g.replace(/{end}/g,os.time.momentFormat(d,b,!0));f.push(g)}return f}return null};os.ol.events={};os.ol.events.listenEach=function(a,b,c,d,e){for(var f=[],g=0;g<b.length;g++)f.push(ol.events.listen(a,b[g],c,d,e));return f};os.ol.events.unlistenEach=function(a,b,c,d){for(var e=0;e<b.length;e++)ol.events.unlisten(a,b[e],c,d)};os.olcs.sync.TileSynchronizer=function(a,b,c){os.olcs.sync.AbstractSynchronizer.call(this,a,b,c);this.cesiumLayers_=c.imageryLayers;this.animationCache_=this.activeLayer_=null;this.lastStart_=-1;this.syncDelay_=new goog.async.Delay(this.synchronizeInternal,50,this);(a=os.MapContainer.getInstance().getMap().getView())&&ol.events.listen(a,"change:resolution",this.onZoomChange_,this)};goog.inherits(os.olcs.sync.TileSynchronizer,os.olcs.sync.AbstractSynchronizer);
os.olcs.sync.TileSynchronizer.STYLE_KEYS_="change:brightness change:contrast change:hue change:opacity change:saturation change:visible".split(" ");os.olcs.sync.TileSynchronizer.RESOLUTION_KEYS_=["change:minResolution","change:maxResolution"];
os.olcs.sync.TileSynchronizer.prototype.disposeInternal=function(){goog.dispose(this.syncDelay_);this.syncDelay_=null;var a=os.MapContainer.getInstance().getMap().getView();a&&ol.events.unlisten(a,"change:resolution",this.onZoomChange_,this);ol.events.unlisten(this.layer,goog.events.EventType.PROPERTYCHANGE,this.onLayerPropertyChange_,this);this.disposeSingle_();this.disposeCache_();this.cesiumLayers_=null;os.olcs.sync.TileSynchronizer.superClass_.disposeInternal.call(this)};
os.olcs.sync.TileSynchronizer.prototype.synchronize=function(){this.syncDelay_&&this.syncDelay_.start()};os.olcs.sync.TileSynchronizer.prototype.synchronizeInternal=function(){this.disposeSingle_();this.disposeCache_();this.createSingle_();this.layer instanceof os.layer.AnimatedTile&&this.layer.getAnimationEnabled()&&this.createCache_()};os.olcs.sync.TileSynchronizer.prototype.reset=function(){};
os.olcs.sync.TileSynchronizer.prototype.onZoomChange_=function(a){if(this.layer&&this.activeLayer_&&!this.animationCache_){var b=this.view.getProjection();a=this.view.getResolution();var c=this.layer.getMinResolution(),d=this.layer.getMaxResolution();c=goog.isDef(c)?c:os.map.zoomToResolution(42,b);d=goog.isDef(d)?d:os.map.zoomToResolution(1,b);b=os.map.resolutionToZoom(c,b);this.activeLayer_.show=(20<=b||c<=a)&&a<=d&&this.layer.getVisible()}};
os.olcs.sync.TileSynchronizer.prototype.reposition=function(a,b){if(this.lastStart_!==a){if(this.lastStart_=a,this.activeLayer_&&(this.cesiumLayers_.remove(this.activeLayer_,!1),this.cesiumLayers_.add(this.activeLayer_,a++)),this.animationCache_)for(var c in this.animationCache_)this.cesiumLayers_.remove(this.animationCache_[c],!1),this.cesiumLayers_.add(this.animationCache_[c],a++)}else a=this.getLastIndex()+1;return a};
os.olcs.sync.TileSynchronizer.prototype.getFirstIndex=function(){return this.activeLayer_?this.cesiumLayers_.indexOf(this.activeLayer_):-1};os.olcs.sync.TileSynchronizer.prototype.getLastIndex=function(){var a=this.getFirstIndex();-1<a&&this.animationCache_&&(a+=goog.object.getCount(this.animationCache_));return a};
os.olcs.sync.TileSynchronizer.prototype.createSingle_=function(){goog.asserts.assertInstanceof(this.layer,ol.layer.Tile);goog.asserts.assert(!goog.isNull(this.view));ol.events.listen(this.layer,goog.events.EventType.PROPERTYCHANGE,this.onLayerPropertyChange_,this);if(this.activeLayer_=os.olcs.tileLayerToImageryLayer(this.layer,this.view.getProjection()))os.olcs.updateCesiumLayerProperties(this.layer,this.activeLayer_),this.onZoomChange_(),this.cesiumLayers_.add(this.activeLayer_,-1<this.lastStart_?
this.lastStart_:void 0),os.ol.events.listenEach(this.layer,os.olcs.sync.TileSynchronizer.STYLE_KEYS_,this.onStyleChange_,this),os.ol.events.listenEach(this.layer,os.olcs.sync.TileSynchronizer.RESOLUTION_KEYS_,this.onZoomChange_,this),ol.events.listen(this.layer,"change:extent",this.synchronize,this),ol.events.listen(this.layer,"change",this.onChange_,this)};
os.olcs.sync.TileSynchronizer.prototype.disposeSingle_=function(){ol.events.unlisten(this.layer,goog.events.EventType.PROPERTYCHANGE,this.onLayerPropertyChange_,this);this.activeLayer_&&(os.ol.events.unlistenEach(this.layer,os.olcs.sync.TileSynchronizer.STYLE_KEYS_,this.onStyleChange_,this),os.ol.events.unlistenEach(this.layer,os.olcs.sync.TileSynchronizer.RESOLUTION_KEYS_,this.onZoomChange_,this),ol.events.unlisten(this.layer,"change:extent",this.synchronize,this),ol.events.unlisten(this.layer,"change",
this.onChange_,this),this.activeLayer_.imageryProvider instanceof os.olcs.ImageryProvider&&this.activeLayer_.imageryProvider.dispose(),this.cesiumLayers_.remove(this.activeLayer_,!0),this.activeLayer_=null,os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT))};
os.olcs.sync.TileSynchronizer.prototype.createCache_=function(){this.activeLayer_&&this.layer.getSource()instanceof ol.source.TileWMS&&(this.activeLayer_.show=!1,os.ol.events.unlistenEach(this.layer,os.olcs.sync.TileSynchronizer.STYLE_KEYS_,this.onStyleChange_,this),ol.events.unlisten(this.layer,"change",this.onChange_,this),this.updateAnimationCache_(),os.ol.events.listenEach(this.layer,os.olcs.sync.TileSynchronizer.STYLE_KEYS_,this.updateAnimationCache_,this),ol.events.listen(this.layer,"change",
this.updateAnimationCache_,this))};
os.olcs.sync.TileSynchronizer.prototype.disposeCache_=function(){os.ol.events.unlistenEach(this.layer,os.olcs.sync.TileSynchronizer.STYLE_KEYS_,this.updateAnimationCache_,this);ol.events.unlisten(this.layer,"change",this.updateAnimationCache_,this);if(this.animationCache_){for(var a in this.animationCache_)this.cesiumLayers_.remove(this.animationCache_[a],!0),this.animationCache_[a].imageryProvider instanceof os.olcs.WMSImageryProvider&&this.animationCache_[a].imageryProvider.dispose(),delete this.animationCache_[a];
this.animationCache_=null}this.layer&&this.activeLayer_&&(os.olcs.updateCesiumLayerProperties(this.layer,this.activeLayer_),os.ol.events.listenEach(this.layer,os.olcs.sync.TileSynchronizer.STYLE_KEYS_,this.onStyleChange_,this),ol.events.listen(this.layer,"change",this.onChange_,this))};
os.olcs.sync.TileSynchronizer.prototype.updateAnimationCache_=function(){var a={},b=this.getTimeParameter_(0);a[b]=this.getCacheLayer_(b,!0);if(this.animationCache_)for(var c in this.animationCache_)a[c]=this.animationCache_[c],a[c].alpha=0;this.animationCache_=a;os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT)};
os.olcs.sync.TileSynchronizer.prototype.getTimeParameter_=function(a){goog.asserts.assertInstanceof(this.layer,os.layer.AnimatedTile);var b=this.layer.getDateFormat(),c=this.tlc.getDuration(),d=this.tlc.getCurrent()-this.tlc.getOffset(),e=this.tlc.getCurrent();return os.layer.AnimatedTile.getTimeParameter(b,os.time.offset(new Date(d),c,a).getTime(),os.time.offset(new Date(e),c,a).getTime(),c)};
os.olcs.sync.TileSynchronizer.prototype.getCacheLayer_=function(a,b){goog.asserts.assert(!goog.isNull(this.layer));var c=this.animationCache_?this.animationCache_[a]:void 0;if(c)delete this.animationCache_[a];else{var d=this.cesiumLayers_.indexOf(this.activeLayer_);c=this.getLayerByTime_(a);this.cesiumLayers_.add(c,d+1)}os.olcs.updateCesiumLayerProperties(this.layer,c);c.alpha=b?this.layer.getOpacity()||0:0;return c};
os.olcs.sync.TileSynchronizer.prototype.getLayerByTime_=function(a){goog.asserts.assertInstanceof(this.layer,os.layer.AnimatedTile);goog.asserts.assert(!goog.isNull(this.view));var b=this.layer.getSource();goog.asserts.assertInstanceof(b,ol.source.TileWMS);var c={SERVICE:"WMS",VERSION:"1.3.0",FORMAT:"image/png",TRANSPARENT:!0};goog.object.extend(c,b.getParams());c.TIME=a;c.CRS=os.proj.CRS84;a=this.view.getProjection();var d=b.getTileGrid();d=goog.isNull(d)?512:d.getTileSize(0);d=goog.isNumber(d)?
d:d[0];var e=b.getUrls();d={enablePickFeatures:!1,layers:c.LAYERS,parameters:c,tileHeight:d,tileWidth:d,url:e[0]};c={};e=this.layer.getExtent();goog.isDefAndNotNull(e)&&!goog.isNull(a)&&(c.rectangle=olcs.core.extentToRectangle(e,a));b=new os.olcs.WMSImageryProvider(d,b);return new Cesium.ImageryLayer(b,c)};
os.olcs.sync.TileSynchronizer.prototype.onStyleChange_=function(a){goog.asserts.assert(!goog.isNull(this.layer));goog.asserts.assert(!goog.isNull(this.activeLayer_));os.olcs.updateCesiumLayerProperties(this.layer,this.activeLayer_);this.onZoomChange_()};
os.olcs.sync.TileSynchronizer.prototype.onChange_=function(a){this.activeLayer_&&this.activeLayer_.show&&(a=this.cesiumLayers_.indexOf(this.activeLayer_),0<=a&&(this.cesiumLayers_.remove(this.activeLayer_,!1),this.cesiumLayers_.add(this.activeLayer_,a)));os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT)};
os.olcs.sync.TileSynchronizer.prototype.onLayerPropertyChange_=function(a){if(a instanceof os.events.PropertyChangeEvent){var b=a.getProperty();b==os.layer.PropertyChange.ANIMATION_ENABLED?a.getNewValue()?this.createCache_():this.disposeCache_():b==os.layer.PropertyChange.STYLE&&this.synchronize()}os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT)};os.olcs.sync.SynchronizerManager=function(){this.synchronizers_={};this.registerSynchronizer(os.layer.SynchronizerType.VECTOR,os.olcs.sync.VectorSynchronizer);this.registerSynchronizer(os.layer.SynchronizerType.TILE,os.olcs.sync.TileSynchronizer);this.registerSynchronizer(os.layer.SynchronizerType.IMAGE,os.olcs.sync.ImageSynchronizer);this.registerSynchronizer(os.layer.SynchronizerType.DRAW,os.olcs.sync.DrawingLayerSynchronizer)};goog.addSingletonGetter(os.olcs.sync.SynchronizerManager);
os.olcs.sync.SynchronizerManager.LOGGER_=goog.log.getLogger("os.olcs.sync.SynchronizerManager");os.olcs.sync.SynchronizerManager.prototype.registerSynchronizer=function(a,b){a in this.synchronizers_?goog.log.error(os.olcs.sync.SynchronizerManager.LOGGER_,"A synchronizer of that type is already registered!"):this.synchronizers_[a]=b};os.olcs.sync.SynchronizerManager.prototype.getSynchronizer=function(a){return(a=a.getSynchronizerType())?this.synchronizers_[a]:null};os.olcs.sync.RootSynchronizer=function(a,b){this.initialized_=this.active=!1;this.listenKeys_=[];this.map_=a;this.scene_=b;this.synchronizers_={};this.updateZDelay_=new goog.async.Delay(this.updateZOrder_,250,this);olcs.core.glAliasedLineWidthRange=this.scene_.maximumAliasedLineWidth};goog.inherits(os.olcs.sync.RootSynchronizer,goog.Disposable);
os.olcs.sync.RootSynchronizer.prototype.disposeInternal=function(){this.listenKeys_.forEach(ol.events.unlistenByKey);this.listenKeys_.length=0;goog.dispose(this.updateZDelay_);this.map_=this.scene_=this.updateZDelay_=null;os.olcs.sync.RootSynchronizer.superClass_.disposeInternal.call(this)};
os.olcs.sync.RootSynchronizer.prototype.synchronize=function(){if(!this.initialized_){for(var a=this.map_.getLayers().getArray(),b=0,c=a.length;b<c;b++){var d=a[b];d instanceof os.layer.Group&&(this.listenKeys_.push(ol.events.listen(d,os.data.ZOrderEventType.UPDATE,this.onGroupZOrder_,this)),this.listenKeys_.push(ol.events.listen(d,os.events.LayerEventType.ADD,this.onLayerAdd_,this)),this.listenKeys_.push(ol.events.listen(d,os.events.LayerEventType.REMOVE,this.onLayerRemove_,this)),this.synchronizeGroup_(d))}this.initialized_=
!0}};os.olcs.sync.RootSynchronizer.prototype.reset=function(){for(var a in this.synchronizers_)this.synchronizers_[a].reset()};os.olcs.sync.RootSynchronizer.prototype.setActive=function(a){this.active=a;for(var b in this.synchronizers_)this.synchronizers_[b].setActive(a)};os.olcs.sync.RootSynchronizer.prototype.synchronizeGroup_=function(a){a=a.getLayers().getArray();for(var b=0,c=a.length;b<c;b++){var d=a[b];d instanceof ol.layer.Layer&&this.synchronizeLayer_(d)}};
os.olcs.sync.RootSynchronizer.prototype.synchronizeLayer_=function(a){goog.asserts.assert(!goog.isNull(this.map_));goog.asserts.assert(!goog.isNull(this.scene_));goog.asserts.assert(a);var b=a.getId();if(b){var c=this.synchronizers_[b];if(!c){var d=os.olcs.sync.SynchronizerManager.getInstance().getSynchronizer(a);d&&(c=new d(a,this.map_,this.scene_))}c&&(this.synchronizers_[b]=c,c.setActive(this.active),c.synchronize(),os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT))}};
os.olcs.sync.RootSynchronizer.prototype.onGroupZOrder_=function(a){a=a.target;a instanceof os.layer.Group&&this.updateGroupZ_(a)};os.olcs.sync.RootSynchronizer.prototype.updateZOrder_=function(){for(var a=this.map_.getLayers().getArray(),b=0,c=a.length;b<c;b++){var d=a[b];d instanceof os.layer.Group&&this.updateGroupZ_(d)}};
os.olcs.sync.RootSynchronizer.prototype.updateGroupZ_=function(a){var b=a.getLayers().getArray();if(0<b.length){var c=0,d=0;b[0]instanceof os.layer.Tile?(c=os.MapContainer.getInstance().getLayerCount(os.layer.Tile),d=this.getGroupStartIndex_(a)):b[0]instanceof os.layer.Vector?(c=os.MapContainer.getInstance().getLayerCount(os.layer.Vector),d=c-this.getVectorGroupStartIndex_(a)-b.length+1):b[0]instanceof os.layer.Image&&(c=os.MapContainer.getInstance().getLayerCount(os.layer.Image),d=this.getGroupStartIndex_(a));
a=0;for(var e=b.length;a<e;a++){var f=b[a].getId();(f=this.synchronizers_[f])&&(d=f.reposition(d,c))}os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT)}};os.olcs.sync.RootSynchronizer.prototype.getGroupStartIndex_=function(a){var b=0,c=this.map_.getLayers().getArray();a=c.indexOf(a);if(0<a)for(;a--;){var d=c[a].getLayers().getArray();if(0<d.length&&(d=d[d.length-1],d instanceof os.layer.Image||d instanceof os.layer.Tile)&&(d=d.getId(),d=this.synchronizers_[d])){b=d.getLastIndex()+1;break}}return b};
os.olcs.sync.RootSynchronizer.prototype.getVectorGroupStartIndex_=function(a){for(var b=0,c=this.map_.getLayers().getArray(),d=c.length;d--&&c[d]!=a;){var e=c[d].getLayers().getArray();0<e.length&&e[e.length-1]instanceof os.layer.Vector&&(b+=e.length)}return b};os.olcs.sync.RootSynchronizer.prototype.onLayerAdd_=function(a){a&&a.layer&&(a=goog.isString(a.layer)?os.MapContainer.getInstance().getLayer(a.layer):a.layer,a instanceof ol.layer.Layer&&(this.synchronizeLayer_(a),this.updateZDelay_&&this.updateZDelay_.start()))};
os.olcs.sync.RootSynchronizer.prototype.onLayerRemove_=function(a){a&&a.layer&&(a=goog.isString(a.layer)?os.MapContainer.getInstance().getLayer(a.layer):a.layer)&&(a=a.getId(),this.synchronizers_[a]&&(this.synchronizers_[a].dispose(),delete this.synchronizers_[a],this.updateZDelay_&&this.updateZDelay_.start()))};os.olcs.sync.RootSynchronizer.prototype.updateFromCamera=function(){for(var a in this.synchronizers_)this.synchronizers_[a].updateFromCamera()};os.command.LayerAdd=function(a){os.command.AbstractLayer.call(this,a);this.title="Add Layer"};goog.inherits(os.command.LayerAdd,os.command.AbstractLayer);os.command.LayerAdd.prototype.execute=function(){return this.canExecute()&&(this.state=os.command.State.EXECUTING,this.add(this.layerOptions))?(this.state=os.command.State.SUCCESS,!0):!1};
os.command.LayerAdd.prototype.revert=function(){this.state=os.command.State.REVERTING;return this.remove(this.layerOptions)?(this.state=os.command.State.READY,!0):!1};os.command.SwitchView=function(a){this.oldProjection=os.map.PROJECTION;this.newProjection=ol.proj.get(a)};os.command.SwitchView.prototype.state=os.command.State.READY;os.command.SwitchView.prototype.isAsync=!1;os.command.SwitchView.prototype.title="Switch map view";os.command.SwitchView.prototype.details=null;
os.command.SwitchView.prototype.canExecute=function(){return this.state!==os.command.State.READY?(this.details="Command not in ready state.",!1):this.oldProjection?this.newProjection?!0:(this.state=os.command.State.ERROR,this.details="New projection is not defined",!1):(this.state=os.command.State.ERROR,this.details="Old projection is not defined",!1)};
os.command.SwitchView.prototype.execute=function(){return this.canExecute()?(this.state=os.command.State.EXECUTING,os.MapContainer.getInstance().setView(this.getView(this.newProjection)),this.state=os.command.State.SUCCESS,!0):!1};
os.command.SwitchView.prototype.getView=function(a){var b=os.MapContainer.getInstance().getMap().getView(),c=b.getCenter();c&&(c=ol.proj.transform(c,b.getProjection(),a));if(b=b.getResolution())var d=os.map.resolutionToZoom(b,os.map.PROJECTION);os.map.PROJECTION=a;os.map.TILEGRID=ol.tilegrid.createForProjection(os.map.PROJECTION,ol.DEFAULT_MAX_ZOOM,[512,512]);os.map.MIN_RESOLUTION=os.map.zoomToResolution(os.map.MAX_ZOOM,os.map.PROJECTION);os.map.MAX_RESOLUTION=os.map.zoomToResolution(os.map.MIN_ZOOM,
os.map.PROJECTION);os.settings.set(os.map.PROJECTION_KEY,os.map.PROJECTION.getCode());c&&!ol.extent.containsCoordinate(os.map.PROJECTION.getExtent(),c)&&(d=c=void 0);return new ol.View({projection:os.map.PROJECTION,center:c||[0,0],zoom:d||os.map.DEFAULT_ZOOM,minZoom:os.map.MIN_ZOOM,maxZoom:os.map.MAX_ZOOM})};
os.command.SwitchView.prototype.revert=function(){this.state=os.command.State.REVERTING;os.MapContainer.getInstance().getMap().setView(this.getView(this.oldProjection));this.state=os.command.State.READY;return!0};os.command.TransformVectors=function(a,b){this.source=a;this.target=b};os.command.TransformVectors.prototype.state=os.command.State.READY;os.command.TransformVectors.prototype.isAsync=!1;os.command.TransformVectors.prototype.title="Transform all vectors";os.command.TransformVectors.prototype.details=null;
os.command.TransformVectors.prototype.canExecute=function(){return this.state!==os.command.State.READY?(this.details="Command not in ready state.",!1):this.source?this.target?!0:(this.state=os.command.State.ERROR,this.details="Target projection is not defined",!1):(this.state=os.command.State.ERROR,this.details="Source projection is not defined",!1)};
os.command.TransformVectors.prototype.execute=function(){if(this.canExecute()){this.state=os.command.State.EXECUTING;var a=ol.proj.get(this.source),b=ol.proj.get(this.target);a&&b&&this.transform(a,b);this.state=os.command.State.SUCCESS;return!0}return!1};
os.command.TransformVectors.prototype.transform=function(a,b){var c=os.MapContainer.getInstance().getLayers();a=os.command.TransformVectors.transform_.bind(null,a,b);b=0;for(var d=c.length;b<d;b++){var e=c[b];if(e instanceof ol.layer.Vector&&(e=e.getSource())){var f=e.getFeatures();if(f.length){e.clear(!0);for(var g=[],h=0,k=f.length;h<k;h++){g.push(f[h].getGeometry());g.push(f[h].get(os.interpolate.ORIGINAL_GEOM_FIELD));g.push(f[h].get(os.data.RecordField.ELLIPSE));g.push(f[h].get(os.data.RecordField.LINE_OF_BEARING));
var l=f[h].getStyle();if(l){goog.isArray(l)||(l=[l]);for(var m=0,n=l.length;m<n;m++)g.push(l[m].getGeometry())}}g.forEach(a);e.addFeatures(f)}}}};os.command.TransformVectors.transform_=function(a,b,c){c&&c instanceof ol.geom.Geometry&&(c.transform(a,os.proj.EPSG4326),os.geo.normalizeGeometryCoordinates(c),c.transform(os.proj.EPSG4326,b))};
os.command.TransformVectors.prototype.revert=function(){this.state=os.command.State.REVERTING;var a=ol.proj.get(this.source),b=ol.proj.get(this.target);a&&b&&this.transform(b,a);this.state=os.command.State.READY;return!0};os.data.BaseDescriptor=function(){goog.events.EventTarget.call(this);this.id_="";this.desc_=this.columns_=this.color_=this.type_=this.explicitTitle_=this.title_=this.providerType_=this.provider_=null;this.lastActive_=this.deleteTime_=this.minDate_=this.maxDate_=NaN;this.local_=this.loading_=this.tempActive=this.active_=!1;this.tags=null;this.descriptorType="base";this.dataProvider=null;this.log=os.data.BaseDescriptor.LOGGER_};goog.inherits(os.data.BaseDescriptor,goog.events.EventTarget);
os.implements(os.data.BaseDescriptor,os.data.IDataDescriptor.ID);os.data.BaseDescriptor.ID_DELIMITER="#";os.data.BaseDescriptor.LOGGER_=goog.log.getLogger("os.data.BaseDescriptor");os.data.BaseDescriptor.prototype.getId=function(){return this.id_};goog.exportProperty(os.data.BaseDescriptor.prototype,"getId",os.data.BaseDescriptor.prototype.getId);os.data.BaseDescriptor.prototype.setId=function(a){this.id_=a};os.data.BaseDescriptor.prototype.getAliases=function(){return[this.getId()]};
os.data.BaseDescriptor.prototype.getDescriptorType=function(){return this.descriptorType};os.data.BaseDescriptor.prototype.getProvider=function(){return this.provider_};os.data.BaseDescriptor.prototype.setProvider=function(a){this.provider_=a};os.data.BaseDescriptor.prototype.getProviderType=function(){return this.providerType_};os.data.BaseDescriptor.prototype.setProviderType=function(a){this.providerType_=a};
os.data.BaseDescriptor.prototype.getDataProvider=function(){if(this.dataProvider)return this.dataProvider;var a=os.dataManager,b=this.getId();return b&&(b=b.split(os.data.BaseDescriptor.ID_DELIMITER),b.length)?a.getProvider(b[0]):null};os.data.BaseDescriptor.prototype.setDataProvider=function(a){this.dataProvider=a};os.data.BaseDescriptor.prototype.getTitle=function(){return this.title_};goog.exportProperty(os.data.BaseDescriptor.prototype,"getTitle",os.data.BaseDescriptor.prototype.getTitle);
os.data.BaseDescriptor.prototype.setTitle=function(a){var b=this.title_;this.title_=a;this.dispatchEvent(new os.events.PropertyChangeEvent("title",a,b))};os.data.BaseDescriptor.prototype.getExplicitTitle=function(){return this.explicitTitle_};os.data.BaseDescriptor.prototype.setExplicitTitle=function(a){var b=this.explicitTitle_;this.explicitTitle_=a;this.dispatchEvent(new os.events.PropertyChangeEvent("explicitTitle",a,b))};os.data.BaseDescriptor.prototype.getSearchType=function(){return this.getType()};
os.data.BaseDescriptor.prototype.getType=function(){return this.type_};os.data.BaseDescriptor.prototype.setType=function(a){this.type_=a};os.data.BaseDescriptor.prototype.getColumns=function(){return this.columns_};os.data.BaseDescriptor.prototype.setColumns=function(a){this.columns_=a};os.data.BaseDescriptor.prototype.getColor=function(){return this.color_};os.data.BaseDescriptor.prototype.setColor=function(a){this.color_=a};os.data.BaseDescriptor.prototype.getDescription=function(){return this.desc_};
goog.exportProperty(os.data.BaseDescriptor.prototype,"getDescription",os.data.BaseDescriptor.prototype.getDescription);os.data.BaseDescriptor.prototype.getIcons=function(){return null};os.data.BaseDescriptor.prototype.setDescription=function(a){this.desc_=a};os.data.BaseDescriptor.prototype.getMaxDate=function(){return this.maxDate_};os.data.BaseDescriptor.prototype.setMaxDate=function(a){this.maxDate_=a};os.data.BaseDescriptor.prototype.getMinDate=function(){return this.minDate_};
os.data.BaseDescriptor.prototype.setMinDate=function(a){this.minDate_=a};os.data.BaseDescriptor.prototype.getDeleteTime=function(){return this.deleteTime_};os.data.BaseDescriptor.prototype.setDeleteTime=function(a){this.deleteTime_=a};os.data.BaseDescriptor.prototype.getLastActive=function(){return this.lastActive_};os.data.BaseDescriptor.prototype.touchLastActive=function(){this.lastActive_=goog.now()};os.data.BaseDescriptor.prototype.isActive=function(){return this.active_};
os.data.BaseDescriptor.prototype.setActive=function(a){if(this.isActive()!==a){this.active_=a;try{if(this.setActiveInternal())this.onDescriptorReady()}catch(b){goog.log.error(this.log,"Error setting descriptor activation state",b),this.active_=!1,this.onDescriptorReady()}this.dispatchEvent(new os.events.PropertyChangeEvent("active",a,!a))}};os.data.BaseDescriptor.prototype.setActiveInternal=function(){return!0};
os.data.BaseDescriptor.prototype.onDescriptorReady=function(){this.isActive()&&(this.lastActive_=goog.now());this.recordActivationMetric();var a=this.isActive()?os.data.DescriptorEventType.ACTIVATED:os.data.DescriptorEventType.DEACTIVATED;this.dispatchEvent(a);os.dispatcher.dispatchEvent(new os.data.DescriptorEvent(a,this))};
os.data.BaseDescriptor.prototype.recordActivationMetric=function(){var a=this.isActive()?os.metrics.keys.Descriptor.ACTIVATE:os.metrics.keys.Descriptor.DEACTIVATE;os.metrics.Metrics.getInstance().updateMetric(a+"."+this.getDescriptorType(),1)};os.data.BaseDescriptor.prototype.clearData=function(){};os.data.BaseDescriptor.prototype.isLocal=function(){return this.local_};os.data.BaseDescriptor.prototype.setLocal=function(a){this.local_=a};os.data.BaseDescriptor.prototype.isLoading=function(){return this.loading_};
os.data.BaseDescriptor.prototype.setLoading=function(a){this.loading_=a};os.data.BaseDescriptor.prototype.getTags=function(){return this.tags};os.data.BaseDescriptor.prototype.setTags=function(a){this.tags=a};os.data.BaseDescriptor.prototype.getSearchText=function(){var a=this.getTags();return this.getTitle()+" "+this.getType()+" "+this.getDescription()+" "+this.getProvider()+(a&&a.length?a.join(" "):"")};os.data.BaseDescriptor.prototype.getNodeUI=function(){return""};
os.data.BaseDescriptor.prototype.matchesURL=function(a){return!1};
os.data.BaseDescriptor.prototype.persist=function(a){a||(a={});a.id=this.getId();a.provider=this.getProvider();a.providerType=this.getProviderType();a.title=this.getTitle();a.type=this.getType();a.color=this.getColor();a.description=this.getDescription();a.maxDate=this.getMaxDate();a.minDate=this.getMinDate();a.lastActive=this.getLastActive();a.deleteTime=this.getDeleteTime();a.tags=this.getTags();a.dType=this.getDescriptorType();a.active=this.isActive();if(this.columns_&&0<this.columns_.length)try{for(var b=
[],c=0,d=this.columns_.length;c<d;c++)this.columns_[c].temp||b.push(this.columns_[c].persist());a.columns=b}catch(e){}return a};
os.data.BaseDescriptor.prototype.restore=function(a){this.setId(a.id);this.setProvider(a.provider);this.setProviderType(a.providerType);this.setTitle(a.title);this.setType(a.type);this.setColor(a.color);this.setDescription(a.description);this.setMaxDate(a.maxDate||NaN);this.setMinDate(a.minDate||NaN);this.lastActive_=a.lastActive||NaN;this.deleteTime_=a.deleteTime||NaN;this.setTags(a.tags);this.tempActive=a.active;if((a=a.columns)&&0<a.length)try{for(var b=[],c=0,d=a.length;c<d;c++){var e=new os.data.ColumnDefinition;
e.restore(a[c]);b.push(e)}this.setColumns(b)}catch(f){}};os.data.BaseDescriptor.prototype.updateActiveFromTemp=function(){!0===this.tempActive&&goog.async.nextTick(this.setActive.bind(this,this.tempActive));this.tempActive=void 0};os.data.BaseDescriptor.titleCompare=function(a,b){return goog.string.caseInsensitiveCompare(a.getTitle(),b.getTitle())};
os.data.BaseDescriptor.lastActive=function(a,b){return isNaN(a.getLastActive())&&isNaN(b.getLastActive())?0:isNaN(a.getLastActive())&&!isNaN(b.getLastActive())?1:!isNaN(a.getLastActive())&&isNaN(b.getLastActive())?-1:goog.array.defaultCompare(a.getLastActive(),b.getLastActive())};os.data.BaseDescriptor.lastActiveReverse=function(a,b){return os.data.BaseDescriptor.lastActive(b,a)};os.data.LayerSyncDescriptor=function(){os.data.BaseDescriptor.call(this);this.log=os.data.LayerSyncDescriptor.LOGGER_;this.layers=[];this.layerIds=[];this.layerConfig={};os.dispatcher.listen(os.events.LayerEventType.ADD,this.onLayerAdded,!1,this);os.dispatcher.listen(os.events.LayerEventType.REMOVE,this.onLayerRemoved,!1,this)};goog.inherits(os.data.LayerSyncDescriptor,os.data.BaseDescriptor);os.data.LayerSyncDescriptor.LOGGER_=goog.log.getLogger("os.data.LayerSyncDescriptor");
os.data.LayerSyncDescriptor.STYLE_KEYS_=["opacity","contrast","brightness","saturation"];os.data.LayerSyncDescriptor.CHANGE_KEYS_=["minResolution","maxResolution"];os.data.LayerSyncDescriptor.prototype.disposeInternal=function(){os.data.LayerSyncDescriptor.superClass_.disposeInternal.call(this);os.dispatcher.unlisten(os.events.LayerEventType.ADD,this.onLayerAdded,!1,this);os.dispatcher.unlisten(os.events.LayerEventType.REMOVE,this.onLayerRemoved,!1,this);this.removeLayers_()};
os.data.LayerSyncDescriptor.prototype.getLayers=function(){return this.layers};os.data.LayerSyncDescriptor.prototype.getLayerOptions=goog.abstractMethod;os.data.LayerSyncDescriptor.prototype.getOptions=function(){var a=this.getLayerOptions();return a?(goog.isArray(a)||(a=[a]),a.map(this.applyLayerConfig,this)):a};os.data.LayerSyncDescriptor.prototype.containsLayer=function(a){return-1<this.layers.indexOf(a)};
os.data.LayerSyncDescriptor.prototype.setActiveInternal=function(){this.isActive()?this.createLayers_():this.removeLayers_();this.onLoadingChange();return!0};os.data.LayerSyncDescriptor.prototype.addLayer=function(a){-1===this.layers.indexOf(a)&&(ol.events.listen(a,goog.events.EventType.PROPERTYCHANGE,this.onLayerChange,this),this.layers.push(a),this.setActive(!0))};
os.data.LayerSyncDescriptor.prototype.removeLayer=function(a){if(-1<this.layers.indexOf(a)){var b=this.persistLayerConfig();goog.object.getKeys(b).forEach(function(a){os.object.merge(this.layerConfig[a],b[a],!0)},this);ol.events.unlisten(a,goog.events.EventType.PROPERTYCHANGE,this.onLayerChange,this);goog.array.remove(this.layers,a)}this.layers.length||this.setActive(!1)};
os.data.LayerSyncDescriptor.prototype.onLayerAdded=function(a){goog.isString(a.layer)||(a=a.layer,-1<this.layerIds.indexOf(a.getId())&&this.addLayer(a))};os.data.LayerSyncDescriptor.prototype.onLayerRemoved=function(a){goog.isString(a.layer)||(a=a.layer,-1<this.layerIds.indexOf(a.getId())&&-1<this.layers.indexOf(a)&&this.removeLayer(a))};
os.data.LayerSyncDescriptor.prototype.createLayers_=function(){var a=this.getOptions();if(a)for(var b=0;b<a.length;b++){var c=a[b],d=c.id||"";d&&(goog.array.insert(this.layerIds,d),(d=os.MapContainer.getInstance().getLayer(d))?this.addLayer(d):(d=os.layer.createFromOptions(c))&&os.MapContainer.getInstance().addLayer(d))}};
os.data.LayerSyncDescriptor.prototype.removeLayers_=function(){this.layerConfig=this.persistLayerConfig();for(var a=this.layers.length-1;0<=a;a--){var b=this.layers[a];b&&(os.MapContainer.getInstance().removeLayer(b),goog.array.remove(this.layerIds,b.getId()))}this.setLoading(!1)};os.data.LayerSyncDescriptor.prototype.applyLayerConfig=function(a){var b={};os.object.merge(a,b,!0);this.layerConfig&&(a=a.id)&&a in this.layerConfig&&os.object.merge(this.layerConfig[a],b,!0);return b};
os.data.LayerSyncDescriptor.STYLE_CHANGE_EVENTS=[os.layer.PropertyChange.STYLE,os.layer.PropertyChange.REFRESH_INTERVAL,os.layer.PropertyChange.TIME_ENABLED,"visible"];
os.data.LayerSyncDescriptor.prototype.onLayerChange=function(a){if(a instanceof os.events.PropertyChangeEvent){var b=a.getProperty()||"";if("loading"==b)this.onLoadingChange(a);else if(-1<os.data.LayerSyncDescriptor.STYLE_CHANGE_EVENTS.indexOf(b))this.onStyleChange();else this.saveDescriptor()}else if(a instanceof ol.Object.Event)if(-1<os.data.LayerSyncDescriptor.STYLE_KEYS_.indexOf(a.key))this.onStyleChange();else-1<os.data.LayerSyncDescriptor.CHANGE_KEYS_.indexOf(a.key)&&this.saveDescriptor()};
os.data.LayerSyncDescriptor.prototype.onLoadingChange=function(a){if(a=this.getLayers())for(var b=0,c=a.length;b<c;b++)if(a[b].isLoading()){this.setLoading(!0);return}this.setLoading(!1)};os.data.LayerSyncDescriptor.prototype.onStyleChange=function(){this.saveDescriptor()};os.data.LayerSyncDescriptor.prototype.saveDescriptor=function(){this.layerConfig=this.persistLayerConfig();os.dataManager.persistDescriptors()};
os.data.LayerSyncDescriptor.prototype.persist=function(a){a||(a={});a.layer=this.persistLayerConfig();return os.data.LayerSyncDescriptor.superClass_.persist.call(this,a)};os.data.LayerSyncDescriptor.prototype.restore=function(a){this.layerConfig=a.layer||{};os.data.LayerSyncDescriptor.superClass_.restore.call(this,a)};os.data.LayerSyncDescriptor.prototype.persistLayerConfig=function(){for(var a={},b=this.getLayers(),c=0,d=b.length;c<d;c++)a[b[c].getId()]=b[c].persist();return a};
os.data.LayerSyncDescriptor.prototype.getNodeUI=function(){return"<defaultlayernodeui></defaultlayernodeui>"};os.proj.switch={};os.proj.switch.ENABLE_RASTER_REPROJECTION=!0;os.proj.switch.checkLayer=function(a){var b=a.getSource();if(b){b=b.getProjection();var c=os.map.PROJECTION;if(a instanceof ol.layer.Tile&&b&&c&&!ol.proj.equivalent(b,c))if(os.proj.switch.ENABLE_RASTER_REPROJECTION)os.proj.switch.ReprojectionWarning.getInstance().addTitle(a.getTitle());else return os.proj.switch.SwitchProjection.getInstance().addLayer(a),!1}return!0};os.proj.switch.rootCommand_=null;
os.proj.switch.checkCommand=function(a){var b=os.proj.switch.SwitchProjection.getInstance();if(!a.title||0===a.title.indexOf("Switch projection"))return!0;if(a instanceof os.command.AbstractCommandSet){var c=a.getCommands(),d=!os.proj.switch.rootCommand_;d&&(os.proj.switch.rootCommand_=a);a=!0;for(var e=0,f=c.length;e<f&&a;e++)a=os.proj.switch.checkCommand(c[e]);d&&(os.proj.switch.rootCommand_=null);return a}c=null;a instanceof os.command.LayerAdd?c=a.layerOptions:a instanceof os.data.ActivateDescriptor&&
(a=a.getDescriptor(),a instanceof os.data.LayerSyncDescriptor&&(c=a.getOptions()));var g=!0;c&&(c=goog.isArray(c)?c:[c],c.forEach(function(a){var c=a.projections||[];!c.length&&a.projection&&c.push(a.projection);if(c.length){var d=os.map.PROJECTION;e=0;for(f=c.length;e<f;e++){var h=ol.proj.get(c[e]);if(h&&(os.proj.switch.ENABLE_RASTER_REPROJECTION||ol.proj.equivalent(d,h))){g=!0;return}}b.start(c[0]);b.addConfig(a);g=!1}}));return g};
os.proj.switch.ReprojectionWarning=function(){this.delay_=new goog.async.Delay(this.onWarn_,500,this);this.titles_=[]};goog.addSingletonGetter(os.proj.switch.ReprojectionWarning);os.proj.switch.ReprojectionWarning.prototype.addTitle=function(a){this.titles_.push(a);this.delay_.start()};
os.proj.switch.ReprojectionWarning.prototype.onWarn_=function(){var a=1<this.titles_.length;a="The tile layer"+(a?"s ":" ")+this.titles_.join(", ")+(a?" are":" is")+" being locally re-projected because the remote services do not support the current projection.";os.alert.AlertManager.getInstance().sendAlert(a,os.alert.AlertEventSeverity.WARNING);this.titles_.length=0};
os.proj.switch.SwitchProjection=function(){goog.events.EventTarget.call(this);this.delay_=new goog.async.Delay(this.prompt_,200,this);this.layers_=[];this.configs_=[];this.newProjection_=this.oldProjection_=null};goog.inherits(os.proj.switch.SwitchProjection,goog.events.EventTarget);goog.addSingletonGetter(os.proj.switch.SwitchProjection);os.proj.switch.SwitchProjection.prototype.getOldProjection=function(){return this.oldProjection_};os.proj.switch.SwitchProjection.prototype.getNewProjection=function(){return this.newProjection_};
os.proj.switch.SwitchProjection.prototype.addLayer=function(a){this.oldProjection_||(this.oldProjection_=os.map.PROJECTION);this.newProjection_||(this.newProjection_=a.getSource().getProjection());-1===this.layers_.indexOf(a)&&this.layers_.push(a);this.delay_.start()};os.proj.switch.SwitchProjection.prototype.addConfig=function(a){this.configs_.push(a)};
os.proj.switch.SwitchProjection.prototype.start=function(a){this.oldProjection_||(this.oldProjection_=os.map.PROJECTION);!this.newProjection_&&(a=ol.proj.get(a))&&(this.newProjection_=a);this.oldProjection_&&this.newProjection_&&this.delay_.start()};
os.proj.switch.SwitchProjection.prototype.prompt_=function(){var a=this.binLayers(),b=this.oldProjection_.getCode(),c=this.newProjection_.getCode();b="<p>You have attempted to "+(this.layers_.length?"enable layers that are in a different projection":"change projections")+"</p><ul><li>Current Projection: "+b+"</li><li>New Projection: "+c+"</li></ul>";b+="<p>Switching to the new projection will cause the following actions:</p>";var d=a.add.slice();d=[{title:"removed",layers:a.remove},{title:"added",
layers:d},{title:"reconfigured",layers:a.reconfig}];for(var e=0,f=d.length;e<f;e++){var g=d[e].title,h=d[e].layers;h.length&&(h=h.map(os.proj.mapTitle_),b+="<p>These layers will be <strong>"+g+"</strong></p><ul><li>"+h.join("</li><li>")+"</li></ul>")}c!=os.proj.EPSG4326&&c!=os.proj.EPSG3857&&os.MapContainer.getInstance().is3DEnabled()&&(b+="<p>The 3D view does not support the new projection. The view will be switched to 2D.</p>");a={confirmCallback:this.performSwitch.bind(this,a),cancelCallback:this.cancelSwitch.bind(this),
yesText:"Switch",yesIcon:"fa fa-exchange green-icon",noText:"Cancel",noIcon:"fa fa-ban red-icon"};os.ui.window.create({label:this.layers_.length?"Differing Projections":"Projection Change",icon:"fa fa-warning orange-icon",x:"center",y:"center",width:"500","min-width":"300","max-width":"600",height:"400","min-height":"215","max-height":"500",modal:"true"},"<confirm>"+b+"</confirm>",void 0,void 0,void 0,a)};
os.proj.switch.SwitchProjection.prototype.cancelSwitch=function(){for(var a=os.dataManager,b=0,c=this.layers_.length;b<c;b++){var d=a.getDescriptor(this.layers_[b].getId());d&&d.setActive(!1);this.layers_[b].dispose()}this.clear()};
os.proj.switch.SwitchProjection.prototype.performSwitch=function(a){var b=[];if(this.oldProjection_&&this.newProjection_){var c=os.MapContainer.getInstance().is3DEnabled();c&&b.push(new os.command.ToggleCesium(!1,!0));this.addLayerSequence(a.remove,!0,b);this.addLayerSequence(a.reconfig,!0,b);b.push(new os.command.SwitchView(this.newProjection_));b.push(new os.command.TransformVectors(this.oldProjection_,this.newProjection_));this.addLayerSequence(a.reconfig,!1,b);this.addLayerSequence(a.add,!1,b);
c&&b.push(new os.command.ToggleCesium(c,!0));this.dispatchEvent(new os.proj.switch.CommandListEvent(b));a=os.command.CommandProcessor.getInstance();c=new os.command.SequenceCommand;c.title="Switch projection from "+this.oldProjection_.getCode()+" to "+this.newProjection_.getCode();c.setCommands(b);a.addCommand(c)}this.clear()};
os.proj.switch.SwitchProjection.prototype.addLayerSequence=function(a,b,c){var d=[];b||a.reverse();for(var e=0,f=a.length;e<f;e++){var g=b?new os.command.LayerRemove(a[e]):new os.command.LayerAdd(a[e]);d.push(g)}d.length&&(g=new os.command.SequenceCommand,g.setCommands(d),c.push(g))};os.proj.switch.SwitchProjection.prototype.clear=function(){this.layers_.length=0;this.configs_.length=0;this.newProjection_=this.oldProjection_=null};os.proj.mapTitle_=function(a,b,c){return a.title};
os.proj.switch.SwitchProjection.prototype.binLayers=function(){for(var a=os.MapContainer.getInstance().getLayers(),b={remove:[],unknown:[],reconfig:[],add:this.layers_.map(function(a,b,c){return a.getLayerOptions()}).concat(this.configs_)},c=a.length;c--;){var d=a[c],e=d.getLayerOptions();if(d instanceof ol.layer.Tile&&os.implements(d,os.layer.ILayer.ID))if(d=e.projections||[],!d.length&&e.projection&&d.push(e.projection),d.length){for(var f=!1,g=0,h=d.length;g<h;g++){var k=ol.proj.get(d[g]);if(k&&
(os.proj.switch.ENABLE_RASTER_REPROJECTION||ol.proj.equivalent(k,this.newProjection_))){b.reconfig.push(e);f=!0;break}}f||b.remove.push(e)}else b.reconfig.push(e)}this.dispatchEvent(new os.proj.switch.BinnedLayersEvent(b));return b};os.proj.switch.BinnedLayersEvent=function(a){goog.events.Event.call(this,os.proj.switch.BinnedLayersEvent.TYPE);this.layers=a};goog.inherits(os.proj.switch.BinnedLayersEvent,goog.events.Event);os.proj.switch.BinnedLayersEvent.TYPE=goog.events.EventType.LOAD;
os.proj.switch.CommandListEvent=function(a){goog.events.Event.call(this,os.proj.switch.CommandListEvent.TYPE);this.commands=a};goog.inherits(os.proj.switch.CommandListEvent,goog.events.Event);os.proj.switch.CommandListEvent.TYPE=goog.events.EventType.SUBMIT;goog.events.KeyNames={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:"semicolon",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",
89:"y",90:"z",93:"context",96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",186:"semicolon",187:"equals",189:"dash",188:",",190:".",191:"/",192:"`",219:"open-square-bracket",220:"\\",221:"close-square-bracket",222:"single-quote",224:"win"};os.ui.help={};os.ui.help.controlsDirective=function(){return{restrict:"E",scope:!0,templateUrl:os.ROOT+"views/help/controls.html",controller:os.ui.help.ControlsCtrl,controllerAs:"controlsHelp"}};os.ui.Module.directive("controlshelp",[os.ui.help.controlsDirective]);
os.ui.help.ControlsCtrl=function(a){a=os.ui.help.Controls.getInstance().getControls();goog.array.sort(a,function(a,b){return a.order>b.order?1:a.order<b.order?-1:0});var b=a.length/2+1;this.controls={left:goog.array.slice(a,0,b),right:goog.array.slice(a,b,a.length)}};
os.ui.help.ControlsCtrl.launch=function(){os.ui.window.exists("controlsHelp")?os.ui.window.bringToFront("controlsHelp"):os.ui.window.create({id:"controlsHelp",x:"center",y:"center",label:"Controls","show-close":!0,"no-scroll":!1,"min-width":400,"min-height":200,"max-width":1050,"max-height":1E3,modal:!1,width:865,height:550,icon:"fa fa-keyboard-o"},"controlshelp")};os.ui.help.ControlsCtrl.prototype.getKey=function(a){return a===goog.events.KeyCodes.META&&os.isOSX()?"":goog.string.toTitleCase(goog.events.KeyNames[a])};
goog.exportProperty(os.ui.help.ControlsCtrl.prototype,"getKey",os.ui.help.ControlsCtrl.prototype.getKey);os.ui.help.ControlsCtrl.prototype.getMouse=function(a){return(a=os.ui.help.Controls.MOUSE_IMAGE[a])?a:null};goog.exportProperty(os.ui.help.ControlsCtrl.prototype,"getMouse",os.ui.help.ControlsCtrl.prototype.getMouse);os.ui.help.ControlsCtrl.prototype.getFont=function(a){return os.ui.help.Controls.FONT_CLASS[a]?os.ui.help.Controls.FONT_CLASS[a].font:null};
goog.exportProperty(os.ui.help.ControlsCtrl.prototype,"getFont",os.ui.help.ControlsCtrl.prototype.getFont);os.ui.help.ControlsCtrl.prototype.getFontClass=function(a){return os.ui.help.Controls.FONT_CLASS[a]?os.ui.help.Controls.FONT_CLASS[a]["class"]:null};goog.exportProperty(os.ui.help.ControlsCtrl.prototype,"getFontClass",os.ui.help.ControlsCtrl.prototype.getFontClass);os.ui.help.Controls=function(){this.controls_=[]};goog.addSingletonGetter(os.ui.help.Controls);
os.ui.help.Controls.MOUSE={LEFT_MOUSE:"LEFT_MOUSE",MIDDLE_MOUSE:"MIDDLE_MOUSE",RIGHT_MOUSE:"RIGHT_MOUSE"};os.ui.help.Controls.MOUSE_IMAGE={LEFT_MOUSE:os.ROOT+"images/MouseLeft.png",MIDDLE_MOUSE:os.ROOT+"images/MouseMiddle.png",RIGHT_MOUSE:os.ROOT+"images/MouseRight.png"};os.ui.help.Controls.FONT={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL",ALL:"ALL",LEFT:"LEFT",RIGHT:"RIGHT",UP:"UP",DOWN:"DOWN"};
os.ui.help.Controls.FONT_CLASS={HORIZONTAL:{font:"fa fa-arrows-h","class":"control-drag"},VERTICAL:{font:"fa fa-arrows-v","class":"control-drag"},ALL:{font:"fa fa-arrows","class":"control-drag"},LEFT:{font:"fa fa-long-arrow-left","class":"control-key"},RIGHT:{font:"fa fa-long-arrow-right","class":"control-key"},UP:{font:"fa fa-long-arrow-up","class":"control-key"},DOWN:{font:"fa fa-long-arrow-down","class":"control-key"}};os.ui.help.Controls.prototype.getControls=function(){return this.controls_};
os.ui.help.Controls.prototype.addControl=function(a,b,c,d,e){var f=goog.array.find(this.controls_,function(b){return b.section==a});f||(f={section:a,order:b,controls:[]},this.controls_.push(f));f.controls.push({text:c,keys:d,other:e})};os.ui.help.webGLSupportDirective=function(){return{restrict:"E",templateUrl:os.ROOT+"views/help/webglsupport.html"}};os.ui.Module.directive("webglsupport",[os.ui.help.webGLSupportDirective]);
os.ui.help.launchWebGLSupportDialog=function(a){var b={confirmCallback:goog.nullFunction,hideCancel:!0,yesText:"OK",yesIcon:"fa fa-check lt-blue-icon"};a={label:a||"WebGL Not Supported",icon:"fa fa-frown-o yellow-icon",x:"center",y:"center",width:"425","min-width":"300","max-width":"600",height:"200","min-height":"200","max-height":"500",modal:"true"};b.appName=os.config.getAppName("the application");b.supportText=os.config.getSupportContact("your system administrator");goog.userAgent.IE&&11==goog.userAgent.VERSION?
(b.showIEHelp=!0,a.height=300):goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher(10)?(b.showFFHelp=!0,a.height=300):goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher(28)&&(b.showGCHelp=!0,a.height=300);os.ui.window.create(a,"<confirm><webglsupport></webglsupport></confirm>",void 0,void 0,void 0,b)};os.webgl={};os.webgl.isSupported=function(){return Modernizr.webgl?goog.userAgent.IE?Modernizr.webglextensions.ANGLE_instanced_arrays&&Modernizr.webglextensions.EXT_texture_filter_anisotropic&&Modernizr.webglextensions.OES_element_index_uint&&Modernizr.webglextensions.OES_texture_float&&Modernizr.webglextensions.OES_texture_float_linear&&Modernizr.webglextensions.WEBGL_compressed_texture_s3tc:!0:!1};var plugin={position:{}};plugin.position.copyPositionDirective=function(){return{restrict:"AE",replace:!0,scope:{value:"="},templateUrl:os.ROOT+"views/plugin/position/positionplugin.html",controller:plugin.position.CopyPositionCtrl,controllerAs:"copyPosition"}};os.ui.Module.directive("copyPosition",[plugin.position.copyPositionDirective]);
plugin.position.CopyPositionCtrl=function(a,b){goog.Disposable.call(this);this.element_=b;this.keyHandler_=new goog.events.KeyHandler(goog.dom.getDocument());this.keyHandler_.listen(goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent_,!1,this);a.$on("$destroy",this.onDestroy_.bind(this))};goog.inherits(plugin.position.CopyPositionCtrl,goog.Disposable);plugin.position.CopyPositionCtrl.prototype.onDestroy_=function(){goog.dispose(this.keyHandler_);this.element_=null};
plugin.position.CopyPositionCtrl.prototype.close=function(){os.ui.window.close(this.element_)};plugin.position.CopyPositionCtrl.prototype.handleKeyEvent_=function(a){a.keyCode==goog.events.KeyCodes.ENTER&&this.close()};
plugin.position.CopyPositionCtrl.launch=function(a){os.ui.window.exists("copyPosition")?os.ui.window.bringToFront("copyPosition"):os.ui.window.create({id:"copyPosition",label:"Copy Coordinates",icon:"fa fa-sticky-note",x:"center",y:"center",width:"650",height:"190",modal:"true"},'<copy-position value="value"></copy-position>',void 0,void 0,void 0,{value:a})};os.MapContainer=function(){goog.events.EventTarget.call(this);this.rootSynchronizer_=this.olCesium_=this.map_=null;this.cesiumMoving_=!1;this.is3DSupported_=void 0;this.terrainProvider_=os.MapContainer.getDefaultTerrainProvider_();this.terrainGroup_=new os.layer.Group;this.terrainProviderTypes_={cesium:Cesium.CesiumTerrainProvider};this.csListeners_=[];this.viewChangeDelay_=new goog.async.Delay(this.handleViewChange_,500,this);this.restoreCameraDelay_=null;this.viewExtent_=ol.extent.createEmpty();
this.interactionFunction_=this.controlFunction_=this.drawingLayer_=null;this.vsm_=new goog.dom.ViewportSizeMonitor;os.dispatcher.listen(os.ui.action.EventType.ZOOM,this.onZoom_,!1,this);os.dispatcher.listen(os.action.EventType.RESET_VIEW,this.resetView,!1,this);os.dispatcher.listen(os.action.EventType.RESET_ROTATION,this.resetRotation,!1,this);os.dispatcher.listen(os.action.EventType.TOGGLE_VIEW,this.onToggleView_,!1,this);os.dispatcher.listen(os.events.LayerEventType.REMOVE,this.onRemoveLayerEvent_,
!1,this);os.dispatcher.listen(os.MapEvent.RENDER,this.render,!1,this);os.dispatcher.listen(os.MapEvent.RENDER_SYNC,this.renderSync,!1,this)};goog.inherits(os.MapContainer,goog.events.EventTarget);goog.addSingletonGetter(os.MapContainer);goog.dom.animationFrame.polyfill.install();os.MapContainer.DRAW_ID=os.layer.Drawing.ID;os.MapContainer.SEARCH_ID="search";os.MapContainer.TARGET="map-container";os.MapContainer.VIEW_CHANGED="viewChanged";os.MapContainer.FLY_ZOOM_DURATION=1E3;
os.MapContainer.FLY_ZOOM_BUFFER_=.025;os.MapContainer.TARGET_FRAME_RATE_=60;os.MapContainer.LOGGER_=goog.log.getLogger("os.MapContainer");
os.MapContainer.prototype.disposeInternal=function(){goog.dispose(this.vsm_);this.vsm_=null;goog.dispose(this.viewChangeDelay_);this.viewChangeDelay_=null;goog.dispose(this.restoreCameraDelay_);this.restoreCameraDelay_=null;if(this.map_){var a=this.map_.getView();a&&ol.events.unlisten(a,ol.ObjectEventType.PROPERTYCHANGE,this.onViewChange_,this);this.map_.dispose();this.map_=null}os.dispatcher.unlisten(os.ui.action.EventType.ZOOM,this.onZoom_,!1,this);os.dispatcher.unlisten(os.action.EventType.RESET_VIEW,
this.resetView,!1,this);os.dispatcher.unlisten(os.action.EventType.RESET_ROTATION,this.resetRotation,!1,this);os.dispatcher.unlisten(os.action.EventType.TOGGLE_VIEW,this.onToggleView_,!1,this);os.dispatcher.unlisten(os.events.LayerEventType.REMOVE,this.onRemoveLayerEvent_,!1,this);os.MapContainer.superClass_.disposeInternal.call(this)};os.MapContainer.prototype.getOLCesium=function(){return this.olCesium_};
os.MapContainer.prototype.getCesiumCamera=function(){return this.olCesium_?this.olCesium_.getCamera():null};os.MapContainer.prototype.getCesiumScene=function(){return this.olCesium_?this.olCesium_.getCesiumScene():null};os.MapContainer.prototype.getCesiumCameraController=function(){if(this.olCesium_){var a=this.olCesium_.getCesiumScene();if(a)return a.screenSpaceCameraController}return null};
os.MapContainer.prototype.getViewExtent=function(){var a=this.map_.getView(),b=this.map_.getSize(),c=a.getCenter(),d=a.getResolution();goog.isDef(c)&&goog.isDef(d)&&goog.isDef(b)&&(ol.extent.getForViewAndSize(c,d,a.getRotation(),b,this.viewExtent_),a=os.map.PROJECTION.getExtent())&&(this.viewExtent_[1]=Math.max(this.viewExtent_[1],a[1]),this.viewExtent_[3]=Math.min(this.viewExtent_[3],a[3]),os.map.PROJECTION.canWrapX()||(this.viewExtent_[0]=Math.max(this.viewExtent_[0],a[0]),this.viewExtent_[2]=Math.min(this.viewExtent_[2],
a[2])));return this.viewExtent_};os.MapContainer.prototype.onViewChange_=function(a){this.viewChangeDelay_.start()};
os.MapContainer.prototype.handleViewChange_=function(){if(os.settings.get(os.config.DisplaySetting.CAMERA_MODE)==os.CameraMode.LAST)try{var a=os.MapContainer.getInstance().persistCameraState();os.settings.set(os.config.DisplaySetting.CAMERA_STATE,JSON.stringify(a))}catch(b){goog.log.error(os.MapContainer.LOGGER_,"Error persisting camera state:",b)}this.dispatchEvent(os.MapContainer.VIEW_CHANGED);os.style.label.updateShown();this.dispatchEvent(os.MapEvent.VIEW_CHANGE)};
os.MapContainer.prototype.setTerrainProvider=function(a,b){a=a?a.toLowerCase():null;b=b||{};var c=new os.layer.Terrain;if(goog.isNull(a))this.terrainProvider_=os.MapContainer.getDefaultTerrainProvider_(),this.terrainGroup_.getLayers().clear(),a=new os.events.LayerEvent(os.events.LayerEventType.REMOVE,c),this.dispatchEvent(a),os.dispatcher.dispatchEvent(a);else if(a in this.terrainProviderTypes_){if("url"in b&&os.net.getCrossOrigin(b.url)===os.net.CrossOrigin.USE_CREDENTIALS){var d=new goog.Uri(b.url),
e=d.getPort();if(!e){var f=d.getScheme();f||(f=(new goog.Uri(window.location)).getScheme());e="https"===f?443:"http"===f?80:e}e&&Cesium.TrustedServers.add(d.getDomain(),e)}this.terrainProvider_=new this.terrainProviderTypes_[a](b);"function"==typeof this.terrainProvider_.getName&&c.setTitle(this.terrainProvider_.getName());b&&b.id&&c.setId(b.id);this.terrainGroup_.getLayers().push(c);a=new os.events.LayerEvent(os.events.LayerEventType.ADD,c);this.dispatchEvent(a);os.dispatcher.dispatchEvent(a)}else goog.log.error(os.MapContainer.LOGGER_,
"Unknown terrain provider type: "+a);this.olCesium_&&(a=this.olCesium_.getCesiumScene())&&(a.terrainProvider=this.terrainProvider_);os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT)};os.MapContainer.prototype.showTerrain=function(a){if(this.olCesium_){var b=this.olCesium_.getCesiumScene();b&&(b.terrainProvider=a?this.terrainProvider_:os.MapContainer.getDefaultTerrainProvider_(),os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT))}};
os.MapContainer.prototype.registerTerrainProviderType=function(a,b,c){a=a.toLowerCase();if(a in this.terrainProviderTypes_)if(c)goog.log.warning(os.MapContainer.LOGGER_,'The terrain provider type "'+a+'" is being overridden!');else{goog.log.error(os.MapContainer.LOGGER_,'The terrain provider type "'+a+'" already exists!');return}this.terrainProviderTypes_[a]=b};os.MapContainer.prototype.render=function(){var a=this.getMap();a&&a.render()};
os.MapContainer.prototype.renderSync=function(){var a=this.getMap();a&&a.renderSync()};os.MapContainer.prototype.updateFeatureVisibility=function(a,b){this.map_&&(b?this.map_.unskipFeature(a):this.map_.skipFeature(a))};os.MapContainer.prototype.updateSize=function(){this.map_&&(ol.events.listenOnce(this.map_,ol.MapEventType.POSTRENDER,function(){os.ui.waitForAngular(this.map_.updateSize.bind(this.map_))},this),this.map_.setSize([0,0]))};os.MapContainer.prototype.getMap=function(){return this.map_};
os.MapContainer.prototype.setView=function(a){if(this.map_){var b=this.map_.getView();b&&ol.events.unlisten(b,ol.ObjectEventType.PROPERTYCHANGE,this.onViewChange_,this);this.map_.setView(a);a&&ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.onViewChange_,this)}};os.MapContainer.isTileLayer=function(a){return a instanceof ol.layer.Tile};os.MapContainer.isVectorLayer=function(a){return a instanceof ol.layer.Vector};os.MapContainer.isImageLayer=function(a){return a instanceof ol.layer.Image};
os.MapContainer.prototype.flyTo=function(a){var b=this.getMap();if(b&&(goog.isDef(a.center)||goog.isDef(a.zoom)||goog.isDef(a.altitude))){os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.FLY_TO,1);b=b.getView();goog.asserts.assert(b);var c=b.getCenter(),d=b.getResolution();goog.asserts.assert(goog.isDef(c));goog.asserts.assert(d);c=a.center||c;if(this.is3DEnabled()){if(b=this.getCesiumCamera()){var e;goog.isDef(a.altitude)?e=a.altitude:goog.isDef(a.zoom)&&(e=b.calcDistanceForResolution(this.zoomToResolution(a.zoom),
ol.math.toRadians(c[1])));b.flyTo(c,e,os.MapContainer.FLY_ZOOM_DURATION)}}else e={center:c,duration:os.MapContainer.FLY_ZOOM_DURATION},null!=a.zoom?e.zoom=goog.math.clamp(a.zoom,os.map.MIN_ZOOM,os.map.MAX_ZOOM):null!=a.altitude&&(a=os.map.resolutionForDistance(this.getMap(),a.altitude,0),e.resolution=goog.math.clamp(a,os.map.MIN_RESOLUTION,os.map.MAX_RESOLUTION)),b.animate(e)}};
os.MapContainer.prototype.flyToExtent=function(a,b,c){if(a&&-1!=a.indexOf(Infinity)||-1!=a.indexOf(-Infinity))goog.log.fine(os.MapContainer.LOGGER_,"Attempted to fly to infinite extent.");else{var d=this.getMap();if(d){os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.FLY_TO_EXTENT,1);var e=d.getView();goog.asserts.assert(null!=e);if(a)if(a=a.slice(),b&&0<b?ol.extent.scaleFromCenter(a,b):(b=os.MapContainer.FLY_ZOOM_BUFFER_,ol.extent.getWidth(a)<b&&ol.extent.getHeight(a)<b&&(a=ol.extent.buffer(a,
b))),this.is3DEnabled()){b=this.getCesiumCamera();var f=d.getSize();b&&f&&(d=ol.extent.getCenter(a),a=e.getResolutionForExtent(a,f),null!=c&&(c=Math.min(c,this.resolutionToZoom(a)),a=this.zoomToResolution(c)),c=b.calcDistanceForResolution(a,0),b.flyTo(d,c,os.MapContainer.FLY_ZOOM_DURATION))}else b=ol.proj.toLonLat(e.getCenter().slice(),os.map.PROJECTION),a=ol.proj.transformExtent(a,os.map.PROJECTION,os.proj.EPSG4326),a[0]=os.geo.normalizeLongitude(a[0],b[0]-180,b[0]+180),a[2]=os.geo.normalizeLongitude(a[2],
b[0]-180,b[0]+180),a[2]<a[0]&&(a[2]+=360),a=ol.proj.transformExtent(a,os.proj.EPSG4326,os.map.PROJECTION),e.fit(a,{duration:os.MapContainer.FLY_ZOOM_DURATION,maxZoom:c,constrainResolution:!0})}}};
os.MapContainer.prototype.onZoom_=function(a){try{var b=a.getContext(),c=null!=b.feature?void 0:-1;goog.isArray(b)||(b=[b]);var d=b.reduce(os.fn.reduceExtentFromGeometries,ol.extent.createEmpty());ol.extent.isEmpty(d)||os.commandStack.addCommand(new os.command.FlyToExtent(d,void 0,c))}catch(e){goog.log.error(os.MapContainer.LOGGER_,"Zoom action failed:",e)}};
os.MapContainer.prototype.resetView=function(){var a=this.getMap().getView();goog.asserts.assert(goog.isDef(a));a.setRotation(0);a.setCenter(os.map.DEFAULT_CENTER);a.setZoom(3);this.is3DEnabled()&&(a=this.getCesiumCamera())&&(a.setTilt(0),a.readFromView());os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.RESET_VIEW,1)};
os.MapContainer.prototype.resetTilt=function(){if(this.is3DEnabled()){var a=this.getCesiumCamera();a&&a.setTilt(0)}os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.RESET_TILT,1)};os.MapContainer.prototype.resetRoll=function(){if(this.is3DEnabled()){var a=this.getCesiumCamera();a&&a.setHeading(0)}else a=this.getMap().getView(),goog.asserts.assert(goog.isDef(a)),a.setRotation(0);os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.RESET_ROLL,1)};
os.MapContainer.prototype.resetRotation=function(){this.resetTilt();this.resetRoll();os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.RESET_ROTATION,1)};os.MapContainer.prototype.fixFocus_=function(){document.activeElement&&document.activeElement!==document.body&&document.activeElement.blur()};
os.MapContainer.prototype.addHelpControls_=function(){var a=os.ui.help.Controls.getInstance();a.addControl("General Map Controls",1,"Draw Geometry",[goog.events.KeyCodes.SHIFT,"+"],[os.ui.help.Controls.MOUSE.LEFT_MOUSE,"+",os.ui.help.Controls.FONT.ALL]);a.addControl("General Map Controls",1,"Context Menu",null,[os.ui.help.Controls.MOUSE.RIGHT_MOUSE]);a.addControl("General Map Controls",1,"Reset View",[goog.events.KeyCodes.V]);a.addControl("General Map Controls",1,"Reset Rotation",[goog.events.KeyCodes.R]);
a.addControl("General Map Controls",1,"Copy Coordinates",[goog.events.KeyCodes.PERIOD]);a.addControl("Map Movement Controls",2,"Pan View",null,[os.ui.help.Controls.MOUSE.LEFT_MOUSE,"+",os.ui.help.Controls.FONT.ALL]);a.addControl("Map Movement Controls",2,"Pan View",null,[os.ui.help.Controls.FONT.LEFT,"or",os.ui.help.Controls.FONT.RIGHT,"or",os.ui.help.Controls.FONT.UP,"or",os.ui.help.Controls.FONT.DOWN]);a.addControl("Map Zoom Controls",3,"Zoom to Box",[goog.events.KeyCodes.CTRL,"+"],[os.ui.help.Controls.MOUSE.LEFT_MOUSE,
"+",os.ui.help.Controls.FONT.ALL]);a.addControl("Map Zoom Controls",3,"Smooth Zoom In/Out",[goog.events.KeyCodes.CTRL,"+"],[os.ui.help.Controls.MOUSE.RIGHT_MOUSE,"+",os.ui.help.Controls.FONT.VERTICAL]);a.addControl("Map Zoom Controls",3,"Zoom About Mouse",null,["Mouse Wheel"]);a.addControl("Map Zoom Controls",3,"Zoom In",null,["Double Left Click"]);a.addControl("Map Zoom Controls",3,"Zoom Out",[goog.events.KeyCodes.CTRL,"+"],["Double Left Click"]);a.addControl("Map Zoom Controls",3,"Large Zoom In/Out",
[goog.events.KeyCodes.PAGE_UP,"or",goog.events.KeyCodes.PAGE_DOWN]);a.addControl("Map Zoom Controls",3,"Zoom In/Out",null,"+ / = or - / _".split(" "));this.is3DSupported()&&(a=os.ui.help.Controls.getInstance(),a.addControl("3D Controls",4,"Tilt Globe",null,[os.ui.help.Controls.MOUSE.MIDDLE_MOUSE,"or",os.ui.help.Controls.MOUSE.RIGHT_MOUSE,"+",os.ui.help.Controls.FONT.VERTICAL]),a.addControl("3D Controls",4,"Roll Globe",null,[os.ui.help.Controls.MOUSE.MIDDLE_MOUSE,"or",os.ui.help.Controls.MOUSE.RIGHT_MOUSE,
"+",os.ui.help.Controls.FONT.HORIZONTAL]),a.addControl("3D Controls",4,"Tilt Globe",[goog.events.KeyCodes.SHIFT,"+"],[os.ui.help.Controls.FONT.UP,"or",os.ui.help.Controls.FONT.DOWN]),a.addControl("3D Controls",4,"Roll Globe",[goog.events.KeyCodes.SHIFT,"+"],[os.ui.help.Controls.FONT.LEFT,"or",os.ui.help.Controls.FONT.RIGHT]),a.addControl("3D Controls",4,"Reset Roll",[goog.events.KeyCodes.N]),a.addControl("3D Controls",4,"Reset Tilt",[goog.events.KeyCodes.U]))};
os.MapContainer.prototype.init=function(){os.proj.loadProjections();os.command.CommandProcessor.getInstance().registerCheckFunction(os.proj.switch.checkCommand);os.interpolate.setConfig(os.settings.get("interpolation"));this.drawingLayer_=new os.layer.Drawing({source:new ol.source.Vector});this.drawingLayer_.setTitle("Drawing Layer");this.drawingLayer_.setId(os.MapContainer.DRAW_ID);this.drawingLayer_.setProvider(os.config.getAppName()||null);this.drawingLayer_.setStyle(os.style.StyleManager.getInstance().getOrCreateStyle(os.style.DEFAULT_VECTOR_CONFIG));
this.drawingLayer_.setOSType(os.layer.LayerType.REF);this.drawingLayer_.setExplicitType("");this.drawingLayer_.setRemovable(!1);this.drawingLayer_.setDoubleClickHandler(null);this.drawingLayer_.setNodeUI("");this.drawingLayer_.setLayerUI("");this.drawingLayer_.setSticky(!0);this.drawingLayer_.setSynchronizerType(os.layer.SynchronizerType.DRAW);this.drawingLayer_.renderLegend=goog.nullFunction;var a=new os.layer.Group;a.setPriority(-2);a.setCheckFunc(os.MapContainer.isTileLayer);a.setOSType(os.layer.LayerType.TILES);
var b=new os.layer.Group({layers:[this.drawingLayer_]});b.setCheckFunc(os.MapContainer.isVectorLayer);b.setOSType(os.layer.LayerType.FEATURES);var c=new os.layer.Group({hidden:!0});c.setCheckFunc(os.MapContainer.isImageLayer);c.setOSType(os.layer.LayerType.IMAGE);var d=new os.layer.Group;d.setPriority(100);d.setOSType(os.layer.LayerType.REF);this.terrainGroup_.setOSType(os.layer.LayerType.TERRAIN+" - 3D");os.map.PROJECTION=ol.proj.get(os.settings.get(os.map.PROJECTION_KEY,os.map.PROJECTION.getCode()));
os.map.TILEGRID=ol.tilegrid.createForProjection(os.map.PROJECTION,ol.DEFAULT_MAX_ZOOM,[512,512]);os.map.MIN_RESOLUTION=os.map.zoomToResolution(os.map.MAX_ZOOM,os.map.PROJECTION);os.map.MAX_RESOLUTION=os.map.zoomToResolution(os.map.MIN_ZOOM,os.map.PROJECTION);os.proj.switch.ENABLE_RASTER_REPROJECTION=os.settings.get("enableReprojection",!0);var e=new ol.View({projection:os.map.PROJECTION,center:os.map.DEFAULT_CENTER,zoom:os.map.DEFAULT_ZOOM,minZoom:os.map.MIN_ZOOM,maxZoom:os.map.MAX_ZOOM});this.map_=
new os.Map({controls:this.controlFunction_?this.controlFunction_():void 0,interactions:this.interactionFunction_?this.interactionFunction_():void 0,layers:new ol.Collection([this.terrainGroup_,a,b,d,c]),renderer:ol.renderer.Type.CANVAS,target:os.MapContainer.TARGET,view:e,keyboardEventTarget:document});ol.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.onViewChange_,this);goog.exportProperty(window,"pfc",this.map_.getPixelFromCoordinate.bind(this.map_));goog.exportProperty(window,"cfp",this.map_.getCoordinateFromPixel.bind(this.map_));
goog.exportProperty(window,"fte",this.flyToExtent.bind(this));this.vsm_.listen(goog.events.EventType.RESIZE,this.updateSize,!1,this);goog.async.nextTick(this.updateSize,this);a=this.getMap().getViewport();goog.events.listen(a,goog.events.EventType.CONTEXTMENU,os.events.killEvent,!0);goog.events.listen(a,goog.events.EventType.CLICK,this.fixFocus_,!1,this);a=os.settings.get(["bgColor"],"#000000");this.setBGColor(a);this.dispatchEvent(os.MapEvent.MAP_READY);this.initSettings();this.addHelpControls_();
os.net.VariableReplacer.add("pos",os.MapContainer.replacePos_);os.net.VariableReplacer.add("extent",os.MapContainer.replaceExtent_);os.net.VariableReplacer.add("extent2",os.MapContainer.replaceExtentNormalized_)};
os.MapContainer.prototype.initSettings=function(){if(os.config&&os.config.DisplaySetting){os.settings.listen(os.config.DisplaySetting.MAP_MODE,this.onMapModeChange_,!1,this);var a=os.settings.get(os.config.DisplaySetting.MAP_MODE,os.MapMode.VIEW_3D);a!==os.MapMode.VIEW_3D&&a!==os.MapMode.AUTO||this.setCesiumEnabled(!0,!0);if(a=os.settings.get(os.config.DisplaySetting.CAMERA_STATE))try{a=JSON.parse(a)}catch(b){goog.log.error(os.MapContainer.LOGGER_,"Failed restoring camera state:",b),a=void 0}a&&this.restoreCameraState(a)}};
os.MapContainer.prototype.onMapModeChange_=function(a){"string"===typeof a.newVal?(a=a.newVal,a=a===os.MapMode.VIEW_3D||a===os.MapMode.AUTO?!0:!1,a!=this.is3DEnabled()&&this.setCesiumEnabled(a)):goog.log.warning(os.MapContainer.LOGGER_,"Unrecognized map mode change value: "+a.newVal)};
os.MapContainer.prototype.onToggleView_=function(){var a=!this.is3DEnabled();a&&!this.is3DSupported()&&os.ui.help.launchWebGLSupportDialog("3D Globe Not Supported");var b=os.map.PROJECTION.getCode();a&&b!==os.proj.EPSG4326&&b!==os.proj.EPSG3857||(a=new os.command.ToggleCesium(a),os.command.CommandProcessor.getInstance().addCommand(a))};
os.MapContainer.prototype.saveMapMode_=function(){var a=this.is3DEnabled()?os.MapMode.VIEW_3D:os.MapMode.VIEW_2D;os.settings.set(os.config.DisplaySetting.MAP_MODE,a)};
os.MapContainer.prototype.persistCameraState=function(){if(this.is3DEnabled()){var a=this.getOLCesium().getCesiumScene().camera;goog.asserts.assert(!!a,"camera not defined");var b=a.positionCartographic,c=os.math.roundWithPrecision(goog.math.toDegrees(b.latitude),12)||0,d=os.math.roundWithPrecision(goog.math.toDegrees(b.longitude),12)||0;b=b.height;var e=this.resolutionToZoom(os.map.resolutionForDistance(this.getMap(),b),1),f=goog.math.toDegrees(a.heading),g=goog.math.toDegrees(a.roll);a=goog.math.clamp(goog.math.toDegrees(a.pitch),
-90,0)+90;return{center:[d,c],altitude:b,heading:f,roll:g,tilt:a,zoom:e}}c=this.getMap().getView();goog.asserts.assert(!!c,"view not defined");d=c.getCenter()||os.map.DEFAULT_CENTER;os.map.PROJECTION!=os.proj.EPSG4326&&(b=new ol.geom.Point(d),b.transform(os.map.PROJECTION,os.proj.EPSG4326),os.geo.normalizeGeometryCoordinates(b),d=b.getFirstCoordinate());e=c.getResolution();goog.asserts.assert(null!=e,"resolution not defined");b=this.getMap().getSize();b=os.map.distanceForResolution([b[0],b[1]],e);
e=this.resolutionToZoom(e,1);c=goog.math.toDegrees(c.getRotation()||0);return{center:d,altitude:b,heading:c,roll:0,tilt:0,zoom:e}};os.MapContainer.prototype.restoreCameraState=function(a){this.restoreCameraDelay_&&goog.dispose(this.restoreCameraDelay_);this.restoreCameraDelay_=new goog.async.ConditionalDelay(this.restoreCameraStateInternal_.bind(this,a));this.restoreCameraDelay_.start(100,5E3)};
os.MapContainer.prototype.restoreCameraStateInternal_=function(a){try{if(this.is3DEnabled()){var b=this.getOLCesium().getCesiumScene().camera;goog.asserts.assert(!!b,"camera not defined");var c=new Cesium.Cartographic(goog.math.toRadians(a.center[0]),goog.math.toRadians(a.center[1]),a.altitude);b.setView({destination:Cesium.Ellipsoid.WGS84.cartographicToCartesian(c),orientation:{heading:goog.math.toRadians(a.heading),pitch:goog.math.toRadians(a.tilt-90),roll:goog.math.toRadians(a.roll)}})}else{var d=
this.getMap().getView();goog.asserts.assert(goog.isDef(d));var e=a.zoom;if(null==e){var f=this.getViewExtent();if(ol.extent.equals(f,os.map.ZERO_EXTENT))return!1;var g=os.map.resolutionForDistance(this.getMap(),a.altitude);if(isNaN(g))return!1;e=this.resolutionToZoom(g)}var h=a.center;if(os.map.PROJECTION!=os.proj.EPSG4326){var k=new ol.geom.Point(h);k.transform(os.proj.EPSG4326,os.map.PROJECTION);h=k.getFirstCoordinate()}d.setCenter(h);d.setRotation(goog.math.toRadians(a.heading));d.setZoom(e)}}catch(l){goog.log.error(os.MapContainer.LOGGER_,
"Error restoring camera state:",l)}return!0};os.MapContainer.prototype.getAltitude=function(){var a=0;if(this.is3DEnabled()){var b=this.getCesiumCamera();if(!b)return a;a=b.getAltitude()}else{b=this.map_.getView().getResolution();if(!goog.isDefAndNotNull(b))return a;a=this.getMap().getSize();a=os.map.distanceForResolution([a[0],a[1]],b)}return a};
os.MapContainer.prototype.setCesiumEnabled=function(a,b){var c=os.map.PROJECTION.getCode();a=a&&(c===os.proj.EPSG4326||c===os.proj.EPSG3857);a!=this.is3DEnabled()&&(a&&this.is3DSupported()&&!this.olCesium_&&this.initCesium_(),this.setView_(a),a?this.rootSynchronizer_&&this.rootSynchronizer_.reset():this.resetRotation(),this.is3DEnabled()==a||b||(this.is3DSupported_=!1,os.ui.help.launchWebGLSupportDialog("3D Globe Not Supported"),os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.WEBGL_FAILED,
1)),this.dispatchEvent(os.events.EventType.MAP_MODE));setTimeout(this.saveMapMode_.bind(this),0)};os.MapContainer.julianDate_=void 0;os.MapContainer.getJulianDate=function(){os.MapContainer.julianDate_=Cesium.JulianDate.fromDate(new Date(os.time.TimelineController.getInstance().getCurrent()),os.MapContainer.julianDate_);return os.MapContainer.julianDate_};
os.MapContainer.prototype.initCesium_=function(){if(!this.olCesium_&&this.map_)try{this.olCesium_=new olcs.OLCesium({cameraClass:os.olcs.Camera,createSynchronizers:this.createCesiumSynchronizers_.bind(this),map:this.map_,time:os.MapContainer.getJulianDate});this.olCesium_.setTargetFrameRate(os.MapContainer.TARGET_FRAME_RATE_);var a=this.olCesium_.getCesiumScene();a.globe.enableLighting=!!os.settings.get(os.config.DisplaySetting.ENABLE_LIGHTING,!1);a.camera.frustum.fov=Cesium.Math.PI_OVER_FOUR;var b=
os.settings.get(["bgColor"],"#000000");a.globe.baseColor=Cesium.Color.fromCssColorString(b);Cesium.TerrainProvider.heightmapTerrainQuality=goog.userAgent.GECKO?.05:.25;a.terrainProvider=this.terrainProvider_;a.fog.enabled=os.settings.get(os.config.DisplaySetting.FOG_ENABLED,!0);a.fog.density=os.settings.get(os.config.DisplaySetting.FOG_DENSITY,os.olcs.DEFAULT_FOG_DENSITY);this.olCesium_.camera_=new os.olcs.Camera(a,this.map_);os.interaction.configureCesium(a.screenSpaceCameraController);this.olCesium_.enableAutoRenderLoop()}catch(c){goog.log.error(os.MapContainer.LOGGER_,
"Failed to create 3D view!",c),this.is3DSupported_=!1}};
os.MapContainer.prototype.setView_=function(a){if(this.olCesium_){this.rootSynchronizer_&&this.rootSynchronizer_.setActive(a);this.olCesium_.setEnabled(a);if(a){var b=this.olCesium_.getCesiumScene();b&&(this.csListeners_.push(b.camera.moveStart.addEventListener(this.onCesiumCameraMoveChange_.bind(this,!0))),this.csListeners_.push(b.camera.moveEnd.addEventListener(this.onCesiumCameraMoveChange_.bind(this,!1))));os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.MODE_3D,1)}else{b=0;for(var c=
this.csListeners_.length;b<c;b++)this.csListeners_[b]();this.csListeners_.length=0;os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.MODE_2D,1)}this.dispatchEvent(new os.events.PropertyChangeEvent(os.MapChange.VIEW3D,a))}};os.MapContainer.prototype.createCesiumSynchronizers_=function(a,b){this.rootSynchronizer_||(this.rootSynchronizer_=new os.olcs.sync.RootSynchronizer(a,b));return[this.rootSynchronizer_]};
os.MapContainer.prototype.onCesiumCameraMoveChange_=function(a){if(this.map_){var b=this.map_.getView();a&&!this.cesiumMoving_?(this.cesiumMoving_=!0,b.setHint(ol.ViewHint.INTERACTING,1)):!a&&this.cesiumMoving_&&(this.cesiumMoving_=!1,b.setHint(ol.ViewHint.INTERACTING,-1),this.rootSynchronizer_&&this.rootSynchronizer_.updateFromCamera())}};os.MapContainer.prototype.is3DEnabled=function(){return!!this.olCesium_&&this.olCesium_.getEnabled()};
os.MapContainer.prototype.is3DSupported=function(){void 0==this.is3DSupported_&&((this.is3DSupported_=os.webgl.isSupported())||os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.WEBGL_UNSUPPORTED,1));return this.is3DSupported_};os.MapContainer.prototype.getBGColor=function(){return os.settings.get(["bgColor"],"#000000")};
os.MapContainer.prototype.setBGColor=function(a){$("#map-container").css("background",a);this.olCesium_&&(this.olCesium_.getCesiumScene().globe.baseColor=Cesium.Color.fromCssColorString(a),os.dispatcher.dispatchEvent(os.olcs.RenderLoop.REPAINT))};
os.MapContainer.prototype.addLayer=function(a){if(this.map_&&a instanceof ol.layer.Layer&&os.proj.switch.checkLayer(a)){for(var b=this.map_.getLayers(),c=0,d=b.getLength();c<d;c++){var e=b.item(c);if(e instanceof os.layer.Group){var f=e.getCheckFunc();if(f&&f(a)){e.getLayers().push(a);b=new os.events.LayerEvent(os.events.LayerEventType.ADD,a);this.dispatchEvent(b);os.dispatcher.dispatchEvent(b);this.recordLayerMetric_(a,!0);a instanceof os.layer.AnimatedTile&&(b=os.ui.onboarding.OnboardingManager.getInstance())&&
e.getOSType()!=os.layer.LayerType.REF&&b.displayOnboarding(os.ROOT+"onboarding/loaddata.json");b=os.data.ZOrder.getInstance();e.getOSType()==os.layer.LayerType.FEATURES?b.moveHighestAndUpdate(a.getId()):b.update();b.save();return}}}goog.log.warning(os.MapContainer.LOGGER_,"No layer group was found to support "+a)}};
os.MapContainer.prototype.recordLayerMetric_=function(a,b){b?os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.ADD_LAYER,1):os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.REMOVE_LAYER,1);os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.LAYER_COUNT,this.map_.getLayers().getLength())};
os.MapContainer.prototype.addGroup=function(a){if(this.map_){var b=this.map_.getLayers(),c=goog.array.binarySelect(b.getArray(),function(b,c,f){return os.MapContainer.compareGroups_(a,b)});0>c&&(c=Math.abs(c+1),b.insertAt(c,a))}};
os.MapContainer.prototype.removeLayer=function(a,b){b=null!=b?b:!0;a=goog.isString(a)?this.getLayer(a):a;if(a instanceof ol.layer.Layer){var c=!0;try{c=a.isRemovable()}catch(d){}c&&(a=this.getLayer(a,null,!0))&&(c=new os.events.LayerEvent(os.events.LayerEventType.REMOVE,a),this.dispatchEvent(c),os.dispatcher.dispatchEvent(c),b&&a.dispose(),this.recordLayerMetric_(a,!1))}};
os.MapContainer.prototype.onRemoveLayerEvent_=function(a){if(a&&a.layer&&(a=this.getLayer(a.layer))){var b=os.dataManager.getDescriptor(a.getId());if(b)if(b.isActive())var c=new os.data.DeactivateDescriptor(b);else goog.log.warning(os.MapContainer.LOGGER_,'Descriptor for removed layer "'+a.getTitle()+'" is already inactive.'),this.removeLayer(a);var d;if(!c&&(d=a.getLayerOptions())&&"id"in d){c=new os.command.LayerRemove(d);try{c.title+=' "'+a.getTitle()+'"'}catch(e){}}c?d&&d.loadOnce?c.execute():
os.command.CommandProcessor.getInstance().addCommand(c):this.removeLayer(a)}};
os.MapContainer.prototype.addFeature=function(a,b,c){if(void 0!=a){os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.ADD_FEATURE,1);if(goog.isArray(a)){a instanceof Array||(a=goog.array.clone(a));var d=new ol.geom.Point(a);a=new ol.Feature;b&&b.geometry&&a.setGeometryName(b.geometry);a.setGeometry(d)}else a instanceof ol.Feature||(a=os.ol.feature.clone(a));"object"===typeof b&&(b=b instanceof Object?b:os.object.unsafeClone(b),a.set(os.style.StyleType.FEATURE,b),os.style.setFeatureStyle(a));
if(c=c?c:this.getLayer(os.MapContainer.DRAW_ID))return a.getId()||a.setId(ol.getUid(a)),a.set(os.data.RecordField.SOURCE_ID,c.getId()),c=c.getSource(),os.interpolate.interpolateFeature(a),c.addFeature(a),a}};os.MapContainer.prototype.addFeatures=function(a,b){var c=[];os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.ADD_FEATURES,1);for(var d=0,e=a.length;d<e;d++)this.addFeature(a[d],b)&&c.push(a[d]);return c};
os.MapContainer.prototype.removeFeature=function(a,b,c){goog.isDefAndNotNull(a)&&(os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.REMOVE_FEATURE,1),c=(c?c:this.getLayer(os.MapContainer.DRAW_ID)).getSource(),a=goog.isString(a)||goog.isNumber(a)?c.getFeatureById(a):c.getFeatureById(a.getId()+""),goog.isDefAndNotNull(a)&&(c.removeFeature(a),b&&a.dispose()))};
os.MapContainer.prototype.containsFeature=function(a){if(goog.isDefAndNotNull(a)){var b=this.getLayer(os.MapContainer.DRAW_ID);if(b)return b=b.getSource(),!(goog.isString(a)||goog.isNumber(a)?!b.getFeatureById(a):!b.getFeatureById(a.getId()+""))}return!1};os.MapContainer.prototype.removeFeatures=function(a,b){os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.REMOVE_FEATURES,1);for(var c=0,d=a.length;c<d;c++)this.removeFeature(a[c],b)};
os.MapContainer.prototype.getFeatures=function(a){return this.drawingLayer_?this.drawingLayer_.getSource().getFeatures():[]};os.MapContainer.prototype.getDrawingLayer=function(){return this.drawingLayer_};os.MapContainer.prototype.getLayers=function(){var a=[];if(this.map_)for(var b=this.map_.getLayers().getArray(),c=0,d=b.length;c<d;c++)os.instanceOf(b[c],ol.layer.Group.NAME)?a=a.concat(b[c].getLayers().getArray()):a.push(b[c]);a.reverse();return a};
os.MapContainer.prototype.getLayerCount=function(a){return this.getLayers().reduce(function(b,c,d,e){return c instanceof a?b+1:b},0)};
os.MapContainer.prototype.getLayer=function(a,b,c){goog.isDefAndNotNull(c)||(c=!1);!b&&this.map_&&(b=this.map_.getLayers());var d=null;if(this.map_)for(var e=0,f=b.getLength();e<f;e++){var g=b.item(e);if(g instanceof os.layer.Group)d=this.getLayer(a,g.getLayers(),c);else try{if(goog.isString(a)){if(g.getId()==a){d=g;c&&b.removeAt(e);break}}else if(a===g){d=g;c&&b.removeAt(e);break}else if(a instanceof ol.Feature){var h=g.getSource();h instanceof ol.source.Vector&&h.getFeatureById(a.getId()||"")&&
(d=g)}}catch(k){}if(d)break}return d};os.MapContainer.compareGroups_=function(a,b){return goog.array.defaultCompare(a.getPriority(),b.getPriority())};os.MapContainer.prototype.setControlFunction=function(a){this.controlFunction_=a};os.MapContainer.prototype.setInteractionFunction=function(a){this.interactionFunction_=a};os.MapContainer.prototype.zoomToResolution=function(a){var b=this.getMap().getView().getProjection();return os.map.zoomToResolution(a,b)};
os.MapContainer.prototype.resolutionToZoom=function(a,b){var c=this.getMap().getView().getProjection();a=os.map.resolutionToZoom(a,c);null!=b&&(a=Number(a.toFixed(b)));return a};os.MapContainer.replacePos_=function(a,b,c,d){(a=os.MapContainer.getInstance().getMap().getView().getCenter())&&(a=ol.proj.toLonLat(a,os.map.PROJECTION));return(-1<b.indexOf("a")?a[1]:a[0]).toString()};
os.MapContainer.replaceExtent_=function(a,b,c,d){var e=ol.proj.transformExtent(os.MapContainer.getInstance().getMap().getExtent(),os.map.PROJECTION,os.proj.EPSG4326);return os.MapContainer.replaceExtentInternal_(e,a,b,c,d)};
os.MapContainer.replaceExtentInternal_=function(a,b,c,d,e){switch(c.toLowerCase()){case "north":return Math.max(a[1],a[3]).toString();case "south":return Math.min(a[1],a[3]).toString();case "east":return Math.max(a[0],a[2]).toString();case "west":return Math.min(a[0],a[2]).toString();default:return a.join(",")}};
os.MapContainer.replaceExtentNormalized_=function(a,b,c,d){var e=os.MapContainer.getInstance().getMap().getExtent();e=ol.proj.transformExtent(e,os.map.PROJECTION,os.proj.EPSG4326);e[0]=os.geo.normalizeLongitude(e[0]);e[2]=os.geo.normalizeLongitude(e[2]);return os.MapContainer.replaceExtentInternal_(e,a,b,c,d)};os.MapContainer.defaultTerrainProvider_=void 0;
os.MapContainer.getDefaultTerrainProvider_=function(){os.MapContainer.defaultTerrainProvider_||(os.MapContainer.defaultTerrainProvider_=new Cesium.EllipsoidTerrainProvider);return os.MapContainer.defaultTerrainProvider_};
os.MapContainer.launch2DPerformanceDialog=function(){return new goog.Promise(function(a,b){os.ui.window.create({label:"Feature Limit Exceeded",icon:"fa fa-warning orange-icon",x:"center",y:"center",width:"425","min-width":"300","max-width":"600",height:"215","min-height":"215","max-height":"500",modal:"true"},"<confirm><p>Switching to 2D mode with the current data volume may degrade performance considerably or crash the browser. Click OK to switch to 2D, or Cancel to stay in 3D.</p><p>If you would like to switch to 2D mode safely, please consider narrowing your time range, applying filters, shrinking your query areas, or removing some feature layers.</p></confirm>",
void 0,void 0,void 0,{confirmCallback:a,cancelCallback:b,yesText:"OK",yesIcon:"fa fa-check lt-blue-icon",noText:"Cancel",noIcon:"fa fa-ban red-icon"})})};os.config.storage.SettingsObjectStorage=function(a,b){this.namespaces=a;this.store={};b&&this.setSettings_(b)};os.implements(os.config.storage.SettingsObjectStorage,os.config.storage.ISettingsStorage.ID);os.implements(os.config.storage.SettingsObjectStorage,os.config.storage.ISettingsReadableStorage.ID);os.implements(os.config.storage.SettingsObjectStorage,os.config.storage.ISettingsWritableStorage.ID);os.config.storage.SettingsObjectStorage.prototype.canAccess=!0;
os.config.storage.SettingsObjectStorage.prototype.name="object";os.config.storage.SettingsObjectStorage.prototype.writeType=os.config.storage.SettingsWritableStorageType.LOCAL;os.config.storage.SettingsObjectStorage.prototype.needsCleared=!1;os.config.storage.SettingsObjectStorage.prototype.canInsertDeltas=!1;
os.config.storage.SettingsObjectStorage.prototype.init=function(){try{for(var a=0,b=this.namespaces.length;a<b;a++){var c=this.namespaces[a];this.store[c]=this.store[c]||{}}return goog.async.Deferred.succeed()}catch(d){return goog.async.Deferred.fail("Failed to init settings: "+d.message)}};os.config.storage.SettingsObjectStorage.prototype.getSettings=function(){var a={};a[os.config.ConfigType.PREFERENCE]=goog.object.unsafeClone(this.store);return goog.async.Deferred.succeed(a)};
os.config.storage.SettingsObjectStorage.prototype.setSettings=function(a,b){try{return this.setSettings_(a),goog.async.Deferred.succeed()}catch(c){return goog.async.Deferred.fail("Failed to save settings: "+c.message)}};os.config.storage.SettingsObjectStorage.prototype.setSettings_=function(a){goog.array.forEach(this.namespaces,function(b){this.store[b]=a[b]||{}},this)};
os.config.storage.SettingsObjectStorage.prototype.deleteSettings=function(a){try{return delete this.store[a],goog.async.Deferred.succeed()}catch(b){return goog.async.Deferred.fail("Failed to delete settings:"+b.message)}};os.im.mapping.BearingMapping=function(){os.im.mapping.RadiusMapping.call(this);this.toField=os.Fields.BEARING;this.regex=os.im.mapping.BearingMapping.REGEX;this.unitsRegex=this.unitsField=this.units=null;this.xmlType=os.im.mapping.BearingMapping.ID};goog.inherits(os.im.mapping.BearingMapping,os.im.mapping.RadiusMapping);os.im.mapping.BearingMapping.REGEX=/(bear(i(n(g)?)?)?)|(cour(s(e)?)|head(i(n(g)?)?)?)\b/i;os.im.mapping.BearingMapping.ID="Bearing";
os.im.mapping.MappingRegistry.getInstance().registerMapping(os.im.mapping.BearingMapping.ID,os.im.mapping.BearingMapping);os.im.mapping.AbstractPositionMapping=function(){os.im.mapping.AbstractMapping.call(this);this.customFormat=void 0};goog.inherits(os.im.mapping.AbstractPositionMapping,os.im.mapping.AbstractMapping);os.im.mapping.AbstractPositionMapping.prototype.clone=function(){var a=os.im.mapping.AbstractPositionMapping.superClass_.clone.call(this);a.customFormat=this.customFormat;return a};
os.im.mapping.AbstractPositionMapping.prototype.persist=function(a){a=os.im.mapping.AbstractPositionMapping.superClass_.persist.call(this,a);a.customFormat=this.customFormat;return a};os.im.mapping.AbstractPositionMapping.prototype.restore=function(a){os.im.mapping.AbstractPositionMapping.superClass_.restore.call(this,a);this.customFormat=a.customFormat};
os.im.mapping.AbstractPositionMapping.prototype.toXml=function(){var a=os.im.mapping.AbstractPositionMapping.superClass_.toXml.call(this);os.xml.appendElement("customFormat",a,os.im.mapping.localFieldToXmlField(this.customFormat||null));return a};os.im.mapping.AbstractPositionMapping.prototype.fromXml=function(a){os.im.mapping.AbstractPositionMapping.superClass_.fromXml.call(this,a);this.customFormat=(a=os.im.mapping.xmlFieldToLocalField(this.getXmlValue(a,"customFormat")))?a:void 0};
os.im.mapping.AbstractPositionMapping.prototype.testAndGetField=function(a,b){return this.testField(a)?a:null};os.im.mapping.LatMapping=function(){os.im.mapping.AbstractPositionMapping.call(this);this.xmlType=os.im.mapping.LatMapping.ID;this.coordField=os.Fields.LAT;this.type=os.im.mapping.LatMapping.ID;this.regex=os.im.mapping.LatMapping.LAT_REGEX};goog.inherits(os.im.mapping.LatMapping,os.im.mapping.AbstractPositionMapping);os.im.mapping.LatMapping.ID="Latitude";os.im.mapping.MappingRegistry.getInstance().registerMapping(os.im.mapping.LatMapping.ID,os.im.mapping.LatMapping);
os.im.mapping.LatMapping.LAT_REGEX=/(\b|_)lat(i(t(u(d(e)?)?)?)?)?(\b|_)/i;os.im.mapping.LatMapping.prototype.getId=function(){return this.type};os.im.mapping.LatMapping.prototype.getFieldsChanged=function(){return[this.field,this.coordField]};os.im.mapping.LatMapping.prototype.getLabel=function(){return this.type};os.im.mapping.LatMapping.prototype.getScore=function(){return this.type&&this.field?0==this.type.toLowerCase().indexOf(this.field.toLowerCase())?11:10:os.im.mapping.LatMapping.superClass_.getScore.call(this)};
os.im.mapping.LatMapping.prototype.getScoreType=function(){return"geom"};os.im.mapping.LatMapping.prototype.execute=function(a){if(this.field){var b=os.im.mapping.getItemField(a,this.field);null!=b&&(b=String(b).replace(os.geo.COORD_CLEANER,""),b=os.geo.parseLat(b,this.customFormat),isNaN(b)||(os.im.mapping.setItemField(a,this.coordField,b),this.addGeometry(a)))}};os.im.mapping.LatMapping.prototype.testField=function(a){return a?(a=os.geo.parseLat(String(a)),goog.isDefAndNotNull(a)&&!isNaN(a)):!1};
os.im.mapping.LatMapping.prototype.testAndGetField=function(a,b){return a&&(a=os.geo.parseLat(String(a),b),goog.isDefAndNotNull(a)&&!isNaN(a))?a.toString():null};os.im.mapping.LatMapping.prototype.addGeometry=function(a){if(!a.getGeometry()){var b=a.get(os.Fields.LAT),c=a.get(os.Fields.LON);goog.isDef(b)&&!isNaN(b)&&goog.isNumber(b)&&goog.isDef(c)&&!isNaN(c)&&goog.isNumber(c)&&(b=new ol.geom.Point([c,b]),a.suppressEvents(),a.setGeometry(b.osTransform()),a.enableEvents())}};
os.im.mapping.LatMapping.prototype.autoDetect=function(a){var b=null;if(a)for(var c=a.length,d=void 0;c--;){var e=a[c];if(e.getGeometry())return null;if(d=os.im.mapping.getBestFieldMatch(e,this.regex,d))b=new this.constructor,b.field=d}return b};os.im.mapping.LonMapping=function(){os.im.mapping.LatMapping.call(this);this.coordField=os.Fields.LON;this.type=os.im.mapping.LonMapping.ID;this.regex=os.im.mapping.LonMapping.LON_REGEX;this.xmlType=os.im.mapping.LonMapping.ID};goog.inherits(os.im.mapping.LonMapping,os.im.mapping.LatMapping);os.im.mapping.LonMapping.ID="Longitude";os.im.mapping.MappingRegistry.getInstance().registerMapping(os.im.mapping.LonMapping.ID,os.im.mapping.LonMapping);os.im.mapping.LonMapping.LON_REGEX=/(\b|_)lon(g(i(t(u(d(e)?)?)?)?)?)?(\b|_)/i;
os.im.mapping.LonMapping.prototype.execute=function(a){if(this.field){var b=os.im.mapping.getItemField(a,this.field);null!=b&&(b=String(b).replace(os.geo.COORD_CLEANER,""),b=os.geo.parseLon(b,this.customFormat),isNaN(b)||(os.im.mapping.setItemField(a,this.coordField,b),this.addGeometry(a)))}};os.im.mapping.LonMapping.prototype.testField=function(a){return a?(a=os.geo.parseLon(String(a)),goog.isDefAndNotNull(a)&&!isNaN(a)):!1};
os.im.mapping.LonMapping.prototype.testAndGetField=function(a,b){return a&&(a=os.geo.parseLon(String(a),b),goog.isDefAndNotNull(a)&&!isNaN(a))?a.toString():null};os.im.mapping.OrientationMapping=function(){os.im.mapping.RadiusMapping.call(this);this.toField=os.Fields.ORIENTATION;this.regex=os.im.mapping.OrientationMapping.REGEX;this.unitsRegex=this.unitsField=this.units=null;this.xmlType=os.im.mapping.OrientationMapping.ID};goog.inherits(os.im.mapping.OrientationMapping,os.im.mapping.RadiusMapping);os.im.mapping.OrientationMapping.ID="Orientation";os.im.mapping.MappingRegistry.getInstance().registerMapping(os.im.mapping.OrientationMapping.ID,os.im.mapping.OrientationMapping);
os.im.mapping.OrientationMapping.REGEX=/(tilt|strike|orient(a(t(i(o(n)?)?)?)?)?)/i;os.im.mapping.location={};os.im.mapping.location.BaseLatLonMapping=function(a){os.im.mapping.AbstractPositionMapping.call(this);this.order_=goog.isDef(a)?a:os.geo.PREFER_LAT_FIRST};goog.inherits(os.im.mapping.location.BaseLatLonMapping,os.im.mapping.AbstractPositionMapping);
os.im.mapping.location.BaseLatLonMapping.prototype.execute=function(a,b){if(this.field&&(b=os.im.mapping.getItemField(a,this.field)||"",b=goog.string.trim(b.replace(os.geo.COORD_CLEANER,"")))){var c=this.parseLatLon(b,this.customFormat);if(c)a[this.field]=[c.lon,c.lat];else throw Error('Could not parse coordinate from "'+b+'"!');}};os.im.mapping.location.BaseLatLonMapping.prototype.getOrder=function(){return this.order_};
os.im.mapping.location.BaseLatLonMapping.prototype.setOrder=function(a){this.order_=a};os.im.mapping.location.BaseLatLonMapping.prototype.testField=function(a){return a?(a=this.parseLatLon(String(a)),goog.isDefAndNotNull(a)):!1};os.im.mapping.location.BaseLatLonMapping.prototype.testAndGetField=function(a,b){return a&&(a=this.parseLatLon(String(a),b),goog.isDefAndNotNull(a))?a.lat.toString()+" "+a.lon.toString():null};
os.im.mapping.location.BaseLatLonMapping.prototype.parseLatLon=function(a,b){return os.geo.parseLatLon(a,this.order_,b)};os.im.mapping.LatLonMapping=function(a){os.im.mapping.location.BaseLatLonMapping.call(this)};goog.inherits(os.im.mapping.LatLonMapping,os.im.mapping.location.BaseLatLonMapping);os.im.mapping.LatLonMapping.ID="LatLon";os.im.mapping.MappingRegistry.getInstance().registerMapping(os.im.mapping.LatLonMapping.ID,os.im.mapping.LatLonMapping);
os.im.mapping.LatLonMapping.prototype.execute=function(a){if(this.field){var b=os.im.mapping.getItemField(a,this.field)||"";if(b=goog.string.trim(b.replace(os.geo.COORD_CLEANER,""))){var c=this.parseLatLon(b,this.customFormat);if(c)b=(new ol.geom.Point([c.lon,c.lat])).osTransform(),a.suppressEvents(),a.setGeometry(b),a.enableEvents();else throw Error('Could not parse coordinate from "'+b+'"!');}}};os.im.mapping.location.BaseMGRSMapping=function(){os.im.mapping.AbstractPositionMapping.call(this)};goog.inherits(os.im.mapping.location.BaseMGRSMapping,os.im.mapping.AbstractPositionMapping);
os.im.mapping.location.BaseMGRSMapping.prototype.execute=function(a,b){if(this.field&&(b=os.im.mapping.getItemField(a,this.field)))if(b=b.replace(/\s/g,""),b=b.toUpperCase(),b.match(os.geo.MGRS_REGEXP))b=osasm.toLonLat(b),a[this.field]=b;else throw Error('"'+b+'" does not appear to be a valid MGRS coordinate!');};os.im.mapping.location.BaseMGRSMapping.prototype.testField=function(a){return a?(a=a.replace(/\s/g,""),a=a.toUpperCase(),null!=a.match(os.geo.MGRS_REGEXP)):!1};os.im.mapping.MGRSMapping=function(){os.im.mapping.location.BaseMGRSMapping.call(this)};goog.inherits(os.im.mapping.MGRSMapping,os.im.mapping.location.BaseMGRSMapping);os.im.mapping.MGRSMapping.ID="MGRSMapping";os.im.mapping.MappingRegistry.getInstance().registerMapping(os.im.mapping.MGRSMapping.ID,os.im.mapping.MGRSMapping);
os.im.mapping.MGRSMapping.prototype.execute=function(a){if(this.field){var b=os.im.mapping.getItemField(a,this.field);if(b)if(b=b.replace(/\s/g,""),b=b.toUpperCase(),b.match(os.geo.MGRS_REGEXP))b=osasm.toLonLat(b),b=new ol.geom.Point(b),a.suppressEvents(),a.setGeometry(b.osTransform()),a.enableEvents();else throw Error('"'+b+'" does not appear to be a valid MGRS coordinate!');}};os.im.mapping.location.BasePositionMapping=function(){os.im.mapping.AbstractPositionMapping.call(this);this.types=os.im.mapping.location.BasePositionMapping.TYPES;this.type="Lat/Lon"};goog.inherits(os.im.mapping.location.BasePositionMapping,os.im.mapping.AbstractPositionMapping);os.im.mapping.location.BasePositionMapping.POS_REGEX=/(pos(i(t(i(o(n)?)?)?)?)?|mgrs|coord(i(n(a(t(e(s)?)?)?)?)?)?|geo(m(e(t(r(y)?)?)?)?)?|loc(a(t(i(o(n)?)?)?)?)?)/i;os.im.mapping.location.BasePositionMapping.ID="Position";
os.im.mapping.location.BasePositionMapping.TYPES={};os.im.mapping.location.BasePositionMapping.prototype.getId=function(){return os.im.mapping.location.BasePositionMapping.ID};os.im.mapping.location.BasePositionMapping.prototype.getType=function(){return this.type};os.im.mapping.location.BasePositionMapping.prototype.setType=function(a){this.type=a&&a in this.types?a:null};os.im.mapping.location.BasePositionMapping.prototype.getFieldsChanged=function(){return[this.field]};
os.im.mapping.location.BasePositionMapping.prototype.getLabel=function(){return this.type};os.im.mapping.location.BasePositionMapping.prototype.getScore=function(){return"MGRS"==this.type?1:2};os.im.mapping.location.BasePositionMapping.prototype.getScoreType=function(){return"geom"};os.im.mapping.location.BasePositionMapping.prototype.execute=function(a){this.type&&(this.types[this.type].field=this.field,this.types[this.type].customFormat=this.customFormat,this.types[this.type].execute(a))};
os.im.mapping.location.BasePositionMapping.prototype.testField=function(a){return this.type?this.types[this.type].testField(a):!1};os.im.mapping.location.BasePositionMapping.prototype.testAndGetField=function(a,b){return this.type?this.types[this.type].testAndGetField(a,b):null};
os.im.mapping.location.BasePositionMapping.prototype.autoDetect=function(a){if(a)for(var b=a.length;b--;){var c=a[b],d;for(d in c)if(d.match(os.im.mapping.location.BasePositionMapping.POS_REGEX))for(var e in this.types)if(this.types[e].testField(String(c[d])))return a=new os.im.mapping.location.BasePositionMapping,a.field=d,a.setType(e),a}return null};
os.im.mapping.location.BasePositionMapping.prototype.clone=function(){var a=os.im.mapping.location.BasePositionMapping.superClass_.clone.call(this);a.setType(this.type);return a};os.im.mapping.location.BasePositionMapping.prototype.persist=function(a){a=os.im.mapping.location.BasePositionMapping.superClass_.persist.call(this,a);a.type=this.getType();return a};
os.im.mapping.location.BasePositionMapping.prototype.restore=function(a){os.im.mapping.location.BasePositionMapping.superClass_.restore.call(this,a);this.setType(a.type)};os.im.mapping.location.BasePositionMapping.prototype.toXml=function(){var a=os.im.mapping.location.BasePositionMapping.superClass_.toXml.call(this);os.xml.appendElement("subType",a,this.getType());return a};
os.im.mapping.location.BasePositionMapping.prototype.fromXml=function(a){os.im.mapping.location.BasePositionMapping.superClass_.fromXml.call(this,a);this.setType(this.getXmlValue(a,"subType"))};os.im.mapping.PositionMapping=function(){os.im.mapping.location.BasePositionMapping.call(this);this.xmlType=os.im.mapping.PositionMapping.ID;this.types=os.im.mapping.PositionMapping.TYPES;this.type="Lat/Lon"};goog.inherits(os.im.mapping.PositionMapping,os.im.mapping.location.BasePositionMapping);os.im.mapping.PositionMapping.ID="Position";os.im.mapping.MappingRegistry.getInstance().registerMapping(os.im.mapping.PositionMapping.ID,os.im.mapping.PositionMapping);
os.im.mapping.PositionMapping.TYPES={"Lat/Lon":new os.im.mapping.LatLonMapping(os.geo.PREFER_LAT_FIRST),"Lon/Lat":new os.im.mapping.LatLonMapping(os.geo.PREFER_LON_FIRST),MGRS:new os.im.mapping.MGRSMapping};os.im.mapping.PositionMapping.prototype.getFieldsChanged=function(){return[this.field,os.Fields.LAT,os.Fields.LON]};
os.im.mapping.PositionMapping.prototype.autoDetect=function(a){if(a)for(var b=a.length;b--;){var c=a[b];if(c.getGeometry())break;c=c.getProperties();for(var d in c)if(d.match(os.im.mapping.location.BasePositionMapping.POS_REGEX))for(var e in this.types)if(this.types[e].testField(String(c[d])))return a=new os.im.mapping.PositionMapping,a.field=d,a.setType(e),a}return null};ol.format.TextFeature=function(){ol.format.Feature.call(this)};ol.inherits(ol.format.TextFeature,ol.format.Feature);ol.format.TextFeature.prototype.getText_=function(a){return"string"===typeof a?a:""};ol.format.TextFeature.prototype.getType=function(){return ol.format.FormatType.TEXT};ol.format.TextFeature.prototype.readFeature=function(a,b){return this.readFeatureFromText(this.getText_(a),this.adaptOptions(b))};ol.format.TextFeature.prototype.readFeatureFromText=function(a,b){};
ol.format.TextFeature.prototype.readFeatures=function(a,b){return this.readFeaturesFromText(this.getText_(a),this.adaptOptions(b))};ol.format.TextFeature.prototype.readFeaturesFromText=function(a,b){};ol.format.TextFeature.prototype.readGeometry=function(a,b){return this.readGeometryFromText(this.getText_(a),this.adaptOptions(b))};ol.format.TextFeature.prototype.readGeometryFromText=function(a,b){};ol.format.TextFeature.prototype.readProjection=function(a){return this.readProjectionFromText(this.getText_(a))};
ol.format.TextFeature.prototype.readProjectionFromText=function(a){return this.defaultDataProjection};ol.format.TextFeature.prototype.writeFeature=function(a,b){return this.writeFeatureText(a,this.adaptOptions(b))};ol.format.TextFeature.prototype.writeFeatureText=function(a,b){};ol.format.TextFeature.prototype.writeFeatures=function(a,b){return this.writeFeaturesText(a,this.adaptOptions(b))};ol.format.TextFeature.prototype.writeFeaturesText=function(a,b){};
ol.format.TextFeature.prototype.writeGeometry=function(a,b){return this.writeGeometryText(a,this.adaptOptions(b))};ol.format.TextFeature.prototype.writeGeometryText=function(a,b){};ol.format.WKT=function(a){a=a?a:{};ol.format.TextFeature.call(this);this.splitCollection_=void 0!==a.splitCollection?a.splitCollection:!1};ol.inherits(ol.format.WKT,ol.format.TextFeature);ol.format.WKT.EMPTY="EMPTY";ol.format.WKT.Z="Z";ol.format.WKT.M="M";ol.format.WKT.ZM="ZM";ol.format.WKT.encodePointGeometry_=function(a){a=a.getCoordinates();return 0===a.length?"":a.join(" ")};
ol.format.WKT.encodeMultiPointGeometry_=function(a){var b=[];a=a.getPoints();for(var c=0,d=a.length;c<d;++c)b.push("("+ol.format.WKT.encodePointGeometry_(a[c])+")");return b.join(",")};ol.format.WKT.encodeGeometryCollectionGeometry_=function(a){var b=[];a=a.getGeometries();for(var c=0,d=a.length;c<d;++c)b.push(ol.format.WKT.encode_(a[c]));return b.join(",")};ol.format.WKT.encodeLineStringGeometry_=function(a){a=a.getCoordinates();for(var b=[],c=0,d=a.length;c<d;++c)b.push(a[c].join(" "));return b.join(",")};
ol.format.WKT.encodeMultiLineStringGeometry_=function(a){var b=[];a=a.getLineStrings();for(var c=0,d=a.length;c<d;++c)b.push("("+ol.format.WKT.encodeLineStringGeometry_(a[c])+")");return b.join(",")};ol.format.WKT.encodePolygonGeometry_=function(a){var b=[];a=a.getLinearRings();for(var c=0,d=a.length;c<d;++c)b.push("("+ol.format.WKT.encodeLineStringGeometry_(a[c])+")");return b.join(",")};
ol.format.WKT.encodeMultiPolygonGeometry_=function(a){var b=[];a=a.getPolygons();for(var c=0,d=a.length;c<d;++c)b.push("("+ol.format.WKT.encodePolygonGeometry_(a[c])+")");return b.join(",")};ol.format.WKT.encodeGeometryLayout_=function(a){a=a.getLayout();var b="";if(a===ol.geom.GeometryLayout.XYZ||a===ol.geom.GeometryLayout.XYZM)b+=ol.format.WKT.Z;if(a===ol.geom.GeometryLayout.XYM||a===ol.geom.GeometryLayout.XYZM)b+=ol.format.WKT.M;return b};
ol.format.WKT.encode_=function(a){var b=a.getType(),c=(0,ol.format.WKT.GeometryEncoder_[b])(a);b=b.toUpperCase();a instanceof ol.geom.SimpleGeometry&&(a=ol.format.WKT.encodeGeometryLayout_(a),0<a.length&&(b+=" "+a));return 0===c.length?b+" "+ol.format.WKT.EMPTY:b+"("+c+")"};
ol.format.WKT.GeometryEncoder_={Point:ol.format.WKT.encodePointGeometry_,LineString:ol.format.WKT.encodeLineStringGeometry_,Polygon:ol.format.WKT.encodePolygonGeometry_,MultiPoint:ol.format.WKT.encodeMultiPointGeometry_,MultiLineString:ol.format.WKT.encodeMultiLineStringGeometry_,MultiPolygon:ol.format.WKT.encodeMultiPolygonGeometry_,GeometryCollection:ol.format.WKT.encodeGeometryCollectionGeometry_};ol.format.WKT.prototype.parse_=function(a){a=new ol.format.WKT.Lexer(a);return(new ol.format.WKT.Parser(a)).parse()};
ol.format.WKT.prototype.readFeatureFromText=function(a,b){return(a=this.readGeometryFromText(a,b))?(b=new ol.Feature,b.setGeometry(a),b):null};ol.format.WKT.prototype.readFeaturesFromText=function(a,b){a=this.readGeometryFromText(a,b);a=this.splitCollection_&&a.getType()==ol.geom.GeometryType.GEOMETRY_COLLECTION?a.getGeometriesArray():[a];for(var c=[],d=0,e=a.length;d<e;++d)b=new ol.Feature,b.setGeometry(a[d]),c.push(b);return c};
ol.format.WKT.prototype.readGeometryFromText=function(a,b){return(a=this.parse_(a))?ol.format.Feature.transformWithOptions(a,!1,b):null};ol.format.WKT.prototype.writeFeatureText=function(a,b){return(a=a.getGeometry())?this.writeGeometryText(a,b):""};ol.format.WKT.prototype.writeFeaturesText=function(a,b){if(1==a.length)return this.writeFeatureText(a[0],b);for(var c=[],d=0,e=a.length;d<e;++d)c.push(a[d].getGeometry());a=new ol.geom.GeometryCollection(c);return this.writeGeometryText(a,b)};
ol.format.WKT.prototype.writeGeometryText=function(a,b){return ol.format.WKT.encode_(ol.format.Feature.transformWithOptions(a,!0,b))};ol.format.WKT.TokenType_={TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6};ol.format.WKT.Lexer=function(a){this.wkt=a;this.index_=-1};ol.format.WKT.Lexer.prototype.isAlpha_=function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a};ol.format.WKT.Lexer.prototype.isNumeric_=function(a,b){return"0"<=a&&"9">=a||"."==a&&!(void 0!==b&&b)};
ol.format.WKT.Lexer.prototype.isWhiteSpace_=function(a){return" "==a||"\t"==a||"\r"==a||"\n"==a};ol.format.WKT.Lexer.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)};
ol.format.WKT.Lexer.prototype.nextToken=function(){var a=this.nextChar_(),b={position:this.index_,value:a};if("("==a)b.type=ol.format.WKT.TokenType_.LEFT_PAREN;else if(","==a)b.type=ol.format.WKT.TokenType_.COMMA;else if(")"==a)b.type=ol.format.WKT.TokenType_.RIGHT_PAREN;else if(this.isNumeric_(a)||"-"==a)b.type=ol.format.WKT.TokenType_.NUMBER,b.value=this.readNumber_();else if(this.isAlpha_(a))b.type=ol.format.WKT.TokenType_.TEXT,b.value=this.readText_();else{if(this.isWhiteSpace_(a))return this.nextToken();
if(""===a)b.type=ol.format.WKT.TokenType_.EOF;else throw Error("Unexpected character: "+a);}return b};ol.format.WKT.Lexer.prototype.readNumber_=function(){var a=this.index_,b=!1,c=!1;do{if("."==d)b=!0;else if("e"==d||"E"==d)c=!0;var d=this.nextChar_()}while(this.isNumeric_(d,b)||!c&&("e"==d||"E"==d)||c&&("-"==d||"+"==d));return parseFloat(this.wkt.substring(a,this.index_--))};
ol.format.WKT.Lexer.prototype.readText_=function(){var a=this.index_;do var b=this.nextChar_();while(this.isAlpha_(b));return this.wkt.substring(a,this.index_--).toUpperCase()};ol.format.WKT.Parser=function(a){this.lexer_=a;this.layout_=ol.geom.GeometryLayout.XY};ol.format.WKT.Parser.prototype.consume_=function(){this.token_=this.lexer_.nextToken()};ol.format.WKT.Parser.prototype.isTokenType=function(a){return this.token_.type==a};
ol.format.WKT.Parser.prototype.match=function(a){(a=this.isTokenType(a))&&this.consume_();return a};ol.format.WKT.Parser.prototype.parse=function(){this.consume_();return this.parseGeometry_()};
ol.format.WKT.Parser.prototype.parseGeometryLayout_=function(){var a=ol.geom.GeometryLayout.XY,b=this.token_;this.isTokenType(ol.format.WKT.TokenType_.TEXT)&&(b=b.value,b===ol.format.WKT.Z?a=ol.geom.GeometryLayout.XYZ:b===ol.format.WKT.M?a=ol.geom.GeometryLayout.XYM:b===ol.format.WKT.ZM&&(a=ol.geom.GeometryLayout.XYZM),a!==ol.geom.GeometryLayout.XY&&this.consume_());return a};
ol.format.WKT.Parser.prototype.parseGeometry_=function(){var a=this.token_;if(this.match(ol.format.WKT.TokenType_.TEXT)){var b=a.value;this.layout_=this.parseGeometryLayout_();if(b==ol.geom.GeometryType.GEOMETRY_COLLECTION.toUpperCase())return a=this.parseGeometryCollectionText_(),new ol.geom.GeometryCollection(a);var c=ol.format.WKT.Parser.GeometryParser_[b];a=ol.format.WKT.Parser.GeometryConstructor_[b];if(!c||!a)throw Error("Invalid geometry type: "+b);b=c.call(this);return new a(b,this.layout_)}throw Error(this.formatErrorMessage_());
};ol.format.WKT.Parser.prototype.parseGeometryCollectionText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=[];do a.push(this.parseGeometry_());while(this.match(ol.format.WKT.TokenType_.COMMA));if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return a}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};
ol.format.WKT.Parser.prototype.parsePointText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=this.parsePoint_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return a}else if(this.isEmptyGeometry_())return null;throw Error(this.formatErrorMessage_());};
ol.format.WKT.Parser.prototype.parseLineStringText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=this.parsePointList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return a}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};
ol.format.WKT.Parser.prototype.parsePolygonText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return a}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};
ol.format.WKT.Parser.prototype.parseMultiPointText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=this.token_.type==ol.format.WKT.TokenType_.LEFT_PAREN?this.parsePointTextList_():this.parsePointList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return a}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};
ol.format.WKT.Parser.prototype.parseMultiLineStringText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return a}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};
ol.format.WKT.Parser.prototype.parseMultiPolygonText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=this.parsePolygonTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return a}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};
ol.format.WKT.Parser.prototype.parsePoint_=function(){for(var a=[],b=this.layout_.length,c=0;c<b;++c){var d=this.token_;if(this.match(ol.format.WKT.TokenType_.NUMBER))a.push(d.value);else break}if(a.length==b)return a;throw Error(this.formatErrorMessage_());};ol.format.WKT.Parser.prototype.parsePointList_=function(){for(var a=[this.parsePoint_()];this.match(ol.format.WKT.TokenType_.COMMA);)a.push(this.parsePoint_());return a};
ol.format.WKT.Parser.prototype.parsePointTextList_=function(){for(var a=[this.parsePointText_()];this.match(ol.format.WKT.TokenType_.COMMA);)a.push(this.parsePointText_());return a};ol.format.WKT.Parser.prototype.parseLineStringTextList_=function(){for(var a=[this.parseLineStringText_()];this.match(ol.format.WKT.TokenType_.COMMA);)a.push(this.parseLineStringText_());return a};
ol.format.WKT.Parser.prototype.parsePolygonTextList_=function(){for(var a=[this.parsePolygonText_()];this.match(ol.format.WKT.TokenType_.COMMA);)a.push(this.parsePolygonText_());return a};ol.format.WKT.Parser.prototype.isEmptyGeometry_=function(){var a=this.isTokenType(ol.format.WKT.TokenType_.TEXT)&&this.token_.value==ol.format.WKT.EMPTY;a&&this.consume_();return a};
ol.format.WKT.Parser.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"};ol.format.WKT.Parser.GeometryConstructor_={POINT:ol.geom.Point,LINESTRING:ol.geom.LineString,POLYGON:ol.geom.Polygon,MULTIPOINT:ol.geom.MultiPoint,MULTILINESTRING:ol.geom.MultiLineString,MULTIPOLYGON:ol.geom.MultiPolygon};
ol.format.WKT.Parser.GeometryParser_={POINT:ol.format.WKT.Parser.prototype.parsePointText_,LINESTRING:ol.format.WKT.Parser.prototype.parseLineStringText_,POLYGON:ol.format.WKT.Parser.prototype.parsePolygonText_,MULTIPOINT:ol.format.WKT.Parser.prototype.parseMultiPointText_,MULTILINESTRING:ol.format.WKT.Parser.prototype.parseMultiLineStringText_,MULTIPOLYGON:ol.format.WKT.Parser.prototype.parseMultiPolygonText_};os.ol.wkt={};os.ol.wkt.FORMAT=new ol.format.WKT;os.im.mapping.WKTMapping=function(){os.im.mapping.AbstractPositionMapping.call(this);this.xmlType=os.im.mapping.WKTMapping.ID};goog.inherits(os.im.mapping.WKTMapping,os.im.mapping.AbstractPositionMapping);os.im.mapping.WKTMapping.ID="WKTGeometry";os.im.mapping.MappingRegistry.getInstance().registerMapping(os.im.mapping.WKTMapping.ID,os.im.mapping.WKTMapping);os.im.mapping.WKTMapping.LOGGER_=goog.log.getLogger("os.im.mapping.WKTMapping");os.im.mapping.WKTMapping.WKT_REGEX=/^\s*(POINT|LINESTRING|LINEARRING|POLYGON|MULTIPOINT|MULTILINESTRING|MULTIPOLYGON|GEOMETRYCOLLECTION)\s*[(]/i;
os.im.mapping.WKTMapping.CENTER_REGEXP=/(center|centroid)/i;os.im.mapping.WKTMapping.prototype.getId=function(){return os.im.mapping.WKTMapping.ID};os.im.mapping.WKTMapping.prototype.getFieldsChanged=function(){return[this.field]};os.im.mapping.WKTMapping.prototype.getLabel=function(){return os.im.mapping.WKTMapping.ID};os.im.mapping.WKTMapping.prototype.getScore=function(){return 20};os.im.mapping.WKTMapping.prototype.getScoreType=function(){return"geom"};
os.im.mapping.WKTMapping.prototype.execute=function(a){if(this.field){var b=os.im.mapping.getItemField(a,this.field);b&&(b=os.ol.wkt.FORMAT.readGeometry(String(b)))&&(a.suppressEvents(),a.set(this.field,void 0),a.setGeometry(b.osTransform()),a.enableEvents())}};
os.im.mapping.WKTMapping.prototype.autoDetect=function(a){if(a)for(var b=a.length;b--;){var c=a[b];if(c.getGeometry())break;var d=c.getProperties(),e=[],f;for(f in d)(d=c.get(f))&&os.im.mapping.WKTMapping.WKT_REGEX.test(String(d))&&(d=new os.im.mapping.WKTMapping,d.field=f,e.push(d));if(0<e.length){a=e[0];for(b=0;b<e.length;b++)os.im.mapping.WKTMapping.CENTER_REGEXP.test(e[b].field)||(a=e[b]);return a}}return null};
os.im.mapping.WKTMapping.prototype.testField=function(a){var b=null;try{b=os.ol.wkt.FORMAT.readGeometry(String(a))}catch(c){goog.log.error(os.im.mapping.WKTMapping.LOGGER_,"failed restoring descriptors from settings",c)}return goog.isDefAndNotNull(b)};os.im.mapping.time={};os.im.mapping.time.DateTimeMapping=function(a,b){os.im.mapping.AbstractMapping.call(this);this.xmlType=os.im.mapping.time.DateTimeMapping.ID;this.applyTime_=!0;this.id_=b||os.im.mapping.time.DateTimeMapping.ID;this.format=os.time.DATETIME_FORMATS[0];this.formats=os.time.DATETIME_FORMATS;this.customFormats=os.time.CUSTOM_DATETIME_FORMATS;this.regexes=os.time.DATETIME_REGEXES;this.type=a};goog.inherits(os.im.mapping.time.DateTimeMapping,os.im.mapping.AbstractMapping);
os.im.mapping.time.DateTimeMapping.ID="DateTime";os.im.mapping.MappingRegistry.getInstance().registerMapping(os.im.mapping.time.DateTimeMapping.ID,os.im.mapping.time.DateTimeMapping);os.im.mapping.time.DateTimeMapping.prototype.getId=function(){return this.type==os.im.mapping.TimeType.START?"Start "+this.id_:this.type==os.im.mapping.TimeType.END?"End "+this.id_:this.id_};os.im.mapping.time.DateTimeMapping.prototype.getScore=function(){return 20};
os.im.mapping.time.DateTimeMapping.prototype.getScoreType=function(){return"time"};os.im.mapping.time.DateTimeMapping.prototype.getLabel=function(){return this.getId()||null};os.im.mapping.time.DateTimeMapping.prototype.getFieldsChanged=function(){return this.getApplyTime()?["recordTime"]:os.im.mapping.time.DateTimeMapping.superClass_.getFieldsChanged.call(this)};os.im.mapping.time.DateTimeMapping.TIMEZONE_REGEX=/(Z|UTC|[+-]\d\d+:?\d\d)$/;
os.im.mapping.time.DateTimeMapping.prototype.execute=function(a){if(this.field&&this.format){var b=os.im.mapping.getItemField(a,this.field);b=this.getTimestamp(b);if(this.applyTime_){var c=os.im.mapping.getItemField(a,"recordTime")||null;os.im.mapping.setItemField(a,"recordTime",this.getTime(b,c))}else b&&this.updateItem(b,a)}};
os.im.mapping.time.DateTimeMapping.prototype.getTimestamp=function(a){var b=null;if(null!=a&&(goog.isNumber(a)||""!=a))if(this.format==os.im.mapping.TimeFormat.TIMESTAMP)try{b=parseFloat(a)}catch(c){}else this.format===os.im.mapping.TimeFormat.ISO?(os.im.mapping.time.DateTimeMapping.TIMEZONE_REGEX.test(a)||(a+="Z"),b=moment(String(a)).valueOf()):b=os.time.parseMoment(String(a),this.format,!0).valueOf();isNaN(b)&&(b=null);return b};
os.im.mapping.time.DateTimeMapping.prototype.autoDetect=function(a){if(a)for(var b=a.length,c=void 0;b--;){var d=os.im.mapping.getItemField(a[b],"recordTime");if(os.implements(d,os.time.ITime.ID))break;if(c=os.im.mapping.getBestFieldMatch(a[b],this.getRegex(),c))if(d=os.im.mapping.getItemField(a[b],c)){var e=this.formats.concat(this.customFormats);if(d=os.time.detectFormat(String(d),e,!0,!0))return a=this.clone(),a.field=c,a.setFormat(d),a}}return null};
os.im.mapping.time.DateTimeMapping.prototype.getApplyTime=function(){return this.applyTime_};os.im.mapping.time.DateTimeMapping.prototype.setApplyTime=function(a){this.applyTime_=a};os.im.mapping.time.DateTimeMapping.prototype.getFormat=function(){return this.format};os.im.mapping.time.DateTimeMapping.prototype.setFormat=function(a){this.format=a};os.im.mapping.time.DateTimeMapping.prototype.getType=function(){return this.type};
os.im.mapping.time.DateTimeMapping.prototype.setType=function(a){this.type=a};os.im.mapping.time.DateTimeMapping.prototype.getRegex=function(){return this.regexes[this.type]||os.time.TIME_REGEXES[os.im.mapping.TimeType.INSTANT]};os.im.mapping.time.DateTimeMapping.prototype.updateItem=function(a,b){this.field&&os.im.mapping.setItemField(b,this.field,(new Date(a)).toISOString())};
os.im.mapping.time.DateTimeMapping.prototype.getNewTime=function(a){return this.type==os.im.mapping.TimeType.START?new os.time.TimeRange(a,a):this.type==os.im.mapping.TimeType.END?new os.time.TimeRange(void 0,a):new os.time.TimeInstant(a)};os.im.mapping.time.DateTimeMapping.prototype.updateTime=function(a,b){return new Date(b)};
os.im.mapping.time.DateTimeMapping.prototype.getTime=function(a,b){if(null==a)return os.implements(b,os.time.ITime.ID)?b:null;"object"==typeof b&&os.implements(b,os.time.ITime.ID)?this.type==os.im.mapping.TimeType.END?(b instanceof os.time.TimeRange||(b=new os.time.TimeRange(b)),b.getEnd()?b.setEnd(this.updateTime(b.getEnd(),a)):b.setEnd(a)):b.getStart()?b.setStart(this.updateTime(b.getStart(),a)):b.setStart(a):b=this.getNewTime(a);return b};
os.im.mapping.time.DateTimeMapping.prototype.clone=function(){var a=new this.constructor(this.type);a.field=this.field;a.setFormat(this.format);a.setApplyTime(this.getApplyTime());return a};os.im.mapping.time.DateTimeMapping.prototype.persist=function(a){a=os.im.mapping.time.DateTimeMapping.superClass_.persist.call(this,a);a.applyTime=this.getApplyTime();a.format=this.getFormat();a.type=this.getType();return a};
os.im.mapping.time.DateTimeMapping.prototype.restore=function(a){os.im.mapping.time.DateTimeMapping.superClass_.restore.call(this,a);this.setApplyTime(a.applyTime);this.setFormat(a.format);this.setType(a.type)};
os.im.mapping.time.DateTimeMapping.prototype.toXml=function(){var a=os.im.mapping.time.DateTimeMapping.superClass_.toXml.call(this);os.xml.appendElement("applyTime",a,this.getApplyTime());os.xml.appendElement("format",a,os.im.mapping.momentFormatToJavaFormat(this.getFormat()));os.xml.appendElement("subType",a,this.getType());return a};
os.im.mapping.time.DateTimeMapping.prototype.fromXml=function(a){os.im.mapping.time.DateTimeMapping.superClass_.fromXml.call(this,a);var b=this.getXmlValue(a,"applyTime");null!=b?this.setApplyTime(this.toBoolean(b)):this.setApplyTime(!1);this.setFormat(os.im.mapping.javaFormatToMomentFormat(this.getXmlValue(a,"format")));b=this.getXmlValue(a,"subType");null!=b&&this.setType(os.im.mapping.getTimeTypeForString(b))};os.im.mapping.time.DateMapping=function(a){os.im.mapping.time.DateTimeMapping.call(this,a,os.im.mapping.time.DateMapping.ID);this.format=os.time.DATE_FORMATS[0];this.formats=os.time.DATE_FORMATS;this.customFormats=[];this.regexes=os.time.DATE_REGEXES;this.xmlType=os.im.mapping.time.DateMapping.ID};goog.inherits(os.im.mapping.time.DateMapping,os.im.mapping.time.DateTimeMapping);os.im.mapping.time.DateMapping.ID="Date";
os.im.mapping.MappingRegistry.getInstance().registerMapping(os.im.mapping.time.DateMapping.ID,os.im.mapping.time.DateMapping);os.im.mapping.time.DateMapping.prototype.getScore=function(){return 1};os.im.mapping.time.DateMapping.prototype.updateItem=function(a,b){this.field&&os.im.mapping.setItemField(b,this.field,os.time.format(new Date(a),os.time.Duration.DAY))};
os.im.mapping.time.DateMapping.prototype.updateTime=function(a,b){a=new Date(a);b=new Date(b);a.setUTCFullYear(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate());return a};os.im.mapping.time.TimeMapping=function(a){os.im.mapping.time.DateTimeMapping.call(this,a,os.im.mapping.time.TimeMapping.ID);this.format=os.time.TIME_FORMATS[0];this.formats=os.time.TIME_FORMATS;this.customFormats=os.time.CUSTOM_TIME_FORMATS;this.regexes=os.time.TIME_REGEXES;this.xmlType=os.im.mapping.time.TimeMapping.ID};goog.inherits(os.im.mapping.time.TimeMapping,os.im.mapping.time.DateTimeMapping);os.im.mapping.time.TimeMapping.ID="Time";
os.im.mapping.MappingRegistry.getInstance().registerMapping(os.im.mapping.time.TimeMapping.ID,os.im.mapping.time.TimeMapping);os.im.mapping.time.TimeMapping.prototype.getScore=function(){return 1};os.im.mapping.time.TimeMapping.prototype.updateItem=function(a,b){this.field&&os.im.mapping.setItemField(b,this.field,os.time.format(new Date(a)))};
os.im.mapping.time.TimeMapping.prototype.updateTime=function(a,b){a=new Date(a);b=new Date(b);a.setUTCHours(b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.getUTCMilliseconds());return a};os.mixin.ResolutionConstraint={};ol.ResolutionConstraint.createSnapToPower=function(a,b,c){return function(d,e,f){if(void 0!==d)return d=Math.max(Math.log(b/d)/Math.log(a)+e,0).toFixed(1),void 0!==c&&(d=Math.min(d,c)),b/Math.pow(a,d)}};os.tile.ColorableTile=function(a,b,c,d,e){ol.ImageTile.call(this,a,b,c,d,e);this.olSource_=this.filtered_=null};ol.inherits(os.tile.ColorableTile,ol.ImageTile);os.tile.ColorableTile.prototype.getImage=function(){if(this.image_&&this.image_.width&&this.image_.height){var a=this.olSource_.getTileFilters();if(0<a.length)return this.filtered_||(this.filtered_=os.tile.filterImage(this.image_,a)),this.filtered_}return this.image_};os.tile.ColorableTile.prototype.reset=function(){this.filtered_=null};
os.tile.ColorableTile.prototype.getOLSource=function(){return this.olSource_};os.tile.ColorableTile.prototype.setOLSource=function(a){this.olSource_=a};os.mixin.TileImage={};os.implements(ol.source.TileImage,os.source.IFilterableTileSource.ID);ol.source.TileImage.prototype.tileFilters=null;ol.source.TileImage.prototype.addTileFilter=function(a){this.tileFilters||(this.tileFilters=[]);goog.array.insert(this.tileFilters,a);this.applyTileFilters()};ol.source.TileImage.prototype.removeTileFilter=function(a){this.tileFilters||(this.tileFilters=[]);goog.array.remove(this.tileFilters,a);this.applyTileFilters()};
ol.source.TileImage.prototype.getTileFilters=function(){this.tileFilters||(this.tileFilters=[]);return this.tileFilters};ol.source.TileImage.prototype.applyTileFilters=function(){for(var a=this.tileCache.getValues(),b=0,c=a.length;b<c;b++){var d=a[b];d instanceof os.tile.ColorableTile&&d.reset()}};ol.source.TileImage.prototype.setTileClass=function(a){this.tileClass=a};
(function(){var a=ol.source.TileImage.prototype.createTile_;ol.source.TileImage.prototype.createTile_=function(b,c,d,e,f,g){b=a.bind(this)(b,c,d,e,f,g);b instanceof os.tile.ColorableTile&&b.setOLSource(this);return b}})();os.ol.source={};os.ol.source.IUrlSource=function(){};os.ol.source.IUrlSource.ID="os.ol.source.IUrlSource";os.mixin.UrlTileSource={};os.implements(ol.source.UrlTile,os.ol.source.IUrlSource.ID);ol.source.UrlTile.prototype.tileUrlSet=!1;ol.source.UrlTile.prototype.tileLoadSet=!1;ol.source.UrlTile.prototype.extent=null;ol.source.UrlTile.prototype.refreshInterval=0;ol.source.UrlTile.prototype.refreshTimer=null;ol.source.UrlTile.prototype.refreshEnabled=!1;ol.source.UrlTile.prototype.getExtent=function(){return this.extent};ol.source.UrlTile.prototype.setExtent=function(a){this.extent=a};
ol.source.UrlTile.prototype.getParams=function(){return null};ol.source.UrlTile.prototype.updateParams=function(a){};ol.source.UrlTile.prototype.isRefreshEnabled=function(){return this.refreshEnabled};ol.source.UrlTile.prototype.getRefreshInterval=function(){return this.refreshInterval};
ol.source.UrlTile.prototype.setRefreshInterval=function(a){this.refreshInterval!=a&&(this.refreshInterval=a,this.refreshTimer&&(this.refreshTimer.unlisten(goog.Timer.TICK,this.onRefreshTimer,!1,this),this.refreshTimer.hasListener()||this.refreshTimer.stop()),this.refreshTimer=null,0<this.refreshInterval&&(this.refreshTimer=os.source.RefreshTimers[a],this.refreshTimer||(this.refreshTimer=new goog.Timer(1E3*a),os.source.RefreshTimers[a]=this.refreshTimer),this.refreshTimer.listen(goog.Timer.TICK,this.onRefreshTimer,
!1,this),this.refreshTimer.start()),this.dispatchEvent(new os.events.PropertyChangeEvent(os.source.PropertyChange.REFRESH_INTERVAL)))};ol.source.UrlTile.prototype.onRefreshTimer=function(){this.isRefreshEnabled()&&this.refresh()};ol.source.UrlTile.prototype.refresh=function(){this.tileCache.clear();this.changed()};ol.source.UrlTile.prototype.setTileUrlFunctionInternal_=ol.source.UrlTile.prototype.setTileUrlFunction;
ol.source.UrlTile.prototype.setTileUrlFunction=function(a){this.tileUrlSet=!0;var b=this.getExtent.bind(this),c=this.getTileGrid.bind(this);this.setTileUrlFunctionInternal_(function(d,e,f){var g=b(),h=!0;if(g){h=c();if(!h||h.getResolutions().length<=d[0])return;h=h.getTileCoordExtent(d);h=ol.extent.intersects(g,h)}return h?a(d,e,f):void 0})};ol.source.UrlTile.prototype.loading_=!1;ol.source.UrlTile.prototype.numLoadingTiles_=0;ol.source.UrlTile.prototype.loadCount_=0;
ol.source.UrlTile.prototype.errorCount_=0;ol.source.UrlTile.prototype.error_=!1;ol.source.UrlTile.prototype.listenerKeys_=null;ol.source.UrlTile.prototype.loadingDelay_=null;ol.source.UrlTile.prototype.disposeInternal=function(){ol.source.Tile.prototype.disposeInternal.call(this);this.listenerKeys_&&(goog.array.forEach(this.listenerKeys_,goog.events.unlistenByKey),this.listenerKeys_.length=0);this.loadingDelay_&&(this.loadingDelay_.dispose(),this.loadingDelay_=null);this.tileCache&&this.tileCache.clear()};
ol.source.UrlTile.prototype.getLoadingDelay=function(){this.loadingDelay_||this.isDisposed()||(this.loadingDelay_=new goog.async.Delay(this.fireLoadingEvent_,500,this));return this.loadingDelay_};ol.source.UrlTile.prototype.isLoading=function(){return this.loading_};ol.source.UrlTile.prototype.setLoading=function(a){this.loading_!==a&&(this.loading_=a,a=this.getLoadingDelay())&&(this.loading_?a.fire():(a.start(),this.numLoadingTiles_=0))};ol.source.UrlTile.prototype.hasError=function(){return this.error_};
ol.source.UrlTile.prototype.fireLoadingEvent_=function(){if(!this.isDisposed()){if(this.loadCount_||this.errorCount_)this.error_=this.errorCount_/(this.loadCount_+this.errorCount_)>os.settings.get("tileErrorThreshold",.6),this.loadCount_=this.errorCount_=0;this.dispatchEvent(new os.events.PropertyChangeEvent("loading",this.loading_,!this.loading_))}};ol.source.UrlTile.prototype.decrementLoading=function(){this.numLoadingTiles_--;0===this.numLoadingTiles_&&this.setLoading(!1)};
ol.source.UrlTile.prototype.incrementLoading=function(){this.numLoadingTiles_++;1===this.numLoadingTiles_&&this.setLoading(!0)};
ol.source.UrlTile.prototype.onImageLoadOrError_=function(a){var b=goog.events.getListener(a.target,goog.events.EventType.LOAD,this.onImageLoadOrError_,!1,this);b&&(goog.array.remove(this.listenerKeys_,b),goog.events.unlistenByKey(b));if(b=goog.events.getListener(a.target,goog.events.EventType.ERROR,this.onImageLoadOrError_,!1,this))goog.array.remove(this.listenerKeys_,b),goog.events.unlistenByKey(b);a.type===goog.events.EventType.LOAD?this.loadCount_++:this.errorCount_++;this.decrementLoading()};
ol.source.UrlTile.prototype.setTileLoadFunctionInternal_=ol.source.UrlTile.prototype.setTileLoadFunction;
ol.source.UrlTile.prototype.setTileLoadFunction=function(a){this.tileLoadSet=!0;var b=this;this.loadingDelay_||(this.loadingDelay_=new goog.async.Delay(this.fireLoadingEvent_,500,this));this.listenerKeys_||(this.listenerKeys_=[]);this.setTileLoadFunctionInternal_(function(c,d){b.incrementLoading();if(c instanceof ol.ImageTile){var e=c.getImage();b.listenerKeys_.push(goog.events.listen(e,goog.events.EventType.LOAD,b.onImageLoadOrError_,!1,b));b.listenerKeys_.push(goog.events.listen(e,goog.events.EventType.ERROR,
b.onImageLoadOrError_,!1,b))}b.isRefreshEnabled()&&b.refreshInterval&&(d=new goog.Uri(d),d.getQueryData().set("_cd",goog.now()),d=d.toString());a(c,d)})};os.mixin.layerbase={};ol.layer.Property.BRIGHTNESS="brightness";ol.layer.Property.CONTRAST="contrast";ol.layer.Property.HUE="hue";ol.layer.Property.SATURATION="saturation";ol.layer.Base.prototype.getBrightness=function(){return this.get(ol.layer.Property.BRIGHTNESS)};ol.layer.Base.prototype.getContrast=function(){return this.get(ol.layer.Property.CONTRAST)};ol.layer.Base.prototype.getHue=function(){return this.get(ol.layer.Property.HUE)};ol.layer.Base.prototype.getSaturation=function(){return this.get(ol.layer.Property.SATURATION)};
ol.layer.Base.prototype.setBrightness=function(a){this.set(ol.layer.Property.BRIGHTNESS,a)};ol.layer.Base.prototype.setContrast=function(a){this.set(ol.layer.Property.CONTRAST,a)};ol.layer.Base.prototype.setHue=function(a){this.set(ol.layer.Property.HUE,a)};ol.layer.Base.prototype.setSaturation=function(a){this.set(ol.layer.Property.SATURATION,a)};os.mixin.map={};ol.Map.prototype.skipFeature=function(a){a=ol.getUid(a).toString();this.skippedFeatureUids_[a]||(this.skippedFeatureUids_[a]=!0,this.render())};ol.Map.prototype.unskipFeature=function(a){a=ol.getUid(a).toString();this.skippedFeatureUids_[a]&&(delete this.skippedFeatureUids_[a],this.render())};os.mixin.object={};ol.Object.prototype.getHashKey=function(){return ol.getUid(this)};goog.exportProperty(ol.Object.prototype,"$$hashKey",ol.Object.prototype.getHashKey);ol.Object.prototype.eventsEnabled=!0;ol.Object.prototype.enableEvents=function(){this.eventsEnabled=!0};ol.Object.prototype.suppressEvents=function(){this.eventsEnabled=!1};ol.Object.prototype.dispatchEvent=function(a){if(this.eventsEnabled)return ol.events.EventTarget.prototype.dispatchEvent.call(this,a)};
ol.Object.prototype.notify=function(a,b){if(this.eventsEnabled){var c=ol.Object.getChangeEventType(a);this.dispatchEvent(new ol.Object.Event(c,a,b));c=ol.ObjectEventType.PROPERTYCHANGE;this.dispatchEvent(new ol.Object.Event(c,a,b))}};ol.layer.Group.NAME="ol.layer.Group";os.registerClass(ol.layer.Group.NAME,ol.layer.Group);ol.color.normalize=function(a,b){b=b||[];b[0]=ol.math.clamp(a[0]+.5|0,0,255);b[1]=ol.math.clamp(a[1]+.5|0,0,255);b[2]=ol.math.clamp(a[2]+.5|0,0,255);b[3]=Math.round(100*ol.math.clamp(a[3],0,1))/100;return b};
ol.View.prototype.fitExtent=function(a,b){ol.extent.isEmpty(a)||(this.setCenter(ol.extent.getCenter(a)),a=this.getResolutionForExtent(a,b),b=this.constrainResolution(a,0,0),b<a&&!goog.math.nearlyEquals(b,a,1E-15)&&(b=this.constrainResolution(b,-.1,0)),this.setResolution(b))};
ol.renderer.canvas.VectorLayer.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e){if(this.replayGroup_){var f=b.viewState.resolution,g=b.viewState.rotation;b=b.skippedFeatureUids;var h=this.getLayer(),k={};return this.replayGroup_.forEachFeatureAtCoordinate(a,f,g,c,b,function(a){var b=ol.getUid(a).toString();if(!(b in k))return k[b]=!0,d.call(e,a,h)})}};
(function(){var a=ol.renderer.canvas.Map.prototype.renderFrame;ol.renderer.canvas.Map.prototype.renderFrame=function(b){b&&os.MapContainer.getInstance().is3DEnabled()&&(b.viewState.rotation=0);if(b){var c=this.canvas_,d=b.size[0]+"px",e=b.size[1]+"px";c.style.width!==d&&(c.style.width=d);c.style.height!==e&&(c.style.height=e)}a.call(this,b)}})();os.command.TransformAreas=function(a,b){os.command.TransformVectors.call(this,a,b)};goog.inherits(os.command.TransformAreas,os.command.TransformVectors);os.command.TransformAreas.prototype.transform=function(a,b){for(var c=os.query.AreaManager.getInstance().getAll(),d=0,e=c.length;d<e;d++){var f=c[d];if(f&&!f.get("shown")){var g=f.getGeometry();g&&g.transform(a,b);(f=f.get(os.interpolate.ORIGINAL_GEOM_FIELD))&&f.transform(a,b)}}};os.ui.metrics={};os.ui.metrics.metricCompletionDirective=function(){return{restrict:"AE",replace:!0,template:'<span class="metric-completion" style="padding-left:5px" ng-style="mc.style" ng-bind-html="mc.getCompleted()" />',controller:os.ui.metrics.MetricCompletionCtrl,controllerAs:"mc"}};os.ui.Module.directive("metriccompletion",[os.ui.metrics.metricCompletionDirective]);
os.ui.metrics.MetricCompletionCtrl=function(a,b){this.node_=null;this.style="";a.item instanceof os.ui.metrics.MetricNode&&(this.node_=a.item);a.$on("$destroy",this.onDestroy_.bind(this))};os.ui.metrics.MetricCompletionCtrl.prototype.onDestroy_=function(){this.node_=null};
os.ui.metrics.MetricCompletionCtrl.prototype.getCompleted=function(){try{if(this.node_&&this.node_.hasChildren()){var a=this.getVisitedPercent_(),b=os.color.getGradientColor(a/100*255,os.metrics.METRIC_GRADIENT);3==b.length&&b.push(1);this.style={color:ol.color.toString(b)};return"<strong>("+a+"% Explored)</strong>"}}catch(c){}return""};goog.exportProperty(os.ui.metrics.MetricCompletionCtrl.prototype,"getCompleted",os.ui.metrics.MetricCompletionCtrl.prototype.getCompleted);
os.ui.metrics.MetricCompletionCtrl.prototype.getVisitedPercent_=function(){if(this.node_){if(this.node_.hasChildren()){for(var a=os.structs.getLeafNodes(this.node_),b=a.length,c=0,d=0;d<b;d++)a[d].getVisited()&&c++;return Math.round(c/b*100)}return this.node_.getVisited()?100:0}return 0};os.ui.metrics.MetricNode=function(a){os.ui.slick.SlickTreeNode.call(this);this.setCheckboxVisible(!1);this.key_=a;this.description_=void 0;this.icon=null;this.visited_=!1;this.key_&&(a=os.metrics.Metrics.getInstance(),this.setVisited(a.hasMetric(this.key_)),a.listen(this.key_,this.onMetricChange_,!1,this),a.listen(os.metrics.MetricsEventType.RESET,this.onMetricsReset_,!1,this))};goog.inherits(os.ui.metrics.MetricNode,os.ui.slick.SlickTreeNode);
os.ui.metrics.MetricNode.prototype.disposeInternal=function(){os.ui.metrics.MetricNode.superClass_.disposeInternal.call(this);if(this.key_){var a=os.metrics.Metrics.getInstance();a.unlisten(this.key_,this.onMetricChange_,!1,this);a.unlisten(os.metrics.MetricsEventType.RESET,this.onMetricsReset_,!1,this)}};os.ui.metrics.MetricNode.prototype.onMetricChange_=function(a){"number"==typeof a.newVal&&this.setVisited(0<a.newVal)};
os.ui.metrics.MetricNode.prototype.onMetricsReset_=function(a){this.key_&&(a=os.metrics.Metrics.getInstance(),this.setVisited(a.hasMetric(this.key_)))};os.ui.metrics.MetricNode.prototype.getDescription=function(){return this.description_};os.ui.metrics.MetricNode.prototype.setDescription=function(a){this.description_=a};os.ui.metrics.MetricNode.prototype.getCallback=function(){return this.callback_};os.ui.metrics.MetricNode.prototype.setCallback=function(a){this.callback_=a};
os.ui.metrics.MetricNode.prototype.getVisited=function(){return this.visited_};os.ui.metrics.MetricNode.prototype.setVisited=function(a){a!=this.visited_&&(this.visited_=a,this.dispatchEvent(new os.events.PropertyChangeEvent("visited",a,!a)),this.dispatchEvent(new os.events.PropertyChangeEvent("label")))};os.ui.metrics.MetricNode.prototype.getSearchText=function(){return[this.getLabel()||"",this.getDescription()||"",this.getTags()||""].join(" ")};os.ui.metrics.MetricNode.prototype.getTags=function(){return null};
os.ui.metrics.MetricNode.prototype.formatIcons=function(){return this.hasChildren()?this.icon||"&nbsp;":this.getVisited()?'<i class="fa fa-check green-icon"></i>':'<i class="fa fa-times red-icon"></i>'};os.ui.metrics.MetricNode.prototype.getNodeIcon=function(){return this.icon?/^<.*>/.test(this.icon)?this.icon:'<i class="'+this.icon+'"></i>':""};os.ui.metrics.MetricNode.prototype.formatValue=function(a){return os.ui.metrics.MetricNode.superClass_.formatValue.call(this,a)+"<metriccompletion></metriccompletion>"};
os.ui.metrics.MetricNode.prototype.getEnabled=function(){return!0};os.ui.metrics.MetricNode.prototype.isLoading=function(){return!1};os.ui.metrics.MetricsPlugin=function(){this.treeLeaf=null;this.label="Change Me!";this.categories=[];this.description="";this.tags=[];this.icon="";this.collapsed=!1;this.ui=null};goog.inherits(os.ui.metrics.MetricsPlugin,goog.Disposable);os.ui.metrics.MetricsPlugin.DEFAULT_ICON='<i class="fa fa-gear"></i>';os.ui.metrics.MetricsPlugin.prototype.disposeInternal=function(){os.ui.metrics.MetricsPlugin.superClass_.disposeInternal.call(this);goog.dispose(this.treeLeaf);this.treeLeaf=null};
os.ui.metrics.MetricsPlugin.prototype.getId=function(){return((0<this.categories.length?this.categories.join(".")+".":"")+this.label).replace(" ","_").toLowerCase()};os.ui.metrics.MetricsPlugin.prototype.getLeafNode=function(){this.treeLeaf||(this.treeLeaf=new os.ui.metrics.MetricNode,this.treeLeaf.collapsed=this.collapsed,this.treeLeaf.icon=this.icon,this.treeLeaf.setLabel(this.getLabel()),this.treeLeaf.setDescription(this.getDescription()),this.treeLeaf.setCheckboxVisible(!1));return this.treeLeaf};
os.ui.metrics.MetricsPlugin.prototype.getCategories=function(){return this.categories};os.ui.metrics.MetricsPlugin.prototype.setCategories=function(a){this.categories=a};os.ui.metrics.MetricsPlugin.prototype.getDescription=function(){return this.description};os.ui.metrics.MetricsPlugin.prototype.setDescription=function(a){this.description=a};os.ui.metrics.MetricsPlugin.prototype.setCollapsed=function(a){this.collapsed=a;this.treeLeaf&&(this.treeLeaf.collapsed=this.collapsed)};
os.ui.metrics.MetricsPlugin.prototype.getIcon=function(){return this.icon||os.ui.metrics.MetricsPlugin.DEFAULT_ICON};os.ui.metrics.MetricsPlugin.prototype.setIcon=function(a,b){this.icon=b?a:['<i class="',a,'"></i> '].join("");this.treeLeaf&&(this.treeLeaf.icon=this.icon)};os.ui.metrics.MetricsPlugin.prototype.getLabel=function(){return this.label};os.ui.metrics.MetricsPlugin.prototype.setLabel=function(a){this.label=a};os.ui.metrics.MetricsPlugin.prototype.getTags=function(){return this.tags};
os.ui.metrics.MetricsPlugin.prototype.setTags=function(a){this.tags=a};os.ui.metrics.MetricsPlugin.prototype.getUI=function(){return this.ui};os.ui.metrics.MetricsPlugin.prototype.setUI=function(a){this.ui=a};os.ui.metrics.MetricsPlugin.prototype.addChild=function(a,b){var c=new os.ui.metrics.MetricNode(b.key);c.setLabel(b.label);c.setDescription(b.description);c.collapsed=b.collapsed||!1;c.icon=b.icon||null;a.addChild(c);return c};
os.ui.metrics.MetricsPlugin.prototype.addChildren=function(a,b){a.collapsed=!0;for(var c=0;c<b.length;c++)this.addChild(a,b[c])};os.metrics.MapMetrics=function(){os.ui.metrics.MetricsPlugin.call(this);this.setLabel("Map");this.setDescription("Start application in 2D or 3D mode");this.setTags(["2D","3D","Dimension"]);this.setIcon("fa fa-globe");this.setCollapsed(!0);var a=this.getLeafNode();this.addChild(a,{label:"2D Mode",key:os.metrics.keys.Map.MODE_2D});this.addChild(a,{label:"3D Mode",key:os.metrics.keys.Map.MODE_3D});this.addChild(a,{label:"Save State",key:os.metrics.keys.Map.SAVE_STATE});this.addChild(a,{label:"Import State",
key:os.metrics.keys.Map.IMPORT_STATE});this.addChild(a,{label:"Clear State",key:os.metrics.keys.Map.CLEAR_STATE});this.addChild(a,{label:"Save Screen Shot",key:os.metrics.keys.Map.SCREEN_CAPTURE});this.addChild(a,{label:"Draw",key:os.metrics.keys.Map.DRAW});this.addChild(a,{label:"Measure",key:os.metrics.keys.Map.MEASURE_TOGGLE});this.addChild(a,{label:"Show Legend",key:os.metrics.keys.Map.SHOW_LEGEND});this.addChild(a,{label:"Show Layer Window",key:os.metrics.keys.Map.SHOW_LAYER_WINDOW});var b=this.addChild(a,
{label:"Context Menu"});this.addChild(b,{label:"Reset View",key:os.metrics.keys.Map.RESET_VIEW});this.addChild(b,{label:"Reset Rotation",key:os.metrics.keys.Map.RESET_ROTATION});this.addChild(b,{label:"Toggle 2D/3D View",key:os.metrics.keys.Map.TOGGLE_MODE});this.addChild(b,{label:"Show Legend",key:os.metrics.keys.Map.SHOW_LEGEND_CONTEXT});this.addChild(b,{label:"Clear Selection",key:os.metrics.keys.Map.CLEAR_SELECTION});this.addChild(b,{label:"Set Background Color",key:os.metrics.keys.Map.BACKGROUND_COLOR});
a=this.addChild(a,{label:"Units Menu"});this.addChild(a,{label:"Use Imperial Units",key:os.metrics.keys.Map.UNITS_IMPERIAL});this.addChild(a,{label:"Use Metric Units",key:os.metrics.keys.Map.UNITS_METRIC});this.addChild(a,{label:"Use Nautical Units",key:os.metrics.keys.Map.UNITS_NAUTICAL});this.addChild(a,{label:"Use Miles Only Units",key:os.metrics.keys.Map.UNITS_MILE});this.addChild(a,{label:"Use Nautical Miles Only Units",key:os.metrics.keys.Map.UNITS_NAUTICALMILE});this.addChild(a,{label:"Use Yards Only Units",
key:os.metrics.keys.Map.UNITS_YARD});this.addChild(a,{label:"Use Feet Only Units",key:os.metrics.keys.Map.UNITS_FEET})};goog.inherits(os.metrics.MapMetrics,os.ui.metrics.MetricsPlugin);os.file.IContentTypeMethod=function(){};os.file.IFileMethod=function(){};os.file.FileManager=function(){this.fileMethods_=[];this.ctMethods_=[]};goog.addSingletonGetter(os.file.FileManager);os.file.FileManager.prototype.getFileMethod=function(){var a=goog.array.find(this.fileMethods_,this.isMethodSupported_);return a?a.clone():null};
os.file.FileManager.prototype.getLayerType=function(a,b){if(a.getContent()instanceof ArrayBuffer){var c=a.getContent();if(goog.isDef(window.zip)&&os.file.isZipFile(c)){zip.createReader(new zip.ArrayBufferReader(c),goog.bind(function(c){c.getEntries(this.getLayerTypeInternal_.bind(this,a,b))},this),function(){var b='Error reading zip file "'+a.getFileName()+'"!';os.alert.AlertManager.getInstance().sendAlert(b,os.alert.AlertEventSeverity.ERROR)});return}}this.getLayerTypeInternal_(a,b)};
os.file.FileManager.prototype.getLayerTypeInternal_=function(a,b,c){var d=null,e=goog.array.find(this.ctMethods_,function(b){return b.isType(a,c)});e&&(d=e.getLayerType().toLowerCase(),a.setContentType(e.getContentType()),a.setType(d));b(d)};
os.file.FileManager.prototype.getLayerTypeByContentHint=function(a,b){var c=null,d=goog.array.find(this.ctMethods_,function(c){return(c.getContentType()==b||c.getLayerType()==b)&&c.isType(a)});d&&(c=d.getLayerType().toLowerCase(),a.setContentType(d.getContentType()),a.setType(c));return c};os.file.FileManager.prototype.hasSupportedMethod=function(){return goog.array.some(this.fileMethods_,this.isMethodSupported_)};os.file.FileManager.prototype.isMethodSupported_=function(a){return a.isSupported()};
os.file.FileManager.prototype.registerContentTypeMethod=function(a){goog.array.contains(this.ctMethods_,a)||(this.ctMethods_.push(a),this.ctMethods_.sort(this.sortDescPriority_))};os.file.FileManager.prototype.registerFileMethod=function(a){goog.array.contains(this.fileMethods_,a)||(this.fileMethods_.push(a),this.fileMethods_.sort(this.sortDescPriority_))};os.file.FileManager.prototype.sortDescPriority_=function(a,b){return goog.array.defaultCompare(b.getPriority(),a.getPriority())};os.ui.file.urlImportDirective=function(){return{restrict:"E",replace:!0,scope:!0,templateUrl:os.ROOT+"views/file/urlimport.html",controller:os.ui.file.UrlImportCtrl,controllerAs:"urlImport"}};os.ui.Module.directive("urlimport",[os.ui.file.urlImportDirective]);os.ui.file.UrlImportCtrl=function(a,b){this.scope_=a;this.element_=b;this.loading=this.methodLoaded_=!1;this.url="";this.element_.find('input[name="url"]').focus();a.$on("$destroy",this.onDestroy_.bind(this))};
os.ui.file.UrlImportCtrl.prototype.onDestroy_=function(){this.methodLoaded_||this.cancelMethod_();this.element_=this.scope_=null};
os.ui.file.UrlImportCtrl.prototype.accept=function(){if(!this.scope_.urlForm.$invalid&&this.scope_.method){this.loading=!0;var a=this.scope_.method;a.setUrl(this.url);a.listenOnce(os.events.EventType.COMPLETE,this.onLoadComplete_,!1,this);a.listenOnce(os.events.EventType.CANCEL,this.onLoadComplete_,!1,this);a.listenOnce(os.events.EventType.ERROR,this.onLoadError_,!1,this);a.loadFile()}else this.close()};goog.exportProperty(os.ui.file.UrlImportCtrl.prototype,"accept",os.ui.file.UrlImportCtrl.prototype.accept);
os.ui.file.UrlImportCtrl.prototype.close=function(){this.element_&&os.ui.window.close(this.element_)};goog.exportProperty(os.ui.file.UrlImportCtrl.prototype,"close",os.ui.file.UrlImportCtrl.prototype.close);os.ui.file.UrlImportCtrl.prototype.cancelMethod_=function(){var a=this.scope_.method;a&&(a.unlisten(os.events.EventType.COMPLETE,this.onLoadComplete_,!1,this),a.unlisten(os.events.EventType.CANCEL,this.onLoadComplete_,!1,this),a.unlisten(os.events.EventType.ERROR,this.onLoadError_,!1,this),a.dispatchEvent(os.events.EventType.CANCEL))};
os.ui.file.UrlImportCtrl.prototype.onLoadComplete_=function(a){a=a.target;a.unlisten(os.events.EventType.COMPLETE,this.onLoadComplete_,!1,this);a.unlisten(os.events.EventType.CANCEL,this.onLoadComplete_,!1,this);a.unlisten(os.events.EventType.ERROR,this.onLoadError_,!1,this);this.methodLoaded_=!0;this.loading=!1;this.close()};
os.ui.file.UrlImportCtrl.prototype.onLoadError_=function(a){a=a.target;a.unlisten(os.events.EventType.COMPLETE,this.onLoadComplete_,!1,this);a.unlisten(os.events.EventType.CANCEL,this.onLoadComplete_,!1,this);a.unlisten(os.events.EventType.ERROR,this.onLoadError_,!1,this);this.loading=!1;os.ui.apply(this.scope_)};os.ui.file.method={};os.ui.file.method.UrlMethod=function(){goog.events.EventTarget.call(this);this.log=os.ui.file.method.UrlMethod.LOGGER_;this.url_=this.request_=this.file_=null};goog.inherits(os.ui.file.method.UrlMethod,goog.events.EventTarget);os.ui.file.method.UrlMethod.LOGGER_=goog.log.getLogger("os.ui.file.method.UrlMethod");os.ui.file.method.UrlMethod.ID="urlimport";
os.ui.file.method.UrlMethod.prototype.disposeInternal=function(){os.ui.file.method.UrlMethod.superClass_.disposeInternal.call(this);this.clearFile();goog.dispose(this.request_);this.request_=null};os.ui.file.method.UrlMethod.prototype.getUrl=function(){return this.url_};os.ui.file.method.UrlMethod.prototype.setUrl=function(a){this.url_=a};os.ui.file.method.UrlMethod.prototype.getPriority=function(){return 0};os.ui.file.method.UrlMethod.prototype.isSupported=function(){return!0};
os.ui.file.method.UrlMethod.prototype.getFile=function(){return this.file_};os.ui.file.method.UrlMethod.prototype.setFile=function(a){this.file_=a};os.ui.file.method.UrlMethod.prototype.clearFile=function(){this.file_=null};os.ui.file.method.UrlMethod.prototype.clone=function(){return new this.constructor};
os.ui.file.method.UrlMethod.prototype.loadFile=function(a){this.clearFile();this.url_?this.loadUrl():os.ui.window.create({id:os.ui.file.method.UrlMethod.ID,label:"Import URL",icon:"fa fa-cloud-download lt-blue-icon",x:"center",y:"center",width:"400","min-width":"400","max-width":"400",height:"135","min-height":"135","max-height":"135",modal:"true","show-close":"true","no-scroll":"true"},"<urlimport></urlimport>",void 0,void 0,void 0,{method:this})};
os.ui.file.method.UrlMethod.prototype.loadUrl=function(){if(this.url_){this.request_&&(this.request_.dispose(),this.request_=null);var a=this.url_.lastIndexOf("?file=");-1!=a&&(this.url_=this.url_.substring(a+6));this.request_=new os.net.Request(this.url_);this.request_.setHeader("Accept","*/*");goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher(10)||this.request_.setResponseType(goog.net.XhrIo.ResponseType.ARRAY_BUFFER);this.request_.listen(goog.net.EventType.SUCCESS,this.onLoad,!1,this);this.request_.listen(goog.net.EventType.ERROR,
this.onError,!1,this);this.request_.load()}else goog.log.error(os.ui.file.method.UrlMethod.LOGGER_,"URL cannot be null!"),this.dispatchEvent(os.events.EventType.CANCEL)};
os.ui.file.method.UrlMethod.prototype.onLoad=function(a){a=this.request_.getUri().toString();var b=a.indexOf("?"),c=a.lastIndexOf("/")+1;b=decodeURI(a.substring(-1==c?0:c,-1==b?a.length:b));if(this.request_.getResponseHeaders()&&(c=this.request_.getResponseHeaders()["Content-Disposition"])){var d=/filename="(.*?)"/.exec(c);d&&d[1]?b=d[1]:(c=c.split("filename="),0<c.length&&c[1]&&(b=c[1]))}c=this.request_.getResponse();this.request_.dispose();this.request_=null;this.file_=os.file.createFromContent(b,
a,void 0,c);this.dispatchEvent(os.events.EventType.COMPLETE);os.dispatcher.dispatchEvent(new os.net.RequestEvent(os.net.RequestEventType.USER_URL,a))};os.ui.file.method.UrlMethod.prototype.onError=function(a){a='<strong>Unable to load URL "'+this.url_+'"!</strong><br>Please check that it was entered correctly.';this.request_.dispose();this.request_=null;os.alertManager.sendAlert(a,os.alert.AlertEventSeverity.ERROR,os.ui.file.method.UrlMethod.LOGGER_);this.dispatchEvent(os.events.EventType.ERROR)};os.ui.im.IImportUI=function(){};os.ui.im.ImportManager=function(){this.importUIs_={};this.importers_={};this.parsers_={};this.details_=[];this.dataTypes_=[];this.registerImporter(os.ui.im.ImportManager.DEFAULT_IMPORTER,os.im.Importer)};goog.addSingletonGetter(os.ui.im.ImportManager);os.ui.im.ImportManager.LOGGER_=goog.log.getLogger("os.ui.im.ImportManager");os.ui.im.ImportManager.DEFAULT_IMPORTER="default";
os.ui.im.ImportManager.prototype.getImportUI=function(a){return a&&(a=a.toLowerCase(),a in this.importUIs_)?this.importUIs_[a]:null};os.ui.im.ImportManager.prototype.getImportDetails=function(){var a=this.details_.slice();0<this.dataTypes_.length&&a.unshift("Supported data formats: "+this.dataTypes_.join(", ")+".");return a};
os.ui.im.ImportManager.prototype.getImporter=function(a,b){if(a&&(a=a.toLowerCase(),a in this.importers_))return new this.importers_[a](b);goog.log.warning(os.ui.im.ImportManager.LOGGER_,'Unknown importer type "'+a+'", using default importer.');return new os.im.Importer(b)};os.ui.im.ImportManager.prototype.getImporters=function(){var a=[];goog.object.forEach(this.importUIs_,function(b){a.push(b)});goog.array.removeDuplicates(a,null,function(a){return a.launchUI.toString()});return a};
os.ui.im.ImportManager.prototype.getParser=function(a,b){return a&&(a=a.toLowerCase(),a in this.parsers_)?new this.parsers_[a](b):null};os.ui.im.ImportManager.prototype.registerImportDetails=function(a,b){b?(this.dataTypes_.push(a),this.dataTypes_.sort(goog.array.defaultCompare)):(this.details_.push(a),this.details_.sort(goog.array.defaultCompare))};
os.ui.im.ImportManager.prototype.registerImportUI=function(a,b){a=a.toLowerCase();a in this.importUIs_?goog.log.warning(os.ui.im.ImportManager.LOGGER_,'The import UI "'+a+'" has already been registered with the import manager!'):this.importUIs_[a]=b};os.ui.im.ImportManager.prototype.registerImporter=function(a,b){a=a.toLowerCase();a in this.importers_?goog.log.info(os.ui.im.ImportManager.LOGGER_,'The importer type "'+a+'" has already been registered with the import manager!'):this.importers_[a]=b};
os.ui.im.ImportManager.prototype.registerParser=function(a,b){a=a.toLowerCase();a in this.parsers_?goog.log.info(os.ui.im.ImportManager.LOGGER_,'The parser type "'+a+'" has already been registered with the import manager!'):this.parsers_[a]=b};os.ui.im.ImportManager.prototype.unregisterImportUI=function(a,b){a=a.toLowerCase();a in this.importUIs_&&(b&&this.importUIs_[a]===b||!b)&&delete this.importUIs_[a]};os.file.upload={};os.file.upload.uploadFile=null;os.ui.im.FileSupportChoice={LOCAL:"local",UPLOAD:"upload"};os.ui.im.fileSupportDirective=function(){return{restrict:"E",replace:!0,templateUrl:os.ROOT+"views/im/filesupport.html",controller:os.ui.im.FileSupportCtrl,controllerAs:"ctrl"}};os.ui.Module.directive("filesupport",[os.ui.im.fileSupportDirective]);
os.ui.im.FileSupportCtrl=function(a,b){goog.Disposable.call(this);this.scope_=a;this.element_=b;this.file_=this.scope_.file;this.confirmCallback_=this.scope_.confirm;this.cancelCallback_=this.scope_.cancel;this.keyHandler_=new goog.events.KeyHandler(goog.dom.getDocument());this.keyHandler_.listen(goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent_,!1,this);this.application=os.config.getAppName("the application");this.supportsUpload=null!=os.file.upload.uploadFile;this.supportContact=os.string.linkify(os.config.getSupportContact("your system administrator"));
this.choice=os.ui.im.FileSupportChoice.LOCAL;a.$on("$destroy",this.dispose.bind(this));this.file_?a.$emit("window.ready"):(this.cancelCallback_&&this.cancelCallback_("Local file could not be loaded."),this.close_())};goog.inherits(os.ui.im.FileSupportCtrl,goog.Disposable);os.ui.im.FileSupportCtrl.prototype.disposeInternal=function(){os.ui.im.FileSupportCtrl.superClass_.disposeInternal.call(this);goog.dispose(this.keyHandler_);this.file_=this.scope_=this.element_=null};
os.ui.im.FileSupportCtrl.prototype.cancel=function(){this.cancelCallback_&&this.cancelCallback_(os.events.EventType.CANCEL);this.close_()};goog.exportProperty(os.ui.im.FileSupportCtrl.prototype,"cancel",os.ui.im.FileSupportCtrl.prototype.cancel);
os.ui.im.FileSupportCtrl.prototype.confirm=function(){this.choice===os.ui.im.FileSupportChoice.UPLOAD&&null!=os.file.upload.uploadFile?os.file.upload.uploadFile(this.file_).then(this.confirmCallback_,this.cancelCallback_):this.confirmCallback_&&this.confirmCallback_();this.close_()};goog.exportProperty(os.ui.im.FileSupportCtrl.prototype,"confirm",os.ui.im.FileSupportCtrl.prototype.confirm);os.ui.im.FileSupportCtrl.prototype.close_=function(){os.ui.window.close(this.element_)};
os.ui.im.FileSupportCtrl.prototype.handleKeyEvent_=function(a){a.keyCode==goog.events.KeyCodes.ESC&&this.cancel()};os.ui.im.launchFileSupport=function(a){return new goog.Promise(function(b,c){os.ui.window.create({label:"Unable to Store File",icon:"fa fa-exclamation-triangle orange-icon",x:"center",y:"center",width:550,"min-width":400,"max-width":800,height:"auto",modal:"true","show-close":"true","no-scroll":"true"},"<filesupport></filesupport>",void 0,void 0,void 0,{file:a,confirm:b,cancel:c})})};os.ui.im.ImportProcess=function(a,b){this.file=null;this.log=os.ui.im.ImportProcess.LOGGER_;this.method_=this.contentHint_=null;this.im_=a||os.ui.im.ImportManager.getInstance();this.fm_=b||os.file.FileManager.getInstance();this.checkFileStorage_=b?!1:!0;this.config_=this.deferred_=null;this.fileSupportChecked_=!1};os.ui.im.ImportProcess.LOGGER_=goog.log.getLogger("os.ui.im.ImportProcess");os.ui.im.ImportProcess.prototype.getConfig=function(){return this.config_};
os.ui.im.ImportProcess.prototype.setConfig=function(a){this.config_=a};os.ui.im.ImportProcess.prototype.begin=function(){this.deferred_=new goog.async.Deferred;this.file?this.processFile():this.method_&&this.method_.loadFile({manager:this.im_});return this.deferred_};
os.ui.im.ImportProcess.prototype.setEvent=function(a){this.file=a.file;this.fileSupportChecked_=!1;this.contentHint_=a.contentHint;this.config_=a.config;this.file||(a&&a.type==os.ui.im.ImportEventType.URL?(this.method_=this.createUrlMethod(),a.url&&this.method_.setUrl(a.url)):this.method_=this.fm_.getFileMethod(),this.method_&&(this.method_.listenOnce(os.events.EventType.COMPLETE,this.onFileReady_,!1,this),this.method_.listenOnce(os.events.EventType.CANCEL,this.onFileCancel_,!1,this)))};
os.ui.im.ImportProcess.prototype.createUrlMethod=function(){return new os.ui.file.method.UrlMethod};os.ui.im.ImportProcess.prototype.methodCleanup_=function(a){this.method_&&(a?(this.method_.dispose(),this.method_=null):(this.method_.unlisten(os.events.EventType.COMPLETE,this.onFileReady_,!1,this),this.method_.unlisten(os.events.EventType.CANCEL,this.onFileCancel_,!1,this),this.method_.clearFile()))};
os.ui.im.ImportProcess.prototype.processFile=function(){if(this.contentHint_){var a=this.fm_.getLayerTypeByContentHint(this.file,this.contentHint_);this.onFileType(a)}else this.fm_.getLayerType(this.file,this.onFileType.bind(this))};
os.ui.im.ImportProcess.prototype.onFileType=function(a){if(a&&this.file)if(goog.log.info(this.log,'Detected file with type "'+a+'"'),this.isLocalImport())if(this.fileExists())this.onFileExists();else this.importFile();else if(this.urlExists())this.onUrlExists();else this.importFile();else this.invalidFiletype()};os.ui.im.ImportProcess.prototype.invalidFiletype=function(){this.abortImport('Could not determine the file type for "'+this.file.getFileName()+'".')};
os.ui.im.ImportProcess.prototype.importFile=function(a){a&&this.setConfig(a);if(this.file){a=this.file.getType();var b=this.im_.getImportUI(a);if(b)if(this.isLocalImport()&&this.checkFileStorage_&&b.requiresStorage&&!this.fileSupportChecked_&&!os.file.FileStorage.getInstance().isPersistent())this.fileSupportChecked_=!0,os.ui.im.launchFileSupport(this.file).then(this.onFileSupportSuccess_,this.onFileSupportFailure_,this);else{this.deferred_&&this.deferred_.callback(this.file);try{b.launchUI(this.file,
this.getConfig())}catch(c){this.invalidFiletype()}}else this.abortImport('No import UI was registered for file type "'+a+'"!')}else this.abortImport("Unable to import file!")};os.ui.im.ImportProcess.prototype.onFileSupportSuccess_=function(a){if(a&&this.file){this.file.setUrl(a);var b=this.getConfig();b&&b.descriptor&&(b=b.descriptor,os.implements(b,os.data.IUrlDescriptor.ID)&&b.setUrl(a))}this.importFile()};
os.ui.im.ImportProcess.prototype.onFileSupportFailure_=function(a){if(a===os.events.EventType.CANCEL)this.onFileCancel_();else this.abortImport("string"==typeof a?a:void 0)};
os.ui.im.ImportProcess.prototype.abortImport=function(a){var b=a;if(!b){b="Failed to import file";if(this.file){var c=this.file.getFileName()||this.file.getUrl();c&&(b+=' "'+c+'"')}b+="!"}goog.log.error(this.log,b);os.alert.AlertManager.getInstance().sendAlert(b,os.alert.AlertEventSeverity.ERROR);this.deferred_&&this.deferred_.errback(a);this.methodCleanup_()};os.ui.im.ImportProcess.prototype.isLocalImport=function(){return os.file.isLocal(this.file)};
os.ui.im.ImportProcess.prototype.onFileReady_=function(a){this.file=this.method_.getFile();this.fileSupportChecked_=!1;this.methodCleanup_();this.file?this.processFile():this.abortImport("Failed loading file!")};os.ui.im.ImportProcess.prototype.onFileCancel_=function(a){goog.log.info(this.log,"Import cancelled by user.");this.methodCleanup_(!0)};os.ui.im.ImportProcess.prototype.fileExists=function(){return this.file&&this.checkFileStorage_?os.file.FileStorage.getInstance().fileExists(this.file):!1};
os.ui.im.ImportProcess.prototype.urlExists=function(){return!1};os.ui.im.ImportProcess.prototype.onFileExists=function(){this.abortImport('File named "'+this.file.getFileName()+'" already exists!')};os.ui.im.ImportProcess.prototype.onUrlExists=function(){this.abortImport('File with URL "'+this.file.getUrl()+'" already exists!')};os.ui.geo={};os.ui.geo.geoDirective=function(){return{require:"ngModel",link:os.ui.geo.geoLinkFn}};
os.ui.geo.geoLinkFn=function(a,b,c,d){b=function(b){var c=os.geo.parseLatLon(b);goog.isDefAndNotNull(c)&&90<Math.abs(c.lat)&&(c=null);var e=!0;if(goog.isDefAndNotNull(c))e=!0;else try{var h=osasm.toLonLat(b);e=goog.isArray(h)&&2===h.length}catch(k){e=!1}d.$pristine||d.$setValidity("pos",e);a.$watch("required",function(a){a?d.$setValidity("pos",e):b?d.$setValidity("pos",e):d.$setValidity("pos",!0)});return b};d.$formatters.unshift(b);d.$parsers.unshift(b)};os.ui.Module.directive("geo",[os.ui.geo.geoDirective]);os.ui.popover={};os.ui.popover.popoverDirective=function(){return{restrict:"AE",replace:!0,scope:{title:"=",content:"=",pos:"=",icon:"="},controller:os.ui.popover.PopoverCtrl,controllerAs:"popoverctrl"}};os.ui.Module.directive("popover",[os.ui.popover.popoverDirective]);
os.ui.popover.PopoverCtrl=function(a,b){this.scope_=a;this.element_=b;this.scope_.popoverElement=null;this.element_.on("mouseenter",this.showPopover_.bind(this)).on("mouseleave",this.hidePopover_.bind(this));this.createPopoverElement();this.scope_.$watch("icon",this.createPopoverElement.bind(this));this.scope_.$on("$destroy",this.onDestroy_.bind(this))};os.ui.popover.PopoverCtrl.prototype.onDestroy_=function(){this.element_.off("mouseenter").off("mouseleave");this.element_=this.scope_=null};
os.ui.popover.PopoverCtrl.prototype.createPopoverElement=function(){this.scope_.popoverElement=$('<i class="'+(this.scope_.icon?this.scope_.icon:"fa fa-question-circle")+'"></i>');this.element_.html(this.scope_.popoverElement)};
os.ui.popover.PopoverCtrl.prototype.showPopover_=function(a){a.stopPropagation();goog.isDefAndNotNull(this.scope_.title)&&25<this.scope_.title.length&&(this.scope_.title=goog.string.truncate(this.scope_.title,25));goog.dom.contains(a.target,this.scope_.popoverElement[0])&&(this.scope_.popoverElement.popover({html:!0,placement:this.scope_.pos?this.scope_.pos:"bottom",trigger:"manual",title:this.scope_.title,content:this.scope_.content,container:!1}).popover("show").on("hidden",function(a){a.stopPropagation()}),
this.element_.find("popover").children().on("mouseleave",this.hidePopover_.bind(this)))};os.ui.popover.PopoverCtrl.prototype.hidePopover_=function(a){a.stopPropagation();this.element_.find("popover").children().off("mouseleave");this.element_.empty();this.createPopoverElement()};os.ui.geo.PositionEventType={MAP_ENABLED:"position:mapEnabled",MAP_CLICK:"position:mapClick"};os.ui.geo.positionDirective=function(){return{restrict:"E",replace:!0,templateUrl:os.ROOT+"views/geo/position.html",scope:{disabled:"=?",required:"=?",order:"=?",form:"=",geom:"=",label:"@",mapSupport:"@",name:"@",hideHint:"="},controller:os.ui.geo.PositionCtrl,controllerAs:"posCtrl"}};os.ui.Module.directive("position",[os.ui.geo.positionDirective]);
os.ui.geo.PositionCtrl=function(a,b){this.scope_=a;this.mapListener_=null;this.label=goog.isDef(a.label)?a.label:"Position:";"false"==this.label&&(this.label=null);this.mapEnabled=!1;goog.isDefAndNotNull(this.scope_.required)||(this.scope_.required=!0);a.popoverContent="Takes DMS, Decimal Degrees, or MGRS. If Lat/Lon, the first coordinate is assumed to be latitude unless it is zero-padded (0683000.55 or 058.135), three-digits (105&deg;30'10.1&quot; or 105.3), or contains the direction (68 30 12 W or 105 E).";
a.$watch("posText",function(a,b){this.scope_.required||this.scope_.$emit("positionText",this.scope_.geom,this.scope_.posText);this.onPosText_()}.bind(this));a.$watch("order",this.onPosText_.bind(this));a.$watch("geom.lon",this.onCoord_.bind(this));a.$watch("geom.lat",this.onCoord_.bind(this));a.$on(os.ui.geo.PositionEventType.MAP_ENABLED,this.onMapEnabled_.bind(this));a.$on("resetForm",function(a){goog.isDef(a)&&a!=this.scope_.name||this.setMapEnabled_(!1)}.bind(this));a.$on("$destroy",this.destroy_.bind(this))};
os.ui.geo.PositionCtrl.COORD_PRECISION=1E12;os.ui.geo.PositionCtrl.prototype.destroy_=function(){this.mapListener_&&(this.mapListener_(),this.mapListener_=null);this.scope_=null};
os.ui.geo.PositionCtrl.prototype.onPosText_=function(){if(this.scope_.posText){var a=os.geo.parseLatLon(this.scope_.posText,this.scope_.order);goog.isDefAndNotNull(a)&&90<Math.abs(a.lat)&&(a=null);if(!goog.isDefAndNotNull(a))try{var b=osasm.toLonLat(this.scope_.posText);a={lon:b[0],lat:b[1]}}catch(c){}goog.isDefAndNotNull(a)&&(this.scope_.geom.lat=a.lat,this.scope_.geom.lon=a.lon)}};
os.ui.geo.PositionCtrl.prototype.onCoord_=function(){if(isNaN(this.scope_.geom.lat)||isNaN(this.scope_.geom.lon))this.scope_.posText="";else if(this.scope_.posText){var a=os.geo.parseLatLon(this.scope_.posText,this.scope_.order);goog.isDefAndNotNull(a)&&(1E-12<Math.abs(a.lat-this.scope_.geom.lat)||1E-12<Math.abs(a.lon-this.scope_.geom.lon))&&(this.scope_.posText=""+this.scope_.geom.lat+"N "+this.scope_.geom.lon+"E")}else this.scope_.posText=""+this.scope_.geom.lat+"N "+this.scope_.geom.lon+"E"};
os.ui.geo.PositionCtrl.prototype.toggleMapEnabled=function(){this.setMapEnabled_(!this.mapEnabled)};goog.exportProperty(os.ui.geo.PositionCtrl.prototype,"toggleMapEnabled",os.ui.geo.PositionCtrl.prototype.toggleMapEnabled);
os.ui.geo.PositionCtrl.prototype.onMapClick_=function(a,b,c){!this.scope_.disabled&&b&&1<b.length&&(a=os.ui.geo.PositionCtrl.COORD_PRECISION,this.scope_.geom.lon=Math.round(b[0]*a)/a,this.scope_.geom.lat=Math.round(b[1]*a)/a,this.scope_.posText=""+this.scope_.geom.lat+"N "+this.scope_.geom.lon+"E",c&&this.setMapEnabled_(!1),os.ui.apply(this.scope_))};os.ui.geo.PositionCtrl.prototype.onMapEnabled_=function(a,b,c){a.targetScope!==this.scope_&&null!=c&&null!=b&&c===this.scope_.name&&this.setMapEnabled_(b)};
os.ui.geo.PositionCtrl.prototype.setMapEnabled_=function(a){this.mapEnabled!==a&&(this.mapEnabled=a,this.mapListener_&&(this.mapListener_(),this.mapListener_=null),this.mapEnabled&&(this.mapListener_=this.scope_.$on(os.ui.geo.PositionEventType.MAP_CLICK,this.onMapClick_.bind(this))),this.scope_.$emit(os.ui.geo.PositionEventType.MAP_ENABLED,this.mapEnabled,this.scope_.name),os.ui.apply(this.scope_))};os.ui.query.ui.area={};os.ui.query.ui.area.AreaType={BBOX:"bbox",CIRCLE:"circle",POLYGON:"polygon"};os.ui.query.ui.area.AreaTypeDetails={bbox:{name:"Bounding Box",icon:"fa-square-o",tooltip:"Define an area by bounding box corners."},circle:{name:"Circle",icon:"fa-circle-o",tooltip:"Define an area by center point and radius."},polygon:{name:"Polygon",icon:"fa-star-o",tooltip:"Define an area from a list of coordinates."}};
os.ui.query.ui.area.userAreaDirective=function(){return{restrict:"E",replace:!0,scope:!0,templateUrl:os.ROOT+"views/query/area/userarea.html",controller:os.ui.query.ui.area.UserAreaCtrl,controllerAs:"ctrl"}};os.ui.Module.directive("userarea",[os.ui.query.ui.area.userAreaDirective]);
os.ui.query.ui.area.UserAreaCtrl=function(a,b,c){goog.Disposable.call(this);this.scope=a;this.element=b;this.editArea=a.area;this.keyHandler=new goog.events.KeyHandler(goog.dom.getDocument());this.keyHandler.listen(goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent,!1,this);this.updateDelay=new goog.async.Delay(this.onUpdateDelay,250,this);this.area=void 0;this.areaType=os.ui.query.ui.area.AreaType.BBOX;this.areaTypes=this.scope.areaTypes||goog.object.getValues(os.ui.query.ui.area.AreaType);
this.name=this.editArea&&this.editArea.get("title")||"New Area";this.canEditGeometry=!0;this.errorMsg="";this.lonFirst=!1;this.coordOrder=void 0;this.corner1={};this.corner2={};this.coordinates="";this.center={};this.radius=void 0;this.radiusUnits=os.math.Units.KILOMETERS;this.units=[os.math.Units.NAUTICAL_MILES,os.math.Units.MILES,os.math.Units.KILOMETERS,os.math.Units.METERS];this.customPopoverContent="Enter coordinates with spaces between latitude/longitude and commas separating coordinate pairs or MGRS values. The polygon will be validated/closed if necessary.<br><br>Takes DMS, Decimal Degrees, or MGRS. If Lat/Lon, the first coordinate is assumed to be latitude unless it is zero-padded (0683000.55 or 058.135), three-digits (105&deg;30'10.1&quot; or 105.3), or contains the direction (68 30 12 W or 105 E).";
this.numInvalidCoords=0;if(this.editArea){goog.array.remove(this.areaTypes,os.ui.query.ui.area.AreaType.CIRCLE);var d=this.editArea.getGeometry();d&&(d=d.clone(),d.toLonLat(),b=d.getExtent(),d.getType()==ol.geom.GeometryType.POLYGON?(d=d.getCoordinates())&&1==d.length?(this.canEditGeometry=!0,os.geo.isRectangular(d[0],b)?this.areaType=os.ui.query.ui.area.AreaType.BBOX:this.areaType=os.ui.query.ui.area.AreaType.POLYGON,this.corner1.lon=this.toFixed(b[0]),this.corner1.lat=this.toFixed(b[1]),this.corner2.lon=
this.toFixed(b[2]),this.corner2.lat=this.toFixed(b[3]),this.coordinates=d[0].map(function(a){return this.toFixed(a[1])+" "+this.toFixed(a[0])},this).join(",")):this.canEditGeometry=!1:this.canEditGeometry=!1)}this.updateArea();a.$watch("ctrl.areaType",this.updateArea.bind(this));a.$watch("ctrl.corner1.lon",this.updateArea.bind(this));a.$watch("ctrl.corner1.lat",this.updateArea.bind(this));a.$watch("ctrl.corner2.lon",this.updateArea.bind(this));a.$watch("ctrl.corner2.lat",this.updateArea.bind(this));
a.$watch("ctrl.center.lon",this.updateArea.bind(this));a.$watch("ctrl.center.lat",this.updateArea.bind(this));os.settings.listen(os.interpolate.SettingsKey.INTERPOLATION,this.updateArea,!1,this);a.$on("$destroy",this.dispose.bind(this));c(function(){a.$emit(os.ui.WindowEventType.READY)})};goog.inherits(os.ui.query.ui.area.UserAreaCtrl,goog.Disposable);
os.ui.query.ui.area.UserAreaCtrl.prototype.disposeInternal=function(){os.ui.query.ui.area.UserAreaCtrl.superClass_.disposeInternal.call(this);os.settings.unlisten(os.interpolate.SettingsKey.INTERPOLATION,this.updateArea,!1,this);this.setArea(void 0);goog.dispose(this.keyHandler);this.keyHandler=void 0;goog.dispose(this.updateDelay);this.scope=this.element=this.updateDelay=void 0};
os.ui.query.ui.area.UserAreaCtrl.prototype.cancel=function(){this.scope&&this.scope.cancel&&this.scope.cancel(os.events.EventType.CANCEL);this.close()};goog.exportProperty(os.ui.query.ui.area.UserAreaCtrl.prototype,"cancel",os.ui.query.ui.area.UserAreaCtrl.prototype.cancel);
os.ui.query.ui.area.UserAreaCtrl.prototype.confirm=function(){if(this.scope&&this.scope.confirm&&this.area){var a=this.editArea;if(a){var b=this.area.getGeometry().clone();a.setGeometry(b);a.set(os.interpolate.ORIGINAL_GEOM_FIELD,b,!0);a.set("title",this.name,!0);b=this.area.get(os.interpolate.METHOD_FIELD);a.set(os.interpolate.METHOD_FIELD,b,!0)}else a=this.area,a.set("title",this.name,!0),a.unset(os.data.RecordField.DRAWING_LAYER_NODE,!0);this.scope.confirm(a)}this.close()};
goog.exportProperty(os.ui.query.ui.area.UserAreaCtrl.prototype,"confirm",os.ui.query.ui.area.UserAreaCtrl.prototype.confirm);os.ui.query.ui.area.UserAreaCtrl.prototype.close=function(){this.element&&os.ui.window.close(this.element)};os.ui.query.ui.area.UserAreaCtrl.prototype.handleKeyEvent=function(a){a.keyCode==goog.events.KeyCodes.ESC&&this.cancel()};os.ui.query.ui.area.UserAreaCtrl.prototype.getAreaTypeName=function(a){return(a=os.ui.query.ui.area.AreaTypeDetails[a])&&a.name?a.name:"Unspecified Type"};
goog.exportProperty(os.ui.query.ui.area.UserAreaCtrl.prototype,"getAreaTypeName",os.ui.query.ui.area.UserAreaCtrl.prototype.getAreaTypeName);os.ui.query.ui.area.UserAreaCtrl.prototype.getAreaTypeIcon=function(a){return(a=os.ui.query.ui.area.AreaTypeDetails[a])&&a.icon?a.icon:"fa-calculator"};goog.exportProperty(os.ui.query.ui.area.UserAreaCtrl.prototype,"getAreaTypeIcon",os.ui.query.ui.area.UserAreaCtrl.prototype.getAreaTypeIcon);
os.ui.query.ui.area.UserAreaCtrl.prototype.getAreaTypeTooltip=function(a){return(a=os.ui.query.ui.area.AreaTypeDetails[a])&&a.tooltip?a.tooltip:"Enter coordinates to define an area."};goog.exportProperty(os.ui.query.ui.area.UserAreaCtrl.prototype,"getAreaTypeTooltip",os.ui.query.ui.area.UserAreaCtrl.prototype.getAreaTypeTooltip);
os.ui.query.ui.area.UserAreaCtrl.prototype.setArea=function(a){this.area&&os.MapContainer.getInstance().removeFeature(this.area);if(this.area=a){var b=os.MapContainer.getInstance();b.addFeature(a,os.style.PREVIEW_CONFIG);b.flyToExtent(a.getGeometry().getExtent(),1.5)}};os.ui.query.ui.area.UserAreaCtrl.prototype.onLonFirstChange=function(){this.coordOrder=this.lonFirst?os.geo.PREFER_LON_FIRST:void 0;this.updateArea()};
goog.exportProperty(os.ui.query.ui.area.UserAreaCtrl.prototype,"onLonFirstChange",os.ui.query.ui.area.UserAreaCtrl.prototype.onLonFirstChange);os.ui.query.ui.area.UserAreaCtrl.prototype.updateArea=function(){this.updateDelay&&this.updateDelay.start()};goog.exportProperty(os.ui.query.ui.area.UserAreaCtrl.prototype,"updateArea",os.ui.query.ui.area.UserAreaCtrl.prototype.updateArea);
os.ui.query.ui.area.UserAreaCtrl.prototype.onUpdateDelay=function(){if(!this.isDisposed()){if(this.scope.areaForm.$valid){var a=os.interpolate.getConfig().method;switch(this.areaType){case os.ui.query.ui.area.AreaType.BBOX:var b=this.getBbox();a=os.interpolate.Method.NONE;break;case os.ui.query.ui.area.AreaType.CIRCLE:b=this.getCircle();a=os.interpolate.Method.NONE;break;case os.ui.query.ui.area.AreaType.POLYGON:b=this.getPolygon()}if(b){var c=new ol.Feature(b);c.set(os.data.RecordField.DRAWING_LAYER_NODE,
!1,!0);c.set(os.interpolate.METHOD_FIELD,a,!0);c.set("title",this.name,!0);b.osTransform()}}this.setArea(c);os.ui.apply(this.scope)}};os.ui.query.ui.area.UserAreaCtrl.prototype.getExtent=function(){var a;null!=this.corner1.lon&&null!=this.corner1.lat&&null!=this.corner2.lon&&null!=this.corner2.lat&&(a=[this.corner1.lon,this.corner1.lat,this.corner2.lon,this.corner2.lat]);return a};
os.ui.query.ui.area.UserAreaCtrl.prototype.getBbox=function(){var a;if(this.canEditGeometry||!this.scope.geometry){var b=this.getExtent();b&&(a=ol.geom.Polygon.fromExtent(b))}else a=this.scope.geometry;return a};os.ui.query.ui.area.UserAreaCtrl.prototype.getCircle=function(){var a=new ol.geom.Point([this.center.lon,this.center.lat]),b=os.math.convertUnits(this.radius,os.math.Units.METERS,this.radiusUnits);return os.geo.jsts.buffer(a,b,!0)};
os.ui.query.ui.area.UserAreaCtrl.prototype.getPolygon=function(){this.numInvalidCoords=0;if(this.coordinates){var a=this.coordinates.split(",").map(function(a){try{a=a.trim();var b=os.geo.parseLatLon(a,this.coordOrder);b&&90<Math.abs(b.lat)&&(b=void 0);b=b?[b.lon,b.lat]:osasm.toLonLat(a)}catch(e){b=void 0}b||this.numInvalidCoords++;return b},this).filter(os.fn.filterFalsey);if(2<a.length&&(goog.array.equals(a[0],a[a.length-1])||a.push(a[0]),3<a.length)){var b=new ol.geom.Polygon([a]);a=os.geo.jsts.validate(b,
!0);b=a!==b?a:void 0}}return b};os.ui.query.ui.area.UserAreaCtrl.prototype.toFixed=function(a){return a.toFixed(14).replace(/\.?0+$/,"")};
os.ui.query.ui.area.getUserArea=function(a,b,c){return new goog.Promise(function(d,e){var f="Enter Area Coordinates",g="fa-calculator";a&&a.getId()?(f=os.ui.query.EDIT_WIN_LABEL,g="fa-pencil"):a&&(f="Save Area",g="fa-globe");os.ui.window.create({x:"center",y:"center",label:f,icon:"fa "+g,height:"auto",width:500,modal:c||!1,"no-scroll":!0,"show-close":!0},"<userarea></userarea>",void 0,void 0,void 0,{confirm:d,cancel:e,area:a,areaTypes:b})})};os.query.addArea=function(a,b){b=goog.isDef(b)?b:!0;os.ui.areaManager.toggle(a,b);os.command.CommandProcessor.getInstance().addCommand(new os.ui.query.cmd.AreaAdd(a,b));os.dispatcher.dispatchEvent(new os.ui.action.ActionEvent(os.ui.action.EventType.ZOOM,{feature:a,geometry:a.getGeometry()}))};
os.query.launchQueryImport=function(a){os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Filters.IMPORT,1);var b=new os.ui.im.ImportProcess(os.areaImportManager,os.areaFileManager);b.setEvent(new os.ui.im.ImportEvent(os.ui.im.ImportEventType.FILE,void 0,void 0,a));b.begin()};os.query.launchCoordinates=function(){os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.LOAD_FROM_COORDINATES,1);os.ui.query.ui.area.getUserArea().then(os.query.addArea)};
os.query.launchChooseArea=function(){os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.LOAD_FROM_AREA,1);os.ui.query.ui.area.launchChooseArea(os.query.addArea)};os.query.queryWorld=function(){var a=os.query.WORLD_AREA.clone();if(a){os.metrics.Metrics.getInstance().updateMetric(os.metrics.keys.Map.QUERY_WORLD,1);var b=a.getGeometry();b.osTransform();b.set(os.geom.GeometryField.NORMALIZED,!0);a.set(os.interpolate.METHOD_FIELD,os.interpolate.Method.NONE,!0);os.query.addArea(a,!1)}};
os.query.isWorldQuery=function(a){var b=os.query.WORLD_GEOM;return b&&a&&a instanceof ol.geom.Polygon&&(a.getArea()>=b.getArea()||0==a.getArea())?(a.setCoordinates(b.getCoordinates()),!0):!1};os.query.WORLD_GEOM=new ol.geom.Polygon([[[180,90],[180,-89.99999999999999],[-179.9999999999999,-89.99999999999999],[-179.9999999999999,90],[180,90]]]);os.query.WORLD_AREA=new ol.Feature({title:"Whole World"});os.query.WORLD_AREA.setGeometry(os.query.WORLD_GEOM);os.query.AreaManager=function(){os.ui.query.AreaManager.call(this);this.highlightFeature=void 0;os.query.AreaManager.FULL_INCLUSION_STYLE.stroke.color=os.settings.get(os.query.AreaManager.KEYS.IN_COLOR,os.query.AreaManager.DEFAULT.IN_COLOR);os.query.AreaManager.FULL_INCLUSION_STYLE.stroke.width=parseInt(os.settings.get(os.query.AreaManager.KEYS.IN_WIDTH,os.query.AreaManager.DEFAULT.IN_WIDTH),10);os.query.AreaManager.FULL_EXCLUSION_STYLE.stroke.color=os.settings.get(os.query.AreaManager.KEYS.EX_COLOR,
os.query.AreaManager.DEFAULT.EX_COLOR);os.query.AreaManager.FULL_EXCLUSION_STYLE.stroke.width=parseInt(os.settings.get(os.query.AreaManager.KEYS.EX_WIDTH,os.query.AreaManager.DEFAULT.EX_WIDTH),10);os.settings.listen(os.query.AreaManager.KEYS.IN_COLOR,this.updateInColor_,!1,this);os.settings.listen(os.query.AreaManager.KEYS.IN_WIDTH,this.updateInWidth_,!1,this);os.settings.listen(os.query.AreaManager.KEYS.EX_COLOR,this.updateExColor_,!1,this);os.settings.listen(os.query.AreaManager.KEYS.EX_WIDTH,this.updateExWidth_,
!1,this);os.proj.switch.SwitchProjection.getInstance().listen(os.proj.switch.CommandListEvent.TYPE,this.onSwitchProjection,!1,this)};goog.inherits(os.query.AreaManager,os.ui.query.AreaManager);goog.addSingletonGetter(os.query.AreaManager);goog.object.extend(os.ui.query.AreaManager,{getInstance:function(){return os.query.AreaManager.getInstance()}});os.query.AreaManager.BASE_KEY="os.area.";
os.query.AreaManager.KEYS={IN_COLOR:os.query.AreaManager.BASE_KEY+"inColor",IN_WIDTH:os.query.AreaManager.BASE_KEY+"inWidth",EX_COLOR:os.query.AreaManager.BASE_KEY+"exColor",EX_WIDTH:os.query.AreaManager.BASE_KEY+"exWidth"};os.query.AreaManager.DEFAULT={IN_COLOR:"rgba(255,255,0,1)",IN_WIDTH:"2",EX_COLOR:"rgba(255,0,0,1)",EX_WIDTH:"2"};os.query.AreaManager.DEFAULT_AREA_STYLE={stroke:{color:"rgba(136,136,136,1)",lineCap:"square",width:2}};
os.query.AreaManager.FULL_INCLUSION_STYLE={stroke:{color:"rgba(255,255,0,1)",lineCap:"square",width:2}};os.query.AreaManager.FULL_EXCLUSION_STYLE={stroke:{color:"rgba(255,0,0,1)",lineCap:"square",width:2}};os.query.AreaManager.HIGHLIGHT_STYLE={fill:{color:"rgba(0,255,255,0.15)"},stroke:{color:"rgba(0,255,255,1)",lineCap:"square",width:2}};os.query.AreaManager.prototype.getMap=function(){return os.MapContainer.getInstance()};
os.query.AreaManager.prototype.load=function(){return this.getStoredAreas().addCallback(function(a){a&&this.bulkAdd(a,!1)},this)};os.query.AreaManager.prototype.save=function(){var a=new ol.format.GeoJSON,b=this.getAll().filter(os.ui.query.AreaManager.filterTemp).map(os.query.AreaManager.mapOriginalGeoms);a=a.writeFeaturesObject(b,{featureProjection:os.map.PROJECTION});os.settings.set(os.AREA_STORAGE_KEY,a);return goog.async.Deferred.succeed()};
os.query.AreaManager.mapOriginalGeoms=function(a){var b=a.get(os.interpolate.ORIGINAL_GEOM_FIELD);b&&(a=a.clone(),a.setGeometry(b),a.set(os.interpolate.ORIGINAL_GEOM_FIELD,void 0));return a};os.query.AreaManager.prototype.setDefaultStyle=function(a){a.set(os.style.StyleType.HIGHLIGHT,void 0,!0);a.set(os.style.StyleType.FEATURE,os.query.AreaManager.DEFAULT_AREA_STYLE,!0);os.style.setFeatureStyle(a)};
os.query.AreaManager.prototype.updateStyle=function(a,b){var c=!1,d=os.query.AreaManager.FULL_INCLUSION_STYLE,e=os.query.AreaManager.FULL_EXCLUSION_STYLE,f=os.ui.queryManager.getEntries(null,a.getId()),g=void 0,h=os.MapContainer.getInstance().getLayer(os.MapContainer.DRAW_ID).getSource();f&&0<f.length&&(g=f[0].includeArea?d:e);d=a.get(os.style.StyleType.SELECT);e=a.getId();d!==g&&e&&(a.set(os.style.StyleType.SELECT,g),os.style.setFeatureStyle(a),h.getFeatureById(e)&&(h.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.CHANGEFEATURE,
a)),c=!0));c&&!b&&h.changed();return c};os.query.AreaManager.prototype.redraw=function(a){var b=os.MapContainer.getInstance().getLayer(os.MapContainer.DRAW_ID).getSource(),c=a.getId();c&&b.getFeatureById(c)&&b.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.CHANGEFEATURE,a));b.changed()};os.query.AreaManager.prototype.unhighlight=function(a){this.highlightFeature&&(os.MapContainer.getInstance().removeFeature(this.highlightFeature),this.highlightFeature=void 0)};
os.query.AreaManager.prototype.highlight=function(a){this.highlightFeature&&(os.MapContainer.getInstance().removeFeature(this.highlightFeature),this.highlightFeature=void 0);var b=this.get(a);a=os.MapContainer.getInstance();b&&a.containsFeature(b)&&(b=b.getGeometry())&&(b=new ol.Feature(b.clone()),b.set(os.data.RecordField.DRAWING_LAYER_NODE,!1),this.highlightFeature=a.addFeature(b,os.query.AreaManager.HIGHLIGHT_STYLE))};
os.query.AreaManager.prototype.addInternal=function(a,b){if(a&&!a.get(os.interpolate.METHOD_FIELD)){var c=a.get(os.interpolate.ORIGINAL_GEOM_FIELD)||a.getGeometry(),d=!1;if(c instanceof ol.geom.Polygon){var e=c.getCoordinates();1==e.length&&os.geo.isRectangular(e[0],c.getExtent())&&(a.set(os.interpolate.METHOD_FIELD,os.interpolate.Method.RHUMB,!0),d=!0)}d||a.set(os.interpolate.METHOD_FIELD,os.interpolate.getMethod(),!0);os.query.isWorldQuery(c)&&a.set(os.interpolate.METHOD_FIELD,os.interpolate.Method.NONE)}return os.query.AreaManager.superClass_.addInternal.call(this,
a,b)?(a.enableEvents(),!0):!1};os.query.AreaManager.prototype.normalizeGeometry=function(a){var b=a.getGeometry();b.get(os.geom.GeometryField.NORMALIZED)||(b.toLonLat(),os.geo.normalizeGeometryCoordinates(b),b.osTransform(),a.setGeometry(b))};os.query.AreaManager.prototype.toRgbaString=function(a){return ol.color.asString(goog.isString(a)?os.color.toRgbArray(a):a)};
os.query.AreaManager.prototype.updateInColor_=function(a){a.newVal&&this.toRgbaString(a.newVal)!=os.query.AreaManager.FULL_INCLUSION_STYLE.stroke.color&&(os.query.AreaManager.FULL_INCLUSION_STYLE.stroke.color=this.toRgbaString(a.newVal),this.redrawQueryAreas_())};os.query.AreaManager.prototype.updateInWidth_=function(a){a.newVal&&a.newVal!=os.query.AreaManager.FULL_INCLUSION_STYLE.stroke.width&&(os.query.AreaManager.FULL_INCLUSION_STYLE.stroke.width=parseInt(a.newVal,10),this.redrawQueryAreas_())};
os.query.AreaManager.prototype.updateExColor_=function(a){a.newVal&&this.toRgbaString(a.newVal)!=os.query.AreaManager.FULL_EXCLUSION_STYLE.stroke.color&&(os.query.AreaManager.FULL_EXCLUSION_STYLE.stroke.color=this.toRgbaString(a.newVal),this.redrawQueryAreas_())};os.query.AreaManager.prototype.updateExWidth_=function(a){a.newVal&&a.newVal!=os.query.AreaManager.FULL_EXCLUSION_STYLE.stroke.width&&(os.query.AreaManager.FULL_EXCLUSION_STYLE.stroke.width=parseInt(a.newVal,10),this.redrawQueryAreas_())};
os.query.AreaManager.prototype.redrawQueryAreas_=function(){var a=this.getAll();goog.array.forEach(a,function(a){if(goog.isDefAndNotNull(a.getStyle())){var b=os.ui.query.QueryManager.getInstance().getEntries(null,a.getId());b&&0<b.length&&(b=b[0].includeArea?goog.object.unsafeClone(os.query.AreaManager.FULL_INCLUSION_STYLE):goog.object.unsafeClone(os.query.AreaManager.FULL_EXCLUSION_STYLE),a.set(os.style.StyleType.SELECT,b),os.style.setFeatureStyle(a),this.redraw(a))}},this)};
os.query.AreaManager.prototype.onSwitchProjection=function(a){var b=os.proj.switch.SwitchProjection.getInstance(),c=b.getOldProjection();b=b.getNewProjection();c&&b&&a.commands.push(new os.command.TransformAreas(c,b))};os.ui.config.SettingsManagerEventType={SELECTED_CHANGE:"settingsmanager:selectedchange",SETTING_ADDED:"settingsmanager:pluginadded"};os.ui.config.SettingsManagerEvent=function(a,b){goog.events.Event.call(this,a);this.plugin=b||null};goog.inherits(os.ui.config.SettingsManagerEvent,goog.events.Event);os.ui.config.SettingsManager=function(){goog.events.EventTarget.call(this);this.log=os.ui.config.SettingsManager.LOGGER_;this.settingsModels_={};this.selected_=null;this.root_=new os.ui.slick.SlickTreeNode};goog.inherits(os.ui.config.SettingsManager,goog.events.EventTarget);goog.addSingletonGetter(os.ui.config.SettingsManager);os.ui.config.SettingsManager.LOGGER_=goog.log.getLogger("os.ui.config.SettingsManager");
os.ui.config.SettingsManager.prototype.addSettingPlugin=function(a){var b=a.getId();b in this.settingsModels_||(this.settingsModels_[b]=a,this.addPluginToTree_(a),a=new os.ui.config.SettingsManagerEvent(os.ui.config.SettingsManagerEventType.SETTING_ADDED,a),this.dispatchEvent(a))};os.ui.config.SettingsManager.prototype.getChildren=function(){var a=this.root_.getChildren();return a?(a=a.slice(),goog.array.sort(a,function(a,c){return goog.array.defaultCompare(a.getLabel(),c.getLabel())}),a):[]};
os.ui.config.SettingsManager.prototype.getSelected=function(){return this.selected_};os.ui.config.SettingsManager.prototype.setSelected=function(a){this.selected_=a};os.ui.config.SettingsManager.prototype.setSelectedPlugin=function(a){if(a=this.settingsModels_[a]){var b=a.getLabel();if(b=this.root_.find("label",b))this.selected_=b,a=new os.ui.config.SettingsManagerEvent(os.ui.config.SettingsManagerEventType.SELECTED_CHANGE,a),this.dispatchEvent(a)}};
os.ui.config.SettingsManager.prototype.initSelection=function(){for(var a=null,b=this.getChildren();b&&0<b.length;)a=b[0],b=a.getChildren();this.setSelected(a);return a};os.ui.config.SettingsManager.prototype.exportSettings=function(){};os.ui.config.SettingsManager.prototype.importSettings=function(){};
os.ui.config.SettingsManager.prototype.addPluginToTree_=function(a){try{var b=a.getLeafNode();if(!this.root_.find("label",b.getLabel())){var c=this.root_,d=a.getCategories();a=0;for(var e=d.length;a<e;a++){var f=d[a],g=this.root_.find("label",f);if(!g){var h=new os.ui.config.SettingNode,k=new os.ui.config.SettingPlugin;k.setIcon("fa fa-folder");k.setLabel(f);h.setModel(k);h.collapsed=!1;c.addChild(h);g=h}c=g}c.addChild(b)}}catch(l){}};os.ogc.IFeatureType=function(){};os.ogc.wfs={};os.ogc.wfs.FeatureType=function(a,b,c){this.geometryColumnName_=this.columns_=null;this.isDynamic_=!1;this.typeName_=this.endDateColumnName_=this.startDateColumnName_=null;a&&(b=goog.isDefAndNotNull(b)?b:[],b.sort(os.ogc.wfs.FeatureType.sortColumns),c=goog.isDef(c)?c:!1,this.init(a,b,c))};os.ogc.wfs.FeatureType.sortColumns=function(a,b){return goog.string.numerateCompare(a.name,b.name)};os.ogc.wfs.FeatureType.NAME="os.ogc.wfs.FeatureType";
os.registerClass(os.ogc.wfs.FeatureType.NAME,os.ogc.wfs.FeatureType);os.ogc.wfs.FeatureType.START_TIME_NAMES_=["up","start","begin"];os.ogc.wfs.FeatureType.END_TIME_NAMES_=["down","stop","end"];os.ogc.wfs.FeatureType.TIME_COLUMNS_={};os.ogc.wfs.FeatureType.prototype.getTypeName=function(){return this.typeName_};
os.ogc.wfs.FeatureType.prototype.setTypeName=function(a){(this.typeName_=a)&&this.typeName_&&(a=this.getColumns()||[],a.sort(os.ogc.wfs.FeatureType.sortColumns),this.init(this.typeName_,a,this.isDynamic_))};os.ogc.wfs.FeatureType.prototype.getTimeColumns=function(){return goog.array.filter(this.columns_,os.ogc.wfs.FeatureType.filterTime)};os.ogc.wfs.FeatureType.prototype.getGeometryColumnName=function(){return this.geometryColumnName_};
os.ogc.wfs.FeatureType.prototype.setGeometryColumnName=function(a){this.geometryColumnName_=a};os.ogc.wfs.FeatureType.prototype.getStartDateColumnName=function(){return this.startDateColumnName_||!this.isDynamic_?this.startDateColumnName_:"validTime"};os.ogc.wfs.FeatureType.prototype.setStartDateColumnName=function(a){this.startDateColumnName_=a};os.ogc.wfs.FeatureType.prototype.getEndDateColumnName=function(){return this.startDateColumnName_&&this.endDateColumnName_?this.endDateColumnName_:this.getStartDateColumnName()};
os.ogc.wfs.FeatureType.prototype.setEndDateColumnName=function(a){this.endDateColumnName_=a};os.ogc.wfs.FeatureType.prototype.getColumns=function(){return this.columns_};os.ogc.wfs.FeatureType.prototype.setColumns=function(a){this.columns_=a};os.ogc.wfs.FeatureType.prototype.getNeedsTimeColumns=function(){return!this.isDynamic_&&1<this.getTimeColumns().length&&(!this.startDateColumnName_||!this.endDateColumnName_)};
os.ogc.wfs.FeatureType.prototype.init=function(a,b,c){this.typeName_=a;this.columns_=b;this.isDynamic_=c;c=a=null;for(var d="_",e=b.length;e--;){var f=b[e],g=f.name;f=f.type;var h=g.toLowerCase(),k=f.toLowerCase();goog.string.contains(f,"gml")?this.geometryColumnName_=g:!a&&os.ogc.wfs.FeatureType.isDateTime(k)&&this.isStartDate(h)?a=g:!c&&os.ogc.wfs.FeatureType.isDateTime(k)&&this.isEndDate(h)?c=g:os.ogc.wfs.FeatureType.isFieldIgnored(g)&&this.columns_.splice(e,1);a&&c&&(this.startDateColumnName_=
a,this.endDateColumnName_=c);os.ogc.wfs.FeatureType.isDateTime(k)&&(d="_"==d?g:null)}!this.startDateColumnName_&&d&&"_"!=d&&(this.startDateColumnName_=d)};
os.ogc.wfs.FeatureType.prototype.isStartDate=function(a){if(this.typeName_&&this.typeName_ in os.ogc.wfs.FeatureType.TIME_COLUMNS_)return os.ogc.wfs.FeatureType.TIME_COLUMNS_[this.typeName_][0].toLowerCase()==a;for(var b=os.ogc.wfs.FeatureType.START_TIME_NAMES_.length;b--;)if(goog.string.contains(a,os.ogc.wfs.FeatureType.START_TIME_NAMES_[b]))return!0;return!1};
os.ogc.wfs.FeatureType.prototype.isEndDate=function(a){if(this.typeName_&&this.typeName_ in os.ogc.wfs.FeatureType.TIME_COLUMNS_)return os.ogc.wfs.FeatureType.TIME_COLUMNS_[this.typeName_][1].toLowerCase()==a;for(var b=os.ogc.wfs.FeatureType.END_TIME_NAMES_.length;b--;)if(goog.string.contains(a,os.ogc.wfs.FeatureType.END_TIME_NAMES_[b]))return!0;return!1};
os.ogc.wfs.FeatureType.prototype.persist=function(a){a=a||{};a.featureTypeUser={startDateColumnName:this.getStartDateColumnName(),endDateColumnName:this.getEndDateColumnName()};return a};os.ogc.wfs.FeatureType.prototype.restore=function(a){a.featureTypeUser&&(this.columnExists(a.featureTypeUser.startDateColumnName)&&this.setStartDateColumnName(a.featureTypeUser.startDateColumnName),this.columnExists(a.featureTypeUser.endDateColumnName)&&this.setEndDateColumnName(a.featureTypeUser.endDateColumnName))};
os.ogc.wfs.FeatureType.prototype.columnExists=function(a){if(a&&this.columns_&&0<this.columns_.length)for(var b=0;b<this.columns_.length;b+=1)if(this.columns_[b]&&this.columns_[b].name===a)return!0;return!1};os.ogc.wfs.FeatureType.isDateTime=function(a){return goog.string.contains(a,"datetime")};os.ogc.wfs.FeatureType.filterTime=function(a,b,c){return os.ogc.wfs.FeatureType.isDateTime(a.type.toLowerCase())};
os.ogc.wfs.FeatureType.setTimeColumns=function(a,b,c){goog.object.set(os.ogc.wfs.FeatureType.TIME_COLUMNS_,a,[b,c])};os.ogc.wfs.FeatureType.removeTimeColumns=function(a){goog.object.remove(os.ogc.wfs.FeatureType.TIME_COLUMNS_,a)};os.ogc.wfs.FeatureType.clearTimeColumns=function(a){goog.object.clear(os.ogc.wfs.FeatureType.TIME_COLUMNS_)};os.ogc.wfs.FeatureType.IGNORED_FIELDS=["ID","DATE_TIME"];
os.ogc.wfs.FeatureType.isFieldIgnored=function(a){return goog.array.contains(os.ogc.wfs.FeatureType.IGNORED_FIELDS,a)};os.ogc.wfs.DescribeFeatureTypeParser=function(){this.types_=null};os.ogc.wfs.DescribeFeatureTypeParser.prototype.parse=function(a){var b=[];a=goog.dom.xml.loadXml(a);if(a=this.getRootNode_(a)){this.types_||this.loadTypes_(a);a=0;for(var c=this.types_.length;a<c;a++){var d=this.parseType_(this.types_[a]);d&&b.push(d)}}return b};
os.ogc.wfs.DescribeFeatureTypeParser.prototype.getRootNode_=function(a){for(a=goog.dom.getFirstElementChild(a);!goog.isNull(a);a=a.nextSibling)if(a.nodeType==goog.dom.NodeType.ELEMENT)return a;return null};
os.ogc.wfs.DescribeFeatureTypeParser.prototype.loadTypes_=function(a){this.types_=[];var b=[],c=[];for(a=goog.dom.getFirstElementChild(a);!goog.isNull(a);a=a.nextSibling)a.nodeType==goog.dom.NodeType.ELEMENT&&("element"==a.localName?b.push(a):"complexType"==a.localName&&c.push(a));var d=0;for(a=b.length;d<a;d++){var e=b[d],f=null;if(e.getAttribute("name")){var g=e.getAttribute("type");if(g){var h=g.indexOf(":");-1!=h&&(g=g.substr(h+1));h=0;for(var k=c.length;h<k;h++){var l=c[h];if(g==l.getAttribute("name")){f=
l;break}}}}e&&f&&this.types_.push({element:e,complex:f})}return c};os.ogc.wfs.DescribeFeatureTypeParser.TYPES_={decimal:/^double$/i,integer:/^(int|long)$/i,string:/^bool(ean)?$/i};
os.ogc.wfs.DescribeFeatureTypeParser.prototype.parseType_=function(a){var b=null,c=a.complex;a=a.element.getAttribute("name");var d=!1,e=c.querySelector("extension");e&&"gml:DynamicFeatureType"==e.getAttribute("base")&&(d=!0);c=c.querySelectorAll("element");e=[];for(var f=0,g=c.length;f<g;f++){var h=c[f],k=h.getAttribute("name"),l=h.getAttribute("type");l||(h=h.querySelector("simpleType"))&&(h=h.querySelector("restriction"))&&(l=h.getAttribute("base"));if(k&&l){h=l.indexOf(":");-1<h&&-1===l.indexOf("gml:")&&
(l=l.substring(h+1));h=os.ogc.wfs.DescribeFeatureTypeParser.TYPES_;for(var m in h)h[m].test(l)&&(l=m);e.push({name:k,type:l})}}a&&(b=new os.ogc.wfs.FeatureType(a,e,d));return b};os.ogc.wfs.DescribeFeatureLoader=function(){goog.events.EventTarget.call(this);this.featureType_=null;this.params_=new goog.Uri.QueryData;this.url_=this.typename_=this.request_=null};goog.inherits(os.ogc.wfs.DescribeFeatureLoader,goog.events.EventTarget);os.ogc.wfs.DescribeFeatureLoader.LOGGER_=goog.log.getLogger("os.ogc.wfs.DescribeFeatureLoader");os.ogc.wfs.DescribeFeatureLoader.prototype.getUrl=function(){return this.url_};
os.ogc.wfs.DescribeFeatureLoader.prototype.setUrl=function(a){var b=a.indexOf("?");-1<b?(this.url_=a.substring(0,b),this.typename_||(a=new goog.Uri.QueryData(a.substring(b+1),void 0,!1),a.setIgnoreCase(!0),a.containsKey("typename")&&(this.typename_=a.get("typename")))):this.url_=a};os.ogc.wfs.DescribeFeatureLoader.prototype.getTypename=function(){return this.typename_};os.ogc.wfs.DescribeFeatureLoader.prototype.setTypename=function(a){this.typename_=a};
os.ogc.wfs.DescribeFeatureLoader.prototype.setParams=function(a){this.params_=a};os.ogc.wfs.DescribeFeatureLoader.prototype.getFeatureType=function(){return this.featureType_};
os.ogc.wfs.DescribeFeatureLoader.prototype.load=function(){if(this.typename_&&this.url_){this.params_.containsKey("SERVICE")||this.params_.set("SERVICE","WFS");this.params_.containsKey("VERSION")||this.params_.set("VERSION","1.1.0");this.params_.containsKey("TYPENAME")||this.params_.set("TYPENAME",this.typename_);this.params_.set("REQUEST","DescribeFeatureType");var a=new goog.Uri(this.url_);a.setQueryData(this.params_);this.request_=new os.net.Request(a);this.request_.listen(goog.net.EventType.SUCCESS,
this.onDescribeComplete_,!1,this);this.request_.listen(goog.net.EventType.ERROR,this.onDescribeError_,!1,this);this.request_.setValidator(os.ogc.getException);goog.log.info(os.ogc.wfs.DescribeFeatureLoader.LOGGER_,'Loading DescribeFeatureType for "'+this.typename_+'" on '+this.url_);this.request_.load()}else this.dispatchEvent(new goog.events.Event(goog.net.EventType.COMPLETE)),goog.log.error(os.ogc.wfs.DescribeFeatureLoader.LOGGER_,"DescribeFeatureType missing url and/or typename!")};
os.ogc.wfs.DescribeFeatureLoader.prototype.onDescribeComplete_=function(a){a=a.target;a.removeAllListeners();a=a.getResponse();(a=(new os.ogc.wfs.DescribeFeatureTypeParser).parse(a))&&0<a.length?this.featureType_=a[0]:goog.log.error(os.ogc.wfs.DescribeFeatureLoader.LOGGER_,'Unable to parse DescribeFeatureType for "'+this.typename_+'" on '+this.url_+"!");this.dispatchEvent(new goog.events.Event(goog.net.EventType.COMPLETE))};
os.ogc.wfs.DescribeFeatureLoader.prototype.onDescribeError_=function(a){a.target.removeAllListeners();goog.log.error(os.ogc.wfs.DescribeFeatureLoader.LOGGER_,'Failed to load DescribeFeatureType for "'+this.typename_+'" on '+this.url_+"!");this.dispatchEvent(new goog.events.Event(goog.net.EventType.COMPLETE))};os.data.IServerDescriptor=function(){};os.ui.ogc={};os.ui.ogc.wms={};os.ui.ogc.wms.IWMSLayer=function(){};os.ui.ogc.wms.IWMSLayer.prototype.getSupportedCRS=goog.abstractMethod;os.ui.ogc.IOGCDescriptor=function(){};os.ui.ogc.IOGCDescriptor.ID="os.ui.ogc.IOGCDescriptor";os.ui.ogc.OGCDescriptor=function(){os.data.BaseDescriptor.call(this);this.legends_=this.featureType_=this.dimensions_=this.describeCallback_=this.bbox_=this.attribution_=null;this.opaque_=!1;this.styles_=null;this.wfsEnabled_=this.usePost_=!1;this.wfsFormats_=this.wfsUrl_=this.wfsNameSpace_=this.wfsName_=null;this.wmsEnabled_=!1;this.wmsSupportedCRS_=this.wmsVersion_=this.wmsUrl_=this.wmsTimeFormat_=this.wmsParams_=this.wmsDateFormat_=this.wmsName_=null;this.deprecated_=!1;this.descriptorType=os.ogc.ID};
goog.inherits(os.ui.ogc.OGCDescriptor,os.data.BaseDescriptor);os.implements(os.ui.ogc.OGCDescriptor,os.filter.IFilterable.ID);os.implements(os.ui.ogc.OGCDescriptor,os.ui.ogc.IOGCDescriptor.ID);os.ui.ogc.OGCDescriptor.prototype.getSearchType=function(){return"Layer"};os.ui.ogc.OGCDescriptor.prototype.getType=function(){return null};os.ui.ogc.OGCDescriptor.prototype.getIcons=function(){return""};os.ui.ogc.OGCDescriptor.prototype.getAbstract=function(){return this.getDescription()};
os.ui.ogc.OGCDescriptor.prototype.setAbstract=function(a){this.setDescription(a)};os.ui.ogc.OGCDescriptor.prototype.setActive=function(a){if(this.isWmsEnabled()||this.isWfsEnabled())os.ui.ogc.OGCDescriptor.superClass_.setActive.call(this,a);else this.onDescriptorReady()};os.ui.ogc.OGCDescriptor.prototype.getAliases=function(){return[this.getId()]};os.ui.ogc.OGCDescriptor.prototype.getAttribution=function(){return this.attribution_};
os.ui.ogc.OGCDescriptor.prototype.setAttribution=function(a){this.attribution_=a};os.ui.ogc.OGCDescriptor.prototype.getStyles=function(){return this.styles_};os.ui.ogc.OGCDescriptor.prototype.setStyles=function(a){this.styles_=a};os.ui.ogc.OGCDescriptor.prototype.getOpaque=function(){return this.opaque_};os.ui.ogc.OGCDescriptor.prototype.setOpaque=function(a){this.opaque_=a};os.ui.ogc.OGCDescriptor.prototype.getDimensions=function(){return this.dimensions_};
os.ui.ogc.OGCDescriptor.prototype.setDimensions=function(a){this.dimensions_=a};os.ui.ogc.OGCDescriptor.prototype.getBBox=function(){return this.bbox_};os.ui.ogc.OGCDescriptor.prototype.setBBox=function(a){this.bbox_=a};os.ui.ogc.OGCDescriptor.prototype.getKeywords=function(){return this.getTags()};os.ui.ogc.OGCDescriptor.prototype.setKeywords=function(a){this.setTags(a)};os.ui.ogc.OGCDescriptor.prototype.getLegends=function(){return this.legends_};
os.ui.ogc.OGCDescriptor.prototype.setLegends=function(a){this.legends_=a};os.ui.ogc.OGCDescriptor.prototype.getFeatureType=function(){return this.featureType_};os.ui.ogc.OGCDescriptor.prototype.isWfsEnabled=function(){return this.wfsEnabled_};os.ui.ogc.OGCDescriptor.prototype.setWfsEnabled=function(a){this.wfsEnabled_=a};os.ui.ogc.OGCDescriptor.prototype.getWfsName=function(){return this.wfsName_};os.ui.ogc.OGCDescriptor.prototype.setWfsName=function(a){this.wfsName_=a};
os.ui.ogc.OGCDescriptor.prototype.getWfsNamespace=function(){return this.wfsNameSpace_};os.ui.ogc.OGCDescriptor.prototype.setWfsNamespace=function(a){this.wfsNameSpace_=a};os.ui.ogc.OGCDescriptor.prototype.getWfsUrl=function(){return this.wfsUrl_};os.ui.ogc.OGCDescriptor.prototype.setWfsUrl=function(a){this.wfsUrl_=a};os.ui.ogc.OGCDescriptor.prototype.getWfsFormats=function(){return this.wfsFormats_};os.ui.ogc.OGCDescriptor.prototype.setWfsFormats=function(a){this.wfsFormats_=a};
os.ui.ogc.OGCDescriptor.prototype.isWmsEnabled=function(){return this.wmsEnabled_};os.ui.ogc.OGCDescriptor.prototype.setWmsEnabled=function(a){this.wmsEnabled_=a};os.ui.ogc.OGCDescriptor.prototype.setWmsVersion=function(a){this.wmsVersion_=a};os.ui.ogc.OGCDescriptor.prototype.getWmsVersion=function(){return this.wmsVersion_||ol.DEFAULT_WMS_VERSION};os.ui.ogc.OGCDescriptor.prototype.getWmsDateFormat=function(){return this.wmsDateFormat_};
os.ui.ogc.OGCDescriptor.prototype.setWmsDateFormat=function(a){this.wmsDateFormat_=a};os.ui.ogc.OGCDescriptor.prototype.getWmsParams=function(){return this.wmsParams_};os.ui.ogc.OGCDescriptor.prototype.setWmsParams=function(a){this.wmsParams_=a};os.ui.ogc.OGCDescriptor.prototype.getWmsName=function(){return this.wmsName_};os.ui.ogc.OGCDescriptor.prototype.setWmsName=function(a){this.wmsName_=a};os.ui.ogc.OGCDescriptor.prototype.getWmsTimeFormat=function(){return this.wmsTimeFormat_};
os.ui.ogc.OGCDescriptor.prototype.setWmsTimeFormat=function(a){this.wmsTimeFormat_=a};os.ui.ogc.OGCDescriptor.prototype.getWmsUrl=function(){return this.wmsUrl_};os.ui.ogc.OGCDescriptor.prototype.setWmsUrl=function(a){this.wmsUrl_=a};os.ui.ogc.OGCDescriptor.prototype.getUsePost=function(){return this.usePost_};os.ui.ogc.OGCDescriptor.prototype.setUsePost=function(a){this.usePost_=a};os.ui.ogc.OGCDescriptor.prototype.getUrlKey=function(){return this.wfsUrl_+"!!"+this.wfsName_};
os.ui.ogc.OGCDescriptor.prototype.getDeprecated=function(){return this.deprecated_};os.ui.ogc.OGCDescriptor.prototype.setDeprecated=function(a){this.deprecated_=a};os.ui.ogc.OGCDescriptor.prototype.addDimension=function(a,b){null==this.dimensions_&&(this.dimensions_={});this.dimensions_[a]=b;"time"==a&&(b=b.split("/"),1<b.length?(a=(new Date(b[0])).getTime(),b=(new Date(b[1])).getTime(),this.setMinDate(Math.min(b,a)),this.setMaxDate(Math.max(b,a))):(this.setMinDate(NaN),this.setMaxDate(NaN)))};
os.ui.ogc.OGCDescriptor.prototype.isFeatureTypeReady=function(){return this.isWfsEnabled()&&null==this.featureType_?(this.loadWFSDescribeFeature_(),!1):!0};os.ui.ogc.OGCDescriptor.prototype.isFolder=function(){return!1};os.ui.ogc.OGCDescriptor.prototype.isBaseLayer=function(){return this.opaque_};
os.ui.ogc.OGCDescriptor.prototype.hasTimeExtent=function(){return goog.isDefAndNotNull(this.dimensions_)&&"time"in this.dimensions_||goog.isDefAndNotNull(this.featureType_)&&(null!=this.featureType_.getStartDateColumnName()||null!=this.featureType_.getEndDateColumnName())};os.ui.ogc.OGCDescriptor.prototype.updatedFromServer=function(){this.setDeleteTime(NaN);this.updateActiveFromTemp()};
os.ui.ogc.OGCDescriptor.prototype.parseBBox=function(a,b){b=b||a.CRS;var c=parseFloat(a.minx),d=parseFloat(a.miny),e=parseFloat(a.maxx);a=parseFloat(a.maxy);this.bbox_="EPSG:4326"==b?[c,d,e,a]:[d,c,a,e]};os.ui.ogc.OGCDescriptor.prototype.loadWFSDescribeFeature_=function(){var a=new os.ogc.wfs.DescribeFeatureLoader;a.setUrl(this.getWfsUrl());a.setTypename(this.getWfsName());a.listenOnce(goog.net.EventType.COMPLETE,this.onDescribeComplete_,!1,this);a.load()};
os.ui.ogc.OGCDescriptor.prototype.onDescribeComplete_=function(a){(a=a.target.getFeatureType())?this.featureType_=a:(this.setWfsEnabled(!1),a="Failed loading DescribeFeatureType for "+this.getWfsName()+". Features related to this layer may not work!",os.alert.AlertManager.getInstance().sendAlert(a,os.alert.AlertEventSeverity.ERROR));this.describeCallback_&&(this.describeCallback_(),this.describeCallback_=null)};
os.ui.ogc.OGCDescriptor.prototype.setDescribeCallback=function(a){this.describeCallback_=a};os.ui.ogc.OGCDescriptor.prototype.getLayerName=function(){var a=this.wfsName_;if(this.wfsName_){var b=a.indexOf(":")+1;a=a.substring(b)}return a};os.ui.ogc.OGCDescriptor.prototype.isFilterable=function(){return!0};os.ui.ogc.OGCDescriptor.prototype.getFilterKey=function(){return this.getUrlKey()};os.ui.ogc.OGCDescriptor.prototype.launchFilterManager=function(){};
os.ui.ogc.OGCDescriptor.prototype.getFilterColumns=function(){return this.featureType_?this.featureType_.getColumns():null};os.ui.ogc.OGCDescriptor.prototype.getSupportedCRS=function(){return this.wmsSupportedCRS_};os.ui.ogc.OGCDescriptor.prototype.setSupportedCRS=function(a){this.wmsSupportedCRS_=a};var test={os:{}};test.os.config={};test.os.config.SettingsUtil={};test.os.config.SettingsUtil.initAndLoad=function(a){runs(function(){a.init()});waitsFor(function(){return a.isInitialized()},"settings to init");runs(function(){a.load()});waitsFor(function(){return a.isLoaded()},"settings to load")};os.mock={};angular.element(document.body).append('<div id="map-container"></div');
beforeEach(function(){os.config.appNs="unittest";os.net.RequestHandlerFactory.addHandler(os.net.ExtDomainHandler);os.net.RequestHandlerFactory.addHandler(os.net.SameDomainHandler);angular.mock.module("ngSanitize");os.dispatcher||(os.dispatcher=new goog.events.EventTarget);os.ui.injector||inject(function(a){os.ui.injector=a});os.settings.isLoaded()&&os.settings.isInitialized()||(os.settings.getStorageRegistry().addStorage(new os.config.storage.SettingsObjectStorage(["unit"])),test.os.config.SettingsUtil.initAndLoad(os.settings),
waitsFor(function(){return os.settings.isLoaded()&&os.settings.isInitialized()}));os.interpolate.enabled_=!1;runs(function(){os.settings.get("maxFeatures.2d")||os.settings.set("maxFeatures.2d",5E4);os.settings.get("maxFeatures.3d")||os.settings.set("maxFeatures.3d",15E4);os.dataManager&&os.osDataManager||(os.dataManager=os.osDataManager=os.data.OSDataManager.getInstance(),os.dataManager.registerDescriptorType(os.ogc.ID,os.ui.ogc.OGCDescriptor));os.areaManager||(os.areaManager=os.ui.areaManager=os.query.AreaManager.getInstance());
os.filterManager||(os.filterManager=os.ui.filterManager=os.query.FilterManager.getInstance());os.queryManager||(os.queryManager=os.ui.queryManager=os.query.QueryManager.getInstance());os.styleManager||(os.styleManager=os.style.StyleManager.getInstance());var a=os.MapContainer.getInstance();a.getMap()||a.init();os.settingsManager||(os.settingsManager=os.ui.config.SettingsManager.getInstance())})});
os.mock.getMockMappingManager=function(){var a=new os.im.mapping.MappingManager;a.registerMapping(new os.im.mapping.time.DateTimeMapping(os.im.mapping.TimeType.INSTANT));a.registerMapping(new os.im.mapping.time.DateMapping(os.im.mapping.TimeType.INSTANT));a.registerMapping(new os.im.mapping.time.TimeMapping(os.im.mapping.TimeType.INSTANT));a.registerMapping(new os.im.mapping.time.DateTimeMapping(os.im.mapping.TimeType.START));a.registerMapping(new os.im.mapping.time.DateMapping(os.im.mapping.TimeType.START));
a.registerMapping(new os.im.mapping.time.TimeMapping(os.im.mapping.TimeType.START));a.registerMapping(new os.im.mapping.time.DateTimeMapping(os.im.mapping.TimeType.END));a.registerMapping(new os.im.mapping.time.DateMapping(os.im.mapping.TimeType.END));a.registerMapping(new os.im.mapping.time.TimeMapping(os.im.mapping.TimeType.END));a.registerMapping(new os.im.mapping.WKTMapping);a.registerMapping(new os.im.mapping.LatMapping);a.registerMapping(new os.im.mapping.LonMapping);a.registerMapping(new os.im.mapping.PositionMapping);
a.registerMapping(new os.im.mapping.AltMapping);a.registerMapping(new os.im.mapping.BearingMapping);a.registerMapping(new os.im.mapping.RadiusMapping);a.registerMapping(new os.im.mapping.OrientationMapping);a.registerMapping(new os.im.mapping.SemiMajorMapping);a.registerMapping(new os.im.mapping.SemiMinorMapping);return a};os.plugin.AbstractPlugin=function(){goog.Disposable.call(this);this.id="";this.error=null};goog.inherits(os.plugin.AbstractPlugin,goog.Disposable);os.plugin.AbstractPlugin.prototype.getId=function(){return this.id};os.plugin.AbstractPlugin.prototype.getError=function(){return this.error};os.plugin.AbstractPlugin.prototype.init=goog.abstractMethod;os.plugin.PluginManager=function(){goog.events.EventTarget.call(this);this.init_=this.ready=!1;this.initTimeoutId_=void 0;this.plugins_=[];this.initMap_={}};goog.inherits(os.plugin.PluginManager,goog.events.EventTarget);goog.addSingletonGetter(os.plugin.PluginManager);os.plugin.PluginManager.LOGGER_=goog.log.getLogger("os.plugin.PluginManager");os.plugin.PluginManager.INIT_TIMEOUT_=1E4;
os.plugin.PluginManager.prototype.disposeInternal=function(){os.plugin.PluginManager.superClass_.disposeInternal.call(this);this.plugins_.forEach(function(a){a.dispose()});this.plugins_.length=0};os.plugin.PluginManager.prototype.isPluginEnabled=function(a){return(a=os.settings.get(["plugins",a],!0))||null===a};os.plugin.PluginManager.prototype.addPlugin=function(a){this.init_?this.filterDisabled_(a)&&(this.plugins_.push(a),this.initPlugin_(a)):this.plugins_.push(a)};
os.plugin.PluginManager.prototype.initPlugin_=function(a){this.initMap_[a.getId()]=!1;goog.log.fine(os.plugin.PluginManager.LOGGER_,"Initializing plugin "+a.getId());try{var b=a.init();b?b.then(function(){goog.log.fine(os.plugin.PluginManager.LOGGER_,"Initialized plugin "+a.getId())},function(b){goog.log.warning(os.plugin.PluginManager.LOGGER_,"Error loading plugin "+a.getId()+": "+a.getError())},this).thenAlways(this.markPlugin_.bind(this,a)):this.markPlugin_(a)}catch(c){goog.log.error(os.plugin.PluginManager.LOGGER_,
"Error loading plugin "+a.getId(),c),this.markPlugin_(a)}};os.plugin.PluginManager.prototype.getPlugin=function(a){for(var b=0,c=this.plugins_.length;b<c;b++)if(this.plugins_[b].getId()==a)return this.plugins_[b];return null};
os.plugin.PluginManager.prototype.init=function(){goog.log.info(os.plugin.PluginManager.LOGGER_,"Initializing plugins ...");this.init_=!0;this.plugins_=this.plugins_.filter(this.filterDisabled_,this);if(0<this.plugins_.length){var a=os.settings.get("plugin.initTimeout",os.plugin.PluginManager.INIT_TIMEOUT_);this.initTimeoutId_=setTimeout(this.onInitTimeout_.bind(this),a);this.plugins_.forEach(this.initPlugin_,this)}else this.finish_()};
os.plugin.PluginManager.prototype.onInitTimeout_=function(){this.initTimeoutId_=void 0;var a=[],b;for(b in this.initMap_)this.initMap_[b]||a.push(b);goog.log.warning(os.plugin.PluginManager.LOGGER_,"Plugin initialization timed out for the following plugin(s): "+a.join(", "));this.finish_()};
os.plugin.PluginManager.prototype.filterDisabled_=function(a){return this.isPluginEnabled(a.getId())?!0:(goog.log.info(os.plugin.PluginManager.LOGGER_,"Plugin "+a.getId()+" is disabled and will not be added."),a.dispose(),!1)};os.plugin.PluginManager.prototype.finish_=function(){this.ready||(goog.log.info(os.plugin.PluginManager.LOGGER_,"Finished loading plugins"),null!=this.initTimeoutId_&&(clearTimeout(this.initTimeoutId_),this.initTimeoutId_=void 0),this.ready=!0,this.dispatchEvent(goog.events.EventType.LOAD))};
os.plugin.PluginManager.prototype.markPlugin_=function(a){this.initMap_[a.getId()]=!0;a=0;for(var b=this.plugins_.length;a<b;a++)if(!this.initMap_[this.plugins_[a].getId()])return;this.finish_()};os.plugin.PluginManager.prototype.isReady=function(){return this.ready};plugin.example={};plugin.example.ExamplePlugin=function(){os.plugin.AbstractPlugin.call(this);this.id=plugin.example.ID;this.errorMessage=null};goog.inherits(plugin.example.ExamplePlugin,os.plugin.AbstractPlugin);plugin.example.ID="example";plugin.example.ExamplePlugin.prototype.init=function(){var a=os.settings.get("testMessage","Default message from plugin.");alert(a)};os.plugin.PluginManager.getInstance().addPlugin(new plugin.example.ExamplePlugin);describe("plugin.example.ExamplePlugin",function(){it("should have the proper ID",function(){expect((new plugin.example.ExamplePlugin).id).toBe("example")});it("should alert the user with a message",function(){spyOn(alert);var a=new a.example.ExamplePlugin;a.init();expect(alert).toHaveBeenCalled()})});
